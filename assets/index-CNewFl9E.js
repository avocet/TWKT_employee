(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var i1={exports:{}},Nf={};var B5;function RS(){if(B5)return Nf;B5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:o}}return Nf.Fragment=e,Nf.jsx=t,Nf.jsxs=t,Nf}var F5;function LS(){return F5||(F5=1,i1.exports=RS()),i1.exports}var D=LS(),r1={exports:{}},tn={};var z5;function kS(){if(z5)return tn;z5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function b($){return $===null||typeof $!="object"?null:($=x&&$[x]||$["@@iterator"],typeof $=="function"?$:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,H={};function U($,k,K){this.props=$,this.context=k,this.refs=H,this.updater=K||V}U.prototype.isReactComponent={},U.prototype.setState=function($,k){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,k,"setState")},U.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function se(){}se.prototype=U.prototype;function Z($,k,K){this.props=$,this.context=k,this.refs=H,this.updater=K||V}var te=Z.prototype=new se;te.constructor=Z,B(te,U.prototype),te.isPureReactComponent=!0;var be=Array.isArray;function Se(){}var Y={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function R($,k,K){var J=K.ref;return{$$typeof:n,type:$,key:k,ref:J!==void 0?J:null,props:K}}function q($,k){return R($.type,k,$.props)}function N($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function O($){var k={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(K){return k[K]})}var I=/\/+/g;function oe($,k){return typeof $=="object"&&$!==null&&$.key!=null?O(""+$.key):k.toString(36)}function xe($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(Se,Se):($.status="pending",$.then(function(k){$.status==="pending"&&($.status="fulfilled",$.value=k)},function(k){$.status==="pending"&&($.status="rejected",$.reason=k)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function ae($,k,K,J,le){var ce=typeof $;(ce==="undefined"||ce==="boolean")&&($=null);var ge=!1;if($===null)ge=!0;else switch(ce){case"bigint":case"string":case"number":ge=!0;break;case"object":switch($.$$typeof){case n:case e:ge=!0;break;case v:return ge=$._init,ae(ge($._payload),k,K,J,le)}}if(ge)return le=le($),ge=J===""?"."+oe($,0):J,be(le)?(K="",ge!=null&&(K=ge.replace(I,"$&/")+"/"),ae(le,k,K,"",function(Ve){return Ve})):le!=null&&(N(le)&&(le=q(le,K+(le.key==null||$&&$.key===le.key?"":(""+le.key).replace(I,"$&/")+"/")+ge)),k.push(le)),1;ge=0;var ke=J===""?".":J+":";if(be($))for(var Re=0;Re<$.length;Re++)J=$[Re],ce=ke+oe(J,Re),ge+=ae(J,k,K,ce,le);else if(Re=b($),typeof Re=="function")for($=Re.call($),Re=0;!(J=$.next()).done;)J=J.value,ce=ke+oe(J,Re++),ge+=ae(J,k,K,ce,le);else if(ce==="object"){if(typeof $.then=="function")return ae(xe($),k,K,J,le);throw k=String($),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return ge}function pe($,k,K){if($==null)return $;var J=[],le=0;return ae($,J,"","",function(ce){return k.call(K,ce,le++)}),J}function fe($){if($._status===-1){var k=$._result;k=k(),k.then(function(K){($._status===0||$._status===-1)&&($._status=1,$._result=K)},function(K){($._status===0||$._status===-1)&&($._status=2,$._result=K)}),$._status===-1&&($._status=0,$._result=k)}if($._status===1)return $._result.default;throw $._result}var Ie=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},He={map:pe,forEach:function($,k,K){pe($,function(){k.apply(this,arguments)},K)},count:function($){var k=0;return pe($,function(){k++}),k},toArray:function($){return pe($,function(k){return k})||[]},only:function($){if(!N($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return tn.Activity=S,tn.Children=He,tn.Component=U,tn.Fragment=t,tn.Profiler=a,tn.PureComponent=Z,tn.StrictMode=r,tn.Suspense=f,tn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,tn.__COMPILER_RUNTIME={__proto__:null,c:function($){return Y.H.useMemoCache($)}},tn.cache=function($){return function(){return $.apply(null,arguments)}},tn.cacheSignal=function(){return null},tn.cloneElement=function($,k,K){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var J=B({},$.props),le=$.key;if(k!=null)for(ce in k.key!==void 0&&(le=""+k.key),k)!P.call(k,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&k.ref===void 0||(J[ce]=k[ce]);var ce=arguments.length-2;if(ce===1)J.children=K;else if(1<ce){for(var ge=Array(ce),ke=0;ke<ce;ke++)ge[ke]=arguments[ke+2];J.children=ge}return R($.type,le,J)},tn.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:o,_context:$},$},tn.createElement=function($,k,K){var J,le={},ce=null;if(k!=null)for(J in k.key!==void 0&&(ce=""+k.key),k)P.call(k,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(le[J]=k[J]);var ge=arguments.length-2;if(ge===1)le.children=K;else if(1<ge){for(var ke=Array(ge),Re=0;Re<ge;Re++)ke[Re]=arguments[Re+2];le.children=ke}if($&&$.defaultProps)for(J in ge=$.defaultProps,ge)le[J]===void 0&&(le[J]=ge[J]);return R($,ce,le)},tn.createRef=function(){return{current:null}},tn.forwardRef=function($){return{$$typeof:h,render:$}},tn.isValidElement=N,tn.lazy=function($){return{$$typeof:v,_payload:{_status:-1,_result:$},_init:fe}},tn.memo=function($,k){return{$$typeof:m,type:$,compare:k===void 0?null:k}},tn.startTransition=function($){var k=Y.T,K={};Y.T=K;try{var J=$(),le=Y.S;le!==null&&le(K,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Se,Ie)}catch(ce){Ie(ce)}finally{k!==null&&K.types!==null&&(k.types=K.types),Y.T=k}},tn.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},tn.use=function($){return Y.H.use($)},tn.useActionState=function($,k,K){return Y.H.useActionState($,k,K)},tn.useCallback=function($,k){return Y.H.useCallback($,k)},tn.useContext=function($){return Y.H.useContext($)},tn.useDebugValue=function(){},tn.useDeferredValue=function($,k){return Y.H.useDeferredValue($,k)},tn.useEffect=function($,k){return Y.H.useEffect($,k)},tn.useEffectEvent=function($){return Y.H.useEffectEvent($)},tn.useId=function(){return Y.H.useId()},tn.useImperativeHandle=function($,k,K){return Y.H.useImperativeHandle($,k,K)},tn.useInsertionEffect=function($,k){return Y.H.useInsertionEffect($,k)},tn.useLayoutEffect=function($,k){return Y.H.useLayoutEffect($,k)},tn.useMemo=function($,k){return Y.H.useMemo($,k)},tn.useOptimistic=function($,k){return Y.H.useOptimistic($,k)},tn.useReducer=function($,k,K){return Y.H.useReducer($,k,K)},tn.useRef=function($){return Y.H.useRef($)},tn.useState=function($){return Y.H.useState($)},tn.useSyncExternalStore=function($,k,K){return Y.H.useSyncExternalStore($,k,K)},tn.useTransition=function(){return Y.H.useTransition()},tn.version="19.2.4",tn}var q5;function T0(){return q5||(q5=1,r1.exports=kS()),r1.exports}var Je=T0(),s1={exports:{}},Cf={},a1={exports:{}},o1={};var H5;function DS(){return H5||(H5=1,(function(n){function e(ae,pe){var fe=ae.length;ae.push(pe);e:for(;0<fe;){var Ie=fe-1>>>1,He=ae[Ie];if(0<a(He,pe))ae[Ie]=pe,ae[fe]=He,fe=Ie;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var pe=ae[0],fe=ae.pop();if(fe!==pe){ae[0]=fe;e:for(var Ie=0,He=ae.length,$=He>>>1;Ie<$;){var k=2*(Ie+1)-1,K=ae[k],J=k+1,le=ae[J];if(0>a(K,fe))J<He&&0>a(le,K)?(ae[Ie]=le,ae[J]=fe,Ie=J):(ae[Ie]=K,ae[k]=fe,Ie=k);else if(J<He&&0>a(le,fe))ae[Ie]=le,ae[J]=fe,Ie=J;else break e}}return pe}function a(ae,pe){var fe=ae.sortIndex-pe.sortIndex;return fe!==0?fe:ae.id-pe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],v=1,S=null,x=3,b=!1,V=!1,B=!1,H=!1,U=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function te(ae){for(var pe=t(m);pe!==null;){if(pe.callback===null)r(m);else if(pe.startTime<=ae)r(m),pe.sortIndex=pe.expirationTime,e(f,pe);else break;pe=t(m)}}function be(ae){if(B=!1,te(ae),!V)if(t(f)!==null)V=!0,Se||(Se=!0,O());else{var pe=t(m);pe!==null&&xe(be,pe.startTime-ae)}}var Se=!1,Y=-1,P=5,R=-1;function q(){return H?!0:!(n.unstable_now()-R<P)}function N(){if(H=!1,Se){var ae=n.unstable_now();R=ae;var pe=!0;try{e:{V=!1,B&&(B=!1,se(Y),Y=-1),b=!0;var fe=x;try{t:{for(te(ae),S=t(f);S!==null&&!(S.expirationTime>ae&&q());){var Ie=S.callback;if(typeof Ie=="function"){S.callback=null,x=S.priorityLevel;var He=Ie(S.expirationTime<=ae);if(ae=n.unstable_now(),typeof He=="function"){S.callback=He,te(ae),pe=!0;break t}S===t(f)&&r(f),te(ae)}else r(f);S=t(f)}if(S!==null)pe=!0;else{var $=t(m);$!==null&&xe(be,$.startTime-ae),pe=!1}}break e}finally{S=null,x=fe,b=!1}pe=void 0}}finally{pe?O():Se=!1}}}var O;if(typeof Z=="function")O=function(){Z(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,oe=I.port2;I.port1.onmessage=N,O=function(){oe.postMessage(null)}}else O=function(){U(N,0)};function xe(ae,pe){Y=U(function(){ae(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(ae){switch(x){case 1:case 2:case 3:var pe=3;break;default:pe=x}var fe=x;x=pe;try{return ae()}finally{x=fe}},n.unstable_requestPaint=function(){H=!0},n.unstable_runWithPriority=function(ae,pe){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var fe=x;x=ae;try{return pe()}finally{x=fe}},n.unstable_scheduleCallback=function(ae,pe,fe){var Ie=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ie+fe:Ie):fe=Ie,ae){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=fe+He,ae={id:v++,callback:pe,priorityLevel:ae,startTime:fe,expirationTime:He,sortIndex:-1},fe>Ie?(ae.sortIndex=fe,e(m,ae),t(f)===null&&ae===t(m)&&(B?(se(Y),Y=-1):B=!0,xe(be,fe-Ie))):(ae.sortIndex=He,e(f,ae),V||b||(V=!0,Se||(Se=!0,O()))),ae},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(ae){var pe=x;return function(){var fe=x;x=pe;try{return ae.apply(this,arguments)}finally{x=fe}}}})(o1)),o1}var G5;function OS(){return G5||(G5=1,a1.exports=DS()),a1.exports}var l1={exports:{}},us={};var Y5;function PS(){if(Y5)return us;Y5=1;var n=T0();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,m,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:f,containerInfo:m,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return us.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,us.createPortal=function(f,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,v)},us.flushSync=function(f){var m=c.T,v=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=m,r.p=v,r.d.f()}},us.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},us.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},us.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var v=m.as,S=h(v,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:b}):v==="script"&&r.d.X(f,{crossOrigin:S,integrity:x,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},us.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},us.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,S=h(v,m.crossOrigin);r.d.L(f,v,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},us.preloadModule=function(f,m){if(typeof f=="string")if(m){var v=h(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},us.requestFormReset=function(f){r.d.r(f)},us.unstable_batchedUpdates=function(f,m){return f(m)},us.useFormState=function(f,m,v){return c.H.useFormState(f,m,v)},us.useFormStatus=function(){return c.H.useHostTransitionStatus()},us.version="19.2.4",us}var K5;function MS(){if(K5)return l1.exports;K5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),l1.exports=PS(),l1.exports}var W5;function jS(){if(W5)return Cf;W5=1;var n=OS(),e=T0(),t=MS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,u=s;;){var g=l.return;if(g===null)break;var _=g.alternate;if(_===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===l)return f(g),i;if(_===u)return f(g),s;_=_.sibling}throw Error(r(188))}if(l.return!==u.return)l=g,u=_;else{for(var C=!1,G=g.child;G;){if(G===l){C=!0,l=g,u=_;break}if(G===u){C=!0,u=g,l=_;break}G=G.sibling}if(!C){for(G=_.child;G;){if(G===l){C=!0,l=_,u=g;break}if(G===u){C=!0,u=_,l=g;break}G=G.sibling}if(!C)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function O(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function oe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case U:return"Profiler";case H:return"StrictMode";case be:return"Suspense";case Se:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case V:return"Portal";case Z:return i.displayName||"Context";case se:return(i._context.displayName||"Context")+".Consumer";case te:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Y:return s=i.displayName||null,s!==null?s:oe(i.type)||"Memo";case P:s=i._payload,i=i._init;try{return oe(i(s))}catch{}}return null}var xe=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ie=[],He=-1;function $(i){return{current:i}}function k(i){0>He||(i.current=Ie[He],Ie[He]=null,He--)}function K(i,s){He++,Ie[He]=i.current,i.current=s}var J=$(null),le=$(null),ce=$(null),ge=$(null);function ke(i,s){switch(K(ce,s),K(le,i),K(J,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?u5(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=u5(s),i=c5(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}k(J),K(J,i)}function Re(){k(J),k(le),k(ce)}function Ve(i){i.memoizedState!==null&&K(ge,i);var s=J.current,l=c5(s,i.type);s!==l&&(K(le,i),K(J,l))}function Xe(i){le.current===i&&(k(J),k(le)),ge.current===i&&(k(ge),Sf._currentValue=fe)}var nt,tt;function ct(i){if(nt===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);nt=s&&s[1]||"",tt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nt+i+tt}var ee=!1;function et(i,s){if(!i||ee)return"";ee=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(Oe){var De=Oe}Reflect.construct(i,[],Ge)}else{try{Ge.call()}catch(Oe){De=Oe}i.call(Ge.prototype)}}else{try{throw Error()}catch(Oe){De=Oe}(Ge=i())&&typeof Ge.catch=="function"&&Ge.catch(function(){})}}catch(Oe){if(Oe&&De&&typeof Oe.stack=="string")return[Oe.stack,De.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),C=_[0],G=_[1];if(C&&G){var ue=C.split(`
`),Ce=G.split(`
`);for(g=u=0;u<ue.length&&!ue[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Ce.length&&!Ce[g].includes("DetermineComponentFrameRoot");)g++;if(u===ue.length||g===Ce.length)for(u=ue.length-1,g=Ce.length-1;1<=u&&0<=g&&ue[u]!==Ce[g];)g--;for(;1<=u&&0<=g;u--,g--)if(ue[u]!==Ce[g]){if(u!==1||g!==1)do if(u--,g--,0>g||ue[u]!==Ce[g]){var Ue=`
`+ue[u].replace(" at new "," at ");return i.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",i.displayName)),Ue}while(1<=u&&0<=g);break}}}finally{ee=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ct(l):""}function Kt(i,s){switch(i.tag){case 26:case 27:case 5:return ct(i.type);case 16:return ct("Lazy");case 13:return i.child!==s&&s!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return et(i.type,!1);case 11:return et(i.type.render,!1);case 1:return et(i.type,!0);case 31:return ct("Activity");default:return""}}function Tt(i){try{var s="",l=null;do s+=Kt(i,l),l=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Fe=Object.prototype.hasOwnProperty,st=n.unstable_scheduleCallback,rt=n.unstable_cancelCallback,Ct=n.unstable_shouldYield,bt=n.unstable_requestPaint,Wt=n.unstable_now,Zt=n.unstable_getCurrentPriorityLevel,Bt=n.unstable_ImmediatePriority,an=n.unstable_UserBlockingPriority,Xt=n.unstable_NormalPriority,gt=n.unstable_LowPriority,Ht=n.unstable_IdlePriority,yt=n.log,ui=n.unstable_setDisableYieldValue,$t=null,Nt=null;function jt(i){if(typeof yt=="function"&&ui(i),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode($t,i)}catch{}}var Qt=Math.clz32?Math.clz32:Pt,At=Math.log,In=Math.LN2;function Pt(i){return i>>>=0,i===0?32:31-(At(i)/In|0)|0}var Mt=256,kn=262144,wt=4194304;function vt(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function on(i,s,l){var u=i.pendingLanes;if(u===0)return 0;var g=0,_=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var G=u&134217727;return G!==0?(u=G&~_,u!==0?g=vt(u):(C&=G,C!==0?g=vt(C):l||(l=G&~i,l!==0&&(g=vt(l))))):(G=u&~_,G!==0?g=vt(G):C!==0?g=vt(C):l||(l=u&~i,l!==0&&(g=vt(l)))),g===0?0:s!==0&&s!==g&&(s&_)===0&&(_=g&-g,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:g}function ur(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ji(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cs(){var i=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),i}function qi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function St(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Js(i,s,l,u,g,_){var C=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var G=i.entanglements,ue=i.expirationTimes,Ce=i.hiddenUpdates;for(l=C&~l;0<l;){var Ue=31-Qt(l),Ge=1<<Ue;G[Ue]=0,ue[Ue]=-1;var De=Ce[Ue];if(De!==null)for(Ce[Ue]=null,Ue=0;Ue<De.length;Ue++){var Oe=De[Ue];Oe!==null&&(Oe.lane&=-536870913)}l&=~Ge}u!==0&&Fr(i,u,0),_!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=_&~(C&~s))}function Fr(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Qt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|l&261930}function Er(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var u=31-Qt(l),g=1<<u;g&s|i[u]&s&&(i[u]|=s),l&=~g}}function xr(i,s){var l=s&-s;return l=(l&42)!==0?1:Fn(l),(l&(i.suspendedLanes|s))!==0?0:l}function Fn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ki(){var i=pe.p;return i!==0?i:(i=window.event,i===void 0?32:D5(i.type))}function cr(i,s){var l=pe.p;try{return pe.p=i,s()}finally{pe.p=l}}var Zi=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Zi,Hn="__reactProps$"+Zi,Di="__reactContainer$"+Zi,Tr="__reactEvents$"+Zi,ns="__reactListeners$"+Zi,va="__reactHandles$"+Zi,vs="__reactResources$"+Zi,Nr="__reactMarker$"+Zi;function Zs(i){delete i[Dn],delete i[Hn],delete i[Tr],delete i[ns],delete i[va]}function zr(i){var s=i[Dn];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Di]||l[Dn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=y5(i);i!==null;){if(l=i[Dn])return l;i=y5(i)}return s}i=l,l=i.parentNode}return null}function hr(i){if(i=i[Dn]||i[Di]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function qr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function is(i){var s=i[vs];return s||(s=i[vs]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function fi(i){i[Nr]=!0}var vo=new Set,Cr={};function rs(i,s){_s(i,s),_s(i+"Capture",s)}function _s(i,s){for(Cr[i]=s,i=0;i<s.length;i++)vo.add(s[i])}var Fa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_o={},bo={};function tl(i){return Fe.call(bo,i)?!0:Fe.call(_o,i)?!1:Fa.test(i)?bo[i]=!0:(_o[i]=!0,!1)}function Hr(i,s,l){if(tl(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function er(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function vi(i,s,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+u)}}function hn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ea(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ss(i,s,l){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(C){l=""+C,_.call(this,C)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function yn(i){if(!i._valueTracker){var s=ea(i)?"checked":"value";i._valueTracker=ss(i,s,""+i[s])}}function _a(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return i&&(u=ea(i)?i.checked?"true":"false":i.value),i=u,i!==l?(s.setValue(i),!0):!1}function xi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ri=/[\n"\\]/g;function _i(i){return i.replace(ri,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function za(i,s,l,u,g,_,C,G){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),s!=null?C==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+hn(s)):i.value!==""+hn(s)&&(i.value=""+hn(s)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),s!=null?nl(i,C,hn(s)):l!=null?nl(i,C,hn(l)):u!=null&&i.removeAttribute("value"),g==null&&_!=null&&(i.defaultChecked=!!_),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?i.name=""+hn(G):i.removeAttribute("name")}function Vl(i,s,l,u,g,_,C,G){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){yn(i);return}l=l!=null?""+hn(l):"",s=s!=null?""+hn(s):l,G||s===i.value||(i.value=s),i.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=G?i.checked:!!u,i.defaultChecked=!!u,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C),yn(i)}function nl(i,s,l){s==="number"&&xi(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function fr(i,s,l,u){if(i=i.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=s.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&u&&(i[l].defaultSelected=!0)}else{for(l=""+hn(l),s=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,u&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function il(i,s,l){if(s!=null&&(s=""+hn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+hn(l):""}function ta(i,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(xe(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=hn(s),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u),yn(i)}function Hi(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var ba=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rl(i,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,l):typeof l!="number"||l===0||ba.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function sl(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&l[g]!==u&&rl(i,g,u)}else for(var _ in s)s.hasOwnProperty(_)&&rl(i,_,s[_])}function wo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ao=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),na=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ir(i){return na.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function bs(){}var ia=null;function Rr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var wa=null,It=null;function qa(i){var s=hr(i);if(s&&(i=s.stateNode)){var l=i[Hn]||null;e:switch(i=s.stateNode,s.type){case"input":if(za(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+_i(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==i&&u.form===i.form){var g=u[Hn]||null;if(!g)throw Error(r(90));za(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===i.form&&_a(u)}break e;case"textarea":il(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&fr(i,!!l.multiple,s,!1)}}}var So=!1;function Aa(i,s,l){if(So)return i(s,l);So=!0;try{var u=i(s);return u}finally{if(So=!1,(wa!==null||It!==null)&&(Hd(),wa&&(s=wa,i=It,It=wa=null,qa(s),i)))for(s=0;s<i.length;s++)qa(i[s])}}function Gi(i,s){var l=i.stateNode;if(l===null)return null;var u=l[Hn]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ha=!1;if(Oi)try{var On={};Object.defineProperty(On,"passive",{get:function(){Ha=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{Ha=!1}var Gr=null,Ga=null,ws=null;function al(){if(ws)return ws;var i,s=Ga,l=s.length,u,g="value"in Gr?Gr.value:Gr.textContent,_=g.length;for(i=0;i<l&&s[i]===g[i];i++);var C=l-i;for(u=1;u<=C&&s[l-u]===g[_-u];u++);return ws=g.slice(i,1<u?1-u:void 0)}function Yr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ra(){return!0}function Kr(){return!1}function Ti(i){function s(l,u,g,_,C){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var G in i)i.hasOwnProperty(G)&&(l=i[G],this[G]=l?l(_):_[G]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ra:Kr,this.isPropagationStopped=Kr,this}return S(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),s}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tr=Ti(Is),Rs=S({},Is,{view:0,detail:0}),Sa=Ti(Rs),Ls,ks,as,Ya=S({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==as&&(as&&i.type==="mousemove"?(Ls=i.screenX-as.screenX,ks=i.screenY-as.screenY):ks=Ls=0,as=i),Ls)},movementY:function(i){return"movementY"in i?i.movementY:ks}}),Eo=Ti(Ya),Wr=S({},Ya,{dataTransfer:0}),Ds=Ti(Wr),ol=S({},Rs,{relatedTarget:0}),As=Ti(ol),xo=S({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),w=Ti(xo),M=S({},Is,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ie=Ti(M),he=S({},Is,{data:0}),ve=Ti(he),je={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ke={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dt(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=lt[i])?!!s[i]:!1}function kt(){return dt}var Et=S({},Rs,{key:function(i){if(i.key){var s=je[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Yr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ke[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kt,charCode:function(i){return i.type==="keypress"?Yr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Yr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),fn=Ti(Et),$n=S({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zn=Ti($n),p=S({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kt}),E=Ti(p),L=S({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q=Ti(L),we=S({},Ya,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=Ti(we),$e=S({},Is,{newState:0,oldState:0}),qt=Ti($e),Jn=[9,13,27,32],un=Oi&&"CompositionEvent"in window,Pn=null;Oi&&"documentMode"in document&&(Pn=document.documentMode);var nr=Oi&&"TextEvent"in window&&!Pn,dr=Oi&&(!un||Pn&&8<Pn&&11>=Pn),Gn=" ",pr=!1;function Ss(i,s){switch(i){case"keyup":return Jn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var xa=!1;function Qr(i,s){switch(i){case"compositionend":return Ea(s);case"keypress":return s.which!==32?null:(pr=!0,Gn);case"textInput":return i=s.data,i===Gn&&pr?null:i;default:return null}}function Ka(i,s){if(xa)return i==="compositionend"||!un&&Ss(i,s)?(i=al(),ws=Ga=Gr=null,xa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return dr&&s.locale!=="ko"?null:s.data;default:return null}}var Bl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zu(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Bl[i.type]:s==="textarea"}function Es(i,s,l,u){wa?It?It.push(u):It=[u]:wa=u,s=$d(s,"onChange"),0<s.length&&(l=new tr("onChange","change",null,l,u),i.push({event:l,listeners:s}))}var sa=null,Wa=null;function qu(i){i5(i,0)}function aa(i){var s=qr(i);if(_a(s))return i}function To(i,s){if(i==="change")return s}var os=!1;if(Oi){var Xr;if(Oi){var Ta="oninput"in document;if(!Ta){var Na=document.createElement("div");Na.setAttribute("oninput","return;"),Ta=typeof Na.oninput=="function"}Xr=Ta}else Xr=!1;os=Xr&&(!document.documentMode||9<document.documentMode)}function Qa(){sa&&(sa.detachEvent("onpropertychange",Fl),Wa=sa=null)}function Fl(i){if(i.propertyName==="value"&&aa(Wa)){var s=[];Es(s,Wa,i,Rr(i)),Aa(qu,s)}}function zl(i,s,l){i==="focusin"?(Qa(),sa=s,Wa=l,sa.attachEvent("onpropertychange",Fl)):i==="focusout"&&Qa()}function Ni(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return aa(Wa)}function Nc(i,s){if(i==="click")return aa(s)}function Ca(i,s){if(i==="input"||i==="change")return aa(s)}function Ia(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var mr=typeof Object.is=="function"?Object.is:Ia;function Xa(i,s){if(mr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Fe.call(s,g)||!mr(i[g],s[g]))return!1}return!0}function ql(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Hl(i,s){var l=ql(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=s&&u>=s)return{node:l,offset:s-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ql(l)}}function $a(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?$a(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Ja(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=xi(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=xi(i.document)}return s}function Ra(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var ll=Oi&&"documentMode"in document&&11>=document.documentMode,xs=null,Za=null,Lr=null,Os=!1;function Rn(i,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Os||xs==null||xs!==xi(u)||(u=xs,"selectionStart"in u&&Ra(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Lr&&Xa(Lr,u)||(Lr=u,u=$d(Za,"onSelect"),0<u.length&&(s=new tr("onSelect","select",null,s,l),i.push({event:s,listeners:u}),s.target=xs)))}function Sn(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Zn={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionrun:Sn("Transition","TransitionRun"),transitionstart:Sn("Transition","TransitionStart"),transitioncancel:Sn("Transition","TransitionCancel"),transitionend:Sn("Transition","TransitionEnd")},Ci={},La={};Oi&&(La=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function oa(i){if(Ci[i])return Ci[i];if(!Zn[i])return i;var s=Zn[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in La)return Ci[i]=s[l];return i}var ul=oa("animationend"),Hu=oa("animationiteration"),Gh=oa("animationstart"),bd=oa("transitionrun"),wd=oa("transitionstart"),Ad=oa("transitioncancel"),Yh=oa("transitionend"),Kh=new Map,cl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cl.push("scrollEnd");function Ps(i,s){Kh.set(i,s),rs(s,[i])}var Gu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ts=[],hl=0,Cc=0;function Yu(){for(var i=hl,s=Cc=hl=0;s<i;){var l=Ts[s];Ts[s++]=null;var u=Ts[s];Ts[s++]=null;var g=Ts[s];Ts[s++]=null;var _=Ts[s];if(Ts[s++]=null,u!==null&&g!==null){var C=u.pending;C===null?g.next=g:(g.next=C.next,C.next=g),u.pending=g}_!==0&&Wu(l,g,_)}}function Ku(i,s,l,u){Ts[hl++]=i,Ts[hl++]=s,Ts[hl++]=l,Ts[hl++]=u,Cc|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Ic(i,s,l,u){return Ku(i,s,l,u),kr(i)}function eo(i,s){return Ku(i,null,null,s),kr(i)}function Wu(i,s,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var g=!1,_=i.return;_!==null;)_.childLanes|=l,u=_.alternate,u!==null&&(u.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(g=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,g&&s!==null&&(g=31-Qt(l),i=_.hiddenUpdates,u=i[g],u===null?i[g]=[s]:u.push(s),s.lane=l|536870912),_):null}function kr(i){if(50<gf)throw gf=0,Ng=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var gr={};function Rc(i,s,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(i,s,l,u){return new Rc(i,s,l,u)}function Lc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ms(i,s){var l=i.alternate;return l===null?(l=Dr(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Qu(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Gl(i,s,l,u,g,_){var C=0;if(u=i,typeof i=="function")Lc(i)&&(C=1);else if(typeof i=="string")C=vS(i,l,J.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Dr(31,l,s,g),i.elementType=R,i.lanes=_,i;case B:return No(l.children,g,_,s);case H:C=8,g|=24;break;case U:return i=Dr(12,l,s,g|2),i.elementType=U,i.lanes=_,i;case be:return i=Dr(13,l,s,g),i.elementType=be,i.lanes=_,i;case Se:return i=Dr(19,l,s,g),i.elementType=Se,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Z:C=10;break e;case se:C=9;break e;case te:C=11;break e;case Y:C=14;break e;case P:C=16,u=null;break e}C=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Dr(C,l,s,g),s.elementType=i,s.type=u,s.lanes=_,s}function No(i,s,l,u){return i=Dr(7,i,u,s),i.lanes=l,i}function Xu(i,s,l){return i=Dr(6,i,null,s),i.lanes=l,i}function kc(i){var s=Dr(18,null,null,0);return s.stateNode=i,s}function Yl(i,s,l){return s=Dr(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Dc=new WeakMap;function js(i,s){if(typeof i=="object"&&i!==null){var l=Dc.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Tt(s)},Dc.set(i,s),s)}return{value:i,source:s,stack:Tt(s)}}var Kl=[],fl=0,Oc=null,$u=0,Us=[],Vs=0,Co=null,Bs=1,Fs="";function Ns(i,s){Kl[fl++]=$u,Kl[fl++]=Oc,Oc=i,$u=s}function Sd(i,s,l){Us[Vs++]=Bs,Us[Vs++]=Fs,Us[Vs++]=Co,Co=i;var u=Bs;i=Fs;var g=32-Qt(u)-1;u&=~(1<<g),l+=1;var _=32-Qt(s)+g;if(30<_){var C=g-g%5;_=(u&(1<<C)-1).toString(32),u>>=C,g-=C,Bs=1<<32-Qt(s)+g|l<<g|u,Fs=_+i}else Bs=1<<_|l<<g|u,Fs=i}function Wh(i){i.return!==null&&(Ns(i,1),Sd(i,1,0))}function Pc(i){for(;i===Oc;)Oc=Kl[--fl],Kl[fl]=null,$u=Kl[--fl],Kl[fl]=null;for(;i===Co;)Co=Us[--Vs],Us[Vs]=null,Fs=Us[--Vs],Us[Vs]=null,Bs=Us[--Vs],Us[Vs]=null}function Ed(i,s){Us[Vs++]=Bs,Us[Vs++]=Fs,Us[Vs++]=Co,Bs=s.id,Fs=s.overflow,Co=i}var yr=null,si=null,pn=!1,$r=null,bi=!1,la=Error(r(519));function Io(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(js(s,i)),la}function Qh(i){var s=i.stateNode,l=i.type,u=i.memoizedProps;switch(s[Dn]=i,s[Hn]=u,l){case"dialog":gn("cancel",s),gn("close",s);break;case"iframe":case"object":case"embed":gn("load",s);break;case"video":case"audio":for(l=0;l<vf.length;l++)gn(vf[l],s);break;case"source":gn("error",s);break;case"img":case"image":case"link":gn("error",s),gn("load",s);break;case"details":gn("toggle",s);break;case"input":gn("invalid",s),Vl(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":gn("invalid",s);break;case"textarea":gn("invalid",s),ta(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||o5(s.textContent,l)?(u.popover!=null&&(gn("beforetoggle",s),gn("toggle",s)),u.onScroll!=null&&gn("scroll",s),u.onScrollEnd!=null&&gn("scrollend",s),u.onClick!=null&&(s.onclick=bs),s=!0):s=!1,s||Io(i,!0)}function to(i){for(yr=i.return;yr;)switch(yr.tag){case 5:case 31:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:yr=yr.return}}function vr(i){if(i!==yr)return!1;if(!pn)return to(i),pn=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||zg(i.type,i.memoizedProps)),l=!l),l&&si&&Io(i),to(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));si=g5(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));si=g5(i)}else s===27?(s=si,lu(i.type)?(i=Kg,Kg=null,si=i):si=s):si=yr?Pa(i.stateNode.nextSibling):null;return!0}function dl(){si=yr=null,pn=!1}function Xh(){var i=$r;return i!==null&&(Ks===null?Ks=i:Ks.push.apply(Ks,i),$r=null),i}function Wl(i){$r===null?$r=[i]:$r.push(i)}var Mc=$(null),Ro=null,ka=null;function Lo(i,s,l){K(Mc,s._currentValue),s._currentValue=l}function zs(i){i._currentValue=Mc.current,k(Mc)}function Ql(i,s,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===l)break;i=i.return}}function pl(i,s,l,u){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var _=g.dependencies;if(_!==null){var C=g.child;_=_.firstContext;e:for(;_!==null;){var G=_;_=g;for(var ue=0;ue<s.length;ue++)if(G.context===s[ue]){_.lanes|=l,G=_.alternate,G!==null&&(G.lanes|=l),Ql(_.return,l,i),u||(C=null);break e}_=G.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(r(341));C.lanes|=l,_=C.alternate,_!==null&&(_.lanes|=l),Ql(C,l,i),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===i){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function ko(i,s,l,u){i=null;for(var g=s,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var G=g.type;mr(g.pendingProps.value,C.value)||(i!==null?i.push(G):i=[G])}}else if(g===ge.current){if(C=g.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Sf):i=[Sf])}g=g.return}i!==null&&pl(s,i,l,u),s.flags|=262144}function jc(i){for(i=i.firstContext;i!==null;){if(!mr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Do(i){Ro=i,ka=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function _r(i){return xd(Ro,i)}function Uc(i,s){return Ro===null&&Do(i),xd(i,s)}function xd(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ka===null){if(i===null)throw Error(r(308));ka=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ka=ka.next=s;return l}var Ym=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},Km=n.unstable_scheduleCallback,Wm=n.unstable_NormalPriority,Ii={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xl(){return{controller:new Ym,data:new Map,refCount:0}}function Ju(i){i.refCount--,i.refCount===0&&Km(Wm,function(){i.controller.abort()})}var Zu=null,Vc=0,d=0,y=null;function A(i,s){if(Zu===null){var l=Zu=[];Vc=0,d=Dg(),y={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Vc++,s.then(T,T),s}function T(){if(--Vc===0&&Zu!==null){y!==null&&(y.status="fulfilled");var i=Zu;Zu=null,d=0,y=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function j(i,s){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var F=ae.S;ae.S=function(i,s){Ly=Wt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&A(i,s),F!==null&&F(i,s)};var z=$(null);function W(){var i=z.current;return i!==null?i:oi.pooledCache}function X(i,s){s===null?K(z,z.current):K(z,s.pool)}function re(){var i=W();return i===null?null:{parent:Ii._currentValue,pool:i}}var de=Error(r(460)),Te=Error(r(474)),ne=Error(r(542)),ye={then:function(){}};function Ae(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Me(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(bs,bs),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Qe(i),i;default:if(typeof s.status=="string")s.then(bs,bs);else{if(i=oi,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Qe(i),i}throw Pe=s,de}}function Ee(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pe=l,de):l}}var Pe=null;function Be(){if(Pe===null)throw Error(r(459));var i=Pe;return Pe=null,i}function Qe(i){if(i===de||i===ne)throw Error(r(483))}var Ye=null,pt=0;function at(i){var s=pt;return pt+=1,Ye===null&&(Ye=[]),Me(Ye,i,s)}function Gt(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function ht(i,s){throw s.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function dn(i){function s(_e,me){if(i){var Ne=_e.deletions;Ne===null?(_e.deletions=[me],_e.flags|=16):Ne.push(me)}}function l(_e,me){if(!i)return null;for(;me!==null;)s(_e,me),me=me.sibling;return null}function u(_e){for(var me=new Map;_e!==null;)_e.key!==null?me.set(_e.key,_e):me.set(_e.index,_e),_e=_e.sibling;return me}function g(_e,me){return _e=Ms(_e,me),_e.index=0,_e.sibling=null,_e}function _(_e,me,Ne){return _e.index=Ne,i?(Ne=_e.alternate,Ne!==null?(Ne=Ne.index,Ne<me?(_e.flags|=67108866,me):Ne):(_e.flags|=67108866,me)):(_e.flags|=1048576,me)}function C(_e){return i&&_e.alternate===null&&(_e.flags|=67108866),_e}function G(_e,me,Ne,ze){return me===null||me.tag!==6?(me=Xu(Ne,_e.mode,ze),me.return=_e,me):(me=g(me,Ne),me.return=_e,me)}function ue(_e,me,Ne,ze){var Ot=Ne.type;return Ot===B?Ue(_e,me,Ne.props.children,ze,Ne.key):me!==null&&(me.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===P&&Ee(Ot)===me.type)?(me=g(me,Ne.props),Gt(me,Ne),me.return=_e,me):(me=Gl(Ne.type,Ne.key,Ne.props,null,_e.mode,ze),Gt(me,Ne),me.return=_e,me)}function Ce(_e,me,Ne,ze){return me===null||me.tag!==4||me.stateNode.containerInfo!==Ne.containerInfo||me.stateNode.implementation!==Ne.implementation?(me=Yl(Ne,_e.mode,ze),me.return=_e,me):(me=g(me,Ne.children||[]),me.return=_e,me)}function Ue(_e,me,Ne,ze,Ot){return me===null||me.tag!==7?(me=No(Ne,_e.mode,ze,Ot),me.return=_e,me):(me=g(me,Ne),me.return=_e,me)}function Ge(_e,me,Ne){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=Xu(""+me,_e.mode,Ne),me.return=_e,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case b:return Ne=Gl(me.type,me.key,me.props,null,_e.mode,Ne),Gt(Ne,me),Ne.return=_e,Ne;case V:return me=Yl(me,_e.mode,Ne),me.return=_e,me;case P:return me=Ee(me),Ge(_e,me,Ne)}if(xe(me)||O(me))return me=No(me,_e.mode,Ne,null),me.return=_e,me;if(typeof me.then=="function")return Ge(_e,at(me),Ne);if(me.$$typeof===Z)return Ge(_e,Uc(_e,me),Ne);ht(_e,me)}return null}function De(_e,me,Ne,ze){var Ot=me!==null?me.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Ot!==null?null:G(_e,me,""+Ne,ze);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case b:return Ne.key===Ot?ue(_e,me,Ne,ze):null;case V:return Ne.key===Ot?Ce(_e,me,Ne,ze):null;case P:return Ne=Ee(Ne),De(_e,me,Ne,ze)}if(xe(Ne)||O(Ne))return Ot!==null?null:Ue(_e,me,Ne,ze,null);if(typeof Ne.then=="function")return De(_e,me,at(Ne),ze);if(Ne.$$typeof===Z)return De(_e,me,Uc(_e,Ne),ze);ht(_e,Ne)}return null}function Oe(_e,me,Ne,ze,Ot){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return _e=_e.get(Ne)||null,G(me,_e,""+ze,Ot);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case b:return _e=_e.get(ze.key===null?Ne:ze.key)||null,ue(me,_e,ze,Ot);case V:return _e=_e.get(ze.key===null?Ne:ze.key)||null,Ce(me,_e,ze,Ot);case P:return ze=Ee(ze),Oe(_e,me,Ne,ze,Ot)}if(xe(ze)||O(ze))return _e=_e.get(Ne)||null,Ue(me,_e,ze,Ot,null);if(typeof ze.then=="function")return Oe(_e,me,Ne,at(ze),Ot);if(ze.$$typeof===Z)return Oe(_e,me,Ne,Uc(me,ze),Ot);ht(me,ze)}return null}function ft(_e,me,Ne,ze){for(var Ot=null,Mn=null,_t=me,ln=me=0,_n=null;_t!==null&&ln<Ne.length;ln++){_t.index>ln?(_n=_t,_t=null):_n=_t.sibling;var jn=De(_e,_t,Ne[ln],ze);if(jn===null){_t===null&&(_t=_n);break}i&&_t&&jn.alternate===null&&s(_e,_t),me=_(jn,me,ln),Mn===null?Ot=jn:Mn.sibling=jn,Mn=jn,_t=_n}if(ln===Ne.length)return l(_e,_t),pn&&Ns(_e,ln),Ot;if(_t===null){for(;ln<Ne.length;ln++)_t=Ge(_e,Ne[ln],ze),_t!==null&&(me=_(_t,me,ln),Mn===null?Ot=_t:Mn.sibling=_t,Mn=_t);return pn&&Ns(_e,ln),Ot}for(_t=u(_t);ln<Ne.length;ln++)_n=Oe(_t,_e,ln,Ne[ln],ze),_n!==null&&(i&&_n.alternate!==null&&_t.delete(_n.key===null?ln:_n.key),me=_(_n,me,ln),Mn===null?Ot=_n:Mn.sibling=_n,Mn=_n);return i&&_t.forEach(function(du){return s(_e,du)}),pn&&Ns(_e,ln),Ot}function Vt(_e,me,Ne,ze){if(Ne==null)throw Error(r(151));for(var Ot=null,Mn=null,_t=me,ln=me=0,_n=null,jn=Ne.next();_t!==null&&!jn.done;ln++,jn=Ne.next()){_t.index>ln?(_n=_t,_t=null):_n=_t.sibling;var du=De(_e,_t,jn.value,ze);if(du===null){_t===null&&(_t=_n);break}i&&_t&&du.alternate===null&&s(_e,_t),me=_(du,me,ln),Mn===null?Ot=du:Mn.sibling=du,Mn=du,_t=_n}if(jn.done)return l(_e,_t),pn&&Ns(_e,ln),Ot;if(_t===null){for(;!jn.done;ln++,jn=Ne.next())jn=Ge(_e,jn.value,ze),jn!==null&&(me=_(jn,me,ln),Mn===null?Ot=jn:Mn.sibling=jn,Mn=jn);return pn&&Ns(_e,ln),Ot}for(_t=u(_t);!jn.done;ln++,jn=Ne.next())jn=Oe(_t,_e,ln,jn.value,ze),jn!==null&&(i&&jn.alternate!==null&&_t.delete(jn.key===null?ln:jn.key),me=_(jn,me,ln),Mn===null?Ot=jn:Mn.sibling=jn,Mn=jn);return i&&_t.forEach(function(IS){return s(_e,IS)}),pn&&Ns(_e,ln),Ot}function ii(_e,me,Ne,ze){if(typeof Ne=="object"&&Ne!==null&&Ne.type===B&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case b:e:{for(var Ot=Ne.key;me!==null;){if(me.key===Ot){if(Ot=Ne.type,Ot===B){if(me.tag===7){l(_e,me.sibling),ze=g(me,Ne.props.children),ze.return=_e,_e=ze;break e}}else if(me.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===P&&Ee(Ot)===me.type){l(_e,me.sibling),ze=g(me,Ne.props),Gt(ze,Ne),ze.return=_e,_e=ze;break e}l(_e,me);break}else s(_e,me);me=me.sibling}Ne.type===B?(ze=No(Ne.props.children,_e.mode,ze,Ne.key),ze.return=_e,_e=ze):(ze=Gl(Ne.type,Ne.key,Ne.props,null,_e.mode,ze),Gt(ze,Ne),ze.return=_e,_e=ze)}return C(_e);case V:e:{for(Ot=Ne.key;me!==null;){if(me.key===Ot)if(me.tag===4&&me.stateNode.containerInfo===Ne.containerInfo&&me.stateNode.implementation===Ne.implementation){l(_e,me.sibling),ze=g(me,Ne.children||[]),ze.return=_e,_e=ze;break e}else{l(_e,me);break}else s(_e,me);me=me.sibling}ze=Yl(Ne,_e.mode,ze),ze.return=_e,_e=ze}return C(_e);case P:return Ne=Ee(Ne),ii(_e,me,Ne,ze)}if(xe(Ne))return ft(_e,me,Ne,ze);if(O(Ne)){if(Ot=O(Ne),typeof Ot!="function")throw Error(r(150));return Ne=Ot.call(Ne),Vt(_e,me,Ne,ze)}if(typeof Ne.then=="function")return ii(_e,me,at(Ne),ze);if(Ne.$$typeof===Z)return ii(_e,me,Uc(_e,Ne),ze);ht(_e,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,me!==null&&me.tag===6?(l(_e,me.sibling),ze=g(me,Ne),ze.return=_e,_e=ze):(l(_e,me),ze=Xu(Ne,_e.mode,ze),ze.return=_e,_e=ze),C(_e)):l(_e,me)}return function(_e,me,Ne,ze){try{pt=0;var Ot=ii(_e,me,Ne,ze);return Ye=null,Ot}catch(_t){if(_t===de||_t===ne)throw _t;var Mn=Dr(29,_t,null,_e.mode);return Mn.lanes=ze,Mn.return=_e,Mn}}}var ai=dn(!0),en=dn(!1),ot=!1;function Ze(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function di(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ut(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function sn(i,s,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Bn&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=kr(i),Wu(i,null,l),s}return Ku(i,u,s,l),kr(i)}function Un(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,Er(i,l)}}function Yi(i,s){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?g=_=C:_=_.next=C,l=l.next}while(l!==null);_===null?g=_=s:_=_.next=s}else g=_=s;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var br=!1;function ei(){if(br){var i=y;if(i!==null)throw i}}function Pi(i,s,l,u){br=!1;var g=i.updateQueue;ot=!1;var _=g.firstBaseUpdate,C=g.lastBaseUpdate,G=g.shared.pending;if(G!==null){g.shared.pending=null;var ue=G,Ce=ue.next;ue.next=null,C===null?_=Ce:C.next=Ce,C=ue;var Ue=i.alternate;Ue!==null&&(Ue=Ue.updateQueue,G=Ue.lastBaseUpdate,G!==C&&(G===null?Ue.firstBaseUpdate=Ce:G.next=Ce,Ue.lastBaseUpdate=ue))}if(_!==null){var Ge=g.baseState;C=0,Ue=Ce=ue=null,G=_;do{var De=G.lane&-536870913,Oe=De!==G.lane;if(Oe?(vn&De)===De:(u&De)===De){De!==0&&De===d&&(br=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var ft=i,Vt=G;De=s;var ii=l;switch(Vt.tag){case 1:if(ft=Vt.payload,typeof ft=="function"){Ge=ft.call(ii,Ge,De);break e}Ge=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=Vt.payload,De=typeof ft=="function"?ft.call(ii,Ge,De):ft,De==null)break e;Ge=S({},Ge,De);break e;case 2:ot=!0}}De=G.callback,De!==null&&(i.flags|=64,Oe&&(i.flags|=8192),Oe=g.callbacks,Oe===null?g.callbacks=[De]:Oe.push(De))}else Oe={lane:De,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Ue===null?(Ce=Ue=Oe,ue=Ge):Ue=Ue.next=Oe,C|=De;if(G=G.next,G===null){if(G=g.shared.pending,G===null)break;Oe=G,G=Oe.next,Oe.next=null,g.lastBaseUpdate=Oe,g.shared.pending=null}}while(!0);Ue===null&&(ue=Ge),g.baseState=ue,g.firstBaseUpdate=Ce,g.lastBaseUpdate=Ue,_===null&&(g.shared.lanes=0),iu|=C,i.lanes=C,i.memoizedState=Ge}}function Or(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Mi(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Or(l[i],s)}var cn=$(null),xn=$(0);function pi(i,s){i=El,K(xn,i),K(cn,s),El=i|s.baseLanes}function Ln(){K(xn,El),K(cn,cn.current)}function Ki(){El=xn.current,k(cn),k(xn)}var mi=$(null),Tn=null;function Ri(i){var s=i.alternate;K(En,En.current&1),K(mi,i),Tn===null&&(s===null||cn.current!==null||s.memoizedState!==null)&&(Tn=i)}function Vn(i){K(En,En.current),K(mi,i),Tn===null&&(Tn=i)}function ji(i){i.tag===22?(K(En,En.current),K(mi,i),Tn===null&&(Tn=i)):Ui()}function Ui(){K(En,En.current),K(mi,mi.current)}function Yn(i){k(mi),Tn===i&&(Tn=null),k(En)}var En=$(0);function Pr(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Gg(l)||Yg(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var wi=0,Rt=null,Dt=null,Nn=null,ls=!1,qs=!1,Jr=!1,Vi=0,Oo=0,Po=null,Bc=0;function ti(){throw Error(r(321))}function $h(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!mr(i[l],s[l]))return!1;return!0}function Jh(i,s,l,u,g,_){return wi=_,Rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ae.H=i===null||i.memoizedState===null?z2:ng,Jr=!1,_=l(u,g),Jr=!1,qs&&(_=no(s,l,u,g)),Fc(i),_}function Fc(i){ae.H=of;var s=Dt!==null&&Dt.next!==null;if(wi=0,Nn=Dt=Rt=null,ls=!1,Oo=0,Po=null,s)throw Error(r(300));i===null||rr||(i=i.dependencies,i!==null&&jc(i)&&(rr=!0))}function no(i,s,l,u){Rt=i;var g=0;do{if(qs&&(Po=null),Oo=0,qs=!1,25<=g)throw Error(r(301));if(g+=1,Nn=Dt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}ae.H=q2,_=s(l,u)}while(qs);return _}function Qm(){var i=ae.H,s=i.useState()[0];return s=typeof s.then=="function"?Mo(s):s,i=i.useState()[0],(Dt!==null?Dt.memoizedState:null)!==i&&(Rt.flags|=1024),s}function Zh(){var i=Vi!==0;return Vi=0,i}function ef(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function zc(i){if(ls){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ls=!1}wi=0,Nn=Dt=Rt=null,qs=!1,Oo=Vi=0,Po=null}function ir(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Rt.memoizedState=Nn=i:Nn=Nn.next=i,Nn}function Ai(){if(Dt===null){var i=Rt.alternate;i=i!==null?i.memoizedState:null}else i=Dt.next;var s=Nn===null?Rt.memoizedState:Nn.next;if(s!==null)Nn=s,Dt=i;else{if(i===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Dt=i,i={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Nn===null?Rt.memoizedState=Nn=i:Nn=Nn.next=i}return Nn}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(i){var s=Oo;return Oo+=1,Po===null&&(Po=[]),i=Me(Po,i,s),s=Rt,(Nn===null?s.memoizedState:Nn.next)===null&&(s=s.alternate,ae.H=s===null||s.memoizedState===null?z2:ng),i}function $l(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Mo(i);if(i.$$typeof===Z)return _r(i)}throw Error(r(438,String(i)))}function ml(i){var s=null,l=Rt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Rt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=ec(),Rt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),u=0;u<i;u++)l[u]=q;return s.index++,l}function Da(i,s){return typeof s=="function"?s(i):s}function qc(i){var s=Ai();return Jl(s,Dt,i)}function Jl(i,s,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var g=i.baseQueue,_=u.pending;if(_!==null){if(g!==null){var C=g.next;g.next=_.next,_.next=C}s.baseQueue=g=_,u.pending=null}if(_=i.baseState,g===null)i.memoizedState=_;else{s=g.next;var G=C=null,ue=null,Ce=s,Ue=!1;do{var Ge=Ce.lane&-536870913;if(Ge!==Ce.lane?(vn&Ge)===Ge:(wi&Ge)===Ge){var De=Ce.revertLane;if(De===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),Ge===d&&(Ue=!0);else if((wi&De)===De){Ce=Ce.next,De===d&&(Ue=!0);continue}else Ge={lane:0,revertLane:Ce.revertLane,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},ue===null?(G=ue=Ge,C=_):ue=ue.next=Ge,Rt.lanes|=De,iu|=De;Ge=Ce.action,Jr&&l(_,Ge),_=Ce.hasEagerState?Ce.eagerState:l(_,Ge)}else De={lane:Ge,revertLane:Ce.revertLane,gesture:Ce.gesture,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},ue===null?(G=ue=De,C=_):ue=ue.next=De,Rt.lanes|=Ge,iu|=Ge;Ce=Ce.next}while(Ce!==null&&Ce!==s);if(ue===null?C=_:ue.next=G,!mr(_,i.memoizedState)&&(rr=!0,Ue&&(l=y,l!==null)))throw l;i.memoizedState=_,i.baseState=C,i.baseQueue=ue,u.lastRenderedState=_}return g===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Hc(i){var s=Ai(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,g=l.pending,_=s.memoizedState;if(g!==null){l.pending=null;var C=g=g.next;do _=i(_,C.action),C=C.next;while(C!==g);mr(_,s.memoizedState)||(rr=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,u]}function Gc(i,s,l){var u=Rt,g=Ai(),_=pn;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=s();var C=!mr((Dt||g).memoizedState,l);if(C&&(g.memoizedState=l,rr=!0),g=g.queue,Xm(nf.bind(null,u,g,i),[i]),g.getSnapshot!==s||C||Nn!==null&&Nn.memoizedState.tag&1){if(u.flags|=2048,yl(9,{destroy:void 0},tf.bind(null,u,g,l,s),null),oi===null)throw Error(r(349));_||(wi&127)!==0||io(u,s,l)}return l}function io(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Rt.updateQueue,s===null?(s=ec(),Rt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function tf(i,s,l,u){s.value=l,s.getSnapshot=u,Td(s)&&rf(i)}function nf(i,s,l){return l(function(){Td(s)&&rf(i)})}function Td(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!mr(i,l)}catch{return!0}}function rf(i){var s=eo(i,2);s!==null&&Ws(s,i,2)}function jo(i){var s=ir();if(typeof i=="function"){var l=i;if(i=l(),Jr){jt(!0);try{l()}finally{jt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:i},s}function Nd(i,s,l,u){return i.baseState=l,Jl(i,Dt,typeof u=="function"?u:Da)}function Cd(i,s,l,u,g){if(kd(i))throw Error(r(485));if(i=s.action,i!==null){var _={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){_.listeners.push(C)}};ae.T!==null?l(!0):_.isTransition=!1,u(_),l=s.pending,l===null?(_.next=s.pending=_,Id(s,_)):(_.next=l.next,s.pending=l.next=_)}}function Id(i,s){var l=s.action,u=s.payload,g=i.state;if(s.isTransition){var _=ae.T,C={};ae.T=C;try{var G=l(g,u),ue=ae.S;ue!==null&&ue(C,G),sf(i,s,G)}catch(Ce){gl(i,s,Ce)}finally{_!==null&&C.types!==null&&(_.types=C.types),ae.T=_}}else try{_=l(g,u),sf(i,s,_)}catch(Ce){gl(i,s,Ce)}}function sf(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Rd(i,s,u)},function(u){return gl(i,s,u)}):Rd(i,s,l)}function Rd(i,s,l){s.status="fulfilled",s.value=l,Yc(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,Id(i,l)))}function gl(i,s,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,Yc(s),s=s.next;while(s!==u)}i.action=null}function Yc(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function tc(i,s){return s}function Oa(i,s){if(pn){var l=oi.formState;if(l!==null){e:{var u=Rt;if(pn){if(si){t:{for(var g=si,_=bi;g.nodeType!==8;){if(!_){g=null;break t}if(g=Pa(g.nextSibling),g===null){g=null;break t}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){si=Pa(g.nextSibling),u=g.data==="F!";break e}}Io(u)}u=!1}u&&(s=l[0])}}return l=ir(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:s},l.queue=u,l=V2.bind(null,Rt,u),u.dispatch=l,u=jo(!1),_=tg.bind(null,Rt,!1,u.queue),u=ir(),g={state:s,dispatch:null,action:i,pending:null},u.queue=g,l=Cd.bind(null,Rt,g,_,l),g.dispatch=l,u.memoizedState=i,[s,l,!1]}function ro(i){var s=Ai();return so(s,Dt,i)}function so(i,s,l){if(s=Jl(i,s,tc)[0],i=qc(Da)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Mo(s)}catch(C){throw C===de?ne:C}else u=s;s=Ai();var g=s.queue,_=g.dispatch;return l!==s.memoizedState&&(Rt.flags|=2048,yl(9,{destroy:void 0},Kc.bind(null,g,l),null)),[u,_,i]}function Kc(i,s){i.action=s}function Wc(i){var s=Ai(),l=Dt;if(l!==null)return so(s,l,i);Ai(),s=s.memoizedState,l=Ai();var u=l.queue.dispatch;return l.memoizedState=i,[s,u,!1]}function yl(i,s,l,u){return i={tag:i,create:l,deps:u,inst:s,next:null},s=Rt.updateQueue,s===null&&(s=ec(),Rt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,s.lastEffect=i),i}function Ld(){return Ai().memoizedState}function Zl(i,s,l,u){var g=ir();Rt.flags|=i,g.memoizedState=yl(1|s,{destroy:void 0},l,u===void 0?null:u)}function eu(i,s,l,u){var g=Ai();u=u===void 0?null:u;var _=g.memoizedState.inst;Dt!==null&&u!==null&&$h(u,Dt.memoizedState.deps)?g.memoizedState=yl(s,_,l,u):(Rt.flags|=i,g.memoizedState=yl(1|s,_,l,u))}function x2(i,s){Zl(8390656,8,i,s)}function Xm(i,s){eu(2048,8,i,s)}function SA(i){Rt.flags|=4;var s=Rt.updateQueue;if(s===null)s=ec(),Rt.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function T2(i){var s=Ai().memoizedState;return SA({ref:s,nextImpl:i}),function(){if((Bn&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function N2(i,s){return eu(4,2,i,s)}function C2(i,s){return eu(4,4,i,s)}function I2(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function R2(i,s,l){l=l!=null?l.concat([i]):null,eu(4,4,I2.bind(null,s,i),l)}function $m(){}function L2(i,s){var l=Ai();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&$h(s,u[1])?u[0]:(l.memoizedState=[i,s],i)}function k2(i,s){var l=Ai();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&$h(s,u[1]))return u[0];if(u=i(),Jr){jt(!0);try{i()}finally{jt(!1)}}return l.memoizedState=[u,s],u}function Jm(i,s,l){return l===void 0||(wi&1073741824)!==0&&(vn&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=Dy(),Rt.lanes|=i,iu|=i,l)}function D2(i,s,l,u){return mr(l,s)?l:cn.current!==null?(i=Jm(i,l,u),mr(i,s)||(rr=!0),i):(wi&42)===0||(wi&1073741824)!==0&&(vn&261930)===0?(rr=!0,i.memoizedState=l):(i=Dy(),Rt.lanes|=i,iu|=i,s)}function O2(i,s,l,u,g){var _=pe.p;pe.p=_!==0&&8>_?_:8;var C=ae.T,G={};ae.T=G,tg(i,!1,s,l);try{var ue=g(),Ce=ae.S;if(Ce!==null&&Ce(G,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Ue=j(ue,u);af(i,s,Ue,ha(i))}else af(i,s,u,ha(i))}catch(Ge){af(i,s,{then:function(){},status:"rejected",reason:Ge},ha())}finally{pe.p=_,C!==null&&G.types!==null&&(C.types=G.types),ae.T=C}}function EA(){}function Zm(i,s,l,u){if(i.tag!==5)throw Error(r(476));var g=P2(i).queue;O2(i,g,s,fe,l===null?EA:function(){return M2(i),l(u)})}function P2(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:fe},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function M2(i){var s=P2(i);s.next===null&&(s=i.alternate.memoizedState),af(i,s.next.queue,{},ha())}function eg(){return _r(Sf)}function j2(){return Ai().memoizedState}function U2(){return Ai().memoizedState}function xA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=ha();i=Ut(l);var u=sn(s,i,l);u!==null&&(Ws(u,s,l),Un(u,s,l)),s={cache:Xl()},i.payload=s;return}s=s.return}}function TA(i,s,l){var u=ha();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},kd(i)?B2(s,l):(l=Ic(i,s,l,u),l!==null&&(Ws(l,i,u),F2(l,s,u)))}function V2(i,s,l){var u=ha();af(i,s,l,u)}function af(i,s,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(kd(i))B2(s,g);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var C=s.lastRenderedState,G=_(C,l);if(g.hasEagerState=!0,g.eagerState=G,mr(G,C))return Ku(i,s,g,0),oi===null&&Yu(),!1}catch{}if(l=Ic(i,s,g,u),l!==null)return Ws(l,i,u),F2(l,s,u),!0}return!1}function tg(i,s,l,u){if(u={lane:2,revertLane:Dg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},kd(i)){if(s)throw Error(r(479))}else s=Ic(i,l,u,2),s!==null&&Ws(s,i,2)}function kd(i){var s=i.alternate;return i===Rt||s!==null&&s===Rt}function B2(i,s){qs=ls=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function F2(i,s,l){if((l&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,Er(i,l)}}var of={readContext:_r,use:$l,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useLayoutEffect:ti,useInsertionEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useSyncExternalStore:ti,useId:ti,useHostTransitionStatus:ti,useFormState:ti,useActionState:ti,useOptimistic:ti,useMemoCache:ti,useCacheRefresh:ti};of.useEffectEvent=ti;var z2={readContext:_r,use:$l,useCallback:function(i,s){return ir().memoizedState=[i,s===void 0?null:s],i},useContext:_r,useEffect:x2,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Zl(4194308,4,I2.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Zl(4194308,4,i,s)},useInsertionEffect:function(i,s){Zl(4,2,i,s)},useMemo:function(i,s){var l=ir();s=s===void 0?null:s;var u=i();if(Jr){jt(!0);try{i()}finally{jt(!1)}}return l.memoizedState=[u,s],u},useReducer:function(i,s,l){var u=ir();if(l!==void 0){var g=l(s);if(Jr){jt(!0);try{l(s)}finally{jt(!1)}}}else g=s;return u.memoizedState=u.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},u.queue=i,i=i.dispatch=TA.bind(null,Rt,i),[u.memoizedState,i]},useRef:function(i){var s=ir();return i={current:i},s.memoizedState=i},useState:function(i){i=jo(i);var s=i.queue,l=V2.bind(null,Rt,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:$m,useDeferredValue:function(i,s){var l=ir();return Jm(l,i,s)},useTransition:function(){var i=jo(!1);return i=O2.bind(null,Rt,i.queue,!0,!1),ir().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var u=Rt,g=ir();if(pn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),oi===null)throw Error(r(349));(vn&127)!==0||io(u,s,l)}g.memoizedState=l;var _={value:l,getSnapshot:s};return g.queue=_,x2(nf.bind(null,u,_,i),[i]),u.flags|=2048,yl(9,{destroy:void 0},tf.bind(null,u,_,l,s),null),l},useId:function(){var i=ir(),s=oi.identifierPrefix;if(pn){var l=Fs,u=Bs;l=(u&~(1<<32-Qt(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Vi++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Bc++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:eg,useFormState:Oa,useActionState:Oa,useOptimistic:function(i){var s=ir();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=tg.bind(null,Rt,!0,l),l.dispatch=s,[i,s]},useMemoCache:ml,useCacheRefresh:function(){return ir().memoizedState=xA.bind(null,Rt)},useEffectEvent:function(i){var s=ir(),l={impl:i};return s.memoizedState=l,function(){if((Bn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},ng={readContext:_r,use:$l,useCallback:L2,useContext:_r,useEffect:Xm,useImperativeHandle:R2,useInsertionEffect:N2,useLayoutEffect:C2,useMemo:k2,useReducer:qc,useRef:Ld,useState:function(){return qc(Da)},useDebugValue:$m,useDeferredValue:function(i,s){var l=Ai();return D2(l,Dt.memoizedState,i,s)},useTransition:function(){var i=qc(Da)[0],s=Ai().memoizedState;return[typeof i=="boolean"?i:Mo(i),s]},useSyncExternalStore:Gc,useId:j2,useHostTransitionStatus:eg,useFormState:ro,useActionState:ro,useOptimistic:function(i,s){var l=Ai();return Nd(l,Dt,i,s)},useMemoCache:ml,useCacheRefresh:U2};ng.useEffectEvent=T2;var q2={readContext:_r,use:$l,useCallback:L2,useContext:_r,useEffect:Xm,useImperativeHandle:R2,useInsertionEffect:N2,useLayoutEffect:C2,useMemo:k2,useReducer:Hc,useRef:Ld,useState:function(){return Hc(Da)},useDebugValue:$m,useDeferredValue:function(i,s){var l=Ai();return Dt===null?Jm(l,i,s):D2(l,Dt.memoizedState,i,s)},useTransition:function(){var i=Hc(Da)[0],s=Ai().memoizedState;return[typeof i=="boolean"?i:Mo(i),s]},useSyncExternalStore:Gc,useId:j2,useHostTransitionStatus:eg,useFormState:Wc,useActionState:Wc,useOptimistic:function(i,s){var l=Ai();return Dt!==null?Nd(l,Dt,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:ml,useCacheRefresh:U2};q2.useEffectEvent=T2;function ig(i,s,l,u){s=i.memoizedState,l=l(u,s),l=l==null?s:S({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var rg={enqueueSetState:function(i,s,l){i=i._reactInternals;var u=ha(),g=Ut(u);g.payload=s,l!=null&&(g.callback=l),s=sn(i,g,u),s!==null&&(Ws(s,i,u),Un(s,i,u))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var u=ha(),g=Ut(u);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=sn(i,g,u),s!==null&&(Ws(s,i,u),Un(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=ha(),u=Ut(l);u.tag=2,s!=null&&(u.callback=s),s=sn(i,u,l),s!==null&&(Ws(s,i,l),Un(s,i,l))}};function H2(i,s,l,u,g,_,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,_,C):s.prototype&&s.prototype.isPureReactComponent?!Xa(l,u)||!Xa(g,_):!0}function G2(i,s,l,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==i&&rg.enqueueReplaceState(s,s.state,null)}function nc(i,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(i=i.defaultProps){l===s&&(l=S({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}function Y2(i){Gu(i)}function K2(i){console.error(i)}function W2(i){Gu(i)}function Dd(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Q2(i,s,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function sg(i,s,l){return l=Ut(l),l.tag=3,l.payload={element:null},l.callback=function(){Dd(i,s)},l}function X2(i){return i=Ut(i),i.tag=3,i}function $2(i,s,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var _=u.value;i.payload=function(){return g(_)},i.callback=function(){Q2(s,l,u)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){Q2(s,l,u),typeof g!="function"&&(ru===null?ru=new Set([this]):ru.add(this));var G=u.stack;this.componentDidCatch(u.value,{componentStack:G!==null?G:""})})}function NA(i,s,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&ko(s,l,g,!0),l=mi.current,l!==null){switch(l.tag){case 31:case 13:return Tn===null?Gd():l.alternate===null&&Bi===0&&(Bi=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===ye?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),Rg(i,u,g)),!1;case 22:return l.flags|=65536,u===ye?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),Rg(i,u,g)),!1}throw Error(r(435,l.tag))}return Rg(i,u,g),Gd(),!1}if(pn)return s=mi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==la&&(i=Error(r(422),{cause:u}),Wl(js(i,l)))):(u!==la&&(s=Error(r(423),{cause:u}),Wl(js(s,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,u=js(u,l),g=sg(i.stateNode,u,g),Yi(i,g),Bi!==4&&(Bi=2)),!1;var _=Error(r(520),{cause:u});if(_=js(_,l),mf===null?mf=[_]:mf.push(_),Bi!==4&&(Bi=2),s===null)return!0;u=js(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=sg(l.stateNode,u,i),Yi(l,i),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ru===null||!ru.has(_))))return l.flags|=65536,g&=-g,l.lanes|=g,g=X2(g),$2(g,i,l,u),Yi(l,g),!1}l=l.return}while(l!==null);return!1}var ag=Error(r(461)),rr=!1;function Zr(i,s,l,u){s.child=i===null?en(s,null,l,u):ai(s,i.child,l,u)}function J2(i,s,l,u,g){l=l.render;var _=s.ref;if("ref"in u){var C={};for(var G in u)G!=="ref"&&(C[G]=u[G])}else C=u;return Do(s),u=Jh(i,s,l,C,_,g),G=Zh(),i!==null&&!rr?(ef(i,s,g),vl(i,s,g)):(pn&&G&&Wh(s),s.flags|=1,Zr(i,s,u,g),s.child)}function Z2(i,s,l,u,g){if(i===null){var _=l.type;return typeof _=="function"&&!Lc(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,ey(i,s,_,u,g)):(i=Gl(l.type,null,u,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!pg(i,g)){var C=_.memoizedProps;if(l=l.compare,l=l!==null?l:Xa,l(C,u)&&i.ref===s.ref)return vl(i,s,g)}return s.flags|=1,i=Ms(_,u),i.ref=s.ref,i.return=s,s.child=i}function ey(i,s,l,u,g){if(i!==null){var _=i.memoizedProps;if(Xa(_,u)&&i.ref===s.ref)if(rr=!1,s.pendingProps=u=_,pg(i,g))(i.flags&131072)!==0&&(rr=!0);else return s.lanes=i.lanes,vl(i,s,g)}return og(i,s,l,u,g)}function ty(i,s,l,u){var g=u.children,_=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,i!==null){for(u=s.child=i.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~_}else u=0,s.child=null;return ny(i,s,_,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&X(s,_!==null?_.cachePool:null),_!==null?pi(s,_):Ln(),ji(s);else return u=s.lanes=536870912,ny(i,s,_!==null?_.baseLanes|l:l,l,u)}else _!==null?(X(s,_.cachePool),pi(s,_),Ui(),s.memoizedState=null):(i!==null&&X(s,null),Ln(),Ui());return Zr(i,s,g,l),s.child}function lf(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function ny(i,s,l,u,g){var _=W();return _=_===null?null:{parent:Ii._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},i!==null&&X(s,null),Ln(),ji(s),i!==null&&ko(i,s,u,!0),s.childLanes=g,null}function Od(i,s){return s=Md({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function iy(i,s,l){return ai(s,i.child,null,l),i=Od(s,s.pendingProps),i.flags|=2,Yn(s),s.memoizedState=null,i}function CA(i,s,l){var u=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(pn){if(u.mode==="hidden")return i=Od(s,u),s.lanes=536870912,lf(null,i);if(Vn(s),(i=si)?(i=m5(i,bi),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Co!==null?{id:Bs,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},l=kc(i),l.return=s,s.child=l,yr=s,si=null)):i=null,i===null)throw Io(s);return s.lanes=536870912,null}return Od(s,u)}var _=i.memoizedState;if(_!==null){var C=_.dehydrated;if(Vn(s),g)if(s.flags&256)s.flags&=-257,s=iy(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(rr||ko(i,s,l,!1),g=(l&i.childLanes)!==0,rr||g){if(u=oi,u!==null&&(C=xr(u,l),C!==0&&C!==_.retryLane))throw _.retryLane=C,eo(i,C),Ws(u,i,C),ag;Gd(),s=iy(i,s,l)}else i=_.treeContext,si=Pa(C.nextSibling),yr=s,pn=!0,$r=null,bi=!1,i!==null&&Ed(s,i),s=Od(s,u),s.flags|=4096;return s}return i=Ms(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Pd(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function og(i,s,l,u,g){return Do(s),l=Jh(i,s,l,u,void 0,g),u=Zh(),i!==null&&!rr?(ef(i,s,g),vl(i,s,g)):(pn&&u&&Wh(s),s.flags|=1,Zr(i,s,l,g),s.child)}function ry(i,s,l,u,g,_){return Do(s),s.updateQueue=null,l=no(s,u,l,g),Fc(i),u=Zh(),i!==null&&!rr?(ef(i,s,_),vl(i,s,_)):(pn&&u&&Wh(s),s.flags|=1,Zr(i,s,l,_),s.child)}function sy(i,s,l,u,g){if(Do(s),s.stateNode===null){var _=gr,C=l.contextType;typeof C=="object"&&C!==null&&(_=_r(C)),_=new l(u,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=rg,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=u,_.state=s.memoizedState,_.refs={},Ze(s),C=l.contextType,_.context=typeof C=="object"&&C!==null?_r(C):gr,_.state=s.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(ig(s,l,C,u),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(C=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),C!==_.state&&rg.enqueueReplaceState(_,_.state,null),Pi(s,u,_,g),ei(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){_=s.stateNode;var G=s.memoizedProps,ue=nc(l,G);_.props=ue;var Ce=_.context,Ue=l.contextType;C=gr,typeof Ue=="object"&&Ue!==null&&(C=_r(Ue));var Ge=l.getDerivedStateFromProps;Ue=typeof Ge=="function"||typeof _.getSnapshotBeforeUpdate=="function",G=s.pendingProps!==G,Ue||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(G||Ce!==C)&&G2(s,_,u,C),ot=!1;var De=s.memoizedState;_.state=De,Pi(s,u,_,g),ei(),Ce=s.memoizedState,G||De!==Ce||ot?(typeof Ge=="function"&&(ig(s,l,Ge,u),Ce=s.memoizedState),(ue=ot||H2(s,l,ue,u,De,Ce,C))?(Ue||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Ce),_.props=u,_.state=Ce,_.context=C,u=ue):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{_=s.stateNode,di(i,s),C=s.memoizedProps,Ue=nc(l,C),_.props=Ue,Ge=s.pendingProps,De=_.context,Ce=l.contextType,ue=gr,typeof Ce=="object"&&Ce!==null&&(ue=_r(Ce)),G=l.getDerivedStateFromProps,(Ce=typeof G=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==Ge||De!==ue)&&G2(s,_,u,ue),ot=!1,De=s.memoizedState,_.state=De,Pi(s,u,_,g),ei();var Oe=s.memoizedState;C!==Ge||De!==Oe||ot||i!==null&&i.dependencies!==null&&jc(i.dependencies)?(typeof G=="function"&&(ig(s,l,G,u),Oe=s.memoizedState),(Ue=ot||H2(s,l,Ue,u,De,Oe,ue)||i!==null&&i.dependencies!==null&&jc(i.dependencies))?(Ce||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,Oe,ue),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,Oe,ue)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===i.memoizedProps&&De===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&De===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Oe),_.props=u,_.state=Oe,_.context=ue,u=Ue):(typeof _.componentDidUpdate!="function"||C===i.memoizedProps&&De===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&De===i.memoizedState||(s.flags|=1024),u=!1)}return _=u,Pd(i,s),u=(s.flags&128)!==0,_||u?(_=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,i!==null&&u?(s.child=ai(s,i.child,null,g),s.child=ai(s,null,l,g)):Zr(i,s,l,g),s.memoizedState=_.state,i=s.child):i=vl(i,s,g),i}function ay(i,s,l,u){return dl(),s.flags|=256,Zr(i,s,l,u),s.child}var lg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ug(i){return{baseLanes:i,cachePool:re()}}function cg(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=ca),i}function oy(i,s,l){var u=s.pendingProps,g=!1,_=(s.flags&128)!==0,C;if((C=_)||(C=i!==null&&i.memoizedState===null?!1:(En.current&2)!==0),C&&(g=!0,s.flags&=-129),C=(s.flags&32)!==0,s.flags&=-33,i===null){if(pn){if(g?Ri(s):Ui(),(i=si)?(i=m5(i,bi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Co!==null?{id:Bs,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},l=kc(i),l.return=s,s.child=l,yr=s,si=null)):i=null,i===null)throw Io(s);return Yg(i)?s.lanes=32:s.lanes=536870912,null}var G=u.children;return u=u.fallback,g?(Ui(),g=s.mode,G=Md({mode:"hidden",children:G},g),u=No(u,g,l,null),G.return=s,u.return=s,G.sibling=u,s.child=G,u=s.child,u.memoizedState=ug(l),u.childLanes=cg(i,C,l),s.memoizedState=lg,lf(null,u)):(Ri(s),hg(s,G))}var ue=i.memoizedState;if(ue!==null&&(G=ue.dehydrated,G!==null)){if(_)s.flags&256?(Ri(s),s.flags&=-257,s=fg(i,s,l)):s.memoizedState!==null?(Ui(),s.child=i.child,s.flags|=128,s=null):(Ui(),G=u.fallback,g=s.mode,u=Md({mode:"visible",children:u.children},g),G=No(G,g,l,null),G.flags|=2,u.return=s,G.return=s,u.sibling=G,s.child=u,ai(s,i.child,null,l),u=s.child,u.memoizedState=ug(l),u.childLanes=cg(i,C,l),s.memoizedState=lg,s=lf(null,u));else if(Ri(s),Yg(G)){if(C=G.nextSibling&&G.nextSibling.dataset,C)var Ce=C.dgst;C=Ce,u=Error(r(419)),u.stack="",u.digest=C,Wl({value:u,source:null,stack:null}),s=fg(i,s,l)}else if(rr||ko(i,s,l,!1),C=(l&i.childLanes)!==0,rr||C){if(C=oi,C!==null&&(u=xr(C,l),u!==0&&u!==ue.retryLane))throw ue.retryLane=u,eo(i,u),Ws(C,i,u),ag;Gg(G)||Gd(),s=fg(i,s,l)}else Gg(G)?(s.flags|=192,s.child=i.child,s=null):(i=ue.treeContext,si=Pa(G.nextSibling),yr=s,pn=!0,$r=null,bi=!1,i!==null&&Ed(s,i),s=hg(s,u.children),s.flags|=4096);return s}return g?(Ui(),G=u.fallback,g=s.mode,ue=i.child,Ce=ue.sibling,u=Ms(ue,{mode:"hidden",children:u.children}),u.subtreeFlags=ue.subtreeFlags&65011712,Ce!==null?G=Ms(Ce,G):(G=No(G,g,l,null),G.flags|=2),G.return=s,u.return=s,u.sibling=G,s.child=u,lf(null,u),u=s.child,G=i.child.memoizedState,G===null?G=ug(l):(g=G.cachePool,g!==null?(ue=Ii._currentValue,g=g.parent!==ue?{parent:ue,pool:ue}:g):g=re(),G={baseLanes:G.baseLanes|l,cachePool:g}),u.memoizedState=G,u.childLanes=cg(i,C,l),s.memoizedState=lg,lf(i.child,u)):(Ri(s),l=i.child,i=l.sibling,l=Ms(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,i!==null&&(C=s.deletions,C===null?(s.deletions=[i],s.flags|=16):C.push(i)),s.child=l,s.memoizedState=null,l)}function hg(i,s){return s=Md({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Md(i,s){return i=Dr(22,i,null,s),i.lanes=0,i}function fg(i,s,l){return ai(s,i.child,null,l),i=hg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function ly(i,s,l){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Ql(i.return,s,l)}function dg(i,s,l,u,g,_){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:_}:(C.isBackwards=s,C.rendering=null,C.renderingStartTime=0,C.last=u,C.tail=l,C.tailMode=g,C.treeForkCount=_)}function uy(i,s,l){var u=s.pendingProps,g=u.revealOrder,_=u.tail;u=u.children;var C=En.current,G=(C&2)!==0;if(G?(C=C&1|2,s.flags|=128):C&=1,K(En,C),Zr(i,s,u,l),u=pn?$u:0,!G&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ly(i,l,s);else if(i.tag===19)ly(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)i=l.alternate,i!==null&&Pr(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),dg(s,!1,g,l,_,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&Pr(i)===null){s.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}dg(s,!0,l,null,_,u);break;case"together":dg(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function vl(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),iu|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(ko(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Ms(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ms(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function pg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&jc(i)))}function IA(i,s,l){switch(s.tag){case 3:ke(s,s.stateNode.containerInfo),Lo(s,Ii,i.memoizedState.cache),dl();break;case 27:case 5:Ve(s);break;case 4:ke(s,s.stateNode.containerInfo);break;case 10:Lo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Vn(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ri(s),s.flags|=128,null):(l&s.child.childLanes)!==0?oy(i,s,l):(Ri(s),i=vl(i,s,l),i!==null?i.sibling:null);Ri(s);break;case 19:var g=(i.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(ko(i,s,l,!1),u=(l&s.childLanes)!==0),g){if(u)return uy(i,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),K(En,En.current),u)break;return null;case 22:return s.lanes=0,ty(i,s,l,s.pendingProps);case 24:Lo(s,Ii,i.memoizedState.cache)}return vl(i,s,l)}function cy(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)rr=!0;else{if(!pg(i,l)&&(s.flags&128)===0)return rr=!1,IA(i,s,l);rr=(i.flags&131072)!==0}else rr=!1,pn&&(s.flags&1048576)!==0&&Sd(s,$u,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=Ee(s.elementType),s.type=i,typeof i=="function")Lc(i)?(u=nc(i,u),s.tag=1,s=sy(null,s,i,u,l)):(s.tag=0,s=og(null,s,i,u,l));else{if(i!=null){var g=i.$$typeof;if(g===te){s.tag=11,s=J2(null,s,i,u,l);break e}else if(g===Y){s.tag=14,s=Z2(null,s,i,u,l);break e}}throw s=oe(i)||i,Error(r(306,s,""))}}return s;case 0:return og(i,s,s.type,s.pendingProps,l);case 1:return u=s.type,g=nc(u,s.pendingProps),sy(i,s,u,g,l);case 3:e:{if(ke(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var _=s.memoizedState;g=_.element,di(i,s),Pi(s,u,null,l);var C=s.memoizedState;if(u=C.cache,Lo(s,Ii,u),u!==_.cache&&pl(s,[Ii],l,!0),ei(),u=C.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:C.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=ay(i,s,u,l);break e}else if(u!==g){g=js(Error(r(424)),s),Wl(g),s=ay(i,s,u,l);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,si=Pa(i.firstChild),yr=s,pn=!0,$r=null,bi=!0,l=en(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(dl(),u===g){s=vl(i,s,l);break e}Zr(i,s,u,l)}s=s.child}return s;case 26:return Pd(i,s),i===null?(l=w5(s.type,null,s.pendingProps,null))?s.memoizedState=l:pn||(l=s.type,i=s.pendingProps,u=Jd(ce.current).createElement(l),u[Dn]=s,u[Hn]=i,es(u,l,i),fi(u),s.stateNode=u):s.memoizedState=w5(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ve(s),i===null&&pn&&(u=s.stateNode=v5(s.type,s.pendingProps,ce.current),yr=s,bi=!0,g=si,lu(s.type)?(Kg=g,si=Pa(u.firstChild)):si=g),Zr(i,s,s.pendingProps.children,l),Pd(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&pn&&((g=u=si)&&(u=sS(u,s.type,s.pendingProps,bi),u!==null?(s.stateNode=u,yr=s,si=Pa(u.firstChild),bi=!1,g=!0):g=!1),g||Io(s)),Ve(s),g=s.type,_=s.pendingProps,C=i!==null?i.memoizedProps:null,u=_.children,zg(g,_)?u=null:C!==null&&zg(g,C)&&(s.flags|=32),s.memoizedState!==null&&(g=Jh(i,s,Qm,null,null,l),Sf._currentValue=g),Pd(i,s),Zr(i,s,u,l),s.child;case 6:return i===null&&pn&&((i=l=si)&&(l=aS(l,s.pendingProps,bi),l!==null?(s.stateNode=l,yr=s,si=null,i=!0):i=!1),i||Io(s)),null;case 13:return oy(i,s,l);case 4:return ke(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=ai(s,null,u,l):Zr(i,s,u,l),s.child;case 11:return J2(i,s,s.type,s.pendingProps,l);case 7:return Zr(i,s,s.pendingProps,l),s.child;case 8:return Zr(i,s,s.pendingProps.children,l),s.child;case 12:return Zr(i,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Lo(s,s.type,u.value),Zr(i,s,u.children,l),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,Do(s),g=_r(g),u=u(g),s.flags|=1,Zr(i,s,u,l),s.child;case 14:return Z2(i,s,s.type,s.pendingProps,l);case 15:return ey(i,s,s.type,s.pendingProps,l);case 19:return uy(i,s,l);case 31:return CA(i,s,l);case 22:return ty(i,s,l,s.pendingProps);case 24:return Do(s),u=_r(Ii),i===null?(g=W(),g===null&&(g=oi,_=Xl(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=l),g=_),s.memoizedState={parent:u,cache:g},Ze(s),Lo(s,Ii,g)):((i.lanes&l)!==0&&(di(i,s),Pi(s,null,null,l),ei()),g=i.memoizedState,_=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Lo(s,Ii,u)):(u=_.cache,Lo(s,Ii,u),u!==g.cache&&pl(s,[Ii],l,!0))),Zr(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function _l(i){i.flags|=4}function mg(i,s,l,u,g){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(jy())i.flags|=8192;else throw Pe=ye,Te}else i.flags&=-16777217}function hy(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!T5(s))if(jy())i.flags|=8192;else throw Pe=ye,Te}function jd(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Cs():536870912,i.lanes|=s,Jc|=s)}function uf(i,s){if(!pn)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function gi(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(s)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=u,i.childLanes=l,s}function RA(i,s,l){var u=s.pendingProps;switch(Pc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(s),null;case 1:return gi(s),null;case 3:return l=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),zs(Ii),Re(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(vr(s)?_l(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Xh())),gi(s),null;case 26:var g=s.type,_=s.memoizedState;return i===null?(_l(s),_!==null?(gi(s),hy(s,_)):(gi(s),mg(s,g,null,u,l))):_?_!==i.memoizedState?(_l(s),gi(s),hy(s,_)):(gi(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&_l(s),gi(s),mg(s,g,i,u,l)),null;case 27:if(Xe(s),l=ce.current,g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&_l(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return gi(s),null}i=J.current,vr(s)?Qh(s):(i=v5(g,u,l),s.stateNode=i,_l(s))}return gi(s),null;case 5:if(Xe(s),g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&_l(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return gi(s),null}if(_=J.current,vr(s))Qh(s);else{var C=Jd(ce.current);switch(_){case 1:_=C.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:_=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":_=C.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":_=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":_=C.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof u.is=="string"?C.createElement("select",{is:u.is}):C.createElement("select"),u.multiple?_.multiple=!0:u.size&&(_.size=u.size);break;default:_=typeof u.is=="string"?C.createElement(g,{is:u.is}):C.createElement(g)}}_[Dn]=s,_[Hn]=u;e:for(C=s.child;C!==null;){if(C.tag===5||C.tag===6)_.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===s)break e;for(;C.sibling===null;){if(C.return===null||C.return===s)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}s.stateNode=_;e:switch(es(_,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&_l(s)}}return gi(s),mg(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&_l(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=ce.current,vr(s)){if(i=s.stateNode,l=s.memoizedProps,u=null,g=yr,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}i[Dn]=s,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||o5(i.nodeValue,l)),i||Io(s,!0)}else i=Jd(i).createTextNode(u),i[Dn]=s,s.stateNode=i}return gi(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(u=vr(s),l!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Dn]=s}else dl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gi(s),i=!1}else l=Xh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(Yn(s),s):(Yn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return gi(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=vr(s),u!==null&&u.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Dn]=s}else dl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gi(s),g=!1}else g=Xh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Yn(s),s):(Yn(s),null)}return Yn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,i=i!==null&&i.memoizedState!==null,l&&(u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),_=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==g&&(u.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),jd(s,s.updateQueue),gi(s),null);case 4:return Re(),i===null&&jg(s.stateNode.containerInfo),gi(s),null;case 10:return zs(s.type),gi(s),null;case 19:if(k(En),u=s.memoizedState,u===null)return gi(s),null;if(g=(s.flags&128)!==0,_=u.rendering,_===null)if(g)uf(u,!1);else{if(Bi!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=Pr(i),_!==null){for(s.flags|=128,uf(u,!1),i=_.updateQueue,s.updateQueue=i,jd(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Qu(l,i),l=l.sibling;return K(En,En.current&1|2),pn&&Ns(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&Wt()>zd&&(s.flags|=128,g=!0,uf(u,!1),s.lanes=4194304)}else{if(!g)if(i=Pr(_),i!==null){if(s.flags|=128,g=!0,i=i.updateQueue,s.updateQueue=i,jd(s,i),uf(u,!0),u.tail===null&&u.tailMode==="hidden"&&!_.alternate&&!pn)return gi(s),null}else 2*Wt()-u.renderingStartTime>zd&&l!==536870912&&(s.flags|=128,g=!0,uf(u,!1),s.lanes=4194304);u.isBackwards?(_.sibling=s.child,s.child=_):(i=u.last,i!==null?i.sibling=_:s.child=_,u.last=_)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Wt(),i.sibling=null,l=En.current,K(En,g?l&1|2:l&1),pn&&Ns(s,u.treeForkCount),i):(gi(s),null);case 22:case 23:return Yn(s),Ki(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(gi(s),s.subtreeFlags&6&&(s.flags|=8192)):gi(s),l=s.updateQueue,l!==null&&jd(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),i!==null&&k(z),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),zs(Ii),gi(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function LA(i,s){switch(Pc(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return zs(Ii),Re(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Xe(s),null;case 31:if(s.memoizedState!==null){if(Yn(s),s.alternate===null)throw Error(r(340));dl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Yn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));dl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return k(En),null;case 4:return Re(),null;case 10:return zs(s.type),null;case 22:case 23:return Yn(s),Ki(),i!==null&&k(z),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return zs(Ii),null;case 25:return null;default:return null}}function fy(i,s){switch(Pc(s),s.tag){case 3:zs(Ii),Re();break;case 26:case 27:case 5:Xe(s);break;case 4:Re();break;case 31:s.memoizedState!==null&&Yn(s);break;case 13:Yn(s);break;case 19:k(En);break;case 10:zs(s.type);break;case 22:case 23:Yn(s),Ki(),i!==null&&k(z);break;case 24:zs(Ii)}}function cf(i,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&i)===i){u=void 0;var _=l.create,C=l.inst;u=_(),C.destroy=u}l=l.next}while(l!==g)}}catch(G){Wn(s,s.return,G)}}function tu(i,s,l){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var _=g.next;u=_;do{if((u.tag&i)===i){var C=u.inst,G=C.destroy;if(G!==void 0){C.destroy=void 0,g=s;var ue=l,Ce=G;try{Ce()}catch(Ue){Wn(g,ue,Ue)}}}u=u.next}while(u!==_)}}catch(Ue){Wn(s,s.return,Ue)}}function dy(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{Mi(s,l)}catch(u){Wn(i,i.return,u)}}}function py(i,s,l){l.props=nc(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){Wn(i,s,u)}}function hf(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(g){Wn(i,s,g)}}function Uo(i,s){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Wn(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Wn(i,s,g)}else l.current=null}function my(i){var s=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Wn(i,i.return,g)}}function gg(i,s,l){try{var u=i.stateNode;ZA(u,i.type,l,s),u[Hn]=s}catch(g){Wn(i,i.return,g)}}function gy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&lu(i.type)||i.tag===4}function yg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||gy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&lu(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function vg(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=bs));else if(u!==4&&(u===27&&lu(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(vg(i,s,l),i=i.sibling;i!==null;)vg(i,s,l),i=i.sibling}function Ud(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(u!==4&&(u===27&&lu(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Ud(i,s,l),i=i.sibling;i!==null;)Ud(i,s,l),i=i.sibling}function yy(i){var s=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);es(s,u,l),s[Dn]=i,s[Hn]=l}catch(_){Wn(i,i.return,_)}}var bl=!1,sr=!1,_g=!1,vy=typeof WeakSet=="function"?WeakSet:Set,Mr=null;function kA(i,s){if(i=i.containerInfo,Bg=sp,i=Ja(i),Ra(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var C=0,G=-1,ue=-1,Ce=0,Ue=0,Ge=i,De=null;t:for(;;){for(var Oe;Ge!==l||g!==0&&Ge.nodeType!==3||(G=C+g),Ge!==_||u!==0&&Ge.nodeType!==3||(ue=C+u),Ge.nodeType===3&&(C+=Ge.nodeValue.length),(Oe=Ge.firstChild)!==null;)De=Ge,Ge=Oe;for(;;){if(Ge===i)break t;if(De===l&&++Ce===g&&(G=C),De===_&&++Ue===u&&(ue=C),(Oe=Ge.nextSibling)!==null)break;Ge=De,De=Ge.parentNode}Ge=Oe}l=G===-1||ue===-1?null:{start:G,end:ue}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fg={focusedElem:i,selectionRange:l},sp=!1,Mr=s;Mr!==null;)if(s=Mr,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Mr=i;else for(;Mr!==null;){switch(s=Mr,_=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)g=i[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=s,g=_.memoizedProps,_=_.memoizedState,u=l.stateNode;try{var ft=nc(l.type,g);i=u.getSnapshotBeforeUpdate(ft,_),u.__reactInternalSnapshotBeforeUpdate=i}catch(Vt){Wn(l,l.return,Vt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Hg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Hg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Mr=i;break}Mr=s.return}}function _y(i,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Al(i,l),u&4&&cf(5,l);break;case 1:if(Al(i,l),u&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(C){Wn(l,l.return,C)}else{var g=nc(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(C){Wn(l,l.return,C)}}u&64&&dy(l),u&512&&hf(l,l.return);break;case 3:if(Al(i,l),u&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Mi(i,s)}catch(C){Wn(l,l.return,C)}}break;case 27:s===null&&u&4&&yy(l);case 26:case 5:Al(i,l),s===null&&u&4&&my(l),u&512&&hf(l,l.return);break;case 12:Al(i,l);break;case 31:Al(i,l),u&4&&Ay(i,l);break;case 13:Al(i,l),u&4&&Sy(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=FA.bind(null,l),oS(i,l))));break;case 22:if(u=l.memoizedState!==null||bl,!u){s=s!==null&&s.memoizedState!==null||sr,g=bl;var _=sr;bl=u,(sr=s)&&!_?Sl(i,l,(l.subtreeFlags&8772)!==0):Al(i,l),bl=g,sr=_}break;case 30:break;default:Al(i,l)}}function by(i){var s=i.alternate;s!==null&&(i.alternate=null,by(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Zs(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Si=null,Hs=!1;function wl(i,s,l){for(l=l.child;l!==null;)wy(i,s,l),l=l.sibling}function wy(i,s,l){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount($t,l)}catch{}switch(l.tag){case 26:sr||Uo(l,s),wl(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:sr||Uo(l,s);var u=Si,g=Hs;lu(l.type)&&(Si=l.stateNode,Hs=!1),wl(i,s,l),bf(l.stateNode),Si=u,Hs=g;break;case 5:sr||Uo(l,s);case 6:if(u=Si,g=Hs,Si=null,wl(i,s,l),Si=u,Hs=g,Si!==null)if(Hs)try{(Si.nodeType===9?Si.body:Si.nodeName==="HTML"?Si.ownerDocument.body:Si).removeChild(l.stateNode)}catch(_){Wn(l,s,_)}else try{Si.removeChild(l.stateNode)}catch(_){Wn(l,s,_)}break;case 18:Si!==null&&(Hs?(i=Si,d5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),ah(i)):d5(Si,l.stateNode));break;case 4:u=Si,g=Hs,Si=l.stateNode.containerInfo,Hs=!0,wl(i,s,l),Si=u,Hs=g;break;case 0:case 11:case 14:case 15:tu(2,l,s),sr||tu(4,l,s),wl(i,s,l);break;case 1:sr||(Uo(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&py(l,s,u)),wl(i,s,l);break;case 21:wl(i,s,l);break;case 22:sr=(u=sr)||l.memoizedState!==null,wl(i,s,l),sr=u;break;default:wl(i,s,l)}}function Ay(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ah(i)}catch(l){Wn(s,s.return,l)}}}function Sy(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ah(i)}catch(l){Wn(s,s.return,l)}}function DA(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new vy),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new vy),s;default:throw Error(r(435,i.tag))}}function Vd(i,s){var l=DA(i);s.forEach(function(u){if(!l.has(u)){l.add(u);var g=zA.bind(null,i,u);u.then(g,g)}})}function Gs(i,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],_=i,C=s,G=C;e:for(;G!==null;){switch(G.tag){case 27:if(lu(G.type)){Si=G.stateNode,Hs=!1;break e}break;case 5:Si=G.stateNode,Hs=!1;break e;case 3:case 4:Si=G.stateNode.containerInfo,Hs=!0;break e}G=G.return}if(Si===null)throw Error(r(160));wy(_,C,g),Si=null,Hs=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Ey(s,i),s=s.sibling}var ao=null;function Ey(i,s){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Gs(s,i),Ys(i),u&4&&(tu(3,i,i.return),cf(3,i),tu(5,i,i.return));break;case 1:Gs(s,i),Ys(i),u&512&&(sr||l===null||Uo(l,l.return)),u&64&&bl&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=ao;if(Gs(s,i),Ys(i),u&512&&(sr||l===null||Uo(l,l.return)),u&4){var _=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":_=g.getElementsByTagName("title")[0],(!_||_[Nr]||_[Dn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(u),g.head.insertBefore(_,g.querySelector("head > title"))),es(_,u,l),_[Dn]=i,fi(_),u=_;break e;case"link":var C=E5("link","href",g).get(u+(l.href||""));if(C){for(var G=0;G<C.length;G++)if(_=C[G],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(G,1);break t}}_=g.createElement(u),es(_,u,l),g.head.appendChild(_);break;case"meta":if(C=E5("meta","content",g).get(u+(l.content||""))){for(G=0;G<C.length;G++)if(_=C[G],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(G,1);break t}}_=g.createElement(u),es(_,u,l),g.head.appendChild(_);break;default:throw Error(r(468,u))}_[Dn]=i,fi(_),u=_}i.stateNode=u}else x5(g,i.type,i.stateNode);else i.stateNode=S5(g,u,i.memoizedProps);else _!==u?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,u===null?x5(g,i.type,i.stateNode):S5(g,u,i.memoizedProps)):u===null&&i.stateNode!==null&&gg(i,i.memoizedProps,l.memoizedProps)}break;case 27:Gs(s,i),Ys(i),u&512&&(sr||l===null||Uo(l,l.return)),l!==null&&u&4&&gg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Gs(s,i),Ys(i),u&512&&(sr||l===null||Uo(l,l.return)),i.flags&32){g=i.stateNode;try{Hi(g,"")}catch(ft){Wn(i,i.return,ft)}}u&4&&i.stateNode!=null&&(g=i.memoizedProps,gg(i,g,l!==null?l.memoizedProps:g)),u&1024&&(_g=!0);break;case 6:if(Gs(s,i),Ys(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(ft){Wn(i,i.return,ft)}}break;case 3:if(tp=null,g=ao,ao=Zd(s.containerInfo),Gs(s,i),ao=g,Ys(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{ah(s.containerInfo)}catch(ft){Wn(i,i.return,ft)}_g&&(_g=!1,xy(i));break;case 4:u=ao,ao=Zd(i.stateNode.containerInfo),Gs(s,i),Ys(i),ao=u;break;case 12:Gs(s,i),Ys(i);break;case 31:Gs(s,i),Ys(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Vd(i,u)));break;case 13:Gs(s,i),Ys(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Fd=Wt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Vd(i,u)));break;case 22:g=i.memoizedState!==null;var ue=l!==null&&l.memoizedState!==null,Ce=bl,Ue=sr;if(bl=Ce||g,sr=Ue||ue,Gs(s,i),sr=Ue,bl=Ce,Ys(i),u&8192)e:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||ue||bl||sr||ic(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){ue=l=s;try{if(_=ue.stateNode,g)C=_.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{G=ue.stateNode;var Ge=ue.memoizedProps.style,De=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null;G.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(ft){Wn(ue,ue.return,ft)}}}else if(s.tag===6){if(l===null){ue=s;try{ue.stateNode.nodeValue=g?"":ue.memoizedProps}catch(ft){Wn(ue,ue.return,ft)}}}else if(s.tag===18){if(l===null){ue=s;try{var Oe=ue.stateNode;g?p5(Oe,!0):p5(ue.stateNode,!1)}catch(ft){Wn(ue,ue.return,ft)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Vd(i,l))));break;case 19:Gs(s,i),Ys(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Vd(i,u)));break;case 30:break;case 21:break;default:Gs(s,i),Ys(i)}}function Ys(i){var s=i.flags;if(s&2){try{for(var l,u=i.return;u!==null;){if(gy(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,_=yg(i);Ud(i,_,g);break;case 5:var C=l.stateNode;l.flags&32&&(Hi(C,""),l.flags&=-33);var G=yg(i);Ud(i,G,C);break;case 3:case 4:var ue=l.stateNode.containerInfo,Ce=yg(i);vg(i,Ce,ue);break;default:throw Error(r(161))}}catch(Ue){Wn(i,i.return,Ue)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function xy(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;xy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Al(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)_y(i,s.alternate,s),s=s.sibling}function ic(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:tu(4,s,s.return),ic(s);break;case 1:Uo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&py(s,s.return,l),ic(s);break;case 27:bf(s.stateNode);case 26:case 5:Uo(s,s.return),ic(s);break;case 22:s.memoizedState===null&&ic(s);break;case 30:ic(s);break;default:ic(s)}i=i.sibling}}function Sl(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=i,_=s,C=_.flags;switch(_.tag){case 0:case 11:case 15:Sl(g,_,l),cf(4,_);break;case 1:if(Sl(g,_,l),u=_,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Ce){Wn(u,u.return,Ce)}if(u=_,g=u.updateQueue,g!==null){var G=u.stateNode;try{var ue=g.shared.hiddenCallbacks;if(ue!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ue.length;g++)Or(ue[g],G)}catch(Ce){Wn(u,u.return,Ce)}}l&&C&64&&dy(_),hf(_,_.return);break;case 27:yy(_);case 26:case 5:Sl(g,_,l),l&&u===null&&C&4&&my(_),hf(_,_.return);break;case 12:Sl(g,_,l);break;case 31:Sl(g,_,l),l&&C&4&&Ay(g,_);break;case 13:Sl(g,_,l),l&&C&4&&Sy(g,_);break;case 22:_.memoizedState===null&&Sl(g,_,l),hf(_,_.return);break;case 30:break;default:Sl(g,_,l)}s=s.sibling}}function bg(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Ju(l))}function wg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ju(i))}function oo(i,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ty(i,s,l,u),s=s.sibling}function Ty(i,s,l,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:oo(i,s,l,u),g&2048&&cf(9,s);break;case 1:oo(i,s,l,u);break;case 3:oo(i,s,l,u),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ju(i)));break;case 12:if(g&2048){oo(i,s,l,u),i=s.stateNode;try{var _=s.memoizedProps,C=_.id,G=_.onPostCommit;typeof G=="function"&&G(C,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ue){Wn(s,s.return,ue)}}else oo(i,s,l,u);break;case 31:oo(i,s,l,u);break;case 13:oo(i,s,l,u);break;case 23:break;case 22:_=s.stateNode,C=s.alternate,s.memoizedState!==null?_._visibility&2?oo(i,s,l,u):ff(i,s):_._visibility&2?oo(i,s,l,u):(_._visibility|=2,Qc(i,s,l,u,(s.subtreeFlags&10256)!==0||!1)),g&2048&&bg(C,s);break;case 24:oo(i,s,l,u),g&2048&&wg(s.alternate,s);break;default:oo(i,s,l,u)}}function Qc(i,s,l,u,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=i,C=s,G=l,ue=u,Ce=C.flags;switch(C.tag){case 0:case 11:case 15:Qc(_,C,G,ue,g),cf(8,C);break;case 23:break;case 22:var Ue=C.stateNode;C.memoizedState!==null?Ue._visibility&2?Qc(_,C,G,ue,g):ff(_,C):(Ue._visibility|=2,Qc(_,C,G,ue,g)),g&&Ce&2048&&bg(C.alternate,C);break;case 24:Qc(_,C,G,ue,g),g&&Ce&2048&&wg(C.alternate,C);break;default:Qc(_,C,G,ue,g)}s=s.sibling}}function ff(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,u=s,g=u.flags;switch(u.tag){case 22:ff(l,u),g&2048&&bg(u.alternate,u);break;case 24:ff(l,u),g&2048&&wg(u.alternate,u);break;default:ff(l,u)}s=s.sibling}}var df=8192;function Xc(i,s,l){if(i.subtreeFlags&df)for(i=i.child;i!==null;)Ny(i,s,l),i=i.sibling}function Ny(i,s,l){switch(i.tag){case 26:Xc(i,s,l),i.flags&df&&i.memoizedState!==null&&_S(l,ao,i.memoizedState,i.memoizedProps);break;case 5:Xc(i,s,l);break;case 3:case 4:var u=ao;ao=Zd(i.stateNode.containerInfo),Xc(i,s,l),ao=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=df,df=16777216,Xc(i,s,l),df=u):Xc(i,s,l));break;default:Xc(i,s,l)}}function Cy(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function pf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Mr=u,Ry(u,i)}Cy(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Iy(i),i=i.sibling}function Iy(i){switch(i.tag){case 0:case 11:case 15:pf(i),i.flags&2048&&tu(9,i,i.return);break;case 3:pf(i);break;case 12:pf(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Bd(i)):pf(i);break;default:pf(i)}}function Bd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Mr=u,Ry(u,i)}Cy(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:tu(8,s,s.return),Bd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Bd(s));break;default:Bd(s)}i=i.sibling}}function Ry(i,s){for(;Mr!==null;){var l=Mr;switch(l.tag){case 0:case 11:case 15:tu(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ju(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Mr=u;else e:for(l=i;Mr!==null;){u=Mr;var g=u.sibling,_=u.return;if(by(u),u===l){Mr=null;break e}if(g!==null){g.return=_,Mr=g;break e}Mr=_}}}var OA={getCacheForType:function(i){var s=_r(Ii),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return _r(Ii).controller.signal}},PA=typeof WeakMap=="function"?WeakMap:Map,Bn=0,oi=null,mn=null,vn=0,Kn=0,ua=null,nu=!1,$c=!1,Ag=!1,El=0,Bi=0,iu=0,rc=0,Sg=0,ca=0,Jc=0,mf=null,Ks=null,Eg=!1,Fd=0,Ly=0,zd=1/0,qd=null,ru=null,wr=0,su=null,Zc=null,xl=0,xg=0,Tg=null,ky=null,gf=0,Ng=null;function ha(){return(Bn&2)!==0&&vn!==0?vn&-vn:ae.T!==null?Dg():ki()}function Dy(){if(ca===0)if((vn&536870912)===0||pn){var i=kn;kn<<=1,(kn&3932160)===0&&(kn=262144),ca=i}else ca=536870912;return i=mi.current,i!==null&&(i.flags|=32),ca}function Ws(i,s,l){(i===oi&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)&&(eh(i,0),au(i,vn,ca,!1)),St(i,l),((Bn&2)===0||i!==oi)&&(i===oi&&((Bn&2)===0&&(rc|=l),Bi===4&&au(i,vn,ca,!1)),Vo(i))}function Oy(i,s,l){if((Bn&6)!==0)throw Error(r(327));var u=!l&&(s&127)===0&&(s&i.expiredLanes)===0||ur(i,s),g=u?UA(i,s):Ig(i,s,!0),_=u;do{if(g===0){$c&&!u&&au(i,s,0,!1);break}else{if(l=i.current.alternate,_&&!MA(l)){g=Ig(i,s,!1),_=!1;continue}if(g===2){if(_=s,i.errorRecoveryDisabledLanes&_)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){s=C;e:{var G=i;g=mf;var ue=G.current.memoizedState.isDehydrated;if(ue&&(eh(G,C).flags|=256),C=Ig(G,C,!1),C!==2){if(Ag&&!ue){G.errorRecoveryDisabledLanes|=_,rc|=_,g=4;break e}_=Ks,Ks=g,_!==null&&(Ks===null?Ks=_:Ks.push.apply(Ks,_))}g=C}if(_=!1,g!==2)continue}}if(g===1){eh(i,0),au(i,s,0,!0);break}e:{switch(u=i,_=g,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:au(u,s,ca,!nu);break e;case 2:Ks=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=Fd+300-Wt(),10<g)){if(au(u,s,ca,!nu),on(u,0,!0)!==0)break e;xl=s,u.timeoutHandle=h5(Py.bind(null,u,l,Ks,qd,Eg,s,ca,rc,Jc,nu,_,"Throttled",-0,0),g);break e}Py(u,l,Ks,qd,Eg,s,ca,rc,Jc,nu,_,null,-0,0)}}break}while(!0);Vo(i)}function Py(i,s,l,u,g,_,C,G,ue,Ce,Ue,Ge,De,Oe){if(i.timeoutHandle=-1,Ge=s.subtreeFlags,Ge&8192||(Ge&16785408)===16785408){Ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bs},Ny(s,_,Ge);var ft=(_&62914560)===_?Fd-Wt():(_&4194048)===_?Ly-Wt():0;if(ft=bS(Ge,ft),ft!==null){xl=_,i.cancelPendingCommit=ft(qy.bind(null,i,s,_,l,u,g,C,G,ue,Ue,Ge,null,De,Oe)),au(i,_,C,!Ce);return}}qy(i,s,_,l,u,g,C,G,ue)}function MA(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],_=g.getSnapshot;g=g.value;try{if(!mr(_(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function au(i,s,l,u){s&=~Sg,s&=~rc,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var g=s;0<g;){var _=31-Qt(g),C=1<<_;u[_]=-1,g&=~C}l!==0&&Fr(i,l,s)}function Hd(){return(Bn&6)===0?(yf(0),!1):!0}function Cg(){if(mn!==null){if(Kn===0)var i=mn.return;else i=mn,ka=Ro=null,zc(i),Ye=null,pt=0,i=mn;for(;i!==null;)fy(i.alternate,i),i=i.return;mn=null}}function eh(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,nS(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),xl=0,Cg(),oi=i,mn=l=Ms(i.current,null),vn=s,Kn=0,ua=null,nu=!1,$c=ur(i,s),Ag=!1,Jc=ca=Sg=rc=iu=Bi=0,Ks=mf=null,Eg=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var g=31-Qt(u),_=1<<g;s|=i[g],u&=~_}return El=s,Yu(),l}function My(i,s){Rt=null,ae.H=of,s===de||s===ne?(s=Be(),Kn=3):s===Te?(s=Be(),Kn=4):Kn=s===ag?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ua=s,mn===null&&(Bi=1,Dd(i,js(s,i.current)))}function jy(){var i=mi.current;return i===null?!0:(vn&4194048)===vn?Tn===null:(vn&62914560)===vn||(vn&536870912)!==0?i===Tn:!1}function Uy(){var i=ae.H;return ae.H=of,i===null?of:i}function Vy(){var i=ae.A;return ae.A=OA,i}function Gd(){Bi=4,nu||(vn&4194048)!==vn&&mi.current!==null||($c=!0),(iu&134217727)===0&&(rc&134217727)===0||oi===null||au(oi,vn,ca,!1)}function Ig(i,s,l){var u=Bn;Bn|=2;var g=Uy(),_=Vy();(oi!==i||vn!==s)&&(qd=null,eh(i,s)),s=!1;var C=Bi;e:do try{if(Kn!==0&&mn!==null){var G=mn,ue=ua;switch(Kn){case 8:Cg(),C=6;break e;case 3:case 2:case 9:case 6:mi.current===null&&(s=!0);var Ce=Kn;if(Kn=0,ua=null,th(i,G,ue,Ce),l&&$c){C=0;break e}break;default:Ce=Kn,Kn=0,ua=null,th(i,G,ue,Ce)}}jA(),C=Bi;break}catch(Ue){My(i,Ue)}while(!0);return s&&i.shellSuspendCounter++,ka=Ro=null,Bn=u,ae.H=g,ae.A=_,mn===null&&(oi=null,vn=0,Yu()),C}function jA(){for(;mn!==null;)By(mn)}function UA(i,s){var l=Bn;Bn|=2;var u=Uy(),g=Vy();oi!==i||vn!==s?(qd=null,zd=Wt()+500,eh(i,s)):$c=ur(i,s);e:do try{if(Kn!==0&&mn!==null){s=mn;var _=ua;t:switch(Kn){case 1:Kn=0,ua=null,th(i,s,_,1);break;case 2:case 9:if(Ae(_)){Kn=0,ua=null,Fy(s);break}s=function(){Kn!==2&&Kn!==9||oi!==i||(Kn=7),Vo(i)},_.then(s,s);break e;case 3:Kn=7;break e;case 4:Kn=5;break e;case 7:Ae(_)?(Kn=0,ua=null,Fy(s)):(Kn=0,ua=null,th(i,s,_,7));break;case 5:var C=null;switch(mn.tag){case 26:C=mn.memoizedState;case 5:case 27:var G=mn;if(C?T5(C):G.stateNode.complete){Kn=0,ua=null;var ue=G.sibling;if(ue!==null)mn=ue;else{var Ce=G.return;Ce!==null?(mn=Ce,Yd(Ce)):mn=null}break t}}Kn=0,ua=null,th(i,s,_,5);break;case 6:Kn=0,ua=null,th(i,s,_,6);break;case 8:Cg(),Bi=6;break e;default:throw Error(r(462))}}VA();break}catch(Ue){My(i,Ue)}while(!0);return ka=Ro=null,ae.H=u,ae.A=g,Bn=l,mn!==null?0:(oi=null,vn=0,Yu(),Bi)}function VA(){for(;mn!==null&&!Ct();)By(mn)}function By(i){var s=cy(i.alternate,i,El);i.memoizedProps=i.pendingProps,s===null?Yd(i):mn=s}function Fy(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=ry(l,s,s.pendingProps,s.type,void 0,vn);break;case 11:s=ry(l,s,s.pendingProps,s.type.render,s.ref,vn);break;case 5:zc(s);default:fy(l,s),s=mn=Qu(s,El),s=cy(l,s,El)}i.memoizedProps=i.pendingProps,s===null?Yd(i):mn=s}function th(i,s,l,u){ka=Ro=null,zc(s),Ye=null,pt=0;var g=s.return;try{if(NA(i,g,s,l,vn)){Bi=1,Dd(i,js(l,i.current)),mn=null;return}}catch(_){if(g!==null)throw mn=g,_;Bi=1,Dd(i,js(l,i.current)),mn=null;return}s.flags&32768?(pn||u===1?i=!0:$c||(vn&536870912)!==0?i=!1:(nu=i=!0,(u===2||u===9||u===3||u===6)&&(u=mi.current,u!==null&&u.tag===13&&(u.flags|=16384))),zy(s,i)):Yd(s)}function Yd(i){var s=i;do{if((s.flags&32768)!==0){zy(s,nu);return}i=s.return;var l=RA(s.alternate,s,El);if(l!==null){mn=l;return}if(s=s.sibling,s!==null){mn=s;return}mn=s=i}while(s!==null);Bi===0&&(Bi=5)}function zy(i,s){do{var l=LA(i.alternate,i);if(l!==null){l.flags&=32767,mn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){mn=i;return}mn=i=l}while(i!==null);Bi=6,mn=null}function qy(i,s,l,u,g,_,C,G,ue){i.cancelPendingCommit=null;do Kd();while(wr!==0);if((Bn&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=Cc,Js(i,l,_,C,G,ue),i===oi&&(mn=oi=null,vn=0),Zc=s,su=i,xl=l,xg=_,Tg=g,ky=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,qA(Xt,function(){return Wy(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=ae.T,ae.T=null,g=pe.p,pe.p=2,C=Bn,Bn|=4;try{kA(i,s,l)}finally{Bn=C,pe.p=g,ae.T=u}}wr=1,Hy(),Gy(),Yy()}}function Hy(){if(wr===1){wr=0;var i=su,s=Zc,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=ae.T,ae.T=null;var u=pe.p;pe.p=2;var g=Bn;Bn|=4;try{Ey(s,i);var _=Fg,C=Ja(i.containerInfo),G=_.focusedElem,ue=_.selectionRange;if(C!==G&&G&&G.ownerDocument&&$a(G.ownerDocument.documentElement,G)){if(ue!==null&&Ra(G)){var Ce=ue.start,Ue=ue.end;if(Ue===void 0&&(Ue=Ce),"selectionStart"in G)G.selectionStart=Ce,G.selectionEnd=Math.min(Ue,G.value.length);else{var Ge=G.ownerDocument||document,De=Ge&&Ge.defaultView||window;if(De.getSelection){var Oe=De.getSelection(),ft=G.textContent.length,Vt=Math.min(ue.start,ft),ii=ue.end===void 0?Vt:Math.min(ue.end,ft);!Oe.extend&&Vt>ii&&(C=ii,ii=Vt,Vt=C);var _e=Hl(G,Vt),me=Hl(G,ii);if(_e&&me&&(Oe.rangeCount!==1||Oe.anchorNode!==_e.node||Oe.anchorOffset!==_e.offset||Oe.focusNode!==me.node||Oe.focusOffset!==me.offset)){var Ne=Ge.createRange();Ne.setStart(_e.node,_e.offset),Oe.removeAllRanges(),Vt>ii?(Oe.addRange(Ne),Oe.extend(me.node,me.offset)):(Ne.setEnd(me.node,me.offset),Oe.addRange(Ne))}}}}for(Ge=[],Oe=G;Oe=Oe.parentNode;)Oe.nodeType===1&&Ge.push({element:Oe,left:Oe.scrollLeft,top:Oe.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Ge.length;G++){var ze=Ge[G];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}sp=!!Bg,Fg=Bg=null}finally{Bn=g,pe.p=u,ae.T=l}}i.current=s,wr=2}}function Gy(){if(wr===2){wr=0;var i=su,s=Zc,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=ae.T,ae.T=null;var u=pe.p;pe.p=2;var g=Bn;Bn|=4;try{_y(i,s.alternate,s)}finally{Bn=g,pe.p=u,ae.T=l}}wr=3}}function Yy(){if(wr===4||wr===3){wr=0,bt();var i=su,s=Zc,l=xl,u=ky;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?wr=5:(wr=0,Zc=su=null,Ky(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(ru=null),Xn(l),s=s.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot($t,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=ae.T,g=pe.p,pe.p=2,ae.T=null;try{for(var _=i.onRecoverableError,C=0;C<u.length;C++){var G=u[C];_(G.value,{componentStack:G.stack})}}finally{ae.T=s,pe.p=g}}(xl&3)!==0&&Kd(),Vo(i),g=i.pendingLanes,(l&261930)!==0&&(g&42)!==0?i===Ng?gf++:(gf=0,Ng=i):gf=0,yf(0)}}function Ky(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Ju(s)))}function Kd(){return Hy(),Gy(),Yy(),Wy()}function Wy(){if(wr!==5)return!1;var i=su,s=xg;xg=0;var l=Xn(xl),u=ae.T,g=pe.p;try{pe.p=32>l?32:l,ae.T=null,l=Tg,Tg=null;var _=su,C=xl;if(wr=0,Zc=su=null,xl=0,(Bn&6)!==0)throw Error(r(331));var G=Bn;if(Bn|=4,Iy(_.current),Ty(_,_.current,C,l),Bn=G,yf(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot($t,_)}catch{}return!0}finally{pe.p=g,ae.T=u,Ky(i,s)}}function Qy(i,s,l){s=js(l,s),s=sg(i.stateNode,s,2),i=sn(i,s,2),i!==null&&(St(i,2),Vo(i))}function Wn(i,s,l){if(i.tag===3)Qy(i,i,l);else for(;s!==null;){if(s.tag===3){Qy(s,i,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ru===null||!ru.has(u))){i=js(l,i),l=X2(2),u=sn(s,l,2),u!==null&&($2(l,u,s,i),St(u,2),Vo(u));break}}s=s.return}}function Rg(i,s,l){var u=i.pingCache;if(u===null){u=i.pingCache=new PA;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(l)||(Ag=!0,g.add(l),i=BA.bind(null,i,s,l),s.then(i,i))}function BA(i,s,l){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,oi===i&&(vn&l)===l&&(Bi===4||Bi===3&&(vn&62914560)===vn&&300>Wt()-Fd?(Bn&2)===0&&eh(i,0):Sg|=l,Jc===vn&&(Jc=0)),Vo(i)}function Xy(i,s){s===0&&(s=Cs()),i=eo(i,s),i!==null&&(St(i,s),Vo(i))}function FA(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Xy(i,l)}function zA(i,s){var l=0;switch(i.tag){case 31:case 13:var u=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Xy(i,l)}function qA(i,s){return st(i,s)}var Wd=null,nh=null,Lg=!1,Qd=!1,kg=!1,ou=0;function Vo(i){i!==nh&&i.next===null&&(nh===null?Wd=nh=i:nh=nh.next=i),Qd=!0,Lg||(Lg=!0,GA())}function yf(i,s){if(!kg&&Qd){kg=!0;do for(var l=!1,u=Wd;u!==null;){if(i!==0){var g=u.pendingLanes;if(g===0)var _=0;else{var C=u.suspendedLanes,G=u.pingedLanes;_=(1<<31-Qt(42|i)+1)-1,_&=g&~(C&~G),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,e5(u,_))}else _=vn,_=on(u,u===oi?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||ur(u,_)||(l=!0,e5(u,_));u=u.next}while(l);kg=!1}}function HA(){$y()}function $y(){Qd=Lg=!1;var i=0;ou!==0&&tS()&&(i=ou);for(var s=Wt(),l=null,u=Wd;u!==null;){var g=u.next,_=Jy(u,s);_===0?(u.next=null,l===null?Wd=g:l.next=g,g===null&&(nh=l)):(l=u,(i!==0||(_&3)!==0)&&(Qd=!0)),u=g}wr!==0&&wr!==5||yf(i),ou!==0&&(ou=0)}function Jy(i,s){for(var l=i.suspendedLanes,u=i.pingedLanes,g=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var C=31-Qt(_),G=1<<C,ue=g[C];ue===-1?((G&l)===0||(G&u)!==0)&&(g[C]=Ji(G,s)):ue<=s&&(i.expiredLanes|=G),_&=~G}if(s=oi,l=vn,l=on(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===s&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&rt(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||ur(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(u!==null&&rt(u),Xn(l)){case 2:case 8:l=an;break;case 32:l=Xt;break;case 268435456:l=Ht;break;default:l=Xt}return u=Zy.bind(null,i),l=st(l,u),i.callbackPriority=s,i.callbackNode=l,s}return u!==null&&u!==null&&rt(u),i.callbackPriority=2,i.callbackNode=null,2}function Zy(i,s){if(wr!==0&&wr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Kd()&&i.callbackNode!==l)return null;var u=vn;return u=on(i,i===oi?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Oy(i,u,s),Jy(i,Wt()),i.callbackNode!=null&&i.callbackNode===l?Zy.bind(null,i):null)}function e5(i,s){if(Kd())return null;Oy(i,s,!0)}function GA(){iS(function(){(Bn&6)!==0?st(Bt,HA):$y()})}function Dg(){if(ou===0){var i=d;i===0&&(i=Mt,Mt<<=1,(Mt&261888)===0&&(Mt=256)),ou=i}return ou}function t5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ir(""+i)}function n5(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function YA(i,s,l,u,g){if(s==="submit"&&l&&l.stateNode===g){var _=t5((g[Hn]||null).action),C=u.submitter;C&&(s=(s=C[Hn]||null)?t5(s.formAction):C.getAttribute("formAction"),s!==null&&(_=s,C=null));var G=new tr("action","action",null,u,g);i.push({event:G,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ou!==0){var ue=C?n5(g,C):new FormData(g);Zm(l,{pending:!0,data:ue,method:g.method,action:_},null,ue)}}else typeof _=="function"&&(G.preventDefault(),ue=C?n5(g,C):new FormData(g),Zm(l,{pending:!0,data:ue,method:g.method,action:_},_,ue))},currentTarget:g}]})}}for(var Og=0;Og<cl.length;Og++){var Pg=cl[Og],KA=Pg.toLowerCase(),WA=Pg[0].toUpperCase()+Pg.slice(1);Ps(KA,"on"+WA)}Ps(ul,"onAnimationEnd"),Ps(Hu,"onAnimationIteration"),Ps(Gh,"onAnimationStart"),Ps("dblclick","onDoubleClick"),Ps("focusin","onFocus"),Ps("focusout","onBlur"),Ps(bd,"onTransitionRun"),Ps(wd,"onTransitionStart"),Ps(Ad,"onTransitionCancel"),Ps(Yh,"onTransitionEnd"),_s("onMouseEnter",["mouseout","mouseover"]),_s("onMouseLeave",["mouseout","mouseover"]),_s("onPointerEnter",["pointerout","pointerover"]),_s("onPointerLeave",["pointerout","pointerover"]),rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vf));function i5(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],g=u.event;u=u.listeners;e:{var _=void 0;if(s)for(var C=u.length-1;0<=C;C--){var G=u[C],ue=G.instance,Ce=G.currentTarget;if(G=G.listener,ue!==_&&g.isPropagationStopped())break e;_=G,g.currentTarget=Ce;try{_(g)}catch(Ue){Gu(Ue)}g.currentTarget=null,_=ue}else for(C=0;C<u.length;C++){if(G=u[C],ue=G.instance,Ce=G.currentTarget,G=G.listener,ue!==_&&g.isPropagationStopped())break e;_=G,g.currentTarget=Ce;try{_(g)}catch(Ue){Gu(Ue)}g.currentTarget=null,_=ue}}}}function gn(i,s){var l=s[Tr];l===void 0&&(l=s[Tr]=new Set);var u=i+"__bubble";l.has(u)||(r5(s,i,2,!1),l.add(u))}function Mg(i,s,l){var u=0;s&&(u|=4),r5(l,i,u,s)}var Xd="_reactListening"+Math.random().toString(36).slice(2);function jg(i){if(!i[Xd]){i[Xd]=!0,vo.forEach(function(l){l!=="selectionchange"&&(QA.has(l)||Mg(l,!1,i),Mg(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Xd]||(s[Xd]=!0,Mg("selectionchange",!1,s))}}function r5(i,s,l,u){switch(D5(s)){case 2:var g=SS;break;case 8:g=ES;break;default:g=Jg}l=g.bind(null,s,l,i),g=void 0,!Ha||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?i.addEventListener(s,l,{capture:!0,passive:g}):i.addEventListener(s,l,!0):g!==void 0?i.addEventListener(s,l,{passive:g}):i.addEventListener(s,l,!1)}function Ug(i,s,l,u,g){var _=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var C=u.tag;if(C===3||C===4){var G=u.stateNode.containerInfo;if(G===g)break;if(C===4)for(C=u.return;C!==null;){var ue=C.tag;if((ue===3||ue===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;G!==null;){if(C=zr(G),C===null)return;if(ue=C.tag,ue===5||ue===6||ue===26||ue===27){u=_=C;continue e}G=G.parentNode}}u=u.return}Aa(function(){var Ce=_,Ue=Rr(l),Ge=[];e:{var De=Kh.get(i);if(De!==void 0){var Oe=tr,ft=i;switch(i){case"keypress":if(Yr(l)===0)break e;case"keydown":case"keyup":Oe=fn;break;case"focusin":ft="focus",Oe=As;break;case"focusout":ft="blur",Oe=As;break;case"beforeblur":case"afterblur":Oe=As;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=Eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=Ds;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=E;break;case ul:case Hu:case Gh:Oe=w;break;case Yh:Oe=Q;break;case"scroll":case"scrollend":Oe=Sa;break;case"wheel":Oe=Le;break;case"copy":case"cut":case"paste":Oe=ie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=zn;break;case"toggle":case"beforetoggle":Oe=qt}var Vt=(s&4)!==0,ii=!Vt&&(i==="scroll"||i==="scrollend"),_e=Vt?De!==null?De+"Capture":null:De;Vt=[];for(var me=Ce,Ne;me!==null;){var ze=me;if(Ne=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||Ne===null||_e===null||(ze=Gi(me,_e),ze!=null&&Vt.push(_f(me,ze,Ne))),ii)break;me=me.return}0<Vt.length&&(De=new Oe(De,ft,null,l,Ue),Ge.push({event:De,listeners:Vt}))}}if((s&7)===0){e:{if(De=i==="mouseover"||i==="pointerover",Oe=i==="mouseout"||i==="pointerout",De&&l!==ia&&(ft=l.relatedTarget||l.fromElement)&&(zr(ft)||ft[Di]))break e;if((Oe||De)&&(De=Ue.window===Ue?Ue:(De=Ue.ownerDocument)?De.defaultView||De.parentWindow:window,Oe?(ft=l.relatedTarget||l.toElement,Oe=Ce,ft=ft?zr(ft):null,ft!==null&&(ii=o(ft),Vt=ft.tag,ft!==ii||Vt!==5&&Vt!==27&&Vt!==6)&&(ft=null)):(Oe=null,ft=Ce),Oe!==ft)){if(Vt=Eo,ze="onMouseLeave",_e="onMouseEnter",me="mouse",(i==="pointerout"||i==="pointerover")&&(Vt=zn,ze="onPointerLeave",_e="onPointerEnter",me="pointer"),ii=Oe==null?De:qr(Oe),Ne=ft==null?De:qr(ft),De=new Vt(ze,me+"leave",Oe,l,Ue),De.target=ii,De.relatedTarget=Ne,ze=null,zr(Ue)===Ce&&(Vt=new Vt(_e,me+"enter",ft,l,Ue),Vt.target=Ne,Vt.relatedTarget=ii,ze=Vt),ii=ze,Oe&&ft)t:{for(Vt=XA,_e=Oe,me=ft,Ne=0,ze=_e;ze;ze=Vt(ze))Ne++;ze=0;for(var Ot=me;Ot;Ot=Vt(Ot))ze++;for(;0<Ne-ze;)_e=Vt(_e),Ne--;for(;0<ze-Ne;)me=Vt(me),ze--;for(;Ne--;){if(_e===me||me!==null&&_e===me.alternate){Vt=_e;break t}_e=Vt(_e),me=Vt(me)}Vt=null}else Vt=null;Oe!==null&&s5(Ge,De,Oe,Vt,!1),ft!==null&&ii!==null&&s5(Ge,ii,ft,Vt,!0)}}e:{if(De=Ce?qr(Ce):window,Oe=De.nodeName&&De.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&De.type==="file")var Mn=To;else if(zu(De))if(os)Mn=Ca;else{Mn=Ni;var _t=zl}else Oe=De.nodeName,!Oe||Oe.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Ce&&wo(Ce.elementType)&&(Mn=To):Mn=Nc;if(Mn&&(Mn=Mn(i,Ce))){Es(Ge,Mn,l,Ue);break e}_t&&_t(i,De,Ce),i==="focusout"&&Ce&&De.type==="number"&&Ce.memoizedProps.value!=null&&nl(De,"number",De.value)}switch(_t=Ce?qr(Ce):window,i){case"focusin":(zu(_t)||_t.contentEditable==="true")&&(xs=_t,Za=Ce,Lr=null);break;case"focusout":Lr=Za=xs=null;break;case"mousedown":Os=!0;break;case"contextmenu":case"mouseup":case"dragend":Os=!1,Rn(Ge,l,Ue);break;case"selectionchange":if(ll)break;case"keydown":case"keyup":Rn(Ge,l,Ue)}var ln;if(un)e:{switch(i){case"compositionstart":var _n="onCompositionStart";break e;case"compositionend":_n="onCompositionEnd";break e;case"compositionupdate":_n="onCompositionUpdate";break e}_n=void 0}else xa?Ss(i,l)&&(_n="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(_n="onCompositionStart");_n&&(dr&&l.locale!=="ko"&&(xa||_n!=="onCompositionStart"?_n==="onCompositionEnd"&&xa&&(ln=al()):(Gr=Ue,Ga="value"in Gr?Gr.value:Gr.textContent,xa=!0)),_t=$d(Ce,_n),0<_t.length&&(_n=new ve(_n,i,null,l,Ue),Ge.push({event:_n,listeners:_t}),ln?_n.data=ln:(ln=Ea(l),ln!==null&&(_n.data=ln)))),(ln=nr?Qr(i,l):Ka(i,l))&&(_n=$d(Ce,"onBeforeInput"),0<_n.length&&(_t=new ve("onBeforeInput","beforeinput",null,l,Ue),Ge.push({event:_t,listeners:_n}),_t.data=ln)),YA(Ge,i,Ce,l,Ue)}i5(Ge,s)})}function _f(i,s,l){return{instance:i,listener:s,currentTarget:l}}function $d(i,s){for(var l=s+"Capture",u=[];i!==null;){var g=i,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=Gi(i,l),g!=null&&u.unshift(_f(i,g,_)),g=Gi(i,s),g!=null&&u.push(_f(i,g,_))),i.tag===3)return u;i=i.return}return[]}function XA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function s5(i,s,l,u,g){for(var _=s._reactName,C=[];l!==null&&l!==u;){var G=l,ue=G.alternate,Ce=G.stateNode;if(G=G.tag,ue!==null&&ue===u)break;G!==5&&G!==26&&G!==27||Ce===null||(ue=Ce,g?(Ce=Gi(l,_),Ce!=null&&C.unshift(_f(l,Ce,ue))):g||(Ce=Gi(l,_),Ce!=null&&C.push(_f(l,Ce,ue)))),l=l.return}C.length!==0&&i.push({event:s,listeners:C})}var $A=/\r\n?/g,JA=/\u0000|\uFFFD/g;function a5(i){return(typeof i=="string"?i:""+i).replace($A,`
`).replace(JA,"")}function o5(i,s){return s=a5(s),a5(i)===s}function ni(i,s,l,u,g,_){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Hi(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Hi(i,""+u);break;case"className":er(i,"class",u);break;case"tabIndex":er(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":er(i,l,u);break;case"style":sl(i,u,_);break;case"data":if(s!=="object"){er(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Ir(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&ni(i,s,"name",g.name,g,null),ni(i,s,"formEncType",g.formEncType,g,null),ni(i,s,"formMethod",g.formMethod,g,null),ni(i,s,"formTarget",g.formTarget,g,null)):(ni(i,s,"encType",g.encType,g,null),ni(i,s,"method",g.method,g,null),ni(i,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Ir(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=bs);break;case"onScroll":u!=null&&gn("scroll",i);break;case"onScrollEnd":u!=null&&gn("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Ir(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":gn("beforetoggle",i),gn("toggle",i),Hr(i,"popover",u);break;case"xlinkActuate":vi(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":vi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":vi(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":vi(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":vi(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":vi(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":vi(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":vi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":vi(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Hr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ao.get(l)||l,Hr(i,l,u))}}function Vg(i,s,l,u,g,_){switch(l){case"style":sl(i,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?Hi(i,u):(typeof u=="number"||typeof u=="bigint")&&Hi(i,""+u);break;case"onScroll":u!=null&&gn("scroll",i);break;case"onScrollEnd":u!=null&&gn("scrollend",i);break;case"onClick":u!=null&&(i.onclick=bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),_=i[Hn]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(s,_,g),typeof u=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,u,g);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):Hr(i,l,u)}}}function es(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gn("error",i),gn("load",i);var u=!1,g=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var C=l[_];if(C!=null)switch(_){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ni(i,s,_,C,l,null)}}g&&ni(i,s,"srcSet",l.srcSet,l,null),u&&ni(i,s,"src",l.src,l,null);return;case"input":gn("invalid",i);var G=_=C=g=null,ue=null,Ce=null;for(u in l)if(l.hasOwnProperty(u)){var Ue=l[u];if(Ue!=null)switch(u){case"name":g=Ue;break;case"type":C=Ue;break;case"checked":ue=Ue;break;case"defaultChecked":Ce=Ue;break;case"value":_=Ue;break;case"defaultValue":G=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(r(137,s));break;default:ni(i,s,u,Ue,l,null)}}Vl(i,_,G,ue,Ce,C,g,!1);return;case"select":gn("invalid",i),u=C=_=null;for(g in l)if(l.hasOwnProperty(g)&&(G=l[g],G!=null))switch(g){case"value":_=G;break;case"defaultValue":C=G;break;case"multiple":u=G;default:ni(i,s,g,G,l,null)}s=_,l=C,i.multiple=!!u,s!=null?fr(i,!!u,s,!1):l!=null&&fr(i,!!u,l,!0);return;case"textarea":gn("invalid",i),_=g=u=null;for(C in l)if(l.hasOwnProperty(C)&&(G=l[C],G!=null))switch(C){case"value":u=G;break;case"defaultValue":g=G;break;case"children":_=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:ni(i,s,C,G,l,null)}ta(i,u,g,_);return;case"option":for(ue in l)l.hasOwnProperty(ue)&&(u=l[ue],u!=null)&&(ue==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":ni(i,s,ue,u,l,null));return;case"dialog":gn("beforetoggle",i),gn("toggle",i),gn("cancel",i),gn("close",i);break;case"iframe":case"object":gn("load",i);break;case"video":case"audio":for(u=0;u<vf.length;u++)gn(vf[u],i);break;case"image":gn("error",i),gn("load",i);break;case"details":gn("toggle",i);break;case"embed":case"source":case"link":gn("error",i),gn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ce in l)if(l.hasOwnProperty(Ce)&&(u=l[Ce],u!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ni(i,s,Ce,u,l,null)}return;default:if(wo(s)){for(Ue in l)l.hasOwnProperty(Ue)&&(u=l[Ue],u!==void 0&&Vg(i,s,Ue,u,l,void 0));return}}for(G in l)l.hasOwnProperty(G)&&(u=l[G],u!=null&&ni(i,s,G,u,l,null))}function ZA(i,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,C=null,G=null,ue=null,Ce=null,Ue=null;for(Oe in l){var Ge=l[Oe];if(l.hasOwnProperty(Oe)&&Ge!=null)switch(Oe){case"checked":break;case"value":break;case"defaultValue":ue=Ge;default:u.hasOwnProperty(Oe)||ni(i,s,Oe,null,u,Ge)}}for(var De in u){var Oe=u[De];if(Ge=l[De],u.hasOwnProperty(De)&&(Oe!=null||Ge!=null))switch(De){case"type":_=Oe;break;case"name":g=Oe;break;case"checked":Ce=Oe;break;case"defaultChecked":Ue=Oe;break;case"value":C=Oe;break;case"defaultValue":G=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(r(137,s));break;default:Oe!==Ge&&ni(i,s,De,Oe,u,Ge)}}za(i,C,G,ue,Ce,Ue,_,g);return;case"select":Oe=C=G=De=null;for(_ in l)if(ue=l[_],l.hasOwnProperty(_)&&ue!=null)switch(_){case"value":break;case"multiple":Oe=ue;default:u.hasOwnProperty(_)||ni(i,s,_,null,u,ue)}for(g in u)if(_=u[g],ue=l[g],u.hasOwnProperty(g)&&(_!=null||ue!=null))switch(g){case"value":De=_;break;case"defaultValue":G=_;break;case"multiple":C=_;default:_!==ue&&ni(i,s,g,_,u,ue)}s=G,l=C,u=Oe,De!=null?fr(i,!!l,De,!1):!!u!=!!l&&(s!=null?fr(i,!!l,s,!0):fr(i,!!l,l?[]:"",!1));return;case"textarea":Oe=De=null;for(G in l)if(g=l[G],l.hasOwnProperty(G)&&g!=null&&!u.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:ni(i,s,G,null,u,g)}for(C in u)if(g=u[C],_=l[C],u.hasOwnProperty(C)&&(g!=null||_!=null))switch(C){case"value":De=g;break;case"defaultValue":Oe=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==_&&ni(i,s,C,g,u,_)}il(i,De,Oe);return;case"option":for(var ft in l)De=l[ft],l.hasOwnProperty(ft)&&De!=null&&!u.hasOwnProperty(ft)&&(ft==="selected"?i.selected=!1:ni(i,s,ft,null,u,De));for(ue in u)De=u[ue],Oe=l[ue],u.hasOwnProperty(ue)&&De!==Oe&&(De!=null||Oe!=null)&&(ue==="selected"?i.selected=De&&typeof De!="function"&&typeof De!="symbol":ni(i,s,ue,De,u,Oe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in l)De=l[Vt],l.hasOwnProperty(Vt)&&De!=null&&!u.hasOwnProperty(Vt)&&ni(i,s,Vt,null,u,De);for(Ce in u)if(De=u[Ce],Oe=l[Ce],u.hasOwnProperty(Ce)&&De!==Oe&&(De!=null||Oe!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,s));break;default:ni(i,s,Ce,De,u,Oe)}return;default:if(wo(s)){for(var ii in l)De=l[ii],l.hasOwnProperty(ii)&&De!==void 0&&!u.hasOwnProperty(ii)&&Vg(i,s,ii,void 0,u,De);for(Ue in u)De=u[Ue],Oe=l[Ue],!u.hasOwnProperty(Ue)||De===Oe||De===void 0&&Oe===void 0||Vg(i,s,Ue,De,u,Oe);return}}for(var _e in l)De=l[_e],l.hasOwnProperty(_e)&&De!=null&&!u.hasOwnProperty(_e)&&ni(i,s,_e,null,u,De);for(Ge in u)De=u[Ge],Oe=l[Ge],!u.hasOwnProperty(Ge)||De===Oe||De==null&&Oe==null||ni(i,s,Ge,De,u,Oe)}function l5(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eS(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],_=g.transferSize,C=g.initiatorType,G=g.duration;if(_&&G&&l5(C)){for(C=0,G=g.responseEnd,u+=1;u<l.length;u++){var ue=l[u],Ce=ue.startTime;if(Ce>G)break;var Ue=ue.transferSize,Ge=ue.initiatorType;Ue&&l5(Ge)&&(ue=ue.responseEnd,C+=Ue*(ue<G?1:(G-Ce)/(ue-Ce)))}if(--u,s+=8*(_+C)/(g.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Bg=null,Fg=null;function Jd(i){return i.nodeType===9?i:i.ownerDocument}function u5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c5(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function zg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qg=null;function tS(){var i=window.event;return i&&i.type==="popstate"?i===qg?!1:(qg=i,!0):(qg=null,!1)}var h5=typeof setTimeout=="function"?setTimeout:void 0,nS=typeof clearTimeout=="function"?clearTimeout:void 0,f5=typeof Promise=="function"?Promise:void 0,iS=typeof queueMicrotask=="function"?queueMicrotask:typeof f5<"u"?function(i){return f5.resolve(null).then(i).catch(rS)}:h5;function rS(i){setTimeout(function(){throw i})}function lu(i){return i==="head"}function d5(i,s){var l=s,u=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){i.removeChild(g),ah(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")bf(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,bf(l);for(var _=l.firstChild;_;){var C=_.nextSibling,G=_.nodeName;_[Nr]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=C}}else l==="body"&&bf(i.ownerDocument.body);l=g}while(l);ah(s)}function p5(i,s){var l=i;i=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=u}while(l)}function Hg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Hg(l),Zs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function sS(i,s,l,u){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Nr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Pa(i.nextSibling),i===null)break}return null}function aS(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Pa(i.nextSibling),i===null))return null;return i}function m5(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Pa(i.nextSibling),i===null))return null;return i}function Gg(i){return i.data==="$?"||i.data==="$~"}function Yg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function oS(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Pa(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Kg=null;function g5(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return Pa(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function y5(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function v5(i,s,l){switch(s=Jd(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function bf(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Zs(i)}var Ma=new Map,_5=new Set;function Zd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Tl=pe.d;pe.d={f:lS,r:uS,D:cS,C:hS,L:fS,m:dS,X:mS,S:pS,M:gS};function lS(){var i=Tl.f(),s=Hd();return i||s}function uS(i){var s=hr(i);s!==null&&s.tag===5&&s.type==="form"?M2(s):Tl.r(i)}var ih=typeof document>"u"?null:document;function b5(i,s,l){var u=ih;if(u&&typeof s=="string"&&s){var g=_i(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),_5.has(g)||(_5.add(g),i={rel:i,crossOrigin:l,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),es(s,"link",i),fi(s),u.head.appendChild(s)))}}function cS(i){Tl.D(i),b5("dns-prefetch",i,null)}function hS(i,s){Tl.C(i,s),b5("preconnect",i,s)}function fS(i,s,l){Tl.L(i,s,l);var u=ih;if(u&&i&&s){var g='link[rel="preload"][as="'+_i(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+_i(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+_i(l.imageSizes)+'"]')):g+='[href="'+_i(i)+'"]';var _=g;switch(s){case"style":_=rh(i);break;case"script":_=sh(i)}Ma.has(_)||(i=S({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Ma.set(_,i),u.querySelector(g)!==null||s==="style"&&u.querySelector(wf(_))||s==="script"&&u.querySelector(Af(_))||(s=u.createElement("link"),es(s,"link",i),fi(s),u.head.appendChild(s)))}}function dS(i,s){Tl.m(i,s);var l=ih;if(l&&i){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+_i(u)+'"][href="'+_i(i)+'"]',_=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=sh(i)}if(!Ma.has(_)&&(i=S({rel:"modulepreload",href:i},s),Ma.set(_,i),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Af(_)))return}u=l.createElement("link"),es(u,"link",i),fi(u),l.head.appendChild(u)}}}function pS(i,s,l){Tl.S(i,s,l);var u=ih;if(u&&i){var g=is(u).hoistableStyles,_=rh(i);s=s||"default";var C=g.get(_);if(!C){var G={loading:0,preload:null};if(C=u.querySelector(wf(_)))G.loading=5;else{i=S({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Ma.get(_))&&Wg(i,l);var ue=C=u.createElement("link");fi(ue),es(ue,"link",i),ue._p=new Promise(function(Ce,Ue){ue.onload=Ce,ue.onerror=Ue}),ue.addEventListener("load",function(){G.loading|=1}),ue.addEventListener("error",function(){G.loading|=2}),G.loading|=4,ep(C,s,u)}C={type:"stylesheet",instance:C,count:1,state:G},g.set(_,C)}}}function mS(i,s){Tl.X(i,s);var l=ih;if(l&&i){var u=is(l).hoistableScripts,g=sh(i),_=u.get(g);_||(_=l.querySelector(Af(g)),_||(i=S({src:i,async:!0},s),(s=Ma.get(g))&&Qg(i,s),_=l.createElement("script"),fi(_),es(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(g,_))}}function gS(i,s){Tl.M(i,s);var l=ih;if(l&&i){var u=is(l).hoistableScripts,g=sh(i),_=u.get(g);_||(_=l.querySelector(Af(g)),_||(i=S({src:i,async:!0,type:"module"},s),(s=Ma.get(g))&&Qg(i,s),_=l.createElement("script"),fi(_),es(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(g,_))}}function w5(i,s,l,u){var g=(g=ce.current)?Zd(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=rh(l.href),l=is(g).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=rh(l.href);var _=is(g).hoistableStyles,C=_.get(i);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,C),(_=g.querySelector(wf(i)))&&!_._p&&(C.instance=_,C.state.loading=5),Ma.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ma.set(i,l),_||yS(g,i,l,C.state))),s&&u===null)throw Error(r(528,""));return C}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=sh(l),l=is(g).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function rh(i){return'href="'+_i(i)+'"'}function wf(i){return'link[rel="stylesheet"]['+i+"]"}function A5(i){return S({},i,{"data-precedence":i.precedence,precedence:null})}function yS(i,s,l,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),es(s,"link",l),fi(s),i.head.appendChild(s))}function sh(i){return'[src="'+_i(i)+'"]'}function Af(i){return"script[async]"+i}function S5(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+_i(l.href)+'"]');if(u)return s.instance=u,fi(u),u;var g=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),fi(u),es(u,"style",g),ep(u,l.precedence,i),s.instance=u;case"stylesheet":g=rh(l.href);var _=i.querySelector(wf(g));if(_)return s.state.loading|=4,s.instance=_,fi(_),_;u=A5(l),(g=Ma.get(g))&&Wg(u,g),_=(i.ownerDocument||i).createElement("link"),fi(_);var C=_;return C._p=new Promise(function(G,ue){C.onload=G,C.onerror=ue}),es(_,"link",u),s.state.loading|=4,ep(_,l.precedence,i),s.instance=_;case"script":return _=sh(l.src),(g=i.querySelector(Af(_)))?(s.instance=g,fi(g),g):(u=l,(g=Ma.get(_))&&(u=S({},l),Qg(u,g)),i=i.ownerDocument||i,g=i.createElement("script"),fi(g),es(g,"link",u),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,ep(u,l.precedence,i));return s.instance}function ep(i,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,_=g,C=0;C<u.length;C++){var G=u[C];if(G.dataset.precedence===s)_=G;else if(_!==g)break}_?_.parentNode.insertBefore(i,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Wg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Qg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var tp=null;function E5(i,s,l){if(tp===null){var u=new Map,g=tp=new Map;g.set(l,u)}else g=tp,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var _=l[g];if(!(_[Nr]||_[Dn]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var C=_.getAttribute(s)||"";C=i+C;var G=u.get(C);G?G.push(_):u.set(C,[_])}}return u}function x5(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function vS(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function T5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function _S(i,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=rh(u.href),_=s.querySelector(wf(g));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=np.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=_,fi(_);return}_=s.ownerDocument||s,u=A5(u),(g=Ma.get(g))&&Wg(u,g),_=_.createElement("link"),fi(_);var C=_;C._p=new Promise(function(G,ue){C.onload=G,C.onerror=ue}),es(_,"link",u),l.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=np.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var Xg=0;function bS(i,s){return i.stylesheets&&i.count===0&&rp(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var u=setTimeout(function(){if(i.stylesheets&&rp(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+s);0<i.imgBytes&&Xg===0&&(Xg=62500*eS());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&rp(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Xg?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function np(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ip=null;function rp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ip=new Map,s.forEach(wS,i),ip=null,np.call(i))}function wS(i,s){if(!(s.state.loading&4)){var l=ip.get(i);if(l)var u=l.get(null);else{l=new Map,ip.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var C=g[_];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),u=C)}u&&l.set(null,u)}g=s.instance,C=g.getAttribute("data-precedence"),_=l.get(C)||u,_===u&&l.set(null,g),l.set(C,g),this.count++,u=np.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),_?_.parentNode.insertBefore(g,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var Sf={$$typeof:Z,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function AS(i,s,l,u,g,_,C,G,ue){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qi(0),this.hiddenUpdates=qi(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function N5(i,s,l,u,g,_,C,G,ue,Ce,Ue,Ge){return i=new AS(i,s,l,C,ue,Ce,Ue,Ge,G),s=1,_===!0&&(s|=24),_=Dr(3,null,null,s),i.current=_,_.stateNode=i,s=Xl(),s.refCount++,i.pooledCache=s,s.refCount++,_.memoizedState={element:u,isDehydrated:l,cache:s},Ze(_),i}function C5(i){return i?(i=gr,i):gr}function I5(i,s,l,u,g,_){g=C5(g),u.context===null?u.context=g:u.pendingContext=g,u=Ut(s),u.payload={element:l},_=_===void 0?null:_,_!==null&&(u.callback=_),l=sn(i,u,s),l!==null&&(Ws(l,i,s),Un(l,i,s))}function R5(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function $g(i,s){R5(i,s),(i=i.alternate)&&R5(i,s)}function L5(i){if(i.tag===13||i.tag===31){var s=eo(i,67108864);s!==null&&Ws(s,i,67108864),$g(i,67108864)}}function k5(i){if(i.tag===13||i.tag===31){var s=ha();s=Fn(s);var l=eo(i,s);l!==null&&Ws(l,i,s),$g(i,s)}}var sp=!0;function SS(i,s,l,u){var g=ae.T;ae.T=null;var _=pe.p;try{pe.p=2,Jg(i,s,l,u)}finally{pe.p=_,ae.T=g}}function ES(i,s,l,u){var g=ae.T;ae.T=null;var _=pe.p;try{pe.p=8,Jg(i,s,l,u)}finally{pe.p=_,ae.T=g}}function Jg(i,s,l,u){if(sp){var g=Zg(u);if(g===null)Ug(i,s,u,ap,l),O5(i,u);else if(TS(g,i,s,l,u))u.stopPropagation();else if(O5(i,u),s&4&&-1<xS.indexOf(i)){for(;g!==null;){var _=hr(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var C=vt(_.pendingLanes);if(C!==0){var G=_;for(G.pendingLanes|=2,G.entangledLanes|=2;C;){var ue=1<<31-Qt(C);G.entanglements[1]|=ue,C&=~ue}Vo(_),(Bn&6)===0&&(zd=Wt()+500,yf(0))}}break;case 31:case 13:G=eo(_,2),G!==null&&Ws(G,_,2),Hd(),$g(_,2)}if(_=Zg(u),_===null&&Ug(i,s,u,ap,l),_===g)break;g=_}g!==null&&u.stopPropagation()}else Ug(i,s,u,null,l)}}function Zg(i){return i=Rr(i),e1(i)}var ap=null;function e1(i){if(ap=null,i=zr(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=c(s),i!==null)return i;i=null}else if(l===31){if(i=h(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return ap=i,null}function D5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zt()){case Bt:return 2;case an:return 8;case Xt:case gt:return 32;case Ht:return 268435456;default:return 32}default:return 32}}var t1=!1,uu=null,cu=null,hu=null,Ef=new Map,xf=new Map,fu=[],xS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O5(i,s){switch(i){case"focusin":case"focusout":uu=null;break;case"dragenter":case"dragleave":cu=null;break;case"mouseover":case"mouseout":hu=null;break;case"pointerover":case"pointerout":Ef.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":xf.delete(s.pointerId)}}function Tf(i,s,l,u,g,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:_,targetContainers:[g]},s!==null&&(s=hr(s),s!==null&&L5(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function TS(i,s,l,u,g){switch(s){case"focusin":return uu=Tf(uu,i,s,l,u,g),!0;case"dragenter":return cu=Tf(cu,i,s,l,u,g),!0;case"mouseover":return hu=Tf(hu,i,s,l,u,g),!0;case"pointerover":var _=g.pointerId;return Ef.set(_,Tf(Ef.get(_)||null,i,s,l,u,g)),!0;case"gotpointercapture":return _=g.pointerId,xf.set(_,Tf(xf.get(_)||null,i,s,l,u,g)),!0}return!1}function P5(i){var s=zr(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){i.blockedOn=s,cr(i.priority,function(){k5(l)});return}}else if(s===31){if(s=h(l),s!==null){i.blockedOn=s,cr(i.priority,function(){k5(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function op(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Zg(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);ia=u,l.target.dispatchEvent(u),ia=null}else return s=hr(l),s!==null&&L5(s),i.blockedOn=l,!1;s.shift()}return!0}function M5(i,s,l){op(i)&&l.delete(s)}function NS(){t1=!1,uu!==null&&op(uu)&&(uu=null),cu!==null&&op(cu)&&(cu=null),hu!==null&&op(hu)&&(hu=null),Ef.forEach(M5),xf.forEach(M5)}function lp(i,s){i.blockedOn===s&&(i.blockedOn=null,t1||(t1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,NS)))}var up=null;function j5(i){up!==i&&(up=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){up===i&&(up=null);for(var s=0;s<i.length;s+=3){var l=i[s],u=i[s+1],g=i[s+2];if(typeof u!="function"){if(e1(u||l)===null)continue;break}var _=hr(l);_!==null&&(i.splice(s,3),s-=3,Zm(_,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function ah(i){function s(ue){return lp(ue,i)}uu!==null&&lp(uu,i),cu!==null&&lp(cu,i),hu!==null&&lp(hu,i),Ef.forEach(s),xf.forEach(s);for(var l=0;l<fu.length;l++){var u=fu[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<fu.length&&(l=fu[0],l.blockedOn===null);)P5(l),l.blockedOn===null&&fu.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],_=l[u+1],C=g[Hn]||null;if(typeof _=="function")C||j5(l);else if(C){var G=null;if(_&&_.hasAttribute("formAction")){if(g=_,C=_[Hn]||null)G=C.formAction;else if(e1(g)!==null)continue}else G=C.action;typeof G=="function"?l[u+1]=G:(l.splice(u,3),u-=3),j5(l)}}}function U5(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(C){return g=C})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function n1(i){this._internalRoot=i}cp.prototype.render=n1.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=ha();I5(l,u,i,s,null,null)},cp.prototype.unmount=n1.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;I5(i.current,2,null,i,null,null),Hd(),s[Di]=null}};function cp(i){this._internalRoot=i}cp.prototype.unstable_scheduleHydration=function(i){if(i){var s=ki();i={blockedOn:null,target:i,priority:s};for(var l=0;l<fu.length&&s!==0&&s<fu[l].priority;l++);fu.splice(l,0,i),l===0&&P5(i)}};var V5=e.version;if(V5!=="19.2.4")throw Error(r(527,V5,"19.2.4"));pe.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var CS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hp.isDisabled&&hp.supportsFiber)try{$t=hp.inject(CS),Nt=hp}catch{}}return Cf.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,u="",g=Y2,_=K2,C=W2;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError)),s=N5(i,1,!1,null,null,l,u,null,g,_,C,U5),i[Di]=s.current,jg(i),new n1(s)},Cf.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var u=!1,g="",_=Y2,C=K2,G=W2,ue=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(G=l.onRecoverableError),l.formState!==void 0&&(ue=l.formState)),s=N5(i,1,!0,s,l??null,u,g,ue,_,C,G,U5),s.context=C5(null),l=s.current,u=ha(),u=Fn(u),g=Ut(u),g.callback=null,sn(l,g,u),l=u,s.current.lanes=l,St(s,l),Vo(s),i[Di]=s.current,jg(i),new cp(s)},Cf.version="19.2.4",Cf}var Q5;function US(){if(Q5)return s1.exports;Q5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),s1.exports=jS(),s1.exports}var VS=US();const BS="modulepreload",FS=function(n){return"/TWKT_employee/"+n},X5={},Uf=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let f=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");a=f(t.map(m=>{if(m=FS(m),m in X5)return;X5[m]=!0;const v=m.endsWith(".css"),S=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${S}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":BS,v||(x.as="script"),x.crossOrigin="",x.href=m,h&&x.setAttribute("nonce",h),document.head.appendChild(x),v)return new Promise((b,V)=>{x.addEventListener("load",b),x.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})},zS=()=>{};var $5={};const Yb=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},qS=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],c=n[t++],h=n[t++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},Kb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,f=a+2<n.length,m=f?n[a+2]:0,v=o>>2,S=(o&3)<<4|h>>4;let x=(h&15)<<2|m>>6,b=m&63;f||(b=64,c||(x=64)),r.push(t[v],t[S],t[x],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Yb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):qS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const S=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||h==null||m==null||S==null)throw new HS;const x=o<<2|h>>4;if(r.push(x),m!==64){const b=h<<4&240|m>>2;if(r.push(b),S!==64){const V=m<<6&192|S;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class HS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GS=function(n){const e=Yb(n);return Kb.encodeByteArray(e,!0)},zp=function(n){return GS(n).replace(/\./g,"")},Wb=function(n){try{return Kb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const KS=()=>YS().__FIREBASE_DEFAULTS__,WS=()=>{if(typeof process>"u"||typeof $5>"u")return;const n=$5.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},QS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Wb(n[1]);return e&&JSON.parse(e)},dm=()=>{try{return zS()||KS()||WS()||QS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Qb=n=>dm()?.emulatorHosts?.[n],Xb=n=>{const e=Qb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},$b=()=>dm()?.config,Jb=n=>dm()?.[`_${n}`];class XS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function bc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N0(n){return(await fetch(n,{credentials:"include"})).ok}function Zb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[zp(JSON.stringify(t)),zp(JSON.stringify(c)),""].join(".")}const Vf={};function $S(){const n={prod:[],emulator:[]};for(const e of Object.keys(Vf))Vf[e]?n.emulator.push(e):n.prod.push(e);return n}function JS(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let J5=!1;function C0(n,e){if(typeof window>"u"||typeof document>"u"||!bc(window.location.host)||Vf[n]===e||Vf[n]||J5)return;Vf[n]=e;function t(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=$S().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,b){x.setAttribute("width","24"),x.setAttribute("id",b),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{J5=!0,c()},x}function v(x,b){x.setAttribute("id",b),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=JS(r),b=t("text"),V=document.getElementById(b)||document.createElement("span"),B=t("learnmore"),H=document.getElementById(B)||document.createElement("a"),U=t("preprendIcon"),se=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const Z=x.element;h(Z),v(H,B);const te=m();f(se,U),Z.append(se,V,H,te),document.body.appendChild(Z)}o?(V.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function ys(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ys())}function eE(){const n=dm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rE(){const n=ys();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sE(){return!eE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aE(){try{return typeof indexedDB=="object"}catch{return!1}}function oE(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const lE="FirebaseError";class Jo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=lE,Object.setPrototypeOf(this,Jo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sd.prototype.create)}}class sd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?uE(o,r):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Jo(a,h,r)}}function uE(n,e){return n.replace(cE,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const cE=/\{\$([^}]+)}/g;function hE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function hc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],c=e[a];if(Z5(o)&&Z5(c)){if(!hc(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Z5(n){return n!==null&&typeof n=="object"}function ad(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Df(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Of(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function fE(n,e){const t=new dE(n,e);return t.subscribe.bind(t)}class dE{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");pE(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=u1),a.error===void 0&&(a.error=u1),a.complete===void 0&&(a.complete=u1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pE(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function u1(){}function Sr(n){return n&&n._delegate?n._delegate:n}class Nu{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const sc="[DEFAULT]";class mE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new XS;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yE(e))try{this.getOrInitializeService({instanceIdentifier:sc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=sc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sc){return this.instances.has(e)}getOptions(e=sc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gE(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sc){return this.component?this.component.multipleInstances?e:sc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gE(n){return n===sc?void 0:n}function yE(n){return n.instantiationMode==="EAGER"}class vE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var bn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(bn||(bn={}));const _E={debug:bn.DEBUG,verbose:bn.VERBOSE,info:bn.INFO,warn:bn.WARN,error:bn.ERROR,silent:bn.SILENT},bE=bn.INFO,wE={[bn.DEBUG]:"log",[bn.VERBOSE]:"log",[bn.INFO]:"info",[bn.WARN]:"warn",[bn.ERROR]:"error"},AE=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=wE[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class I0{constructor(e){this.name=e,this._logLevel=bE,this._logHandler=AE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_E[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bn.DEBUG,...e),this._logHandler(this,bn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bn.VERBOSE,...e),this._logHandler(this,bn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bn.INFO,...e),this._logHandler(this,bn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bn.WARN,...e),this._logHandler(this,bn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bn.ERROR,...e),this._logHandler(this,bn.ERROR,...e)}}const SE=(n,e)=>e.some(t=>n instanceof t);let ev,tv;function EE(){return ev||(ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xE(){return tv||(tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ew=new WeakMap,q1=new WeakMap,tw=new WeakMap,c1=new WeakMap,R0=new WeakMap;function TE(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Su(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&ew.set(t,n)}).catch(()=>{}),R0.set(e,n),e}function NE(n){if(q1.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});q1.set(n,e)}let H1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return q1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||tw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Su(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function CE(n){H1=n(H1)}function IE(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(h1(this),e,...t);return tw.set(r,e.sort?e.sort():[e]),Su(r)}:xE().includes(n)?function(...e){return n.apply(h1(this),e),Su(ew.get(this))}:function(...e){return Su(n.apply(h1(this),e))}}function RE(n){return typeof n=="function"?IE(n):(n instanceof IDBTransaction&&NE(n),SE(n,EE())?new Proxy(n,H1):n)}function Su(n){if(n instanceof IDBRequest)return TE(n);if(c1.has(n))return c1.get(n);const e=RE(n);return e!==n&&(c1.set(n,e),R0.set(e,n)),e}const h1=n=>R0.get(n);function LE(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(n,e),h=Su(c);return r&&c.addEventListener("upgradeneeded",f=>{r(Su(c.result),f.oldVersion,f.newVersion,Su(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const kE=["get","getKey","getAll","getAllKeys","count"],DE=["put","add","delete","clear"],f1=new Map;function nv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(f1.get(e))return f1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=DE.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||kE.includes(t)))return;const o=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),a&&f.done]))[0]};return f1.set(e,o),o}CE(n=>({...n,get:(e,t,r)=>nv(e,t)||n.get(e,t,r),has:(e,t)=>!!nv(e,t)||n.has(e,t)}));class OE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PE(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function PE(n){return n.getComponent()?.type==="VERSION"}const G1="@firebase/app",iv="0.14.8";const Pl=new I0("@firebase/app"),ME="@firebase/app-compat",jE="@firebase/analytics-compat",UE="@firebase/analytics",VE="@firebase/app-check-compat",BE="@firebase/app-check",FE="@firebase/auth",zE="@firebase/auth-compat",qE="@firebase/database",HE="@firebase/data-connect",GE="@firebase/database-compat",YE="@firebase/functions",KE="@firebase/functions-compat",WE="@firebase/installations",QE="@firebase/installations-compat",XE="@firebase/messaging",$E="@firebase/messaging-compat",JE="@firebase/performance",ZE="@firebase/performance-compat",e6="@firebase/remote-config",t6="@firebase/remote-config-compat",n6="@firebase/storage",i6="@firebase/storage-compat",r6="@firebase/firestore",s6="@firebase/ai",a6="@firebase/firestore-compat",o6="firebase",l6="12.9.0";const Y1="[DEFAULT]",u6={[G1]:"fire-core",[ME]:"fire-core-compat",[UE]:"fire-analytics",[jE]:"fire-analytics-compat",[BE]:"fire-app-check",[VE]:"fire-app-check-compat",[FE]:"fire-auth",[zE]:"fire-auth-compat",[qE]:"fire-rtdb",[HE]:"fire-data-connect",[GE]:"fire-rtdb-compat",[YE]:"fire-fn",[KE]:"fire-fn-compat",[WE]:"fire-iid",[QE]:"fire-iid-compat",[XE]:"fire-fcm",[$E]:"fire-fcm-compat",[JE]:"fire-perf",[ZE]:"fire-perf-compat",[e6]:"fire-rc",[t6]:"fire-rc-compat",[n6]:"fire-gcs",[i6]:"fire-gcs-compat",[r6]:"fire-fst",[a6]:"fire-fst-compat",[s6]:"fire-vertex","fire-js":"fire-js",[o6]:"fire-js-all"};const qp=new Map,c6=new Map,K1=new Map;function rv(n,e){try{n.container.addComponent(e)}catch(t){Pl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function fc(n){const e=n.name;if(K1.has(e))return Pl.debug(`There were multiple attempts to register component ${e}.`),!1;K1.set(e,n);for(const t of qp.values())rv(t,n);for(const t of c6.values())rv(t,n);return!0}function pm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function da(n){return n==null?!1:n.settings!==void 0}const h6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eu=new sd("app","Firebase",h6);class f6{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eu.create("app-deleted",{appName:this._name})}}const wc=l6;function nw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Y1,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Eu.create("bad-app-name",{appName:String(a)});if(t||(t=$b()),!t)throw Eu.create("no-options");const o=qp.get(a);if(o){if(hc(t,o.options)&&hc(r,o.config))return o;throw Eu.create("duplicate-app",{appName:a})}const c=new vE(a);for(const f of K1.values())c.addComponent(f);const h=new f6(t,r,c);return qp.set(a,h),h}function L0(n=Y1){const e=qp.get(n);if(!e&&n===Y1&&$b())return nw();if(!e)throw Eu.create("no-app",{appName:n});return e}function Ho(n,e,t){let r=u6[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pl.warn(c.join(" "));return}fc(new Nu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const d6="firebase-heartbeat-database",p6=1,Wf="firebase-heartbeat-store";let d1=null;function iw(){return d1||(d1=LE(d6,p6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Wf)}catch(t){console.warn(t)}}}}).catch(n=>{throw Eu.create("idb-open",{originalErrorMessage:n.message})})),d1}async function m6(n){try{const t=(await iw()).transaction(Wf),r=await t.objectStore(Wf).get(rw(n));return await t.done,r}catch(e){if(e instanceof Jo)Pl.warn(e.message);else{const t=Eu.create("idb-get",{originalErrorMessage:e?.message});Pl.warn(t.message)}}}async function sv(n,e){try{const r=(await iw()).transaction(Wf,"readwrite");await r.objectStore(Wf).put(e,rw(n)),await r.done}catch(t){if(t instanceof Jo)Pl.warn(t.message);else{const r=Eu.create("idb-set",{originalErrorMessage:t?.message});Pl.warn(r.message)}}}function rw(n){return`${n.name}!${n.options.appId}`}const g6=1024,y6=30;class v6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new b6(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=av();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>y6){const a=w6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pl.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=av(),{heartbeatsToSend:t,unsentEntries:r}=_6(this._heartbeatsCache.heartbeats),a=zp(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Pl.warn(e),""}}}function av(){return new Date().toISOString().substring(0,10)}function _6(n,e=g6){const t=[];let r=n.slice();for(const a of n){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),ov(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),ov(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class b6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aE()?oE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await m6(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ov(n){return zp(JSON.stringify({version:2,heartbeats:n})).length}function w6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function A6(n){fc(new Nu("platform-logger",e=>new OE(e),"PRIVATE")),fc(new Nu("heartbeat",e=>new v6(e),"PRIVATE")),Ho(G1,iv,n),Ho(G1,iv,"esm2020"),Ho("fire-js","")}A6("");function sw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S6=sw,aw=new sd("auth","Firebase",sw());const Hp=new I0("@firebase/auth");function E6(n,...e){Hp.logLevel<=bn.WARN&&Hp.warn(`Auth (${wc}): ${n}`,...e)}function Np(n,...e){Hp.logLevel<=bn.ERROR&&Hp.error(`Auth (${wc}): ${n}`,...e)}function fo(n,...e){throw k0(n,...e)}function Go(n,...e){return k0(n,...e)}function ow(n,e,t){const r={...S6(),[e]:t};return new sd("auth","Firebase",r).create(e,{appName:n.name})}function kl(n){return ow(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function k0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return aw.create(n,...e)}function Ft(n,e,...t){if(!n)throw k0(e,...t)}function Rl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Np(e),new Error(e)}function Ml(n,e){n||Rl(e)}function W1(){return typeof self<"u"&&self.location?.href||""}function x6(){return lv()==="http:"||lv()==="https:"}function lv(){return typeof self<"u"&&self.location?.protocol||null}function T6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x6()||nE()||"connection"in navigator)?navigator.onLine:!0}function N6(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class od{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ml(t>e,"Short delay should be less than long delay!"),this.isMobile=ZS()||iE()}get(){return T6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function D0(n,e){Ml(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class lw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const C6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const I6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],R6=new od(3e4,6e4);function Mu(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ju(n,e,t,r,a={}){return uw(n,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const h=ad({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...o};return tE()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&bc(n.emulatorConfig.host)&&(m.credentials="include"),lw.fetch()(await cw(n,n.config.apiHost,t,h),m)})}async function uw(n,e,t){n._canInitEmulator=!1;const r={...C6,...e};try{const a=new k6(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw fp(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw fp(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw fp(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw fp(n,"user-disabled",c);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw ow(n,v,m);fo(n,v)}}catch(a){if(a instanceof Jo)throw a;fo(n,"network-request-failed",{message:String(a)})}}async function ld(n,e,t,r,a={}){const o=await ju(n,e,t,r,a);return"mfaPendingCredential"in o&&fo(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function cw(n,e,t,r){const a=`${e}${t}?${r}`,o=n,c=o.config.emulator?D0(n.config,a):`${n.config.apiScheme}://${a}`;return I6.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function L6(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class k6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Go(this.auth,"network-request-failed")),R6.get())})}}function fp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Go(n,e,r);return a.customData._tokenResponse=t,a}function uv(n){return n!==void 0&&n.enterprise!==void 0}class D6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return L6(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function O6(n,e){return ju(n,"GET","/v2/recaptchaConfig",Mu(n,e))}async function P6(n,e){return ju(n,"POST","/v1/accounts:delete",e)}async function Gp(n,e){return ju(n,"POST","/v1/accounts:lookup",e)}function Bf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M6(n,e=!1){const t=Sr(n),r=await t.getIdToken(e),a=O0(r);Ft(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:r,authTime:Bf(p1(a.auth_time)),issuedAtTime:Bf(p1(a.iat)),expirationTime:Bf(p1(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function p1(n){return Number(n)*1e3}function O0(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Np("JWT malformed, contained fewer than 3 sections"),null;try{const a=Wb(t);return a?JSON.parse(a):(Np("Failed to decode base64 JWT payload"),null)}catch(a){return Np("Caught error parsing JWT payload as JSON",a?.toString()),null}}function cv(n){const e=O0(n);return Ft(e,"internal-error"),Ft(typeof e.exp<"u","internal-error"),Ft(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Qf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Jo&&j6(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function j6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class U6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Q1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bf(this.lastLoginAt),this.creationTime=Bf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yp(n){const e=n.auth,t=await n.getIdToken(),r=await Qf(n,Gp(e,{idToken:t}));Ft(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?hw(a.providerUserInfo):[],c=B6(n.providerData,o),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!c?.length,m=h?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Q1(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function V6(n){const e=Sr(n);await Yp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B6(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function hw(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function F6(n,e){const t=await uw(n,{},async()=>{const r=ad({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await cw(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&bc(n.emulatorConfig.host)&&(f.credentials="include"),lw.fetch()(c,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function z6(n,e){return ju(n,"POST","/v2/accounts:revokeToken",Mu(n,e))}class bh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ft(e.idToken,"internal-error"),Ft(typeof e.idToken<"u","internal-error"),Ft(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ft(e.length!==0,"internal-error");const t=cv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ft(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await F6(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,c=new bh;return r&&(Ft(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Ft(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Ft(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bh,this.toJSON())}_performRefresh(){return Rl("not implemented")}}function pu(n,e){Ft(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class uo{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new U6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Q1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Qf(this,this.stsTokenManager.getToken(this.auth,e));return Ft(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return M6(this,e)}reload(){return V6(this)}_assign(e){this!==e&&(Ft(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new uo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Yp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(da(this.auth.app))return Promise.reject(kl(this.auth));const e=await this.getIdToken();return await Qf(this,P6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:b,providerData:V,stsTokenManager:B}=t;Ft(S&&B,e,"internal-error");const H=bh.fromJSON(this.name,B);Ft(typeof S=="string",e,"internal-error"),pu(r,e.name),pu(a,e.name),Ft(typeof x=="boolean",e,"internal-error"),Ft(typeof b=="boolean",e,"internal-error"),pu(o,e.name),pu(c,e.name),pu(h,e.name),pu(f,e.name),pu(m,e.name),pu(v,e.name);const U=new uo({uid:S,auth:e,email:a,emailVerified:x,displayName:r,isAnonymous:b,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:H,createdAt:m,lastLoginAt:v});return V&&Array.isArray(V)&&(U.providerData=V.map(se=>({...se}))),f&&(U._redirectEventId=f),U}static async _fromIdTokenResponse(e,t,r=!1){const a=new bh;a.updateFromServerResponse(t);const o=new uo({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Yp(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Ft(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?hw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new bh;h.updateFromIdToken(r);const f=new uo({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Q1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,m),f}}const hv=new Map;function Ll(n){Ml(n instanceof Function,"Expected a class definition");let e=hv.get(n);return e?(Ml(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,hv.set(n,e),e)}class fw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fw.type="NONE";const fv=fw;function Cp(n,e,t){return`firebase:${n}:${e}:${t}`}class wh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Cp(this.userKey,a.apiKey,o),this.fullPersistenceKey=Cp("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Gp(this.auth,{idToken:e}).catch(()=>{});return t?uo._fromGetAccountInfoResponse(this.auth,t,e):null}return uo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new wh(Ll(fv),e,r);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Ll(fv);const c=Cp(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const v=await m._get(c);if(v){let S;if(typeof v=="string"){const x=await Gp(e,{idToken:v}).catch(()=>{});if(!x)break;S=await uo._fromGetAccountInfoResponse(e,x,v)}else S=uo._fromJSON(e,v);m!==o&&(h=S),o=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new wh(o,e,r):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new wh(o,e,r))}}function dv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vw(e))return"Blackberry";if(_w(e))return"Webos";if(pw(e))return"Safari";if((e.includes("chrome/")||mw(e))&&!e.includes("edge/"))return"Chrome";if(yw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function dw(n=ys()){return/firefox\//i.test(n)}function pw(n=ys()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mw(n=ys()){return/crios\//i.test(n)}function gw(n=ys()){return/iemobile/i.test(n)}function yw(n=ys()){return/android/i.test(n)}function vw(n=ys()){return/blackberry/i.test(n)}function _w(n=ys()){return/webos/i.test(n)}function P0(n=ys()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function q6(n=ys()){return P0(n)&&!!window.navigator?.standalone}function H6(){return rE()&&document.documentMode===10}function bw(n=ys()){return P0(n)||yw(n)||_w(n)||vw(n)||/windows phone/i.test(n)||gw(n)}function ww(n,e=[]){let t;switch(n){case"Browser":t=dv(ys());break;case"Worker":t=`${dv(ys())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wc}/${r}`}class G6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,h)=>{try{const f=e(o);c(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Y6(n,e={}){return ju(n,"GET","/v2/passwordPolicy",Mu(n,e))}const K6=6;class W6{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??K6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Q6{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pv(this),this.idTokenSubscription=new pv(this),this.beforeStateQueue=new G6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ll(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Gp(this,{idToken:e}),r=await uo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(da(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Yp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(da(this.app))return Promise.reject(kl(this));const t=e?Sr(e):null;return t&&Ft(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ft(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return da(this.app)?Promise.reject(kl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return da(this.app)?Promise.reject(kl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ll(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y6(this),t=new W6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await z6(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ll(e)||this._popupRedirectResolver;Ft(t,this,"argument-error"),this.redirectPersistenceManager=await wh.create(this,[Ll(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ft(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ww(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(da(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&E6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ac(n){return Sr(n)}class pv{constructor(e){this.auth=e,this.observer=null,this.addObserver=fE(t=>this.observer=t)}get next(){return Ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X6(n){mm=n}function Aw(n){return mm.loadJS(n)}function $6(){return mm.recaptchaEnterpriseScript}function J6(){return mm.gapiScript}function Z6(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class ex{constructor(){this.enterprise=new tx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class tx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const nx="recaptcha-enterprise",Sw="NO_RECAPTCHA";class ix{constructor(e){this.type=nx,this.auth=Ac(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{O6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new D6(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(f=>{h(f)})})}function a(o,c,h){const f=window.grecaptcha;uv(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(m=>{c(m)}).catch(()=>{c(Sw)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ex().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(h=>{if(!t&&uv(window.grecaptcha))a(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=$6();f.length!==0&&(f+=h),Aw(f).then(()=>{a(h,o,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function mv(n,e,t,r=!1,a=!1){const o=new ix(n);let c;if(a)c=Sw;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function X1(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await mv(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await mv(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(o)})}function rx(n,e){const t=pm(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(hc(o,e??{}))return a;fo(a,"already-initialized")}return t.initialize({options:e})}function sx(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ll);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function ax(n,e,t){const r=Ac(n);Ft(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=Ew(e),{host:c,port:h}=ox(e),f=h===null?"":`:${h}`,m={url:`${o}//${c}${f}/`},v=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ft(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ft(hc(m,r.config.emulator)&&hc(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,bc(c)?(N0(`${o}//${c}${f}`),C0("Auth",!0)):lx()}function Ew(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ox(n){const e=Ew(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:gv(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:gv(c)}}}function gv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function lx(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class M0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Rl("not implemented")}_getIdTokenResponse(e){return Rl("not implemented")}_linkToIdToken(e,t){return Rl("not implemented")}_getReauthenticationResolver(e){return Rl("not implemented")}}async function ux(n,e){return ju(n,"POST","/v1/accounts:signUp",e)}async function cx(n,e){return ld(n,"POST","/v1/accounts:signInWithPassword",Mu(n,e))}async function hx(n,e){return ld(n,"POST","/v1/accounts:signInWithEmailLink",Mu(n,e))}async function fx(n,e){return ld(n,"POST","/v1/accounts:signInWithEmailLink",Mu(n,e))}class Xf extends M0{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Xf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Xf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X1(e,t,"signInWithPassword",cx);case"emailLink":return hx(e,{email:this._email,oobCode:this._password});default:fo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X1(e,r,"signUpPassword",ux);case"emailLink":return fx(e,{idToken:t,email:this._email,oobCode:this._password});default:fo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ah(n,e){return ld(n,"POST","/v1/accounts:signInWithIdp",Mu(n,e))}const dx="http://localhost";class dc extends M0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new dc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=t;if(!r||!a)return null;const c=new dc(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ah(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ah(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ah(e,t)}buildRequest(){const e={requestUri:dx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ad(t)}return e}}function px(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mx(n){const e=Df(Of(n)).link,t=e?Df(Of(e)).deep_link_id:null,r=Df(Of(n)).deep_link_id;return(r?Df(Of(r)).link:null)||r||t||e||n}class j0{constructor(e){const t=Df(Of(e)),r=t.apiKey??null,a=t.oobCode??null,o=px(t.mode??null);Ft(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=mx(e);try{return new j0(t)}catch{return null}}}class jh{constructor(){this.providerId=jh.PROVIDER_ID}static credential(e,t){return Xf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=j0.parseLink(t);return Ft(r,"argument-error"),Xf._fromEmailAndCode(e,r.code,r.tenantId)}}jh.PROVIDER_ID="password";jh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class xw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ud extends xw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yu extends ud{constructor(){super("facebook.com")}static credential(e){return dc._fromParams({providerId:yu.PROVIDER_ID,signInMethod:yu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yu.credentialFromTaggedObject(e)}static credentialFromError(e){return yu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yu.credential(e.oauthAccessToken)}catch{return null}}}yu.FACEBOOK_SIGN_IN_METHOD="facebook.com";yu.PROVIDER_ID="facebook.com";class vu extends ud{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return dc._fromParams({providerId:vu.PROVIDER_ID,signInMethod:vu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vu.credentialFromTaggedObject(e)}static credentialFromError(e){return vu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return vu.credential(t,r)}catch{return null}}}vu.GOOGLE_SIGN_IN_METHOD="google.com";vu.PROVIDER_ID="google.com";class _u extends ud{constructor(){super("github.com")}static credential(e){return dc._fromParams({providerId:_u.PROVIDER_ID,signInMethod:_u.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _u.credentialFromTaggedObject(e)}static credentialFromError(e){return _u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _u.credential(e.oauthAccessToken)}catch{return null}}}_u.GITHUB_SIGN_IN_METHOD="github.com";_u.PROVIDER_ID="github.com";class bu extends ud{constructor(){super("twitter.com")}static credential(e,t){return dc._fromParams({providerId:bu.PROVIDER_ID,signInMethod:bu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bu.credentialFromTaggedObject(e)}static credentialFromError(e){return bu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return bu.credential(t,r)}catch{return null}}}bu.TWITTER_SIGN_IN_METHOD="twitter.com";bu.PROVIDER_ID="twitter.com";async function gx(n,e){return ld(n,"POST","/v1/accounts:signUp",Mu(n,e))}class pc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await uo._fromIdTokenResponse(e,r,a),c=yv(r);return new pc({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=yv(r);return new pc({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function yv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Kp extends Jo{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Kp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Kp(e,t,r,a)}}function Tw(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Kp._fromErrorAndOperation(n,o,e,r):o})}async function yx(n,e,t=!1){const r=await Qf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return pc._forOperation(n,"link",r)}async function vx(n,e,t=!1){const{auth:r}=n;if(da(r.app))return Promise.reject(kl(r));const a="reauthenticate";try{const o=await Qf(n,Tw(r,a,e,n),t);Ft(o.idToken,r,"internal-error");const c=O0(o.idToken);Ft(c,r,"internal-error");const{sub:h}=c;return Ft(n.uid===h,r,"user-mismatch"),pc._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&fo(r,"user-mismatch"),o}}async function Nw(n,e,t=!1){if(da(n.app))return Promise.reject(kl(n));const r="signIn",a=await Tw(n,r,e),o=await pc._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function _x(n,e){return Nw(Ac(n),e)}async function Cw(n){const e=Ac(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bx(n,e,t){if(da(n.app))return Promise.reject(kl(n));const r=Ac(n),c=await X1(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gx).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Cw(n),f}),h=await pc._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function wx(n,e,t){return da(n.app)?Promise.reject(kl(n)):_x(Sr(n),jh.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Cw(n),r})}function Ax(n,e,t,r){return Sr(n).onIdTokenChanged(e,t,r)}function Sx(n,e,t){return Sr(n).beforeAuthStateChanged(e,t)}function Ex(n,e,t,r){return Sr(n).onAuthStateChanged(e,t,r)}function xx(n){return Sr(n).signOut()}const Wp="__sak";class Iw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wp,"1"),this.storage.removeItem(Wp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Tx=1e3,Nx=10;class Rw extends Iw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);H6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Nx):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Tx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Rw.type="LOCAL";const Cx=Rw;class Lw extends Iw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Lw.type="SESSION";const kw=Lw;function Ix(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class gm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new gm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(c).map(async m=>m(t.origin,o)),f=await Ix(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gm.receivers=[];function U0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class Rx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const m=U0("",20);a.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(S){const x=S;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(x.data.response);break;default:clearTimeout(v),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Yo(){return window}function Lx(n){Yo().location.href=n}function Dw(){return typeof Yo().WorkerGlobalScope<"u"&&typeof Yo().importScripts=="function"}async function kx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dx(){return navigator?.serviceWorker?.controller||null}function Ox(){return Dw()?self:null}const Ow="firebaseLocalStorageDb",Px=1,Qp="firebaseLocalStorage",Pw="fbase_key";class cd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ym(n,e){return n.transaction([Qp],e?"readwrite":"readonly").objectStore(Qp)}function Mx(){const n=indexedDB.deleteDatabase(Ow);return new cd(n).toPromise()}function $1(){const n=indexedDB.open(Ow,Px);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Qp,{keyPath:Pw})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Qp)?e(r):(r.close(),await Mx(),e(await $1()))})})}async function vv(n,e,t){const r=ym(n,!0).put({[Pw]:e,value:t});return new cd(r).toPromise()}async function jx(n,e){const t=ym(n,!1).get(e),r=await new cd(t).toPromise();return r===void 0?null:r.value}function _v(n,e){const t=ym(n,!0).delete(e);return new cd(t).toPromise()}const Ux=800,Vx=3;class Mw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Vx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gm._getInstance(Ox()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kx(),!this.activeServiceWorker)return;this.sender=new Rx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Dx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $1();return await vv(e,Wp,"1"),await _v(e,Wp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>vv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>jx(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_v(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=ym(a,!1).getAll();return new cd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ux)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mw.type="LOCAL";const Bx=Mw;new od(3e4,6e4);function Fx(n,e){return e?Ll(e):(Ft(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class V0 extends M0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ah(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ah(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ah(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zx(n){return Nw(n.auth,new V0(n),n.bypassAuthState)}function qx(n){const{auth:e,user:t}=n;return Ft(t,e,"internal-error"),vx(t,new V0(n),n.bypassAuthState)}async function Hx(n){const{auth:e,user:t}=n;return Ft(t,e,"internal-error"),yx(t,new V0(n),n.bypassAuthState)}class jw{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zx;case"linkViaPopup":case"linkViaRedirect":return Hx;case"reauthViaPopup":case"reauthViaRedirect":return qx;default:fo(this.auth,"internal-error")}}resolve(e){Ml(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ml(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gx=new od(2e3,1e4);class yh extends jw{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,yh.currentPopupAction&&yh.currentPopupAction.cancel(),yh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ft(e,this.auth,"internal-error"),e}async onExecution(){Ml(this.filter.length===1,"Popup operations only handle one event");const e=U0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Go(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Go(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yh.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Go(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Gx.get())};e()}}yh.currentPopupAction=null;const Yx="pendingRedirect",Ip=new Map;class Kx extends jw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ip.get(this.auth._key());if(!e){try{const r=await Wx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ip.set(this.auth._key(),e)}return this.bypassAuthState||Ip.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Wx(n,e){const t=$x(e),r=Xx(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function Qx(n,e){Ip.set(n._key(),e)}function Xx(n){return Ll(n._redirectPersistence)}function $x(n){return Cp(Yx,n.config.apiKey,n.name)}async function Jx(n,e,t=!1){if(da(n.app))return Promise.reject(kl(n));const r=Ac(n),a=Fx(r,e),c=await new Kx(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const Zx=600*1e3;class eT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tT(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Uw(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Go(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Zx&&this.cachedEventUids.clear(),this.cachedEventUids.has(bv(e))}saveEventToCache(e){this.cachedEventUids.add(bv(e)),this.lastProcessedEventTime=Date.now()}}function bv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Uw({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function tT(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uw(n);default:return!1}}async function nT(n,e={}){return ju(n,"GET","/v1/projects",e)}const iT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rT=/^https?/;async function sT(n){if(n.config.emulator)return;const{authorizedDomains:e}=await nT(n);for(const t of e)try{if(aT(t))return}catch{}fo(n,"unauthorized-domain")}function aT(n){const e=W1(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!rT.test(t))return!1;if(iT.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const oT=new od(3e4,6e4);function wv(){const n=Yo().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function lT(n){return new Promise((e,t)=>{function r(){wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wv(),t(Go(n,"network-request-failed"))},timeout:oT.get()})}if(Yo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yo().gapi?.load)r();else{const a=Z6("iframefcb");return Yo()[a]=()=>{gapi.load?r():t(Go(n,"network-request-failed"))},Aw(`${J6()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw Rp=null,e})}let Rp=null;function uT(n){return Rp=Rp||lT(n),Rp}const cT=new od(5e3,15e3),hT="__/auth/iframe",fT="emulator/auth/iframe",dT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mT(n){const e=n.config;Ft(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?D0(e,fT):`https://${n.config.authDomain}/${hT}`,r={apiKey:e.apiKey,appName:n.name,v:wc},a=pT.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${ad(r).slice(1)}`}async function gT(n){const e=await uT(n),t=Yo().gapi;return Ft(t,n,"internal-error"),e.open({where:document.body,url:mT(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dT,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=Go(n,"network-request-failed"),h=Yo().setTimeout(()=>{o(c)},cT.get());function f(){Yo().clearTimeout(h),a(r)}r.ping(f).then(f,()=>{o(c)})}))}const yT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vT=500,_T=600,bT="_blank",wT="http://localhost";class Av{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AT(n,e,t,r=vT,a=_T){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...yT,width:r.toString(),height:a.toString(),top:o,left:c},m=ys().toLowerCase();t&&(h=mw(m)?bT:t),dw(m)&&(e=e||wT,f.scrollbars="yes");const v=Object.entries(f).reduce((x,[b,V])=>`${x}${b}=${V},`,"");if(q6(m)&&h!=="_self")return ST(e||"",h),new Av(null);const S=window.open(e||"",h,v);Ft(S,n,"popup-blocked");try{S.focus()}catch{}return new Av(S)}function ST(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const ET="__/auth/handler",xT="emulator/auth/handler",TT=encodeURIComponent("fac");async function Sv(n,e,t,r,a,o){Ft(n.config.authDomain,n,"auth-domain-config-required"),Ft(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:wc,eventId:a};if(e instanceof xw){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",hE(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))c[v]=S}if(e instanceof ud){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),m=f?`#${TT}=${encodeURIComponent(f)}`:"";return`${NT(n)}?${ad(h).slice(1)}${m}`}function NT({config:n}){return n.emulator?D0(n,xT):`https://${n.authDomain}/${ET}`}const m1="webStorageSupport";class CT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kw,this._completeRedirectFn=Jx,this._overrideRedirectResult=Qx}async _openPopup(e,t,r,a){Ml(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Sv(e,t,r,W1(),a);return AT(e,o,U0())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await Sv(e,t,r,W1(),a);return Lx(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Ml(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await gT(e),r=new eT(e);return t.register("authEvent",a=>(Ft(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(m1,{type:m1},a=>{const o=a?.[0]?.[m1];o!==void 0&&t(!!o),fo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sT(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bw()||pw()||P0()}}const IT=CT;var Ev="@firebase/auth",xv="1.12.0";class RT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function LT(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kT(n){fc(new Nu("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Ft(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ww(n)},m=new Q6(r,a,o,f);return sx(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),fc(new Nu("auth-internal",e=>{const t=Ac(e.getProvider("auth").getImmediate());return(r=>new RT(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ho(Ev,xv,LT(n)),Ho(Ev,xv,"esm2020")}const DT=300,OT=Jb("authIdTokenMaxAge")||DT;let Tv=null;const PT=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>OT)return;const a=t?.token;Tv!==a&&(Tv=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Vw(n=L0()){const e=pm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=rx(n,{popupRedirectResolver:IT,persistence:[Bx,Cx,kw]}),r=Jb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=PT(o.toString());Sx(t,c,()=>c(t.currentUser)),Ax(t,h=>c(h))}}const a=Qb("auth");return a&&ax(t,`http://${a}`),t}function MT(){return document.getElementsByTagName("head")?.[0]??document}X6({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=Go("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",MT().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kT("Browser");var Nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xu,Bw;(function(){var n;function e(Y,P){function R(){}R.prototype=P.prototype,Y.F=P.prototype,Y.prototype=new R,Y.prototype.constructor=Y,Y.D=function(q,N,O){for(var I=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)I[oe-2]=arguments[oe];return P.prototype[N].apply(q,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(Y,P,R){R||(R=0);const q=Array(16);if(typeof P=="string")for(var N=0;N<16;++N)q[N]=P.charCodeAt(R++)|P.charCodeAt(R++)<<8|P.charCodeAt(R++)<<16|P.charCodeAt(R++)<<24;else for(N=0;N<16;++N)q[N]=P[R++]|P[R++]<<8|P[R++]<<16|P[R++]<<24;P=Y.g[0],R=Y.g[1],N=Y.g[2];let O=Y.g[3],I;I=P+(O^R&(N^O))+q[0]+3614090360&4294967295,P=R+(I<<7&4294967295|I>>>25),I=O+(N^P&(R^N))+q[1]+3905402710&4294967295,O=P+(I<<12&4294967295|I>>>20),I=N+(R^O&(P^R))+q[2]+606105819&4294967295,N=O+(I<<17&4294967295|I>>>15),I=R+(P^N&(O^P))+q[3]+3250441966&4294967295,R=N+(I<<22&4294967295|I>>>10),I=P+(O^R&(N^O))+q[4]+4118548399&4294967295,P=R+(I<<7&4294967295|I>>>25),I=O+(N^P&(R^N))+q[5]+1200080426&4294967295,O=P+(I<<12&4294967295|I>>>20),I=N+(R^O&(P^R))+q[6]+2821735955&4294967295,N=O+(I<<17&4294967295|I>>>15),I=R+(P^N&(O^P))+q[7]+4249261313&4294967295,R=N+(I<<22&4294967295|I>>>10),I=P+(O^R&(N^O))+q[8]+1770035416&4294967295,P=R+(I<<7&4294967295|I>>>25),I=O+(N^P&(R^N))+q[9]+2336552879&4294967295,O=P+(I<<12&4294967295|I>>>20),I=N+(R^O&(P^R))+q[10]+4294925233&4294967295,N=O+(I<<17&4294967295|I>>>15),I=R+(P^N&(O^P))+q[11]+2304563134&4294967295,R=N+(I<<22&4294967295|I>>>10),I=P+(O^R&(N^O))+q[12]+1804603682&4294967295,P=R+(I<<7&4294967295|I>>>25),I=O+(N^P&(R^N))+q[13]+4254626195&4294967295,O=P+(I<<12&4294967295|I>>>20),I=N+(R^O&(P^R))+q[14]+2792965006&4294967295,N=O+(I<<17&4294967295|I>>>15),I=R+(P^N&(O^P))+q[15]+1236535329&4294967295,R=N+(I<<22&4294967295|I>>>10),I=P+(N^O&(R^N))+q[1]+4129170786&4294967295,P=R+(I<<5&4294967295|I>>>27),I=O+(R^N&(P^R))+q[6]+3225465664&4294967295,O=P+(I<<9&4294967295|I>>>23),I=N+(P^R&(O^P))+q[11]+643717713&4294967295,N=O+(I<<14&4294967295|I>>>18),I=R+(O^P&(N^O))+q[0]+3921069994&4294967295,R=N+(I<<20&4294967295|I>>>12),I=P+(N^O&(R^N))+q[5]+3593408605&4294967295,P=R+(I<<5&4294967295|I>>>27),I=O+(R^N&(P^R))+q[10]+38016083&4294967295,O=P+(I<<9&4294967295|I>>>23),I=N+(P^R&(O^P))+q[15]+3634488961&4294967295,N=O+(I<<14&4294967295|I>>>18),I=R+(O^P&(N^O))+q[4]+3889429448&4294967295,R=N+(I<<20&4294967295|I>>>12),I=P+(N^O&(R^N))+q[9]+568446438&4294967295,P=R+(I<<5&4294967295|I>>>27),I=O+(R^N&(P^R))+q[14]+3275163606&4294967295,O=P+(I<<9&4294967295|I>>>23),I=N+(P^R&(O^P))+q[3]+4107603335&4294967295,N=O+(I<<14&4294967295|I>>>18),I=R+(O^P&(N^O))+q[8]+1163531501&4294967295,R=N+(I<<20&4294967295|I>>>12),I=P+(N^O&(R^N))+q[13]+2850285829&4294967295,P=R+(I<<5&4294967295|I>>>27),I=O+(R^N&(P^R))+q[2]+4243563512&4294967295,O=P+(I<<9&4294967295|I>>>23),I=N+(P^R&(O^P))+q[7]+1735328473&4294967295,N=O+(I<<14&4294967295|I>>>18),I=R+(O^P&(N^O))+q[12]+2368359562&4294967295,R=N+(I<<20&4294967295|I>>>12),I=P+(R^N^O)+q[5]+4294588738&4294967295,P=R+(I<<4&4294967295|I>>>28),I=O+(P^R^N)+q[8]+2272392833&4294967295,O=P+(I<<11&4294967295|I>>>21),I=N+(O^P^R)+q[11]+1839030562&4294967295,N=O+(I<<16&4294967295|I>>>16),I=R+(N^O^P)+q[14]+4259657740&4294967295,R=N+(I<<23&4294967295|I>>>9),I=P+(R^N^O)+q[1]+2763975236&4294967295,P=R+(I<<4&4294967295|I>>>28),I=O+(P^R^N)+q[4]+1272893353&4294967295,O=P+(I<<11&4294967295|I>>>21),I=N+(O^P^R)+q[7]+4139469664&4294967295,N=O+(I<<16&4294967295|I>>>16),I=R+(N^O^P)+q[10]+3200236656&4294967295,R=N+(I<<23&4294967295|I>>>9),I=P+(R^N^O)+q[13]+681279174&4294967295,P=R+(I<<4&4294967295|I>>>28),I=O+(P^R^N)+q[0]+3936430074&4294967295,O=P+(I<<11&4294967295|I>>>21),I=N+(O^P^R)+q[3]+3572445317&4294967295,N=O+(I<<16&4294967295|I>>>16),I=R+(N^O^P)+q[6]+76029189&4294967295,R=N+(I<<23&4294967295|I>>>9),I=P+(R^N^O)+q[9]+3654602809&4294967295,P=R+(I<<4&4294967295|I>>>28),I=O+(P^R^N)+q[12]+3873151461&4294967295,O=P+(I<<11&4294967295|I>>>21),I=N+(O^P^R)+q[15]+530742520&4294967295,N=O+(I<<16&4294967295|I>>>16),I=R+(N^O^P)+q[2]+3299628645&4294967295,R=N+(I<<23&4294967295|I>>>9),I=P+(N^(R|~O))+q[0]+4096336452&4294967295,P=R+(I<<6&4294967295|I>>>26),I=O+(R^(P|~N))+q[7]+1126891415&4294967295,O=P+(I<<10&4294967295|I>>>22),I=N+(P^(O|~R))+q[14]+2878612391&4294967295,N=O+(I<<15&4294967295|I>>>17),I=R+(O^(N|~P))+q[5]+4237533241&4294967295,R=N+(I<<21&4294967295|I>>>11),I=P+(N^(R|~O))+q[12]+1700485571&4294967295,P=R+(I<<6&4294967295|I>>>26),I=O+(R^(P|~N))+q[3]+2399980690&4294967295,O=P+(I<<10&4294967295|I>>>22),I=N+(P^(O|~R))+q[10]+4293915773&4294967295,N=O+(I<<15&4294967295|I>>>17),I=R+(O^(N|~P))+q[1]+2240044497&4294967295,R=N+(I<<21&4294967295|I>>>11),I=P+(N^(R|~O))+q[8]+1873313359&4294967295,P=R+(I<<6&4294967295|I>>>26),I=O+(R^(P|~N))+q[15]+4264355552&4294967295,O=P+(I<<10&4294967295|I>>>22),I=N+(P^(O|~R))+q[6]+2734768916&4294967295,N=O+(I<<15&4294967295|I>>>17),I=R+(O^(N|~P))+q[13]+1309151649&4294967295,R=N+(I<<21&4294967295|I>>>11),I=P+(N^(R|~O))+q[4]+4149444226&4294967295,P=R+(I<<6&4294967295|I>>>26),I=O+(R^(P|~N))+q[11]+3174756917&4294967295,O=P+(I<<10&4294967295|I>>>22),I=N+(P^(O|~R))+q[2]+718787259&4294967295,N=O+(I<<15&4294967295|I>>>17),I=R+(O^(N|~P))+q[9]+3951481745&4294967295,Y.g[0]=Y.g[0]+P&4294967295,Y.g[1]=Y.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,Y.g[2]=Y.g[2]+N&4294967295,Y.g[3]=Y.g[3]+O&4294967295}r.prototype.v=function(Y,P){P===void 0&&(P=Y.length);const R=P-this.blockSize,q=this.C;let N=this.h,O=0;for(;O<P;){if(N==0)for(;O<=R;)a(this,Y,O),O+=this.blockSize;if(typeof Y=="string"){for(;O<P;)if(q[N++]=Y.charCodeAt(O++),N==this.blockSize){a(this,q),N=0;break}}else for(;O<P;)if(q[N++]=Y[O++],N==this.blockSize){a(this,q),N=0;break}}this.h=N,this.o+=P},r.prototype.A=function(){var Y=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);Y[0]=128;for(var P=1;P<Y.length-8;++P)Y[P]=0;P=this.o*8;for(var R=Y.length-8;R<Y.length;++R)Y[R]=P&255,P/=256;for(this.v(Y),Y=Array(16),P=0,R=0;R<4;++R)for(let q=0;q<32;q+=8)Y[P++]=this.g[R]>>>q&255;return Y};function o(Y,P){var R=h;return Object.prototype.hasOwnProperty.call(R,Y)?R[Y]:R[Y]=P(Y)}function c(Y,P){this.h=P;const R=[];let q=!0;for(let N=Y.length-1;N>=0;N--){const O=Y[N]|0;q&&O==P||(R[N]=O,q=!1)}this.g=R}var h={};function f(Y){return-128<=Y&&Y<128?o(Y,function(P){return new c([P|0],P<0?-1:0)}):new c([Y|0],Y<0?-1:0)}function m(Y){if(isNaN(Y)||!isFinite(Y))return S;if(Y<0)return H(m(-Y));const P=[];let R=1;for(let q=0;Y>=R;q++)P[q]=Y/R|0,R*=4294967296;return new c(P,0)}function v(Y,P){if(Y.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(Y.charAt(0)=="-")return H(v(Y.substring(1),P));if(Y.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=m(Math.pow(P,8));let q=S;for(let O=0;O<Y.length;O+=8){var N=Math.min(8,Y.length-O);const I=parseInt(Y.substring(O,O+N),P);N<8?(N=m(Math.pow(P,N)),q=q.j(N).add(m(I))):(q=q.j(R),q=q.add(m(I)))}return q}var S=f(0),x=f(1),b=f(16777216);n=c.prototype,n.m=function(){if(B(this))return-H(this).m();let Y=0,P=1;for(let R=0;R<this.g.length;R++){const q=this.i(R);Y+=(q>=0?q:4294967296+q)*P,P*=4294967296}return Y},n.toString=function(Y){if(Y=Y||10,Y<2||36<Y)throw Error("radix out of range: "+Y);if(V(this))return"0";if(B(this))return"-"+H(this).toString(Y);const P=m(Math.pow(Y,6));var R=this;let q="";for(;;){const N=te(R,P).g;R=U(R,N.j(P));let O=((R.g.length>0?R.g[0]:R.h)>>>0).toString(Y);if(R=N,V(R))return O+q;for(;O.length<6;)O="0"+O;q=O+q}},n.i=function(Y){return Y<0?0:Y<this.g.length?this.g[Y]:this.h};function V(Y){if(Y.h!=0)return!1;for(let P=0;P<Y.g.length;P++)if(Y.g[P]!=0)return!1;return!0}function B(Y){return Y.h==-1}n.l=function(Y){return Y=U(this,Y),B(Y)?-1:V(Y)?0:1};function H(Y){const P=Y.g.length,R=[];for(let q=0;q<P;q++)R[q]=~Y.g[q];return new c(R,~Y.h).add(x)}n.abs=function(){return B(this)?H(this):this},n.add=function(Y){const P=Math.max(this.g.length,Y.g.length),R=[];let q=0;for(let N=0;N<=P;N++){let O=q+(this.i(N)&65535)+(Y.i(N)&65535),I=(O>>>16)+(this.i(N)>>>16)+(Y.i(N)>>>16);q=I>>>16,O&=65535,I&=65535,R[N]=I<<16|O}return new c(R,R[R.length-1]&-2147483648?-1:0)};function U(Y,P){return Y.add(H(P))}n.j=function(Y){if(V(this)||V(Y))return S;if(B(this))return B(Y)?H(this).j(H(Y)):H(H(this).j(Y));if(B(Y))return H(this.j(H(Y)));if(this.l(b)<0&&Y.l(b)<0)return m(this.m()*Y.m());const P=this.g.length+Y.g.length,R=[];for(var q=0;q<2*P;q++)R[q]=0;for(q=0;q<this.g.length;q++)for(let N=0;N<Y.g.length;N++){const O=this.i(q)>>>16,I=this.i(q)&65535,oe=Y.i(N)>>>16,xe=Y.i(N)&65535;R[2*q+2*N]+=I*xe,se(R,2*q+2*N),R[2*q+2*N+1]+=O*xe,se(R,2*q+2*N+1),R[2*q+2*N+1]+=I*oe,se(R,2*q+2*N+1),R[2*q+2*N+2]+=O*oe,se(R,2*q+2*N+2)}for(Y=0;Y<P;Y++)R[Y]=R[2*Y+1]<<16|R[2*Y];for(Y=P;Y<2*P;Y++)R[Y]=0;return new c(R,0)};function se(Y,P){for(;(Y[P]&65535)!=Y[P];)Y[P+1]+=Y[P]>>>16,Y[P]&=65535,P++}function Z(Y,P){this.g=Y,this.h=P}function te(Y,P){if(V(P))throw Error("division by zero");if(V(Y))return new Z(S,S);if(B(Y))return P=te(H(Y),P),new Z(H(P.g),H(P.h));if(B(P))return P=te(Y,H(P)),new Z(H(P.g),P.h);if(Y.g.length>30){if(B(Y)||B(P))throw Error("slowDivide_ only works with positive integers.");for(var R=x,q=P;q.l(Y)<=0;)R=be(R),q=be(q);var N=Se(R,1),O=Se(q,1);for(q=Se(q,2),R=Se(R,2);!V(q);){var I=O.add(q);I.l(Y)<=0&&(N=N.add(R),O=I),q=Se(q,1),R=Se(R,1)}return P=U(Y,N.j(P)),new Z(N,P)}for(N=S;Y.l(P)>=0;){for(R=Math.max(1,Math.floor(Y.m()/P.m())),q=Math.ceil(Math.log(R)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),O=m(R),I=O.j(P);B(I)||I.l(Y)>0;)R-=q,O=m(R),I=O.j(P);V(O)&&(O=x),N=N.add(O),Y=U(Y,I)}return new Z(N,Y)}n.B=function(Y){return te(this,Y).h},n.and=function(Y){const P=Math.max(this.g.length,Y.g.length),R=[];for(let q=0;q<P;q++)R[q]=this.i(q)&Y.i(q);return new c(R,this.h&Y.h)},n.or=function(Y){const P=Math.max(this.g.length,Y.g.length),R=[];for(let q=0;q<P;q++)R[q]=this.i(q)|Y.i(q);return new c(R,this.h|Y.h)},n.xor=function(Y){const P=Math.max(this.g.length,Y.g.length),R=[];for(let q=0;q<P;q++)R[q]=this.i(q)^Y.i(q);return new c(R,this.h^Y.h)};function be(Y){const P=Y.g.length+1,R=[];for(let q=0;q<P;q++)R[q]=Y.i(q)<<1|Y.i(q-1)>>>31;return new c(R,Y.h)}function Se(Y,P){const R=P>>5;P%=32;const q=Y.g.length-R,N=[];for(let O=0;O<q;O++)N[O]=P>0?Y.i(O+R)>>>P|Y.i(O+R+1)<<32-P:Y.i(O+R);return new c(N,Y.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Bw=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,xu=c}).apply(typeof Nv<"u"?Nv:typeof self<"u"?self:typeof window<"u"?window:{});var dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fw,Pf,zw,Lp,J1,qw,Hw,Gw;(function(){var n,e=Object.defineProperty;function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof dp=="object"&&dp];for(var E=0;E<p.length;++E){var L=p[E];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=t(this);function a(p,E){if(E)e:{var L=r;p=p.split(".");for(var Q=0;Q<p.length-1;Q++){var we=p[Q];if(!(we in L))break e;L=L[we]}p=p[p.length-1],Q=L[p],E=E(Q),E!=Q&&E!=null&&e(L,p,{configurable:!0,writable:!0,value:E})}}a("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(p){return p||function(E){var L=[],Q;for(Q in E)Object.prototype.hasOwnProperty.call(E,Q)&&L.push([Q,E[Q]]);return L}});var o=o||{},c=this||self;function h(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function f(p,E,L){return p.call.apply(p.bind,arguments)}function m(p,E,L){return m=f,m.apply(null,arguments)}function v(p,E){var L=Array.prototype.slice.call(arguments,1);return function(){var Q=L.slice();return Q.push.apply(Q,arguments),p.apply(this,Q)}}function S(p,E){function L(){}L.prototype=E.prototype,p.Z=E.prototype,p.prototype=new L,p.prototype.constructor=p,p.Ob=function(Q,we,Le){for(var $e=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)$e[qt-2]=arguments[qt];return E.prototype[we].apply(Q,$e)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function b(p){const E=p.length;if(E>0){const L=Array(E);for(let Q=0;Q<E;Q++)L[Q]=p[Q];return L}return[]}function V(p,E){for(let Q=1;Q<arguments.length;Q++){const we=arguments[Q];var L=typeof we;if(L=L!="object"?L:we?Array.isArray(we)?"array":L:"null",L=="array"||L=="object"&&typeof we.length=="number"){L=p.length||0;const Le=we.length||0;p.length=L+Le;for(let $e=0;$e<Le;$e++)p[L+$e]=we[$e]}else p.push(we)}}class B{constructor(E,L){this.i=E,this.j=L,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function H(p){c.setTimeout(()=>{throw p},0)}function U(){var p=Y;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class se{constructor(){this.h=this.g=null}add(E,L){const Q=Z.get();Q.set(E,L),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var Z=new B(()=>new te,p=>p.reset());class te{constructor(){this.next=this.g=this.h=null}set(E,L){this.h=E,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let be,Se=!1,Y=new se,P=()=>{const p=Promise.resolve(void 0);be=()=>{p.then(R)}};function R(){for(var p;p=U();){try{p.h.call(p.g)}catch(L){H(L)}var E=Z;E.j(p),E.h<100&&(E.h++,p.next=E.g,E.g=p)}Se=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const L=()=>{};c.addEventListener("test",L,E),c.removeEventListener("test",L,E)}catch{}return p})();function I(p){return/^[\s\xa0]*$/.test(p)}function oe(p,E){N.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,E)}S(oe,N),oe.prototype.init=function(p,E){const L=this.type=p.type,Q=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget,E||(L=="mouseover"?E=p.fromElement:L=="mouseout"&&(E=p.toElement)),this.relatedTarget=E,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),ae=0;function pe(p,E,L,Q,we){this.listener=p,this.proxy=null,this.src=E,this.type=L,this.capture=!!Q,this.ha=we,this.key=++ae,this.da=this.fa=!1}function fe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ie(p,E,L){for(const Q in p)E.call(L,p[Q],Q,p)}function He(p,E){for(const L in p)E.call(void 0,p[L],L,p)}function $(p){const E={};for(const L in p)E[L]=p[L];return E}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(p,E){let L,Q;for(let we=1;we<arguments.length;we++){Q=arguments[we];for(L in Q)p[L]=Q[L];for(let Le=0;Le<k.length;Le++)L=k[Le],Object.prototype.hasOwnProperty.call(Q,L)&&(p[L]=Q[L])}}function J(p){this.src=p,this.g={},this.h=0}J.prototype.add=function(p,E,L,Q,we){const Le=p.toString();p=this.g[Le],p||(p=this.g[Le]=[],this.h++);const $e=ce(p,E,Q,we);return $e>-1?(E=p[$e],L||(E.fa=!1)):(E=new pe(E,this.src,Le,!!Q,we),E.fa=L,p.push(E)),E};function le(p,E){const L=E.type;if(L in p.g){var Q=p.g[L],we=Array.prototype.indexOf.call(Q,E,void 0),Le;(Le=we>=0)&&Array.prototype.splice.call(Q,we,1),Le&&(fe(E),p.g[L].length==0&&(delete p.g[L],p.h--))}}function ce(p,E,L,Q){for(let we=0;we<p.length;++we){const Le=p[we];if(!Le.da&&Le.listener==E&&Le.capture==!!L&&Le.ha==Q)return we}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),ke={};function Re(p,E,L,Q,we){if(Array.isArray(E)){for(let Le=0;Le<E.length;Le++)Re(p,E[Le],L,Q,we);return null}return L=Tt(L),p&&p[xe]?p.J(E,L,h(Q)?!!Q.capture:!1,we):Ve(p,E,L,!1,Q,we)}function Ve(p,E,L,Q,we,Le){if(!E)throw Error("Invalid event type");const $e=h(we)?!!we.capture:!!we;let qt=et(p);if(qt||(p[ge]=qt=new J(p)),L=qt.add(E,L,Q,$e,Le),L.proxy)return L;if(Q=Xe(),L.proxy=Q,Q.src=p,Q.listener=L,p.addEventListener)O||(we=$e),we===void 0&&(we=!1),p.addEventListener(E.toString(),Q,we);else if(p.attachEvent)p.attachEvent(ct(E.toString()),Q);else if(p.addListener&&p.removeListener)p.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Xe(){function p(L){return E.call(p.src,p.listener,L)}const E=ee;return p}function nt(p,E,L,Q,we){if(Array.isArray(E))for(var Le=0;Le<E.length;Le++)nt(p,E[Le],L,Q,we);else Q=h(Q)?!!Q.capture:!!Q,L=Tt(L),p&&p[xe]?(p=p.i,Le=String(E).toString(),Le in p.g&&(E=p.g[Le],L=ce(E,L,Q,we),L>-1&&(fe(E[L]),Array.prototype.splice.call(E,L,1),E.length==0&&(delete p.g[Le],p.h--)))):p&&(p=et(p))&&(E=p.g[E.toString()],p=-1,E&&(p=ce(E,L,Q,we)),(L=p>-1?E[p]:null)&&tt(L))}function tt(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[xe])le(E.i,p);else{var L=p.type,Q=p.proxy;E.removeEventListener?E.removeEventListener(L,Q,p.capture):E.detachEvent?E.detachEvent(ct(L),Q):E.addListener&&E.removeListener&&E.removeListener(Q),(L=et(E))?(le(L,p),L.h==0&&(L.src=null,E[ge]=null)):fe(p)}}}function ct(p){return p in ke?ke[p]:ke[p]="on"+p}function ee(p,E){if(p.da)p=!0;else{E=new oe(E,this);const L=p.listener,Q=p.ha||p.src;p.fa&&tt(p),p=L.call(Q,E)}return p}function et(p){return p=p[ge],p instanceof J?p:null}var Kt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tt(p){return typeof p=="function"?p:(p[Kt]||(p[Kt]=function(E){return p.handleEvent(E)}),p[Kt])}function Fe(){q.call(this),this.i=new J(this),this.M=this,this.G=null}S(Fe,q),Fe.prototype[xe]=!0,Fe.prototype.removeEventListener=function(p,E,L,Q){nt(this,p,E,L,Q)};function st(p,E){var L,Q=p.G;if(Q)for(L=[];Q;Q=Q.G)L.push(Q);if(p=p.M,Q=E.type||E,typeof E=="string")E=new N(E,p);else if(E instanceof N)E.target=E.target||p;else{var we=E;E=new N(Q,p),K(E,we)}we=!0;let Le,$e;if(L)for($e=L.length-1;$e>=0;$e--)Le=E.g=L[$e],we=rt(Le,Q,!0,E)&&we;if(Le=E.g=p,we=rt(Le,Q,!0,E)&&we,we=rt(Le,Q,!1,E)&&we,L)for($e=0;$e<L.length;$e++)Le=E.g=L[$e],we=rt(Le,Q,!1,E)&&we}Fe.prototype.N=function(){if(Fe.Z.N.call(this),this.i){var p=this.i;for(const E in p.g){const L=p.g[E];for(let Q=0;Q<L.length;Q++)fe(L[Q]);delete p.g[E],p.h--}}this.G=null},Fe.prototype.J=function(p,E,L,Q){return this.i.add(String(p),E,!1,L,Q)},Fe.prototype.K=function(p,E,L,Q){return this.i.add(String(p),E,!0,L,Q)};function rt(p,E,L,Q){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();let we=!0;for(let Le=0;Le<E.length;++Le){const $e=E[Le];if($e&&!$e.da&&$e.capture==L){const qt=$e.listener,Jn=$e.ha||$e.src;$e.fa&&le(p.i,$e),we=qt.call(Jn,Q)!==!1&&we}}return we&&!Q.defaultPrevented}function Ct(p,E){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=m(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:c.setTimeout(p,E||0)}function bt(p){p.g=Ct(()=>{p.g=null,p.i&&(p.i=!1,bt(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class Wt extends q{constructor(E,L){super(),this.m=E,this.l=L,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:bt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(p){q.call(this),this.h=p,this.g={}}S(Zt,q);var Bt=[];function an(p){Ie(p.g,function(E,L){this.g.hasOwnProperty(L)&&tt(E)},p),p.g={}}Zt.prototype.N=function(){Zt.Z.N.call(this),an(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xt=c.JSON.stringify,gt=c.JSON.parse,Ht=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function yt(){}function ui(){}var $t={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Nt(){N.call(this,"d")}S(Nt,N);function jt(){N.call(this,"c")}S(jt,N);var Qt={},At=null;function In(){return At=At||new Fe}Qt.Ia="serverreachability";function Pt(p){N.call(this,Qt.Ia,p)}S(Pt,N);function Mt(p){const E=In();st(E,new Pt(E))}Qt.STAT_EVENT="statevent";function kn(p,E){N.call(this,Qt.STAT_EVENT,p),this.stat=E}S(kn,N);function wt(p){const E=In();st(E,new kn(E,p))}Qt.Ja="timingevent";function vt(p,E){N.call(this,Qt.Ja,p),this.size=E}S(vt,N);function on(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},E)}function ur(){this.g=!0}ur.prototype.ua=function(){this.g=!1};function Ji(p,E,L,Q,we,Le){p.info(function(){if(p.g)if(Le){var $e="",qt=Le.split("&");for(let un=0;un<qt.length;un++){var Jn=qt[un].split("=");if(Jn.length>1){const Pn=Jn[0];Jn=Jn[1];const nr=Pn.split("_");$e=nr.length>=2&&nr[1]=="type"?$e+(Pn+"="+Jn+"&"):$e+(Pn+"=redacted&")}}}else $e=null;else $e=Le;return"XMLHTTP REQ ("+Q+") [attempt "+we+"]: "+E+`
`+L+`
`+$e})}function Cs(p,E,L,Q,we,Le,$e){p.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+we+"]: "+E+`
`+L+`
`+Le+" "+$e})}function qi(p,E,L,Q){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+Js(p,L)+(Q?" "+Q:"")})}function St(p,E){p.info(function(){return"TIMEOUT: "+E})}ur.prototype.info=function(){};function Js(p,E){if(!p.g)return E;if(!E)return null;try{const Le=JSON.parse(E);if(Le){for(p=0;p<Le.length;p++)if(Array.isArray(Le[p])){var L=Le[p];if(!(L.length<2)){var Q=L[1];if(Array.isArray(Q)&&!(Q.length<1)){var we=Q[0];if(we!="noop"&&we!="stop"&&we!="close")for(let $e=1;$e<Q.length;$e++)Q[$e]=""}}}}return Xt(Le)}catch{return E}}var Fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Er={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xr;function Fn(){}S(Fn,yt),Fn.prototype.g=function(){return new XMLHttpRequest},xr=new Fn;function Xn(p){return encodeURIComponent(String(p))}function ki(p){var E=1;p=p.split(":");const L=[];for(;E>0&&p.length;)L.push(p.shift()),E--;return p.length&&L.push(p.join(":")),L}function cr(p,E,L,Q){this.j=p,this.i=E,this.l=L,this.S=Q||1,this.V=new Zt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zi}function Zi(){this.i=null,this.g="",this.h=!1}var Dn={},Hn={};function Di(p,E,L){p.M=1,p.A=_a(vi(E)),p.u=L,p.R=!0,Tr(p,null)}function Tr(p,E){p.F=Date.now(),Nr(p),p.B=vi(p.A);var L=p.B,Q=p.S;Array.isArray(Q)||(Q=[String(Q)]),wo(L.i,"t",Q),p.C=0,L=p.j.L,p.h=new Zi,p.g=lt(p.j,L?E:null,!p.u),p.P>0&&(p.O=new Wt(m(p.Y,p,p.g),p.P)),E=p.V,L=p.g,Q=p.ba;var we="readystatechange";Array.isArray(we)||(we&&(Bt[0]=we.toString()),we=Bt);for(let Le=0;Le<we.length;Le++){const $e=Re(L,we[Le],Q||E.handleEvent,!1,E.h||E);if(!$e)break;E.g[$e.key]=$e}E=p.J?$(p.J):{},p.u?(p.v||(p.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,E)):(p.v="GET",p.g.ea(p.B,p.v,null,E)),Mt(),Ji(p.i,p.v,p.B,p.l,p.S,p.u)}cr.prototype.ba=function(p){p=p.target;const E=this.O;E&&Kr(p)==3?E.j():this.Y(p)},cr.prototype.Y=function(p){try{if(p==this.g)e:{const qt=Kr(this.g),Jn=this.g.ya(),un=this.g.ca();if(!(qt<3)&&(qt!=3||this.g&&(this.h.h||this.g.la()||Ti(this.g)))){this.K||qt!=4||Jn==7||(Jn==8||un<=0?Mt(3):Mt(2)),zr(this);var E=this.g.ca();this.X=E;var L=ns(this);if(this.o=E==200,Cs(this.i,this.v,this.B,this.l,this.S,qt,E),this.o){if(this.U&&!this.L){t:{if(this.g){var Q,we=this.g;if((Q=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Q)){var Le=Q;break t}}Le=null}if(p=Le)qi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,is(this,p);else{this.o=!1,this.m=3,wt(12),qr(this),hr(this);break e}}if(this.R){p=!0;let Pn;for(;!this.K&&this.C<L.length;)if(Pn=vs(this,L),Pn==Hn){qt==4&&(this.m=4,wt(14),p=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==Dn){this.m=4,wt(15),qi(this.i,this.l,L,"[Invalid Chunk]"),p=!1;break}else qi(this.i,this.l,Pn,null),is(this,Pn);if(va(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||L.length!=0||this.h.h||(this.m=1,wt(16),p=!1),this.o=this.o&&p,!p)qi(this.i,this.l,L,"[Invalid Chunked Response]"),qr(this),hr(this);else if(L.length>0&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.aa&&!$e.P&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),xo($e),$e.P=!0,wt(11))}}else qi(this.i,this.l,L,null),is(this,L);qt==4&&qr(this),this.o&&!this.K&&(qt==4?ie(this.j,this):(this.o=!1,Nr(this)))}else Is(this.g),E==400&&L.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),qr(this),hr(this)}}}catch{}};function ns(p){if(!va(p))return p.g.la();const E=Ti(p.g);if(E==="")return"";let L="";const Q=E.length,we=Kr(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return qr(p),hr(p),"";p.h.i=new c.TextDecoder}for(let Le=0;Le<Q;Le++)p.h.h=!0,L+=p.h.i.decode(E[Le],{stream:!(we&&Le==Q-1)});return E.length=0,p.h.g+=L,p.C=0,p.h.g}function va(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function vs(p,E){var L=p.C,Q=E.indexOf(`
`,L);return Q==-1?Hn:(L=Number(E.substring(L,Q)),isNaN(L)?Dn:(Q+=1,Q+L>E.length?Hn:(E=E.slice(Q,Q+L),p.C=Q+L,E)))}cr.prototype.cancel=function(){this.K=!0,qr(this)};function Nr(p){p.T=Date.now()+p.H,Zs(p,p.H)}function Zs(p,E){if(p.D!=null)throw Error("WatchDog timer not null");p.D=on(m(p.aa,p),E)}function zr(p){p.D&&(c.clearTimeout(p.D),p.D=null)}cr.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(St(this.i,this.B),this.M!=2&&(Mt(),wt(17)),qr(this),this.m=2,hr(this)):Zs(this,this.T-p)};function hr(p){p.j.I==0||p.K||ie(p.j,p)}function qr(p){zr(p);var E=p.O;E&&typeof E.dispose=="function"&&E.dispose(),p.O=null,an(p.V),p.g&&(E=p.g,p.g=null,E.abort(),E.dispose())}function is(p,E){try{var L=p.j;if(L.I!=0&&(L.g==p||_s(L.h,p))){if(!p.L&&_s(L.h,p)&&L.I==3){try{var Q=L.Ba.g.parse(E)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var we=Q;if(we[0]==0){e:if(!L.v){if(L.g)if(L.g.F+3e3<p.F)M(L),Ls(L);else break e;As(L),wt(18)}}else L.xa=we[1],0<L.xa-L.K&&we[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=on(m(L.Va,L),6e3));rs(L.h)<=1&&L.ta&&(L.ta=void 0)}else ve(L,11)}else if((p.L||L.g==p)&&M(L),!I(E))for(we=L.Ba.g.parse(E),E=0;E<we.length;E++){let un=we[E];const Pn=un[0];if(!(Pn<=L.K))if(L.K=Pn,un=un[1],L.I==2)if(un[0]=="c"){L.M=un[1],L.ba=un[2];const nr=un[3];nr!=null&&(L.ka=nr,L.j.info("VER="+L.ka));const dr=un[4];dr!=null&&(L.za=dr,L.j.info("SVER="+L.za));const Gn=un[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(Q=1.5*Gn,L.O=Q,L.j.info("backChannelRequestTimeoutMs_="+Q)),Q=L;const pr=p.g;if(pr){const Ss=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var Le=Q.h;Le.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(Le.j=Le.l,Le.g=new Set,Le.h&&(Fa(Le,Le.h),Le.h=null))}if(Q.G){const Ea=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(Q.wa=Ea,yn(Q.J,Q.G,Ea))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-p.F,L.j.info("Handshake RTT: "+L.T+"ms")),Q=L;var $e=p;if(Q.na=Ke(Q,Q.L?Q.ba:null,Q.W),$e.L){_o(Q.h,$e);var qt=$e,Jn=Q.O;Jn&&(qt.H=Jn),qt.D&&(zr(qt),Nr(qt)),Q.g=$e}else ol(Q);L.i.length>0&&as(L)}else un[0]!="stop"&&un[0]!="close"||ve(L,7);else L.I==3&&(un[0]=="stop"||un[0]=="close"?un[0]=="stop"?ve(L,7):Sa(L):un[0]!="noop"&&L.l&&L.l.qa(un),L.A=0)}}Mt(4)}catch{}}var fi=class{constructor(p,E){this.g=p,this.map=E}};function vo(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cr(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function rs(p){return p.h?1:p.g?p.g.size:0}function _s(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function Fa(p,E){p.g?p.g.add(E):p.h=E}function _o(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}vo.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function bo(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const L of p.g.values())E=E.concat(L.G);return E}return b(p.i)}var tl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hr(p,E){if(p){p=p.split("&");for(let L=0;L<p.length;L++){const Q=p[L].indexOf("=");let we,Le=null;Q>=0?(we=p[L].substring(0,Q),Le=p[L].substring(Q+1)):we=p[L],E(we,Le?decodeURIComponent(Le.replace(/\+/g," ")):"")}}}function er(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;p instanceof er?(this.l=p.l,hn(this,p.j),this.o=p.o,this.g=p.g,ea(this,p.u),this.h=p.h,ss(this,Ao(p.i)),this.m=p.m):p&&(E=String(p).match(tl))?(this.l=!1,hn(this,E[1]||"",!0),this.o=xi(E[2]||""),this.g=xi(E[3]||"",!0),ea(this,E[4]),this.h=xi(E[5]||"",!0),ss(this,E[6]||"",!0),this.m=xi(E[7]||"")):(this.l=!1,this.i=new ta(null,this.l))}er.prototype.toString=function(){const p=[];var E=this.j;E&&p.push(ri(E,za,!0),":");var L=this.g;return(L||E=="file")&&(p.push("//"),(E=this.o)&&p.push(ri(E,za,!0),"@"),p.push(Xn(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&p.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&p.push("/"),p.push(ri(L,L.charAt(0)=="/"?nl:Vl,!0))),(L=this.i.toString())&&p.push("?",L),(L=this.m)&&p.push("#",ri(L,il)),p.join("")},er.prototype.resolve=function(p){const E=vi(this);let L=!!p.j;L?hn(E,p.j):L=!!p.o,L?E.o=p.o:L=!!p.g,L?E.g=p.g:L=p.u!=null;var Q=p.h;if(L)ea(E,p.u);else if(L=!!p.h){if(Q.charAt(0)!="/")if(this.g&&!this.h)Q="/"+Q;else{var we=E.h.lastIndexOf("/");we!=-1&&(Q=E.h.slice(0,we+1)+Q)}if(we=Q,we==".."||we==".")Q="";else if(we.indexOf("./")!=-1||we.indexOf("/.")!=-1){Q=we.lastIndexOf("/",0)==0,we=we.split("/");const Le=[];for(let $e=0;$e<we.length;){const qt=we[$e++];qt=="."?Q&&$e==we.length&&Le.push(""):qt==".."?((Le.length>1||Le.length==1&&Le[0]!="")&&Le.pop(),Q&&$e==we.length&&Le.push("")):(Le.push(qt),Q=!0)}Q=Le.join("/")}else Q=we}return L?E.h=Q:L=p.i.toString()!=="",L?ss(E,Ao(p.i)):L=!!p.m,L&&(E.m=p.m),E};function vi(p){return new er(p)}function hn(p,E,L){p.j=L?xi(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function ea(p,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);p.u=E}else p.u=null}function ss(p,E,L){E instanceof ta?(p.i=E,Ir(p.i,p.l)):(L||(E=ri(E,fr)),p.i=new ta(E,p.l))}function yn(p,E,L){p.i.set(E,L)}function _a(p){return yn(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function xi(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function ri(p,E,L){return typeof p=="string"?(p=encodeURI(p).replace(E,_i),L&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function _i(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var za=/[#\/\?@]/g,Vl=/[#\?:]/g,nl=/[#\?]/g,fr=/[#\?@]/g,il=/#/g;function ta(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Hi(p){p.g||(p.g=new Map,p.h=0,p.i&&Hr(p.i,function(E,L){p.add(decodeURIComponent(E.replace(/\+/g," ")),L)}))}n=ta.prototype,n.add=function(p,E){Hi(this),this.i=null,p=na(this,p);let L=this.g.get(p);return L||this.g.set(p,L=[]),L.push(E),this.h+=1,this};function ba(p,E){Hi(p),E=na(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function rl(p,E){return Hi(p),E=na(p,E),p.g.has(E)}n.forEach=function(p,E){Hi(this),this.g.forEach(function(L,Q){L.forEach(function(we){p.call(E,we,Q,this)},this)},this)};function sl(p,E){Hi(p);let L=[];if(typeof E=="string")rl(p,E)&&(L=L.concat(p.g.get(na(p,E))));else for(p=Array.from(p.g.values()),E=0;E<p.length;E++)L=L.concat(p[E]);return L}n.set=function(p,E){return Hi(this),this.i=null,p=na(this,p),rl(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=sl(this,p),p.length>0?String(p[0]):E):E};function wo(p,E,L){ba(p,E),L.length>0&&(p.i=null,p.g.set(na(p,E),b(L)),p.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(let Q=0;Q<E.length;Q++){var L=E[Q];const we=Xn(L);L=sl(this,L);for(let Le=0;Le<L.length;Le++){let $e=we;L[Le]!==""&&($e+="="+Xn(L[Le])),p.push($e)}}return this.i=p.join("&")};function Ao(p){const E=new ta;return E.i=p.i,p.g&&(E.g=new Map(p.g),E.h=p.h),E}function na(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function Ir(p,E){E&&!p.j&&(Hi(p),p.i=null,p.g.forEach(function(L,Q){const we=Q.toLowerCase();Q!=we&&(ba(this,Q),wo(this,we,L))},p)),p.j=E}function bs(p,E){const L=new ur;if(c.Image){const Q=new Image;Q.onload=v(Rr,L,"TestLoadImage: loaded",!0,E,Q),Q.onerror=v(Rr,L,"TestLoadImage: error",!1,E,Q),Q.onabort=v(Rr,L,"TestLoadImage: abort",!1,E,Q),Q.ontimeout=v(Rr,L,"TestLoadImage: timeout",!1,E,Q),c.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=p}else E(!1)}function ia(p,E){const L=new ur,Q=new AbortController,we=setTimeout(()=>{Q.abort(),Rr(L,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:Q.signal}).then(Le=>{clearTimeout(we),Le.ok?Rr(L,"TestPingServer: ok",!0,E):Rr(L,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(we),Rr(L,"TestPingServer: error",!1,E)})}function Rr(p,E,L,Q,we){try{we&&(we.onload=null,we.onerror=null,we.onabort=null,we.ontimeout=null),Q(L)}catch{}}function wa(){this.g=new Ht}function It(p){this.i=p.Sb||null,this.h=p.ab||!1}S(It,yt),It.prototype.g=function(){return new qa(this.i,this.h)};function qa(p,E){Fe.call(this),this.H=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(qa,Fe),n=qa.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=E,this.readyState=1,Gi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(E.body=p),(this.H||c).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Aa(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Gi(this)),this.g&&(this.readyState=3,Gi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;So(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function So(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?Aa(this):Gi(this),this.readyState==3&&So(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,Aa(this))},n.Na=function(p){this.g&&(this.response=p,Aa(this))},n.ga=function(){this.g&&Aa(this)};function Aa(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Gi(p)}n.setRequestHeader=function(p,E){this.A.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var L=E.next();!L.done;)L=L.value,p.push(L[0]+": "+L[1]),L=E.next();return p.join(`\r
`)};function Gi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Oi(p){let E="";return Ie(p,function(L,Q){E+=Q,E+=":",E+=L,E+=`\r
`}),E}function Ha(p,E,L){e:{for(Q in L){var Q=!1;break e}Q=!0}Q||(L=Oi(L),typeof p=="string"?L!=null&&Xn(L):yn(p,E,L))}function On(p){Fe.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(On,Fe);var Gr=/^https?$/i,Ga=["POST","PUT"];n=On.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,E,L,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xr.g(),this.g.onreadystatechange=x(m(this.Ca,this));try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(Le){ws(this,Le);return}if(p=L||"",L=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var we in Q)L.set(we,Q[we]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const Le of Q.keys())L.set(Le,Q.get(Le));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(L.keys()).find(Le=>Le.toLowerCase()=="content-type"),we=c.FormData&&p instanceof c.FormData,!(Array.prototype.indexOf.call(Ga,E,void 0)>=0)||Q||we||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Le,$e]of L)this.g.setRequestHeader(Le,$e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(Le){ws(this,Le)}};function ws(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.o=5,al(p),ra(p)}function al(p){p.A||(p.A=!0,st(p,"complete"),st(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,st(this,"complete"),st(this,"abort"),ra(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ra(this,!0)),On.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Yr(this):this.Xa())},n.Xa=function(){Yr(this)};function Yr(p){if(p.h&&typeof o<"u"){if(p.v&&Kr(p)==4)setTimeout(p.Ca.bind(p),0);else if(st(p,"readystatechange"),Kr(p)==4){p.h=!1;try{const Le=p.ca();e:switch(Le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var L;if(!(L=E)){var Q;if(Q=Le===0){let $e=String(p.D).match(tl)[1]||null;!$e&&c.self&&c.self.location&&($e=c.self.location.protocol.slice(0,-1)),Q=!Gr.test($e?$e.toLowerCase():"")}L=Q}if(L)st(p,"complete"),st(p,"success");else{p.o=6;try{var we=Kr(p)>2?p.g.statusText:""}catch{we=""}p.l=we+" ["+p.ca()+"]",al(p)}}finally{ra(p)}}}}function ra(p,E){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const L=p.g;p.g=null,E||st(p,"ready");try{L.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Kr(p){return p.g?p.g.readyState:0}n.ca=function(){try{return Kr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),gt(E)}};function Ti(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Is(p){const E={};p=(p.g&&Kr(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<p.length;Q++){if(I(p[Q]))continue;var L=ki(p[Q]);const we=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Le=E[we]||[];E[we]=Le,Le.push(L)}He(E,function(Q){return Q.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function tr(p,E,L){return L&&L.internalChannelParams&&L.internalChannelParams[p]||E}function Rs(p){this.za=0,this.i=[],this.j=new ur,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=tr("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=tr("baseRetryDelayMs",5e3,p),this.Za=tr("retryDelaySeedMs",1e4,p),this.Ta=tr("forwardChannelMaxRetries",2,p),this.va=tr("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new vo(p&&p.concurrentRequestLimit),this.Ba=new wa,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Rs.prototype,n.ka=8,n.I=1,n.connect=function(p,E,L,Q){wt(0),this.W=p,this.H=E||{},L&&Q!==void 0&&(this.H.OSID=L,this.H.OAID=Q),this.F=this.X,this.J=Ke(this,null,this.W),as(this)};function Sa(p){if(ks(p),p.I==3){var E=p.V++,L=vi(p.J);if(yn(L,"SID",p.M),yn(L,"RID",E),yn(L,"TYPE","terminate"),Wr(p,L),E=new cr(p,p.j,E),E.M=2,E.A=_a(vi(L)),L=!1,c.navigator&&c.navigator.sendBeacon)try{L=c.navigator.sendBeacon(E.A.toString(),"")}catch{}!L&&c.Image&&(new Image().src=E.A,L=!0),L||(E.g=lt(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Nr(E)}je(p)}function Ls(p){p.g&&(xo(p),p.g.cancel(),p.g=null)}function ks(p){Ls(p),p.v&&(c.clearTimeout(p.v),p.v=null),M(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&c.clearTimeout(p.m),p.m=null)}function as(p){if(!Cr(p.h)&&!p.m){p.m=!0;var E=p.Ea;be||P(),Se||(be(),Se=!0),Y.add(E,p),p.D=0}}function Ya(p,E){return rs(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=E.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=on(m(p.Ea,p,E),he(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const we=new cr(this,this.j,p);let Le=this.o;if(this.U&&(Le?(Le=$(Le),K(Le,this.U)):Le=this.U),this.u!==null||this.R||(we.J=Le,Le=null),this.S)e:{for(var E=0,L=0;L<this.i.length;L++){t:{var Q=this.i[L];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(E+=Q,E>4096){E=L;break e}if(E===4096||L===this.i.length-1){E=L+1;break e}}E=1e3}else E=1e3;E=Ds(this,we,E),L=vi(this.J),yn(L,"RID",p),yn(L,"CVER",22),this.G&&yn(L,"X-HTTP-Session-Id",this.G),Wr(this,L),Le&&(this.R?E="headers="+Xn(Oi(Le))+"&"+E:this.u&&Ha(L,this.u,Le)),Fa(this.h,we),this.Ra&&yn(L,"TYPE","init"),this.S?(yn(L,"$req",E),yn(L,"SID","null"),we.U=!0,Di(we,L,null)):Di(we,L,E),this.I=2}}else this.I==3&&(p?Eo(this,p):this.i.length==0||Cr(this.h)||Eo(this))};function Eo(p,E){var L;E?L=E.l:L=p.V++;const Q=vi(p.J);yn(Q,"SID",p.M),yn(Q,"RID",L),yn(Q,"AID",p.K),Wr(p,Q),p.u&&p.o&&Ha(Q,p.u,p.o),L=new cr(p,p.j,L,p.D+1),p.u===null&&(L.J=p.o),E&&(p.i=E.G.concat(p.i)),E=Ds(p,L,1e3),L.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Fa(p.h,L),Di(L,Q,E)}function Wr(p,E){p.H&&Ie(p.H,function(L,Q){yn(E,Q,L)}),p.l&&Ie({},function(L,Q){yn(E,Q,L)})}function Ds(p,E,L){L=Math.min(p.i.length,L);const Q=p.l?m(p.l.Ka,p.l,p):null;e:{var we=p.i;let qt=-1;for(;;){const Jn=["count="+L];qt==-1?L>0?(qt=we[0].g,Jn.push("ofs="+qt)):qt=0:Jn.push("ofs="+qt);let un=!0;for(let Pn=0;Pn<L;Pn++){var Le=we[Pn].g;const nr=we[Pn].map;if(Le-=qt,Le<0)qt=Math.max(0,we[Pn].g-100),un=!1;else try{Le="req"+Le+"_"||"";try{var $e=nr instanceof Map?nr:Object.entries(nr);for(const[dr,Gn]of $e){let pr=Gn;h(Gn)&&(pr=Xt(Gn)),Jn.push(Le+dr+"="+encodeURIComponent(pr))}}catch(dr){throw Jn.push(Le+"type="+encodeURIComponent("_badmap")),dr}}catch{Q&&Q(nr)}}if(un){$e=Jn.join("&");break e}}$e=void 0}return p=p.i.splice(0,L),E.G=p,$e}function ol(p){if(!p.g&&!p.v){p.Y=1;var E=p.Da;be||P(),Se||(be(),Se=!0),Y.add(E,p),p.A=0}}function As(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=on(m(p.Da,p),he(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,w(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=on(m(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Ls(this),w(this))};function xo(p){p.B!=null&&(c.clearTimeout(p.B),p.B=null)}function w(p){p.g=new cr(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var E=vi(p.na);yn(E,"RID","rpc"),yn(E,"SID",p.M),yn(E,"AID",p.K),yn(E,"CI",p.F?"0":"1"),!p.F&&p.ia&&yn(E,"TO",p.ia),yn(E,"TYPE","xmlhttp"),Wr(p,E),p.u&&p.o&&Ha(E,p.u,p.o),p.O&&(p.g.H=p.O);var L=p.g;p=p.ba,L.M=1,L.A=_a(vi(E)),L.u=null,L.R=!0,Tr(L,p)}n.Va=function(){this.C!=null&&(this.C=null,Ls(this),As(this),wt(19))};function M(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function ie(p,E){var L=null;if(p.g==E){M(p),xo(p),p.g=null;var Q=2}else if(_s(p.h,E))L=E.G,_o(p.h,E),Q=1;else return;if(p.I!=0){if(E.o)if(Q==1){L=E.u?E.u.length:0,E=Date.now()-E.F;var we=p.D;Q=In(),st(Q,new vt(Q,L)),as(p)}else ol(p);else if(we=E.m,we==3||we==0&&E.X>0||!(Q==1&&Ya(p,E)||Q==2&&As(p)))switch(L&&L.length>0&&(E=p.h,E.i=E.i.concat(L)),we){case 1:ve(p,5);break;case 4:ve(p,10);break;case 3:ve(p,6);break;default:ve(p,2)}}}function he(p,E){let L=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(L*=2),L*E}function ve(p,E){if(p.j.info("Error code "+E),E==2){var L=m(p.bb,p),Q=p.Ua;const we=!Q;Q=new er(Q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||hn(Q,"https"),_a(Q),we?bs(Q.toString(),L):ia(Q.toString(),L)}else wt(2);p.I=0,p.l&&p.l.pa(E),je(p),ks(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function je(p){if(p.I=0,p.ja=[],p.l){const E=bo(p.h);(E.length!=0||p.i.length!=0)&&(V(p.ja,E),V(p.ja,p.i),p.h.i.length=0,b(p.i),p.i.length=0),p.l.oa()}}function Ke(p,E,L){var Q=L instanceof er?vi(L):new er(L);if(Q.g!="")E&&(Q.g=E+"."+Q.g),ea(Q,Q.u);else{var we=c.location;Q=we.protocol,E=E?E+"."+we.hostname:we.hostname,we=+we.port;const Le=new er(null);Q&&hn(Le,Q),E&&(Le.g=E),we&&ea(Le,we),L&&(Le.h=L),Q=Le}return L=p.G,E=p.wa,L&&E&&yn(Q,L,E),yn(Q,"VER",p.ka),Wr(p,Q),Q}function lt(p,E,L){if(E&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Aa&&!p.ma?new On(new It({ab:L})):new On(p.ma),E.Fa(p.L),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function dt(){}n=dt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function kt(){}kt.prototype.g=function(p,E){return new Et(p,E)};function Et(p,E){Fe.call(this),this.g=new Rs(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(p?p["X-WebChannel-Client-Profile"]=E.sa:p={"X-WebChannel-Client-Profile":E.sa}),this.g.U=p,(p=E&&E.Qb)&&!I(p)&&(this.g.u=p),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!I(E)&&(this.g.G=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new zn(this)}S(Et,Fe),Et.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Et.prototype.close=function(){Sa(this.g)},Et.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var L={};L.__data__=p,p=L}else this.v&&(L={},L.__data__=Xt(p),p=L);E.i.push(new fi(E.Ya++,p)),E.I==3&&as(E)},Et.prototype.N=function(){this.g.l=null,delete this.j,Sa(this.g),delete this.g,Et.Z.N.call(this)};function fn(p){Nt.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const L in E){p=L;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}S(fn,Nt);function $n(){jt.call(this),this.status=1}S($n,jt);function zn(p){this.g=p}S(zn,dt),zn.prototype.ra=function(){st(this.g,"a")},zn.prototype.qa=function(p){st(this.g,new fn(p))},zn.prototype.pa=function(p){st(this.g,new $n)},zn.prototype.oa=function(){st(this.g,"b")},kt.prototype.createWebChannel=kt.prototype.g,Et.prototype.send=Et.prototype.o,Et.prototype.open=Et.prototype.m,Et.prototype.close=Et.prototype.close,Gw=function(){return new kt},Hw=function(){return In()},qw=Qt,J1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,Lp=Fr,Er.COMPLETE="complete",zw=Er,ui.EventType=$t,$t.OPEN="a",$t.CLOSE="b",$t.ERROR="c",$t.MESSAGE="d",Fe.prototype.listen=Fe.prototype.J,Pf=ui,On.prototype.listenOnce=On.prototype.K,On.prototype.getLastError=On.prototype.Ha,On.prototype.getLastErrorCode=On.prototype.ya,On.prototype.getStatus=On.prototype.ca,On.prototype.getResponseJson=On.prototype.La,On.prototype.getResponseText=On.prototype.la,On.prototype.send=On.prototype.ea,On.prototype.setWithCredentials=On.prototype.Fa,Fw=On}).apply(typeof dp<"u"?dp:typeof self<"u"?self:typeof window<"u"?window:{});class ms{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ms.UNAUTHENTICATED=new ms(null),ms.GOOGLE_CREDENTIALS=new ms("google-credentials-uid"),ms.FIRST_PARTY=new ms("first-party-uid"),ms.MOCK_USER=new ms("mock-user");let Uh="12.9.0";function jT(n){Uh=n}const mc=new I0("@firebase/firestore");function hh(){return mc.logLevel}function ut(n,...e){if(mc.logLevel<=bn.DEBUG){const t=e.map(B0);mc.debug(`Firestore (${Uh}): ${n}`,...t)}}function jl(n,...e){if(mc.logLevel<=bn.ERROR){const t=e.map(B0);mc.error(`Firestore (${Uh}): ${n}`,...t)}}function Cu(n,...e){if(mc.logLevel<=bn.WARN){const t=e.map(B0);mc.warn(`Firestore (${Uh}): ${n}`,...t)}}function B0(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function zt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Yw(n,r,t)}function Yw(n,e,t){let r=`FIRESTORE (${Uh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw jl(r),new Error(r)}function qn(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||Yw(e,a,r)}function rn(n,e){return n}const qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Jo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Kw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ww{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ms.UNAUTHENTICATED)))}shutdown(){}}class UT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class VT{constructor(e){this.t=e,this.currentUser=ms.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qn(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Dl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dl,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dl)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qn(typeof r.accessToken=="string",31837,{l:r}),new Kw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qn(e===null||typeof e=="string",2055,{h:e}),new ms(e)}}class BT{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ms.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class FT{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new BT(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ms.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zT{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,da(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){qn(this.o===void 0,3512);const r=o=>{o.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ut("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Cv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(qn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Cv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function qT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class vm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=qT(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function wn(n,e){return n<e?-1:n>e?1:0}function Z1(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),o=e.charAt(r);if(a!==o)return g1(a)===g1(o)?wn(a,o):g1(a)?1:-1}return wn(n.length,e.length)}const HT=55296,GT=57343;function g1(n){const e=n.charCodeAt(0);return e>=HT&&e<=GT}function Ih(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const Iv="__name__";class zo{constructor(e,t,r){t===void 0?t=0:t>e.length&&zt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&zt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return zo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zo?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=zo.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return wn(e.length,t.length)}static compareSegments(e,t){const r=zo.isNumericId(e),a=zo.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?zo.extractNumericId(e).compare(zo.extractNumericId(t)):Z1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xu.fromString(e.substring(4,e.length-2))}}class ci extends zo{construct(e,t,r){return new ci(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new it(qe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new ci(t)}static emptyPath(){return new ci([])}}const YT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vr extends zo{construct(e,t,r){return new Vr(e,t,r)}static isValidIdentifier(e){return YT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iv}static keyField(){return new Vr([Iv])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new it(qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new it(qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new it(qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(r+=h,a++):(o(),a++)}if(o(),c)throw new it(qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vr(t)}static emptyPath(){return new Vr([])}}class Lt{constructor(e){this.path=e}static fromPath(e){return new Lt(ci.fromString(e))}static fromName(e){return new Lt(ci.fromString(e).popFirst(5))}static empty(){return new Lt(ci.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ci.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ci.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Lt(new ci(e.slice()))}}function Qw(n,e,t){if(!t)throw new it(qe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Xw(n,e,t,r){if(e===!0&&r===!0)throw new it(qe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Rv(n){if(!Lt.isDocumentKey(n))throw new it(qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Lv(n){if(Lt.isDocumentKey(n))throw new it(qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $w(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function _m(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":zt(12329,{type:typeof n})}function Va(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new it(qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_m(n);throw new it(qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function lr(n,e){const t={typeString:n};return e&&(t.value=e),t}function hd(n,e){if(!$w(n))throw new it(qe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new it(qe.INVALID_ARGUMENT,t);return!0}const kv=-62135596800,Dv=1e6;class hi{static now(){return hi.fromMillis(Date.now())}static fromDate(e){return hi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Dv);return new hi(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new it(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new it(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<kv)throw new it(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dv}_compareTo(e){return this.seconds===e.seconds?wn(this.nanoseconds,e.nanoseconds):wn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:hi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hd(e,hi._jsonSchema))return new hi(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}hi._jsonSchemaVersion="firestore/timestamp/1.0",hi._jsonSchema={type:lr("string",hi._jsonSchemaVersion),seconds:lr("number"),nanoseconds:lr("number")};class Jt{static fromTimestamp(e){return new Jt(e)}static min(){return new Jt(new hi(0,0))}static max(){return new Jt(new hi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $f=-1;function KT(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Jt.fromTimestamp(r===1e9?new hi(t+1,0):new hi(t,r));return new Iu(a,Lt.empty(),e)}function WT(n){return new Iu(n.readTime,n.key,$f)}class Iu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Iu(Jt.min(),Lt.empty(),$f)}static max(){return new Iu(Jt.max(),Lt.empty(),$f)}}function QT(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Lt.comparator(n.documentKey,e.documentKey),t!==0?t:wn(n.largestBatchId,e.largestBatchId))}const XT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $T{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vh(n){if(n.code!==qe.FAILED_PRECONDITION||n.message!==XT)throw n;ut("LocalStore","Unexpectedly lost primary lease")}class We{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&zt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new We(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof We?t:We.resolve(t)}catch(t){return We.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):We.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):We.reject(t)}static resolve(e){return new We(((t,r)=>{t(e)}))}static reject(e){return new We(((t,r)=>{r(e)}))}static waitFor(e){return new We(((t,r)=>{let a=0,o=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&t()}),(f=>r(f)))})),c=!0,o===a&&t()}))}static or(e){let t=We.resolve(!1);for(const r of e)t=t.next((a=>a?We.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,o)=>{r.push(t.call(this,a,o))})),this.waitFor(r)}static mapArray(e,t){return new We(((r,a)=>{const o=e.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;t(e[m]).next((v=>{c[m]=v,++h,h===o&&r(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new We(((r,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):r()};o()}))}}function JT(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bh(n){return n.name==="IndexedDbTransactionError"}class bm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bm.ce=-1;const F0=-1;function wm(n){return n==null}function Xp(n){return n===0&&1/n==-1/0}function ZT(n){return typeof n=="number"&&Number.isInteger(n)&&!Xp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Jw="";function eN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ov(e)),e=tN(n.get(t),e);return Ov(e)}function tN(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case Jw:t+="";break;default:t+=o}}return t}function Ov(n){return n+Jw+""}function Pv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Uu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Zw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Li{constructor(e,t){this.comparator=e,this.root=t||ts.EMPTY}insert(e,t){return new Li(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ts.BLACK,null,null))}remove(e){return new Li(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ts.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pp(this.root,e,this.comparator,!1)}getReverseIterator(){return new pp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pp(this.root,e,this.comparator,!0)}}class pp{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ts{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??ts.RED,this.left=a??ts.EMPTY,this.right=o??ts.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new ts(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ts.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return ts.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ts.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ts.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw zt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw zt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw zt(27949);return e+(this.isRed()?0:1)}}ts.EMPTY=null,ts.RED=!0,ts.BLACK=!1;ts.EMPTY=new class{constructor(){this.size=0}get key(){throw zt(57766)}get value(){throw zt(16141)}get color(){throw zt(16727)}get left(){throw zt(29726)}get right(){throw zt(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new ts(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ar{constructor(e){this.comparator=e,this.data=new Li(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mv(this.data.getIterator())}getIteratorFrom(e){return new Mv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ar(this.comparator);return t.data=e,t}}class Mv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ma{constructor(e){this.fields=e,e.sort(Vr.comparator)}static empty(){return new ma([])}unionWith(e){let t=new Ar(Vr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ma(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ih(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class e4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new e4("Invalid base64 string: "+o):o}})(e);return new Br(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new Br(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Br.EMPTY_BYTE_STRING=new Br("");const nN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ru(n){if(qn(!!n,39018),typeof n=="string"){let e=0;const t=nN.exec(n);if(qn(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wi(n.seconds),nanos:Wi(n.nanos)}}function Wi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Lu(n){return typeof n=="string"?Br.fromBase64String(n):Br.fromUint8Array(n)}const t4="server_timestamp",n4="__type__",i4="__previous_value__",r4="__local_write_time__";function z0(n){return(n?.mapValue?.fields||{})[n4]?.stringValue===t4}function Am(n){const e=n.mapValue.fields[i4];return z0(e)?Am(e):e}function Jf(n){const e=Ru(n.mapValue.fields[r4].timestampValue);return new hi(e.seconds,e.nanos)}class iN{constructor(e,t,r,a,o,c,h,f,m,v,S){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=v,this.apiKey=S}}const $p="(default)";class Rh{constructor(e,t){this.projectId=e,this.database=t||$p}static empty(){return new Rh("","")}get isDefaultDatabase(){return this.database===$p}isEqual(e){return e instanceof Rh&&e.projectId===this.projectId&&e.database===this.database}}function rN(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new it(qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rh(n.options.projectId,e)}const s4="__type__",sN="__max__",mp={mapValue:{}},a4="__vector__",Jp="value";function ku(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?z0(n)?4:oN(n)?9007199254740991:aN(n)?10:11:zt(28295,{value:n})}function Qo(n,e){if(n===e)return!0;const t=ku(n);if(t!==ku(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Jf(n).isEqual(Jf(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Ru(a.timestampValue),h=Ru(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return Lu(a.bytesValue).isEqual(Lu(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return Wi(a.geoPointValue.latitude)===Wi(o.geoPointValue.latitude)&&Wi(a.geoPointValue.longitude)===Wi(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Wi(a.integerValue)===Wi(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Wi(a.doubleValue),h=Wi(o.doubleValue);return c===h?Xp(c)===Xp(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return Ih(n.arrayValue.values||[],e.arrayValue.values||[],Qo);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(Pv(c)!==Pv(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Qo(c[f],h[f])))return!1;return!0})(n,e);default:return zt(52216,{left:n})}}function Zf(n,e){return(n.values||[]).find((t=>Qo(t,e)))!==void 0}function Lh(n,e){if(n===e)return 0;const t=ku(n),r=ku(e);if(t!==r)return wn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return wn(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=Wi(o.integerValue||o.doubleValue),f=Wi(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return jv(n.timestampValue,e.timestampValue);case 4:return jv(Jf(n),Jf(e));case 5:return Z1(n.stringValue,e.stringValue);case 6:return(function(o,c){const h=Lu(o),f=Lu(c);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const v=wn(h[m],f[m]);if(v!==0)return v}return wn(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=wn(Wi(o.latitude),Wi(c.latitude));return h!==0?h:wn(Wi(o.longitude),Wi(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Uv(n.arrayValue,e.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},m=h[Jp]?.arrayValue,v=f[Jp]?.arrayValue,S=wn(m?.values?.length||0,v?.values?.length||0);return S!==0?S:Uv(m,v)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===mp.mapValue&&c===mp.mapValue)return 0;if(o===mp.mapValue)return 1;if(c===mp.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=c.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let S=0;S<f.length&&S<v.length;++S){const x=Z1(f[S],v[S]);if(x!==0)return x;const b=Lh(h[f[S]],m[v[S]]);if(b!==0)return b}return wn(f.length,v.length)})(n.mapValue,e.mapValue);default:throw zt(23264,{he:t})}}function jv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return wn(n,e);const t=Ru(n),r=Ru(e),a=wn(t.seconds,r.seconds);return a!==0?a:wn(t.nanos,r.nanos)}function Uv(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=Lh(t[a],r[a]);if(o)return o}return wn(t.length,r.length)}function kh(n){return e0(n)}function e0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Ru(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Lu(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Lt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=e0(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${e0(t.fields[c])}`;return a+"}"})(n.mapValue):zt(61005,{value:n})}function kp(n){switch(ku(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Am(n);return e?16+kp(e):16;case 5:return 2*n.stringValue.length;case 6:return Lu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+kp(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return Uu(r.fields,((o,c)=>{a+=o.length+kp(c)})),a})(n.mapValue);default:throw zt(13486,{value:n})}}function Vv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function t0(n){return!!n&&"integerValue"in n}function q0(n){return!!n&&"arrayValue"in n}function Bv(n){return!!n&&"nullValue"in n}function Fv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Dp(n){return!!n&&"mapValue"in n}function aN(n){return(n?.mapValue?.fields||{})[s4]?.stringValue===a4}function Ff(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Uu(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Ff(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ff(n.arrayValue.values[t]);return e}return{...n}}function oN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===sN}class Xs{constructor(e){this.value=e}static empty(){return new Xs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Dp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ff(t)}setAll(e){let t=Vr.emptyPath(),r={},a=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=h.popLast()}c?r[h.lastSegment()]=Ff(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());Dp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Dp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Uu(t,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new Xs(Ff(this.value))}}function o4(n){const e=[];return Uu(n.fields,((t,r)=>{const a=new Vr([t]);if(Dp(r)){const o=o4(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new ma(e)}class gs{constructor(e,t,r,a,o,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new gs(e,0,Jt.min(),Jt.min(),Jt.min(),Xs.empty(),0)}static newFoundDocument(e,t,r,a){return new gs(e,1,t,Jt.min(),r,a,0)}static newNoDocument(e,t){return new gs(e,2,t,Jt.min(),Jt.min(),Xs.empty(),0)}static newUnknownDocument(e,t){return new gs(e,3,t,Jt.min(),Jt.min(),Xs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zp{constructor(e,t){this.position=e,this.inclusive=t}}function zv(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],c=n.position[a];if(o.field.isKeyField()?r=Lt.comparator(Lt.fromName(c.referenceValue),t.key):r=Lh(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function qv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qo(n.position[t],e.position[t]))return!1;return!0}class ed{constructor(e,t="asc"){this.field=e,this.dir=t}}function lN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class l4{}class or extends l4{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new cN(e,t,r):t==="array-contains"?new dN(e,r):t==="in"?new pN(e,r):t==="not-in"?new mN(e,r):t==="array-contains-any"?new gN(e,r):new or(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new hN(e,r):new fN(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Lh(t,this.value)):t!==null&&ku(this.value)===ku(t)&&this.matchesComparison(Lh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return zt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class po extends l4{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new po(e,t)}matches(e){return u4(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function u4(n){return n.op==="and"}function c4(n){return uN(n)&&u4(n)}function uN(n){for(const e of n.filters)if(e instanceof po)return!1;return!0}function n0(n){if(n instanceof or)return n.field.canonicalString()+n.op.toString()+kh(n.value);if(c4(n))return n.filters.map((e=>n0(e))).join(",");{const e=n.filters.map((t=>n0(t))).join(",");return`${n.op}(${e})`}}function h4(n,e){return n instanceof or?(function(r,a){return a instanceof or&&r.op===a.op&&r.field.isEqual(a.field)&&Qo(r.value,a.value)})(n,e):n instanceof po?(function(r,a){return a instanceof po&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,c,h)=>o&&h4(c,a.filters[h])),!0):!1})(n,e):void zt(19439)}function f4(n){return n instanceof or?(function(t){return`${t.field.canonicalString()} ${t.op} ${kh(t.value)}`})(n):n instanceof po?(function(t){return t.op.toString()+" {"+t.getFilters().map(f4).join(" ,")+"}"})(n):"Filter"}class cN extends or{constructor(e,t,r){super(e,t,r),this.key=Lt.fromName(r.referenceValue)}matches(e){const t=Lt.comparator(e.key,this.key);return this.matchesComparison(t)}}class hN extends or{constructor(e,t){super(e,"in",t),this.keys=d4("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class fN extends or{constructor(e,t){super(e,"not-in",t),this.keys=d4("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function d4(n,e){return(e.arrayValue?.values||[]).map((t=>Lt.fromName(t.referenceValue)))}class dN extends or{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return q0(t)&&Zf(t.arrayValue,this.value)}}class pN extends or{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zf(this.value.arrayValue,t)}}class mN extends or{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Zf(this.value.arrayValue,t)}}class gN extends or{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!q0(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Zf(this.value.arrayValue,r)))}}class yN{constructor(e,t=null,r=[],a=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function Hv(n,e=null,t=[],r=[],a=null,o=null,c=null){return new yN(n,e,t,r,a,o,c)}function H0(n){const e=rn(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>n0(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),wm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>kh(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>kh(r))).join(",")),e.Te=t}return e.Te}function G0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!h4(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qv(n.startAt,e.startAt)&&qv(n.endAt,e.endAt)}function i0(n){return Lt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Fh{constructor(e,t=null,r=[],a=[],o=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function vN(n,e,t,r,a,o,c,h){return new Fh(n,e,t,r,a,o,c,h)}function Y0(n){return new Fh(n)}function Gv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _N(n){return Lt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function p4(n){return n.collectionGroup!==null}function zf(n){const e=rn(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ar(Vr.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new ed(o,r))})),t.has(Vr.keyField().canonicalString())||e.Ie.push(new ed(Vr.keyField(),r))}return e.Ie}function Ko(n){const e=rn(n);return e.Ee||(e.Ee=bN(e,zf(n))),e.Ee}function bN(n,e){if(n.limitType==="F")return Hv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new ed(a.field,o)}));const t=n.endAt?new Zp(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Zp(n.startAt.position,n.startAt.inclusive):null;return Hv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function r0(n,e){const t=n.filters.concat([e]);return new Fh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wN(n,e){const t=n.explicitOrderBy.concat([e]);return new Fh(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function s0(n,e,t){return new Fh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sm(n,e){return G0(Ko(n),Ko(e))&&n.limitType===e.limitType}function m4(n){return`${H0(Ko(n))}|lt:${n.limitType}`}function fh(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>f4(a))).join(", ")}]`),wm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>kh(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>kh(a))).join(",")),`Target(${r})`})(Ko(n))}; limitType=${n.limitType})`}function Em(n,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Lt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,a){for(const o of zf(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(c,h,f){const m=zv(c,h,f);return c.inclusive?m<=0:m<0})(r.startAt,zf(r),a)||r.endAt&&!(function(c,h,f){const m=zv(c,h,f);return c.inclusive?m>=0:m>0})(r.endAt,zf(r),a))})(n,e)}function AN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function g4(n){return(e,t)=>{let r=!1;for(const a of zf(n)){const o=SN(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function SN(n,e,t){const r=n.field.isKeyField()?Lt.comparator(e.key,t.key):(function(o,c,h){const f=c.data.field(o),m=h.data.field(o);return f!==null&&m!==null?Lh(f,m):zt(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return zt(19790,{direction:n.dir})}}class Sc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Uu(this.inner,((t,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return Zw(this.inner)}size(){return this.innerSize}}const EN=new Li(Lt.comparator);function Ul(){return EN}const y4=new Li(Lt.comparator);function Mf(...n){let e=y4;for(const t of n)e=e.insert(t.key,t);return e}function v4(n){let e=y4;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function lc(){return qf()}function _4(){return qf()}function qf(){return new Sc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const xN=new Li(Lt.comparator),TN=new Ar(Lt.comparator);function An(...n){let e=TN;for(const t of n)e=e.add(t);return e}const NN=new Ar(wn);function CN(){return NN}function K0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xp(e)?"-0":e}}function b4(n){return{integerValue:""+n}}function IN(n,e){return ZT(e)?b4(e):K0(n,e)}class xm{constructor(){this._=void 0}}function RN(n,e,t){return n instanceof em?(function(a,o){const c={fields:{[n4]:{stringValue:t4},[r4]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&z0(o)&&(o=Am(o)),o&&(c.fields[i4]=o),{mapValue:c}})(t,e):n instanceof td?A4(n,e):n instanceof nd?S4(n,e):(function(a,o){const c=w4(a,o),h=Yv(c)+Yv(a.Ae);return t0(c)&&t0(a.Ae)?b4(h):K0(a.serializer,h)})(n,e)}function LN(n,e,t){return n instanceof td?A4(n,e):n instanceof nd?S4(n,e):t}function w4(n,e){return n instanceof tm?(function(r){return t0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class em extends xm{}class td extends xm{constructor(e){super(),this.elements=e}}function A4(n,e){const t=E4(e);for(const r of n.elements)t.some((a=>Qo(a,r)))||t.push(r);return{arrayValue:{values:t}}}class nd extends xm{constructor(e){super(),this.elements=e}}function S4(n,e){let t=E4(e);for(const r of n.elements)t=t.filter((a=>!Qo(a,r)));return{arrayValue:{values:t}}}class tm extends xm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Yv(n){return Wi(n.integerValue||n.doubleValue)}function E4(n){return q0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function kN(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof td&&a instanceof td||r instanceof nd&&a instanceof nd?Ih(r.elements,a.elements,Qo):r instanceof tm&&a instanceof tm?Qo(r.Ae,a.Ae):r instanceof em&&a instanceof em})(n.transform,e.transform)}class DN{constructor(e,t){this.version=e,this.transformResults=t}}class ja{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ja}static exists(e){return new ja(void 0,e)}static updateTime(e){return new ja(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Op(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Tm{}function x4(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new W0(n.key,ja.none()):new fd(n.key,n.data,ja.none());{const t=n.data,r=Xs.empty();let a=new Ar(Vr.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new Vu(n.key,r,new ma(a.toArray()),ja.none())}}function ON(n,e,t){n instanceof fd?(function(a,o,c){const h=a.value.clone(),f=Wv(a.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Vu?(function(a,o,c){if(!Op(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=Wv(a.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(T4(a)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Hf(n,e,t,r){return n instanceof fd?(function(o,c,h,f){if(!Op(o.precondition,c))return h;const m=o.value.clone(),v=Qv(o.fieldTransforms,f,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof Vu?(function(o,c,h,f){if(!Op(o.precondition,c))return h;const m=Qv(o.fieldTransforms,f,c),v=c.data;return v.setAll(T4(o)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((S=>S.field)))})(n,e,t,r):(function(o,c,h){return Op(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function PN(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=w4(r.transform,a||null);o!=null&&(t===null&&(t=Xs.empty()),t.set(r.field,o))}return t||null}function Kv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ih(r,a,((o,c)=>kN(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fd extends Tm{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Vu extends Tm{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function T4(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Wv(n,e,t){const r=new Map;qn(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const o=n[a],c=o.transform,h=e.data.field(o.field);r.set(o.field,LN(c,h,t[a]))}return r}function Qv(n,e,t){const r=new Map;for(const a of n){const o=a.transform,c=t.data.field(a.field);r.set(a.field,RN(o,c,e))}return r}class W0 extends Tm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MN extends Tm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jN{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&ON(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Hf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Hf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_4();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(a.key)?null:h;const f=x4(c,h);f!==null&&r.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Jt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),An())}isEqual(e){return this.batchId===e.batchId&&Ih(this.mutations,e.mutations,((t,r)=>Kv(t,r)))&&Ih(this.baseMutations,e.baseMutations,((t,r)=>Kv(t,r)))}}class Q0{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){qn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return xN})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new Q0(e,t,r,a)}}class UN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class VN{constructor(e,t){this.count=e,this.unchangedNames=t}}var ar,Cn;function BN(n){switch(n){case qe.OK:return zt(64938);case qe.CANCELLED:case qe.UNKNOWN:case qe.DEADLINE_EXCEEDED:case qe.RESOURCE_EXHAUSTED:case qe.INTERNAL:case qe.UNAVAILABLE:case qe.UNAUTHENTICATED:return!1;case qe.INVALID_ARGUMENT:case qe.NOT_FOUND:case qe.ALREADY_EXISTS:case qe.PERMISSION_DENIED:case qe.FAILED_PRECONDITION:case qe.ABORTED:case qe.OUT_OF_RANGE:case qe.UNIMPLEMENTED:case qe.DATA_LOSS:return!0;default:return zt(15467,{code:n})}}function N4(n){if(n===void 0)return jl("GRPC error has no .code"),qe.UNKNOWN;switch(n){case ar.OK:return qe.OK;case ar.CANCELLED:return qe.CANCELLED;case ar.UNKNOWN:return qe.UNKNOWN;case ar.DEADLINE_EXCEEDED:return qe.DEADLINE_EXCEEDED;case ar.RESOURCE_EXHAUSTED:return qe.RESOURCE_EXHAUSTED;case ar.INTERNAL:return qe.INTERNAL;case ar.UNAVAILABLE:return qe.UNAVAILABLE;case ar.UNAUTHENTICATED:return qe.UNAUTHENTICATED;case ar.INVALID_ARGUMENT:return qe.INVALID_ARGUMENT;case ar.NOT_FOUND:return qe.NOT_FOUND;case ar.ALREADY_EXISTS:return qe.ALREADY_EXISTS;case ar.PERMISSION_DENIED:return qe.PERMISSION_DENIED;case ar.FAILED_PRECONDITION:return qe.FAILED_PRECONDITION;case ar.ABORTED:return qe.ABORTED;case ar.OUT_OF_RANGE:return qe.OUT_OF_RANGE;case ar.UNIMPLEMENTED:return qe.UNIMPLEMENTED;case ar.DATA_LOSS:return qe.DATA_LOSS;default:return zt(39323,{code:n})}}(Cn=ar||(ar={}))[Cn.OK=0]="OK",Cn[Cn.CANCELLED=1]="CANCELLED",Cn[Cn.UNKNOWN=2]="UNKNOWN",Cn[Cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cn[Cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cn[Cn.NOT_FOUND=5]="NOT_FOUND",Cn[Cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cn[Cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cn[Cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cn[Cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cn[Cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cn[Cn.ABORTED=10]="ABORTED",Cn[Cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cn[Cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cn[Cn.INTERNAL=13]="INTERNAL",Cn[Cn.UNAVAILABLE=14]="UNAVAILABLE",Cn[Cn.DATA_LOSS=15]="DATA_LOSS";function FN(){return new TextEncoder}const zN=new xu([4294967295,4294967295],0);function Xv(n){const e=FN().encode(n),t=new Bw;return t.update(e),new Uint8Array(t.digest())}function $v(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xu([t,r],0),new xu([a,o],0)]}class X0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new jf(`Invalid padding: ${t}`);if(r<0)throw new jf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new jf(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=xu.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(xu.fromNumber(r)));return a.compare(zN)===1&&(a=new xu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Xv(e),[r,a]=$v(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new X0(o,a,t);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=Xv(e),[r,a]=$v(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);this.be(c)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class jf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nm{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,dd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Nm(Jt.min(),a,new Li(wn),Ul(),An())}}class dd{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new dd(r,t,An(),An(),An())}}class Pp{constructor(e,t,r,a){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=a}}class C4{constructor(e,t){this.targetId=e,this.Ce=t}}class I4{constructor(e,t,r=Br.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class Jv{constructor(){this.ve=0,this.Fe=Zv(),this.Me=Br.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=An(),t=An(),r=An();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:zt(38017,{changeType:o})}})),new dd(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=Zv()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,qn(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class qN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ul(),this.He=gp(),this.Je=gp(),this.Ze=new Li(wn)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:zt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(i0(o))if(r===0){const c=new Lt(o.path);this.et(t,c,gs.newNoDocument(c,Jt.min()))}else qn(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const h=this.ut(e),f=h?this.ct(h,e,c):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let c,h;try{c=Lu(r).toUint8Array()}catch(f){if(f instanceof e4)return Cu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new X0(c,a,o)}catch(f){return Cu(f instanceof jf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&i0(h.target)){const f=new Lt(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,gs.newNoDocument(f,e))}o.Be&&(t.set(c,o.ke()),o.Ke())}}));let r=An();this.Je.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new Nm(e,t,this.Ze,this.je,r);return this.je=Ul(),this.He=gp(),this.Je=gp(),this.Ze=new Li(wn),a}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Jv,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Ar(wn),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Ar(wn),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ut("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function gp(){return new Li(Lt.comparator)}function Zv(){return new Li(Lt.comparator)}const HN={asc:"ASCENDING",desc:"DESCENDING"},GN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YN={and:"AND",or:"OR"};class KN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function a0(n,e){return n.useProto3Json||wm(e)?e:{value:e}}function nm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function R4(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function WN(n,e){return nm(n,e.toTimestamp())}function Wo(n){return qn(!!n,49232),Jt.fromTimestamp((function(t){const r=Ru(t);return new hi(r.seconds,r.nanos)})(n))}function $0(n,e){return o0(n,e).canonicalString()}function o0(n,e){const t=(function(a){return new ci(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function L4(n){const e=ci.fromString(n);return qn(M4(e),10190,{key:e.toString()}),e}function l0(n,e){return $0(n.databaseId,e.path)}function y1(n,e){const t=L4(e);if(t.get(1)!==n.databaseId.projectId)throw new it(qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new it(qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Lt(D4(t))}function k4(n,e){return $0(n.databaseId,e)}function QN(n){const e=L4(n);return e.length===4?ci.emptyPath():D4(e)}function u0(n){return new ci(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function D4(n){return qn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function e_(n,e,t){return{name:l0(n,e),fields:t.value.mapValue.fields}}function XN(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:zt(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(m,v){return m.useProto3Json?(qn(v===void 0||typeof v=="string",58123),Br.fromBase64String(v||"")):(qn(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Br.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const v=m.code===void 0?qe.UNKNOWN:N4(m.code);return new it(v,m.message||"")})(c);t=new I4(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=y1(n,r.document.name),o=Wo(r.document.updateTime),c=r.document.createTime?Wo(r.document.createTime):Jt.min(),h=new Xs({mapValue:{fields:r.document.fields}}),f=gs.newFoundDocument(a,o,c,h),m=r.targetIds||[],v=r.removedTargetIds||[];t=new Pp(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=y1(n,r.document),o=r.readTime?Wo(r.readTime):Jt.min(),c=gs.newNoDocument(a,o),h=r.removedTargetIds||[];t=new Pp([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=y1(n,r.document),o=r.removedTargetIds||[];t=new Pp([],o,a,null)}else{if(!("filter"in e))return zt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new VN(a,o),h=r.targetId;t=new C4(h,c)}}return t}function $N(n,e){let t;if(e instanceof fd)t={update:e_(n,e.key,e.value)};else if(e instanceof W0)t={delete:l0(n,e.key)};else if(e instanceof Vu)t={update:e_(n,e.key,e.data),updateMask:a8(e.fieldMask)};else{if(!(e instanceof MN))return zt(16599,{dt:e.type});t={verify:l0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const h=c.transform;if(h instanceof em)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof td)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof nd)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof tm)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw zt(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:WN(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:zt(27497)})(n,e.precondition)),t}function JN(n,e){return n&&n.length>0?(qn(e!==void 0,14353),n.map((t=>(function(a,o){let c=a.updateTime?Wo(a.updateTime):Wo(o);return c.isEqual(Jt.min())&&(c=Wo(o)),new DN(c,a.transformResults||[])})(t,e)))):[]}function ZN(n,e){return{documents:[k4(n,e.path)]}}function e8(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=k4(n,a);const o=(function(m){if(m.length!==0)return P4(po.create(m,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((v=>(function(x){return{field:dh(x.field),direction:i8(x.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=a0(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:a}}function t8(n){let e=QN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){qn(r===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=(function(S){const x=O4(S);return x instanceof po&&c4(x)?x.getFilters():[x]})(t.where));let c=[];t.orderBy&&(c=(function(S){return S.map((x=>(function(V){return new ed(ph(V.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(x)))})(t.orderBy));let h=null;t.limit&&(h=(function(S){let x;return x=typeof S=="object"?S.value:S,wm(x)?null:x})(t.limit));let f=null;t.startAt&&(f=(function(S){const x=!!S.before,b=S.values||[];return new Zp(b,x)})(t.startAt));let m=null;return t.endAt&&(m=(function(S){const x=!S.before,b=S.values||[];return new Zp(b,x)})(t.endAt)),vN(e,a,c,o,h,"F",f,m)}function n8(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zt(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function O4(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ph(t.unaryFilter.field);return or.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=ph(t.unaryFilter.field);return or.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ph(t.unaryFilter.field);return or.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ph(t.unaryFilter.field);return or.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return zt(61313);default:return zt(60726)}})(n):n.fieldFilter!==void 0?(function(t){return or.create(ph(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return zt(58110);default:return zt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return po.create(t.compositeFilter.filters.map((r=>O4(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return zt(1026)}})(t.compositeFilter.op))})(n):zt(30097,{filter:n})}function i8(n){return HN[n]}function r8(n){return GN[n]}function s8(n){return YN[n]}function dh(n){return{fieldPath:n.canonicalString()}}function ph(n){return Vr.fromServerFormat(n.fieldPath)}function P4(n){return n instanceof or?(function(t){if(t.op==="=="){if(Fv(t.value))return{unaryFilter:{field:dh(t.field),op:"IS_NAN"}};if(Bv(t.value))return{unaryFilter:{field:dh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Fv(t.value))return{unaryFilter:{field:dh(t.field),op:"IS_NOT_NAN"}};if(Bv(t.value))return{unaryFilter:{field:dh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dh(t.field),op:r8(t.op),value:t.value}}})(n):n instanceof po?(function(t){const r=t.getFilters().map((a=>P4(a)));return r.length===1?r[0]:{compositeFilter:{op:s8(t.op),filters:r}}})(n):zt(54877,{filter:n})}function a8(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function M4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function j4(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class wu{constructor(e,t,r,a,o=Jt.min(),c=Jt.min(),h=Br.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new wu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class o8{constructor(e){this.yt=e}}function l8(n){const e=t8({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?s0(e,e.limit,"L"):e}class u8{constructor(){this.Sn=new c8}addToCollectionParentIndex(e,t){return this.Sn.add(t),We.resolve()}getCollectionParents(e,t){return We.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return We.resolve()}deleteFieldIndex(e,t){return We.resolve()}deleteAllFieldIndexes(e){return We.resolve()}createTargetIndexes(e,t){return We.resolve()}getDocumentsMatchingTarget(e,t){return We.resolve(null)}getIndexType(e,t){return We.resolve(0)}getFieldIndexes(e,t){return We.resolve([])}getNextCollectionGroupToUpdate(e){return We.resolve(null)}getMinOffset(e,t){return We.resolve(Iu.min())}getMinOffsetFromCollectionGroup(e,t){return We.resolve(Iu.min())}updateCollectionGroup(e,t,r){return We.resolve()}updateIndexEntries(e,t){return We.resolve()}}class c8{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Ar(ci.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Ar(ci.comparator)).toArray()}}const t_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},U4=41943040;class Qs{static withCacheSize(e){return new Qs(e,Qs.DEFAULT_COLLECTION_PERCENTILE,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Qs.DEFAULT_COLLECTION_PERCENTILE=10,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qs.DEFAULT=new Qs(U4,Qs.DEFAULT_COLLECTION_PERCENTILE,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qs.DISABLED=new Qs(-1,0,0);class Dh{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Dh(0)}static ar(){return new Dh(-1)}}const n_="LruGarbageCollector",h8=1048576;function i_([n,e],[t,r]){const a=wn(n,t);return a===0?wn(e,r):a}class f8{constructor(e){this.Pr=e,this.buffer=new Ar(i_),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();i_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class d8{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ut(n_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bh(t)?ut(n_,"Ignoring IndexedDB error during garbage collection: ",t):await Vh(t)}await this.Ar(3e5)}))}}class p8{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return We.resolve(bm.ce);const r=new f8(t);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),We.resolve(t_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t_):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,a,o,c,h,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),a=this.params.maximumSequenceNumbersToCollect):a=S,c=Date.now(),this.nthSequenceNumber(e,a)))).next((S=>(r=S,h=Date.now(),this.removeTargets(e,r,t)))).next((S=>(o=S,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(m=Date.now(),hh()<=bn.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${S} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),We.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:S}))))}}function m8(n,e){return new p8(n,e)}class g8{constructor(){this.changes=new Sc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?We.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class y8{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class v8{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&Hf(r.mutation,a,ma.empty(),hi.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,An()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=An()){const a=lc();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((o=>{let c=Mf();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=lc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,An())))}populateOverlays(e,t,r){const a=[];return r.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,r,a){let o=Ul();const c=qf(),h=(function(){return qf()})();return t.forEach(((f,m)=>{const v=r.get(m.key);a.has(m.key)&&(v===void 0||v.mutation instanceof Vu)?o=o.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),Hf(v.mutation,m,v.mutation.getFieldMask(),hi.now())):c.set(m.key,ma.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((m,v)=>c.set(m,v))),t.forEach(((m,v)=>h.set(m,new y8(v,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=qf();let a=new Li(((c,h)=>c-h)),o=An();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let v=r.get(f)||ma.empty();v=h.applyToLocalView(m,v),r.set(f,v);const S=(a.get(h.batchId)||An()).add(f);a=a.insert(h.batchId,S)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,v=f.value,S=_4();v.forEach((x=>{if(!o.has(x)){const b=x4(t.get(x),r.get(x));b!==null&&S.set(x,b),o=o.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,S))}return We.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return _N(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):p4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):We.resolve(lc());let h=$f,f=o;return c.next((m=>We.forEach(m,((v,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),o.get(v)?We.resolve():this.remoteDocumentCache.getEntry(e,v).next((x=>{f=f.insert(v,x)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,f,m,An()))).next((v=>({batchId:h,changes:v4(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Lt(t)).next((r=>{let a=Mf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let c=Mf();return this.indexManager.getCollectionParents(e,o).next((h=>We.forEach(h,(f=>{const m=(function(S,x){return new Fh(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next((v=>{v.forEach(((S,x)=>{c=c.insert(S,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a)))).next((c=>{o.forEach(((f,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,gs.newInvalidDocument(v)))}));let h=Mf();return c.forEach(((f,m)=>{const v=o.get(f);v!==void 0&&Hf(v.mutation,m,ma.empty(),hi.now()),Em(t,m)&&(h=h.insert(f,m))})),h}))}}class _8{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return We.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Wo(a.createTime)}})(t)),We.resolve()}getNamedQuery(e,t){return We.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:l8(a.bundledQuery),readTime:Wo(a.readTime)}})(t)),We.resolve()}}class b8{constructor(){this.overlays=new Li(Lt.comparator),this.Lr=new Map}getOverlay(e,t){return We.resolve(this.overlays.get(t))}getOverlays(e,t){const r=lc();return We.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,o)=>{this.bt(e,t,o)})),We.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),We.resolve()}getOverlaysForCollection(e,t,r){const a=lc(),o=t.length+1,c=new Lt(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return We.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Li(((m,v)=>m-v));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=o.get(m.largestBatchId);v===null&&(v=lc(),o=o.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=lc(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,v)=>h.set(m,v))),!(h.size()>=a)););return We.resolve(h)}bt(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new UN(t,r));let o=this.Lr.get(t);o===void 0&&(o=An(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}}class w8{constructor(){this.sessionToken=Br.EMPTY_BYTE_STRING}getSessionToken(e){return We.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,We.resolve()}}class J0{constructor(){this.kr=new Ar(jr.Kr),this.qr=new Ar(jr.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new jr(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new jr(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new Lt(new ci([])),r=new jr(t,e),a=new jr(t,e+1),o=[];return this.qr.forEachInRange([r,a],(c=>{this.Wr(c),o.push(c.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Lt(new ci([])),r=new jr(t,e),a=new jr(t,e+1);let o=An();return this.qr.forEachInRange([r,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new jr(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class jr{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Lt.comparator(e.key,t.key)||wn(e.Hr,t.Hr)}static Ur(e,t){return wn(e.Hr,t.Hr)||Lt.comparator(e.key,t.key)}}class A8{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Ar(jr.Kr)}checkEmpty(e){return We.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new jN(o,t,r,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new jr(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return We.resolve(c)}lookupMutationBatch(e,t){return We.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Xr(r),o=a<0?0:a;return We.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return We.resolve(this.mutationQueue.length===0?F0:this.Yn-1)}getAllMutationBatches(e){return We.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new jr(t,0),a=new jr(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,a],(c=>{const h=this.Zr(c.Hr);o.push(h)})),We.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ar(wn);return t.forEach((a=>{const o=new jr(a,0),c=new jr(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,c],(h=>{r=r.add(h.Hr)}))})),We.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Lt.isDocumentKey(o)||(o=o.child(""));const c=new jr(new Lt(o),0);let h=new Ar(wn);return this.Jr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(h=h.add(f.Hr)),!0)}),c),We.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){qn(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return We.forEach(t.mutations,(a=>{const o=new jr(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new jr(t,0),a=this.Jr.firstAfterOrEqual(r);return We.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,We.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class S8{constructor(e){this.ti=e,this.docs=(function(){return new Li(Lt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,c=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return We.resolve(r?r.document.mutableCopy():gs.newInvalidDocument(t))}getEntries(e,t){let r=Ul();return t.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():gs.newInvalidDocument(a))})),We.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Ul();const c=t.path,h=new Lt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||QT(WT(v),r)<=0||(a.has(v.key)||Em(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return We.resolve(o)}getAllFromCollectionGroup(e,t,r,a){zt(9500)}ni(e,t){return We.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new E8(this)}getSize(e){return We.resolve(this.size)}}class E8 extends g8{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),We.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class x8{constructor(e){this.persistence=e,this.ri=new Sc((t=>H0(t)),G0),this.lastRemoteSnapshotVersion=Jt.min(),this.highestTargetId=0,this.ii=0,this.si=new J0,this.targetCount=0,this.oi=Dh._r()}forEachTarget(e,t){return this.ri.forEach(((r,a)=>t(a))),We.resolve()}getLastRemoteSnapshotVersion(e){return We.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return We.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),We.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),We.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Dh(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,We.resolve()}updateTargetData(e,t){return this.lr(t),We.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,We.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ri.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),We.waitFor(o).next((()=>a))}getTargetCount(e){return We.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return We.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),We.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),We.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),We.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return We.resolve(r)}containsKey(e,t){return We.resolve(this.si.containsKey(t))}}class V4{constructor(e,t){this._i={},this.overlays={},this.ai=new bm(0),this.ui=!1,this.ui=!0,this.ci=new w8,this.referenceDelegate=e(this),this.li=new x8(this),this.indexManager=new u8,this.remoteDocumentCache=(function(a){return new S8(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new o8(t),this.Pi=new _8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new b8,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new A8(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){ut("MemoryPersistence","Starting transaction:",e);const a=new T8(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((o=>this.referenceDelegate.Ii(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ei(e,t){return We.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class T8 extends $T{constructor(e){super(),this.currentSequenceNumber=e}}class Z0{constructor(e){this.persistence=e,this.Ri=new J0,this.Ai=null}static Vi(e){return new Z0(e)}get di(){if(this.Ai)return this.Ai;throw zt(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),We.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),We.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),We.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.di,(r=>{const a=Lt.fromPath(r);return this.mi(e,a).next((o=>{o||t.removeEntry(a,Jt.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return We.or([()=>We.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class im{constructor(e,t){this.persistence=e,this.fi=new Sc((r=>eN(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=m8(this,t)}static Vi(e,t){return new im(e,t)}Ti(){}Ii(e){return We.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return We.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((o=>o?We.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,t).next((h=>{h||(r++,o.removeEntry(c,Jt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),We.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),We.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),We.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),We.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kp(e.data.value)),t}wr(e,t,r){return We.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return We.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class e2{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=a}static Es(e,t){let r=An(),a=An();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new e2(e,t.fromCache,r,a)}}class N8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class C8{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return sE()?8:JT(ys())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.gs(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ps(e,t,a,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new N8;return this.ys(e,t,c).next((h=>{if(o.result=h,this.As)return this.ws(e,t,c,h.size)}))})).next((()=>o.result))}ws(e,t,r,a){return r.documentReadCount<this.Vs?(hh()<=bn.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",fh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),We.resolve()):(hh()<=bn.DEBUG&&ut("QueryEngine","Query:",fh(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(hh()<=bn.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",fh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ko(t))):We.resolve())}gs(e,t){if(Gv(t))return We.resolve(null);let r=Ko(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=s0(t,null,"F"),r=Ko(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=An(...o);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.bs(t,h);return this.Ss(t,m,c,f.readTime)?this.gs(e,s0(t,null,"F")):this.Ds(e,m,t,f)}))))})))))}ps(e,t,r,a){return Gv(t)||a.isEqual(Jt.min())?We.resolve(null):this.fs.getDocuments(e,r).next((o=>{const c=this.bs(t,o);return this.Ss(t,c,r,a)?We.resolve(null):(hh()<=bn.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),fh(t)),this.Ds(e,c,t,KT(a,$f)).next((h=>h)))}))}bs(e,t){let r=new Ar(g4(e));return t.forEach(((a,o)=>{Em(e,o)&&(r=r.add(o))})),r}Ss(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ys(e,t,r){return hh()<=bn.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",fh(t)),this.fs.getDocumentsMatchingQuery(e,t,Iu.min(),r)}Ds(e,t,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const t2="LocalStore",I8=3e8;class R8{constructor(e,t,r,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new Li(wn),this.Fs=new Sc((o=>H0(o)),G0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v8(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function L8(n,e,t,r){return new R8(n,e,t,r)}async function B4(n,e){const t=rn(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],h=[];let f=An();for(const m of a){c.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of o){h.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function k8(n,e){const t=rn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,v){const S=m.batch,x=S.keys();let b=We.resolve();return x.forEach((V=>{b=b.next((()=>v.getEntry(f,V))).next((B=>{const H=m.docVersions.get(V);qn(H!==null,48541),B.version.compareTo(H)<0&&(S.applyToRemoteDocument(B,m),B.isValidDocument()&&(B.setReadTime(m.commitVersion),v.addEntry(B)))}))})),b.next((()=>h.mutationQueue.removeMutationBatch(f,S)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=An();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function F4(n){const e=rn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function D8(n,e){const t=rn(n),r=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const h=[];e.targetChanges.forEach(((v,S)=>{const x=a.get(S);if(!x)return;h.push(t.li.removeMatchingKeys(o,v.removedDocuments,S).next((()=>t.li.addMatchingKeys(o,v.addedDocuments,S))));let b=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(S)!==null?b=b.withResumeToken(Br.EMPTY_BYTE_STRING,Jt.min()).withLastLimboFreeSnapshotVersion(Jt.min()):v.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(v.resumeToken,r)),a=a.insert(S,b),(function(B,H,U){return B.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=I8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(x,b,v)&&h.push(t.li.updateTargetData(o,b))}));let f=Ul(),m=An();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(O8(o,c,e.documentUpdates).next((v=>{f=v.Bs,m=v.Ls}))),!r.isEqual(Jt.min())){const v=t.li.getLastRemoteSnapshotVersion(o).next((S=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(v)}return We.waitFor(h).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,m))).next((()=>f))})).then((o=>(t.vs=a,o)))}function O8(n,e,t){let r=An(),a=An();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let c=Ul();return t.forEach(((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Jt.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):ut(t2,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{Bs:c,Ls:a}}))}function P8(n,e){const t=rn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=F0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function M8(n,e){const t=rn(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.li.getTargetData(r,e).next((o=>o?(a=o,We.resolve(a)):t.li.allocateTargetId(r).next((c=>(a=new wu(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function c0(n,e,t){const r=rn(n),a=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Bh(c))throw c;ut(t2,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function r_(n,e,t){const r=rn(n);let a=Jt.min(),o=An();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,v){const S=rn(f),x=S.Fs.get(v);return x!==void 0?We.resolve(S.vs.get(x)):S.li.getTargetData(m,v)})(r,c,Ko(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,t?a:Jt.min(),t?o:An()))).next((h=>(j8(r,AN(e),h),{documents:h,ks:o})))))}function j8(n,e,t){let r=n.Ms.get(e)||Jt.min();t.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(e,r)}class s_{constructor(){this.activeTargetIds=CN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U8{constructor(){this.vo=new s_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new s_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class V8{Mo(e){}shutdown(){}}const a_="ConnectivityMonitor";class o_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ut(a_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ut(a_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yp=null;function h0(){return yp===null?yp=(function(){return 268435456+Math.round(2147483648*Math.random())})():yp++,"0x"+yp.toString(16)}const v1="RestConnection",B8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class F8{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===$p?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,t,r,a,o){const c=h0(),h=this.Qo(e,t.toUriEncodedString());ut(v1,`Sending RPC '${e}' ${c}:`,h,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,a,o);const{host:m}=new URL(h),v=bc(m);return this.zo(e,h,f,r,v).then((S=>(ut(v1,`Received RPC '${e}' ${c}: `,S),S)),(S=>{throw Cu(v1,`RPC '${e}' ${c} failed with error: `,S,"url: ",h,"request:",r),S}))}jo(e,t,r,a,o,c){return this.Wo(e,t,r,a,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Uh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}Qo(e,t){const r=B8[e];let a=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class z8{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const cs="WebChannelConnection",If=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Sh extends F8{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Sh.c_){const e=Hw();If(e,qw.STAT_EVENT,(t=>{t.stat===J1.PROXY?ut(cs,"STAT_EVENT: detected buffering proxy"):t.stat===J1.NOPROXY&&ut(cs,"STAT_EVENT: detected no buffering proxy")})),Sh.c_=!0}}zo(e,t,r,a,o){const c=h0();return new Promise(((h,f)=>{const m=new Fw;m.setWithCredentials(!0),m.listenOnce(zw.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Lp.NO_ERROR:const S=m.getResponseJson();ut(cs,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(S)),h(S);break;case Lp.TIMEOUT:ut(cs,`RPC '${e}' ${c} timed out`),f(new it(qe.DEADLINE_EXCEEDED,"Request time out"));break;case Lp.HTTP_ERROR:const x=m.getStatus();if(ut(cs,`RPC '${e}' ${c} failed with status:`,x,"response text:",m.getResponseText()),x>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const V=b?.error;if(V&&V.status&&V.message){const B=(function(U){const se=U.toLowerCase().replace(/_/g,"-");return Object.values(qe).indexOf(se)>=0?se:qe.UNKNOWN})(V.status);f(new it(B,V.message))}else f(new it(qe.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new it(qe.UNAVAILABLE,"Connection failed."));break;default:zt(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ut(cs,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ut(cs,`RPC '${e}' ${c} sending request:`,a),m.send(t,"POST",v,r,15)}))}T_(e,t,r){const a=h0(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const m=o.join("");ut(cs,`Creating RPC '${e}' stream ${a}: ${m}`,h);const v=c.createWebChannel(m,h);this.I_(v);let S=!1,x=!1;const b=new z8({Ho:V=>{x?ut(cs,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(S||(ut(cs,`Opening RPC '${e}' stream ${a} transport.`),v.open(),S=!0),ut(cs,`RPC '${e}' stream ${a} sending:`,V),v.send(V))},Jo:()=>v.close()});return If(v,Pf.EventType.OPEN,(()=>{x||(ut(cs,`RPC '${e}' stream ${a} transport opened.`),b.i_())})),If(v,Pf.EventType.CLOSE,(()=>{x||(x=!0,ut(cs,`RPC '${e}' stream ${a} transport closed`),b.o_(),this.E_(v))})),If(v,Pf.EventType.ERROR,(V=>{x||(x=!0,Cu(cs,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),b.o_(new it(qe.UNAVAILABLE,"The operation could not be completed")))})),If(v,Pf.EventType.MESSAGE,(V=>{if(!x){const B=V.data[0];qn(!!B,16349);const H=B,U=H?.error||H[0]?.error;if(U){ut(cs,`RPC '${e}' stream ${a} received error:`,U);const se=U.status;let Z=(function(Se){const Y=ar[Se];if(Y!==void 0)return N4(Y)})(se),te=U.message;se==="NOT_FOUND"&&te.includes("database")&&te.includes("does not exist")&&te.includes(this.databaseId.database)&&Cu(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Z===void 0&&(Z=qe.INTERNAL,te="Unknown error status: "+se+" with message "+U.message),x=!0,b.o_(new it(Z,te)),v.close()}else ut(cs,`RPC '${e}' stream ${a} received:`,B),b.__(B)}})),Sh.u_(),setTimeout((()=>{b.s_()}),0),b}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Gw()}}function q8(n){return new Sh(n)}function _1(){return typeof document<"u"?document:null}function Cm(n){return new KN(n,!0)}Sh.c_=!1;class z4{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=a,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&ut("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const l_="PersistentStream";class q4{constructor(e,t,r,a,o,c,h,f){this.Ci=e,this.b_=r,this.S_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new z4(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===qe.RESOURCE_EXHAUSTED?(jl(t.toString()),jl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===qe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new it(qe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ut(l_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ut(l_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class H8 extends q4{constructor(e,t,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=XN(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Jt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Jt.min():c.readTime?Wo(c.readTime):Jt.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=u0(this.serializer),t.addTarget=(function(o,c){let h;const f=c.target;if(h=i0(f)?{documents:ZN(o,f)}:{query:e8(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=R4(o,c.resumeToken);const m=a0(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Jt.min())>0){h.readTime=nm(o,c.snapshotVersion.toTimestamp());const m=a0(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=n8(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=u0(this.serializer),t.removeTarget=e,this.K_(t)}}class G8 extends q4{constructor(e,t,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return qn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=JN(e.writeResults,e.commitTime),r=Wo(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=u0(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>$N(this.serializer,r)))};this.K_(t)}}class Y8{}class K8 extends Y8{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new it(qe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(e,o0(t,r),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new it(qe.UNKNOWN,o.toString())}))}jo(e,t,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,o0(t,r),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it(qe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function W8(n,e,t,r){return new K8(n,e,t,r)}class Q8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(jl(t),this.aa=!1):ut("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const gc="RemoteStore";class X8{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Ec(this)&&(ut(gc,"Restarting streams for network reachability change."),await(async function(f){const m=rn(f);m.Ea.add(4),await pd(m),m.Va.set("Unknown"),m.Ea.delete(4),await Im(m)})(this))}))})),this.Va=new Q8(r,a)}}async function Im(n){if(Ec(n))for(const e of n.Ra)await e(!0)}async function pd(n){for(const e of n.Ra)await e(!1)}function H4(n,e){const t=rn(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),s2(t)?r2(t):zh(t).O_()&&i2(t,e))}function n2(n,e){const t=rn(n),r=zh(t);t.Ia.delete(e),r.O_()&&G4(t,e),t.Ia.size===0&&(r.O_()?r.L_():Ec(t)&&t.Va.set("Unknown"))}function i2(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Jt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zh(n).Z_(e)}function G4(n,e){n.da.$e(e),zh(n).X_(e)}function r2(n){n.da=new qN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),zh(n).start(),n.Va.ua()}function s2(n){return Ec(n)&&!zh(n).x_()&&n.Ia.size>0}function Ec(n){return rn(n).Ea.size===0}function Y4(n){n.da=void 0}async function $8(n){n.Va.set("Online")}async function J8(n){n.Ia.forEach(((e,t)=>{i2(n,e)}))}async function Z8(n,e){Y4(n),s2(n)?(n.Va.ha(e),r2(n)):n.Va.set("Unknown")}async function eC(n,e,t){if(n.Va.set("Online"),e instanceof I4&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(n,e)}catch(r){ut(gc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rm(n,r)}else if(e instanceof Pp?n.da.Xe(e):e instanceof C4?n.da.st(e):n.da.tt(e),!t.isEqual(Jt.min()))try{const r=await F4(n.localStore);t.compareTo(r)>=0&&await(function(o,c){const h=o.da.Tt(c);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.Ia.get(m);v&&o.Ia.set(m,v.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,m)=>{const v=o.Ia.get(f);if(!v)return;o.Ia.set(f,v.withResumeToken(Br.EMPTY_BYTE_STRING,v.snapshotVersion)),G4(o,f);const S=new wu(v.target,f,m,v.sequenceNumber);i2(o,S)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){ut(gc,"Failed to raise snapshot:",r),await rm(n,r)}}async function rm(n,e,t){if(!Bh(e))throw e;n.Ea.add(1),await pd(n),n.Va.set("Offline"),t||(t=()=>F4(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ut(gc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Im(n)}))}function K4(n,e){return e().catch((t=>rm(n,t,e)))}async function Rm(n){const e=rn(n),t=Du(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:F0;for(;tC(e);)try{const a=await P8(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,nC(e,a)}catch(a){await rm(e,a)}W4(e)&&Q4(e)}function tC(n){return Ec(n)&&n.Ta.length<10}function nC(n,e){n.Ta.push(e);const t=Du(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function W4(n){return Ec(n)&&!Du(n).x_()&&n.Ta.length>0}function Q4(n){Du(n).start()}async function iC(n){Du(n).ra()}async function rC(n){const e=Du(n);for(const t of n.Ta)e.ea(t.mutations)}async function sC(n,e,t){const r=n.Ta.shift(),a=Q0.from(r,e,t);await K4(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Rm(n)}async function aC(n,e){e&&Du(n).Y_&&await(async function(r,a){if((function(c){return BN(c)&&c!==qe.ABORTED})(a.code)){const o=r.Ta.shift();Du(r).B_(),await K4(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Rm(r)}})(n,e),W4(n)&&Q4(n)}async function u_(n,e){const t=rn(n);t.asyncQueue.verifyOperationInProgress(),ut(gc,"RemoteStore received new credentials");const r=Ec(t);t.Ea.add(3),await pd(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Im(t)}async function oC(n,e){const t=rn(n);e?(t.Ea.delete(2),await Im(t)):e||(t.Ea.add(2),await pd(t),t.Va.set("Unknown"))}function zh(n){return n.ma||(n.ma=(function(t,r,a){const o=rn(t);return o.sa(),new H8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:$8.bind(null,n),Yo:J8.bind(null,n),t_:Z8.bind(null,n),J_:eC.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),s2(n)?r2(n):n.Va.set("Unknown")):(await n.ma.stop(),Y4(n))}))),n.ma}function Du(n){return n.fa||(n.fa=(function(t,r,a){const o=rn(t);return o.sa(),new G8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:iC.bind(null,n),t_:aC.bind(null,n),ta:rC.bind(null,n),na:sC.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Rm(n)):(await n.fa.stop(),n.Ta.length>0&&(ut(gc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class a2{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Dl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const c=Date.now()+r,h=new a2(e,t,c,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function o2(n,e){if(jl("AsyncQueue",`${e}: ${n}`),Bh(n))return new it(qe.UNAVAILABLE,`${e}: ${n}`);throw n}class Eh{static emptySet(e){return new Eh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Lt.comparator(t.key,r.key):(t,r)=>Lt.comparator(t.key,r.key),this.keyedMap=Mf(),this.sortedSet=new Li(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Eh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class c_{constructor(){this.ga=new Li(Lt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):zt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Oh{constructor(e,t,r,a,o,c,h,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,a,o){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new Oh(e,t,Eh.emptySet(t),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class lC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class uC{constructor(){this.queries=h_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=rn(t),o=a.queries;a.queries=h_(),o.forEach(((c,h)=>{for(const f of h.ba)f.onError(r)}))})(this,new it(qe.ABORTED,"Firestore shutting down"))}}function h_(){return new Sc((n=>m4(n)),Sm)}async function X4(n,e){const t=rn(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Sa()&&e.Da()&&(r=2):(o=new lC,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const h=o2(c,`Initialization of query '${fh(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&l2(t)}async function $4(n,e){const t=rn(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const c=o.ba.indexOf(e);c>=0&&(o.ba.splice(c,1),o.ba.length===0?a=e.Da()?0:1:!o.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function cC(n,e){const t=rn(n);let r=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const h of c.ba)h.Fa(a)&&(r=!0);c.wa=a}}r&&l2(t)}function hC(n,e,t){const r=rn(n),a=r.queries.get(e);if(a)for(const o of a.ba)o.onError(t);r.queries.delete(e)}function l2(n){n.Ca.forEach((e=>{e.next()}))}var f0,f_;(f_=f0||(f0={})).Ma="default",f_.Cache="cache";class J4{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Oh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Oh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==f0.Cache}}class Z4{constructor(e){this.key=e}}class e3{constructor(e){this.key=e}}class fC{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=An(),this.mutatedKeys=An(),this.eu=g4(e),this.tu=new Eh(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new c_,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,S)=>{const x=a.get(v),b=Em(this.query,S)?S:null,V=!!x&&this.mutatedKeys.has(x.key),B=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let H=!1;x&&b?x.data.isEqual(b.data)?V!==B&&(r.track({type:3,doc:b}),H=!0):this.su(x,b)||(r.track({type:2,doc:b}),H=!0,(f&&this.eu(b,f)>0||m&&this.eu(b,m)<0)&&(h=!0)):!x&&b?(r.track({type:0,doc:b}),H=!0):x&&!b&&(r.track({type:1,doc:x}),H=!0,(f||m)&&(h=!0)),H&&(b?(c=c.add(b),o=B?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Ss:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,S)=>(function(b,V){const B=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt(20277,{Vt:H})}};return B(b)-B(V)})(v.type,S.type)||this.eu(v.doc,S.doc))),this.ou(r),a=a??!1;const h=t&&!a?this._u():[],f=this.Ya.size===0&&this.current&&!a?1:0,m=f!==this.Xa;return this.Xa=f,c.length!==0||m?{snapshot:new Oh(this.query,e.tu,o,c,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=An(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new e3(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new Z4(r))})),t}cu(e){this.Za=e.ks,this.Ya=An();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Oh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const u2="SyncEngine";class dC{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class pC{constructor(e){this.key=e,this.hu=!1}}class mC{constructor(e,t,r,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Sc((h=>m4(h)),Sm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Li(Lt.comparator),this.Au=new Map,this.Vu=new J0,this.du={},this.mu=new Map,this.fu=Dh.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gC(n,e,t=!0){const r=a3(n);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await t3(r,e,t,!0),a}async function yC(n,e){const t=a3(n);await t3(t,e,!0,!1)}async function t3(n,e,t,r){const a=await M8(n.localStore,Ko(e)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await vC(n,e,o,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&H4(n.remoteStore,a),h}async function vC(n,e,t,r,a){n.pu=(S,x,b)=>(async function(B,H,U,se){let Z=H.view.ru(U);Z.Ss&&(Z=await r_(B.localStore,H.query,!1).then((({documents:Y})=>H.view.ru(Y,Z))));const te=se&&se.targetChanges.get(H.targetId),be=se&&se.targetMismatches.get(H.targetId)!=null,Se=H.view.applyChanges(Z,B.isPrimaryClient,te,be);return p_(B,H.targetId,Se.au),Se.snapshot})(n,S,x,b);const o=await r_(n.localStore,e,!0),c=new fC(e,o.ks),h=c.ru(o.documents),f=dd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),m=c.applyChanges(h,n.isPrimaryClient,f);p_(n,t,m.au);const v=new dC(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function _C(n,e,t){const r=rn(n),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((c=>!Sm(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await c0(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&n2(r.remoteStore,a.targetId),d0(r,a.targetId)})).catch(Vh)):(d0(r,a.targetId),await c0(r.localStore,a.targetId,!0))}async function bC(n,e){const t=rn(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),n2(t.remoteStore,r.targetId))}async function wC(n,e,t){const r=CC(n);try{const a=await(function(c,h){const f=rn(c),m=hi.now(),v=h.reduce(((b,V)=>b.add(V.key)),An());let S,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let V=Ul(),B=An();return f.xs.getEntries(b,v).next((H=>{V=H,V.forEach(((U,se)=>{se.isValidDocument()||(B=B.add(U))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,V))).next((H=>{S=H;const U=[];for(const se of h){const Z=PN(se,S.get(se.key).overlayedDocument);Z!=null&&U.push(new Vu(se.key,Z,o4(Z.value.mapValue),ja.exists(!0)))}return f.mutationQueue.addMutationBatch(b,m,U,h)})).next((H=>{x=H;const U=H.applyToLocalDocumentSet(S,B);return f.documentOverlayCache.saveOverlays(b,H.batchId,U)}))})).then((()=>({batchId:x.batchId,changes:v4(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,h,f){let m=c.du[c.currentUser.toKey()];m||(m=new Li(wn)),m=m.insert(h,f),c.du[c.currentUser.toKey()]=m})(r,a.batchId,t),await md(r,a.changes),await Rm(r.remoteStore)}catch(a){const o=o2(a,"Failed to persist write");t.reject(o)}}async function n3(n,e){const t=rn(n);try{const r=await D8(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=t.Au.get(o);c&&(qn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?qn(c.hu,14607):a.removedDocuments.size>0&&(qn(c.hu,42227),c.hu=!1))})),await md(t,r,e)}catch(r){await Vh(r)}}function d_(n,e,t){const r=rn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const f=rn(c);f.onlineState=h;let m=!1;f.queries.forEach(((v,S)=>{for(const x of S.ba)x.va(h)&&(m=!0)})),m&&l2(f)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AC(n,e,t){const r=rn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),o=a&&a.key;if(o){let c=new Li(Lt.comparator);c=c.insert(o,gs.newNoDocument(o,Jt.min()));const h=An().add(o),f=new Nm(Jt.min(),new Map,new Li(wn),c,h);await n3(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(e),c2(r)}else await c0(r.localStore,e,!1).then((()=>d0(r,e,t))).catch(Vh)}async function SC(n,e){const t=rn(n),r=e.batch.batchId;try{const a=await k8(t.localStore,e);r3(t,r,null),i3(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await md(t,a)}catch(a){await Vh(a)}}async function EC(n,e,t){const r=rn(n);try{const a=await(function(c,h){const f=rn(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return f.mutationQueue.lookupMutationBatch(m,h).next((S=>(qn(S!==null,37113),v=S.keys(),f.mutationQueue.removeMutationBatch(m,S)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>f.localDocuments.getDocuments(m,v)))}))})(r.localStore,e);r3(r,e,t),i3(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await md(r,a)}catch(a){await Vh(a)}}function i3(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function r3(n,e,t){const r=rn(n);let a=r.du[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function d0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||s3(n,r)}))}function s3(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(n2(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),c2(n))}function p_(n,e,t){for(const r of t)r instanceof Z4?(n.Vu.addReference(r.key,e),xC(n,r)):r instanceof e3?(ut(u2,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||s3(n,r.key)):zt(19791,{wu:r})}function xC(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(ut(u2,"New document in limbo: "+t),n.Eu.add(r),c2(n))}function c2(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Lt(ci.fromString(e)),r=n.fu.next();n.Au.set(r,new pC(t)),n.Ru=n.Ru.insert(t,r),H4(n.remoteStore,new wu(Ko(Y0(t.path)),r,"TargetPurposeLimboResolution",bm.ce))}}async function md(n,e,t){const r=rn(n),a=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{c.push(r.pu(f,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const v=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(m){a.push(m);const v=e2.Es(f.targetId,m);o.push(v)}})))})),await Promise.all(c),r.Pu.J_(a),await(async function(f,m){const v=rn(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>We.forEach(m,(x=>We.forEach(x.Ts,(b=>v.persistence.referenceDelegate.addReference(S,x.targetId,b))).next((()=>We.forEach(x.Is,(b=>v.persistence.referenceDelegate.removeReference(S,x.targetId,b)))))))))}catch(S){if(!Bh(S))throw S;ut(t2,"Failed to update sequence numbers: "+S)}for(const S of m){const x=S.targetId;if(!S.fromCache){const b=v.vs.get(x),V=b.snapshotVersion,B=b.withLastLimboFreeSnapshotVersion(V);v.vs=v.vs.insert(x,B)}}})(r.localStore,o))}async function TC(n,e){const t=rn(n);if(!t.currentUser.isEqual(e)){ut(u2,"User change. New user:",e.toKey());const r=await B4(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new it(qe.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await md(t,r.Ns)}}function NC(n,e){const t=rn(n),r=t.Au.get(e);if(r&&r.hu)return An().add(r.key);{let a=An();const o=t.Iu.get(e);if(!o)return a;for(const c of o){const h=t.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function a3(n){const e=rn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=n3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AC.bind(null,e),e.Pu.J_=cC.bind(null,e.eventManager),e.Pu.yu=hC.bind(null,e.eventManager),e}function CC(n){const e=rn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EC.bind(null,e),e}class sm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return L8(this.persistence,new C8,e.initialUser,this.serializer)}Cu(e){return new V4(Z0.Vi,this.serializer)}Du(e){return new U8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sm.provider={build:()=>new sm};class IC extends sm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){qn(this.persistence.referenceDelegate instanceof im,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new d8(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Qs.withCacheSize(this.cacheSizeBytes):Qs.DEFAULT;return new V4((r=>im.Vi(r,t)),this.serializer)}}class p0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>d_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TC.bind(null,this.syncEngine),await oC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uC})()}createDatastore(e){const t=Cm(e.databaseInfo.databaseId),r=q8(e.databaseInfo);return W8(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,o,c,h){return new X8(r,a,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>d_(this.syncEngine,t,0)),(function(){return o_.v()?new o_:new V8})())}createSyncEngine(e,t){return(function(a,o,c,h,f,m,v){const S=new mC(a,o,c,h,f,m);return v&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=rn(t);ut(gc,"RemoteStore shutting down."),r.Ea.add(5),await pd(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}p0.provider={build:()=>new p0};class o3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):jl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ou="FirestoreClient";class RC{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=a,this.user=ms.UNAUTHENTICATED,this.clientId=vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{ut(Ou,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ut(Ou,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=o2(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function b1(n,e){n.asyncQueue.verifyOperationInProgress(),ut(Ou,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await B4(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function m_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await LC(n);ut(Ou,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>u_(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>u_(e.remoteStore,a))),n._onlineComponents=e}async function LC(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ut(Ou,"Using user provided OfflineComponentProvider");try{await b1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===qe.FAILED_PRECONDITION||a.code===qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Cu("Error using user provided cache. Falling back to memory cache: "+t),await b1(n,new sm)}}else ut(Ou,"Using default OfflineComponentProvider"),await b1(n,new IC(void 0));return n._offlineComponents}async function l3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ut(Ou,"Using user provided OnlineComponentProvider"),await m_(n,n._uninitializedComponentsProvider._online)):(ut(Ou,"Using default OnlineComponentProvider"),await m_(n,new p0))),n._onlineComponents}function kC(n){return l3(n).then((e=>e.syncEngine))}async function u3(n){const e=await l3(n),t=e.eventManager;return t.onListen=gC.bind(null,e.syncEngine),t.onUnlisten=_C.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bC.bind(null,e.syncEngine),t}function DC(n,e,t={}){const r=new Dl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,m){const v=new o3({next:x=>{v.Nu(),c.enqueueAndForget((()=>$4(o,S)));const b=x.docs.has(h);!b&&x.fromCache?m.reject(new it(qe.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&x.fromCache&&f&&f.source==="server"?m.reject(new it(qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),S=new J4(Y0(h.path),v,{includeMetadataChanges:!0,Ka:!0});return X4(o,S)})(await u3(n),n.asyncQueue,e,t,r))),r.promise}function OC(n,e,t={}){const r=new Dl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,m){const v=new o3({next:x=>{v.Nu(),c.enqueueAndForget((()=>$4(o,S))),x.fromCache&&f.source==="server"?m.reject(new it(qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),S=new J4(h,v,{includeMetadataChanges:!0,Ka:!0});return X4(o,S)})(await u3(n),n.asyncQueue,e,t,r))),r.promise}function PC(n,e){const t=new Dl;return n.asyncQueue.enqueueAndForget((async()=>wC(await kC(n),e,t))),t.promise}function c3(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const MC="ComponentProvider",g_=new Map;function jC(n,e,t,r,a){return new iN(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,c3(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const h3="firestore.googleapis.com",y_=!0;class v_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new it(qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h3,this.ssl=y_}else this.host=e.host,this.ssl=e.ssl??y_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=U4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h8)throw new it(qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new it(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new it(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new it(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Ww;switch(r.type){case"firstParty":return new FT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=g_.get(t);r&&(ut(MC,"Removing Datastore"),g_.delete(t),r.terminate())})(this),Promise.resolve()}}function f3(n,e,t,r={}){n=Va(n,Lm);const a=bc(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;a&&(N0(`https://${h}`),C0("Firestore",!0)),o.host!==h3&&o.host!==h&&Cu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:a,emulatorOptions:r};if(!hc(f,c)&&(n._setSettings(f),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=ms.MOCK_USER;else{m=Zb(r.mockUserToken,n._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new it(qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new ms(S)}n._authCredentials=new UT(new Kw(m,v))}}class Bu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bu(this.firestore,e,this._query)}}class zi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zi(this.firestore,e,this._key)}toJSON(){return{type:zi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(hd(t,zi._jsonSchema))return new zi(e,r||null,new Lt(ci.fromString(t.referencePath)))}}zi._jsonSchemaVersion="firestore/documentReference/1.0",zi._jsonSchema={type:lr("string",zi._jsonSchemaVersion),referencePath:lr("string")};class Ol extends Bu{constructor(e,t,r){super(e,t,Y0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zi(this.firestore,null,new Lt(e))}withConverter(e){return new Ol(this.firestore,e,this._path)}}function qh(n,e,...t){if(n=Sr(n),Qw("collection","path",e),n instanceof Lm){const r=ci.fromString(e,...t);return Lv(r),new Ol(n,null,r)}{if(!(n instanceof zi||n instanceof Ol))throw new it(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ci.fromString(e,...t));return Lv(r),new Ol(n.firestore,null,r)}}function Xo(n,e,...t){if(n=Sr(n),arguments.length===1&&(e=vm.newId()),Qw("doc","path",e),n instanceof Lm){const r=ci.fromString(e,...t);return Rv(r),new zi(n,null,new Lt(r))}{if(!(n instanceof zi||n instanceof Ol))throw new it(qe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ci.fromString(e,...t));return Rv(r),new zi(n.firestore,n instanceof Ol?n.converter:null,new Lt(r))}}const __="AsyncQueue";class b_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new z4(this,"async_queue_retry"),this._c=()=>{const r=_1();r&&ut(__,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=_1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=_1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Dl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Bh(e))throw e;ut(__,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,jl("INTERNAL UNHANDLED ERROR: ",w_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=a2.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&zt(47125,{Pc:w_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function w_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Fu extends Lm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new b_,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new b_(e),this._firestoreClient=void 0,await e}}}function km(n,e){const t=typeof n=="object"?n:L0(),r=typeof n=="string"?n:$p,a=pm(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=Xb("firestore");o&&f3(a,...o)}return a}function Dm(n){if(n._terminated)throw new it(qe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||UC(n),n._firestoreClient}function UC(n){const e=n._freezeSettings(),t=jC(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new RC(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}class pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pa(Br.fromBase64String(e))}catch(t){throw new it(qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pa(Br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hd(e,pa._jsonSchema))return pa.fromBase64String(e.bytes)}}pa._jsonSchemaVersion="firestore/bytes/1.0",pa._jsonSchema={type:lr("string",pa._jsonSchemaVersion),bytes:lr("string")};class Om{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new it(qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pm{constructor(e){this._methodName=e}}class ho{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new it(qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new it(qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return wn(this._lat,e._lat)||wn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ho._jsonSchemaVersion}}static fromJSON(e){if(hd(e,ho._jsonSchema))return new ho(e.latitude,e.longitude)}}ho._jsonSchemaVersion="firestore/geoPoint/1.0",ho._jsonSchema={type:lr("string",ho._jsonSchemaVersion),latitude:lr("number"),longitude:lr("number")};class Ua{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ua._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hd(e,Ua._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ua(e.vectorValues);throw new it(qe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ua._jsonSchemaVersion="firestore/vectorValue/1.0",Ua._jsonSchema={type:lr("string",Ua._jsonSchemaVersion),vectorValues:lr("object")};const VC=/^__.*__$/;class BC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Vu(e,this.data,this.fieldMask,t,this.fieldTransforms):new fd(e,this.data,t,this.fieldTransforms)}}class d3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Vu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function p3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt(40011,{dataSource:n})}}class h2{constructor(e,t,r,a,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new h2({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return am(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(p3(this.dataSource)&&VC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class FC{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Cm(e)}createContext(e,t,r,a=!1){return new h2({dataSource:e,methodName:t,targetDoc:r,path:Vr.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mm(n){const e=n._freezeSettings(),t=Cm(n._databaseId);return new FC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function m3(n,e,t,r,a,o={}){const c=n.createContext(o.merge||o.mergeFields?2:0,e,t,a);f2("Data must be an object, but it was:",c,r);const h=g3(r,c);let f,m;if(o.merge)f=new ma(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const S of o.mergeFields){const x=Ph(e,S,t);if(!c.contains(x))throw new it(qe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);_3(v,x)||v.push(x)}f=new ma(v),m=c.fieldTransforms.filter((S=>f.covers(S.field)))}else f=null,m=c.fieldTransforms;return new BC(new Xs(h),f,m)}class jm extends Pm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jm}}function zC(n,e,t,r){const a=n.createContext(1,e,t);f2("Data must be an object, but it was:",a,r);const o=[],c=Xs.empty();Uu(r,((f,m)=>{const v=v3(e,f,t);m=Sr(m);const S=a.childContextForFieldPath(v);if(m instanceof jm)o.push(v);else{const x=gd(m,S);x!=null&&(o.push(v),c.set(v,x))}}));const h=new ma(o);return new d3(c,h,a.fieldTransforms)}function qC(n,e,t,r,a,o){const c=n.createContext(1,e,t),h=[Ph(e,r,t)],f=[a];if(o.length%2!=0)throw new it(qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)h.push(Ph(e,o[x])),f.push(o[x+1]);const m=[],v=Xs.empty();for(let x=h.length-1;x>=0;--x)if(!_3(m,h[x])){const b=h[x];let V=f[x];V=Sr(V);const B=c.childContextForFieldPath(b);if(V instanceof jm)m.push(b);else{const H=gd(V,B);H!=null&&(m.push(b),v.set(b,H))}}const S=new ma(m);return new d3(v,S,c.fieldTransforms)}function HC(n,e,t,r=!1){return gd(t,n.createContext(r?4:3,e))}function gd(n,e){if(y3(n=Sr(n)))return f2("Unsupported field value:",e,n),g3(n,e);if(n instanceof Pm)return(function(r,a){if(!p3(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const o=[];let c=0;for(const h of r){let f=gd(h,a.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,e)}return(function(r,a){if((r=Sr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IN(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=hi.fromDate(r);return{timestampValue:nm(a.serializer,o)}}if(r instanceof hi){const o=new hi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nm(a.serializer,o)}}if(r instanceof ho)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pa)return{bytesValue:R4(a.serializer,r._byteString)};if(r instanceof zi){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:$0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Ua)return(function(c,h){const f=c instanceof Ua?c.toArray():c;return{mapValue:{fields:{[s4]:{stringValue:a4},[Jp]:{arrayValue:{values:f.map((v=>{if(typeof v!="number")throw h.createError("VectorValues must only contain numeric values.");return K0(h.serializer,v)}))}}}}}})(r,a);if(j4(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${_m(r)}`)})(n,e)}function g3(n,e){const t={};return Zw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uu(n,((r,a)=>{const o=gd(a,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function y3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof hi||n instanceof ho||n instanceof pa||n instanceof zi||n instanceof Pm||n instanceof Ua||j4(n))}function f2(n,e,t){if(!y3(t)||!$w(t)){const r=_m(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function Ph(n,e,t){if((e=Sr(e))instanceof Om)return e._internalPath;if(typeof e=="string")return v3(n,e);throw am("Field path arguments must be of type string or ",n,!1,void 0,t)}const GC=new RegExp("[~\\*/\\[\\]]");function v3(n,e,t){if(e.search(GC)>=0)throw am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Om(...e.split("."))._internalPath}catch{throw am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function am(n,e,t,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${r}`),c&&(f+=` in document ${a}`),f+=")"),new it(qe.INVALID_ARGUMENT,h+n+f)}function _3(n,e){return n.some((t=>t.isEqual(e)))}class b3{convertValue(e,t="none"){switch(ku(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw zt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Uu(e,((a,o)=>{r[a]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[Jp].arrayValue?.values?.map((r=>Wi(r.doubleValue)));return new Ua(t)}convertGeoPoint(e){return new ho(Wi(e.latitude),Wi(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Am(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Jf(e));default:return null}}convertTimestamp(e){const t=Ru(e);return new hi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ci.fromString(e);qn(M4(r),9688,{name:e});const a=new Rh(r.get(1),r.get(3)),o=new Lt(r.popFirst(5));return a.isEqual(t)||jl(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class w3 extends b3{constructor(e){super(),this.firestore=e}convertBytes(e){return new pa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zi(this.firestore,null,t)}}const A_="@firebase/firestore",S_="4.11.0";class A3{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Ph("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class YC extends A3{data(){return super.data()}}function KC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new it(qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d2{}class p2 extends d2{}function m2(n,e,...t){let r=[];e instanceof d2&&r.push(e),r=r.concat(t),(function(o){const c=o.filter((f=>f instanceof Vm)).length,h=o.filter((f=>f instanceof Um)).length;if(c>1||c>0&&h>0)throw new it(qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class Um extends p2{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Um(e,t,r)}_apply(e){const t=this._parse(e);return S3(e._query,t),new Bu(e.firestore,e.converter,r0(e._query,t))}_parse(e){const t=Mm(e.firestore);return(function(o,c,h,f,m,v,S){let x;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new it(qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){x_(S,v);const V=[];for(const B of S)V.push(E_(f,o,B));x={arrayValue:{values:V}}}else x=E_(f,o,S)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||x_(S,v),x=HC(h,c,S,v==="in"||v==="not-in");return or.create(m,v,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Vm extends d2{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vm(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:po.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const f of h)S3(c,f),c=r0(c,f)})(e._query,t),new Bu(e.firestore,e.converter,r0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bm extends p2{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Bm(e,t)}_apply(e){const t=(function(a,o,c){if(a.startAt!==null)throw new it(qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new it(qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ed(o,c)})(e._query,this._field,this._direction);return new Bu(e.firestore,e.converter,wN(e._query,t))}}function g2(n,e="asc"){const t=e,r=Ph("orderBy",n);return Bm._create(r,t)}function E_(n,e,t){if(typeof(t=Sr(t))=="string"){if(t==="")throw new it(qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p4(e)&&t.indexOf("/")!==-1)throw new it(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ci.fromString(t));if(!Lt.isDocumentKey(r))throw new it(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vv(n,new Lt(r))}if(t instanceof zi)return Vv(n,t._key);throw new it(qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_m(t)}.`)}function x_(n,e){if(!Array.isArray(n)||n.length===0)throw new it(qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function S3(n,e){const t=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new it(qe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(qe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function E3(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class vh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tu extends A3{constructor(e,t,r,a,o,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ph("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(qe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Tu._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Tu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Tu._jsonSchema={type:lr("string",Tu._jsonSchemaVersion),bundleSource:lr("string","DocumentSnapshot"),bundleName:lr("string"),bundle:lr("string")};class Gf extends Tu{data(e={}){return super.data(e)}}class uc{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new vh(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Gf(this._firestore,this._userDataWriter,r.key,r,new vh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new it(qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const f=new Gf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new vh(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new Gf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new vh(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,v=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:WC(h.type),doc:f,oldIndex:m,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(qe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt(61501,{type:n})}}uc._jsonSchemaVersion="firestore/querySnapshot/1.0",uc._jsonSchema={type:lr("string",uc._jsonSchemaVersion),bundleSource:lr("string","QuerySnapshot"),bundleName:lr("string"),bundle:lr("string")};function y2(n){n=Va(n,zi);const e=Va(n.firestore,Fu),t=Dm(e);return DC(t,n._key).then((r=>QC(e,n,r)))}function Fm(n){n=Va(n,Bu);const e=Va(n.firestore,Fu),t=Dm(e),r=new w3(e);return KC(n._query),OC(t,n._query).then((a=>new uc(e,r,n,a)))}function v2(n,e,t){n=Va(n,zi);const r=Va(n.firestore,Fu),a=E3(n.converter,e,t),o=Mm(r);return yd(r,[m3(o,"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ja.none())])}function zm(n,e,t,...r){n=Va(n,zi);const a=Va(n.firestore,Fu),o=Mm(a);let c;return c=typeof(e=Sr(e))=="string"||e instanceof Om?qC(o,"updateDoc",n._key,e,t,r):zC(o,"updateDoc",n._key,e),yd(a,[c.toMutation(n._key,ja.exists(!0))])}function x3(n){return yd(Va(n.firestore,Fu),[new W0(n._key,ja.none())])}function _2(n,e){const t=Va(n.firestore,Fu),r=Xo(n),a=E3(n.converter,e),o=Mm(n.firestore);return yd(t,[m3(o,"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,ja.exists(!1))]).then((()=>r))}function yd(n,e){const t=Dm(n);return PC(t,e)}function QC(n,e,t){const r=t.docs.get(e._key),a=new w3(n);return new Tu(n,a,e._key,r,new vh(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){jT(wc),fc(new Nu("firestore",((r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new Fu(new VT(r.getProvider("auth-internal")),new zT(c,r.getProvider("app-check-internal")),rN(c,a),c);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Ho(A_,S_,e),Ho(A_,S_,"esm2020")})();const T3=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:b3,Bytes:pa,CollectionReference:Ol,DocumentReference:zi,DocumentSnapshot:Tu,FieldPath:Om,FieldValue:Pm,Firestore:Fu,FirestoreError:it,GeoPoint:ho,Query:Bu,QueryCompositeFilterConstraint:Vm,QueryConstraint:p2,QueryDocumentSnapshot:Gf,QueryFieldFilterConstraint:Um,QueryOrderByConstraint:Bm,QuerySnapshot:uc,SnapshotMetadata:vh,Timestamp:hi,VectorValue:Ua,_AutoId:vm,_ByteString:Br,_DatabaseId:Rh,_DocumentKey:Lt,_EmptyAuthCredentialsProvider:Ww,_FieldPath:Vr,_cast:Va,_logWarn:Cu,_validateIsNotUsedTogether:Xw,addDoc:_2,collection:qh,connectFirestoreEmulator:f3,deleteDoc:x3,doc:Xo,ensureFirestoreConfigured:Dm,executeWrite:yd,getDoc:y2,getDocs:Fm,getFirestore:km,orderBy:g2,query:m2,setDoc:v2,updateDoc:zm},Symbol.toStringTag,{value:"Module"}));var XC="firebase",$C="12.9.0";Ho(XC,$C,"app");const N3="firebasestorage.googleapis.com",JC="storageBucket",ZC=120*1e3,eI=600*1e3;class Zo extends Jo{constructor(e,t,r=0){super(w1(e),`Firebase Storage: ${t} (${w1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zo.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return w1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $o;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($o||($o={}));function w1(n){return"storage/"+n}function tI(){const n="An unknown error occurred, please check the error payload for server response.";return new Zo($o.UNKNOWN,n)}function nI(){return new Zo($o.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iI(){return new Zo($o.CANCELED,"User canceled the upload/download.")}function rI(n){return new Zo($o.INVALID_URL,"Invalid URL '"+n+"'.")}function sI(n){return new Zo($o.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function T_(n){return new Zo($o.INVALID_ARGUMENT,n)}function C3(){return new Zo($o.APP_DELETED,"The Firebase app was deleted.")}function aI(n){return new Zo($o.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class co{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=co.makeFromUrl(e,t)}catch{return new co(e,"")}if(r.path==="")return r;throw sI(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function m(te){te.path_=decodeURIComponent(te.path)}const v="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",b=new RegExp(`^https?://${S}/${v}/b/${a}/o${x}`,"i"),V={bucket:1,path:3},B=t===N3?"(?:storage.googleapis.com|storage.cloud.google.com)":t,H="([^?#]*)",U=new RegExp(`^https?://${B}/${a}/${H}`,"i"),Z=[{regex:h,indices:f,postModify:o},{regex:b,indices:V,postModify:m},{regex:U,indices:{bucket:1,path:2},postModify:m}];for(let te=0;te<Z.length;te++){const be=Z[te],Se=be.regex.exec(e);if(Se){const Y=Se[be.indices.bucket];let P=Se[be.indices.path];P||(P=""),r=new co(Y,P),be.postModify(r);break}}if(r==null)throw rI(e);return r}}class oI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function lI(n,e,t){let r=1,a=null,o=null,c=!1,h=0;function f(){return h===2}let m=!1;function v(...H){m||(m=!0,e.apply(null,H))}function S(H){a=setTimeout(()=>{a=null,n(b,f())},H)}function x(){o&&clearTimeout(o)}function b(H,...U){if(m){x();return}if(H){x(),v.call(null,H,...U);return}if(f()||c){x(),v.call(null,H,...U);return}r<64&&(r*=2);let Z;h===1?(h=2,Z=0):Z=(r+Math.random())*1e3,S(Z)}let V=!1;function B(H){V||(V=!0,x(),!m&&(a!==null?(H||(h=2),clearTimeout(a),S(0)):H||(h=1)))}return S(0),o=setTimeout(()=>{c=!0,B(!0)},t),B}function uI(n){n(!1)}function cI(n){return n!==void 0}function N_(n,e,t,r){if(r<e)throw T_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw T_(`Invalid value for '${n}'. Expected ${t} or less.`)}function hI(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var om;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(om||(om={}));function fI(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||a||o}class dI{constructor(e,t,r,a,o,c,h,f,m,v,S,x=!0,b=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=S,this.retry=x,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,B)=>{this.resolve_=V,this.reject_=B,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new vp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===om.NO_ERROR,f=o.getStatus();if(!h||fI(f,this.additionalRetryCodes_)&&this.retry){const v=o.getErrorCode()===om.ABORT;r(!1,new vp(!1,null,v));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new vp(m,o))})},t=(r,a)=>{const o=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());cI(f)?o(f):o()}catch(f){c(f)}else if(h!==null){const f=tI();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(a.canceled){const f=this.appDelete_?C3():iI();c(f)}else{const f=nI();c(f)}};this.canceled_?t(!1,new vp(!1,null,!0)):this.backoffId_=lI(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vp{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function pI(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function mI(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gI(n,e){e&&(n["X-Firebase-GMPID"]=e)}function yI(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function vI(n,e,t,r,a,o,c=!0,h=!1){const f=hI(n.urlParams),m=n.url+f,v=Object.assign({},n.headers);return gI(v,e),pI(v,t),mI(v,o),yI(v,r),new dI(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,h)}function _I(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function bI(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}class lm{constructor(e,t){this._service=e,t instanceof co?this._location=t:this._location=co.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new lm(e,t)}get root(){const e=new co(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bI(this._location.path)}get storage(){return this._service}get parent(){const e=_I(this._location.path);if(e===null)return null;const t=new co(this._location.bucket,e);return new lm(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw aI(e)}}function C_(n,e){const t=e?.[JC];return t==null?null:co.makeFromBucketSpec(t,n)}function wI(n,e,t,r={}){n.host=`${e}:${t}`;const a=bc(e);a&&(N0(`https://${n.host}/b`),C0("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:Zb(o,n.app.options.projectId))}class AI{constructor(e,t,r,a,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=N3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ZC,this._maxUploadRetryTime=eI,this._requests=new Set,a!=null?this._bucket=co.makeFromBucketSpec(a,this._host):this._bucket=C_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=co.makeFromBucketSpec(this._url,e):this._bucket=C_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){N_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){N_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(da(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lm(this,e)}_makeRequest(e,t,r,a,o=!0){if(this._deleted)return new oI(C3());{const c=vI(e,this._appId,r,a,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const I_="@firebase/storage",R_="0.14.0";const I3="storage";function SI(n=L0(),e){n=Sr(n);const r=pm(n,I3).getImmediate({identifier:e}),a=Xb("storage");return a&&EI(r,...a),r}function EI(n,e,t,r={}){wI(n,e,t,r)}function xI(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new AI(t,r,a,e,wc)}function TI(){fc(new Nu(I3,xI,"PUBLIC").setMultipleInstances(!0)),Ho(I_,R_,""),Ho(I_,R_,"esm2020")}TI();const NI={apiKey:"AIzaSyAxtqgI507-TarutOEsvtL3R6-TZppLSN0",authDomain:"twkt-91ddf.firebaseapp.com",projectId:"twkt-91ddf",storageBucket:"twkt-91ddf.firebasestorage.app",messagingSenderId:"754554349532",appId:"1:754554349532:web:f51bb0a8ee53446d309119",measurementId:"G-FKY3MFR4P9"},Mh=nw(NI),Rf=Vw(Mh),ya=km(Mh);SI(Mh);const R3=Je.createContext(void 0);function CI({children:n}){const[e,t]=Je.useState(null),[r,a]=Je.useState(!0),o=async m=>{try{const v=await y2(Xo(ya,"users",m.uid));return v.exists()?{...v.data(),id:m.uid}:null}catch(v){return console.error("Error fetching user:",v),null}};Je.useEffect(()=>{const m=Ex(Rf,async v=>{if(v){const S=await o(v);S&&t(S)}else t(null);a(!1)});return()=>m()},[]);const c=async(m,v)=>{try{const S=await wx(Rf,`${m}@twkt.com`,v),x=await o(S.user);return x?(t(x),{success:!0}):{success:!1,error:""}}catch(S){return console.error("Login error:",S),S.code==="auth/invalid-email"?{success:!1,error:""}:S.code==="auth/user-not-found"?{success:!1,error:""}:S.code==="auth/wrong-password"?{success:!1,error:""}:{success:!1,error:""}}},h=async()=>{await xx(Rf),t(null)},f=async m=>{if(Rf.currentUser)try{await zm(Xo(ya,"users",Rf.currentUser.uid),{name:m.name,department:m.department,employmentType:m.employmentType,signedContractAt:m.signedContractAt,contractStartDate:m.contractStartDate,avatar:m.avatar}),t(m)}catch(v){console.error("Error updating user:",v)}};return D.jsx(R3.Provider,{value:{user:e,loading:r,login:c,logout:h,updateUser:f},children:n})}function vd(){const n=Je.useContext(R3);if(!n)throw new Error("useAuth must be used within AuthProvider");return n}async function qm(){const{getDocs:n,collection:e}=await Uf(async()=>{const{getDocs:t,collection:r}=await Promise.resolve().then(()=>T3);return{getDocs:t,collection:r}},void 0);try{return(await n(e(ya,"users"))).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error getting users:",t),[]}}async function L_(n){const{setDoc:e,doc:t}=await Uf(async()=>{const{setDoc:r,doc:a}=await Promise.resolve().then(()=>T3);return{setDoc:r,doc:a}},void 0);await e(t(ya,"users",n.id),n)}function II(){const[n,e]=Je.useState(""),[t,r]=Je.useState(""),[a,o]=Je.useState(""),[c,h]=Je.useState(!1),{login:f}=vd(),m=async v=>{if(v.preventDefault(),!n||!t){o("");return}h(!0),o("");const S=await f(n,t);h(!1),S.success||o(S.error||"")};return D.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:D.jsx("div",{className:"w-full max-w-md",children:D.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[D.jsxs("div",{className:"text-center mb-8",children:[D.jsx("div",{className:"w-16 h-16 bg-primary rounded-xl flex items-center justify-center mx-auto mb-4",children:D.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),D.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),D.jsx("p",{className:"text-gray-500 mt-1",children:"AKSO Work Log System"})]}),D.jsxs("form",{onSubmit:m,className:"space-y-5",children:[a&&D.jsx("div",{className:"p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm",children:a}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),D.jsx("input",{type:"text",value:n,onChange:v=>e(v.target.value),placeholder:"",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),D.jsx("input",{type:"password",value:t,onChange:v=>r(v.target.value),placeholder:"",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),D.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50",children:c?"...":" "})]}),D.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[D.jsx("p",{className:"text-xs text-gray-500 mb-2 font-medium",children:" Firebase Authentication "}),D.jsxs("p",{className:"text-xs text-gray-400",children:["@twkt.com",D.jsx("br",{}),"admin@twkt.com"]})]})]})})})}async function RI(n,e){try{let r=(await Fm(m2(qh(ya,"workLogs"),g2("createdAt","desc")))).docs.map(a=>({id:a.id,...a.data()}));return n&&!e&&(r=r.filter(a=>a.userId===n)),r}catch(t){return console.error("Error getting work logs:",t),[]}}async function LI(n){const e=await _2(qh(ya,"workLogs"),{...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});return{...n,id:e.id}}async function k_(n,e){await zm(Xo(ya,"workLogs",n),{...e,updatedAt:new Date().toISOString()})}async function kI(n){await x3(Xo(ya,"workLogs",n))}async function DI(n,e){try{let r=(await Fm(m2(qh(ya,"tasks"),g2("createdAt","desc")))).docs.map(a=>({id:a.id,...a.data()}));return n&&!e&&(r=r.filter(a=>a.assignedTo.includes(n))),r}catch(t){return console.error("Error getting tasks:",t),[]}}async function OI(n){const e=await _2(qh(ya,"tasks"),{...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});return{...n,id:e.id}}async function PI(n,e){await zm(Xo(ya,"tasks",n),{...e,updatedAt:new Date().toISOString()})}async function L3(){try{const n=Xo(ya,"contracts","main"),e=await y2(n);return e.exists()?e.data():null}catch(n){return console.error("Error getting contract:",n),null}}async function MI(n){await v2(Xo(ya,"contracts","main"),n)}function D_({onClose:n,onSubmit:e,editingLog:t,initialData:r}){const a=t||r,[o,c]=Je.useState(""),[h,f]=Je.useState(""),[m,v]=Je.useState(""),[S,x]=Je.useState(""),[b,V]=Je.useState(""),[B,H]=Je.useState(""),[U,se]=Je.useState("pending"),[Z,te]=Je.useState(!1);Je.useEffect(()=>{a?(c(a.date),f(a.task),v(a.response),x(a.completionDate),V(a.timeSpent),H(a.problems),se(a.status)):(c(new Date().toISOString().split("T")[0]),f(""),v(""),x(""),V(""),H(""),se("pending"))},[a]);const be=async Se=>{Se.preventDefault(),te(!0),await e({date:o,task:h,response:m,completionDate:S,timeSpent:b,problems:B,status:U}),te(!1)};return D.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[D.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:n}),D.jsxs("div",{className:"relative bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[D.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b sticky top-0 bg-white",children:[D.jsx("h2",{className:"text-lg font-semibold",children:a?"":""}),D.jsx("button",{onClick:n,className:"p-1 text-gray-400 hover:text-gray-600",children:D.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),D.jsxs("form",{onSubmit:be,className:"p-6 space-y-4",children:[D.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"date",value:o,onChange:Se=>c(Se.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsxs("select",{value:U,onChange:Se=>se(Se.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"pending",children:""}),D.jsx("option",{value:"processing",children:""}),D.jsx("option",{value:"completed",children:""})]})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("textarea",{value:h,onChange:Se=>f(Se.target.value),rows:3,placeholder:"...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("textarea",{value:m,onChange:Se=>v(Se.target.value),rows:2,placeholder:"...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"date",value:S,onChange:Se=>x(Se.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:b,onChange:Se=>V(Se.target.value),placeholder:"6",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("textarea",{value:B,onChange:Se=>H(Se.target.value),rows:2,placeholder:"...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[D.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg",children:""}),D.jsx("button",{type:"submit",disabled:Z,className:"px-4 py-2 bg-primary text-white rounded-lg disabled:opacity-50",children:Z?"...":""})]})]})]})]})}const jI={pending:"bg-yellow-100 text-yellow-700",processing:"bg-blue-100 text-blue-700",completed:"bg-green-100 text-green-700"},UI={pending:"",processing:"",completed:""};function VI({userId:n,isAdmin:e}){const[t,r]=Je.useState([]),[a,o]=Je.useState([]),[c,h]=Je.useState(!1),[f,m]=Je.useState(null),[v,S]=Je.useState(e?"":n),[x,b]=Je.useState(null),[V,B]=Je.useState(""),[H,U]=Je.useState(!0),se=Je.useCallback(async()=>{U(!0);const[I,oe]=await Promise.all([RI(n,e),qm()]);r(I),o(oe),U(!1)},[n,e]);Je.useEffect(()=>{se()},[se]);const Z=new Date().toISOString().split("T")[0],te=t.some(I=>I.userId===n&&I.date===Z),be=e||!te,Se=async I=>{await LI({userId:n,...I}),await se(),h(!1)},Y=async(I,oe)=>{await k_(I,oe),await se(),m(null)},P=async I=>{confirm("")&&(await kI(I),await se())},R=async()=>{!x||!V.trim()||(await k_(x.id,{supervisorReply:V,supervisorReplyAt:new Date().toISOString()}),await se(),b(null),B(""))},q=I=>a.find(oe=>oe.id===I)?.name||"",N=I=>a.find(oe=>oe.id===I)?.department||"",O=v?t.filter(I=>I.userId===v):t;return H?D.jsx("div",{className:"text-center py-12",children:D.jsx("p",{className:"text-gray-500",children:"..."})}):D.jsxs("div",{children:[D.jsxs("div",{className:"flex items-center justify-between mb-6",children:[D.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:""}),D.jsxs("div",{className:"flex gap-3",children:[e&&D.jsxs("select",{value:v,onChange:I=>S(I.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"",children:""}),a.filter(I=>I.role==="employee").map(I=>D.jsx("option",{value:I.id,children:I.name},I.id))]}),be&&D.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:[D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),""]})]})]}),!be&&!e&&D.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-yellow-700 text-sm",children:""}),O.length===0?D.jsx("div",{className:"text-center py-12 text-gray-500",children:D.jsx("p",{children:""})}):D.jsx("div",{className:"space-y-4",children:O.map(I=>D.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[D.jsxs("div",{className:"flex items-start justify-between mb-3",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${jI[I.status]}`,children:UI[I.status]}),D.jsx("span",{className:"text-sm text-gray-500",children:I.date}),e&&D.jsxs("span",{className:"text-sm text-gray-400",children:[" ",q(I.userId)," (",N(I.userId),")"]})]}),I.userId===n&&D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:()=>m(I),className:"text-sm text-blue-600 hover:underline",children:""}),D.jsx("button",{onClick:()=>P(I.id),className:"text-sm text-red-600 hover:underline",children:""})]})]}),D.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:I.task}),D.jsx("p",{className:"text-gray-600 text-sm mb-2",children:I.response}),D.jsxs("div",{className:"flex gap-4 text-sm text-gray-500 mb-3",children:[I.completionDate&&D.jsxs("span",{children:["",I.completionDate]}),I.timeSpent&&D.jsxs("span",{children:["",I.timeSpent]})]}),I.problems&&D.jsxs("div",{className:"p-3 bg-red-50 rounded-lg mb-3",children:[D.jsx("p",{className:"text-xs text-red-600 mb-1",children:""}),D.jsx("p",{className:"text-gray-700 text-sm",children:I.problems})]}),I.supervisorReply&&D.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg mb-3",children:[D.jsx("p",{className:"text-xs text-blue-600 mb-1",children:""}),D.jsx("p",{className:"text-gray-700 text-sm",children:I.supervisorReply})]}),e&&!I.supervisorReply&&D.jsx("div",{className:"border-t border-gray-100 pt-3 mt-3",children:x?.id===I.id?D.jsxs("div",{className:"space-y-2",children:[D.jsx("textarea",{value:V,onChange:oe=>B(oe.target.value),placeholder:"...",rows:2,className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-primary"}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:R,className:"px-3 py-1 bg-primary text-white rounded-lg text-sm",children:""}),D.jsx("button",{onClick:()=>{b(null),B("")},className:"px-3 py-1 text-gray-600 bg-gray-100 rounded-lg text-sm",children:""})]})]}):D.jsx("button",{onClick:()=>b(I),className:"text-sm text-primary hover:underline",children:""})})]},I.id))}),c&&D.jsx(D_,{onClose:()=>h(!1),onSubmit:Se}),f&&D.jsx(D_,{initialData:f,onClose:()=>m(null),onSubmit:I=>Y(f.id,I)})]})}function Qn(n){"@babel/helpers - typeof";return Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(n)}var mo=Uint8Array,ga=Uint16Array,b2=Int32Array,w2=new mo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),A2=new mo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),O_=new mo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k3=function(n,e){for(var t=new ga(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var a=new b2(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)a[o]=o-t[r]<<5|r;return{b:t,r:a}},D3=k3(w2,2),BI=D3.b,m0=D3.r;BI[28]=258,m0[258]=28;var FI=k3(A2,0),P_=FI.r,g0=new ga(32768);for(var yi=0;yi<32768;++yi){var mu=(yi&43690)>>1|(yi&21845)<<1;mu=(mu&52428)>>2|(mu&13107)<<2,mu=(mu&61680)>>4|(mu&3855)<<4,g0[yi]=((mu&65280)>>8|(mu&255)<<8)>>1}var Yf=(function(n,e,t){for(var r=n.length,a=0,o=new ga(e);a<r;++a)n[a]&&++o[n[a]-1];var c=new ga(e);for(a=1;a<e;++a)c[a]=c[a-1]+o[a-1]<<1;var h;if(t){h=new ga(1<<e);var f=15-e;for(a=0;a<r;++a)if(n[a])for(var m=a<<4|n[a],v=e-n[a],S=c[n[a]-1]++<<v,x=S|(1<<v)-1;S<=x;++S)h[g0[S]>>f]=m}else for(h=new ga(r),a=0;a<r;++a)n[a]&&(h[a]=g0[c[n[a]-1]++]>>15-n[a]);return h}),yc=new mo(288);for(var yi=0;yi<144;++yi)yc[yi]=8;for(var yi=144;yi<256;++yi)yc[yi]=9;for(var yi=256;yi<280;++yi)yc[yi]=7;for(var yi=280;yi<288;++yi)yc[yi]=8;var um=new mo(32);for(var yi=0;yi<32;++yi)um[yi]=5;var zI=Yf(yc,9,0),qI=Yf(um,5,0),O3=function(n){return(n+7)/8|0},HI=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new mo(n.subarray(e,t))},Nl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Lf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},A1=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var a=t.length,o=t.slice();if(!a)return{t:M3,l:0};if(a==1){var c=new mo(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(be,Se){return be.f-Se.f}),t.push({s:-1,f:25001});var h=t[0],f=t[1],m=0,v=1,S=2;for(t[0]={s:-1,f:h.f+f.f,l:h,r:f};v!=a-1;)h=t[t[m].f<t[S].f?m++:S++],f=t[m!=v&&t[m].f<t[S].f?m++:S++],t[v++]={s:-1,f:h.f+f.f,l:h,r:f};for(var x=o[0].s,r=1;r<a;++r)o[r].s>x&&(x=o[r].s);var b=new ga(x+1),V=y0(t[v-1],b,0);if(V>e){var r=0,B=0,H=V-e,U=1<<H;for(o.sort(function(Se,Y){return b[Y.s]-b[Se.s]||Se.f-Y.f});r<a;++r){var se=o[r].s;if(b[se]>e)B+=U-(1<<V-b[se]),b[se]=e;else break}for(B>>=H;B>0;){var Z=o[r].s;b[Z]<e?B-=1<<e-b[Z]++-1:++r}for(;r>=0&&B;--r){var te=o[r].s;b[te]==e&&(--b[te],++B)}V=e}return{t:new mo(b),l:V}},y0=function(n,e,t){return n.s==-1?Math.max(y0(n.l,e,t+1),y0(n.r,e,t+1)):e[n.s]=t},M_=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ga(++e),r=0,a=n[0],o=1,c=function(f){t[r++]=f},h=1;h<=e;++h)if(n[h]==a&&h!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(a),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(a);o=1,a=n[h]}return{c:t.subarray(0,r),n:e}},kf=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},P3=function(n,e,t){var r=t.length,a=O3(e+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<r;++o)n[a+o+4]=t[o];return(a+4+r)*8},j_=function(n,e,t,r,a,o,c,h,f,m,v){Nl(e,v++,t),++a[256];for(var S=A1(a,15),x=S.t,b=S.l,V=A1(o,15),B=V.t,H=V.l,U=M_(x),se=U.c,Z=U.n,te=M_(B),be=te.c,Se=te.n,Y=new ga(19),P=0;P<se.length;++P)++Y[se[P]&31];for(var P=0;P<be.length;++P)++Y[be[P]&31];for(var R=A1(Y,7),q=R.t,N=R.l,O=19;O>4&&!q[O_[O-1]];--O);var I=m+5<<3,oe=kf(a,yc)+kf(o,um)+c,xe=kf(a,x)+kf(o,B)+c+14+3*O+kf(Y,q)+2*Y[16]+3*Y[17]+7*Y[18];if(f>=0&&I<=oe&&I<=xe)return P3(e,v,n.subarray(f,f+m));var ae,pe,fe,Ie;if(Nl(e,v,1+(xe<oe)),v+=2,xe<oe){ae=Yf(x,b,0),pe=x,fe=Yf(B,H,0),Ie=B;var He=Yf(q,N,0);Nl(e,v,Z-257),Nl(e,v+5,Se-1),Nl(e,v+10,O-4),v+=14;for(var P=0;P<O;++P)Nl(e,v+3*P,q[O_[P]]);v+=3*O;for(var $=[se,be],k=0;k<2;++k)for(var K=$[k],P=0;P<K.length;++P){var J=K[P]&31;Nl(e,v,He[J]),v+=q[J],J>15&&(Nl(e,v,K[P]>>5&127),v+=K[P]>>12)}}else ae=zI,pe=yc,fe=qI,Ie=um;for(var P=0;P<h;++P){var le=r[P];if(le>255){var J=le>>18&31;Lf(e,v,ae[J+257]),v+=pe[J+257],J>7&&(Nl(e,v,le>>23&31),v+=w2[J]);var ce=le&31;Lf(e,v,fe[ce]),v+=Ie[ce],ce>3&&(Lf(e,v,le>>5&8191),v+=A2[ce])}else Lf(e,v,ae[le]),v+=pe[le]}return Lf(e,v,ae[256]),v+pe[256]},GI=new b2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),M3=new mo(0),YI=function(n,e,t,r,a,o){var c=o.z||n.length,h=new mo(r+c+5*(1+Math.ceil(c/7e3))+a),f=h.subarray(r,h.length-a),m=o.l,v=(o.r||0)&7;if(e){v&&(f[0]=o.r>>3);for(var S=GI[e-1],x=S>>13,b=S&8191,V=(1<<t)-1,B=o.p||new ga(32768),H=o.h||new ga(V+1),U=Math.ceil(t/3),se=2*U,Z=function(ct){return(n[ct]^n[ct+1]<<U^n[ct+2]<<se)&V},te=new b2(25e3),be=new ga(288),Se=new ga(32),Y=0,P=0,R=o.i||0,q=0,N=o.w||0,O=0;R+2<c;++R){var I=Z(R),oe=R&32767,xe=H[I];if(B[oe]=xe,H[I]=oe,N<=R){var ae=c-R;if((Y>7e3||q>24576)&&(ae>423||!m)){v=j_(n,f,0,te,be,Se,P,q,O,R-O,v),q=Y=P=0,O=R;for(var pe=0;pe<286;++pe)be[pe]=0;for(var pe=0;pe<30;++pe)Se[pe]=0}var fe=2,Ie=0,He=b,$=oe-xe&32767;if(ae>2&&I==Z(R-$))for(var k=Math.min(x,ae)-1,K=Math.min(32767,R),J=Math.min(258,ae);$<=K&&--He&&oe!=xe;){if(n[R+fe]==n[R+fe-$]){for(var le=0;le<J&&n[R+le]==n[R+le-$];++le);if(le>fe){if(fe=le,Ie=$,le>k)break;for(var ce=Math.min($,le-2),ge=0,pe=0;pe<ce;++pe){var ke=R-$+pe&32767,Re=B[ke],Ve=ke-Re&32767;Ve>ge&&(ge=Ve,xe=ke)}}}oe=xe,xe=B[oe],$+=oe-xe&32767}if(Ie){te[q++]=268435456|m0[fe]<<18|P_[Ie];var Xe=m0[fe]&31,nt=P_[Ie]&31;P+=w2[Xe]+A2[nt],++be[257+Xe],++Se[nt],N=R+fe,++Y}else te[q++]=n[R],++be[n[R]]}}for(R=Math.max(R,N);R<c;++R)te[q++]=n[R],++be[n[R]];v=j_(n,f,m,te,be,Se,P,q,O,R-O,v),m||(o.r=v&7|f[v/8|0]<<3,v-=7,o.h=H,o.p=B,o.i=R,o.w=N)}else{for(var R=o.w||0;R<c+m;R+=65535){var tt=R+65535;tt>=c&&(f[v/8|0]=m,tt=c),v=P3(f,v+1,n.subarray(R,tt))}o.i=c}return HI(h,0,r+O3(v)+a)},j3=function(){var n=1,e=0;return{p:function(t){for(var r=n,a=e,o=t.length|0,c=0;c!=o;){for(var h=Math.min(c+2655,o);c<h;++c)a+=r+=t[c];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},KI=function(n,e,t,r,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new mo(o.length+n.length);c.set(o),c.set(n,o.length),n=c,a.w=o.length}return YI(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,a)},U3=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},WI=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=j3();a.p(e.dictionary),U3(n,2,a.d())}};function v0(n,e){e||(e={});var t=j3();t.p(n);var r=KI(n,e,e.dictionary?6:2,4);return WI(r,e),U3(r,r.length-4,t.d()),r}var QI=typeof TextDecoder<"u"&&new TextDecoder,XI=0;try{QI.decode(M3,{stream:!0}),XI=1}catch{}function $I(n){if(Array.isArray(n))return n}function JI(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,a,o,c,h=[],f=!0,m=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(h.push(r.value),h.length!==e);f=!0);}catch(v){m=!0,a=v}finally{try{if(!f&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(m)throw a}}return h}}function U_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function ZI(n,e){if(n){if(typeof n=="string")return U_(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?U_(n,e):void 0}}function eR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V_(n,e){return $I(n)||JI(n,e)||ZI(n,e)||eR()}function B_(n,e="utf8"){return new TextDecoder(e).decode(n)}const tR=new TextEncoder;function nR(n){return tR.encode(n)}const iR=1024*8,rR=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),S1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class S2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=iR,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let c=a;(ArrayBuffer.isView(e)||e instanceof S2)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+a),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=S1[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+r);if(this.littleEndian===rR&&t!=="uint8"&&t!=="int8"){const h=new Uint8Array(this.buffer.slice(a,a+r));h.reverse();const f=new S1[t](h.buffer);return this.offset+=r,f.reverse(),f}const c=new S1[t](o);return this.offset+=r,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return B_(this.readBytes(e))}decodeText(e=1,t="utf8"){return B_(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(nR(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Hh(n){let e=n.length;for(;--e>=0;)n[e]=0}const sR=3,aR=258,V3=29,oR=256,lR=oR+1+V3,B3=30,uR=512,cR=new Array((lR+2)*2);Hh(cR);const hR=new Array(B3*2);Hh(hR);const fR=new Array(uR);Hh(fR);const dR=new Array(aR-sR+1);Hh(dR);const pR=new Array(V3);Hh(pR);const mR=new Array(B3);Hh(mR);const gR=(n,e,t,r)=>{let a=n&65535|0,o=n>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do a=a+e[r++]|0,o=o+a|0;while(--c);a%=65521,o%=65521}return a|o<<16|0};var _0=gR;const yR=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},vR=new Uint32Array(yR()),_R=(n,e,t,r)=>{const a=vR,o=r+t;n^=-1;for(let c=r;c<o;c++)n=n>>>8^a[(n^e[c])&255];return n^-1};var Bo=_R,b0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},F3={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const bR=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var wR=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)bR(t,r)&&(n[r]=t[r])}}return n},AR=n=>{let e=0;for(let r=0,a=n.length;r<a;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,a=0,o=n.length;r<o;r++){let c=n[r];t.set(c,a),a+=c.length}return t},z3={assign:wR,flattenChunks:AR};let q3=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{q3=!1}const id=new Uint8Array(256);for(let n=0;n<256;n++)id[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;id[254]=id[254]=1;var SR=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,a,o,c=n.length,h=0;for(a=0;a<c;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<c&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),h+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(h),o=0,a=0;o<h;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<c&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const ER=(n,e)=>{if(e<65534&&n.subarray&&q3)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var xR=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,a;const o=new Array(t*2);for(a=0,r=0;r<t;){let c=n[r++];if(c<128){o[a++]=c;continue}let h=id[c];if(h>4){o[a++]=65533,r+=h-1;continue}for(c&=h===2?31:h===3?15:7;h>1&&r<t;)c=c<<6|n[r++]&63,h--;if(h>1){o[a++]=65533;continue}c<65536?o[a++]=c:(c-=65536,o[a++]=55296|c>>10&1023,o[a++]=56320|c&1023)}return ER(o,a)},TR=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+id[n[t]]>e?t:e},w0={string2buf:SR,buf2string:xR,utf8border:TR};function NR(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var CR=NR;const _p=16209,IR=16191;var RR=function(e,t){let r,a,o,c,h,f,m,v,S,x,b,V,B,H,U,se,Z,te,be,Se,Y,P,R,q;const N=e.state;r=e.next_in,R=e.input,a=r+(e.avail_in-5),o=e.next_out,q=e.output,c=o-(t-e.avail_out),h=o+(e.avail_out-257),f=N.dmax,m=N.wsize,v=N.whave,S=N.wnext,x=N.window,b=N.hold,V=N.bits,B=N.lencode,H=N.distcode,U=(1<<N.lenbits)-1,se=(1<<N.distbits)-1;e:do{V<15&&(b+=R[r++]<<V,V+=8,b+=R[r++]<<V,V+=8),Z=B[b&U];t:for(;;){if(te=Z>>>24,b>>>=te,V-=te,te=Z>>>16&255,te===0)q[o++]=Z&65535;else if(te&16){be=Z&65535,te&=15,te&&(V<te&&(b+=R[r++]<<V,V+=8),be+=b&(1<<te)-1,b>>>=te,V-=te),V<15&&(b+=R[r++]<<V,V+=8,b+=R[r++]<<V,V+=8),Z=H[b&se];n:for(;;){if(te=Z>>>24,b>>>=te,V-=te,te=Z>>>16&255,te&16){if(Se=Z&65535,te&=15,V<te&&(b+=R[r++]<<V,V+=8,V<te&&(b+=R[r++]<<V,V+=8)),Se+=b&(1<<te)-1,Se>f){e.msg="invalid distance too far back",N.mode=_p;break e}if(b>>>=te,V-=te,te=o-c,Se>te){if(te=Se-te,te>v&&N.sane){e.msg="invalid distance too far back",N.mode=_p;break e}if(Y=0,P=x,S===0){if(Y+=m-te,te<be){be-=te;do q[o++]=x[Y++];while(--te);Y=o-Se,P=q}}else if(S<te){if(Y+=m+S-te,te-=S,te<be){be-=te;do q[o++]=x[Y++];while(--te);if(Y=0,S<be){te=S,be-=te;do q[o++]=x[Y++];while(--te);Y=o-Se,P=q}}}else if(Y+=S-te,te<be){be-=te;do q[o++]=x[Y++];while(--te);Y=o-Se,P=q}for(;be>2;)q[o++]=P[Y++],q[o++]=P[Y++],q[o++]=P[Y++],be-=3;be&&(q[o++]=P[Y++],be>1&&(q[o++]=P[Y++]))}else{Y=o-Se;do q[o++]=q[Y++],q[o++]=q[Y++],q[o++]=q[Y++],be-=3;while(be>2);be&&(q[o++]=q[Y++],be>1&&(q[o++]=q[Y++]))}}else if((te&64)===0){Z=H[(Z&65535)+(b&(1<<te)-1)];continue n}else{e.msg="invalid distance code",N.mode=_p;break e}break}}else if((te&64)===0){Z=B[(Z&65535)+(b&(1<<te)-1)];continue t}else if(te&32){N.mode=IR;break e}else{e.msg="invalid literal/length code",N.mode=_p;break e}break}}while(r<a&&o<h);be=V>>3,r-=be,V-=be<<3,b&=(1<<V)-1,e.next_in=r,e.next_out=o,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=o<h?257+(h-o):257-(o-h),N.hold=b,N.bits=V};const oh=15,F_=852,z_=592,q_=0,E1=1,H_=2,LR=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),kR=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),DR=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),OR=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),PR=(n,e,t,r,a,o,c,h)=>{const f=h.bits;let m=0,v=0,S=0,x=0,b=0,V=0,B=0,H=0,U=0,se=0,Z,te,be,Se,Y,P=null,R;const q=new Uint16Array(oh+1),N=new Uint16Array(oh+1);let O=null,I,oe,xe;for(m=0;m<=oh;m++)q[m]=0;for(v=0;v<r;v++)q[e[t+v]]++;for(b=f,x=oh;x>=1&&q[x]===0;x--);if(b>x&&(b=x),x===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,h.bits=1,0;for(S=1;S<x&&q[S]===0;S++);for(b<S&&(b=S),H=1,m=1;m<=oh;m++)if(H<<=1,H-=q[m],H<0)return-1;if(H>0&&(n===q_||x!==1))return-1;for(N[1]=0,m=1;m<oh;m++)N[m+1]=N[m]+q[m];for(v=0;v<r;v++)e[t+v]!==0&&(c[N[e[t+v]]++]=v);if(n===q_?(P=O=c,R=20):n===E1?(P=LR,O=kR,R=257):(P=DR,O=OR,R=0),se=0,v=0,m=S,Y=o,V=b,B=0,be=-1,U=1<<b,Se=U-1,n===E1&&U>F_||n===H_&&U>z_)return 1;for(;;){I=m-B,c[v]+1<R?(oe=0,xe=c[v]):c[v]>=R?(oe=O[c[v]-R],xe=P[c[v]-R]):(oe=96,xe=0),Z=1<<m-B,te=1<<V,S=te;do te-=Z,a[Y+(se>>B)+te]=I<<24|oe<<16|xe|0;while(te!==0);for(Z=1<<m-1;se&Z;)Z>>=1;if(Z!==0?(se&=Z-1,se+=Z):se=0,v++,--q[m]===0){if(m===x)break;m=e[t+c[v]]}if(m>b&&(se&Se)!==be){for(B===0&&(B=b),Y+=S,V=m-B,H=1<<V;V+B<x&&(H-=q[V+B],!(H<=0));)V++,H<<=1;if(U+=1<<V,n===E1&&U>F_||n===H_&&U>z_)return 1;be=se&Se,a[be]=b<<24|V<<16|Y-o|0}}return se!==0&&(a[Y+se]=m-B<<24|64<<16|0),h.bits=b,0};var Kf=PR;const MR=0,H3=1,G3=2,{Z_FINISH:G_,Z_BLOCK:jR,Z_TREES:bp,Z_OK:vc,Z_STREAM_END:UR,Z_NEED_DICT:VR,Z_STREAM_ERROR:Ba,Z_DATA_ERROR:Y3,Z_MEM_ERROR:K3,Z_BUF_ERROR:BR,Z_DEFLATED:Y_}=F3,Hm=16180,K_=16181,W_=16182,Q_=16183,X_=16184,$_=16185,J_=16186,Z_=16187,eb=16188,tb=16189,cm=16190,Cl=16191,x1=16192,nb=16193,T1=16194,ib=16195,rb=16196,sb=16197,ab=16198,wp=16199,Ap=16200,ob=16201,lb=16202,ub=16203,cb=16204,hb=16205,N1=16206,fb=16207,db=16208,Ei=16209,W3=16210,Q3=16211,FR=852,zR=592,qR=15,HR=qR,pb=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function GR(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const xc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Hm||e.mode>Q3?1:0},X3=n=>{if(xc(n))return Ba;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Hm,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(FR),e.distcode=e.distdyn=new Int32Array(zR),e.sane=1,e.back=-1,vc},$3=n=>{if(xc(n))return Ba;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,X3(n)},J3=(n,e)=>{let t;if(xc(n))return Ba;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ba:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,$3(n))},Z3=(n,e)=>{if(!n)return Ba;const t=new GR;n.state=t,t.strm=n,t.window=null,t.mode=Hm;const r=J3(n,e);return r!==vc&&(n.state=null),r},YR=n=>Z3(n,HR);let mb=!0,C1,I1;const KR=n=>{if(mb){C1=new Int32Array(512),I1=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Kf(H3,n.lens,0,288,C1,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Kf(G3,n.lens,0,32,I1,0,n.work,{bits:5}),mb=!1}n.lencode=C1,n.lenbits=9,n.distcode=I1,n.distbits=5},eA=(n,e,t,r)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(e.subarray(t-r,t-r+a),o.wnext),r-=a,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},WR=(n,e)=>{let t,r,a,o,c,h,f,m,v,S,x,b,V,B,H=0,U,se,Z,te,be,Se,Y,P;const R=new Uint8Array(4);let q,N;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(xc(n)||!n.output||!n.input&&n.avail_in!==0)return Ba;t=n.state,t.mode===Cl&&(t.mode=x1),c=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,m=t.hold,v=t.bits,S=h,x=f,P=vc;e:for(;;)switch(t.mode){case Hm:if(t.wrap===0){t.mode=x1;break}for(;v<16;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(t.wrap&2&&m===35615){t.wbits===0&&(t.wbits=15),t.check=0,R[0]=m&255,R[1]=m>>>8&255,t.check=Bo(t.check,R,2,0),m=0,v=0,t.mode=K_;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((m&255)<<8)+(m>>8))%31){n.msg="incorrect header check",t.mode=Ei;break}if((m&15)!==Y_){n.msg="unknown compression method",t.mode=Ei;break}if(m>>>=4,v-=4,Y=(m&15)+8,t.wbits===0&&(t.wbits=Y),Y>15||Y>t.wbits){n.msg="invalid window size",t.mode=Ei;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=m&512?tb:Cl,m=0,v=0;break;case K_:for(;v<16;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(t.flags=m,(t.flags&255)!==Y_){n.msg="unknown compression method",t.mode=Ei;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Ei;break}t.head&&(t.head.text=m>>8&1),t.flags&512&&t.wrap&4&&(R[0]=m&255,R[1]=m>>>8&255,t.check=Bo(t.check,R,2,0)),m=0,v=0,t.mode=W_;case W_:for(;v<32;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}t.head&&(t.head.time=m),t.flags&512&&t.wrap&4&&(R[0]=m&255,R[1]=m>>>8&255,R[2]=m>>>16&255,R[3]=m>>>24&255,t.check=Bo(t.check,R,4,0)),m=0,v=0,t.mode=Q_;case Q_:for(;v<16;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}t.head&&(t.head.xflags=m&255,t.head.os=m>>8),t.flags&512&&t.wrap&4&&(R[0]=m&255,R[1]=m>>>8&255,t.check=Bo(t.check,R,2,0)),m=0,v=0,t.mode=X_;case X_:if(t.flags&1024){for(;v<16;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}t.length=m,t.head&&(t.head.extra_len=m),t.flags&512&&t.wrap&4&&(R[0]=m&255,R[1]=m>>>8&255,t.check=Bo(t.check,R,2,0)),m=0,v=0}else t.head&&(t.head.extra=null);t.mode=$_;case $_:if(t.flags&1024&&(b=t.length,b>h&&(b=h),b&&(t.head&&(Y=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+b),Y)),t.flags&512&&t.wrap&4&&(t.check=Bo(t.check,r,b,o)),h-=b,o+=b,t.length-=b),t.length))break e;t.length=0,t.mode=J_;case J_:if(t.flags&2048){if(h===0)break e;b=0;do Y=r[o+b++],t.head&&Y&&t.length<65536&&(t.head.name+=String.fromCharCode(Y));while(Y&&b<h);if(t.flags&512&&t.wrap&4&&(t.check=Bo(t.check,r,b,o)),h-=b,o+=b,Y)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Z_;case Z_:if(t.flags&4096){if(h===0)break e;b=0;do Y=r[o+b++],t.head&&Y&&t.length<65536&&(t.head.comment+=String.fromCharCode(Y));while(Y&&b<h);if(t.flags&512&&t.wrap&4&&(t.check=Bo(t.check,r,b,o)),h-=b,o+=b,Y)break e}else t.head&&(t.head.comment=null);t.mode=eb;case eb:if(t.flags&512){for(;v<16;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(t.wrap&4&&m!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Ei;break}m=0,v=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Cl;break;case tb:for(;v<32;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}n.adler=t.check=pb(m),m=0,v=0,t.mode=cm;case cm:if(t.havedict===0)return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,t.hold=m,t.bits=v,VR;n.adler=t.check=1,t.mode=Cl;case Cl:if(e===jR||e===bp)break e;case x1:if(t.last){m>>>=v&7,v-=v&7,t.mode=N1;break}for(;v<3;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}switch(t.last=m&1,m>>>=1,v-=1,m&3){case 0:t.mode=nb;break;case 1:if(KR(t),t.mode=wp,e===bp){m>>>=2,v-=2;break e}break;case 2:t.mode=rb;break;case 3:n.msg="invalid block type",t.mode=Ei}m>>>=2,v-=2;break;case nb:for(m>>>=v&7,v-=v&7;v<32;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if((m&65535)!==(m>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Ei;break}if(t.length=m&65535,m=0,v=0,t.mode=T1,e===bp)break e;case T1:t.mode=ib;case ib:if(b=t.length,b){if(b>h&&(b=h),b>f&&(b=f),b===0)break e;a.set(r.subarray(o,o+b),c),h-=b,o+=b,f-=b,c+=b,t.length-=b;break}t.mode=Cl;break;case rb:for(;v<14;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(t.nlen=(m&31)+257,m>>>=5,v-=5,t.ndist=(m&31)+1,m>>>=5,v-=5,t.ncode=(m&15)+4,m>>>=4,v-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Ei;break}t.have=0,t.mode=sb;case sb:for(;t.have<t.ncode;){for(;v<3;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}t.lens[O[t.have++]]=m&7,m>>>=3,v-=3}for(;t.have<19;)t.lens[O[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,q={bits:t.lenbits},P=Kf(MR,t.lens,0,19,t.lencode,0,t.work,q),t.lenbits=q.bits,P){n.msg="invalid code lengths set",t.mode=Ei;break}t.have=0,t.mode=ab;case ab:for(;t.have<t.nlen+t.ndist;){for(;H=t.lencode[m&(1<<t.lenbits)-1],U=H>>>24,se=H>>>16&255,Z=H&65535,!(U<=v);){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(Z<16)m>>>=U,v-=U,t.lens[t.have++]=Z;else{if(Z===16){for(N=U+2;v<N;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(m>>>=U,v-=U,t.have===0){n.msg="invalid bit length repeat",t.mode=Ei;break}Y=t.lens[t.have-1],b=3+(m&3),m>>>=2,v-=2}else if(Z===17){for(N=U+3;v<N;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}m>>>=U,v-=U,Y=0,b=3+(m&7),m>>>=3,v-=3}else{for(N=U+7;v<N;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}m>>>=U,v-=U,Y=0,b=11+(m&127),m>>>=7,v-=7}if(t.have+b>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Ei;break}for(;b--;)t.lens[t.have++]=Y}}if(t.mode===Ei)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Ei;break}if(t.lenbits=9,q={bits:t.lenbits},P=Kf(H3,t.lens,0,t.nlen,t.lencode,0,t.work,q),t.lenbits=q.bits,P){n.msg="invalid literal/lengths set",t.mode=Ei;break}if(t.distbits=6,t.distcode=t.distdyn,q={bits:t.distbits},P=Kf(G3,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,q),t.distbits=q.bits,P){n.msg="invalid distances set",t.mode=Ei;break}if(t.mode=wp,e===bp)break e;case wp:t.mode=Ap;case Ap:if(h>=6&&f>=258){n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,t.hold=m,t.bits=v,RR(n,x),c=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,m=t.hold,v=t.bits,t.mode===Cl&&(t.back=-1);break}for(t.back=0;H=t.lencode[m&(1<<t.lenbits)-1],U=H>>>24,se=H>>>16&255,Z=H&65535,!(U<=v);){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(se&&(se&240)===0){for(te=U,be=se,Se=Z;H=t.lencode[Se+((m&(1<<te+be)-1)>>te)],U=H>>>24,se=H>>>16&255,Z=H&65535,!(te+U<=v);){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}m>>>=te,v-=te,t.back+=te}if(m>>>=U,v-=U,t.back+=U,t.length=Z,se===0){t.mode=hb;break}if(se&32){t.back=-1,t.mode=Cl;break}if(se&64){n.msg="invalid literal/length code",t.mode=Ei;break}t.extra=se&15,t.mode=ob;case ob:if(t.extra){for(N=t.extra;v<N;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}t.length+=m&(1<<t.extra)-1,m>>>=t.extra,v-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=lb;case lb:for(;H=t.distcode[m&(1<<t.distbits)-1],U=H>>>24,se=H>>>16&255,Z=H&65535,!(U<=v);){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if((se&240)===0){for(te=U,be=se,Se=Z;H=t.distcode[Se+((m&(1<<te+be)-1)>>te)],U=H>>>24,se=H>>>16&255,Z=H&65535,!(te+U<=v);){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}m>>>=te,v-=te,t.back+=te}if(m>>>=U,v-=U,t.back+=U,se&64){n.msg="invalid distance code",t.mode=Ei;break}t.offset=Z,t.extra=se&15,t.mode=ub;case ub:if(t.extra){for(N=t.extra;v<N;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}t.offset+=m&(1<<t.extra)-1,m>>>=t.extra,v-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Ei;break}t.mode=cb;case cb:if(f===0)break e;if(b=x-f,t.offset>b){if(b=t.offset-b,b>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Ei;break}b>t.wnext?(b-=t.wnext,V=t.wsize-b):V=t.wnext-b,b>t.length&&(b=t.length),B=t.window}else B=a,V=c-t.offset,b=t.length;b>f&&(b=f),f-=b,t.length-=b;do a[c++]=B[V++];while(--b);t.length===0&&(t.mode=Ap);break;case hb:if(f===0)break e;a[c++]=t.length,f--,t.mode=Ap;break;case N1:if(t.wrap){for(;v<32;){if(h===0)break e;h--,m|=r[o++]<<v,v+=8}if(x-=f,n.total_out+=x,t.total+=x,t.wrap&4&&x&&(n.adler=t.check=t.flags?Bo(t.check,a,x,c-x):_0(t.check,a,x,c-x)),x=f,t.wrap&4&&(t.flags?m:pb(m))!==t.check){n.msg="incorrect data check",t.mode=Ei;break}m=0,v=0}t.mode=fb;case fb:if(t.wrap&&t.flags){for(;v<32;){if(h===0)break e;h--,m+=r[o++]<<v,v+=8}if(t.wrap&4&&m!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Ei;break}m=0,v=0}t.mode=db;case db:P=UR;break e;case Ei:P=Y3;break e;case W3:return K3;case Q3:default:return Ba}return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,t.hold=m,t.bits=v,(t.wsize||x!==n.avail_out&&t.mode<Ei&&(t.mode<N1||e!==G_))&&eA(n,n.output,n.next_out,x-n.avail_out),S-=n.avail_in,x-=n.avail_out,n.total_in+=S,n.total_out+=x,t.total+=x,t.wrap&4&&x&&(n.adler=t.check=t.flags?Bo(t.check,a,x,n.next_out-x):_0(t.check,a,x,n.next_out-x)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Cl?128:0)+(t.mode===wp||t.mode===T1?256:0),(S===0&&x===0||e===G_)&&P===vc&&(P=BR),P},QR=n=>{if(xc(n))return Ba;let e=n.state;return e.window&&(e.window=null),n.state=null,vc},XR=(n,e)=>{if(xc(n))return Ba;const t=n.state;return(t.wrap&2)===0?Ba:(t.head=e,e.done=!1,vc)},$R=(n,e)=>{const t=e.length;let r,a,o;return xc(n)||(r=n.state,r.wrap!==0&&r.mode!==cm)?Ba:r.mode===cm&&(a=1,a=_0(a,e,t,0),a!==r.check)?Y3:(o=eA(n,e,t,t),o?(r.mode=W3,K3):(r.havedict=1,vc))};var JR=$3,ZR=J3,e7=X3,t7=YR,n7=Z3,i7=WR,r7=QR,s7=XR,a7=$R,o7="pako inflate (from Nodeca project)",Il={inflateReset:JR,inflateReset2:ZR,inflateResetKeep:e7,inflateInit:t7,inflateInit2:n7,inflate:i7,inflateEnd:r7,inflateGetHeader:s7,inflateSetDictionary:a7,inflateInfo:o7};function l7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var u7=l7;const tA=Object.prototype.toString,{Z_NO_FLUSH:c7,Z_FINISH:h7,Z_OK:rd,Z_STREAM_END:R1,Z_NEED_DICT:L1,Z_STREAM_ERROR:f7,Z_DATA_ERROR:gb,Z_MEM_ERROR:d7}=F3;function _d(n){this.options=z3.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new CR,this.strm.avail_out=0;let t=Il.inflateInit2(this.strm,e.windowBits);if(t!==rd)throw new Error(b0[t]);if(this.header=new u7,Il.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=w0.string2buf(e.dictionary):tA.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Il.inflateSetDictionary(this.strm,e.dictionary),t!==rd)))throw new Error(b0[t])}_d.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,c,h;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?h7:c7,tA.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Il.inflate(t,c),o===L1&&a&&(o=Il.inflateSetDictionary(t,a),o===rd?o=Il.inflate(t,c):o===gb&&(o=L1));t.avail_in>0&&o===R1&&t.state.wrap>0&&n[t.next_in]!==0;)Il.inflateReset(t),o=Il.inflate(t,c);switch(o){case f7:case gb:case L1:case d7:return this.onEnd(o),this.ended=!0,!1}if(h=t.avail_out,t.next_out&&(t.avail_out===0||o===R1))if(this.options.to==="string"){let f=w0.utf8border(t.output,t.next_out),m=t.next_out-f,v=w0.buf2string(t.output,f);t.next_out=m,t.avail_out=r-m,m&&t.output.set(t.output.subarray(f,f+m),0),this.onData(v)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===rd&&h===0)){if(o===R1)return o=Il.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};_d.prototype.onData=function(n){this.chunks.push(n)};_d.prototype.onEnd=function(n){n===rd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=z3.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function p7(n,e){const t=new _d(e);if(t.push(n),t.err)throw t.msg||b0[t.err];return t.result}var m7=_d,g7=p7,y7={Inflate:m7,inflate:g7};const{Inflate:v7,inflate:_7}=y7;var yb=v7,b7=_7;const nA=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;nA[n]=e}const vb=4294967295;function w7(n,e,t){let r=n;for(let a=0;a<t;a++)r=nA[(r^e[a])&255]^r>>>8;return r}function A7(n,e){return(w7(vb,n,e)^vb)>>>0}function _b(n,e,t){const r=n.readUint32(),a=A7(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${a}`)}function iA(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function rA(n,e,t,r){let a=0;for(;a<r;a++)e[a]=n[a];for(;a<t;a++)e[a]=n[a]+e[a-r]&255}function sA(n,e,t,r){let a=0;if(t.length===0)for(;a<r;a++)e[a]=n[a];else for(;a<r;a++)e[a]=n[a]+t[a]&255}function aA(n,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-a]+t[o]>>1)&255}}function oA(n,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+S7(e[o-a],t[o],t[o-a])&255}}function S7(n,e,t){const r=n+e-t,a=Math.abs(r-n),o=Math.abs(r-e),c=Math.abs(r-t);return a<=o&&a<=c?n:o<=c?e:t}function E7(n,e,t,r,a,o){switch(n){case 0:iA(e,t,a);break;case 1:rA(e,t,a,o);break;case 2:sA(e,t,r,a);break;case 3:aA(e,t,r,a,o);break;case 4:oA(e,t,r,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const x7=new Uint16Array([255]),T7=new Uint8Array(x7.buffer),N7=T7[0]===255;function C7(n){const{data:e,width:t,height:r,channels:a,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*a,f=new Uint8Array(r*t*h);let m=0;for(let v=0;v<7;v++){const S=c[v],x=Math.ceil((t-S.x)/S.xStep),b=Math.ceil((r-S.y)/S.yStep);if(x<=0||b<=0)continue;const V=x*h,B=new Uint8Array(V);for(let H=0;H<b;H++){const U=e[m++],se=e.subarray(m,m+V);m+=V;const Z=new Uint8Array(V);E7(U,se,Z,B,V,h),B.set(Z);for(let te=0;te<x;te++){const be=S.x+te*S.xStep,Se=S.y+H*S.yStep;if(!(be>=t||Se>=r))for(let Y=0;Y<h;Y++)f[(Se*t+be)*h+Y]=Z[te*h+Y]}}}if(o===16){const v=new Uint16Array(f.buffer);if(N7)for(let S=0;S<v.length;S++)v[S]=I7(v[S]);return v}else return f}function I7(n){return(n&255)<<8|n>>8&255}const R7=new Uint16Array([255]),L7=new Uint8Array(R7.buffer),k7=L7[0]===255,D7=new Uint8Array(0);function bb(n){const{data:e,width:t,height:r,channels:a,depth:o}=n,c=Math.ceil(o/8)*a,h=Math.ceil(o/8*a*t),f=new Uint8Array(r*h);let m=D7,v=0,S,x;for(let b=0;b<r;b++){switch(S=e.subarray(v+1,v+1+h),x=f.subarray(b*h,(b+1)*h),e[v]){case 0:iA(S,x,h);break;case 1:rA(S,x,h,c);break;case 2:sA(S,x,m,h);break;case 3:aA(S,x,m,h,c);break;case 4:oA(S,x,m,h,c);break;default:throw new Error(`Unsupported filter: ${e[v]}`)}m=x,v+=h+1}if(o===16){const b=new Uint16Array(f.buffer);if(k7)for(let V=0;V<b.length;V++)b[V]=O7(b[V]);return b}else return f}function O7(n){return(n&255)<<8|n>>8&255}const Mp=Uint8Array.of(137,80,78,71,13,10,26,10);function wb(n){if(!P7(n.readBytes(Mp.length)))throw new Error("wrong PNG signature")}function P7(n){if(n.length<Mp.length)return!1;for(let e=0;e<Mp.length;e++)if(n[e]!==Mp[e])return!1;return!0}const M7="tEXt",j7=0,lA=new TextDecoder("latin1");function U7(n){if(B7(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const V7=/^[\u0000-\u00FF]*$/;function B7(n){if(!V7.test(n))throw new Error("invalid latin1 text")}function F7(n,e,t){const r=uA(e);n[r]=z7(e,t-r.length-1)}function uA(n){for(n.mark();n.readByte()!==j7;);const e=n.offset;n.reset();const t=lA.decode(n.readBytes(e-n.offset-1));return n.skip(1),U7(t),t}function z7(n,e){return lA.decode(n.readBytes(e))}const fa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},k1={UNKNOWN:-1,DEFLATE:0},Ab={UNKNOWN:-1,ADAPTIVE:0},D1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Sp={NONE:0,BACKGROUND:1,PREVIOUS:2},O1={SOURCE:0,OVER:1};class q7 extends S2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new yb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=k1.UNKNOWN,this._filterMethod=Ab.UNKNOWN,this._interlaceMethod=D1.UNKNOWN,this._colorType=fa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(wb(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(wb(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case M7:F7(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?_b(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?_b(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=H7(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case fa.GREYSCALE:r=1;break;case fa.TRUECOLOUR:r=3;break;case fa.INDEXED_COLOUR:r=1;break;case fa.GREYSCALE_ALPHA:r=2;break;case fa.TRUECOLOUR_ALPHA:r=4;break;case fa.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==k1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<t;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case fa.GREYSCALE:case fa.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case fa.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case fa.UNKNOWN:case fa.GREYSCALE_ALPHA:case fa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=uA(this),r=this.readUint8();if(r!==k1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:b7(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=bb({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(r,a,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case Sp.NONE:break;case Sp.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const c=(a*e.width+o)*this._png.channels;for(let h=0;h<this._png.channels;h++)r.data[c+h]=0}break;case Sp.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,a=(o,c)=>{const h=((o+t.yOffset)*this._png.width+t.xOffset+c)*this._png.channels,f=(o*t.width+c)*this._png.channels;return{index:h,frameIndex:f}};switch(t.blendOp){case O1.SOURCE:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:h,frameIndex:f}=a(o,c);for(let m=0;m<this._png.channels;m++)e.data[h+m]=t.data[f+m]}break;case O1.OVER:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:h,frameIndex:f}=a(o,c);for(let m=0;m<this._png.channels;m++){const v=t.data[f+this._png.channels-1]/r,S=m%(this._png.channels-1)===0?1:t.data[f+m],x=Math.floor(v*S+(1-v)*e.data[h+m]);e.data[h+m]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Ab.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===D1.NO_INTERLACE)this._png.data=bb({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===D1.ADAM7)this._png.data=C7({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Sp.NONE,blendOp:O1.SOURCE,data:e}),this._inflator=new yb,this._writingDataChunks=!1}}function H7(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Sb;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Sb||(Sb={}));function G7(n,e){return new q7(n,e).decode()}var Yt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function P1(){Yt.console&&typeof Yt.console.log=="function"&&Yt.console.log.apply(Yt.console,arguments)}var li={log:P1,warn:function(n){Yt.console&&(typeof Yt.console.warn=="function"?Yt.console.warn.apply(Yt.console,arguments):P1.call(null,arguments))},error:function(n){Yt.console&&(typeof Yt.console.error=="function"?Yt.console.error.apply(Yt.console,arguments):P1(n))}};function M1(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){ac(r.response,e,t)},r.onerror=function(){li.error("could not download file")},r.send()}function Eb(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ep(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var ac=Yt.saveAs||((typeof window>"u"?"undefined":Qn(window))!=="object"||window!==Yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Yt.URL||Yt.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?Eb(a.href)?M1(n,e,t):Ep(a,a.target="_blank"):Ep(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){Ep(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Eb(n))M1(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Ep(r)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Qn(o)!=="object"&&(li.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return M1(n,e,t);var a=n.type==="application/octet-stream",o=/constructor/i.test(Yt.HTMLElement)||Yt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&o)&&(typeof FileReader>"u"?"undefined":Qn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var v=h.result;v=c?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=v:location=v,r=null},h.readAsDataURL(n)}else{var f=Yt.URL||Yt.webkitURL,m=f.createObjectURL(n);r?r.location=m:location.href=m,r=null,setTimeout(function(){f.revokeObjectURL(m)},4e4)}});function cA(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],r=0;r<t.length;r++){var a=t[r].re,o=t[r].process,c=a.exec(n);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),m=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),m.length==1&&(m="0"+m),"#"+h+f+m}}var jp=Yt.atob.bind(Yt),xb=Yt.btoa.bind(Yt);function j1(n,e){var t=n[0],r=n[1],a=n[2],o=n[3];t=hs(t,r,a,o,e[0],7,-680876936),o=hs(o,t,r,a,e[1],12,-389564586),a=hs(a,o,t,r,e[2],17,606105819),r=hs(r,a,o,t,e[3],22,-1044525330),t=hs(t,r,a,o,e[4],7,-176418897),o=hs(o,t,r,a,e[5],12,1200080426),a=hs(a,o,t,r,e[6],17,-1473231341),r=hs(r,a,o,t,e[7],22,-45705983),t=hs(t,r,a,o,e[8],7,1770035416),o=hs(o,t,r,a,e[9],12,-1958414417),a=hs(a,o,t,r,e[10],17,-42063),r=hs(r,a,o,t,e[11],22,-1990404162),t=hs(t,r,a,o,e[12],7,1804603682),o=hs(o,t,r,a,e[13],12,-40341101),a=hs(a,o,t,r,e[14],17,-1502002290),t=fs(t,r=hs(r,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=fs(o,t,r,a,e[6],9,-1069501632),a=fs(a,o,t,r,e[11],14,643717713),r=fs(r,a,o,t,e[0],20,-373897302),t=fs(t,r,a,o,e[5],5,-701558691),o=fs(o,t,r,a,e[10],9,38016083),a=fs(a,o,t,r,e[15],14,-660478335),r=fs(r,a,o,t,e[4],20,-405537848),t=fs(t,r,a,o,e[9],5,568446438),o=fs(o,t,r,a,e[14],9,-1019803690),a=fs(a,o,t,r,e[3],14,-187363961),r=fs(r,a,o,t,e[8],20,1163531501),t=fs(t,r,a,o,e[13],5,-1444681467),o=fs(o,t,r,a,e[2],9,-51403784),a=fs(a,o,t,r,e[7],14,1735328473),t=ds(t,r=fs(r,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=ds(o,t,r,a,e[8],11,-2022574463),a=ds(a,o,t,r,e[11],16,1839030562),r=ds(r,a,o,t,e[14],23,-35309556),t=ds(t,r,a,o,e[1],4,-1530992060),o=ds(o,t,r,a,e[4],11,1272893353),a=ds(a,o,t,r,e[7],16,-155497632),r=ds(r,a,o,t,e[10],23,-1094730640),t=ds(t,r,a,o,e[13],4,681279174),o=ds(o,t,r,a,e[0],11,-358537222),a=ds(a,o,t,r,e[3],16,-722521979),r=ds(r,a,o,t,e[6],23,76029189),t=ds(t,r,a,o,e[9],4,-640364487),o=ds(o,t,r,a,e[12],11,-421815835),a=ds(a,o,t,r,e[15],16,530742520),t=ps(t,r=ds(r,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=ps(o,t,r,a,e[7],10,1126891415),a=ps(a,o,t,r,e[14],15,-1416354905),r=ps(r,a,o,t,e[5],21,-57434055),t=ps(t,r,a,o,e[12],6,1700485571),o=ps(o,t,r,a,e[3],10,-1894986606),a=ps(a,o,t,r,e[10],15,-1051523),r=ps(r,a,o,t,e[1],21,-2054922799),t=ps(t,r,a,o,e[8],6,1873313359),o=ps(o,t,r,a,e[15],10,-30611744),a=ps(a,o,t,r,e[6],15,-1560198380),r=ps(r,a,o,t,e[13],21,1309151649),t=ps(t,r,a,o,e[4],6,-145523070),o=ps(o,t,r,a,e[11],10,-1120210379),a=ps(a,o,t,r,e[2],15,718787259),r=ps(r,a,o,t,e[9],21,-343485551),n[0]=Au(t,n[0]),n[1]=Au(r,n[1]),n[2]=Au(a,n[2]),n[3]=Au(o,n[3])}function Gm(n,e,t,r,a,o){return e=Au(Au(e,n),Au(r,o)),Au(e<<a|e>>>32-a,t)}function hs(n,e,t,r,a,o,c){return Gm(e&t|~e&r,n,e,a,o,c)}function fs(n,e,t,r,a,o,c){return Gm(e&r|t&~r,n,e,a,o,c)}function ds(n,e,t,r,a,o,c){return Gm(e^t^r,n,e,a,o,c)}function ps(n,e,t,r,a,o,c){return Gm(t^(e|~r),n,e,a,o,c)}function hA(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)j1(r,Y7(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(j1(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,j1(r,a),r}function Y7(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Tb="0123456789abcdef".split("");function K7(n){for(var e="",t=0;t<4;t++)e+=Tb[n>>8*t+4&15]+Tb[n>>8*t&15];return e}function W7(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function A0(n){return hA(n).map(W7).join("")}var Q7=(function(n){for(var e=0;e<n.length;e++)n[e]=K7(n[e]);return n.join("")})(hA("hello"))!="5d41402abc4b2a76b9719d911017c592";function Au(n,e){if(Q7){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function S0(n,e){var t,r,a,o;if(n!==t){for(var c=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),h=[],f=0;f<256;f++)h[f]=f;var m=0;for(f=0;f<256;f++){var v=h[f];m=(m+v+c.charCodeAt(f))%256,h[f]=h[m],h[m]=v}t=n,r=h}else h=r;var S=e.length,x=0,b=0,V="";for(f=0;f<S;f++)b=(b+(v=h[x=(x+1)%256]))%256,h[x]=h[b],h[b]=v,c=h[(h[x]+h[b])%256],V+=String.fromCharCode(e.charCodeAt(f)^c);return V}var Nb={print:4,modify:8,copy:16,"annot-forms":32};function mh(n,e,t,r){this.v=1,this.r=2;var a=192;n.forEach(function(h){if(Nb.perm!==void 0)throw new Error("Invalid permission: "+h);a+=Nb[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^a)),this.encryptionKey=A0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=S0(this.encryptionKey,this.padding)}function gh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var a=n.charCodeAt(r);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[r]}return e}function Cb(n){if(Qn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,a){if(a=a||!1,typeof t!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!a],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(n,r)}catch(h){Yt.console&&li.error("jsPDF PubSub Error",h.message,h)}c[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function hm(n){if(!(this instanceof hm))return new hm(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function fA(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function oc(n,e,t,r,a){if(!(this instanceof oc))return new oc(n,e,t,r,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,fA.call(this,r,a)}function _h(n,e,t,r,a){if(!(this instanceof _h))return new _h(n,e,t,r,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,fA.call(this,r,a)}function xt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],c=[],h=1,f=16,m="S",v=null;Qn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,a=n.format||a,o=n.compress||n.compressPdf||o,(v=n.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),m=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),r=r||"mm",t=(""+(t||"P")).toLowerCase();var S=n.putOnlyUsedFonts||!1,x={},b={internal:{},__private__:{}};b.__private__.PubSub=Cb;var V="1.3",B=b.__private__.getPdfVersion=function(){return V};b.__private__.setPdfVersion=function(w){V=w};var H={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return H};var U=b.__private__.getPageFormat=function(w){return H[w]};a=a||"a4";var se="compat",Z="advanced",te=se;function be(){this.saveGraphicsState(),ee(new St(Ht,0,0,-Ht,0,As()*Ht).toString()+" cm"),this.setFontSize(this.getFontSize()/Ht),m="n",te=Z}function Se(){this.restoreGraphicsState(),m="S",te=se}var Y=b.__private__.combineFontStyleAndFontWeight=function(w,M){if(w=="bold"&&M=="normal"||w=="bold"&&M==400||w=="normal"&&M=="italic"||w=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(w=M==400||M==="normal"?w==="italic"?"italic":"normal":M!=700&&M!=="bold"||w!=="normal"?(M==700?"bold":M)+""+w:"bold"),w};b.advancedAPI=function(w){var M=te===se;return M&&be.call(this),typeof w!="function"||(w(this),M&&Se.call(this)),this},b.compatAPI=function(w){var M=te===Z;return M&&Se.call(this),typeof w!="function"||(w(this),M&&be.call(this)),this},b.isAdvancedAPI=function(){return te===Z};var P,R=function(w){if(te!==Z)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=b.roundToPrecision=b.__private__.roundToPrecision=function(w,M){var ie=e||M;if(isNaN(w)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(ie).replace(/0+$/,"")};P=b.hpf=b.__private__.hpf=typeof f=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return q(w,f)}:f==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return q(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return q(w,16)};var N=b.f2=b.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return q(w,2)},O=b.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return q(w,3)},I=b.scale=b.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return te===se?w*Ht:te===Z?w:void 0},oe=function(w){return I((function(M){return te===se?As()-M:te===Z?M:void 0})(w))};b.__private__.setPrecision=b.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(e=parseInt(w,10))};var xe,ae="00000000000000000000000000000000",pe=b.__private__.getFileId=function(){return ae},fe=b.__private__.setFileId=function(w){return ae=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(ri=new mh(v.userPermissions,v.userPassword,v.ownerPassword,ae)),ae};b.setFileId=function(w){return fe(w),this},b.getFileId=function(){return pe()};var Ie=b.__private__.convertDateToPDFDate=function(w){var M=w.getTimezoneOffset(),ie=M<0?"+":"-",he=Math.floor(Math.abs(M/60)),ve=Math.abs(M%60),je=[ie,J(he),"'",J(ve),"'"].join("");return["D:",w.getFullYear(),J(w.getMonth()+1),J(w.getDate()),J(w.getHours()),J(w.getMinutes()),J(w.getSeconds()),je].join("")},He=b.__private__.convertPDFDateToDate=function(w){var M=parseInt(w.substr(2,4),10),ie=parseInt(w.substr(6,2),10)-1,he=parseInt(w.substr(8,2),10),ve=parseInt(w.substr(10,2),10),je=parseInt(w.substr(12,2),10),Ke=parseInt(w.substr(14,2),10);return new Date(M,ie,he,ve,je,Ke,0)},$=b.__private__.setCreationDate=function(w){var M;if(w===void 0&&(w=new Date),w instanceof Date)M=Ie(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=w}return xe=M},k=b.__private__.getCreationDate=function(w){var M=xe;return w==="jsDate"&&(M=He(xe)),M};b.setCreationDate=function(w){return $(w),this},b.getCreationDate=function(w){return k(w)};var K,J=b.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},le=b.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},ce=0,ge=[],ke=[],Re=0,Ve=[],Xe=[],nt=!1,tt=ke;b.__private__.setCustomOutputDestination=function(w){nt=!0,tt=w};var ct=function(w){nt||(tt=w)};b.__private__.resetCustomOutputDestination=function(){nt=!1,tt=ke};var ee=b.__private__.out=function(w){return w=w.toString(),Re+=w.length+1,tt.push(w),tt},et=b.__private__.write=function(w){return ee(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},Kt=b.__private__.getArrayBuffer=function(w){for(var M=w.length,ie=new ArrayBuffer(M),he=new Uint8Array(ie);M--;)he[M]=w.charCodeAt(M);return ie},Tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Tt};var Fe=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(w){return Fe=te===Z?w/Ht:w,this};var st,rt=b.__private__.getFontSize=b.getFontSize=function(){return te===se?Fe:Fe*Ht},Ct=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(w){return Ct=w,this},b.__private__.getR2L=b.getR2L=function(){return Ct};var bt,Wt=b.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))st=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');st=w}else st=parseInt(w,10)};b.__private__.getZoomMode=function(){return st};var Zt,Bt=b.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');bt=w};b.__private__.getPageMode=function(){return bt};var an=b.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');Zt=w};b.__private__.getLayoutMode=function(){return Zt},b.__private__.setDisplayMode=b.setDisplayMode=function(w,M,ie){return Wt(w),an(M),Bt(ie),this};var Xt={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(w){if(Object.keys(Xt).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xt[w]},b.__private__.getDocumentProperties=function(){return Xt},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(w){for(var M in Xt)Xt.hasOwnProperty(M)&&w[M]&&(Xt[M]=w[M]);return this},b.__private__.setDocumentProperty=function(w,M){if(Object.keys(Xt).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xt[w]=M};var gt,Ht,yt,ui,$t,Nt={},jt={},Qt=[],At={},In={},Pt={},Mt={},kn=null,wt=0,vt=[],on=new Cb(b),ur=n.hotfixes||[],Ji={},Cs={},qi=[],St=function w(M,ie,he,ve,je,Ke){if(!(this instanceof w))return new w(M,ie,he,ve,je,Ke);isNaN(M)&&(M=1),isNaN(ie)&&(ie=0),isNaN(he)&&(he=0),isNaN(ve)&&(ve=1),isNaN(je)&&(je=0),isNaN(Ke)&&(Ke=0),this._matrix=[M,ie,he,ve,je,Ke]};Object.defineProperty(St.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(St.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(St.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(St.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(St.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(St.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(St.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(St.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(St.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(St.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(St.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(St.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(St.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(St.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(St.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(St.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),St.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(w)},St.prototype.multiply=function(w){var M=w.sx*this.sx+w.shy*this.shx,ie=w.sx*this.shy+w.shy*this.sy,he=w.shx*this.sx+w.sy*this.shx,ve=w.shx*this.shy+w.sy*this.sy,je=w.tx*this.sx+w.ty*this.shx+this.tx,Ke=w.tx*this.shy+w.ty*this.sy+this.ty;return new St(M,ie,he,ve,je,Ke)},St.prototype.decompose=function(){var w=this.sx,M=this.shy,ie=this.shx,he=this.sy,ve=this.tx,je=this.ty,Ke=Math.sqrt(w*w+M*M),lt=(w/=Ke)*ie+(M/=Ke)*he;ie-=w*lt,he-=M*lt;var dt=Math.sqrt(ie*ie+he*he);return lt/=dt,w*(he/=dt)<M*(ie/=dt)&&(w=-w,M=-M,lt=-lt,Ke=-Ke),{scale:new St(Ke,0,0,dt,0,0),translate:new St(1,0,0,1,ve,je),rotate:new St(w,M,-M,w,0,0),skew:new St(1,0,lt,1,0,0)}},St.prototype.toString=function(w){return this.join(" ")},St.prototype.inversed=function(){var w=this.sx,M=this.shy,ie=this.shx,he=this.sy,ve=this.tx,je=this.ty,Ke=1/(w*he-M*ie),lt=he*Ke,dt=-M*Ke,kt=-ie*Ke,Et=w*Ke;return new St(lt,dt,kt,Et,-lt*ve-kt*je,-dt*ve-Et*je)},St.prototype.applyToPoint=function(w){var M=w.x*this.sx+w.y*this.shx+this.tx,ie=w.x*this.shy+w.y*this.sy+this.ty;return new tr(M,ie)},St.prototype.applyToRectangle=function(w){var M=this.applyToPoint(w),ie=this.applyToPoint(new tr(w.x+w.w,w.y+w.h));return new Rs(M.x,M.y,ie.x-M.x,ie.y-M.y)},St.prototype.clone=function(){var w=this.sx,M=this.shy,ie=this.shx,he=this.sy,ve=this.tx,je=this.ty;return new St(w,M,ie,he,ve,je)},b.Matrix=St;var Js=b.matrixMult=function(w,M){return M.multiply(w)},Fr=new St(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Fr;var Er=function(w,M){if(!In[w]){var ie=(M instanceof oc?"Sh":"P")+(Object.keys(At).length+1).toString(10);M.id=ie,In[w]=ie,At[ie]=M,on.publish("addPattern",M)}};b.ShadingPattern=oc,b.TilingPattern=_h,b.addShadingPattern=function(w,M){return R("addShadingPattern()"),Er(w,M),this},b.beginTilingPattern=function(w){R("beginTilingPattern()"),Ls(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},b.endTilingPattern=function(w,M){R("endTilingPattern()"),M.stream=Xe[K].join(`
`),Er(w,M),on.publish("endTilingPattern",M),qi.pop().restore()};var xr,Fn=b.__private__.newObject=function(){var w=Xn();return ki(w,!0),w},Xn=b.__private__.newObjectDeferred=function(){return ce++,ge[ce]=function(){return Re},ce},ki=function(w,M){return M=typeof M=="boolean"&&M,ge[w]=Re,M&&ee(w+" 0 obj"),w},cr=b.__private__.newAdditionalObject=function(){var w={objId:Xn(),content:""};return Ve.push(w),w},Zi=Xn(),Dn=Xn(),Hn=b.__private__.decodeColorString=function(w){var M=w.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length!==5||M[4]!=="k"&&M[4]!=="K"||(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var ie=parseFloat(M[0]);M=[ie,ie,ie,"r"]}for(var he="#",ve=0;ve<3;ve++)he+=("0"+Math.floor(255*parseFloat(M[ve])).toString(16)).slice(-2);return he},Di=b.__private__.encodeColorString=function(w){var M;typeof w=="string"&&(w={ch1:w});var ie=w.ch1,he=w.ch2,ve=w.ch3,je=w.ch4,Ke=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var lt=new cA(ie);if(lt.ok)ie=lt.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var dt=parseInt(ie.substr(1),16);ie=dt>>16&255,he=dt>>8&255,ve=255&dt}if(he===void 0||je===void 0&&ie===he&&he===ve)M=typeof ie=="string"?ie+" "+Ke[0]:w.precision===2?N(ie/255)+" "+Ke[0]:O(ie/255)+" "+Ke[0];else if(je===void 0||Qn(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return["1.","1.","1.",Ke[1]].join(" ");M=typeof ie=="string"?[ie,he,ve,Ke[1]].join(" "):w.precision===2?[N(ie/255),N(he/255),N(ve/255),Ke[1]].join(" "):[O(ie/255),O(he/255),O(ve/255),Ke[1]].join(" ")}else M=typeof ie=="string"?[ie,he,ve,je,Ke[2]].join(" "):w.precision===2?[N(ie),N(he),N(ve),N(je),Ke[2]].join(" "):[O(ie),O(he),O(ve),O(je),Ke[2]].join(" ");return M},Tr=b.__private__.getFilters=function(){return c},ns=b.__private__.putStream=function(w){var M=(w=w||{}).data||"",ie=w.filters||Tr(),he=w.alreadyAppliedFilters||[],ve=w.addLength1||!1,je=M.length,Ke=w.objectId,lt=function(E){return E};if(v!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(lt=ri.encryptor(Ke,0));var dt={};ie===!0&&(ie=["FlateEncode"]);var kt=w.additionalKeyValues||[],Et=(dt=xt.API.processDataByFilters!==void 0?xt.API.processDataByFilters(M,ie):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(he)?he.join(" "):he.toString());if(dt.data.length!==0&&(kt.push({key:"Length",value:dt.data.length}),ve===!0&&kt.push({key:"Length1",value:je})),Et.length!=0)if(Et.split("/").length-1==1)kt.push({key:"Filter",value:Et});else{kt.push({key:"Filter",value:"["+Et+"]"});for(var fn=0;fn<kt.length;fn+=1)if(kt[fn].key==="DecodeParms"){for(var $n=[],zn=0;zn<dt.reverseChain.split("/").length-1;zn+=1)$n.push("null");$n.push(kt[fn].value),kt[fn].value="["+$n.join(" ")+"]"}}ee("<<");for(var p=0;p<kt.length;p++)ee("/"+kt[p].key+" "+kt[p].value);ee(">>"),dt.data.length!==0&&(ee("stream"),ee(lt(dt.data)),ee("endstream"))},va=b.__private__.putPage=function(w){var M=w.number,ie=w.data,he=w.objId,ve=w.contentsObjId;ki(he,!0),ee("<</Type /Page"),ee("/Parent "+w.rootDictionaryObjId+" 0 R"),ee("/Resources "+w.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(P(w.mediaBox.bottomLeftX))+" "+parseFloat(P(w.mediaBox.bottomLeftY))+" "+P(w.mediaBox.topRightX)+" "+P(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&ee("/CropBox ["+P(w.cropBox.bottomLeftX)+" "+P(w.cropBox.bottomLeftY)+" "+P(w.cropBox.topRightX)+" "+P(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&ee("/BleedBox ["+P(w.bleedBox.bottomLeftX)+" "+P(w.bleedBox.bottomLeftY)+" "+P(w.bleedBox.topRightX)+" "+P(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&ee("/TrimBox ["+P(w.trimBox.bottomLeftX)+" "+P(w.trimBox.bottomLeftY)+" "+P(w.trimBox.topRightX)+" "+P(w.trimBox.topRightY)+"]"),w.artBox!==null&&ee("/ArtBox ["+P(w.artBox.bottomLeftX)+" "+P(w.artBox.bottomLeftY)+" "+P(w.artBox.topRightX)+" "+P(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&ee("/UserUnit "+w.userUnit),on.publish("putPage",{objId:he,pageContext:vt[M],pageNumber:M,page:ie}),ee("/Contents "+ve+" 0 R"),ee(">>"),ee("endobj");var je=ie.join(`
`);return te===Z&&(je+=`
Q`),ki(ve,!0),ns({data:je,filters:Tr(),objectId:ve}),ee("endobj"),he},vs=b.__private__.putPages=function(){var w,M,ie=[];for(w=1;w<=wt;w++)vt[w].objId=Xn(),vt[w].contentsObjId=Xn();for(w=1;w<=wt;w++)ie.push(va({number:w,data:Xe[w],objId:vt[w].objId,contentsObjId:vt[w].contentsObjId,mediaBox:vt[w].mediaBox,cropBox:vt[w].cropBox,bleedBox:vt[w].bleedBox,trimBox:vt[w].trimBox,artBox:vt[w].artBox,userUnit:vt[w].userUnit,rootDictionaryObjId:Zi,resourceDictionaryObjId:Dn}));ki(Zi,!0),ee("<</Type /Pages");var he="/Kids [";for(M=0;M<wt;M++)he+=ie[M]+" 0 R ";ee(he+"]"),ee("/Count "+wt),ee(">>"),ee("endobj"),on.publish("postPutPages")},Nr=function(w){on.publish("putFont",{font:w,out:ee,newObject:Fn,putStream:ns}),w.isAlreadyPutted!==!0&&(w.objectNumber=Fn(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+gh(w.postScriptName)),ee("/Subtype /Type1"),typeof w.encoding=="string"&&ee("/Encoding /"+w.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},Zs=function(w){w.objectNumber=Fn();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[P(w.x),P(w.y),P(w.x+w.width),P(w.y+w.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var ie=w.pages[1].join(`
`);ns({data:ie,additionalKeyValues:M,objectId:w.objectNumber}),ee("endobj")},zr=function(w,M){M||(M=21);var ie=Fn(),he=(function(Ke,lt){var dt,kt=[],Et=1/(lt-1);for(dt=0;dt<1;dt+=Et)kt.push(dt);if(kt.push(1),Ke[0].offset!=0){var fn={offset:0,color:Ke[0].color};Ke.unshift(fn)}if(Ke[Ke.length-1].offset!=1){var $n={offset:1,color:Ke[Ke.length-1].color};Ke.push($n)}for(var zn="",p=0,E=0;E<kt.length;E++){for(dt=kt[E];dt>Ke[p+1].offset;)p++;var L=Ke[p].offset,Q=(dt-L)/(Ke[p+1].offset-L),we=Ke[p].color,Le=Ke[p+1].color;zn+=le(Math.round((1-Q)*we[0]+Q*Le[0]).toString(16))+le(Math.round((1-Q)*we[1]+Q*Le[1]).toString(16))+le(Math.round((1-Q)*we[2]+Q*Le[2]).toString(16))}return zn.trim()})(w.colors,M),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+M+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ns({data:he,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),ee("endobj"),w.objectNumber=Fn(),ee("<< /ShadingType "+w.type),ee("/ColorSpace /DeviceRGB");var je="/Coords ["+P(parseFloat(w.coords[0]))+" "+P(parseFloat(w.coords[1]))+" ";w.type===2?je+=P(parseFloat(w.coords[2]))+" "+P(parseFloat(w.coords[3])):je+=P(parseFloat(w.coords[2]))+" "+P(parseFloat(w.coords[3]))+" "+P(parseFloat(w.coords[4]))+" "+P(parseFloat(w.coords[5])),ee(je+="]"),w.matrix&&ee("/Matrix ["+w.matrix.toString()+"]"),ee("/Function "+ie+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},hr=function(w,M){var ie=Xn(),he=Fn();M.push({resourcesOid:ie,objectOid:he}),w.objectNumber=he;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+w.boundingBox.map(P).join(" ")+"]"}),ve.push({key:"XStep",value:P(w.xStep)}),ve.push({key:"YStep",value:P(w.yStep)}),ve.push({key:"Resources",value:ie+" 0 R"}),w.matrix&&ve.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),ns({data:w.stream,additionalKeyValues:ve,objectId:w.objectNumber}),ee("endobj")},qr=function(w){for(var M in w.objectNumber=Fn(),ee("<<"),w)switch(M){case"opacity":ee("/ca "+N(w[M]));break;case"stroke-opacity":ee("/CA "+N(w[M]))}ee(">>"),ee("endobj")},is=function(w){ki(w.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var M in ee("/Font <<"),Nt)Nt.hasOwnProperty(M)&&(S===!1||S===!0&&x.hasOwnProperty(M))&&ee("/"+M+" "+Nt[M].objectNumber+" 0 R");ee(">>")})(),(function(){if(Object.keys(At).length>0){for(var M in ee("/Shading <<"),At)At.hasOwnProperty(M)&&At[M]instanceof oc&&At[M].objectNumber>=0&&ee("/"+M+" "+At[M].objectNumber+" 0 R");on.publish("putShadingPatternDict"),ee(">>")}})(),(function(M){if(Object.keys(At).length>0){for(var ie in ee("/Pattern <<"),At)At.hasOwnProperty(ie)&&At[ie]instanceof b.TilingPattern&&At[ie].objectNumber>=0&&At[ie].objectNumber<M&&ee("/"+ie+" "+At[ie].objectNumber+" 0 R");on.publish("putTilingPatternDict"),ee(">>")}})(w.objectOid),(function(){if(Object.keys(Pt).length>0){var M;for(M in ee("/ExtGState <<"),Pt)Pt.hasOwnProperty(M)&&Pt[M].objectNumber>=0&&ee("/"+M+" "+Pt[M].objectNumber+" 0 R");on.publish("putGStateDict"),ee(">>")}})(),(function(){for(var M in ee("/XObject <<"),Ji)Ji.hasOwnProperty(M)&&Ji[M].objectNumber>=0&&ee("/"+M+" "+Ji[M].objectNumber+" 0 R");on.publish("putXobjectDict"),ee(">>")})(),ee(">>"),ee("endobj")},fi=function(w){jt[w.fontName]=jt[w.fontName]||{},jt[w.fontName][w.fontStyle]=w.id},vo=function(w,M,ie,he,ve){var je={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:w,fontName:M,fontStyle:ie,encoding:he,isStandardFont:ve||!1,metadata:{}};return on.publish("addFont",{font:je,instance:this}),Nt[je.id]=je,fi(je),je.id},Cr=b.__private__.pdfEscape=b.pdfEscape=function(w,M){return(function(ie,he){var ve,je,Ke,lt,dt,kt,Et,fn,$n;if(Ke=(he=he||{}).sourceEncoding||"Unicode",dt=he.outputEncoding,(he.autoencode||dt)&&Nt[gt].metadata&&Nt[gt].metadata[Ke]&&Nt[gt].metadata[Ke].encoding&&(lt=Nt[gt].metadata[Ke].encoding,!dt&&Nt[gt].encoding&&(dt=Nt[gt].encoding),!dt&&lt.codePages&&(dt=lt.codePages[0]),typeof dt=="string"&&(dt=lt[dt]),dt)){for(Et=!1,kt=[],ve=0,je=ie.length;ve<je;ve++)(fn=dt[ie.charCodeAt(ve)])?kt.push(String.fromCharCode(fn)):kt.push(ie[ve]),kt[ve].charCodeAt(0)>>8&&(Et=!0);ie=kt.join("")}for(ve=ie.length;Et===void 0&&ve!==0;)ie.charCodeAt(ve-1)>>8&&(Et=!0),ve--;if(!Et)return ie;for(kt=he.noBOM?[]:[254,255],ve=0,je=ie.length;ve<je;ve++){if(($n=(fn=ie.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kt.push($n),kt.push(fn-($n<<8))}return String.fromCharCode.apply(void 0,kt)})(w,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rs=b.__private__.beginPage=function(w){Xe[++wt]=[],vt[wt]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},_o(wt),ct(Xe[K])},_s=function(w,M){var ie,he,ve;switch(t=M||t,typeof w=="string"&&(ie=U(w.toLowerCase()),Array.isArray(ie)&&(he=ie[0],ve=ie[1])),Array.isArray(w)&&(he=w[0]*Ht,ve=w[1]*Ht),isNaN(he)&&(he=a[0],ve=a[1]),(he>14400||ve>14400)&&(li.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),he=Math.min(14400,he),ve=Math.min(14400,ve)),a=[he,ve],t.substr(0,1)){case"l":ve>he&&(a=[ve,he]);break;case"p":he>ve&&(a=[ve,he])}rs(a),It(Rr),ee(Gr),Kr!==0&&ee(Kr+" J"),Ti!==0&&ee(Ti+" j"),on.publish("addPage",{pageNumber:wt})},Fa=function(w){w>0&&w<=wt&&(Xe.splice(w,1),vt.splice(w,1),wt--,K>wt&&(K=wt),this.setPage(K))},_o=function(w){w>0&&w<=wt&&(K=w)},bo=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Xe.length-1},tl=function(w,M,ie){var he,ve=void 0;return ie=ie||{},w=w!==void 0?w:Nt[gt].fontName,M=M!==void 0?M:Nt[gt].fontStyle,he=w.toLowerCase(),jt[he]!==void 0&&jt[he][M]!==void 0?ve=jt[he][M]:jt[w]!==void 0&&jt[w][M]!==void 0?ve=jt[w][M]:ie.disableWarning===!1&&li.warn("Unable to look up font label for font '"+w+"', '"+M+"'. Refer to getFontList() for available fonts."),ve||ie.noFallback||(ve=jt.times[M])==null&&(ve=jt.times.normal),ve},Hr=b.__private__.putInfo=function(){var w=Fn(),M=function(he){return he};for(var ie in v!==null&&(M=ri.encryptor(w,0)),ee("<<"),ee("/Producer ("+Cr(M("jsPDF "+xt.version))+")"),Xt)Xt.hasOwnProperty(ie)&&Xt[ie]&&ee("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+Cr(M(Xt[ie]))+")");ee("/CreationDate ("+Cr(M(xe))+")"),ee(">>"),ee("endobj")},er=b.__private__.putCatalog=function(w){var M=(w=w||{}).rootDictionaryObjId||Zi;switch(Fn(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+M+" 0 R"),st||(st="fullwidth"),st){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+st;ie.substr(ie.length-1)==="%"&&(st=parseInt(st)/100),typeof st=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+N(st)+"]")}switch(Zt||(Zt="continuous"),Zt){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}bt&&ee("/PageMode /"+bt),on.publish("putCatalog"),ee(">>"),ee("endobj")},vi=b.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(ce+1)),ee("/Root "+ce+" 0 R"),ee("/Info "+(ce-1)+" 0 R"),v!==null&&ee("/Encrypt "+ri.oid+" 0 R"),ee("/ID [ <"+ae+"> <"+ae+"> ]"),ee(">>")},hn=b.__private__.putHeader=function(){ee("%PDF-"+V),ee("%")},ea=b.__private__.putXRef=function(){var w="0000000000";ee("xref"),ee("0 "+(ce+1)),ee("0000000000 65535 f ");for(var M=1;M<=ce;M++)typeof ge[M]=="function"?ee((w+ge[M]()).slice(-10)+" 00000 n "):ge[M]!==void 0?ee((w+ge[M]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},ss=b.__private__.buildDocument=function(){var w;ce=0,Re=0,ke=[],ge=[],Ve=[],Zi=Xn(),Dn=Xn(),ct(ke),on.publish("buildDocument"),hn(),vs(),(function(){on.publish("putAdditionalObjects");for(var ie=0;ie<Ve.length;ie++){var he=Ve[ie];ki(he.objId,!0),ee(he.content),ee("endobj")}on.publish("postPutAdditionalObjects")})(),w=[],(function(){for(var ie in Nt)Nt.hasOwnProperty(ie)&&(S===!1||S===!0&&x.hasOwnProperty(ie))&&Nr(Nt[ie])})(),(function(){var ie;for(ie in Pt)Pt.hasOwnProperty(ie)&&qr(Pt[ie])})(),(function(){for(var ie in Ji)Ji.hasOwnProperty(ie)&&Zs(Ji[ie])})(),(function(ie){var he;for(he in At)At.hasOwnProperty(he)&&(At[he]instanceof oc?zr(At[he]):At[he]instanceof _h&&hr(At[he],ie))})(w),on.publish("putResources"),w.forEach(is),is({resourcesOid:Dn,objectOid:Number.MAX_SAFE_INTEGER}),on.publish("postPutResources"),v!==null&&(ri.oid=Fn(),ee("<<"),ee("/Filter /Standard"),ee("/V "+ri.v),ee("/R "+ri.r),ee("/U <"+ri.toHexString(ri.U)+">"),ee("/O <"+ri.toHexString(ri.O)+">"),ee("/P "+ri.P),ee(">>"),ee("endobj")),Hr(),er();var M=Re;return ea(),vi(),ee("startxref"),ee(""+M),ee("%%EOF"),ct(Xe[K]),ke.join(`
`)},yn=b.__private__.getBlob=function(w){return new Blob([Kt(w)],{type:"application/pdf"})},_a=b.output=b.__private__.output=(xr=function(w,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",w){case void 0:return ss();case"save":b.save(M.filename);break;case"arraybuffer":return Kt(ss());case"blob":return yn(ss());case"bloburi":case"bloburl":if(Yt.URL!==void 0&&typeof Yt.URL.createObjectURL=="function")return Yt.URL&&Yt.URL.createObjectURL(yn(ss()))||void 0;li.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",he=ss();try{ie=xb(he)}catch{ie=xb(unescape(encodeURIComponent(he)))}return"data:application/pdf;filename="+M.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(ve=M.pdfObjectUrl,je="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",lt=Yt.open();return lt!==null&&lt.document.write(Ke),lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',kt=Yt.open();if(kt!==null){kt.document.write(dt);var Et=this;kt.document.documentElement.querySelector("#pdfViewer").onload=function(){kt.document.title=M.filename,kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Et.output("bloburl"))}}return kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',$n=Yt.open();if($n!==null&&($n.document.write(fn),$n.document.title=M.filename),$n||typeof safari>"u")return $n;break;case"datauri":case"dataurl":return Yt.document.location.href=this.output("datauristring",M);default:return null}},xr.foo=function(){try{return xr.apply(this,arguments)}catch(ie){var w=ie.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var M="Error in function "+w.split(`
`)[0].split("<")[0]+": "+ie.message;if(!Yt.console)throw new Error(M);Yt.console.error(M,ie),Yt.alert&&alert(M)}},xr.foo.bar=xr,xr.foo),xi=function(w){return Array.isArray(ur)===!0&&ur.indexOf(w)>-1};switch(r){case"pt":Ht=1;break;case"mm":Ht=72/25.4;break;case"cm":Ht=72/2.54;break;case"in":Ht=72;break;case"px":Ht=xi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ht=12;break;case"ex":Ht=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ht=r}var ri=null;$(),fe();var _i=b.__private__.getPageInfo=b.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[w].objId,pageNumber:w,pageContext:vt[w]}},za=b.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in vt)if(vt[M].objId===w)break;return _i(M)},Vl=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:vt[K].objId,pageNumber:K,pageContext:vt[K]}};b.addPage=function(){return _s.apply(this,arguments),this},b.setPage=function(){return _o.apply(this,arguments),ct.call(this,Xe[K]),this},b.insertPage=function(w){return this.addPage(),this.movePage(K,w),this},b.movePage=function(w,M){var ie,he;if(w>M){ie=Xe[w],he=vt[w];for(var ve=w;ve>M;ve--)Xe[ve]=Xe[ve-1],vt[ve]=vt[ve-1];Xe[M]=ie,vt[M]=he,this.setPage(M)}else if(w<M){ie=Xe[w],he=vt[w];for(var je=w;je<M;je++)Xe[je]=Xe[je+1],vt[je]=vt[je+1];Xe[M]=ie,vt[M]=he,this.setPage(M)}return this},b.deletePage=function(){return Fa.apply(this,arguments),this},b.__private__.text=b.text=function(w,M,ie,he,ve){var je,Ke,lt,dt,kt,Et,fn,$n,zn,p=(he=he||{}).scope||this;if(typeof w=="number"&&typeof M=="number"&&(typeof ie=="string"||Array.isArray(ie))){var E=ie;ie=M,M=w,w=E}if(arguments[3]instanceof St==0?(lt=arguments[4],dt=arguments[5],Qn(fn=arguments[3])==="object"&&fn!==null||(typeof lt=="string"&&(dt=lt,lt=null),typeof fn=="string"&&(dt=fn,fn=null),typeof fn=="number"&&(lt=fn,fn=null),he={flags:fn,angle:lt,align:dt})):(R("The transform parameter of text() with a Matrix value"),zn=ve),isNaN(M)||isNaN(ie)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return p;var L,Q="",we=typeof he.lineHeightFactor=="number"?he.lineHeightFactor:ia,Le=p.internal.scaleFactor;function $e(Rn){return Rn=Rn.split("	").join(Array(he.TabLen||9).join(" ")),Cr(Rn,fn)}function qt(Rn){for(var Sn,Zn=Rn.concat(),Ci=[],La=Zn.length;La--;)typeof(Sn=Zn.shift())=="string"?Ci.push(Sn):Array.isArray(Rn)&&(Sn.length===1||Sn[1]===void 0&&Sn[2]===void 0)?Ci.push(Sn[0]):Ci.push([Sn[0],Sn[1],Sn[2]]);return Ci}function Jn(Rn,Sn){var Zn;if(typeof Rn=="string")Zn=Sn(Rn)[0];else if(Array.isArray(Rn)){for(var Ci,La,oa=Rn.concat(),ul=[],Hu=oa.length;Hu--;)typeof(Ci=oa.shift())=="string"?ul.push(Sn(Ci)[0]):Array.isArray(Ci)&&typeof Ci[0]=="string"&&(La=Sn(Ci[0],Ci[1],Ci[2]),ul.push([La[0],La[1],La[2]]));Zn=ul}return Zn}var un=!1,Pn=!0;if(typeof w=="string")un=!0;else if(Array.isArray(w)){var nr=w.concat();Ke=[];for(var dr,Gn=nr.length;Gn--;)(typeof(dr=nr.shift())!="string"||Array.isArray(dr)&&typeof dr[0]!="string")&&(Pn=!1);un=Pn}if(un===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var pr=Fe/p.internal.scaleFactor,Ss=pr*(we-1);switch(he.baseline){case"bottom":ie-=Ss;break;case"top":ie+=pr-Ss;break;case"hanging":ie+=pr-2*Ss;break;case"middle":ie+=pr/2-Ss}if((Et=he.maxWidth||0)>0&&(typeof w=="string"?w=p.splitTextToSize(w,Et):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(Rn,Sn){return Rn.concat(p.splitTextToSize(Sn,Et))},[]))),je={text:w,x:M,y:ie,options:he,mutex:{pdfEscape:Cr,activeFontKey:gt,fonts:Nt,activeFontSize:Fe}},on.publish("preProcessText",je),w=je.text,lt=(he=je.options).angle,zn instanceof St==0&&lt&&typeof lt=="number"){lt*=Math.PI/180,he.rotationDirection===0&&(lt=-lt),te===Z&&(lt=-lt);var Ea=Math.cos(lt),xa=Math.sin(lt);zn=new St(Ea,xa,-xa,Ea,0,0)}else lt&&lt instanceof St&&(zn=lt);te!==Z||zn||(zn=Fr),(kt=he.charSpace||Yr)!==void 0&&(Q+=P(I(kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),($n=he.horizontalScale)!==void 0&&(Q+=P(100*$n)+` Tz
`),he.lang;var Qr=-1,Ka=he.renderingMode!==void 0?he.renderingMode:he.stroke,Bl=p.internal.getCurrentPageInfo().pageContext;switch(Ka){case 0:case!1:case"fill":Qr=0;break;case 1:case!0:case"stroke":Qr=1;break;case 2:case"fillThenStroke":Qr=2;break;case 3:case"invisible":Qr=3;break;case 4:case"fillAndAddForClipping":Qr=4;break;case 5:case"strokeAndAddPathForClipping":Qr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qr=6;break;case 7:case"addToPathForClipping":Qr=7}var zu=Bl.usedRenderingMode!==void 0?Bl.usedRenderingMode:-1;Qr!==-1?Q+=Qr+` Tr
`:zu!==-1&&(Q+=`0 Tr
`),Qr!==-1&&(Bl.usedRenderingMode=Qr),dt=he.align||"left";var Es,sa=Fe*we,Wa=p.internal.pageSize.getWidth(),qu=Nt[gt];kt=he.charSpace||Yr,Et=he.maxWidth||0,fn=Object.assign({autoencode:!0,noBOM:!0},he.flags);var aa=[],To=function(Rn){return p.getStringUnitWidth(Rn,{font:qu,charSpace:kt,fontSize:Fe,doKerning:!1})*Fe/Le};if(Object.prototype.toString.call(w)==="[object Array]"){var os;Ke=qt(w),dt!=="left"&&(Es=Ke.map(To));var Xr,Ta=0;if(dt==="right"){M-=Es[0],w=[],Gn=Ke.length;for(var Na=0;Na<Gn;Na++)Na===0?(Xr=Gi(M),os=Oi(ie)):(Xr=I(Ta-Es[Na]),os=-sa),w.push([Ke[Na],Xr,os]),Ta=Es[Na]}else if(dt==="center"){M-=Es[0]/2,w=[],Gn=Ke.length;for(var Qa=0;Qa<Gn;Qa++)Qa===0?(Xr=Gi(M),os=Oi(ie)):(Xr=I((Ta-Es[Qa])/2),os=-sa),w.push([Ke[Qa],Xr,os]),Ta=Es[Qa]}else if(dt==="left"){w=[],Gn=Ke.length;for(var Fl=0;Fl<Gn;Fl++)w.push(Ke[Fl])}else if(dt==="justify"&&qu.encoding==="Identity-H"){w=[],Gn=Ke.length,Et=Et!==0?Et:Wa;for(var zl=0,Ni=0;Ni<Gn;Ni++)if(os=Ni===0?Oi(ie):-sa,Xr=Ni===0?Gi(M):zl,Ni<Gn-1){var Nc=I((Et-Es[Ni])/(Ke[Ni].split(" ").length-1)),Ca=Ke[Ni].split(" ");w.push([Ca[0]+" ",Xr,os]),zl=0;for(var Ia=1;Ia<Ca.length;Ia++){var mr=(To(Ca[Ia-1]+" "+Ca[Ia])-To(Ca[Ia]))*Le+Nc;Ia==Ca.length-1?w.push([Ca[Ia],mr,0]):w.push([Ca[Ia]+" ",mr,0]),zl-=mr}}else w.push([Ke[Ni],Xr,os]);w.push(["",zl,0])}else{if(dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],Gn=Ke.length,Et=Et!==0?Et:Wa,Ni=0;Ni<Gn;Ni++){os=Ni===0?Oi(ie):-sa,Xr=Ni===0?Gi(M):0;var Xa=Ke[Ni].split(" ").length-1,ql=Xa>0?(Et-Es[Ni])/Xa:0;Ni<Gn-1?aa.push(P(I(ql))):aa.push(0),w.push([Ke[Ni],Xr,os])}}}(typeof he.R2L=="boolean"?he.R2L:Ct)===!0&&(w=Jn(w,function(Rn,Sn,Zn){return[Rn.split("").reverse().join(""),Sn,Zn]})),je={text:w,x:M,y:ie,options:he,mutex:{pdfEscape:Cr,activeFontKey:gt,fonts:Nt,activeFontSize:Fe}},on.publish("postProcessText",je),w=je.text,L=je.mutex.isHex||!1;var Hl=Nt[gt].encoding;Hl!=="WinAnsiEncoding"&&Hl!=="StandardEncoding"||(w=Jn(w,function(Rn,Sn,Zn){return[$e(Rn),Sn,Zn]})),Ke=qt(w),w=[];for(var $a,Ja,Ra,ll=Array.isArray(Ke[0])?1:0,xs="",Za=function(Rn,Sn,Zn){var Ci="";return Zn instanceof St?(Zn=typeof he.angle=="number"?Js(Zn,new St(1,0,0,1,Rn,Sn)):Js(new St(1,0,0,1,Rn,Sn),Zn),te===Z&&(Zn=Js(new St(1,0,0,-1,0,0),Zn)),Ci=Zn.join(" ")+` Tm
`):Ci=P(Rn)+" "+P(Sn)+` Td
`,Ci},Lr=0;Lr<Ke.length;Lr++){switch(xs="",ll){case 1:Ra=(L?"<":"(")+Ke[Lr][0]+(L?">":")"),$a=parseFloat(Ke[Lr][1]),Ja=parseFloat(Ke[Lr][2]);break;case 0:Ra=(L?"<":"(")+Ke[Lr]+(L?">":")"),$a=Gi(M),Ja=Oi(ie)}aa!==void 0&&aa[Lr]!==void 0&&(xs=aa[Lr]+` Tw
`),Lr===0?w.push(xs+Za($a,Ja,zn)+Ra):ll===0?w.push(xs+Ra):ll===1&&w.push(xs+Za($a,Ja,zn)+Ra)}w=ll===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var Os=`BT
/`;return Os+=gt+" "+Fe+` Tf
`,Os+=P(Fe*we)+` TL
`,Os+=ws+`
`,Os+=Q,Os+=w,ee(Os+="ET"),x[gt]=!0,p};var nl=b.__private__.clip=b.clip=function(w){return ee(w==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return nl("evenodd")},b.__private__.discardPath=b.discardPath=function(){return ee("n"),this};var fr=b.__private__.isValidStyle=function(w){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(M=!0),M};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(w){return fr(w)&&(m=w),this};var il=b.__private__.getStyle=b.getStyle=function(w){var M=m;switch(w){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=w}return M},ta=b.close=function(){return ee("h"),this};b.stroke=function(){return ee("S"),this},b.fill=function(w){return Hi("f",w),this},b.fillEvenOdd=function(w){return Hi("f*",w),this},b.fillStroke=function(w){return Hi("B",w),this},b.fillStrokeEvenOdd=function(w){return Hi("B*",w),this};var Hi=function(w,M){Qn(M)==="object"?sl(M,w):ee(w)},ba=function(w){w===null||te===Z&&w===void 0||(w=il(w),ee(w))};function rl(w,M,ie,he,ve){var je=new _h(M||this.boundingBox,ie||this.xStep,he||this.yStep,this.gState,ve||this.matrix);je.stream=this.stream;var Ke=w+"$$"+this.cloneIndex+++"$$";return Er(Ke,je),je}var sl=function(w,M){var ie=In[w.key],he=At[ie];if(he instanceof oc)ee("q"),ee(wo(M)),he.gState&&b.setGState(he.gState),ee(w.matrix.toString()+" cm"),ee("/"+ie+" sh"),ee("Q");else if(he instanceof _h){var ve=new St(1,0,0,-1,0,As());w.matrix&&(ve=ve.multiply(w.matrix||Fr),ie=rl.call(he,w.key,w.boundingBox,w.xStep,w.yStep,ve).id),ee("q"),ee("/Pattern cs"),ee("/"+ie+" scn"),he.gState&&b.setGState(he.gState),ee(M),ee("Q")}},wo=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ao=b.moveTo=function(w,M){return ee(P(I(w))+" "+P(oe(M))+" m"),this},na=b.lineTo=function(w,M){return ee(P(I(w))+" "+P(oe(M))+" l"),this},Ir=b.curveTo=function(w,M,ie,he,ve,je){return ee([P(I(w)),P(oe(M)),P(I(ie)),P(oe(he)),P(I(ve)),P(oe(je)),"c"].join(" ")),this};b.__private__.line=b.line=function(w,M,ie,he,ve){if(isNaN(w)||isNaN(M)||isNaN(ie)||isNaN(he)||!fr(ve))throw new Error("Invalid arguments passed to jsPDF.line");return te===se?this.lines([[ie-w,he-M]],w,M,[1,1],ve||"S"):this.lines([[ie-w,he-M]],w,M,[1,1]).stroke()},b.__private__.lines=b.lines=function(w,M,ie,he,ve,je){var Ke,lt,dt,kt,Et,fn,$n,zn,p,E,L,Q;if(typeof w=="number"&&(Q=ie,ie=M,M=w,w=Q),he=he||[1,1],je=je||!1,isNaN(M)||isNaN(ie)||!Array.isArray(w)||!Array.isArray(he)||!fr(ve)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ao(M,ie),Ke=he[0],lt=he[1],kt=w.length,E=M,L=ie,dt=0;dt<kt;dt++)(Et=w[dt]).length===2?(E=Et[0]*Ke+E,L=Et[1]*lt+L,na(E,L)):(fn=Et[0]*Ke+E,$n=Et[1]*lt+L,zn=Et[2]*Ke+E,p=Et[3]*lt+L,E=Et[4]*Ke+E,L=Et[5]*lt+L,Ir(fn,$n,zn,p,E,L));return je&&ta(),ba(ve),this},b.path=function(w){for(var M=0;M<w.length;M++){var ie=w[M],he=ie.c;switch(ie.op){case"m":Ao(he[0],he[1]);break;case"l":na(he[0],he[1]);break;case"c":Ir.apply(this,he);break;case"h":ta()}}return this},b.__private__.rect=b.rect=function(w,M,ie,he,ve){if(isNaN(w)||isNaN(M)||isNaN(ie)||isNaN(he)||!fr(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return te===se&&(he=-he),ee([P(I(w)),P(oe(M)),P(I(ie)),P(I(he)),"re"].join(" ")),ba(ve),this},b.__private__.triangle=b.triangle=function(w,M,ie,he,ve,je,Ke){if(isNaN(w)||isNaN(M)||isNaN(ie)||isNaN(he)||isNaN(ve)||isNaN(je)||!fr(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-w,he-M],[ve-ie,je-he],[w-ve,M-je]],w,M,[1,1],Ke,!0),this},b.__private__.roundedRect=b.roundedRect=function(w,M,ie,he,ve,je,Ke){if(isNaN(w)||isNaN(M)||isNaN(ie)||isNaN(he)||isNaN(ve)||isNaN(je)||!fr(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var lt=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*ie),je=Math.min(je,.5*he),this.lines([[ie-2*ve,0],[ve*lt,0,ve,je-je*lt,ve,je],[0,he-2*je],[0,je*lt,-ve*lt,je,-ve,je],[2*ve-ie,0],[-ve*lt,0,-ve,-je*lt,-ve,-je],[0,2*je-he],[0,-je*lt,ve*lt,-je,ve,-je]],w+ve,M,[1,1],Ke,!0),this},b.__private__.ellipse=b.ellipse=function(w,M,ie,he,ve){if(isNaN(w)||isNaN(M)||isNaN(ie)||isNaN(he)||!fr(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*ie,Ke=4/3*(Math.SQRT2-1)*he;return Ao(w+ie,M),Ir(w+ie,M-Ke,w+je,M-he,w,M-he),Ir(w-je,M-he,w-ie,M-Ke,w-ie,M),Ir(w-ie,M+Ke,w-je,M+he,w,M+he),Ir(w+je,M+he,w+ie,M+Ke,w+ie,M),ba(ve),this},b.__private__.circle=b.circle=function(w,M,ie,he){if(isNaN(w)||isNaN(M)||isNaN(ie)||!fr(he))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,M,ie,ie,he)},b.setFont=function(w,M,ie){return ie&&(M=Y(M,ie)),gt=tl(w,M,{disableWarning:!1}),this};var bs=b.__private__.getFont=b.getFont=function(){return Nt[tl.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var w,M,ie={};for(w in jt)if(jt.hasOwnProperty(w))for(M in ie[w]=[],jt[w])jt[w].hasOwnProperty(M)&&ie[w].push(M);return ie},b.addFont=function(w,M,ie,he,ve){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(ie=Y(ie,he)),vo.call(this,w,M,ie,ve=ve||"Identity-H")};var ia,Rr=n.lineWidth||.200025,wa=b.__private__.getLineWidth=b.getLineWidth=function(){return Rr},It=b.__private__.setLineWidth=b.setLineWidth=function(w){return Rr=w,ee(P(I(w))+" w"),this};b.__private__.setLineDash=xt.API.setLineDash=xt.API.setLineDashPattern=function(w,M){if(w=w||[],M=M||0,isNaN(M)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(ie){return P(I(ie))}).join(" "),M=P(I(M)),ee("["+w+"] "+M+" d"),this};var qa=b.__private__.getLineHeight=b.getLineHeight=function(){return Fe*ia};b.__private__.getLineHeight=b.getLineHeight=function(){return Fe*ia};var So=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(ia=w),this},Aa=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return ia};So(n.lineHeight);var Gi=b.__private__.getHorizontalCoordinate=function(w){return I(w)},Oi=b.__private__.getVerticalCoordinate=function(w){return te===Z?w:vt[K].mediaBox.topRightY-vt[K].mediaBox.bottomLeftY-I(w)},Ha=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(w){return P(Gi(w))},On=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(w){return P(Oi(w))},Gr=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Hn(Gr)},b.__private__.setStrokeColor=b.setDrawColor=function(w,M,ie,he){return Gr=Di({ch1:w,ch2:M,ch3:ie,ch4:he,pdfColorType:"draw",precision:2}),ee(Gr),this};var Ga=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Hn(Ga)},b.__private__.setFillColor=b.setFillColor=function(w,M,ie,he){return Ga=Di({ch1:w,ch2:M,ch3:ie,ch4:he,pdfColorType:"fill",precision:2}),ee(Ga),this};var ws=n.textColor||"0 g",al=b.__private__.getTextColor=b.getTextColor=function(){return Hn(ws)};b.__private__.setTextColor=b.setTextColor=function(w,M,ie,he){return ws=Di({ch1:w,ch2:M,ch3:ie,ch4:he,pdfColorType:"text",precision:3}),this};var Yr=n.charSpace,ra=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Yr||0)};b.__private__.setCharSpace=b.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yr=w,this};var Kr=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(w){var M=b.CapJoinStyles[w];if(M===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kr=M,ee(M+" J"),this};var Ti=0;b.__private__.setLineJoin=b.setLineJoin=function(w){var M=b.CapJoinStyles[w];if(M===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ti=M,ee(M+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(P(I(w))+" M"),this},b.GState=hm,b.setGState=function(w){(w=typeof w=="string"?Pt[Mt[w]]:Is(null,w)).equals(kn)||(ee("/"+w.id+" gs"),kn=w)};var Is=function(w,M){if(!w||!Mt[w]){var ie=!1;for(var he in Pt)if(Pt.hasOwnProperty(he)&&Pt[he].equals(M)){ie=!0;break}if(ie)M=Pt[he];else{var ve="GS"+(Object.keys(Pt).length+1).toString(10);Pt[ve]=M,M.id=ve}return w&&(Mt[w]=M.id),on.publish("addGState",M),M}};b.addGState=function(w,M){return Is(w,M),this},b.saveGraphicsState=function(){return ee("q"),Qt.push({key:gt,size:Fe,color:ws}),this},b.restoreGraphicsState=function(){ee("Q");var w=Qt.pop();return gt=w.key,Fe=w.size,ws=w.color,kn=null,this},b.setCurrentTransformationMatrix=function(w){return ee(w.toString()+" cm"),this},b.comment=function(w){return ee("#"+w),this};var tr=function(w,M){var ie=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(je){isNaN(je)||(ie=parseFloat(je))}});var he=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return he},set:function(je){isNaN(je)||(he=parseFloat(je))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(je){ve=je.toString()}}),this},Rs=function(w,M,ie,he){tr.call(this,w,M),this.type="rect";var ve=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(Ke){isNaN(Ke)||(ve=parseFloat(Ke))}});var je=he||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(Ke){isNaN(Ke)||(je=parseFloat(Ke))}}),this},Sa=function(){this.page=wt,this.currentPage=K,this.pages=Xe.slice(0),this.pagesContext=vt.slice(0),this.x=yt,this.y=ui,this.matrix=$t,this.width=as(K),this.height=Eo(K),this.outputDestination=tt,this.id="",this.objectNumber=-1};Sa.prototype.restore=function(){wt=this.page,K=this.currentPage,vt=this.pagesContext,Xe=this.pages,yt=this.x,ui=this.y,$t=this.matrix,Ya(K,this.width),Wr(K,this.height),tt=this.outputDestination};var Ls=function(w,M,ie,he,ve){qi.push(new Sa),wt=K=0,Xe=[],yt=w,ui=M,$t=ve,rs([ie,he])};for(var ks in b.beginFormObject=function(w,M,ie,he,ve){return Ls(w,M,ie,he,ve),this},b.endFormObject=function(w){return(function(M){if(Cs[M])qi.pop().restore();else{var ie=new Sa,he="Xo"+(Object.keys(Ji).length+1).toString(10);ie.id=he,Cs[M]=he,Ji[he]=ie,on.publish("addFormObject",ie),qi.pop().restore()}})(w),this},b.doFormObject=function(w,M){var ie=Ji[Cs[w]];return ee("q"),ee(M.toString()+" cm"),ee("/"+ie.id+" Do"),ee("Q"),this},b.getFormObject=function(w){var M=Ji[Cs[w]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},b.save=function(w,M){return w=w||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(ac(yn(ss()),w),typeof ac.unload=="function"&&Yt.setTimeout&&setTimeout(ac.unload,911),this):new Promise(function(ie,he){try{var ve=ac(yn(ss()),w);typeof ac.unload=="function"&&Yt.setTimeout&&setTimeout(ac.unload,911),ie(ve)}catch(je){he(je.message)}})},xt.API)xt.API.hasOwnProperty(ks)&&(ks==="events"&&xt.API.events.length?(function(w,M){var ie,he,ve;for(ve=M.length-1;ve!==-1;ve--)ie=M[ve][0],he=M[ve][1],w.subscribe.apply(w,[ie].concat(typeof he=="function"?[he]:he))})(on,xt.API.events):b[ks]=xt.API[ks]);function as(w){return vt[w].mediaBox.topRightX-vt[w].mediaBox.bottomLeftX}function Ya(w,M){vt[w].mediaBox.topRightX=M+vt[w].mediaBox.bottomLeftX}function Eo(w){return vt[w].mediaBox.topRightY-vt[w].mediaBox.bottomLeftY}function Wr(w,M){vt[w].mediaBox.topRightY=M+vt[w].mediaBox.bottomLeftY}var Ds=b.getPageWidth=function(w){return as(w=w||K)/Ht},ol=b.setPageWidth=function(w,M){Ya(w,M*Ht)},As=b.getPageHeight=function(w){return Eo(w=w||K)/Ht},xo=b.setPageHeight=function(w,M){Wr(w,M*Ht)};return b.internal={pdfEscape:Cr,getStyle:il,getFont:bs,getFontSize:rt,getCharSpace:ra,getTextColor:al,getLineHeight:qa,getLineHeightFactor:Aa,getLineWidth:wa,write:et,getHorizontalCoordinate:Gi,getVerticalCoordinate:Oi,getCoordinateString:Ha,getVerticalCoordinateString:On,collections:{},newObject:Fn,newAdditionalObject:cr,newObjectDeferred:Xn,newObjectDeferredBegin:ki,getFilters:Tr,putStream:ns,events:on,scaleFactor:Ht,pageSize:{getWidth:function(){return Ds(K)},setWidth:function(w){ol(K,w)},getHeight:function(){return As(K)},setHeight:function(w){xo(K,w)}},encryptionOptions:v,encryption:ri,getEncryptor:function(w){return v!==null?ri.encryptor(w,0):function(M){return M}},output:_a,getNumberOfPages:bo,get pages(){return Xe},out:ee,f2:N,f3:O,getPageInfo:_i,getPageInfoByObjId:za,getCurrentPageInfo:Vl,getPDFVersion:B,Point:tr,Rectangle:Rs,Matrix:St,hasHotfix:xi},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Ds(K)},set:function(w){ol(K,w)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return As(K)},set:function(w){xo(K,w)},enumerable:!0,configurable:!0}),(function(w){for(var M=0,ie=Tt.length;M<ie;M++){var he=vo.call(this,w[M][0],w[M][1],w[M][2],Tt[M][3],!0);S===!1&&(x[he]=!0);var ve=w[M][0].split("-");fi({id:he,fontName:ve[0],fontStyle:ve[1]||""})}on.publish("addFonts",{fonts:Nt,dictionary:jt})}).call(b,Tt),gt="F1",_s(a,t),on.publish("initialized"),b}mh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},mh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},mh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},mh.prototype.processOwnerPassword=function(n,e){return S0(A0(e).substr(0,5),n)},mh.prototype.encryptor=function(n,e){var t=A0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return S0(t,r)}},hm.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Qn(n)!==Qn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},xt.API={events:[]},xt.version="4.2.0";var Fi=xt.API,E2=1,Tc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},lh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},_c=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},nn=function(n){return n.toFixed(2)},gu=function(n){return n.toFixed(5)};Fi.__acroform__={};var $s=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Ib=function(n){return n*E2},Fo=function(n){var e=new pA,t=mt.internal.getHeight(n)||0,r=mt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(nn(r)),Number(nn(t))],e},X7=Fi.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},$7=Fi.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},J7=Fi.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Qi=Fi.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J7(n,e-1)},Xi=Fi.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return X7(n,e-1)},$i=Fi.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $7(n,e-1)},Z7=Fi.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=n[0],o=n[1],c=n[2],h=n[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=r(o+h)||0,f.upperRight_X=t(a+c)||0,f.upperRight_Y=r(o)||0,[Number(nn(f.lowerLeft_X)),Number(nn(f.lowerLeft_Y)),Number(nn(f.upperRight_X)),Number(nn(f.upperRight_Y))]},eL=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=E0(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+nn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Fo(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},E0=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(N){return N.split(`
`)}):a.map(function(N){return[N]});var o=t,c=mt.internal.getHeight(n)||0;c=c<0?-c:c;var h=mt.internal.getWidth(n)||0;h=h<0?-h:h;var f=function(N,O,I){if(N+1<a.length){var oe=O+" "+a[N+1][0];return xp(oe,n,I).width<=h-4}return!1};o++;e:for(;o>0;){e="",o--;var m,v,S=xp("3",n,o).height,x=n.multiline?c-o:(c-S)/2,b=x+=2,V=0,B=0,H=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+xp(e,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var U="",se=0,Z=0;Z<a.length;Z++)if(a.hasOwnProperty(Z)){var te=!1;if(a[Z].length!==1&&H!==a[Z].length-1){if((S+2)*(se+2)+2>c)continue e;U+=a[Z][H],te=!0,B=Z,Z--}else{U=(U+=a[Z][H]+" ").substr(U.length-1)==" "?U.substr(0,U.length-1):U;var be=parseInt(Z),Se=f(be,U,o),Y=Z>=a.length-1;if(Se&&!Y){U+=" ",H=0;continue}if(Se||Y){if(Y)B=be;else if(n.multiline&&(S+2)*(se+2)+2>c)continue e}else{if(!n.multiline||(S+2)*(se+2)+2>c)continue e;B=be}}for(var P="",R=V;R<=B;R++){var q=a[R];if(n.multiline){if(R===B){P+=q[H]+" ",H=(H+1)%q.length;continue}if(R===V){P+=q[q.length-1]+" ";continue}}P+=q[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,v=xp(P,n,o).width,n.textAlign){case"right":m=h-v-2;break;case"center":m=(h-v)/2;break;default:m=2}e+=nn(m)+" "+nn(b)+` Td
`,e+="("+Tc(P)+`) Tj
`,e+=-nn(m)+` 0 Td
`,b=-(o+2),v=0,V=te?B:B+1,se++,U=""}break}return r.text=e,r.fontSize=o,r},xp=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},tL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nL=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},iL=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(go.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(tL)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");E2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new mA,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&nL(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,a){var o=!r;for(var c in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(c)){var h=r[c],f=[],m=h.Rect;if(h.Rect&&(h.Rect=Z7(h.Rect,a)),a.internal.newObjectDeferredBegin(h.objId,!0),h.DA=mt.createDefaultAppearanceStream(h),Qn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=m,h.hasAppearanceStream&&!h.appearanceStreamContent){var v=eL(h);f.push({key:"AP",value:"<</N "+v+">>"}),a.internal.acroformPlugin.xForms.push(v)}if(h.appearanceStreamContent){var S="";for(var x in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(x)){var b=h.appearanceStreamContent[x];if(S+="/"+x+" ",S+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var c in b)if(b.hasOwnProperty(c)){var V=b[c];typeof V=="function"&&(V=V.call(a,h)),S+="/"+c+" "+V+" ",a.internal.acroformPlugin.xForms.indexOf(V)>=0||a.internal.acroformPlugin.xForms.push(V)}}else typeof(V=b)=="function"&&(V=V.call(a,h)),S+="/"+c+" "+V,a.internal.acroformPlugin.xForms.indexOf(V)>=0||a.internal.acroformPlugin.xForms.push(V);S+=">>"}f.push({key:"AP",value:`<<
`+S+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:h.objId}),a.internal.out("endobj")}o&&(function(B,H){for(var U in B)if(B.hasOwnProperty(U)){var se=U,Z=B[U];H.internal.newObjectDeferredBegin(Z.objId,!0),Qn(Z)==="object"&&typeof Z.putStream=="function"&&Z.putStream(),delete B[se]}})(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},dA=Fi.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(c){return c};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),Qn(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)==="/"?a+="/"+_c(n[o].substr(1)):(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),a+="("+Tc(r(n[o].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},U1=function(n,e,t){var r=function(a){return a};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Tc(r(n))+")"},qo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qo.prototype.toString=function(){return this.objId+" 0 R"},qo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},qo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:dA(a,this.objId,this.scope)}):a instanceof qo?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var pA=function(){qo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};$s(pA,qo);var mA=function(){qo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Tc(t(n))+")"}},set:function(t){n=t}})};$s(mA,qo);var go=function n(){qo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(U){if(isNaN(U))throw new Error('Invalid value "'+U+'" for attribute F supplied.');e=U}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qi(e,3)},set:function(U){U?this.F=Xi(e,3):this.F=$i(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(U){if(isNaN(U))throw new Error('Invalid value "'+U+'" for attribute Ff supplied.');t=U}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(U){r=U!==void 0?U:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(U){r[0]=U}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(U){r[1]=U}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(U){r[2]=U}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(U){r[3]=U}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(U){switch(U){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=U;break;default:throw new Error('Invalid value "'+U+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof fm)return;o="FieldObject"+n.FieldNum++}var U=function(se){return se};return this.scope&&(U=this.scope.internal.getEncryptor(this.objId)),"("+Tc(U(o))+")"},set:function(U){o=U.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(U){o=U}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(U){c=U}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(U){h=U}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(U){f=U}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/E2:m},set:function(U){m=U}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(U){v=U}});var S="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!S||this instanceof fm||this instanceof cc))return U1(S,this.objId,this.scope)},set:function(U){U=U.toString(),S=U}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Ur==0?U1(x,this.objId,this.scope):x},set:function(U){U=U.toString(),x=this instanceof Ur==0?U.substr(0,1)==="("?lh(U.substr(1,U.length-2)):lh(U):U}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ur==1?lh(x.substr(1,x.length-1)):x},set:function(U){U=U.toString(),x=this instanceof Ur==1?"/"+_c(U):U}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(U){this.V=U}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ur==0?U1(b,this.objId,this.scope):b},set:function(U){U=U.toString(),b=this instanceof Ur==0?U.substr(0,1)==="("?lh(U.substr(1,U.length-2)):lh(U):U}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ur==1?lh(b.substr(1,b.length-1)):b},set:function(U){U=U.toString(),b=this instanceof Ur==1?"/"+_c(U):U}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var V,B=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return B},set:function(U){U=!!U,B=U}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(V)return V},set:function(U){V=U}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,1)},set:function(U){U?this.Ff=Xi(this.Ff,1):this.Ff=$i(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,2)},set:function(U){U?this.Ff=Xi(this.Ff,2):this.Ff=$i(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,3)},set:function(U){U?this.Ff=Xi(this.Ff,3):this.Ff=$i(this.Ff,3)}});var H=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(H!==null)return H},set:function(U){if([0,1,2].indexOf(U)===-1)throw new Error('Invalid value "'+U+'" for attribute Q supplied.');H=U}}),Object.defineProperty(this,"textAlign",{get:function(){var U;switch(H){case 0:default:U="left";break;case 1:U="center";break;case 2:U="right"}return U},configurable:!0,enumerable:!0,set:function(U){switch(U){case"right":case 2:H=2;break;case"center":case 1:H=1;break;default:H=0}}})};$s(go,qo);var xh=function(){go.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return dA(e,this.objId,this.scope)},set:function(t){var r,a;a=[],typeof(r=t)=="string"&&(a=(function(o,c,h){h||(h=1);for(var f,m=[];f=c.exec(o);)m.push(f[h]);return m})(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,18)},set:function(t){t?this.Ff=Xi(this.Ff,18):this.Ff=$i(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Xi(this.Ff,19):this.Ff=$i(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,20)},set:function(t){t?(this.Ff=Xi(this.Ff,20),e.sort()):this.Ff=$i(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,22)},set:function(t){t?this.Ff=Xi(this.Ff,22):this.Ff=$i(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,23)},set:function(t){t?this.Ff=Xi(this.Ff,23):this.Ff=$i(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,27)},set:function(t){t?this.Ff=Xi(this.Ff,27):this.Ff=$i(this.Ff,27)}}),this.hasAppearanceStream=!1};$s(xh,go);var Th=function(){xh.call(this),this.fontName="helvetica",this.combo=!1};$s(Th,xh);var Nh=function(){Th.call(this),this.combo=!0};$s(Nh,Th);var Up=function(){Nh.call(this),this.edit=!0};$s(Up,Nh);var Ur=function(){go.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,15)},set:function(t){t?this.Ff=Xi(this.Ff,15):this.Ff=$i(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,16)},set:function(t){t?this.Ff=Xi(this.Ff,16):this.Ff=$i(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,17)},set:function(t){t?this.Ff=Xi(this.Ff,17):this.Ff=$i(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,26)},set:function(t){t?this.Ff=Xi(this.Ff,26):this.Ff=$i(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+Tc(t(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Qn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){var r=t==null?"":t.toString();r.substr(0,1)==="/"&&(r=r.substr(1)),n="/"+_c(r)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+_c(t)}})};$s(Ur,go);var Vp=function(){Ur.call(this),this.pushButton=!0};$s(Vp,Ur);var Ch=function(){Ur.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};$s(Ch,Ur);var fm=function(){var n,e;go.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(h){return h};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),r)c.push("/"+o+" ("+Tc(a(r[o]))+")");return c.push(">>"),c.join(`
`)},set:function(a){Qn(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){var o=a==null?"":a.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),t="/"+_c(o)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){var o=a==null?"":a.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),t="/"+_c(o)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$s(fm,go),Ch.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Ch.prototype.createOption=function(n){var e=new fm;return e.Parent=this,e.optionName=n,this.Kids.push(e),rL.call(this.scope,e),e};var Bp=function(){Ur.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};$s(Bp,Ur);var cc=function(){go.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,13)},set:function(e){e?this.Ff=Xi(this.Ff,13):this.Ff=$i(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,21)},set:function(e){e?this.Ff=Xi(this.Ff,21):this.Ff=$i(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,23)},set:function(e){e?this.Ff=Xi(this.Ff,23):this.Ff=$i(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,24)},set:function(e){e?this.Ff=Xi(this.Ff,24):this.Ff=$i(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,25)},set:function(e){e?this.Ff=Xi(this.Ff,25):this.Ff=$i(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,26)},set:function(e){e?this.Ff=Xi(this.Ff,26):this.Ff=$i(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$s(cc,go);var Fp=function(){cc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,14)},set:function(n){n?this.Ff=Xi(this.Ff,14):this.Ff=$i(this.Ff,14)}}),this.password=!0};$s(Fp,cc);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Fo(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=E0(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+nn(mt.internal.getWidth(n))+" "+nn(mt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+nn(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Fo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],o=mt.internal.getHeight(n),c=mt.internal.getWidth(n),h=E0(n,n.caption);return a.push("1 g"),a.push("0 0 "+nn(c)+" "+nn(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+nn(c-1)+" "+nn(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+nn(h.fontSize)+" Tf "+r),a.push(h.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=Fo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+nn(mt.internal.getWidth(n))+" "+nn(mt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=mt.RadioButton.Circle.YesNormal,e.D[n]=mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Fo(n);e.scope=n.scope;var t=[],r=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=mt.internal.Bezier_C,o=Number((r*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+gu(mt.internal.getWidth(n)/2)+" "+gu(mt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Fo(n);e.scope=n.scope;var t=[],r=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*mt.internal.Bezier_C).toFixed(5)),c=Number((r*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+gu(mt.internal.getWidth(n)/2)+" "+gu(mt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+gu(mt.internal.getWidth(n)/2)+" "+gu(mt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),t.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),t.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),t.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Fo(n);e.scope=n.scope;var t=[],r=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+gu(mt.internal.getWidth(n)/2)+" "+gu(mt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=mt.RadioButton.Cross.YesNormal,e.D[n]=mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Fo(n);e.scope=n.scope;var t=[],r=mt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+nn(mt.internal.getWidth(n)-2)+" "+nn(mt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(nn(r.x1.x)+" "+nn(r.x1.y)+" m"),t.push(nn(r.x2.x)+" "+nn(r.x2.y)+" l"),t.push(nn(r.x4.x)+" "+nn(r.x4.y)+" m"),t.push(nn(r.x3.x)+" "+nn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Fo(n);e.scope=n.scope;var t=mt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+nn(mt.internal.getWidth(n))+" "+nn(mt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+nn(mt.internal.getWidth(n)-2)+" "+nn(mt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(nn(t.x1.x)+" "+nn(t.x1.y)+" m"),r.push(nn(t.x2.x)+" "+nn(t.x2.y)+" l"),r.push(nn(t.x4.x)+" "+nn(t.x4.y)+" m"),r.push(nn(t.x3.x)+" "+nn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Fo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+nn(mt.internal.getWidth(n))+" "+nn(mt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};mt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=mt.internal.getWidth(n),t=mt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},mt.internal.getWidth=function(n){var e=0;return Qn(n)==="object"&&(e=Ib(n.Rect[2])),e},mt.internal.getHeight=function(n){var e=0;return Qn(n)==="object"&&(e=Ib(n.Rect[3])),e};var rL=Fi.addField=function(n){if(iL(this,n),!(n instanceof go))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Fi.AcroFormChoiceField=xh,Fi.AcroFormListBox=Th,Fi.AcroFormComboBox=Nh,Fi.AcroFormEditBox=Up,Fi.AcroFormButton=Ur,Fi.AcroFormPushButton=Vp,Fi.AcroFormRadioButton=Ch,Fi.AcroFormCheckBox=Bp,Fi.AcroFormTextField=cc,Fi.AcroFormPasswordField=Fp,Fi.AcroFormAppearance=mt,Fi.AcroForm={ChoiceField:xh,ListBox:Th,ComboBox:Nh,EditBox:Up,Button:Ur,PushButton:Vp,RadioButton:Ch,CheckBox:Bp,TextField:cc,PasswordField:Fp,Appearance:mt},xt.AcroForm={ChoiceField:xh,ListBox:Th,ComboBox:Nh,EditBox:Up,Button:Ur,PushButton:Vp,RadioButton:Ch,CheckBox:Bp,TextField:cc,PasswordField:Fp,Appearance:mt};xt.AcroForm;function gA(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(N,O){var I,oe,xe,ae,pe,fe=t;if((O=O||t)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(Se(N))for(pe in r)for(xe=r[pe],I=0;I<xe.length;I+=1){for(ae=!0,oe=0;oe<xe[I].length;oe+=1)if(xe[I][oe]!==void 0&&xe[I][oe]!==N[oe]){ae=!1;break}if(ae===!0){fe=pe;break}}else for(pe in r)for(xe=r[pe],I=0;I<xe.length;I+=1){for(ae=!0,oe=0;oe<xe[I].length;oe+=1)if(xe[I][oe]!==void 0&&xe[I][oe]!==N.charCodeAt(oe)){ae=!1;break}if(ae===!0){fe=pe;break}}return fe===t&&O!==t&&(fe=O),fe},o=function N(O){for(var I=this.internal.write,oe=this.internal.putStream,xe=(0,this.internal.getFilters)();xe.indexOf("FlateEncode")!==-1;)xe.splice(xe.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:O.width}),ae.push({key:"Height",value:O.height}),O.colorSpace===U.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===U.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var pe="",fe=0,Ie=O.transparency.length;fe<Ie;fe++)pe+=O.transparency[fe]+" "+O.transparency[fe]+" ";ae.push({key:"Mask",value:"["+pe+"]"})}O.sMask!==void 0&&ae.push({key:"SMask",value:O.objectId+1+" 0 R"});var He=O.filter!==void 0?["/"+O.filter]:void 0;if(oe({data:O.data,additionalKeyValues:ae,alreadyAppliedFilters:He,objectId:O.objectId}),I("endobj"),"sMask"in O&&O.sMask!==void 0){var $,k=($=O.sMaskBitsPerComponent)!==null&&$!==void 0?$:O.bitsPerComponent,K={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:O.sMask};"filter"in O&&(K.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(O.width),K.filter=O.filter),N.call(this,K)}if(O.colorSpace===U.INDEXED){var J=this.internal.newObject();oe({data:P(new Uint8Array(O.palette)),objectId:J}),I("endobj")}},c=function(){var N=this.internal.collections[e+"images"];for(var O in N)o.call(this,N[O])},h=function(){var N,O=this.internal.collections[e+"images"],I=this.internal.write;for(var oe in O)I("/I"+(N=O[oe]).index,N.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",h))},m=function(){var N=this.internal.collections[e+"images"];return f.call(this),N},v=function(){return Object.keys(this.internal.collections[e+"images"]).length},S=function(N){return typeof n["process"+N.toUpperCase()]=="function"},x=function(N){return Qn(N)==="object"&&N.nodeType===1},b=function(N,O){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var I=""+N.getAttribute("src");if(I.indexOf("data:image/")===0)return jp(unescape(I).split("base64,").pop());var oe=n.loadFile(I,!0);if(oe!==void 0)return oe}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var xe;switch(O){case"PNG":xe="image/png";break;case"WEBP":xe="image/webp";break;default:xe="image/jpeg"}return jp(N.toDataURL(xe,1).split("base64,").pop())}},V=function(N){var O=this.internal.collections[e+"images"];if(O){for(var I in O)if(N===O[I].alias)return O[I]}},B=function(N,O,I){return N||O||(N=-96,O=-96),N<0&&(N=-1*I.width*72/N/this.internal.scaleFactor),O<0&&(O=-1*I.height*72/O/this.internal.scaleFactor),N===0&&(N=O*I.width/I.height),O===0&&(O=N*I.height/I.width),[N,O]},H=function(N,O,I,oe,xe,ae){var pe=B.call(this,I,oe,xe),fe=this.internal.getCoordinateString,Ie=this.internal.getVerticalCoordinateString,He=m.call(this);if(I=pe[0],oe=pe[1],He[xe.index]=xe,ae){ae*=Math.PI/180;var $=Math.cos(ae),k=Math.sin(ae),K=function(le){return le.toFixed(4)},J=[K($),K(k),K(-1*k),K($),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,fe(N),Ie(O+oe),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([fe(I),"0","0",fe(oe),"0","0","cm"].join(" "))):this.internal.write([fe(I),"0","0",fe(oe),fe(N),Ie(O+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xe.index+" Do"),this.internal.write("Q")},U=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var se=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Z=n.__addimage__.sHashCode=function(N){var O,I,oe=0;if(typeof N=="string")for(I=N.length,O=0;O<I;O++)oe=(oe<<5)-oe+N.charCodeAt(O),oe|=0;else if(Se(N))for(I=N.byteLength/2,O=0;O<I;O++)oe=(oe<<5)-oe+N[O],oe|=0;return oe},te=n.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var O=!0;return N.length===0&&(O=!1),N.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(O=!1),O},be=n.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var O=N.indexOf(",");return O<0?null:N.substring(0,O).trim().endsWith("base64")?N.substring(O+1):null};n.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var Se=n.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},Y=n.__addimage__.binaryStringToUint8Array=function(N){for(var O=N.length,I=new Uint8Array(O),oe=0;oe<O;oe++)I[oe]=N.charCodeAt(oe);return I},P=n.__addimage__.arrayBufferToBinaryString=function(N){for(var O="",I=Se(N)?N:new Uint8Array(N),oe=0;oe<I.length;oe+=8192)O+=String.fromCharCode.apply(null,I.subarray(oe,oe+8192));return O};n.addImage=function(){var N,O,I,oe,xe,ae,pe,fe,Ie;if(typeof arguments[1]=="number"?(O=t,I=arguments[1],oe=arguments[2],xe=arguments[3],ae=arguments[4],pe=arguments[5],fe=arguments[6],Ie=arguments[7]):(O=arguments[1],I=arguments[2],oe=arguments[3],xe=arguments[4],ae=arguments[5],pe=arguments[6],fe=arguments[7],Ie=arguments[8]),Qn(N=arguments[0])==="object"&&!x(N)&&"imageData"in N){var He=N;N=He.imageData,O=He.format||O||t,I=He.x||I||0,oe=He.y||oe||0,xe=He.w||He.width||xe,ae=He.h||He.height||ae,pe=He.alias||pe,fe=He.compression||fe,Ie=He.rotation||He.angle||Ie}var $=this.internal.getFilters();if(fe===void 0&&$.indexOf("FlateEncode")!==-1&&(fe="SLOW"),isNaN(I)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var k=R.call(this,N,O,pe,fe);return H.call(this,I,oe,xe,ae,k,Ie),this};var R=function(N,O,I,oe){var xe,ae,pe;if(typeof N=="string"&&a(N)===t){N=unescape(N);var fe=q(N,!1);(fe!==""||(fe=n.loadFile(N,!0))!==void 0)&&(N=fe)}if(x(N)&&(N=b(N,O)),O=a(N,O),!S(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((pe=I)==null||pe.length===0)&&(I=(function(Ie){return typeof Ie=="string"||Se(Ie)?Z(Ie):Se(Ie.data)?Z(Ie.data):null})(N)),(xe=V.call(this,I))||(N instanceof Uint8Array||O==="RGBA"||(ae=N,N=Y(N)),xe=this["process"+O.toUpperCase()](N,v.call(this),I,(function(Ie){return Ie&&typeof Ie=="string"&&(Ie=Ie.toUpperCase()),Ie in n.image_compression?Ie:se.NONE})(oe),ae)),!xe)throw new Error("An unknown error occurred whilst processing the image.");return xe},q=n.__addimage__.convertBase64ToBinaryString=function(N,O){O=typeof O!="boolean"||O;var I,oe="";if(typeof N=="string"){var xe;I=(xe=be(N))!==null&&xe!==void 0?xe:N;try{oe=jp(I)}catch(ae){if(O)throw te(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};n.getImageProperties=function(N){var O,I,oe="";if(x(N)&&(N=b(N)),typeof N=="string"&&a(N)===t&&((oe=q(N,!1))===""&&(oe=n.loadFile(N)||""),N=oe),I=a(N),!S(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(N instanceof Uint8Array||(N=Y(N)),!(O=this["process"+I.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=I,O}})(xt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};xt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,a,o,c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),m=t.pageContext.annotations,v=!1,S=0;S<m.length&&!v;S++)switch((r=m[S]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var x=0;x<m.length;x++){r=m[x];var b=this.internal.pdfEscape,V=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var B=this.internal.newAdditionalObject(),H=this.internal.newAdditionalObject(),U=this.internal.getEncryptor(B.objId),se=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(r.bounds.x)+" "+h(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y)+"] ")+"/Contents ("+b(U(r.contents))+")",o+=" /Popup "+H.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+b(U(se))+") >>",B.content=o;var Z=B.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(r.bounds.x+30)+" "+h(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w+30)+" "+h(r.bounds.y)+"] ")+" /Parent "+Z,r.open&&(o+=" /Open true"),o+=" >>",H.content=o,this.internal.write(B.objId,"0 R",H.objId,"0 R");break;case"freetext":a="/Rect ["+c(r.bounds.x)+" "+h(r.bounds.y)+" "+c(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y+r.bounds.h)+"] ";var te=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+b(V(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+te+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var be=this.annotations._nameMap[r.options.name];r.options.pageNumber=be.page,r.options.top=be.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+b(V(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var Se=h(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Se+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,a,o,c){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(t),y:m(r),w:f(t+a),h:m(r+o)},options:c,type:"link"})},n.textWithLink=function(t,r,a,o){var c,h,f=this.getTextWidth(t),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var v=this.splitTextToSize(t,h).length;c=Math.ceil(m*v)}else h=f,c=m;return this.text(t,r,a,o),a+=.2*m,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,a-m,h,c,o),f},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(xt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(B){return e[B.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(B){return typeof B=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(B)},h=n.__arabicParser__.isArabicEndLetter=function(B){return c(B)&&o(B)&&e[B.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(B){return c(B)&&a.indexOf(B.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(B){return c(B)&&o(B)&&e[B.charCodeAt(0)].length>=1};var m=n.__arabicParser__.arabicLetterHasFinalForm=function(B){return c(B)&&o(B)&&e[B.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(B){return c(B)&&o(B)&&e[B.charCodeAt(0)].length>=3};var v=n.__arabicParser__.arabicLetterHasMedialForm=function(B){return c(B)&&o(B)&&e[B.charCodeAt(0)].length==4},S=n.__arabicParser__.resolveLigatures=function(B){var H=0,U=t,se="",Z=0;for(H=0;H<B.length;H+=1)U[B.charCodeAt(H)]!==void 0?(Z++,typeof(U=U[B.charCodeAt(H)])=="number"&&(se+=String.fromCharCode(U),U=t,Z=0),H===B.length-1&&(U=t,se+=B.charAt(H-(Z-1)),H-=Z-1,Z=0)):(U=t,se+=B.charAt(H-Z),H-=Z,Z=0);return se};n.__arabicParser__.isArabicDiacritic=function(B){return B!==void 0&&r[B.charCodeAt(0)]!==void 0};var x=n.__arabicParser__.getCorrectForm=function(B,H,U){return c(B)?o(B)===!1?-1:!m(B)||!c(H)&&!c(U)||!c(U)&&h(H)||h(B)&&!c(H)||h(B)&&f(H)||h(B)&&h(H)?0:v(B)&&c(H)&&!h(H)&&c(U)&&m(U)?3:h(B)||!c(U)?1:2:-1},b=function(B){var H=0,U=0,se=0,Z="",te="",be="",Se=(B=B||"").split("\\s+"),Y=[];for(H=0;H<Se.length;H+=1){for(Y.push(""),U=0;U<Se[H].length;U+=1)Z=Se[H][U],te=Se[H][U-1],be=Se[H][U+1],c(Z)?(se=x(Z,te,be),Y[H]+=se!==-1?String.fromCharCode(e[Z.charCodeAt(0)][se]):Z):Y[H]+=Z;Y[H]=S(Y[H])}return Y.join(" ")},V=n.__arabicParser__.processArabic=n.processArabic=function(){var B,H=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,U=[];if(Array.isArray(H)){var se=0;for(U=[],se=0;se<H.length;se+=1)Array.isArray(H[se])?U.push([b(H[se][0]),H[se][1],H[se][2]]):U.push([b(H[se])]);B=U}else B=b(H);return typeof arguments[0]=="string"?B:(arguments[0].text=B,arguments[0])};n.events.push(["preProcessText",V])})(xt.API),xt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(h){t=h}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(h){r=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var a;if((t=t||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(xt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(B){f=B}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(B){m=B}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(B){v=B}});var S=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return S},set:function(B){S=B}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(B){x=B}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(B){b=B}});var V=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return V},set:function(B){V=B}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,m){r.call(this);var v=(m=m||{}).fontSize||this.getFontSize(),S=m.font||this.getFont(),x=m.scaleFactor||this.internal.scaleFactor,b=0,V=0,B=0,H=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var U=m.maxWidth;U>0?typeof f=="string"?f=this.splitTextToSize(f,U):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(Z,te){return Z.concat(H.splitTextToSize(te,U))},[])):f=Array.isArray(f)?f:[f];for(var se=0;se<f.length;se++)b<(B=this.getStringUnitWidth(f[se],{font:S})*v)&&(b=B);return b!==0&&(V=f.length),{w:b/=x,h:Math.max((V*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/x,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var m=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,S=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===f.lineNumber?(f.x=(m.x||0)+(m.width||0),f.y=m.y||0):m.y+m.height+f.height+S.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=S.top,b&&x&&(this.printHeaderRow(f.lineNumber,!0),f.y+=x[0].height)):f.y=m.y+m.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-v,f.y+v,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+v,{align:"center",baseline:"top",maxWidth:f.width-v-v}):this.text(f.text,f.x+v,f.y+v,{align:"left",baseline:"top",maxWidth:f.width-v-v})),this.internal.__cell__.lastCell=f,this};n.table=function(f,m,v,S,x){if(r.call(this),!v)throw new Error("No data for PDF table.");var b,V,B,H,U=[],se=[],Z=[],te={},be={},Se=[],Y=[],P=(x=x||{}).autoSize||!1,R=x.printHeaders!==!1,q=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,N=x.margins||Object.assign({width:this.getPageWidth()},e),O=typeof x.padding=="number"?x.padding:3,I=x.headerBackgroundColor||"#c8c8c8",oe=x.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=oe,this.setFontSize(q),S==null)se=U=Object.keys(v[0]),Z=U.map(function(){return"left"});else if(Array.isArray(S)&&Qn(S[0])==="object")for(U=S.map(function(He){return He.name}),se=S.map(function(He){return He.prompt||He.name||""}),Z=S.map(function(He){return He.align||"left"}),b=0;b<S.length;b+=1)be[S[b].name]=.7499990551181103*S[b].width;else Array.isArray(S)&&typeof S[0]=="string"&&(se=U=S,Z=U.map(function(){return"left"}));if(P||Array.isArray(S)&&typeof S[0]=="string")for(b=0;b<U.length;b+=1){for(te[H=U[b]]=v.map(function(He){return He[H]}),this.setFont(void 0,"bold"),Se.push(this.getTextDimensions(se[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),V=te[H],this.setFont(void 0,"normal"),B=0;B<V.length;B+=1)Se.push(this.getTextDimensions(V[B],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);be[H]=Math.max.apply(null,Se)+O+O,Se=[]}if(R){var xe={};for(b=0;b<U.length;b+=1)xe[U[b]]={},xe[U[b]].text=se[b],xe[U[b]].align=Z[b];var ae=h.call(this,xe,be);Y=U.map(function(He){return new o(f,m,be[He],ae,xe[He].text,void 0,xe[He].align)}),this.setTableHeaderRow(Y),this.printHeaderRow(1,!1)}var pe=S.reduce(function(He,$){return He[$.name]=$.align,He},{});for(b=0;b<v.length;b+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:b,data:v[b]},this);var fe=h.call(this,v[b],be);for(B=0;B<U.length;B+=1){var Ie=v[b][U[B]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:b,col:B,data:Ie},this),c.call(this,new o(f,m,be[U[B]],fe,Ie,b+2,pe[U[B]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=m,this};var h=function(f,m){var v=this.internal.__cell__.padding,S=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(f).map(function(b){var V=f[b];return this.splitTextToSize(V.hasOwnProperty("text")?V.text:V,m[b]-v-v)},this).map(function(b){return this.getLineHeightFactor()*b.length*S/x+v+v},this).reduce(function(b,V){return Math.max(b,V)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,m){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var S=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(S[0],S[1],S[2],S[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){v=this.internal.__cell__.tableHeaderRow[b].clone(),m&&(v.y=this.internal.__cell__.margins.top||0,x.push(v)),v.lineNumber=f;var V=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,v),this.setTextColor(V)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),t=!1}})(xt.API);var yA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],x0=gA(vA),_A=[100,200,300,400,500,600,700,800,900],sL=gA(_A);function V1(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return yA[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof x0[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,r].join(" ")}}}function Rb(n,e,t,r){var a;for(a=t;a>=0&&a<e.length;a+=r)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=r)if(n[e[a]])return n[e[a]]}var aL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Lb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function kb(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Db(n){return n.trimLeft()}function oL(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function lL(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var uh,Tp,Ob,Pb,Mb,B1=["times"];function jb(n,e,t,r,a){var o=4,c=Vb;switch(a){case xt.API.image_compression.FAST:o=1,c=Ub;break;case xt.API.image_compression.MEDIUM:o=6,c=Bb;break;case xt.API.image_compression.SLOW:o=9,c=Fb}n=(function(f,m,v,S){for(var x,b=f.length/m,V=new Uint8Array(f.length+b),B=[uL,Ub,Vb,Bb,Fb],H=0;H<b;H+=1){var U=H*m,se=f.subarray(U,U+m);if(S)V.set(S(se,v,x),U+H);else{for(var Z=B.length,te=[],be=0;be<Z;be+=1)te[be]=B[be](se,v,x);var Se=hL(te.concat());V.set(te[Se],U+H)}x=se}return V})(n,e,Math.ceil(t*r/8),c);var h=v0(n,{level:o});return xt.API.__addimage__.arrayBufferToBinaryString(h)}function uL(n){var e=Array.apply([],n);return e.unshift(0),e}function Ub(n,e){var t=n.length,r=[];r[0]=1;for(var a=0;a<t;a+=1){var o=n[a-e]||0;r[a+1]=n[a]-o+256&255}return r}function Vb(n,e,t){var r=n.length,a=[];a[0]=2;for(var o=0;o<r;o+=1){var c=t&&t[o]||0;a[o+1]=n[o]-c+256&255}return a}function Bb(n,e,t){var r=n.length,a=[];a[0]=3;for(var o=0;o<r;o+=1){var c=n[o-e]||0,h=t&&t[o]||0;a[o+1]=n[o]+256-(c+h>>>1)&255}return a}function Fb(n,e,t){var r=n.length,a=[];a[0]=4;for(var o=0;o<r;o+=1){var c=cL(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=n[o]-c+256&255}return a}function cL(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),a=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=a&&r<=o?n:a<=o?e:t}function hL(n){var e=n.map(function(t){return t.reduce(function(r,a){return r+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function F1(n,e,t){var r=e*t,a=Math.floor(r/8),o=16-(r-8*a+t),c=(1<<t)-1;return bA(n,a)>>o&c}function zb(n,e,t,r){var a=t*r,o=Math.floor(a/8),c=16-(a-8*o+r),h=(1<<r)-1,f=(e&h)<<c;(function(m,v,S){if(v+1<m.byteLength)m.setUint16(v,S,!1);else{var x=S>>8&255;m.setUint8(v,x)}})(n,o,bA(n,o)&~(h<<c)&65535|f)}function bA(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function fL(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,a=n[e++],o=a>>7,c=1<<1+(7&a);n[e++],n[e++];var h=null,f=null;o&&(h=e,f=c,e+=3*c);var m=!0,v=[],S=0,x=null,b=0,V=null;for(this.width=t,this.height=r;m&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,V=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var B=n[e++];S=n[e++]|n[e++]<<8,x=n[e++],1&B||(x=null),b=B>>2&7,e++;break;case 254:for(;;){if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var H=n[e++]|n[e++]<<8,U=n[e++]|n[e++]<<8,se=n[e++]|n[e++]<<8,Z=n[e++]|n[e++]<<8,te=n[e++],be=te>>6&1,Se=1<<1+(7&te),Y=h,P=f,R=!1;te>>7&&(R=!0,Y=e,P=Se,e+=3*Se);var q=e;for(e++;;){var N;if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}v.push({x:H,y:U,width:se,height:Z,has_local_palette:R,palette_offset:Y,palette_size:P,data_offset:q,data_length:e-q,transparent_index:x,interlaced:!!be,delay:S,disposal:b});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return V},this.frameInfo=function(O){if(O<0||O>=v.length)throw new Error("Frame index out of range.");return v[O]},this.decodeAndBlitFrameBGRA=function(O,I){var oe=this.frameInfo(O),xe=oe.width*oe.height;if(xe>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ae=new Uint8Array(xe);qb(n,oe.data_offset,ae,xe);var pe=oe.palette_offset,fe=oe.transparent_index;fe===null&&(fe=256);var Ie=oe.width,He=t-Ie,$=Ie,k=4*(oe.y*t+oe.x),K=4*((oe.y+oe.height)*t+oe.x),J=k,le=4*He;oe.interlaced===!0&&(le+=4*t*7);for(var ce=8,ge=0,ke=ae.length;ge<ke;++ge){var Re=ae[ge];if($===0&&($=Ie,(J+=le)>=K&&(le=4*He+4*t*(ce-1),J=k+(Ie+He)*(ce<<1),ce>>=1)),Re===fe)J+=4;else{var Ve=n[pe+3*Re],Xe=n[pe+3*Re+1],nt=n[pe+3*Re+2];I[J++]=nt,I[J++]=Xe,I[J++]=Ve,I[J++]=255}--$}},this.decodeAndBlitFrameRGBA=function(O,I){var oe=this.frameInfo(O),xe=oe.width*oe.height;if(xe>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ae=new Uint8Array(xe);qb(n,oe.data_offset,ae,xe);var pe=oe.palette_offset,fe=oe.transparent_index;fe===null&&(fe=256);var Ie=oe.width,He=t-Ie,$=Ie,k=4*(oe.y*t+oe.x),K=4*((oe.y+oe.height)*t+oe.x),J=k,le=4*He;oe.interlaced===!0&&(le+=4*t*7);for(var ce=8,ge=0,ke=ae.length;ge<ke;++ge){var Re=ae[ge];if($===0&&($=Ie,(J+=le)>=K&&(le=4*He+4*t*(ce-1),J=k+(Ie+He)*(ce<<1),ce>>=1)),Re===fe)J+=4;else{var Ve=n[pe+3*Re],Xe=n[pe+3*Re+1],nt=n[pe+3*Re+2];I[J++]=Ve,I[J++]=Xe,I[J++]=nt,I[J++]=255}--$}}}function qb(n,e,t,r){for(var a=n[e++],o=1<<a,c=o+1,h=c+1,f=a+1,m=(1<<f)-1,v=0,S=0,x=0,b=n[e++],V=new Int32Array(4096),B=null;;){for(;v<16&&b!==0;)S|=n[e++]<<v,v+=8,b===1?b=n[e++]:--b;if(v<f)break;var H=S&m;if(S>>=f,v-=f,H!==o){if(H===c)break;for(var U=H<h?H:B,se=0,Z=U;Z>o;)Z=V[Z]>>8,++se;var te=Z;if(x+se+(U!==H?1:0)>r)return void li.log("Warning, gif stream longer than expected.");t[x++]=te;var be=x+=se;for(U!==H&&(t[x++]=te),Z=U;se--;)Z=V[Z],t[--be]=255&Z,Z>>=8;B!==null&&h<4096&&(V[h++]=B<<8|te,h>=m+1&&f<12&&(++f,m=m<<1|1)),B=H}else h=c+1,m=(1<<(f=a+1))-1,B=null}return x!==r&&li.log("Warning, gif stream shorter than expected."),t}function z1(n){var e,t,r,a,o,c=Math.floor,h=new Array(64),f=new Array(64),m=new Array(64),v=new Array(64),S=new Array(65535),x=new Array(65535),b=new Array(64),V=new Array(64),B=[],H=0,U=7,se=new Array(64),Z=new Array(64),te=new Array(64),be=new Array(256),Se=new Array(2048),Y=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(k,K){for(var J=0,le=0,ce=new Array,ge=1;ge<=16;ge++){for(var ke=1;ke<=k[ge];ke++)ce[K[le]]=[],ce[K[le]][0]=J,ce[K[le]][1]=ge,le++,J++;J*=2}return ce}function pe(k){for(var K=k[0],J=k[1]-1;J>=0;)K&1<<J&&(H|=1<<U),J--,--U<0&&(H==255?(fe(255),fe(0)):fe(H),U=7,H=0)}function fe(k){B.push(k)}function Ie(k){fe(k>>8&255),fe(255&k)}function He(k,K,J,le,ce){for(var ge,ke=ce[0],Re=ce[240],Ve=(function(Fe,st){var rt,Ct,bt,Wt,Zt,Bt,an,Xt,gt,Ht,yt=0;for(gt=0;gt<8;++gt){rt=Fe[yt],Ct=Fe[yt+1],bt=Fe[yt+2],Wt=Fe[yt+3],Zt=Fe[yt+4],Bt=Fe[yt+5],an=Fe[yt+6];var ui=rt+(Xt=Fe[yt+7]),$t=rt-Xt,Nt=Ct+an,jt=Ct-an,Qt=bt+Bt,At=bt-Bt,In=Wt+Zt,Pt=Wt-Zt,Mt=ui+In,kn=ui-In,wt=Nt+Qt,vt=Nt-Qt;Fe[yt]=Mt+wt,Fe[yt+4]=Mt-wt;var on=.707106781*(vt+kn);Fe[yt+2]=kn+on,Fe[yt+6]=kn-on;var ur=.382683433*((Mt=Pt+At)-(vt=jt+$t)),Ji=.5411961*Mt+ur,Cs=1.306562965*vt+ur,qi=.707106781*(wt=At+jt),St=$t+qi,Js=$t-qi;Fe[yt+5]=Js+Ji,Fe[yt+3]=Js-Ji,Fe[yt+1]=St+Cs,Fe[yt+7]=St-Cs,yt+=8}for(yt=0,gt=0;gt<8;++gt){rt=Fe[yt],Ct=Fe[yt+8],bt=Fe[yt+16],Wt=Fe[yt+24],Zt=Fe[yt+32],Bt=Fe[yt+40],an=Fe[yt+48];var Fr=rt+(Xt=Fe[yt+56]),Er=rt-Xt,xr=Ct+an,Fn=Ct-an,Xn=bt+Bt,ki=bt-Bt,cr=Wt+Zt,Zi=Wt-Zt,Dn=Fr+cr,Hn=Fr-cr,Di=xr+Xn,Tr=xr-Xn;Fe[yt]=Dn+Di,Fe[yt+32]=Dn-Di;var ns=.707106781*(Tr+Hn);Fe[yt+16]=Hn+ns,Fe[yt+48]=Hn-ns;var va=.382683433*((Dn=Zi+ki)-(Tr=Fn+Er)),vs=.5411961*Dn+va,Nr=1.306562965*Tr+va,Zs=.707106781*(Di=ki+Fn),zr=Er+Zs,hr=Er-Zs;Fe[yt+40]=hr+vs,Fe[yt+24]=hr-vs,Fe[yt+8]=zr+Nr,Fe[yt+56]=zr-Nr,yt++}for(gt=0;gt<64;++gt)Ht=Fe[gt]*st[gt],b[gt]=Ht>0?Ht+.5|0:Ht-.5|0;return b})(k,K),Xe=0;Xe<64;++Xe)V[Y[Xe]]=Ve[Xe];var nt=V[0]-J;J=V[0],nt==0?pe(le[0]):(pe(le[x[ge=32767+nt]]),pe(S[ge]));for(var tt=63;tt>0&&V[tt]==0;)tt--;if(tt==0)return pe(ke),J;for(var ct,ee=1;ee<=tt;){for(var et=ee;V[ee]==0&&ee<=tt;)++ee;var Kt=ee-et;if(Kt>=16){ct=Kt>>4;for(var Tt=1;Tt<=ct;++Tt)pe(Re);Kt&=15}ge=32767+V[ee],pe(ce[(Kt<<4)+x[ge]]),pe(S[ge]),ee++}return tt!=63&&pe(ke),J}function $(k){k=Math.min(Math.max(k,1),100),o!=k&&((function(K){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var ce=c((J[le]*K+50)/100);ce=Math.min(Math.max(ce,1),255),h[Y[le]]=ce}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var Re=c((ge[ke]*K+50)/100);Re=Math.min(Math.max(Re,1),255),f[Y[ke]]=Re}for(var Ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xe=0,nt=0;nt<8;nt++)for(var tt=0;tt<8;tt++)m[Xe]=1/(h[Y[Xe]]*Ve[nt]*Ve[tt]*8),v[Xe]=1/(f[Y[Xe]]*Ve[nt]*Ve[tt]*8),Xe++})(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),o=k)}this.encode=function(k,K){K&&$(K),B=new Array,H=0,U=7,Ie(65496),Ie(65504),Ie(16),fe(74),fe(70),fe(73),fe(70),fe(0),fe(1),fe(1),fe(0),Ie(1),Ie(1),fe(0),fe(0),(function(){Ie(65499),Ie(132),fe(0);for(var Ct=0;Ct<64;Ct++)fe(h[Ct]);fe(1);for(var bt=0;bt<64;bt++)fe(f[bt])})(),(function(Ct,bt){Ie(65472),Ie(17),fe(8),Ie(bt),Ie(Ct),fe(3),fe(1),fe(17),fe(0),fe(2),fe(17),fe(1),fe(3),fe(17),fe(1)})(k.width,k.height),(function(){Ie(65476),Ie(418),fe(0);for(var Ct=0;Ct<16;Ct++)fe(P[Ct+1]);for(var bt=0;bt<=11;bt++)fe(R[bt]);fe(16);for(var Wt=0;Wt<16;Wt++)fe(q[Wt+1]);for(var Zt=0;Zt<=161;Zt++)fe(N[Zt]);fe(1);for(var Bt=0;Bt<16;Bt++)fe(O[Bt+1]);for(var an=0;an<=11;an++)fe(I[an]);fe(17);for(var Xt=0;Xt<16;Xt++)fe(oe[Xt+1]);for(var gt=0;gt<=161;gt++)fe(xe[gt])})(),Ie(65498),Ie(12),fe(3),fe(1),fe(0),fe(2),fe(17),fe(3),fe(17),fe(0),fe(63),fe(0);var J=0,le=0,ce=0;H=0,U=7,this.encode.displayName="_encode_";for(var ge,ke,Re,Ve,Xe,nt,tt,ct,ee,et=k.data,Kt=k.width,Tt=k.height,Fe=4*Kt,st=0;st<Tt;){for(ge=0;ge<Fe;){for(Xe=Fe*st+ge,tt=-1,ct=0,ee=0;ee<64;ee++)nt=Xe+(ct=ee>>3)*Fe+(tt=4*(7&ee)),st+ct>=Tt&&(nt-=Fe*(st+1+ct-Tt)),ge+tt>=Fe&&(nt-=ge+tt-Fe+4),ke=et[nt++],Re=et[nt++],Ve=et[nt++],se[ee]=(Se[ke]+Se[Re+256|0]+Se[Ve+512|0]>>16)-128,Z[ee]=(Se[ke+768|0]+Se[Re+1024|0]+Se[Ve+1280|0]>>16)-128,te[ee]=(Se[ke+1280|0]+Se[Re+1536|0]+Se[Ve+1792|0]>>16)-128;J=He(se,m,J,e,r),le=He(Z,v,le,t,a),ce=He(te,v,ce,t,a),ge+=32}st+=8}if(U>=0){var rt=[];rt[1]=U+1,rt[0]=(1<<U+1)-1,pe(rt)}return Ie(65497),new Uint8Array(B)},n=n||50,(function(){for(var k=String.fromCharCode,K=0;K<256;K++)be[K]=k(K)})(),e=ae(P,R),t=ae(O,I),r=ae(q,N),a=ae(oe,xe),(function(){for(var k=1,K=2,J=1;J<=15;J++){for(var le=k;le<K;le++)x[32767+le]=J,S[32767+le]=[],S[32767+le][1]=J,S[32767+le][0]=le;for(var ce=-(K-1);ce<=-k;ce++)x[32767+ce]=J,S[32767+ce]=[],S[32767+ce][1]=J,S[32767+ce][0]=K-1+ce;k<<=1,K<<=1}})(),(function(){for(var k=0;k<256;k++)Se[k]=19595*k,Se[k+256|0]=38470*k,Se[k+512|0]=7471*k+32768,Se[k+768|0]=-11059*k,Se[k+1024|0]=-21709*k,Se[k+1280|0]=32768*k+8421375,Se[k+1536|0]=-27439*k,Se[k+1792|0]=-5329*k})(),$(n)}function lo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Hb(n){function e(R){if(!R)throw Error("assert :P")}function t(R,q,N){for(var O=0;4>O;O++)if(R[q+O]!=N.charCodeAt(O))return!0;return!1}function r(R,q,N,O,I){for(var oe=0;oe<I;oe++)R[q+oe]=N[O+oe]}function a(R,q,N,O){for(var I=0;I<O;I++)R[q+I]=N}function o(R){return new Int32Array(R)}function c(R,q){for(var N=[],O=0;O<R;O++)N.push(new q);return N}function h(R,q){var N=[];return(function O(I,oe,xe){for(var ae=xe[oe],pe=0;pe<ae&&(I.push(xe.length>oe+1?[]:new q),!(xe.length<oe+1));pe++)O(I[pe],oe+1,xe)})(N,0,R),N}var f=function(){var R=this;function q(d,y){for(var A=1<<y-1>>>0;d&A;)A>>>=1;return A?(d&A-1)+A:d}function N(d,y,A,T,j){e(!(T%A));do d[y+(T-=A)]=j;while(0<T)}function O(d,y,A,T,j){if(e(2328>=j),512>=j)var F=o(512);else if((F=o(j))==null)return 0;return(function(z,W,X,re,de,Te){var ne,ye,Ae=W,Me=1<<X,Ee=o(16),Pe=o(16);for(e(de!=0),e(re!=null),e(z!=null),e(0<X),ye=0;ye<de;++ye){if(15<re[ye])return 0;++Ee[re[ye]]}if(Ee[0]==de)return 0;for(Pe[1]=0,ne=1;15>ne;++ne){if(Ee[ne]>1<<ne)return 0;Pe[ne+1]=Pe[ne]+Ee[ne]}for(ye=0;ye<de;++ye)ne=re[ye],0<re[ye]&&(Te[Pe[ne]++]=ye);if(Pe[15]==1)return(re=new I).g=0,re.value=Te[0],N(z,Ae,1,Me,re),Me;var Be,Qe=-1,Ye=Me-1,pt=0,at=1,Gt=1,ht=1<<X;for(ye=0,ne=1,de=2;ne<=X;++ne,de<<=1){if(at+=Gt<<=1,0>(Gt-=Ee[ne]))return 0;for(;0<Ee[ne];--Ee[ne])(re=new I).g=ne,re.value=Te[ye++],N(z,Ae+pt,de,ht,re),pt=q(pt,ne)}for(ne=X+1,de=2;15>=ne;++ne,de<<=1){if(at+=Gt<<=1,0>(Gt-=Ee[ne]))return 0;for(;0<Ee[ne];--Ee[ne]){if(re=new I,(pt&Ye)!=Qe){for(Ae+=ht,Be=1<<(Qe=ne)-X;15>Qe&&!(0>=(Be-=Ee[Qe]));)++Qe,Be<<=1;Me+=ht=1<<(Be=Qe-X),z[W+(Qe=pt&Ye)].g=Be+X,z[W+Qe].value=Ae-W-Qe}re.g=ne-X,re.value=Te[ye++],N(z,Ae+(pt>>X),de,ht,re),pt=q(pt,ne)}}return at!=2*Pe[15]-1?0:Me})(d,y,A,T,j,F)}function I(){this.value=this.g=0}function oe(){this.value=this.g=0}function xe(){this.G=c(5,I),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(To,oe)}function ae(d,y,A,T){e(d!=null),e(y!=null),e(2147483648>T),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=y,d.pa=A,d.Jd=y,d.Yc=A+T,d.Zc=4<=T?A+T-4+1:A,ke(d)}function pe(d,y){for(var A=0;0<y--;)A|=Ve(d,128)<<y;return A}function fe(d,y){var A=pe(d,y);return Re(d)?-A:A}function Ie(d,y,A,T){var j,F=0;for(e(d!=null),e(y!=null),e(4294967288>T),d.Sb=T,d.Ra=0,d.u=0,d.h=0,4<T&&(T=4),j=0;j<T;++j)F+=y[A+j]<<8*j;d.Ra=F,d.bb=T,d.oa=y,d.pa=A}function He(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Ta-8>>>0,++d.bb,d.u-=8;le(d)&&(d.h=1,d.u=0)}function $(d,y){if(e(0<=y),!d.h&&y<=Xr){var A=J(d)&os[y];return d.u+=y,He(d),A}return d.h=1,d.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(d){return d.Ra>>>(d.u&Ta-1)>>>0}function le(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Ta}function ce(d,y){d.u=y,d.h=le(d)}function ge(d){d.u>=Na&&(e(d.u>=Na),He(d))}function ke(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function Re(d){return pe(d,1)}function Ve(d,y){var A=d.Ca;0>d.b&&ke(d);var T=d.b,j=A*y>>>8,F=(d.I>>>T>j)+0;for(F?(A-=j,d.I-=j+1<<T>>>0):A=j+1,T=A,j=0;256<=T;)j+=8,T>>=8;return T=7^j+Qa[T],d.b-=T,d.Ca=(A<<T)-1,F}function Xe(d,y,A){d[y+0]=A>>24&255,d[y+1]=A>>16&255,d[y+2]=A>>8&255,d[y+3]=255&A}function nt(d,y){return d[y+0]|d[y+1]<<8}function tt(d,y){return nt(d,y)|d[y+2]<<16}function ct(d,y){return nt(d,y)|nt(d,y+2)<<16}function ee(d,y){var A=1<<y;return e(d!=null),e(0<y),d.X=o(A),d.X==null?0:(d.Mb=32-y,d.Xa=y,1)}function et(d,y){e(d!=null),e(y!=null),e(d.Xa==y.Xa),r(y.X,0,d.X,0,1<<y.Xa)}function Kt(){this.X=[],this.Xa=this.Mb=0}function Tt(d,y,A,T){e(A!=null),e(T!=null);var j=A[0],F=T[0];return j==0&&(j=(d*F+y/2)/y),F==0&&(F=(y*j+d/2)/d),0>=j||0>=F?0:(A[0]=j,T[0]=F,1)}function Fe(d,y){return d+(1<<y)-1>>>y}function st(d,y){return((4278255360&d)+(4278255360&y)>>>0&4278255360)+((16711935&d)+(16711935&y)>>>0&16711935)>>>0}function rt(d,y){R[y]=function(A,T,j,F,z,W,X){var re;for(re=0;re<z;++re){var de=R[d](W[X+re-1],j,F+re);W[X+re]=st(A[T+re],de)}}}function Ct(){this.ud=this.hd=this.jd=0}function bt(d,y){return((4278124286&(d^y))>>>1)+(d&y)>>>0}function Wt(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function Zt(d,y){return Wt(d+(d-y+.5>>1))}function Bt(d,y,A){return Math.abs(y-A)-Math.abs(d-A)}function an(d,y,A,T,j,F,z){for(T=F[z-1],A=0;A<j;++A)F[z+A]=T=st(d[y+A],T)}function Xt(d,y,A,T,j){var F;for(F=0;F<A;++F){var z=d[y+F],W=z>>8&255,X=16711935&(X=(X=16711935&z)+((W<<16)+W));T[j+F]=(4278255360&z)+X>>>0}}function gt(d,y){y.jd=255&d,y.hd=d>>8&255,y.ud=d>>16&255}function Ht(d,y,A,T,j,F){var z;for(z=0;z<T;++z){var W=y[A+z],X=W>>>8,re=W,de=255&(de=(de=W>>>16)+((d.jd<<24>>24)*(X<<24>>24)>>>5));re=255&(re=(re+=(d.hd<<24>>24)*(X<<24>>24)>>>5)+((d.ud<<24>>24)*(de<<24>>24)>>>5)),j[F+z]=(4278255360&W)+(de<<16)+re}}function yt(d,y,A,T,j){R[y]=function(F,z,W,X,re,de,Te,ne,ye){for(X=Te;X<ne;++X)for(Te=0;Te<ye;++Te)re[de++]=j(W[T(F[z++])])},R[d]=function(F,z,W,X,re,de,Te){var ne=8>>F.b,ye=F.Ea,Ae=F.K[0],Me=F.w;if(8>ne)for(F=(1<<F.b)-1,Me=(1<<ne)-1;z<W;++z){var Ee,Pe=0;for(Ee=0;Ee<ye;++Ee)Ee&F||(Pe=T(X[re++])),de[Te++]=j(Ae[Pe&Me]),Pe>>=ne}else R["VP8LMapColor"+A](X,re,Ae,Me,de,Te,z,W,ye)}}function ui(d,y,A,T,j){for(A=y+A;y<A;){var F=d[y++];T[j++]=F>>16&255,T[j++]=F>>8&255,T[j++]=255&F}}function $t(d,y,A,T,j){for(A=y+A;y<A;){var F=d[y++];T[j++]=F>>16&255,T[j++]=F>>8&255,T[j++]=255&F,T[j++]=F>>24&255}}function Nt(d,y,A,T,j){for(A=y+A;y<A;){var F=(z=d[y++])>>16&240|z>>12&15,z=240&z|z>>28&15;T[j++]=F,T[j++]=z}}function jt(d,y,A,T,j){for(A=y+A;y<A;){var F=(z=d[y++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;T[j++]=F,T[j++]=z}}function Qt(d,y,A,T,j){for(A=y+A;y<A;){var F=d[y++];T[j++]=255&F,T[j++]=F>>8&255,T[j++]=F>>16&255}}function At(d,y,A,T,j,F){if(F==0)for(A=y+A;y<A;)Xe(T,((F=d[y++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),j+=32;else r(T,j,d,y,A)}function In(d,y){R[y][0]=R[d+"0"],R[y][1]=R[d+"1"],R[y][2]=R[d+"2"],R[y][3]=R[d+"3"],R[y][4]=R[d+"4"],R[y][5]=R[d+"5"],R[y][6]=R[d+"6"],R[y][7]=R[d+"7"],R[y][8]=R[d+"8"],R[y][9]=R[d+"9"],R[y][10]=R[d+"10"],R[y][11]=R[d+"11"],R[y][12]=R[d+"12"],R[y][13]=R[d+"13"],R[y][14]=R[d+"0"],R[y][15]=R[d+"0"]}function Pt(d){return d==Xu||d==kc||d==Yl||d==Dc}function Mt(){this.eb=[],this.size=this.A=this.fb=0}function kn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Mt,this.f.kb=new kn,this.sd=null}function vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function on(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ur(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Ji(d,y){var A=d.T,T=y.ba.f.RGBA,j=T.eb,F=T.fb+d.ka*T.A,z=vr[y.ba.S],W=d.y,X=d.O,re=d.f,de=d.N,Te=d.ea,ne=d.W,ye=y.cc,Ae=y.dc,Me=y.Mc,Ee=y.Nc,Pe=d.ka,Be=d.ka+d.T,Qe=d.U,Ye=Qe+1>>1;for(Pe==0?z(W,X,null,null,re,de,Te,ne,re,de,Te,ne,j,F,null,null,Qe):(z(y.ec,y.fc,W,X,ye,Ae,Me,Ee,re,de,Te,ne,j,F-T.A,j,F,Qe),++A);Pe+2<Be;Pe+=2)ye=re,Ae=de,Me=Te,Ee=ne,de+=d.Rc,ne+=d.Rc,F+=2*T.A,z(W,(X+=2*d.fa)-d.fa,W,X,ye,Ae,Me,Ee,re,de,Te,ne,j,F-T.A,j,F,Qe);return X+=d.fa,d.j+Be<d.o?(r(y.ec,y.fc,W,X,Qe),r(y.cc,y.dc,re,de,Ye),r(y.Mc,y.Nc,Te,ne,Ye),A--):1&Be||z(W,X,null,null,re,de,Te,ne,re,de,Te,ne,j,F+T.A,null,null,Qe),A}function Cs(d,y,A){var T=d.F,j=[d.J];if(T!=null){var F=d.U,z=y.ba.S,W=z==Qu||z==Yl;y=y.ba.f.RGBA;var X=[0],re=d.ka;X[0]=d.T,d.Kb&&(re==0?--X[0]:(--re,j[0]-=d.width),d.j+d.ka+d.T==d.o&&(X[0]=d.o-d.j-re));var de=y.eb;re=y.fb+re*y.A,d=Gu(T,j[0],d.width,F,X,de,re+(W?0:3),y.A),e(A==X),d&&Pt(z)&&cl(de,re,W,F,X,y.A)}return 0}function qi(d){var y=d.ma,A=y.ba.S,T=11>A,j=A==Dr||A==Ms||A==Qu||A==Gl||A==12||Pt(A);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Wa(y.Oa,d,j?11:12))return 0;if(j&&Pt(A)&&qt(),d.da)alert("todo:use_scaling");else{if(T){if(y.Ib=ur,d.Kb){if(A=d.U+1>>1,y.memory=o(d.U+2*A),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+d.U,y.Mc=y.cc,y.Nc=y.dc+A,y.Ib=Ji,qt()}}else alert("todo:EmitYUV");j&&(y.Jb=Cs,T&&Le())}if(T&&!Do){for(d=0;256>d;++d)_r[d]=89858*(d-128)+Ql>>zs,Ym[d]=-22014*(d-128)+Ql,xd[d]=-45773*(d-128),Uc[d]=113618*(d-128)+Ql>>zs;for(d=pl;d<ko;++d)y=76283*(d-16)+Ql>>zs,Km[d-pl]=Hr(y,255),Wm[d-pl]=Hr(y+8>>4,15);Do=1}return 1}function St(d){var y=d.ma,A=d.U,T=d.T;return e(!(1&d.ka)),0>=A||0>=T?0:(A=y.Ib(d,y),y.Jb!=null&&y.Jb(d,y,A),y.Dc+=A,1)}function Js(d){d.ma.memory=null}function Fr(d,y,A,T){return $(d,8)!=47?0:(y[0]=$(d,14)+1,A[0]=$(d,14)+1,T[0]=$(d,1),$(d,3)!=0?0:!d.h)}function Er(d,y){if(4>d)return d+1;var A=d-2>>1;return(2+(1&d)<<A)+$(y,A)+1}function xr(d,y){return 120<y?y-120:1<=(A=((A=Us[y-1])>>4)*d+(8-(15&A)))?A:1;var A}function Fn(d,y,A){var T=J(A),j=d[y+=255&T].g-8;return 0<j&&(ce(A,A.u+8),T=J(A),y+=d[y].value,y+=T&(1<<j)-1),ce(A,A.u+d[y].g),d[y].value}function Xn(d,y,A){return A.g+=d.g,A.value+=d.value<<y>>>0,e(8>=A.g),d.g}function ki(d,y,A){var T=d.xc;return e((y=T==0?0:d.vc[d.md*(A>>T)+(y>>T)])<d.Wb),d.Ya[y]}function cr(d,y,A,T){var j=d.ab,F=d.c*y,z=d.C;y=z+y;var W=A,X=T;for(T=d.Ta,A=d.Ua;0<j--;){var re=d.gc[j],de=z,Te=y,ne=W,ye=X,Ae=(X=T,W=A,re.Ea);switch(e(de<Te),e(Te<=re.nc),re.hc){case 2:Ni(ne,ye,(Te-de)*Ae,X,W);break;case 0:var Me=de,Ee=Te,Pe=X,Be=W,Qe=(ht=re).Ea;Me==0&&(Fl(ne,ye,null,null,1,Pe,Be),an(ne,ye+1,0,0,Qe-1,Pe,Be+1),ye+=Qe,Be+=Qe,++Me);for(var Ye=1<<ht.b,pt=Ye-1,at=Fe(Qe,ht.b),Gt=ht.K,ht=ht.w+(Me>>ht.b)*at;Me<Ee;){var dn=Gt,ai=ht,en=1;for(zl(ne,ye,Pe,Be-Qe,1,Pe,Be);en<Qe;){var ot=(en&~pt)+Ye;ot>Qe&&(ot=Qe),(0,Xa[dn[ai++]>>8&15])(ne,ye+ +en,Pe,Be+en-Qe,ot-en,Pe,Be+en),en=ot}ye+=Qe,Be+=Qe,++Me&pt||(ht+=at)}Te!=re.nc&&r(X,W-Ae,X,W+(Te-de-1)*Ae,Ae);break;case 1:for(Ae=ne,Ee=ye,Qe=(ne=re.Ea)-(Be=ne&~(Pe=(ye=1<<re.b)-1)),Me=Fe(ne,re.b),Ye=re.K,re=re.w+(de>>re.b)*Me;de<Te;){for(pt=Ye,at=re,Gt=new Ct,ht=Ee+Be,dn=Ee+ne;Ee<ht;)gt(pt[at++],Gt),ql(Gt,Ae,Ee,ye,X,W),Ee+=ye,W+=ye;Ee<dn&&(gt(pt[at++],Gt),ql(Gt,Ae,Ee,Qe,X,W),Ee+=Qe,W+=Qe),++de&Pe||(re+=Me)}break;case 3:if(ne==X&&ye==W&&0<re.b){for(Ee=X,ne=Ae=W+(Te-de)*Ae-(Be=(Te-de)*Fe(re.Ea,re.b)),ye=X,Pe=W,Me=[],Be=(Qe=Be)-1;0<=Be;--Be)Me[Be]=ye[Pe+Be];for(Be=Qe-1;0<=Be;--Be)Ee[ne+Be]=Me[Be];Nc(re,de,Te,X,Ae,X,W)}else Nc(re,de,Te,ne,ye,X,W)}W=T,X=A}X!=A&&r(T,A,W,X,F)}function Zi(d,y){var A=d.V,T=d.Ba+d.c*d.C,j=y-d.C;if(e(y<=d.l.o),e(16>=j),0<j){var F=d.l,z=d.Ta,W=d.Ua,X=F.width;if(cr(d,j,A,T),j=W=[W],e((A=d.C)<(T=y)),e(F.v<F.va),T>F.o&&(T=F.o),A<F.j){var re=F.j-A;A=F.j,j[0]+=re*X}if(A>=T?A=0:(j[0]+=4*F.v,F.ka=A-F.j,F.U=F.va-F.v,F.T=T-A,A=1),A){if(W=W[0],11>(A=d.ca).S){var de=A.f.RGBA,Te=(T=A.S,j=F.U,F=F.T,re=de.eb,de.A),ne=F;for(de=de.fb+d.Ma*de.A;0<ne--;){var ye=z,Ae=W,Me=j,Ee=re,Pe=de;switch(T){case Rc:Hl(ye,Ae,Me,Ee,Pe);break;case Dr:$a(ye,Ae,Me,Ee,Pe);break;case Xu:$a(ye,Ae,Me,Ee,Pe),cl(Ee,Pe,0,Me,1,0);break;case Lc:ll(ye,Ae,Me,Ee,Pe);break;case Ms:At(ye,Ae,Me,Ee,Pe,1);break;case kc:At(ye,Ae,Me,Ee,Pe,1),cl(Ee,Pe,0,Me,1,0);break;case Qu:At(ye,Ae,Me,Ee,Pe,0);break;case Yl:At(ye,Ae,Me,Ee,Pe,0),cl(Ee,Pe,1,Me,1,0);break;case Gl:Ja(ye,Ae,Me,Ee,Pe);break;case Dc:Ja(ye,Ae,Me,Ee,Pe),Ps(Ee,Pe,Me,1,0);break;case No:Ra(ye,Ae,Me,Ee,Pe);break;default:e(0)}W+=X,de+=Te}d.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=A.height)}}d.C=y,e(d.C<=d.i)}function Dn(d){var y;if(0<d.ua)return 0;for(y=0;y<d.Wb;++y){var A=d.Ya[y].G,T=d.Ya[y].H;if(0<A[1][T[1]+0].g||0<A[2][T[2]+0].g||0<A[3][T[3]+0].g)return 0}return 1}function Hn(d,y,A,T,j,F){if(d.Z!=0){var z=d.qd,W=d.rd;for(e(to[d.Z]!=null);y<A;++y)to[d.Z](z,W,T,j,T,j,F),z=T,W=j,j+=F;d.qd=z,d.rd=W}}function Di(d,y){var A=d.l.ma,T=A.Z==0||A.Z==1?d.l.j:d.C;if(T=d.C<T?T:d.C,e(y<=d.l.o),y>T){var j=d.l.width,F=A.ca,z=A.tb+j*T,W=d.V,X=d.Ba+d.c*T,re=d.gc;e(d.ab==1),e(re[0].hc==3),Ia(re[0],T,y,W,X,F,z),Hn(A,T,y,F,z,j)}d.C=d.Ma=y}function Tr(d,y,A,T,j,F,z){var W=d.$/T,X=d.$%T,re=d.m,de=d.s,Te=A+d.$,ne=Te;j=A+T*j;var ye=A+T*F,Ae=280+de.ua,Me=d.Pb?W:16777216,Ee=0<de.ua?de.Wa:null,Pe=de.wc,Be=Te<ye?ki(de,X,W):null;e(d.C<F),e(ye<=j);var Qe=!1;e:for(;;){for(;Qe||Te<ye;){var Ye=0;if(W>=Me){var pt=Te-A;e((Me=d).Pb),Me.wd=Me.m,Me.xd=pt,0<Me.s.ua&&et(Me.s.Wa,Me.s.vb),Me=W+Co}if(X&Pe||(Be=ki(de,X,W)),e(Be!=null),Be.Qb&&(y[Te]=Be.qb,Qe=!0),!Qe)if(ge(re),Be.jc){Ye=re,pt=y;var at=Te,Gt=Be.pd[J(Ye)&To-1];e(Be.jc),256>Gt.g?(ce(Ye,Ye.u+Gt.g),pt[at]=Gt.value,Ye=0):(ce(Ye,Ye.u+Gt.g-256),e(256<=Gt.value),Ye=Gt.value),Ye==0&&(Qe=!0)}else Ye=Fn(Be.G[0],Be.H[0],re);if(re.h)break;if(Qe||256>Ye){if(!Qe)if(Be.nd)y[Te]=(Be.qb|Ye<<8)>>>0;else{if(ge(re),Qe=Fn(Be.G[1],Be.H[1],re),ge(re),pt=Fn(Be.G[2],Be.H[2],re),at=Fn(Be.G[3],Be.H[3],re),re.h)break;y[Te]=(at<<24|Qe<<16|Ye<<8|pt)>>>0}if(Qe=!1,++Te,++X>=T&&(X=0,++W,z!=null&&W<=F&&!(W%16)&&z(d,W),Ee!=null))for(;ne<Te;)Ye=y[ne++],Ee.X[(506832829*Ye&4294967295)>>>Ee.Mb]=Ye}else if(280>Ye){if(Ye=Er(Ye-256,re),pt=Fn(Be.G[4],Be.H[4],re),ge(re),pt=xr(T,pt=Er(pt,re)),re.h)break;if(Te-A<pt||j-Te<Ye)break e;for(at=0;at<Ye;++at)y[Te+at]=y[Te+at-pt];for(Te+=Ye,X+=Ye;X>=T;)X-=T,++W,z!=null&&W<=F&&!(W%16)&&z(d,W);if(e(Te<=j),X&Pe&&(Be=ki(de,X,W)),Ee!=null)for(;ne<Te;)Ye=y[ne++],Ee.X[(506832829*Ye&4294967295)>>>Ee.Mb]=Ye}else{if(!(Ye<Ae))break e;for(Qe=Ye-280,e(Ee!=null);ne<Te;)Ye=y[ne++],Ee.X[(506832829*Ye&4294967295)>>>Ee.Mb]=Ye;Ye=Te,e(!(Qe>>>(pt=Ee).Xa)),y[Ye]=pt.X[Qe],Qe=!0}Qe||e(re.h==le(re))}if(d.Pb&&re.h&&Te<j)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&et(d.s.vb,d.s.Wa);else{if(re.h)break e;z?.(d,W>F?F:W),d.a=0,d.$=Te-A}return 1}return d.a=3,0}function ns(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var y=d.Wa;y!=null&&(y.X=null),d.vb=null,e(d!=null)}function va(){var d=new kt;return d==null?null:(d.a=0,d.xb=Qh,In("Predictor","VP8LPredictors"),In("Predictor","VP8LPredictors_C"),In("PredictorAdd","VP8LPredictorsAdd"),In("PredictorAdd","VP8LPredictorsAdd_C"),Ni=Xt,ql=Ht,Hl=ui,$a=$t,Ja=Nt,Ra=jt,ll=Qt,R.VP8LMapColor32b=Ca,R.VP8LMapColor8b=mr,d)}function vs(d,y,A,T,j){var F=1,z=[d],W=[y],X=T.m,re=T.s,de=null,Te=0;e:for(;;){if(A)for(;F&&$(X,1);){var ne=z,ye=W,Ae=T,Me=1,Ee=Ae.m,Pe=Ae.gc[Ae.ab],Be=$(Ee,2);if(Ae.Oc&1<<Be)F=0;else{switch(Ae.Oc|=1<<Be,Pe.hc=Be,Pe.Ea=ne[0],Pe.nc=ye[0],Pe.K=[null],++Ae.ab,e(4>=Ae.ab),Be){case 0:case 1:Pe.b=$(Ee,3)+2,Me=vs(Fe(Pe.Ea,Pe.b),Fe(Pe.nc,Pe.b),0,Ae,Pe.K),Pe.K=Pe.K[0];break;case 3:var Qe,Ye=$(Ee,8)+1,pt=16<Ye?0:4<Ye?1:2<Ye?2:3;if(ne[0]=Fe(Pe.Ea,pt),Pe.b=pt,Qe=Me=vs(Ye,1,0,Ae,Pe.K)){var at,Gt=Ye,ht=Pe,dn=1<<(8>>ht.b),ai=o(dn);if(ai==null)Qe=0;else{var en=ht.K[0],ot=ht.w;for(ai[0]=ht.K[0][0],at=1;at<1*Gt;++at)ai[at]=st(en[ot+at],ai[at-1]);for(;at<4*dn;++at)ai[at]=0;ht.K[0]=null,ht.K[0]=ai,Qe=1}}Me=Qe;break;case 2:break;default:e(0)}F=Me}}if(z=z[0],W=W[0],F&&$(X,1)&&!(F=1<=(Te=$(X,4))&&11>=Te)){T.a=3;break e}var Ze;if(Ze=F)t:{var di,Ut,sn,Un=T,Yi=z,br=W,ei=Te,Pi=A,Or=Un.m,Mi=Un.s,cn=[null],xn=1,pi=0,Ln=Vs[ei];n:for(;;){if(Pi&&$(Or,1)){var Ki=$(Or,3)+2,mi=Fe(Yi,Ki),Tn=Fe(br,Ki),Ri=mi*Tn;if(!vs(mi,Tn,0,Un,cn))break n;for(cn=cn[0],Mi.xc=Ki,di=0;di<Ri;++di){var Vn=cn[di]>>8&65535;cn[di]=Vn,Vn>=xn&&(xn=Vn+1)}}if(Or.h)break n;for(Ut=0;5>Ut;++Ut){var ji=fl[Ut];!Ut&&0<ei&&(ji+=1<<ei),pi<ji&&(pi=ji)}var Ui=c(xn*Ln,I),Yn=xn,En=c(Yn,xe);if(En==null)var Pr=null;else e(65536>=Yn),Pr=En;var wi=o(pi);if(Pr==null||wi==null||Ui==null){Un.a=1;break n}var Rt=Ui;for(di=sn=0;di<xn;++di){var Dt=Pr[di],Nn=Dt.G,ls=Dt.H,qs=0,Jr=1,Vi=0;for(Ut=0;5>Ut;++Ut){ji=fl[Ut],Nn[Ut]=Rt,ls[Ut]=sn,!Ut&&0<ei&&(ji+=1<<ei);r:{var Oo,Po=ji,Bc=Un,ti=wi,$h=Rt,Jh=sn,Fc=0,no=Bc.m,Qm=$(no,1);if(a(ti,0,0,Po),Qm){var Zh=$(no,1)+1,ef=$(no,1),zc=$(no,ef==0?1:8);ti[zc]=1,Zh==2&&(ti[zc=$(no,8)]=1);var ir=1}else{var Ai=o(19),ec=$(no,4)+4;if(19<ec){Bc.a=3;var Mo=0;break r}for(Oo=0;Oo<ec;++Oo)Ai[$u[Oo]]=$(no,3);var $l=void 0,ml=void 0,Da=Bc,qc=Ai,Jl=Po,Hc=ti,Gc=0,io=Da.m,tf=8,nf=c(128,I);i:for(;O(nf,0,7,qc,19);){if($(io,1)){var Td=2+2*$(io,3);if(($l=2+$(io,Td))>Jl)break i}else $l=Jl;for(ml=0;ml<Jl&&$l--;){ge(io);var rf=nf[0+(127&J(io))];ce(io,io.u+rf.g);var jo=rf.value;if(16>jo)Hc[ml++]=jo,jo!=0&&(tf=jo);else{var Nd=jo==16,Cd=jo-16,Id=Kl[Cd],sf=$(io,js[Cd])+Id;if(ml+sf>Jl)break i;for(var Rd=Nd?tf:0;0<sf--;)Hc[ml++]=Rd}}Gc=1;break i}Gc||(Da.a=3),ir=Gc}(ir=ir&&!no.h)&&(Fc=O($h,Jh,8,ti,Po)),ir&&Fc!=0?Mo=Fc:(Bc.a=3,Mo=0)}if(Mo==0)break n;if(Jr&&Oc[Ut]==1&&(Jr=Rt[sn].g==0),qs+=Rt[sn].g,sn+=Mo,3>=Ut){var gl,Yc=wi[0];for(gl=1;gl<ji;++gl)wi[gl]>Yc&&(Yc=wi[gl]);Vi+=Yc}}if(Dt.nd=Jr,Dt.Qb=0,Jr&&(Dt.qb=(Nn[3][ls[3]+0].value<<24|Nn[1][ls[1]+0].value<<16|Nn[2][ls[2]+0].value)>>>0,qs==0&&256>Nn[0][ls[0]+0].value&&(Dt.Qb=1,Dt.qb+=Nn[0][ls[0]+0].value<<8)),Dt.jc=!Dt.Qb&&6>Vi,Dt.jc){var tc,Oa=Dt;for(tc=0;tc<To;++tc){var ro=tc,so=Oa.pd[ro],Kc=Oa.G[0][Oa.H[0]+ro];256<=Kc.value?(so.g=Kc.g+256,so.value=Kc.value):(so.g=0,so.value=0,ro>>=Xn(Kc,8,so),ro>>=Xn(Oa.G[1][Oa.H[1]+ro],16,so),ro>>=Xn(Oa.G[2][Oa.H[2]+ro],0,so),Xn(Oa.G[3][Oa.H[3]+ro],24,so))}}}Mi.vc=cn,Mi.Wb=xn,Mi.Ya=Pr,Mi.yc=Ui,Ze=1;break t}Ze=0}if(!(F=Ze)){T.a=3;break e}if(0<Te){if(re.ua=1<<Te,!ee(re.Wa,Te)){T.a=1,F=0;break e}}else re.ua=0;var Wc=T,yl=z,Ld=W,Zl=Wc.s,eu=Zl.xc;if(Wc.c=yl,Wc.i=Ld,Zl.md=Fe(yl,eu),Zl.wc=eu==0?-1:(1<<eu)-1,A){T.xb=Io;break e}if((de=o(z*W))==null){T.a=1,F=0;break e}F=(F=Tr(T,de,0,z,W,W,null))&&!X.h;break e}return F?(j!=null?j[0]=de:(e(de==null),e(A)),T.$=0,A||ns(re)):ns(re),F}function Nr(d,y){var A=d.c*d.i,T=A+y+16*y;return e(d.c<=y),d.V=o(T),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+A+y,1)}function Zs(d,y){var A=d.C,T=y-A,j=d.V,F=d.Ba+d.c*A;for(e(y<=d.l.o);0<T;){var z=16<T?16:T,W=d.l.ma,X=d.l.width,re=X*z,de=W.ca,Te=W.tb+X*A,ne=d.Ta,ye=d.Ua;cr(d,z,j,F),Ts(ne,ye,de,Te,re),Hn(W,A,A+z,de,Te,X),T-=z,j+=z*d.c,A+=z}e(A==y),d.C=d.Ma=y}function zr(){this.ub=this.yd=this.td=this.Rb=0}function hr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qr(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function is(){this.Yb=(function(){var d=[];return(function y(A,T,j){for(var F=j[T],z=0;z<F&&(A.push(j.length>T+1?[]:0),!(j.length<T+1));z++)y(A[z],T+1,j)})(d,0,[3,11]),d})()}function fi(){this.jb=o(3),this.Wc=h([4,8],is),this.Xc=h([4,17],is)}function vo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Cr(){this.ld=this.La=this.dd=this.tc=0}function rs(){this.Na=this.la=0}function _s(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fa(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _o(){this.uc=this.M=this.Nb=0,this.wa=Array(new Cr),this.Y=0,this.ya=Array(new Fa),this.aa=0,this.l=new er}function bo(){this.y=o(16),this.f=o(8),this.ea=o(8)}function tl(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new zr,this.Kc=new hr,this.ed=new vo,this.Qa=new qr,this.Ic=this.$c=this.Aa=0,this.D=new _o,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,k),this.ia=0,this.pb=c(4,_s),this.Pa=new fi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bo),this.Hd=0,this.rb=Array(new rs),this.sb=0,this.wa=Array(new Cr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fa),this.L=this.aa=0,this.gd=h([4,2],Cr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Hr(d,y){return 0>d?0:d>y?y:d}function er(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function vi(){var d=new tl;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Ns||(Ns=yn)),d}function hn(d,y,A){return d.a==0&&(d.a=y,d.sc=A,d.cb=0),0}function ea(d,y,A){return 3<=A&&d[y+0]==157&&d[y+1]==1&&d[y+2]==42}function ss(d,y){if(d==null)return 0;if(d.a=0,d.sc="OK",y==null)return hn(d,2,"null VP8Io passed to VP8GetHeaders()");var A=y.data,T=y.w,j=y.ha;if(4>j)return hn(d,7,"Truncated header.");var F=A[T+0]|A[T+1]<<8|A[T+2]<<16,z=d.Od;if(z.Rb=!(1&F),z.td=F>>1&7,z.yd=F>>4&1,z.ub=F>>5,3<z.td)return hn(d,3,"Incorrect keyframe parameters.");if(!z.yd)return hn(d,4,"Frame not displayable.");T+=3,j-=3;var W=d.Kc;if(z.Rb){if(7>j)return hn(d,7,"cannot parse picture header");if(!ea(A,T,j))return hn(d,3,"Bad code word");W.c=16383&(A[T+4]<<8|A[T+3]),W.Td=A[T+4]>>6,W.i=16383&(A[T+6]<<8|A[T+5]),W.Ud=A[T+6]>>6,T+=7,j-=7,d.za=W.c+15>>4,d.Ub=W.i+15>>4,y.width=W.c,y.height=W.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,a((F=d.Pa).jb,0,255,F.jb.length),e((F=d.Qa)!=null),F.Cb=0,F.Bb=0,F.Fb=1,a(F.Zb,0,0,F.Zb.length),a(F.Lb,0,0,F.Lb)}if(z.ub>j)return hn(d,7,"bad partition length");ae(F=d.m,A,T,z.ub),T+=z.ub,j-=z.ub,z.Rb&&(W.Ld=Re(F),W.Kd=Re(F)),W=d.Qa;var X,re=d.Pa;if(e(F!=null),e(W!=null),W.Cb=Re(F),W.Cb){if(W.Bb=Re(F),Re(F)){for(W.Fb=Re(F),X=0;4>X;++X)W.Zb[X]=Re(F)?fe(F,7):0;for(X=0;4>X;++X)W.Lb[X]=Re(F)?fe(F,6):0}if(W.Bb)for(X=0;3>X;++X)re.jb[X]=Re(F)?pe(F,8):255}else W.Bb=0;if(F.Ka)return hn(d,3,"cannot parse segment header");if((W=d.ed).zd=Re(F),W.Tb=pe(F,6),W.wb=pe(F,3),W.Pc=Re(F),W.Pc&&Re(F)){for(re=0;4>re;++re)Re(F)&&(W.vd[re]=fe(F,6));for(re=0;4>re;++re)Re(F)&&(W.od[re]=fe(F,6))}if(d.L=W.Tb==0?0:W.zd?1:2,F.Ka)return hn(d,3,"cannot parse filter header");var de=j;if(j=X=T,T=X+de,W=de,d.Xb=(1<<pe(d.m,2))-1,de<3*(re=d.Xb))A=7;else{for(X+=3*re,W-=3*re,de=0;de<re;++de){var Te=A[j+0]|A[j+1]<<8|A[j+2]<<16;Te>W&&(Te=W),ae(d.Jc[+de],A,X,Te),X+=Te,W-=Te,j+=3}ae(d.Jc[+re],A,X,W),A=X<T?0:5}if(A!=0)return hn(d,A,"cannot parse partitions");for(A=pe(X=d.m,7),j=Re(X)?fe(X,4):0,T=Re(X)?fe(X,4):0,W=Re(X)?fe(X,4):0,re=Re(X)?fe(X,4):0,X=Re(X)?fe(X,4):0,de=d.Qa,Te=0;4>Te;++Te){if(de.Cb){var ne=de.Zb[Te];de.Fb||(ne+=A)}else{if(0<Te){d.pb[Te]=d.pb[0];continue}ne=A}var ye=d.pb[Te];ye.Sc[0]=Bs[Hr(ne+j,127)],ye.Sc[1]=Fs[Hr(ne+0,127)],ye.Eb[0]=2*Bs[Hr(ne+T,127)],ye.Eb[1]=101581*Fs[Hr(ne+W,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=Bs[Hr(ne+re,117)],ye.Qc[1]=Fs[Hr(ne+X,127)],ye.lc=ne+X}if(!z.Rb)return hn(d,4,"Not a key frame.");for(Re(F),z=d.Pa,A=0;4>A;++A){for(j=0;8>j;++j)for(T=0;3>T;++T)for(W=0;11>W;++W)re=Ve(F,si[A][j][T][W])?pe(F,8):Ed[A][j][T][W],z.Wc[A][j].Yb[T][W]=re;for(j=0;17>j;++j)z.Xc[A][j]=z.Wc[A][pn[j]]}return d.kc=Re(F),d.kc&&(d.Bd=pe(F,8)),d.cb=1}function yn(d,y,A,T,j,F,z){var W=y[j].Yb[A];for(A=0;16>j;++j){if(!Ve(d,W[A+0]))return j;for(;!Ve(d,W[A+1]);)if(W=y[++j].Yb[0],A=0,j==16)return 16;var X=y[j+1].Yb;if(Ve(d,W[A+2])){var re=d,de=0;if(Ve(re,(ne=W)[(Te=A)+3]))if(Ve(re,ne[Te+6])){for(W=0,Te=2*(de=Ve(re,ne[Te+8]))+(ne=Ve(re,ne[Te+9+de])),de=0,ne=Sd[Te];ne[W];++W)de+=de+Ve(re,ne[W]);de+=3+(8<<Te)}else Ve(re,ne[Te+7])?(de=7+2*Ve(re,165),de+=Ve(re,145)):de=5+Ve(re,159);else de=Ve(re,ne[Te+4])?3+Ve(re,ne[Te+5]):2;W=X[2]}else de=1,W=X[1];X=z+Wh[j],0>(re=d).b&&ke(re);var Te,ne=re.b,ye=(Te=re.Ca>>1)-(re.I>>ne)>>31;--re.b,re.Ca+=ye,re.Ca|=1,re.I-=(Te+1&ye)<<ne,F[X]=((de^ye)-ye)*T[(0<j)+0]}return 16}function _a(d){var y=d.rb[d.sb-1];y.la=0,y.Na=0,a(d.zc,0,0,d.zc.length),d.ja=0}function xi(d,y,A,T,j){j=d[y+A+32*T]+(j>>3),d[y+A+32*T]=-256&j?0>j?0:255:j}function ri(d,y,A,T,j,F){xi(d,y,0,A,T+j),xi(d,y,1,A,T+F),xi(d,y,2,A,T-F),xi(d,y,3,A,T-j)}function _i(d){return(20091*d>>16)+d}function za(d,y,A,T){var j,F=0,z=o(16);for(j=0;4>j;++j){var W=d[y+0]+d[y+8],X=d[y+0]-d[y+8],re=(35468*d[y+4]>>16)-_i(d[y+12]),de=_i(d[y+4])+(35468*d[y+12]>>16);z[F+0]=W+de,z[F+1]=X+re,z[F+2]=X-re,z[F+3]=W-de,F+=4,y++}for(j=F=0;4>j;++j)W=(d=z[F+0]+4)+z[F+8],X=d-z[F+8],re=(35468*z[F+4]>>16)-_i(z[F+12]),xi(A,T,0,0,W+(de=_i(z[F+4])+(35468*z[F+12]>>16))),xi(A,T,1,0,X+re),xi(A,T,2,0,X-re),xi(A,T,3,0,W-de),F++,T+=32}function Vl(d,y,A,T){var j=d[y+0]+4,F=35468*d[y+4]>>16,z=_i(d[y+4]),W=35468*d[y+1]>>16;ri(A,T,0,j+z,d=_i(d[y+1]),W),ri(A,T,1,j+F,d,W),ri(A,T,2,j-F,d,W),ri(A,T,3,j-z,d,W)}function nl(d,y,A,T,j){za(d,y,A,T),j&&za(d,y+16,A,T+4)}function fr(d,y,A,T){Za(d,y+0,A,T,1),Za(d,y+32,A,T+128,1)}function il(d,y,A,T){var j;for(d=d[y+0]+4,j=0;4>j;++j)for(y=0;4>y;++y)xi(A,T,y,j,d)}function ta(d,y,A,T){d[y+0]&&Rn(d,y+0,A,T),d[y+16]&&Rn(d,y+16,A,T+4),d[y+32]&&Rn(d,y+32,A,T+128),d[y+48]&&Rn(d,y+48,A,T+128+4)}function Hi(d,y,A,T){var j,F=o(16);for(j=0;4>j;++j){var z=d[y+0+j]+d[y+12+j],W=d[y+4+j]+d[y+8+j],X=d[y+4+j]-d[y+8+j],re=d[y+0+j]-d[y+12+j];F[0+j]=z+W,F[8+j]=z-W,F[4+j]=re+X,F[12+j]=re-X}for(j=0;4>j;++j)z=(d=F[0+4*j]+3)+F[3+4*j],W=F[1+4*j]+F[2+4*j],X=F[1+4*j]-F[2+4*j],re=d-F[3+4*j],A[T+0]=z+W>>3,A[T+16]=re+X>>3,A[T+32]=z-W>>3,A[T+48]=re-X>>3,T+=64}function ba(d,y,A){var T,j=y-32,F=kr,z=255-d[j-1];for(T=0;T<A;++T){var W,X=F,re=z+d[y-1];for(W=0;W<A;++W)d[y+W]=X[re+d[j+W]];y+=32}}function rl(d,y){ba(d,y,4)}function sl(d,y){ba(d,y,8)}function wo(d,y){ba(d,y,16)}function Ao(d,y){var A;for(A=0;16>A;++A)r(d,y+32*A,d,y-32,16)}function na(d,y){var A;for(A=16;0<A;--A)a(d,y,d[y-1],16),y+=32}function Ir(d,y,A){var T;for(T=0;16>T;++T)a(y,A+32*T,d,16)}function bs(d,y){var A,T=16;for(A=0;16>A;++A)T+=d[y-1+32*A]+d[y+A-32];Ir(T>>5,d,y)}function ia(d,y){var A,T=8;for(A=0;16>A;++A)T+=d[y-1+32*A];Ir(T>>4,d,y)}function Rr(d,y){var A,T=8;for(A=0;16>A;++A)T+=d[y+A-32];Ir(T>>4,d,y)}function wa(d,y){Ir(128,d,y)}function It(d,y,A){return d+2*y+A+2>>2}function qa(d,y){var A,T=y-32;for(T=new Uint8Array([It(d[T-1],d[T+0],d[T+1]),It(d[T+0],d[T+1],d[T+2]),It(d[T+1],d[T+2],d[T+3]),It(d[T+2],d[T+3],d[T+4])]),A=0;4>A;++A)r(d,y+32*A,T,0,T.length)}function So(d,y){var A=d[y-1],T=d[y-1+32],j=d[y-1+64],F=d[y-1+96];Xe(d,y+0,16843009*It(d[y-1-32],A,T)),Xe(d,y+32,16843009*It(A,T,j)),Xe(d,y+64,16843009*It(T,j,F)),Xe(d,y+96,16843009*It(j,F,F))}function Aa(d,y){var A,T=4;for(A=0;4>A;++A)T+=d[y+A-32]+d[y-1+32*A];for(T>>=3,A=0;4>A;++A)a(d,y+32*A,T,4)}function Gi(d,y){var A=d[y-1+0],T=d[y-1+32],j=d[y-1+64],F=d[y-1-32],z=d[y+0-32],W=d[y+1-32],X=d[y+2-32],re=d[y+3-32];d[y+0+96]=It(T,j,d[y-1+96]),d[y+1+96]=d[y+0+64]=It(A,T,j),d[y+2+96]=d[y+1+64]=d[y+0+32]=It(F,A,T),d[y+3+96]=d[y+2+64]=d[y+1+32]=d[y+0+0]=It(z,F,A),d[y+3+64]=d[y+2+32]=d[y+1+0]=It(W,z,F),d[y+3+32]=d[y+2+0]=It(X,W,z),d[y+3+0]=It(re,X,W)}function Oi(d,y){var A=d[y+1-32],T=d[y+2-32],j=d[y+3-32],F=d[y+4-32],z=d[y+5-32],W=d[y+6-32],X=d[y+7-32];d[y+0+0]=It(d[y+0-32],A,T),d[y+1+0]=d[y+0+32]=It(A,T,j),d[y+2+0]=d[y+1+32]=d[y+0+64]=It(T,j,F),d[y+3+0]=d[y+2+32]=d[y+1+64]=d[y+0+96]=It(j,F,z),d[y+3+32]=d[y+2+64]=d[y+1+96]=It(F,z,W),d[y+3+64]=d[y+2+96]=It(z,W,X),d[y+3+96]=It(W,X,X)}function Ha(d,y){var A=d[y-1+0],T=d[y-1+32],j=d[y-1+64],F=d[y-1-32],z=d[y+0-32],W=d[y+1-32],X=d[y+2-32],re=d[y+3-32];d[y+0+0]=d[y+1+64]=F+z+1>>1,d[y+1+0]=d[y+2+64]=z+W+1>>1,d[y+2+0]=d[y+3+64]=W+X+1>>1,d[y+3+0]=X+re+1>>1,d[y+0+96]=It(j,T,A),d[y+0+64]=It(T,A,F),d[y+0+32]=d[y+1+96]=It(A,F,z),d[y+1+32]=d[y+2+96]=It(F,z,W),d[y+2+32]=d[y+3+96]=It(z,W,X),d[y+3+32]=It(W,X,re)}function On(d,y){var A=d[y+0-32],T=d[y+1-32],j=d[y+2-32],F=d[y+3-32],z=d[y+4-32],W=d[y+5-32],X=d[y+6-32],re=d[y+7-32];d[y+0+0]=A+T+1>>1,d[y+1+0]=d[y+0+64]=T+j+1>>1,d[y+2+0]=d[y+1+64]=j+F+1>>1,d[y+3+0]=d[y+2+64]=F+z+1>>1,d[y+0+32]=It(A,T,j),d[y+1+32]=d[y+0+96]=It(T,j,F),d[y+2+32]=d[y+1+96]=It(j,F,z),d[y+3+32]=d[y+2+96]=It(F,z,W),d[y+3+64]=It(z,W,X),d[y+3+96]=It(W,X,re)}function Gr(d,y){var A=d[y-1+0],T=d[y-1+32],j=d[y-1+64],F=d[y-1+96];d[y+0+0]=A+T+1>>1,d[y+2+0]=d[y+0+32]=T+j+1>>1,d[y+2+32]=d[y+0+64]=j+F+1>>1,d[y+1+0]=It(A,T,j),d[y+3+0]=d[y+1+32]=It(T,j,F),d[y+3+32]=d[y+1+64]=It(j,F,F),d[y+3+64]=d[y+2+64]=d[y+0+96]=d[y+1+96]=d[y+2+96]=d[y+3+96]=F}function Ga(d,y){var A=d[y-1+0],T=d[y-1+32],j=d[y-1+64],F=d[y-1+96],z=d[y-1-32],W=d[y+0-32],X=d[y+1-32],re=d[y+2-32];d[y+0+0]=d[y+2+32]=A+z+1>>1,d[y+0+32]=d[y+2+64]=T+A+1>>1,d[y+0+64]=d[y+2+96]=j+T+1>>1,d[y+0+96]=F+j+1>>1,d[y+3+0]=It(W,X,re),d[y+2+0]=It(z,W,X),d[y+1+0]=d[y+3+32]=It(A,z,W),d[y+1+32]=d[y+3+64]=It(T,A,z),d[y+1+64]=d[y+3+96]=It(j,T,A),d[y+1+96]=It(F,j,T)}function ws(d,y){var A;for(A=0;8>A;++A)r(d,y+32*A,d,y-32,8)}function al(d,y){var A;for(A=0;8>A;++A)a(d,y,d[y-1],8),y+=32}function Yr(d,y,A){var T;for(T=0;8>T;++T)a(y,A+32*T,d,8)}function ra(d,y){var A,T=8;for(A=0;8>A;++A)T+=d[y+A-32]+d[y-1+32*A];Yr(T>>4,d,y)}function Kr(d,y){var A,T=4;for(A=0;8>A;++A)T+=d[y+A-32];Yr(T>>3,d,y)}function Ti(d,y){var A,T=4;for(A=0;8>A;++A)T+=d[y-1+32*A];Yr(T>>3,d,y)}function Is(d,y){Yr(128,d,y)}function tr(d,y,A){var T=d[y-A],j=d[y+0],F=3*(j-T)+eo[1020+d[y-2*A]-d[y+A]],z=Wu[112+(F+4>>3)];d[y-A]=kr[255+T+Wu[112+(F+3>>3)]],d[y+0]=kr[255+j-z]}function Rs(d,y,A,T){var j=d[y+0],F=d[y+A];return gr[255+d[y-2*A]-d[y-A]]>T||gr[255+F-j]>T}function Sa(d,y,A,T){return 4*gr[255+d[y-A]-d[y+0]]+gr[255+d[y-2*A]-d[y+A]]<=T}function Ls(d,y,A,T,j){var F=d[y-3*A],z=d[y-2*A],W=d[y-A],X=d[y+0],re=d[y+A],de=d[y+2*A],Te=d[y+3*A];return 4*gr[255+W-X]+gr[255+z-re]>T?0:gr[255+d[y-4*A]-F]<=j&&gr[255+F-z]<=j&&gr[255+z-W]<=j&&gr[255+Te-de]<=j&&gr[255+de-re]<=j&&gr[255+re-X]<=j}function ks(d,y,A,T){var j=2*T+1;for(T=0;16>T;++T)Sa(d,y+T,A,j)&&tr(d,y+T,A)}function as(d,y,A,T){var j=2*T+1;for(T=0;16>T;++T)Sa(d,y+T*A,1,j)&&tr(d,y+T*A,1)}function Ya(d,y,A,T){var j;for(j=3;0<j;--j)ks(d,y+=4*A,A,T)}function Eo(d,y,A,T){var j;for(j=3;0<j;--j)as(d,y+=4,A,T)}function Wr(d,y,A,T,j,F,z,W){for(F=2*F+1;0<j--;){if(Ls(d,y,A,F,z))if(Rs(d,y,A,W))tr(d,y,A);else{var X=d,re=y,de=A,Te=X[re-2*de],ne=X[re-de],ye=X[re+0],Ae=X[re+de],Me=X[re+2*de],Ee=27*(Be=eo[1020+3*(ye-ne)+eo[1020+Te-Ae]])+63>>7,Pe=18*Be+63>>7,Be=9*Be+63>>7;X[re-3*de]=kr[255+X[re-3*de]+Be],X[re-2*de]=kr[255+Te+Pe],X[re-de]=kr[255+ne+Ee],X[re+0]=kr[255+ye-Ee],X[re+de]=kr[255+Ae-Pe],X[re+2*de]=kr[255+Me-Be]}y+=T}}function Ds(d,y,A,T,j,F,z,W){for(F=2*F+1;0<j--;){if(Ls(d,y,A,F,z))if(Rs(d,y,A,W))tr(d,y,A);else{var X=d,re=y,de=A,Te=X[re-de],ne=X[re+0],ye=X[re+de],Ae=Wu[112+(4+(Me=3*(ne-Te))>>3)],Me=Wu[112+(Me+3>>3)],Ee=Ae+1>>1;X[re-2*de]=kr[255+X[re-2*de]+Ee],X[re-de]=kr[255+Te+Me],X[re+0]=kr[255+ne-Ae],X[re+de]=kr[255+ye-Ee]}y+=T}}function ol(d,y,A,T,j,F){Wr(d,y,A,1,16,T,j,F)}function As(d,y,A,T,j,F){Wr(d,y,1,A,16,T,j,F)}function xo(d,y,A,T,j,F){var z;for(z=3;0<z;--z)Ds(d,y+=4*A,A,1,16,T,j,F)}function w(d,y,A,T,j,F){var z;for(z=3;0<z;--z)Ds(d,y+=4,1,A,16,T,j,F)}function M(d,y,A,T,j,F,z,W){Wr(d,y,j,1,8,F,z,W),Wr(A,T,j,1,8,F,z,W)}function ie(d,y,A,T,j,F,z,W){Wr(d,y,1,j,8,F,z,W),Wr(A,T,1,j,8,F,z,W)}function he(d,y,A,T,j,F,z,W){Ds(d,y+4*j,j,1,8,F,z,W),Ds(A,T+4*j,j,1,8,F,z,W)}function ve(d,y,A,T,j,F,z,W){Ds(d,y+4,1,j,8,F,z,W),Ds(A,T+4,1,j,8,F,z,W)}function je(){this.ba=new wt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new on,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function dt(){this.ua=0,this.Wa=new Kt,this.vb=new Kt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xe,this.yc=new I}function kt(){this.xb=this.a=0,this.l=new er,this.ca=new wt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new dt,this.ab=0,this.gc=c(4,lt),this.Oc=0}function Et(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new er,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fn(d,y,A,T,j,F,z){for(d=d==null?0:d[y+0],y=0;y<z;++y)j[F+y]=d+A[T+y]&255,d=j[F+y]}function $n(d,y,A,T,j,F,z){var W;if(d==null)fn(null,null,A,T,j,F,z);else for(W=0;W<z;++W)j[F+W]=d[y+W]+A[T+W]&255}function zn(d,y,A,T,j,F,z){if(d==null)fn(null,null,A,T,j,F,z);else{var W,X=d[y+0],re=X,de=X;for(W=0;W<z;++W)re=de+(X=d[y+W])-re,de=A[T+W]+(-256&re?0>re?0:255:re)&255,re=X,j[F+W]=de}}function p(d,y,A,T){var j=y.width,F=y.o;if(e(d!=null&&y!=null),0>A||0>=T||A+T>F)return null;if(!d.Cc){if(d.ga==null){var z;if(d.ga=new Et,(z=d.ga==null)||(z=y.width*y.o,e(d.Gb.length==0),d.Gb=o(z),d.Uc=0,d.Gb==null?z=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,z=1),z=!z),!z){z=d.ga;var W=d.Fa,X=d.P,re=d.qc,de=d.mb,Te=d.nb,ne=X+1,ye=re-1,Ae=z.l;if(e(W!=null&&de!=null&&y!=null),to[0]=null,to[1]=fn,to[2]=$n,to[3]=zn,z.ca=de,z.tb=Te,z.c=y.width,z.i=y.height,e(0<z.c&&0<z.i),1>=re)y=0;else if(z.$a=3&W[X+0],z.Z=W[X+0]>>2&3,z.Lc=W[X+0]>>4&3,X=W[X+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||X)y=0;else if(Ae.put=St,Ae.ac=qi,Ae.bc=Js,Ae.ma=z,Ae.width=y.width,Ae.height=y.height,Ae.Da=y.Da,Ae.v=y.v,Ae.va=y.va,Ae.j=y.j,Ae.o=y.o,z.$a)e:{e(z.$a==1),y=va();t:for(;;){if(y==null){y=0;break e}if(e(z!=null),z.mc=y,y.c=z.c,y.i=z.i,y.l=z.l,y.l.ma=z,y.l.width=z.c,y.l.height=z.i,y.a=0,Ie(y.m,W,ne,ye),!vs(z.c,z.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&Dn(y.s)?(z.ic=1,W=y.c*y.i,y.Ta=null,y.Ua=0,y.V=o(W),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(z.ic=0,y=Nr(y,z.c)),!y))break t;y=1;break e}z.mc=null,y=0}else y=ye>=z.c*z.i;z=!y}if(z)return null;d.ga.Lc!=1?d.Ga=0:T=F-A}e(d.ga!=null),e(A+T<=F);e:{if(y=(W=d.ga).c,F=W.l.o,W.$a==0){if(ne=d.rc,ye=d.Vc,Ae=d.Fa,X=d.P+1+A*y,re=d.mb,de=d.nb+A*y,e(X<=d.P+d.qc),W.Z!=0)for(e(to[W.Z]!=null),z=0;z<T;++z)to[W.Z](ne,ye,Ae,X,re,de,y),ne=re,ye=de,de+=y,X+=y;else for(z=0;z<T;++z)r(re,de,Ae,X,y),ne=re,ye=de,de+=y,X+=y;d.rc=ne,d.Vc=ye}else{if(e(W.mc!=null),y=A+T,e((z=W.mc)!=null),e(y<=z.i),z.C>=y)y=1;else if(W.ic||Le(),W.ic){W=z.V,ne=z.Ba,ye=z.c;var Me=z.i,Ee=(Ae=1,X=z.$/ye,re=z.$%ye,de=z.m,Te=z.s,z.$),Pe=ye*Me,Be=ye*y,Qe=Te.wc,Ye=Ee<Be?ki(Te,re,X):null;e(Ee<=Pe),e(y<=Me),e(Dn(Te));t:for(;;){for(;!de.h&&Ee<Be;){if(re&Qe||(Ye=ki(Te,re,X)),e(Ye!=null),ge(de),256>(Me=Fn(Ye.G[0],Ye.H[0],de)))W[ne+Ee]=Me,++Ee,++re>=ye&&(re=0,++X<=y&&!(X%16)&&Di(z,X));else{if(!(280>Me)){Ae=0;break t}Me=Er(Me-256,de);var pt,at=Fn(Ye.G[4],Ye.H[4],de);if(ge(de),!(Ee>=(at=xr(ye,at=Er(at,de)))&&Pe-Ee>=Me)){Ae=0;break t}for(pt=0;pt<Me;++pt)W[ne+Ee+pt]=W[ne+Ee+pt-at];for(Ee+=Me,re+=Me;re>=ye;)re-=ye,++X<=y&&!(X%16)&&Di(z,X);Ee<Be&&re&Qe&&(Ye=ki(Te,re,X))}e(de.h==le(de))}Di(z,X>y?y:X);break t}!Ae||de.h&&Ee<Pe?(Ae=0,z.a=de.h?5:3):z.$=Ee,y=Ae}else y=Tr(z,z.V,z.Ba,z.c,z.i,y,Zs);if(!y){T=0;break e}}A+T>=F&&(d.Cc=1),T=1}if(!T)return null;if(d.Cc&&((T=d.ga)!=null&&(T.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+A*j}function E(d,y,A,T,j,F){for(;0<j--;){var z,W=d,X=y+(A?1:0),re=d,de=y+(A?0:3);for(z=0;z<T;++z){var Te=re[de+4*z];Te!=255&&(Te*=32897,W[X+4*z+0]=W[X+4*z+0]*Te>>23,W[X+4*z+1]=W[X+4*z+1]*Te>>23,W[X+4*z+2]=W[X+4*z+2]*Te>>23)}y+=F}}function L(d,y,A,T,j){for(;0<T--;){var F;for(F=0;F<A;++F){var z=d[y+2*F+0],W=15&(re=d[y+2*F+1]),X=4369*W,re=(240&re|re>>4)*X>>16;d[y+2*F+0]=(240&z|z>>4)*X>>16&240|(15&z|z<<4)*X>>16>>4&15,d[y+2*F+1]=240&re|W}y+=j}}function Q(d,y,A,T,j,F,z,W){var X,re,de=255;for(re=0;re<j;++re){for(X=0;X<T;++X){var Te=d[y+X];F[z+4*X]=Te,de&=Te}y+=A,z+=W}return de!=255}function we(d,y,A,T,j){var F;for(F=0;F<j;++F)A[T+F]=d[y+F]>>8}function Le(){cl=E,Ps=L,Gu=Q,Ts=we}function $e(d,y,A){R[d]=function(T,j,F,z,W,X,re,de,Te,ne,ye,Ae,Me,Ee,Pe,Be,Qe){var Ye,pt=Qe-1>>1,at=W[X+0]|re[de+0]<<16,Gt=Te[ne+0]|ye[Ae+0]<<16;e(T!=null);var ht=3*at+Gt+131074>>2;for(y(T[j+0],255&ht,ht>>16,Me,Ee),F!=null&&(ht=3*Gt+at+131074>>2,y(F[z+0],255&ht,ht>>16,Pe,Be)),Ye=1;Ye<=pt;++Ye){var dn=W[X+Ye]|re[de+Ye]<<16,ai=Te[ne+Ye]|ye[Ae+Ye]<<16,en=at+dn+Gt+ai+524296,ot=en+2*(dn+Gt)>>3;ht=ot+at>>1,at=(en=en+2*(at+ai)>>3)+dn>>1,y(T[j+2*Ye-1],255&ht,ht>>16,Me,Ee+(2*Ye-1)*A),y(T[j+2*Ye-0],255&at,at>>16,Me,Ee+(2*Ye-0)*A),F!=null&&(ht=en+Gt>>1,at=ot+ai>>1,y(F[z+2*Ye-1],255&ht,ht>>16,Pe,Be+(2*Ye-1)*A),y(F[z+2*Ye+0],255&at,at>>16,Pe,Be+(2*Ye+0)*A)),at=dn,Gt=ai}1&Qe||(ht=3*at+Gt+131074>>2,y(T[j+Qe-1],255&ht,ht>>16,Me,Ee+(Qe-1)*A),F!=null&&(ht=3*Gt+at+131074>>2,y(F[z+Qe-1],255&ht,ht>>16,Pe,Be+(Qe-1)*A)))}}function qt(){vr[Rc]=dl,vr[Dr]=Wl,vr[Lc]=Xh,vr[Ms]=Mc,vr[Qu]=Ro,vr[Gl]=ka,vr[No]=Lo,vr[Xu]=Wl,vr[kc]=Mc,vr[Yl]=Ro,vr[Dc]=ka}function Jn(d){return d&-16384?0>d?0:255:d>>jc}function un(d,y){return Jn((19077*d>>8)+(26149*y>>8)-14234)}function Pn(d,y,A){return Jn((19077*d>>8)-(6419*y>>8)-(13320*A>>8)+8708)}function nr(d,y){return Jn((19077*d>>8)+(33050*y>>8)-17685)}function dr(d,y,A,T,j){T[j+0]=un(d,A),T[j+1]=Pn(d,y,A),T[j+2]=nr(d,y)}function Gn(d,y,A,T,j){T[j+0]=nr(d,y),T[j+1]=Pn(d,y,A),T[j+2]=un(d,A)}function pr(d,y,A,T,j){var F=Pn(d,y,A);y=F<<3&224|nr(d,y)>>3,T[j+0]=248&un(d,A)|F>>5,T[j+1]=y}function Ss(d,y,A,T,j){var F=240&nr(d,y)|15;T[j+0]=240&un(d,A)|Pn(d,y,A)>>4,T[j+1]=F}function Ea(d,y,A,T,j){T[j+0]=255,dr(d,y,A,T,j+1)}function xa(d,y,A,T,j){Gn(d,y,A,T,j),T[j+3]=255}function Qr(d,y,A,T,j){dr(d,y,A,T,j),T[j+3]=255}function Ka(d,y,A){R[d]=function(T,j,F,z,W,X,re,de,Te){for(var ne=de+(-2&Te)*A;de!=ne;)y(T[j+0],F[z+0],W[X+0],re,de),y(T[j+1],F[z+0],W[X+0],re,de+A),j+=2,++z,++X,de+=2*A;1&Te&&y(T[j+0],F[z+0],W[X+0],re,de)}}function Bl(d,y,A){return A==0?d==0?y==0?6:5:y==0?4:0:A}function zu(d,y,A,T,j){switch(d>>>30){case 3:Za(y,A,T,j,0);break;case 2:Lr(y,A,T,j);break;case 1:Rn(y,A,T,j)}}function Es(d,y){var A,T,j=y.M,F=y.Nb,z=d.oc,W=d.pc+40,X=d.oc,re=d.pc+584,de=d.oc,Te=d.pc+600;for(A=0;16>A;++A)z[W+32*A-1]=129;for(A=0;8>A;++A)X[re+32*A-1]=129,de[Te+32*A-1]=129;for(0<j?z[W-1-32]=X[re-1-32]=de[Te-1-32]=129:(a(z,W-32-1,127,21),a(X,re-32-1,127,9),a(de,Te-32-1,127,9)),T=0;T<d.za;++T){var ne=y.ya[y.aa+T];if(0<T){for(A=-1;16>A;++A)r(z,W+32*A-4,z,W+32*A+12,4);for(A=-1;8>A;++A)r(X,re+32*A-4,X,re+32*A+4,4),r(de,Te+32*A-4,de,Te+32*A+4,4)}var ye=d.Gd,Ae=d.Hd+T,Me=ne.ad,Ee=ne.Hc;if(0<j&&(r(z,W-32,ye[Ae].y,0,16),r(X,re-32,ye[Ae].f,0,8),r(de,Te-32,ye[Ae].ea,0,8)),ne.Za){var Pe=z,Be=W-32+16;for(0<j&&(T>=d.za-1?a(Pe,Be,ye[Ae].y[15],4):r(Pe,Be,ye[Ae+1].y,0,4)),A=0;4>A;A++)Pe[Be+128+A]=Pe[Be+256+A]=Pe[Be+384+A]=Pe[Be+0+A];for(A=0;16>A;++A,Ee<<=2)Pe=z,Be=W+Ii[A],bi[ne.Ob[A]](Pe,Be),zu(Ee,Me,16*+A,Pe,Be)}else if(Pe=Bl(T,j,ne.Ob[0]),$r[Pe](z,W),Ee!=0)for(A=0;16>A;++A,Ee<<=2)zu(Ee,Me,16*+A,z,W+Ii[A]);for(A=ne.Gc,Pe=Bl(T,j,ne.Dd),la[Pe](X,re),la[Pe](de,Te),Ee=Me,Pe=X,Be=re,255&(ne=0|A)&&(170&ne?Os(Ee,256,Pe,Be):Sn(Ee,256,Pe,Be)),ne=de,Ee=Te,255&(A>>=8)&&(170&A?Os(Me,320,ne,Ee):Sn(Me,320,ne,Ee)),j<d.Ub-1&&(r(ye[Ae].y,0,z,W+480,16),r(ye[Ae].f,0,X,re+224,8),r(ye[Ae].ea,0,de,Te+224,8)),A=8*F*d.B,ye=d.sa,Ae=d.ta+16*T+16*F*d.R,Me=d.qa,ne=d.ra+8*T+A,Ee=d.Ha,Pe=d.Ia+8*T+A,A=0;16>A;++A)r(ye,Ae+A*d.R,z,W+32*A,16);for(A=0;8>A;++A)r(Me,ne+A*d.B,X,re+32*A,8),r(Ee,Pe+A*d.B,de,Te+32*A,8)}}function sa(d,y,A,T,j,F,z,W,X){var re=[0],de=[0],Te=0,ne=X!=null?X.kd:0,ye=X??new Ke;if(d==null||12>A)return 7;ye.data=d,ye.w=y,ye.ha=A,y=[y],A=[A],ye.gb=[ye.gb];e:{var Ae=y,Me=A,Ee=ye.gb;if(e(d!=null),e(Me!=null),e(Ee!=null),Ee[0]=0,12<=Me[0]&&!t(d,Ae[0],"RIFF")){if(t(d,Ae[0]+8,"WEBP")){Ee=3;break e}var Pe=ct(d,Ae[0]+4);if(12>Pe||4294967286<Pe){Ee=3;break e}if(ne&&Pe>Me[0]-8){Ee=7;break e}Ee[0]=Pe,Ae[0]+=12,Me[0]-=12}Ee=0}if(Ee!=0)return Ee;for(Pe=0<ye.gb[0],A=A[0];;){e:{var Be=d;Me=y,Ee=A;var Qe=re,Ye=de,pt=Ae=[0];if((ht=Te=[Te])[0]=0,8>Ee[0])Ee=7;else{if(!t(Be,Me[0],"VP8X")){if(ct(Be,Me[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var at=ct(Be,Me[0]+8),Gt=1+tt(Be,Me[0]+12);if(2147483648<=Gt*(Be=1+tt(Be,Me[0]+15))){Ee=3;break e}pt!=null&&(pt[0]=at),Qe!=null&&(Qe[0]=Gt),Ye!=null&&(Ye[0]=Be),Me[0]+=18,Ee[0]-=18,ht[0]=1}Ee=0}}if(Te=Te[0],Ae=Ae[0],Ee!=0)return Ee;if(Me=!!(2&Ae),!Pe&&Te)return 3;if(F!=null&&(F[0]=!!(16&Ae)),z!=null&&(z[0]=Me),W!=null&&(W[0]=0),z=re[0],Ae=de[0],Te&&Me&&X==null){Ee=0;break}if(4>A){Ee=7;break}if(Pe&&Te||!Pe&&!Te&&!t(d,y[0],"ALPH")){A=[A],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{at=d,Ee=y,Pe=A;var ht=ye.gb;Qe=ye.na,Ye=ye.P,pt=ye.Sa,Gt=22,e(at!=null),e(Pe!=null),Be=Ee[0];var dn=Pe[0];for(e(Qe!=null),e(pt!=null),Qe[0]=null,Ye[0]=null,pt[0]=0;;){if(Ee[0]=Be,Pe[0]=dn,8>dn){Ee=7;break e}var ai=ct(at,Be+4);if(4294967286<ai){Ee=3;break e}var en=8+ai+1&-2;if(Gt+=en,0<ht&&Gt>ht){Ee=3;break e}if(!t(at,Be,"VP8 ")||!t(at,Be,"VP8L")){Ee=0;break e}if(dn[0]<en){Ee=7;break e}t(at,Be,"ALPH")||(Qe[0]=at,Ye[0]=Be+8,pt[0]=ai),Be+=en,dn-=en}}if(A=A[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],Ee!=0)break}A=[A],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(ht=d,Ee=y,Pe=A,Qe=ye.gb[0],Ye=ye.Ja,pt=ye.xa,at=Ee[0],Be=!t(ht,at,"VP8 "),Gt=!t(ht,at,"VP8L"),e(ht!=null),e(Pe!=null),e(Ye!=null),e(pt!=null),8>Pe[0])Ee=7;else{if(Be||Gt){if(ht=ct(ht,at+4),12<=Qe&&ht>Qe-12){Ee=3;break e}if(ne&&ht>Pe[0]-8){Ee=7;break e}Ye[0]=ht,Ee[0]+=8,Pe[0]-=8,pt[0]=Gt}else pt[0]=5<=Pe[0]&&ht[at+0]==47&&!(ht[at+4]>>5),Ye[0]=Pe[0];Ee=0}if(A=A[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],y=y[0],Ee!=0)break;if(4294967286<ye.Ja)return 3;if(W==null||Me||(W[0]=ye.xa?2:1),z=[z],Ae=[Ae],ye.xa){if(5>A){Ee=7;break}W=z,ne=Ae,Me=F,d==null||5>A?d=0:5<=A&&d[y+0]==47&&!(d[y+4]>>5)?(Pe=[0],ht=[0],Qe=[0],Ie(Ye=new K,d,y,A),Fr(Ye,Pe,ht,Qe)?(W!=null&&(W[0]=Pe[0]),ne!=null&&(ne[0]=ht[0]),Me!=null&&(Me[0]=Qe[0]),d=1):d=0):d=0}else{if(10>A){Ee=7;break}W=Ae,d==null||10>A||!ea(d,y+3,A-3)?d=0:(ne=d[y+0]|d[y+1]<<8|d[y+2]<<16,Me=16383&(d[y+7]<<8|d[y+6]),d=16383&(d[y+9]<<8|d[y+8]),1&ne||3<(ne>>1&7)||!(ne>>4&1)||ne>>5>=ye.Ja||!Me||!d?d=0:(z&&(z[0]=Me),W&&(W[0]=d),d=1))}if(!d||(z=z[0],Ae=Ae[0],Te&&(re[0]!=z||de[0]!=Ae)))return 3;X!=null&&(X[0]=ye,X.offset=y-X.w,e(4294967286>y-X.w),e(X.offset==X.ha-A));break}return Ee==0||Ee==7&&Te&&X==null?(F!=null&&(F[0]|=ye.na!=null&&0<ye.na.length),T!=null&&(T[0]=z),j!=null&&(j[0]=Ae),0):Ee}function Wa(d,y,A){var T=y.width,j=y.height,F=0,z=0,W=T,X=j;if(y.Da=d!=null&&0<d.Da,y.Da&&(W=d.cd,X=d.bd,F=d.v,z=d.j,11>A||(F&=-2,z&=-2),0>F||0>z||0>=W||0>=X||F+W>T||z+X>j))return 0;if(y.v=F,y.j=z,y.va=F+W,y.o=z+X,y.U=W,y.T=X,y.da=d!=null&&0<d.da,y.da){if(!Tt(W,X,A=[d.ib],F=[d.hb]))return 0;y.ib=A[0],y.hb=F[0]}return y.ob=d!=null&&d.ob,y.Kb=d==null||!d.Sd,y.da&&(y.ob=y.ib<3*T/4&&y.hb<3*j/4,y.Kb=0),1}function qu(d){if(d==null)return 2;if(11>d.S){var y=d.f.RGBA;y.fb+=(d.height-1)*y.A,y.A=-y.A}else y=d.f.kb,d=d.height,y.O+=(d-1)*y.fa,y.fa=-y.fa,y.N+=(d-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(d-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(d-1)*y.lb,y.lb=-y.lb);return 0}function aa(d,y,A,T){if(T==null||0>=d||0>=y)return 2;if(A!=null){if(A.Da){var j=A.cd,F=A.bd,z=-2&A.v,W=-2&A.j;if(0>z||0>W||0>=j||0>=F||z+j>d||W+F>y)return 2;d=j,y=F}if(A.da){if(!Tt(d,y,j=[A.ib],F=[A.hb]))return 2;d=j[0],y=F[0]}}T.width=d,T.height=y;e:{var X=T.width,re=T.height;if(d=T.S,0>=X||0>=re||!(d>=Rc&&13>d))d=2;else{if(0>=T.Rd&&T.sd==null){z=F=j=y=0;var de=(W=X*Vc[d])*re;if(11>d||(F=(re+1)/2*(y=(X+1)/2),d==12&&(z=(j=X)*re)),(re=o(de+2*F+z))==null){d=1;break e}T.sd=re,11>d?((X=T.f.RGBA).eb=re,X.fb=0,X.A=W,X.size=de):((X=T.f.kb).y=re,X.O=0,X.fa=W,X.Fd=de,X.f=re,X.N=0+de,X.Ab=y,X.Cd=F,X.ea=re,X.W=0+de+F,X.Db=y,X.Ed=F,d==12&&(X.F=re,X.J=0+de+2*F),X.Tc=z,X.lb=j)}if(y=1,j=T.S,F=T.width,z=T.height,j>=Rc&&13>j)if(11>j)d=T.f.RGBA,y&=(W=Math.abs(d.A))*(z-1)+F<=d.size,y&=W>=F*Vc[j],y&=d.eb!=null;else{d=T.f.kb,W=(F+1)/2,de=(z+1)/2,X=Math.abs(d.fa),re=Math.abs(d.Ab);var Te=Math.abs(d.Db),ne=Math.abs(d.lb),ye=ne*(z-1)+F;y&=X*(z-1)+F<=d.Fd,y&=re*(de-1)+W<=d.Cd,y=(y&=Te*(de-1)+W<=d.Ed)&X>=F&re>=W&Te>=W,y&=d.y!=null,y&=d.f!=null,y&=d.ea!=null,j==12&&(y&=ne>=F,y&=ye<=d.Tc,y&=d.F!=null)}else y=0;d=y?0:2}}return d!=0||A!=null&&A.fd&&(d=qu(T)),d}var To=64,os=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xr=24,Ta=32,Na=8,Qa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];rt("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(d){return d},R.Predictor2=function(d,y,A){return y[A+0]},R.Predictor3=function(d,y,A){return y[A+1]},R.Predictor4=function(d,y,A){return y[A-1]},R.Predictor5=function(d,y,A){return bt(bt(d,y[A+1]),y[A+0])},R.Predictor6=function(d,y,A){return bt(d,y[A-1])},R.Predictor7=function(d,y,A){return bt(d,y[A+0])},R.Predictor8=function(d,y,A){return bt(y[A-1],y[A+0])},R.Predictor9=function(d,y,A){return bt(y[A+0],y[A+1])},R.Predictor10=function(d,y,A){return bt(bt(d,y[A-1]),bt(y[A+0],y[A+1]))},R.Predictor11=function(d,y,A){var T=y[A+0];return 0>=Bt(T>>24&255,d>>24&255,(y=y[A-1])>>24&255)+Bt(T>>16&255,d>>16&255,y>>16&255)+Bt(T>>8&255,d>>8&255,y>>8&255)+Bt(255&T,255&d,255&y)?T:d},R.Predictor12=function(d,y,A){var T=y[A+0];return(Wt((d>>24&255)+(T>>24&255)-((y=y[A-1])>>24&255))<<24|Wt((d>>16&255)+(T>>16&255)-(y>>16&255))<<16|Wt((d>>8&255)+(T>>8&255)-(y>>8&255))<<8|Wt((255&d)+(255&T)-(255&y)))>>>0},R.Predictor13=function(d,y,A){var T=y[A-1];return(Zt((d=bt(d,y[A+0]))>>24&255,T>>24&255)<<24|Zt(d>>16&255,T>>16&255)<<16|Zt(d>>8&255,T>>8&255)<<8|Zt(255&d,255&T))>>>0};var Fl=R.PredictorAdd0;R.PredictorAdd1=an,rt("Predictor2","PredictorAdd2"),rt("Predictor3","PredictorAdd3"),rt("Predictor4","PredictorAdd4"),rt("Predictor5","PredictorAdd5"),rt("Predictor6","PredictorAdd6"),rt("Predictor7","PredictorAdd7"),rt("Predictor8","PredictorAdd8"),rt("Predictor9","PredictorAdd9"),rt("Predictor10","PredictorAdd10"),rt("Predictor11","PredictorAdd11"),rt("Predictor12","PredictorAdd12"),rt("Predictor13","PredictorAdd13");var zl=R.PredictorAdd2;yt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),yt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Ni,Nc=R.ColorIndexInverseTransform,Ca=R.MapARGB,Ia=R.VP8LColorIndexInverseTransformAlpha,mr=R.MapAlpha,Xa=R.VP8LPredictorsAdd=[];Xa.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var ql,Hl,$a,Ja,Ra,ll,xs,Za,Lr,Os,Rn,Sn,Zn,Ci,La,oa,ul,Hu,Gh,bd,wd,Ad,Yh,Kh,cl,Ps,Gu,Ts,hl=o(511),Cc=o(2041),Yu=o(225),Ku=o(767),Ic=0,eo=Cc,Wu=Yu,kr=Ku,gr=hl,Rc=0,Dr=1,Lc=2,Ms=3,Qu=4,Gl=5,No=6,Xu=7,kc=8,Yl=9,Dc=10,js=[2,3,7],Kl=[3,3,11],fl=[280,256,256,256,40],Oc=[0,1,1,1,0],$u=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Us=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Vs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Co=8,Bs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ns=null,Sd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Wh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Pc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ed=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],si=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$r=[],bi=[],la=[],Io=1,Qh=2,to=[],vr=[];$e("UpsampleRgbLinePair",dr,3),$e("UpsampleBgrLinePair",Gn,3),$e("UpsampleRgbaLinePair",Qr,4),$e("UpsampleBgraLinePair",xa,4),$e("UpsampleArgbLinePair",Ea,4),$e("UpsampleRgba4444LinePair",Ss,2),$e("UpsampleRgb565LinePair",pr,2);var dl=R.UpsampleRgbLinePair,Xh=R.UpsampleBgrLinePair,Wl=R.UpsampleRgbaLinePair,Mc=R.UpsampleBgraLinePair,Ro=R.UpsampleArgbLinePair,ka=R.UpsampleRgba4444LinePair,Lo=R.UpsampleRgb565LinePair,zs=16,Ql=1<<zs-1,pl=-227,ko=482,jc=6,Do=0,_r=o(256),Uc=o(256),xd=o(256),Ym=o(256),Km=o(ko-pl),Wm=o(ko-pl);Ka("YuvToRgbRow",dr,3),Ka("YuvToBgrRow",Gn,3),Ka("YuvToRgbaRow",Qr,4),Ka("YuvToBgraRow",xa,4),Ka("YuvToArgbRow",Ea,4),Ka("YuvToRgba4444Row",Ss,2),Ka("YuvToRgb565Row",pr,2);var Ii=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xl=[0,2,8],Ju=[8,7,6,4,4,2,2,2,1,1,1,1],Zu=1;this.WebPDecodeRGBA=function(d,y,A,T,j){var F=Dr,z=new je,W=new wt;z.ba=W,W.S=F,W.width=[W.width],W.height=[W.height];var X=W.width,re=W.height,de=new vt;if(de==null||d==null)var Te=2;else e(de!=null),Te=sa(d,y,A,de.width,de.height,de.Pd,de.Qd,de.format,null);if(Te!=0?X=0:(X!=null&&(X[0]=de.width[0]),re!=null&&(re[0]=de.height[0]),X=1),X){W.width=W.width[0],W.height=W.height[0],T!=null&&(T[0]=W.width),j!=null&&(j[0]=W.height);e:{if(T=new er,(j=new Ke).data=d,j.w=y,j.ha=A,j.kd=1,y=[0],e(j!=null),((d=sa(j.data,j.w,j.ha,null,null,null,y,null,j))==0||d==7)&&y[0]&&(d=4),(y=d)==0){if(e(z!=null),T.data=j.data,T.w=j.w+j.offset,T.ha=j.ha-j.offset,T.put=St,T.ac=qi,T.bc=Js,T.ma=z,j.xa){if((d=va())==null){z=1;break e}if((function(ne,ye){var Ae=[0],Me=[0],Ee=[0];t:for(;;){if(ne==null)return 0;if(ye==null)return ne.a=2,0;if(ne.l=ye,ne.a=0,Ie(ne.m,ye.data,ye.w,ye.ha),!Fr(ne.m,Ae,Me,Ee)){ne.a=3;break t}if(ne.xb=Qh,ye.width=Ae[0],ye.height=Me[0],!vs(Ae[0],Me[0],1,ne,null))break t;return 1}return e(ne.a!=0),0})(d,T)){if(T=(y=aa(T.width,T.height,z.Oa,z.ba))==0){t:{T=d;n:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((A=T.l)!=null),e((j=A.ma)!=null),T.xb!=0){if(T.ca=j.ba,T.tb=j.tb,e(T.ca!=null),!Wa(j.Oa,A,Ms)){T.a=2;break n}if(!Nr(T,A.width)||A.da)break n;if((A.da||Pt(T.ca.S))&&Le(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&Le()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!ee(T.s.vb,T.s.Wa.Xa)){T.a=1;break n}T.xb=0}if(!Tr(T,T.V,T.Ba,T.c,T.i,A.o,Zi))break n;j.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(y=d.a)}else y=d.a}else{if((d=new vi)==null){z=1;break e}if(d.Fa=j.na,d.P=j.P,d.qc=j.Sa,ss(d,T)){if((y=aa(T.width,T.height,z.Oa,z.ba))==0){if(d.Aa=0,A=z.Oa,e((j=d)!=null),A!=null){if(0<(X=0>(X=A.Md)?0:100<X?255:255*X/100)){for(re=de=0;4>re;++re)12>(Te=j.pb[re]).lc&&(Te.ia=X*Ju[0>Te.lc?0:Te.lc]>>3),de|=Te.ia;de&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=A.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}(function(ne,ye){if(ne==null)return 0;if(ye==null)return hn(ne,2,"NULL VP8Io parameter in VP8Decode().");if(!ne.cb&&!ss(ne,ye))return 0;if(e(ne.cb),ye.ac==null||ye.ac(ye)){ye.ob&&(ne.L=0);var Ae=Xl[ne.L];if(ne.L==2?(ne.yb=0,ne.zb=0):(ne.yb=ye.v-Ae>>4,ne.zb=ye.j-Ae>>4,0>ne.yb&&(ne.yb=0),0>ne.zb&&(ne.zb=0)),ne.Va=ye.o+15+Ae>>4,ne.Hb=ye.va+15+Ae>>4,ne.Hb>ne.za&&(ne.Hb=ne.za),ne.Va>ne.Ub&&(ne.Va=ne.Ub),0<ne.L){var Me=ne.ed;for(Ae=0;4>Ae;++Ae){var Ee;if(ne.Qa.Cb){var Pe=ne.Qa.Lb[Ae];ne.Qa.Fb||(Pe+=Me.Tb)}else Pe=Me.Tb;for(Ee=0;1>=Ee;++Ee){var Be=ne.gd[Ae][Ee],Qe=Pe;if(Me.Pc&&(Qe+=Me.vd[0],Ee&&(Qe+=Me.od[0])),0<(Qe=0>Qe?0:63<Qe?63:Qe)){var Ye=Qe;0<Me.wb&&(Ye=4<Me.wb?Ye>>2:Ye>>1)>9-Me.wb&&(Ye=9-Me.wb),1>Ye&&(Ye=1),Be.dd=Ye,Be.tc=2*Qe+Ye,Be.ld=40<=Qe?2:15<=Qe?1:0}else Be.tc=0;Be.La=Ee}}}Ae=0}else hn(ne,6,"Frame setup failed"),Ae=ne.a;if(Ae=Ae==0){if(Ae){ne.$c=0,0<ne.Aa||(ne.Ic=Zu);t:{Ae=ne.Ic,Me=4*(Ye=ne.za);var pt=32*Ye,at=Ye+1,Gt=0<ne.L?Ye*(0<ne.Aa?2:1):0,ht=(ne.Aa==2?2:1)*Ye;if((Be=Me+832+(Ee=3*(16*Ae+Xl[ne.L])/2*pt)+(Pe=ne.Fa!=null&&0<ne.Fa.length?ne.Kc.c*ne.Kc.i:0))!=Be)Ae=0;else{if(Be>ne.Vb){if(ne.Vb=0,ne.Ec=o(Be),ne.Fc=0,ne.Ec==null){Ae=hn(ne,1,"no memory during frame initialization.");break t}ne.Vb=Be}Be=ne.Ec,Qe=ne.Fc,ne.Ac=Be,ne.Bc=Qe,Qe+=Me,ne.Gd=c(pt,bo),ne.Hd=0,ne.rb=c(at+1,rs),ne.sb=1,ne.wa=Gt?c(Gt,Cr):null,ne.Y=0,ne.D.Nb=0,ne.D.wa=ne.wa,ne.D.Y=ne.Y,0<ne.Aa&&(ne.D.Y+=Ye),e(!0),ne.oc=Be,ne.pc=Qe,Qe+=832,ne.ya=c(ht,Fa),ne.aa=0,ne.D.ya=ne.ya,ne.D.aa=ne.aa,ne.Aa==2&&(ne.D.aa+=Ye),ne.R=16*Ye,ne.B=8*Ye,Ye=(pt=Xl[ne.L])*ne.R,pt=pt/2*ne.B,ne.sa=Be,ne.ta=Qe+Ye,ne.qa=ne.sa,ne.ra=ne.ta+16*Ae*ne.R+pt,ne.Ha=ne.qa,ne.Ia=ne.ra+8*Ae*ne.B+pt,ne.$c=0,Qe+=Ee,ne.mb=Pe?Be:null,ne.nb=Pe?Qe:null,e(Qe+Pe<=ne.Fc+ne.Vb),_a(ne),a(ne.Ac,ne.Bc,0,Me),Ae=1}}if(Ae){if(ye.ka=0,ye.y=ne.sa,ye.O=ne.ta,ye.f=ne.qa,ye.N=ne.ra,ye.ea=ne.Ha,ye.Vd=ne.Ia,ye.fa=ne.R,ye.Rc=ne.B,ye.F=null,ye.J=0,!Ic){for(Ae=-255;255>=Ae;++Ae)hl[255+Ae]=0>Ae?-Ae:Ae;for(Ae=-1020;1020>=Ae;++Ae)Cc[1020+Ae]=-128>Ae?-128:127<Ae?127:Ae;for(Ae=-112;112>=Ae;++Ae)Yu[112+Ae]=-16>Ae?-16:15<Ae?15:Ae;for(Ae=-255;510>=Ae;++Ae)Ku[255+Ae]=0>Ae?0:255<Ae?255:Ae;Ic=1}xs=Hi,Za=nl,Os=fr,Rn=il,Sn=ta,Lr=Vl,Zn=ol,Ci=As,La=M,oa=ie,ul=xo,Hu=w,Gh=he,bd=ve,wd=ks,Ad=as,Yh=Ya,Kh=Eo,bi[0]=Aa,bi[1]=rl,bi[2]=qa,bi[3]=So,bi[4]=Gi,bi[5]=Ha,bi[6]=Oi,bi[7]=On,bi[8]=Ga,bi[9]=Gr,$r[0]=bs,$r[1]=wo,$r[2]=Ao,$r[3]=na,$r[4]=ia,$r[5]=Rr,$r[6]=wa,la[0]=ra,la[1]=sl,la[2]=ws,la[3]=al,la[4]=Ti,la[5]=Kr,la[6]=Is,Ae=1}else Ae=0}Ae&&(Ae=(function(dn,ai){for(dn.M=0;dn.M<dn.Va;++dn.M){var en,ot=dn.Jc[dn.M&dn.Xb],Ze=dn.m,di=dn;for(en=0;en<di.za;++en){var Ut=Ze,sn=di,Un=sn.Ac,Yi=sn.Bc+4*en,br=sn.zc,ei=sn.ya[sn.aa+en];if(sn.Qa.Bb?ei.$b=Ve(Ut,sn.Pa.jb[0])?2+Ve(Ut,sn.Pa.jb[2]):Ve(Ut,sn.Pa.jb[1]):ei.$b=0,sn.kc&&(ei.Ad=Ve(Ut,sn.Bd)),ei.Za=!Ve(Ut,145)+0,ei.Za){var Pi=ei.Ob,Or=0;for(sn=0;4>sn;++sn){var Mi,cn=br[0+sn];for(Mi=0;4>Mi;++Mi){cn=yr[Un[Yi+Mi]][cn];for(var xn=Pc[Ve(Ut,cn[0])];0<xn;)xn=Pc[2*xn+Ve(Ut,cn[xn])];cn=-xn,Un[Yi+Mi]=cn}r(Pi,Or,Un,Yi,4),Or+=4,br[0+sn]=cn}}else cn=Ve(Ut,156)?Ve(Ut,128)?1:3:Ve(Ut,163)?2:0,ei.Ob[0]=cn,a(Un,Yi,cn,4),a(br,0,cn,4);ei.Dd=Ve(Ut,142)?Ve(Ut,114)?Ve(Ut,183)?1:3:2:0}if(di.m.Ka)return hn(dn,7,"Premature end-of-partition0 encountered.");for(;dn.ja<dn.za;++dn.ja){if(di=ot,Ut=(Ze=dn).rb[Ze.sb-1],Un=Ze.rb[Ze.sb+Ze.ja],en=Ze.ya[Ze.aa+Ze.ja],Yi=Ze.kc?en.Ad:0)Ut.la=Un.la=0,en.Za||(Ut.Na=Un.Na=0),en.Hc=0,en.Gc=0,en.ia=0;else{var pi,Ln;if(Ut=Un,Un=di,Yi=Ze.Pa.Xc,br=Ze.ya[Ze.aa+Ze.ja],ei=Ze.pb[br.$b],sn=br.ad,Pi=0,Or=Ze.rb[Ze.sb-1],cn=Mi=0,a(sn,Pi,0,384),br.Za)var Ki=0,mi=Yi[3];else{xn=o(16);var Tn=Ut.Na+Or.Na;if(Tn=Ns(Un,Yi[1],Tn,ei.Eb,0,xn,0),Ut.Na=Or.Na=(0<Tn)+0,1<Tn)xs(xn,0,sn,Pi);else{var Ri=xn[0]+3>>3;for(xn=0;256>xn;xn+=16)sn[Pi+xn]=Ri}Ki=1,mi=Yi[0]}var Vn=15&Ut.la,ji=15&Or.la;for(xn=0;4>xn;++xn){var Ui=1&ji;for(Ri=Ln=0;4>Ri;++Ri)Vn=Vn>>1|(Ui=(Tn=Ns(Un,mi,Tn=Ui+(1&Vn),ei.Sc,Ki,sn,Pi))>Ki)<<7,Ln=Ln<<2|(3<Tn?3:1<Tn?2:sn[Pi+0]!=0),Pi+=16;Vn>>=4,ji=ji>>1|Ui<<7,Mi=(Mi<<8|Ln)>>>0}for(mi=Vn,Ki=ji>>4,pi=0;4>pi;pi+=2){for(Ln=0,Vn=Ut.la>>4+pi,ji=Or.la>>4+pi,xn=0;2>xn;++xn){for(Ui=1&ji,Ri=0;2>Ri;++Ri)Tn=Ui+(1&Vn),Vn=Vn>>1|(Ui=0<(Tn=Ns(Un,Yi[2],Tn,ei.Qc,0,sn,Pi)))<<3,Ln=Ln<<2|(3<Tn?3:1<Tn?2:sn[Pi+0]!=0),Pi+=16;Vn>>=2,ji=ji>>1|Ui<<5}cn|=Ln<<4*pi,mi|=Vn<<4<<pi,Ki|=(240&ji)<<pi}Ut.la=mi,Or.la=Ki,br.Hc=Mi,br.Gc=cn,br.ia=43690&cn?0:ei.ia,Yi=!(Mi|cn)}if(0<Ze.L&&(Ze.wa[Ze.Y+Ze.ja]=Ze.gd[en.$b][en.Za],Ze.wa[Ze.Y+Ze.ja].La|=!Yi),di.Ka)return hn(dn,7,"Premature end-of-file encountered.")}if(_a(dn),Ze=ai,di=1,en=(ot=dn).D,Ut=0<ot.L&&ot.M>=ot.zb&&ot.M<=ot.Va,ot.Aa==0)t:{if(en.M=ot.M,en.uc=Ut,Es(ot,en),di=1,en=(Ln=ot.D).Nb,Ut=(cn=Xl[ot.L])*ot.R,Un=cn/2*ot.B,xn=16*en*ot.R,Ri=8*en*ot.B,Yi=ot.sa,br=ot.ta-Ut+xn,ei=ot.qa,sn=ot.ra-Un+Ri,Pi=ot.Ha,Or=ot.Ia-Un+Ri,ji=(Vn=Ln.M)==0,Mi=Vn>=ot.Va-1,ot.Aa==2&&Es(ot,Ln),Ln.uc)for(Ui=(Tn=ot).D.M,e(Tn.D.uc),Ln=Tn.yb;Ln<Tn.Hb;++Ln){Ki=Ln,mi=Ui;var Yn=(En=(Vi=Tn).D).Nb;pi=Vi.R;var En=En.wa[En.Y+Ki],Pr=Vi.sa,wi=Vi.ta+16*Yn*pi+16*Ki,Rt=En.dd,Dt=En.tc;if(Dt!=0)if(e(3<=Dt),Vi.L==1)0<Ki&&Ad(Pr,wi,pi,Dt+4),En.La&&Kh(Pr,wi,pi,Dt),0<mi&&wd(Pr,wi,pi,Dt+4),En.La&&Yh(Pr,wi,pi,Dt);else{var Nn=Vi.B,ls=Vi.qa,qs=Vi.ra+8*Yn*Nn+8*Ki,Jr=Vi.Ha,Vi=Vi.Ia+8*Yn*Nn+8*Ki;Yn=En.ld,0<Ki&&(Ci(Pr,wi,pi,Dt+4,Rt,Yn),oa(ls,qs,Jr,Vi,Nn,Dt+4,Rt,Yn)),En.La&&(Hu(Pr,wi,pi,Dt,Rt,Yn),bd(ls,qs,Jr,Vi,Nn,Dt,Rt,Yn)),0<mi&&(Zn(Pr,wi,pi,Dt+4,Rt,Yn),La(ls,qs,Jr,Vi,Nn,Dt+4,Rt,Yn)),En.La&&(ul(Pr,wi,pi,Dt,Rt,Yn),Gh(ls,qs,Jr,Vi,Nn,Dt,Rt,Yn))}}if(ot.ia&&alert("todo:DitherRow"),Ze.put!=null){if(Ln=16*Vn,Vn=16*(Vn+1),ji?(Ze.y=ot.sa,Ze.O=ot.ta+xn,Ze.f=ot.qa,Ze.N=ot.ra+Ri,Ze.ea=ot.Ha,Ze.W=ot.Ia+Ri):(Ln-=cn,Ze.y=Yi,Ze.O=br,Ze.f=ei,Ze.N=sn,Ze.ea=Pi,Ze.W=Or),Mi||(Vn-=cn),Vn>Ze.o&&(Vn=Ze.o),Ze.F=null,Ze.J=null,ot.Fa!=null&&0<ot.Fa.length&&Ln<Vn&&(Ze.J=p(ot,Ze,Ln,Vn-Ln),Ze.F=ot.mb,Ze.F==null&&Ze.F.length==0)){di=hn(ot,3,"Could not decode alpha data.");break t}Ln<Ze.j&&(cn=Ze.j-Ln,Ln=Ze.j,e(!(1&cn)),Ze.O+=ot.R*cn,Ze.N+=ot.B*(cn>>1),Ze.W+=ot.B*(cn>>1),Ze.F!=null&&(Ze.J+=Ze.width*cn)),Ln<Vn&&(Ze.O+=Ze.v,Ze.N+=Ze.v>>1,Ze.W+=Ze.v>>1,Ze.F!=null&&(Ze.J+=Ze.v),Ze.ka=Ln-Ze.j,Ze.U=Ze.va-Ze.v,Ze.T=Vn-Ln,di=Ze.put(Ze))}en+1!=ot.Ic||Mi||(r(ot.sa,ot.ta-Ut,Yi,br+16*ot.R,Ut),r(ot.qa,ot.ra-Un,ei,sn+8*ot.B,Un),r(ot.Ha,ot.Ia-Un,Pi,Or+8*ot.B,Un))}if(!di)return hn(dn,6,"Output aborted.")}return 1})(ne,ye)),ye.bc!=null&&ye.bc(ye),Ae&=1}return Ae?(ne.cb=0,Ae):0})(d,T)||(y=d.a)}}else y=d.a}y==0&&z.Oa!=null&&z.Oa.fd&&(y=qu(z.ba))}z=y}F=z!=0?null:11>F?W.f.RGBA.eb:W.f.kb.y}else F=null;return F};var Vc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(R,q){for(var N="",O=0;O<4;O++)N+=String.fromCharCode(R[q++]);return N}function v(R,q){return R[q+0]|R[q+1]<<8}function S(R,q){return(R[q+0]|R[q+1]<<8|R[q+2]<<16)>>>0}function x(R,q){return(R[q+0]|R[q+1]<<8|R[q+2]<<16|R[q+3]<<24)>>>0}new f;var b=[0],V=[0],B=[],H=new f,U=n,se=(function(R,q){var N={},O=0,I=!1,oe=0,xe=0;if(N.frames=[],!(function(k,K){for(var J=0;J<4;J++)if(k[K+J]!="RIFF".charCodeAt(J))return!0;return!1})(R,q)){for(x(R,q+=4),q+=8;q<R.length;){var ae=m(R,q),pe=x(R,q+=4);q+=4;var fe=pe+(1&pe);switch(ae){case"VP8 ":case"VP8L":N.frames[O]===void 0&&(N.frames[O]={}),($=N.frames[O]).src_off=I?xe:q-8,$.src_size=oe+pe+8,O++,I&&(I=!1,oe=0,xe=0);break;case"VP8X":($=N.header={}).feature_flags=R[q];var Ie=q+4;$.canvas_width=1+S(R,Ie),Ie+=3,$.canvas_height=1+S(R,Ie),Ie+=3;break;case"ALPH":I=!0,oe=fe+8,xe=q-8;break;case"ANIM":($=N.header).bgcolor=x(R,q),Ie=q+4,$.loop_count=v(R,Ie),Ie+=2;break;case"ANMF":var He,$;($=N.frames[O]={}).offset_x=2*S(R,q),q+=3,$.offset_y=2*S(R,q),q+=3,$.width=1+S(R,q),q+=3,$.height=1+S(R,q),q+=3,$.duration=S(R,q),q+=3,He=R[q++],$.dispose=1&He,$.blend=He>>1&1}ae!="ANMF"&&(q+=fe)}return N}})(U,0);se.response=U,se.rgbaoutput=!0,se.dataurl=!1;var Z=se.header?se.header:null,te=se.frames?se.frames:null;if(Z){Z.loop_counter=Z.loop_count,b=[Z.canvas_height],V=[Z.canvas_width];for(var be=0;be<te.length&&te[be].blend!=0;be++);}var Se=te[0],Y=H.WebPDecodeRGBA(U,Se.src_off,Se.src_size,V,b);Se.rgba=Y,Se.imgwidth=V[0],Se.imgheight=b[0];for(var P=0;P<V[0]*b[0]*4;P++)B[P]=Y[P];return this.width=V,this.height=b,this.data=B,this}function dL(){var n,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));n=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function pL(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var e,t,r,a,o,c,h,f,m,v=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new f,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new c,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new c,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new S(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,m=new v}]);var S=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=k;Object.defineProperty(this,"pdf",{get:function(){return K}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(ee){J=!!ee}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(ee){le=!!ee}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(ee){isNaN(ee)||(ce=ee)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(ee){isNaN(ee)||(ge=ee)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(ee){var et;typeof ee=="number"?et=[ee,ee,ee,ee]:((et=new Array(4))[0]=ee[0],et[1]=ee.length>=2?ee[1]:et[0],et[2]=ee.length>=3?ee[2]:et[0],et[3]=ee.length>=4?ee[3]:et[1]),m.margin=et}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(ee){ke=ee}});var Re=0;Object.defineProperty(this,"lastBreak",{get:function(){return Re},set:function(ee){Re=ee}});var Ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ve},set:function(ee){Ve=ee}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(ee){ee instanceof v&&(m=ee)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(ee){m.path=ee}});var Xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xe},set:function(ee){Xe=ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ee){var et;et=x(ee),this.ctx.fillStyle=et.style,this.ctx.isFillTransparent=et.a===0,this.ctx.fillOpacity=et.a,this.pdf.setFillColor(et.r,et.g,et.b,{a:et.a}),this.pdf.setTextColor(et.r,et.g,et.b,{a:et.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ee){var et=x(ee);this.ctx.strokeStyle=et.style,this.ctx.isStrokeTransparent=et.a===0,this.ctx.strokeOpacity=et.a,et.a===0?this.pdf.setDrawColor(255,255,255):(et.a,this.pdf.setDrawColor(et.r,et.g,et.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ee){["butt","round","square"].indexOf(ee)!==-1&&(this.ctx.lineCap=ee,this.pdf.setLineCap(ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ee){isNaN(ee)||(this.ctx.lineWidth=ee,this.pdf.setLineWidth(ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ee){["bevel","round","miter"].indexOf(ee)!==-1&&(this.ctx.lineJoin=ee,this.pdf.setLineJoin(ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ee){isNaN(ee)||(this.ctx.miterLimit=ee,this.pdf.setMiterLimit(ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ee){this.ctx.textBaseline=ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ee){["right","end","center","left","start"].indexOf(ee)!==-1&&(this.ctx.textAlign=ee)}});var nt=null,tt=null,ct=null;Object.defineProperty(this,"fontFaces",{get:function(){return ct},set:function(ee){nt=null,tt=null,ct=ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ee){var et;if(this.ctx.font=ee,(et=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ee))!==null){var Kt=et[1];et[2];var Tt=et[3],Fe=et[4];et[5];var st=et[6],rt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Fe)[2];Fe=Math.floor(rt==="px"?parseFloat(Fe)*this.pdf.internal.scaleFactor:rt==="em"?parseFloat(Fe)*this.pdf.getFontSize():parseFloat(Fe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Fe);var Ct=(function(yt){var ui,$t,Nt=[],jt=yt.trim();if(jt==="")return B1;if(jt in Lb)return[Lb[jt]];for(;jt!=="";){switch($t=null,ui=(jt=Db(jt)).charAt(0)){case'"':case"'":$t=oL(jt.substring(1),ui);break;default:$t=lL(jt)}if($t===null||(Nt.push($t[0]),(jt=Db($t[1]))!==""&&jt.charAt(0)!==","))return B1;jt=jt.replace(/^,/,"")}return Nt})(st);if(this.fontFaces){var bt=(function(yt,ui){var $t=yt.getFontList(),Nt=JSON.stringify($t);if(nt===null||tt!==Nt){var jt=(function(Qt){var At=[];return Object.keys(Qt).forEach(function(In){Qt[In].forEach(function(Pt){var Mt=null;switch(Pt){case"bold":Mt={family:In,weight:"bold"};break;case"italic":Mt={family:In,style:"italic"};break;case"bolditalic":Mt={family:In,weight:"bold",style:"italic"};break;case"":case"normal":Mt={family:In}}Mt!==null&&(Mt.ref={name:In,style:Pt},At.push(Mt))})}),At})($t);nt=(function(Qt){for(var At={},In=0;In<Qt.length;++In){var Pt=V1(Qt[In]),Mt=Pt.family,kn=Pt.stretch,wt=Pt.style,vt=Pt.weight;At[Mt]=At[Mt]||{},At[Mt][kn]=At[Mt][kn]||{},At[Mt][kn][wt]=At[Mt][kn][wt]||{},At[Mt][kn][wt][vt]=Pt}return At})(jt.concat(ui)),tt=Nt}return nt})(this.pdf,this.fontFaces),Wt=Ct.map(function(yt){return{family:yt,stretch:"normal",weight:Tt,style:Kt}}),Zt=(function(yt,ui,$t){for(var Nt=($t=$t||{}).defaultFontFamily||"times",jt=Object.assign({},aL,$t.genericFontFamilies||{}),Qt=null,At=null,In=0;In<ui.length;++In)if(jt[(Qt=V1(ui[In])).family]&&(Qt.family=jt[Qt.family]),yt.hasOwnProperty(Qt.family)){At=yt[Qt.family];break}if(!(At=At||yt[Nt]))throw new Error("Could not find a font-family for the rule '"+kb(Qt)+"' and default family '"+Nt+"'.");if(At=(function(Pt,Mt){if(Mt[Pt])return Mt[Pt];var kn=x0[Pt],wt=kn<=x0.normal?-1:1,vt=Rb(Mt,vA,kn,wt);if(!vt)throw new Error("Could not find a matching font-stretch value for "+Pt);return vt})(Qt.stretch,At),At=(function(Pt,Mt){if(Mt[Pt])return Mt[Pt];for(var kn=yA[Pt],wt=0;wt<kn.length;++wt)if(Mt[kn[wt]])return Mt[kn[wt]];throw new Error("Could not find a matching font-style for "+Pt)})(Qt.style,At),!(At=(function(Pt,Mt){if(Mt[Pt])return Mt[Pt];if(Pt===400&&Mt[500])return Mt[500];if(Pt===500&&Mt[400])return Mt[400];var kn=sL[Pt],wt=Rb(Mt,_A,kn,Pt<400?-1:1);if(!wt)throw new Error("Could not find a matching font-weight for value "+Pt);return wt})(Qt.weight,At)))throw new Error("Failed to resolve a font for the rule '"+kb(Qt)+"'.");return At})(bt,Wt);this.pdf.setFont(Zt.ref.name,Zt.ref.style)}else{var Bt="";(Tt==="bold"||parseInt(Tt,10)>=700||Kt==="bold")&&(Bt="bold"),Kt==="italic"&&(Bt+="italic"),Bt.length===0&&(Bt="normal");for(var an="",Xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<Ct.length;gt++){if(this.pdf.internal.getFont(Ct[gt],Bt,{noFallback:!0,disableWarning:!0})!==void 0){an=Ct[gt];break}if(Bt==="bolditalic"&&this.pdf.internal.getFont(Ct[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)an=Ct[gt],Bt="bold";else if(this.pdf.internal.getFont(Ct[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){an=Ct[gt],Bt="normal";break}}if(an===""){for(var Ht=0;Ht<Ct.length;Ht++)if(Xt[Ct[Ht]]){an=Xt[Ct[Ht]];break}}an=an===""?"Times":an,this.pdf.setFont(an,Bt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ee){this.ctx.globalCompositeOperation=ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ee){this.ctx.globalAlpha=ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ee){this.ctx.lineDashOffset=ee,$.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ee){this.ctx.lineDash=ee,$.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ee){this.ctx.ignoreClearRect=!!ee}})};S.prototype.setLineDash=function(k){this.lineDash=k},S.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},S.prototype.fill=function(){te.call(this,"fill",!1)},S.prototype.stroke=function(){te.call(this,"stroke",!1)},S.prototype.beginPath=function(){this.path=[{type:"begin"}]},S.prototype.moveTo=function(k,K){if(isNaN(k)||isNaN(K))throw li.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new c(k,K));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new c(k,K)},S.prototype.closePath=function(){var k=new c(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&Qn(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){k=new c(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(k.x,k.y)},S.prototype.lineTo=function(k,K){if(isNaN(k)||isNaN(K))throw li.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new c(k,K));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new c(J.x,J.y)},S.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),te.call(this,null,!0)},S.prototype.quadraticCurveTo=function(k,K,J,le){if(isNaN(J)||isNaN(le)||isNaN(k)||isNaN(K))throw li.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new c(J,le)),ge=this.ctx.transform.applyToPoint(new c(k,K));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new c(ce.x,ce.y)},S.prototype.bezierCurveTo=function(k,K,J,le,ce,ge){if(isNaN(ce)||isNaN(ge)||isNaN(k)||isNaN(K)||isNaN(J)||isNaN(le))throw li.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new c(ce,ge)),Re=this.ctx.transform.applyToPoint(new c(k,K)),Ve=this.ctx.transform.applyToPoint(new c(J,le));this.path.push({type:"bct",x1:Re.x,y1:Re.y,x2:Ve.x,y2:Ve.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new c(ke.x,ke.y)},S.prototype.arc=function(k,K,J,le,ce,ge){if(isNaN(k)||isNaN(K)||isNaN(J)||isNaN(le)||isNaN(ce))throw li.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new c(k,K));k=ke.x,K=ke.y;var Re=this.ctx.transform.applyToPoint(new c(0,J)),Ve=this.ctx.transform.applyToPoint(new c(0,0));J=Math.sqrt(Math.pow(Re.x-Ve.x,2)+Math.pow(Re.y-Ve.y,2))}Math.abs(ce-le)>=2*Math.PI&&(le=0,ce=2*Math.PI),this.path.push({type:"arc",x:k,y:K,radius:J,startAngle:le,endAngle:ce,counterclockwise:ge})},S.prototype.arcTo=function(k,K,J,le,ce){throw new Error("arcTo not implemented.")},S.prototype.rect=function(k,K,J,le){if(isNaN(k)||isNaN(K)||isNaN(J)||isNaN(le))throw li.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,K),this.lineTo(k+J,K),this.lineTo(k+J,K+le),this.lineTo(k,K+le),this.lineTo(k,K),this.lineTo(k+J,K),this.lineTo(k,K)},S.prototype.fillRect=function(k,K,J,le){if(isNaN(k)||isNaN(K)||isNaN(J)||isNaN(le))throw li.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,K,J,le),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},S.prototype.strokeRect=function(k,K,J,le){if(isNaN(k)||isNaN(K)||isNaN(J)||isNaN(le))throw li.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");V.call(this)||(this.beginPath(),this.rect(k,K,J,le),this.stroke())},S.prototype.clearRect=function(k,K,J,le){if(isNaN(k)||isNaN(K)||isNaN(J)||isNaN(le))throw li.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,K,J,le))},S.prototype.save=function(k){k=typeof k!="boolean"||k;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},S.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(K),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},S.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(k){var K,J,le,ce;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))K=0,J=0,le=0,ce=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(ge!==null)K=parseInt(ge[1]),J=parseInt(ge[2]),le=parseInt(ge[3]),ce=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)K=parseInt(ge[1]),J=parseInt(ge[2]),le=parseInt(ge[3]),ce=parseFloat(ge[4]);else{if(ce=1,typeof k=="string"&&k.charAt(0)!=="#"){var ke=new cA(k);k=ke.ok?ke.toHex():"#000000"}k.length===4?(K=k.substring(1,2),K+=K,J=k.substring(2,3),J+=J,le=k.substring(3,4),le+=le):(K=k.substring(1,3),J=k.substring(3,5),le=k.substring(5,7)),K=parseInt(K,16),J=parseInt(J,16),le=parseInt(le,16)}}return{r:K,g:J,b:le,a:ce,style:k}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},V=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};S.prototype.fillText=function(k,K,J,le){if(isNaN(K)||isNaN(J)||typeof k!="string")throw li.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!b.call(this)){var ce=fe(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;O.call(this,{text:k,x:K,y:J,scale:ge,angle:ce,align:this.textAlign,maxWidth:le})}},S.prototype.strokeText=function(k,K,J,le){if(isNaN(K)||isNaN(J)||typeof k!="string")throw li.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!V.call(this)){le=isNaN(le)?void 0:le;var ce=fe(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;O.call(this,{text:k,x:K,y:J,scale:ge,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:le})}},S.prototype.measureText=function(k){if(typeof k!="string")throw li.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,J=this.pdf.internal.scaleFactor,le=K.internal.getFontSize(),ce=K.getStringUnitWidth(k)*le/K.internal.scaleFactor;return new function(ge){var ke=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this}({width:ce*=Math.round(96*J/72*1e4)/1e4})},S.prototype.scale=function(k,K){if(isNaN(k)||isNaN(K))throw li.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new f(k,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},S.prototype.rotate=function(k){if(isNaN(k))throw li.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new f(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},S.prototype.translate=function(k,K){if(isNaN(k)||isNaN(K))throw li.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new f(1,0,0,1,k,K);this.ctx.transform=this.ctx.transform.multiply(J)},S.prototype.transform=function(k,K,J,le,ce,ge){if(isNaN(k)||isNaN(K)||isNaN(J)||isNaN(le)||isNaN(ce)||isNaN(ge))throw li.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new f(k,K,J,le,ce,ge);this.ctx.transform=this.ctx.transform.multiply(ke)},S.prototype.setTransform=function(k,K,J,le,ce,ge){k=isNaN(k)?1:k,K=isNaN(K)?0:K,J=isNaN(J)?0:J,le=isNaN(le)?1:le,ce=isNaN(ce)?0:ce,ge=isNaN(ge)?0:ge,this.ctx.transform=new f(k,K,J,le,ce,ge)};var B=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};S.prototype.drawImage=function(k,K,J,le,ce,ge,ke,Re,Ve){var Xe=this.pdf.getImageProperties(k),nt=1,tt=1,ct=1,ee=1;le!==void 0&&Re!==void 0&&(ct=Re/le,ee=Ve/ce,nt=Xe.width/le*Re/le,tt=Xe.height/ce*Ve/ce),ge===void 0&&(ge=K,ke=J,K=0,J=0),le!==void 0&&Re===void 0&&(Re=le,Ve=ce),le===void 0&&Re===void 0&&(Re=Xe.width,Ve=Xe.height);var et=this.ctx.transform.decompose(),Kt=fe(et.rotate.shx),Tt=new f,Fe=(Tt=(Tt=(Tt=Tt.multiply(et.translate)).multiply(et.skew)).multiply(et.scale)).applyToRectangle(new h(ge-K*ct,ke-J*ee,le*nt,ce*tt));if(this.autoPaging){for(var st,rt=H.call(this,Fe),Ct=[],bt=0;bt<rt.length;bt+=1)Ct.indexOf(rt[bt])===-1&&Ct.push(rt[bt]);Z(Ct);for(var Wt=Ct[0],Zt=Ct[Ct.length-1],Bt=Wt;Bt<Zt+1;Bt++){this.pdf.setPage(Bt);var an=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xt=Bt===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=Bt===1?0:gt+(Bt-2)*Ht;if(this.ctx.clip_path.length!==0){var ui=this.path;st=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=se(st,this.posX+this.margin[3],-yt+Xt+this.ctx.prevPageLastElemOffset),be.call(this,"fill",!0),this.path=ui}var $t=JSON.parse(JSON.stringify(Fe));$t=se([$t],this.posX+this.margin[3],-yt+Xt+this.ctx.prevPageLastElemOffset)[0];var Nt=(Bt>Wt||Bt<Zt)&&B.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],an,Ht,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",$t.x,$t.y,$t.w,$t.h,null,null,Kt),Nt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(k,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,Kt)};var H=function(k,K,J){var le=[];K=K||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":le.push(Math.floor((k.y+ce)/J)+1);break;case"arc":le.push(Math.floor((k.y+ce-k.radius)/J)+1),le.push(Math.floor((k.y+ce+k.radius)/J)+1);break;case"qct":var ge=Ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);le.push(Math.floor((ge.y+ce)/J)+1),le.push(Math.floor((ge.y+ge.h+ce)/J)+1);break;case"bct":var ke=He(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);le.push(Math.floor((ke.y+ce)/J)+1),le.push(Math.floor((ke.y+ke.h+ce)/J)+1);break;case"rect":le.push(Math.floor((k.y+ce)/J)+1),le.push(Math.floor((k.y+k.h+ce)/J)+1)}for(var Re=0;Re<le.length;Re+=1)for(;this.pdf.internal.getNumberOfPages()<le[Re];)U.call(this);return le},U=function(){var k=this.fillStyle,K=this.strokeStyle,J=this.font,le=this.lineCap,ce=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=K,this.font=J,this.lineCap=le,this.lineWidth=ce,this.lineJoin=ge},se=function(k,K,J){for(var le=0;le<k.length;le++)switch(k[le].type){case"bct":k[le].x2+=K,k[le].y2+=J;case"qct":k[le].x1+=K,k[le].y1+=J;default:k[le].x+=K,k[le].y+=J}return k},Z=function(k){return k.sort(function(K,J){return K-J})},te=function(k,K){var J=this.fillStyle,le=this.strokeStyle,ce=this.lineCap,ge=this.lineWidth,ke=Math.abs(ge*this.ctx.transform.scaleX),Re=this.lineJoin;if(this.autoPaging){for(var Ve,Xe,nt=JSON.parse(JSON.stringify(this.path)),tt=JSON.parse(JSON.stringify(this.path)),ct=[],ee=0;ee<tt.length;ee++)if(tt[ee].x!==void 0)for(var et=H.call(this,tt[ee]),Kt=0;Kt<et.length;Kt+=1)ct.indexOf(et[Kt])===-1&&ct.push(et[Kt]);for(var Tt=0;Tt<ct.length;Tt++)for(;this.pdf.internal.getNumberOfPages()<ct[Tt];)U.call(this);Z(ct);for(var Fe=ct[0],st=ct[ct.length-1],rt=Fe;rt<st+1;rt++){this.pdf.setPage(rt),this.fillStyle=J,this.strokeStyle=le,this.lineCap=ce,this.lineWidth=ke,this.lineJoin=Re;var Ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=rt===1?this.posY+this.margin[0]:this.margin[0],Wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Bt=rt===1?0:Wt+(rt-2)*Zt;if(this.ctx.clip_path.length!==0){var an=this.path;Ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=se(Ve,this.posX+this.margin[3],-Bt+bt+this.ctx.prevPageLastElemOffset),be.call(this,k,!0),this.path=an}if(Xe=JSON.parse(JSON.stringify(nt)),this.path=se(Xe,this.posX+this.margin[3],-Bt+bt+this.ctx.prevPageLastElemOffset),K===!1||rt===0){var Xt=(rt>Fe||rt<st)&&B.call(this);Xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ct,Zt,null).clip().discardPath()),be.call(this,k,K),Xt&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}this.path=nt}else this.lineWidth=ke,be.call(this,k,K),this.lineWidth=ge},be=function(k,K){if((k!=="stroke"||K||!V.call(this))&&(k==="stroke"||K||!b.call(this))){for(var J,le,ce=[],ge=this.path,ke=0;ke<ge.length;ke++){var Re=ge[ke];switch(Re.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Re,deltas:[],abs:[]});break;case"lt":var Ve=ce.length;if(ge[ke-1]&&!isNaN(ge[ke-1].x)&&(J=[Re.x-ge[ke-1].x,Re.y-ge[ke-1].y],Ve>0)){for(;Ve>=0;Ve--)if(ce[Ve-1].close!==!0&&ce[Ve-1].begin!==!0){ce[Ve-1].deltas.push(J),ce[Ve-1].abs.push(Re);break}}break;case"bct":J=[Re.x1-ge[ke-1].x,Re.y1-ge[ke-1].y,Re.x2-ge[ke-1].x,Re.y2-ge[ke-1].y,Re.x-ge[ke-1].x,Re.y-ge[ke-1].y],ce[ce.length-1].deltas.push(J);break;case"qct":var Xe=ge[ke-1].x+2/3*(Re.x1-ge[ke-1].x),nt=ge[ke-1].y+2/3*(Re.y1-ge[ke-1].y),tt=Re.x+2/3*(Re.x1-Re.x),ct=Re.y+2/3*(Re.y1-Re.y),ee=Re.x,et=Re.y;J=[Xe-ge[ke-1].x,nt-ge[ke-1].y,tt-ge[ke-1].x,ct-ge[ke-1].y,ee-ge[ke-1].x,et-ge[ke-1].y],ce[ce.length-1].deltas.push(J);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Re)}}le=K?null:k==="stroke"?"stroke":"fill";for(var Kt=!1,Tt=0;Tt<ce.length;Tt++)if(ce[Tt].arc)for(var Fe=ce[Tt].abs,st=0;st<Fe.length;st++){var rt=Fe[st];rt.type==="arc"?P.call(this,rt.x,rt.y,rt.radius,rt.startAngle,rt.endAngle,rt.counterclockwise,void 0,K,!Kt):I.call(this,rt.x,rt.y),Kt=!0}else if(ce[Tt].close===!0)this.pdf.internal.out("h"),Kt=!1;else if(ce[Tt].begin!==!0){var Ct=ce[Tt].start.x,bt=ce[Tt].start.y;oe.call(this,ce[Tt].deltas,Ct,bt),Kt=!0}le&&R.call(this,le),K&&q.call(this)}},Se=function(k){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-J;case"top":return k+K-J;case"hanging":return k+K-2*J;case"middle":return k+K/2-J;default:return k}},Y=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};S.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(K,J){this.colorStops.push([K,J])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},S.prototype.createPattern=function(){return this.createLinearGradient()},S.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(k,K,J,le,ce,ge,ke,Re,Ve){for(var Xe=ae.call(this,J,le,ce,ge),nt=0;nt<Xe.length;nt++){var tt=Xe[nt];nt===0&&(Ve?N.call(this,tt.x1+k,tt.y1+K):I.call(this,tt.x1+k,tt.y1+K)),xe.call(this,k,K,tt.x2,tt.y2,tt.x3,tt.y3,tt.x4,tt.y4)}Re?q.call(this):R.call(this,ke)},R=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(k,K){this.pdf.internal.out(t(k)+" "+r(K)+" m")},O=function(k){var K;switch(k.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var J,le,ce,ge=this.pdf.getTextDimensions(k.text),ke=Se.call(this,k.y),Re=Y.call(this,ke)-ge.h,Ve=this.ctx.transform.applyToPoint(new c(k.x,ke));if(this.autoPaging){var Xe=this.ctx.transform.decompose(),nt=new f;nt=(nt=(nt=nt.multiply(Xe.translate)).multiply(Xe.skew)).multiply(Xe.scale);for(var tt=this.ctx.transform.applyToRectangle(new h(k.x,ke,ge.w,ge.h)),ct=nt.applyToRectangle(new h(k.x,Re,ge.w,ge.h)),ee=H.call(this,ct),et=[],Kt=0;Kt<ee.length;Kt+=1)et.indexOf(ee[Kt])===-1&&et.push(ee[Kt]);Z(et);for(var Tt=et[0],Fe=et[et.length-1],st=Tt;st<Fe+1;st++){this.pdf.setPage(st);var rt=st===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[2],Wt=bt-this.margin[0],Zt=this.pdf.internal.pageSize.width-this.margin[1],Bt=Zt-this.margin[3],an=st===1?0:Ct+(st-2)*Wt;if(this.ctx.clip_path.length!==0){var Xt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=se(J,this.posX+this.margin[3],-1*an+rt),be.call(this,"fill",!0),this.path=Xt}var gt=se([JSON.parse(JSON.stringify(ct))],this.posX+this.margin[3],-an+rt+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*k.scale),ce=this.lineWidth,this.lineWidth=ce*k.scale);var Ht=this.autoPaging!=="text";if(Ht||gt.y+gt.h<=bt){if(Ht||gt.y>=rt&&gt.x<=Zt){var yt=Ht?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||Zt-gt.x)[0],ui=se([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-an+rt+this.ctx.prevPageLastElemOffset)[0],$t=Ht&&(st>Tt||st<Fe)&&B.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bt,Wt,null).clip().discardPath()),this.pdf.text(yt,ui.x,ui.y,{angle:k.angle,align:K,renderingMode:k.renderingMode}),$t&&this.pdf.restoreGraphicsState()}}else gt.y<bt&&(this.ctx.prevPageLastElemOffset+=bt-gt.y);k.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ce)}}else k.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*k.scale),ce=this.lineWidth,this.lineWidth=ce*k.scale),this.pdf.text(k.text,Ve.x+this.posX,Ve.y+this.posY,{angle:k.angle,align:K,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ce)},I=function(k,K,J,le){J=J||0,le=le||0,this.pdf.internal.out(t(k+J)+" "+r(K+le)+" l")},oe=function(k,K,J){return this.pdf.lines(k,K,J,null,null)},xe=function(k,K,J,le,ce,ge,ke,Re){this.pdf.internal.out([e(a(J+k)),e(o(le+K)),e(a(ce+k)),e(o(ge+K)),e(a(ke+k)),e(o(Re+K)),"c"].join(" "))},ae=function(k,K,J,le){for(var ce=2*Math.PI,ge=Math.PI/2;K>J;)K-=ce;var ke=Math.abs(J-K);ke<ce&&le&&(ke=ce-ke);for(var Re=[],Ve=le?-1:1,Xe=K;ke>1e-5;){var nt=Xe+Ve*Math.min(ke,ge);Re.push(pe.call(this,k,Xe,nt)),ke-=Math.abs(nt-Xe),Xe=nt}return Re},pe=function(k,K,J){var le=(J-K)/2,ce=k*Math.cos(le),ge=k*Math.sin(le),ke=ce,Re=-ge,Ve=ke*ke+Re*Re,Xe=Ve+ke*ce+Re*ge,nt=4/3*(Math.sqrt(2*Ve*Xe)-Xe)/(ke*ge-Re*ce),tt=ke-nt*Re,ct=Re+nt*ke,ee=tt,et=-ct,Kt=le+K,Tt=Math.cos(Kt),Fe=Math.sin(Kt);return{x1:k*Math.cos(K),y1:k*Math.sin(K),x2:tt*Tt-ct*Fe,y2:tt*Fe+ct*Tt,x3:ee*Tt-et*Fe,y3:ee*Fe+et*Tt,x4:k*Math.cos(J),y4:k*Math.sin(J)}},fe=function(k){return 180*k/Math.PI},Ie=function(k,K,J,le,ce,ge){var ke=k+.5*(J-k),Re=K+.5*(le-K),Ve=ce+.5*(J-ce),Xe=ge+.5*(le-ge),nt=Math.min(k,ce,ke,Ve),tt=Math.max(k,ce,ke,Ve),ct=Math.min(K,ge,Re,Xe),ee=Math.max(K,ge,Re,Xe);return new h(nt,ct,tt-nt,ee-ct)},He=function(k,K,J,le,ce,ge,ke,Re){var Ve,Xe,nt,tt,ct,ee,et,Kt,Tt,Fe,st,rt,Ct,bt,Wt=J-k,Zt=le-K,Bt=ce-J,an=ge-le,Xt=ke-ce,gt=Re-ge;for(Xe=0;Xe<41;Xe++)Tt=(et=(nt=k+(Ve=Xe/40)*Wt)+Ve*((ct=J+Ve*Bt)-nt))+Ve*(ct+Ve*(ce+Ve*Xt-ct)-et),Fe=(Kt=(tt=K+Ve*Zt)+Ve*((ee=le+Ve*an)-tt))+Ve*(ee+Ve*(ge+Ve*gt-ee)-Kt),Xe==0?(st=Tt,rt=Fe,Ct=Tt,bt=Fe):(st=Math.min(st,Tt),rt=Math.min(rt,Fe),Ct=Math.max(Ct,Tt),bt=Math.max(bt,Fe));return new h(Math.round(st),Math.round(rt),Math.round(Ct-st),Math.round(bt-rt))},$=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,K,J=(k=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:K}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(xt.API),(function(n){var e=function(c){var h,f,m,v,S,x,b,V,B,H;for(f=[],m=0,v=(c+=h="\0\0\0\0".slice(c.length%4||4)).length;v>m;m+=4)(S=(c.charCodeAt(m)<<24)+(c.charCodeAt(m+1)<<16)+(c.charCodeAt(m+2)<<8)+c.charCodeAt(m+3))!==0?(x=(S=((S=((S=((S=(S-(H=S%85))/85)-(B=S%85))/85)-(V=S%85))/85)-(b=S%85))/85)%85,f.push(x+33,b+33,V+33,B+33,H+33)):f.push(122);return(function(U,se){for(var Z=se;Z>0;Z--)U.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},t=function(c){var h,f,m,v,S,x=String,b="length",V=255,B="charCodeAt",H="slice",U="replace";for(c[H](-2),c=c[H](0,-2)[U](/\s/g,"")[U]("z","!!!!!"),m=[],v=0,S=(c+=h="uuuuu"[H](c[b]%5||5))[b];S>v;v+=5)f=52200625*(c[B](v)-33)+614125*(c[B](v+1)-33)+7225*(c[B](v+2)-33)+85*(c[B](v+3)-33)+(c[B](v+4)-33),m.push(V&f>>24,V&f>>16,V&f>>8,V&f);return(function(se,Z){for(var te=Z;te>0;te--)se.pop()})(m,h[b]),x.fromCharCode.apply(x,m)},r=function(c){return c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),h.test(c)===!1)return"";for(var f="",m=0;m<c.length;m+=2)f+=String.fromCharCode("0x"+(c[m]+c[m+1]));return f},o=function(c){for(var h=new Uint8Array(c.length),f=c.length;f--;)h[f]=c.charCodeAt(f);return(h=v0(h)).reduce(function(m,v){return m+String.fromCharCode(v)},"")};n.processDataByFilters=function(c,h){var f=0,m=c||"",v=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":m=t(m),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=e(m),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=a(m),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=r(m),v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=o(m),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:m,reverseChain:v.reverse().join(" ")}}})(xt.API),(function(n){n.loadFile=function(e,t,r){return(function(a,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var h=void 0;try{h=(function(f,m,v){var S=new XMLHttpRequest,x=0,b=function(V){var B=V.length,H=[],U=String.fromCharCode;for(x=0;x<B;x+=1)H.push(U(255&V.charCodeAt(x)));return H.join("")};if(S.open("GET",f,!m),S.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(S.onload=function(){S.status===200?v(b(this.responseText)):v(void 0)}),S.send(null),m&&S.status===200)return b(S.responseText)})(a,o,c)}catch{}return h})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(xt.API),(function(n){function e(){return(Yt.html2canvas?Promise.resolve(Yt.html2canvas):Uf(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function t(){return(Yt.DOMPurify?Promise.resolve(Yt.DOMPurify):Uf(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var r=function(h){var f=Qn(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(h,f){var m=document.createElement(h);for(var v in f.className&&(m.className=f.className),f.innerHTML&&f.dompurify&&(m.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)m.style[v]=f.style[v];return m},o=function h(f,m){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),S=f.firstChild;S;S=S.nextSibling)m!==!0&&S.nodeType===1&&S.nodeName==="SCRIPT"||v.appendChild(h(S,m));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v},c=function h(f){var m=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),v=h.convert(Promise.resolve(),m);return(v=v.setProgress(1,h,1,[h])).set(f)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(h,f){return h.__proto__=f||c.prototype,h},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(m){switch(r(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(t).then(function(m){return this.set({src:a("div",{innerHTML:h,dompurify:m})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},c.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,f(this.prop.container,m)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var m=this.opt.jsPDF,v=this.opt.fontFaces,S=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:S,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=v,v)for(var b=0;b<v.length;++b){var V=v[b],B=V.src.find(function(H){return H.format==="truetype"});B&&m.addFont(B.url,V.ref.name,V.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,m.context2d.save(!0),f(this.prop.container,x)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(h,f,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},c.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},c.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},c.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(h){if(r(h)!=="object")return this;var f=Object.keys(h||{}).map(function(m){if(m in c.template.prop)return function(){this.prop[m]=h[m]};switch(m){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[m]=h[m]}}},this);return this.then(function(){return this.thenList(f)})},c.prototype.get=function(h,f){return this.then(function(){var m=h in c.template.prop?this.prop[h]:this.opt[h];return f?f(m):m})},c.prototype.setMargin=function(h){return this.then(function(){switch(r(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},c.prototype.setPageSize=function(h){function f(m,v){return Math.floor(m*v/72*96)}return this.then(function(){(h=h||xt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},c.prototype.setProgress=function(h,f,m,v){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),m!=null&&(this.progress.n=m),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(h,f,m,v){return this.setProgress(h?this.progress.val+h:null,f||null,m?this.progress.n+m:null,v?this.progress.stack.concat(v):null)},c.prototype.then=function(h,f){var m=this;return this.thenCore(h,f,function(v,S){return m.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(x){return m.updateProgress(null,v),x}).then(v,S).then(function(x){return m.updateProgress(1),x})})},c.prototype.thenCore=function(h,f,m){m=m||Promise.prototype.then;var v=this;h&&(h=h.bind(v)),f&&(f=f.bind(v));var S=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?v:c.convert(Object.assign({},v),Promise.prototype),x=m.call(S,h,f);return c.convert(x,v.__proto__)},c.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},c.prototype.thenList=function(h){var f=this;return h.forEach(function(m){f=f.thenCore(m)}),f},c.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return c.convert(f,this)},c.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},c.prototype.error=function(h){return this.then(function(){throw new Error(h)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,xt.getPageSize=function(h,f,m){if(Qn(h)==="object"){var v=h;h=v.orientation,f=v.unit||f,m=v.format||m}f=f||"mm",m=m||"a4",h=(""+(h||"P")).toLowerCase();var S,x=(""+m).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":S=1;break;case"mm":S=72/25.4;break;case"cm":S=72/2.54;break;case"in":S=72;break;case"px":S=.75;break;case"pc":case"em":S=12;break;case"ex":S=6;break;default:throw"Invalid unit: "+f}var V,B=0,H=0;if(b.hasOwnProperty(x))B=b[x][1]/S,H=b[x][0]/S;else try{B=m[1],H=m[0]}catch{throw new Error("Invalid format: "+m)}if(h==="p"||h==="portrait")h="p",H>B&&(V=H,H=B,B=V);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",B>H&&(V=H,H=B,B=V)}return{width:H,height:B,unit:f,k:S,orientation:h}},n.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(V1):null;var m=new c(f);return f.worker?m:m.from(h).doCallback()}})(xt.API),xt.API.addJS=function(n){var e,t,r=(function(a){for(var o="",c=0;c<a.length;c++){var h=a[c];if(h==="("||h===")"){for(var f=0,m=c-1;m>=0&&a[m]==="\\";m--)f++;o+=f%2==0?"\\"+h:h}else o+=h}return o})(n);return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var c=a[o],h=r.exec(c);if(h!=null){var f=h[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,v=[];for(o=0;o<m;o++){var S=t.internal.newObject();v.push(S);var x=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var b=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<v.length;o++)t.internal.write("(page_"+(o+1)+")"+v[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+b+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,a,o){var c={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var c=r.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var h=this.count=this.count_r({count:0},c);if(h>0&&this.line("/Count "+h),c.options&&c.options.pageNumber){var f=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var m=0;m<r.children.length;m++)this.renderItems(r.children[m])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])})(xt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,a,o,c,h){var f,m=this.decode.DCT_DECODE,v=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(S){for(var x,b=256*S.charCodeAt(4)+S.charCodeAt(5),V=S.length,B={width:0,height:0,numcomponents:1},H=4;H<V;H+=2){if(H+=b,e.indexOf(S.charCodeAt(H+1))!==-1){x=256*S.charCodeAt(H+5)+S.charCodeAt(H+6),B={width:256*S.charCodeAt(H+7)+S.charCodeAt(H+8),height:x,numcomponents:S.charCodeAt(H+9)};break}b=256*S.charCodeAt(H+2)+S.charCodeAt(H+3)}return B})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}v={data:t,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:m,index:r,alias:a}}return v}})(xt.API),xt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=G7(n,{checkCrc:!0}),c=o.width,h=o.height,f=o.channels,m=o.palette,v=o.depth;a=m&&f===1?(function(P){for(var R=P.width,q=P.height,N=P.data,O=P.palette,I=P.depth,oe=!1,xe=[],ae=[],pe=void 0,fe=!1,Ie=0,He=0;He<O.length;He++){var $=V_(O[He],4),k=$[0],K=$[1],J=$[2],le=$[3];xe.push(k,K,J),le!=null&&(le===0?(Ie++,ae.length<1&&ae.push(He)):le<255&&(fe=!0))}if(fe||Ie>1){oe=!0,ae=void 0;var ce=R*q;pe=new Uint8Array(ce);for(var ge=new DataView(N.buffer),ke=0;ke<ce;ke++){var Re=F1(ge,ke,I),Ve=V_(O[Re],4)[3];pe[ke]=Ve}}else Ie===0&&(ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:oe?8:void 0,colorBytes:N,alphaBytes:pe,needSMask:oe,palette:xe,mask:ae}})(o):f===2||f===4?(function(P){for(var R=P.data,q=P.width,N=P.height,O=P.channels,I=P.depth,oe=O===2?"DeviceGray":"DeviceRGB",xe=O-1,ae=q*N,pe=xe,fe=ae*pe,Ie=1*ae,He=Math.ceil(fe*I/8),$=Math.ceil(Ie*I/8),k=new Uint8Array(He),K=new Uint8Array($),J=new DataView(R.buffer),le=new DataView(k.buffer),ce=new DataView(K.buffer),ge=!1,ke=0;ke<ae;ke++){for(var Re=ke*O,Ve=0;Ve<pe;Ve++)zb(le,F1(J,Re+Ve,I),ke*pe+Ve,I);var Xe=F1(J,Re+pe,I);Xe<(1<<I)-1&&(ge=!0),zb(ce,Xe,1*ke,I)}return{colorSpace:oe,colorsPerPixel:xe,sMaskBitsPerComponent:ge?I:void 0,colorBytes:k,alphaBytes:K,needSMask:ge}})(o):(function(P){var R=P.data,q=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(N){for(var O=N.length,I=new Uint8Array(2*O),oe=new DataView(I.buffer,I.byteOffset,I.byteLength),xe=0;xe<O;xe++)oe.setUint16(2*xe,N[xe],!1);return I})(R):R,needSMask:!1}})(o);var S,x,b,V=a,B=V.colorSpace,H=V.colorsPerPixel,U=V.sMaskBitsPerComponent,se=V.colorBytes,Z=V.alphaBytes,te=V.needSMask,be=V.palette,Se=V.mask,Y=null;return r!==xt.API.image_compression.NONE&&typeof v0=="function"?(Y=(function(P){var R;switch(P){case xt.API.image_compression.FAST:R=11;break;case xt.API.image_compression.MEDIUM:R=13;break;case xt.API.image_compression.SLOW:R=14;break;default:R=12}return R})(r),S=this.decode.FLATE_DECODE,x="/Predictor ".concat(Y," /Colors ").concat(H," /BitsPerComponent ").concat(v," /Columns ").concat(c),n=jb(se,Math.ceil(c*H*v/8),H,v,r),te&&(b=jb(Z,Math.ceil(c*U/8),1,U,r))):(S=void 0,x=void 0,n=se,te&&(b=Z)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:t,data:n,index:e,filter:S,decodeParameters:x,transparency:Se,palette:be,sMask:b,predictor:Y,width:c,height:h,bitsPerComponent:v,sMaskBitsPerComponent:U,colorSpace:B}}},(function(n){n.processGIF89A=function(e,t,r,a){var o=new fL(e),c=o.width,h=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var m={data:f,width:c,height:h},v=new z1(100).encode(m,100);return n.processJPEG.call(this,v,t,r,a)},n.processGIF87A=n.processGIF89A})(xt.API),lo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},lo.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[n]()}catch(t){li.log("bit decode error:"+t)}},lo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+8*a*4,h=0;h<8&&8*a+h<this.width;h++){var f=this.palette[o>>7-h&1];this.data[c+4*h]=f.blue,this.data[c+4*h+1]=f.green,this.data[c+4*h+2]=f.red,this.data[c+4*h+3]=255}t!==0&&(this.pos+=4-t)}},lo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+2*a*4,h=o>>4,f=15&o,m=this.palette[h];if(this.data[c]=m.blue,this.data[c+1]=m.green,this.data[c+2]=m.red,this.data[c+3]=255,2*a+1>=this.width)break;m=this.palette[f],this.data[c+4]=m.blue,this.data[c+4+1]=m.green,this.data[c+4+2]=m.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},lo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(a<this.palette.length){var c=this.palette[a];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},lo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,h=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,m=o>>15?255:0,v=r*this.width*4+4*a;this.data[v]=f,this.data[v+1]=h,this.data[v+2]=c,this.data[v+3]=m}this.pos+=n}},lo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(c&e)/e*255|0,f=(c>>5&t)/t*255|0,m=(c>>11)/e*255|0,v=a*this.width*4+4*o;this.data[v]=m,this.data[v+1]=f,this.data[v+2]=h,this.data[v+3]=255}this.pos+=n}},lo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=255}this.pos+=this.width%4}},lo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=r,this.data[h+3]=c}},lo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,a){var o=new lo(e,!1),c=o.width,h=o.height,f={data:o.getData(),width:c,height:h},m=new z1(100).encode(f,100);return n.processJPEG.call(this,m,t,r,a)}})(xt.API),Hb.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,a){var o=new Hb(e),c=o.width,h=o.height,f={data:o.getData(),width:c,height:h},m=new z1(100).encode(f,100);return n.processJPEG.call(this,m,t,r,a)}})(xt.API),xt.API.processRGBA=function(n,e,t){for(var r=n.data,a=r.length,o=new Uint8Array(a/4*3),c=new Uint8Array(a/4),h=0,f=0,m=0;m<a;m+=4){var v=r[m],S=r[m+1],x=r[m+2],b=r[m+3];o[h++]=v,o[h++]=S,o[h++]=x,c[f++]=b}var V=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:V,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},xt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},uh=xt.API,Tp=uh.getCharWidthsArray=function(n,e){var t,r,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:a.metadata.Unicode.widths,f=h.fof?h.fof:1,m=e.kerning?e.kerning:a.metadata.Unicode.kerning,v=m.fof?m.fof:1,S=e.doKerning!==!1,x=0,b=n.length,V=0,B=h[0]||f,H=[];for(t=0;t<b;t++)r=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?H.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+c*(1e3/o)||0)/1e3):(x=S&&Qn(m[r])==="object"&&!isNaN(parseInt(m[r][V],10))?m[r][V]/v:0,H.push((h[r]||B)/f+x)),V=r;return H},Ob=uh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return uh.processArabic&&(n=uh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,a)/t:Tp.apply(this,arguments).reduce(function(o,c){return o+c},0)},Pb=function(n,e,t,r){for(var a=[],o=0,c=n.length,h=0;o!==c&&h+e[o]<t;)h+=e[o],o++;a.push(n.slice(0,o));var f=o;for(h=0;o!==c;)h+e[o]>r&&(a.push(n.slice(f,o)),h=0,f=o),h+=e[o],o++;return f!==o&&a.push(n.slice(f,o)),a},Mb=function(n,e,t){t||(t={});var r,a,o,c,h,f,m,v=[],S=[v],x=t.textIndent||0,b=0,V=0,B=n.split(" "),H=Tp.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?B[0].length+2:t.lineIndent||0){var U=Array(f).join(" "),se=[];B.map(function(te){(te=te.split(/\s*\n/)).length>1?se=se.concat(te.map(function(be,Se){return(Se&&be.length?`
`:"")+be})):se.push(te[0])}),B=se,f=Ob.apply(this,[U,t])}for(o=0,c=B.length;o<c;o++){var Z=0;if(r=B[o],f&&r[0]==`
`&&(r=r.substr(1),Z=1),x+b+(V=(a=Tp.apply(this,[r,t])).reduce(function(te,be){return te+be},0))>e||Z){if(V>e){for(h=Pb.apply(this,[r,a,e-(x+b),e]),v.push(h.shift()),v=[h.pop()];h.length;)S.push([h.shift()]);V=a.slice(r.length-(v[0]?v[0].length:0)).reduce(function(te,be){return te+be},0)}else v=[r];S.push(v),x=V+f,b=H}else v.push(r),x+=b+V,b=H}return m=f?function(te,be){return(be?U:"")+te.join(" ")}:function(te){return te.join(" ")},S.map(m)},uh.splitTextToSize=function(n,e,t){var r,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var S=this.internal.getFont(v.fontName,v.fontStyle),x="Unicode";return S.metadata[x]?{widths:S.metadata[x].widths||{0:1},kerning:S.metadata[x].kerning||{}}:{font:S.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var h,f,m=[];for(h=0,f=r.length;h<f;h++)m=m.concat(Mb.apply(this,[r[h],c,o]));return m},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},a={},o=0;o<16;o++)r[t[o]]=e[o],a[e[o]]=t[o];var c=function(x){return"0x"+parseInt(x,10).toString(16)},h=n.__fontmetrics__.compress=function(x){var b,V,B,H,U=["{"];for(var se in x){if(b=x[se],isNaN(parseInt(se,10))?V="'"+se+"'":(se=parseInt(se,10),V=(V=c(se).slice(2)).slice(0,-1)+a[V.slice(-1)]),typeof b=="number")b<0?(B=c(b).slice(3),H="-"):(B=c(b).slice(2),H=""),B=H+B.slice(0,-1)+a[B.slice(-1)];else{if(Qn(b)!=="object")throw new Error("Don't know what to do with value type "+Qn(b)+".");B=h(b)}U.push(V+B)}return U.push("}"),U.join("")},f=n.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,V,B,H,U={},se=1,Z=U,te=[],be="",Se="",Y=x.length-1,P=1;P<Y;P+=1)(H=x[P])=="'"?b?(B=b.join(""),b=void 0):b=[]:b?b.push(H):H=="{"?(te.push([Z,B]),Z={},B=void 0):H=="}"?((V=te.pop())[0][V[1]]=Z,B=void 0,Z=V[0]):H=="-"?se=-1:B===void 0?r.hasOwnProperty(H)?(be+=r[H],B=parseInt(be,16)*se,se=1,be=""):be+=H:r.hasOwnProperty(H)?(Se+=r[H],Z[B]=parseInt(Se,16)*se,se=1,B=void 0,Se=""):Se+=H;return U},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},S={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(x){var b=x.font,V=S.Unicode[b.postScriptName];V&&(b.metadata.Unicode={},b.metadata.Unicode.widths=V.widths,b.metadata.Unicode.kerning=V.kerning);var B=v.Unicode[b.postScriptName];B&&(b.metadata.Unicode.encoding=B,b.encoding=B.codePages[0])}])})(xt.API),(function(n){var e=function(t){for(var r=t.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=t.charCodeAt(o);return a};n.API.events.push(["addFont",function(t){var r=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(jp(h)),c.metadata=n.API.TTFFont.open(h),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,r)}}])})(xt),xt.API.addSvgAsImage=function(n,e,t,r,a,o,c,h){if(isNaN(e)||isNaN(t))throw li.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw li.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=a;var m=f.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,f.width,f.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},S=this;return(Yt.canvg?Promise.resolve(Yt.canvg):Uf(()=>import("./index.es-Db1tBaca.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(m,n,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(v)}).then(function(){S.addImage(f.toDataURL("image/jpeg",1),e,t,r,a,c,h)})},xt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,t);return this},xt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,a,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(c),f=[],m=0,v=0,S=0;function x(V,B){var H,U=!1;for(H=0;H<V.length;H+=1)V[H]===B&&(U=!0);return U}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var b=h.length;for(S=0;S<b;S+=1)t[h[S]].value=t[h[S]].defaultValue,t[h[S]].explicitSet=!1}if(Qn(n)==="object"){for(a in n)if(o=n[a],x(h,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&x(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(m=0;m<o.length;m+=1)if(r=!0,o[m].length===1&&typeof o[m][0]=="number")f.push(String(o[m]-1));else if(o[m].length>1){for(v=0;v<o[m].length;v+=1)typeof o[m][v]!="number"&&(r=!1);r===!0&&f.push([o[m][0]-1,o[m][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var V,B=[];for(V in t)t[V].explicitSet===!0&&(t[V].type==="name"?B.push("/"+V+" /"+t[V].value):B.push("/"+V+" "+t[V].value));B.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+B.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},xt.API.addMetadata=function(n,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",pL),this.internal.events.subscribe("postPutResources",dL)),this},(function(n){var e=n.API,t=e.pdfEscape16=function(o,c){for(var h,f=c.metadata.Unicode.widths,m=["","0","00","000","0000"],v=[""],S=0,x=o.length;S<x;++S){if(h=c.metadata.characterToGlyph(o.charCodeAt(S)),c.metadata.glyIdsUsed.push(h),c.metadata.toUnicode[h]=o.charCodeAt(S),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(c.metadata.widthOfGlyph(h),10)])),h=="0")return v.join("");h=h.toString(16),v.push(m[4-h.length],h)}return v.join("")},r=function(o){var c,h,f,m,v,S,x;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],S=0,x=(h=Object.keys(o).sort(function(b,V){return b-V})).length;S<x;S++)c=h[S],f.length>=100&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(m=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),f.push("<"+c+"><"+m+">"));return f.length&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),v+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var h=c.font,f=c.out,m=c.newObject,v=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var S=h.metadata.Unicode.widths,x=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),b="",V=0;V<x.length;V++)b+=String.fromCharCode(x[V]);var B=m();v({data:b,addLength1:!0,objectId:B}),f("endobj");var H=m();v({data:r(h.metadata.toUnicode),addLength1:!0,objectId:H}),f("endobj");var U=m();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+gh(h.fontName)),f("/FontFile2 "+B+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var se=m();f("<<"),f("/Type /Font"),f("/BaseFont /"+gh(h.fontName)),f("/FontDescriptor "+U+" 0 R"),f("/W "+n.API.PDFObject.convert(S)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=m(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+H+" 0 R"),f("/BaseFont /"+gh(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+se+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var h=c.font,f=c.out,m=c.newObject,v=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var S=h.metadata.rawData,x="",b=0;b<S.length;b++)x+=String.fromCharCode(S[b]);var V=m();v({data:x,addLength1:!0,objectId:V}),f("endobj");var B=m();v({data:r(h.metadata.toUnicode),addLength1:!0,objectId:B}),f("endobj");var H=m();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+V+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+gh(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=m();for(var U=0;U<h.metadata.hmtx.widths.length;U++)h.metadata.hmtx.widths[U]=parseInt(h.metadata.hmtx.widths[U]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+B+" 0 R/BaseFont/"+gh(h.fontName)+"/FontDescriptor "+H+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]);var a=function(o){var c,h=o.text||"",f=o.x,m=o.y,v=o.options||{},S=o.mutex||{},x=S.pdfEscape,b=S.activeFontKey,V=S.fonts,B=b,H="",U=0,se="",Z=V[B].encoding;if(V[B].encoding!=="Identity-H")return{text:h,x:f,y:m,options:v,mutex:S};for(se=h,B=b,Array.isArray(h)&&(se=h[0]),U=0;U<se.length;U+=1)V[B].metadata.hasOwnProperty("cmap")&&(c=V[B].metadata.cmap.unicode.codeMap[se[U].charCodeAt(0)]),c||se[U].charCodeAt(0)<256&&V[B].metadata.hasOwnProperty("Unicode")?H+=se[U]:H+="";var te="";return parseInt(B.slice(1))<14||Z==="WinAnsiEncoding"?te=x(H,B).split("").map(function(be){return be.charCodeAt(0).toString(16)}).join(""):Z==="Identity-H"&&(te=t(H,V[B])),S.isHex=!0,{text:te,x:f,y:m,options:v,mutex:S}};e.events.push(["postProcessText",function(o){var c=o.text||"",h=[],f={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var m=0;for(m=0;m<c.length;m+=1)Array.isArray(c[m])&&c[m].length===3?h.push([a(Object.assign({},f,{text:c[m][0]})).text,c[m][1],c[m][2]]):h.push(a(Object.assign({},f,{text:c[m]})).text);o.text=h}else o.text=a(Object.assign({},f,{text:c})).text}])})(xt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(xt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,o,c,h,f,m,v,S=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],V={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},B={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},H=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],U=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),se=!1,Z=0;this.__bidiEngine__={};var te=function(N){var O=N.charCodeAt(),I=O>>8,oe=B[I];return oe!==void 0?S[256*oe+(255&O)]:I===252||I===253?"AL":U.test(I)?"L":I===8?"R":"N"},be=function(N){for(var O,I=0;I<N.length;I++){if((O=te(N.charAt(I)))==="L")return!1;if(O==="R")return!0}return!1},Se=function(N,O,I,oe){var xe,ae,pe,fe,Ie=O[oe];switch(Ie){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":se=!1;break;case"N":case"AN":break;case"EN":se&&(Ie="AN");break;case"AL":se=!0,Ie="R";break;case"WS":case"BN":Ie="N";break;case"CS":oe<1||oe+1>=O.length||(xe=I[oe-1])!=="EN"&&xe!=="AN"||(ae=O[oe+1])!=="EN"&&ae!=="AN"?Ie="N":se&&(ae="AN"),Ie=ae===xe?ae:"N";break;case"ES":Ie=(xe=oe>0?I[oe-1]:"B")==="EN"&&oe+1<O.length&&O[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&I[oe-1]==="EN"){Ie="EN";break}if(se){Ie="N";break}for(pe=oe+1,fe=O.length;pe<fe&&O[pe]==="ET";)pe++;Ie=pe<fe&&O[pe]==="EN"?"EN":"N";break;case"NSM":if(c&&!h){for(fe=O.length,pe=oe+1;pe<fe&&O[pe]==="NSM";)pe++;if(pe<fe){var He=N[oe],$=He>=1425&&He<=2303||He===64286;if(xe=O[pe],$&&(xe==="R"||xe==="AL")){Ie="R";break}}}Ie=oe<1||(xe=O[oe-1])==="B"?"N":I[oe-1];break;case"B":se=!1,a=!0,Ie=Z;break;case"S":o=!0,Ie="N"}return Ie},Y=function(N,O,I){var oe=N.split("");return I&&P(oe,I,{hiLevel:Z}),oe.reverse(),O&&O.reverse(),oe.join("")},P=function(N,O,I){var oe,xe,ae,pe,fe,Ie=-1,He=N.length,$=0,k=[],K=Z?b:x,J=[];for(se=!1,a=!1,o=!1,xe=0;xe<He;xe++)J[xe]=te(N[xe]);for(ae=0;ae<He;ae++){if(fe=$,k[ae]=Se(N,J,k,ae),oe=240&($=K[fe][V[k[ae]]]),$&=15,O[ae]=pe=K[$][5],oe>0)if(oe===16){for(xe=Ie;xe<ae;xe++)O[xe]=1;Ie=-1}else Ie=-1;if(K[$][6])Ie===-1&&(Ie=ae);else if(Ie>-1){for(xe=Ie;xe<ae;xe++)O[xe]=pe;Ie=-1}J[ae]==="B"&&(O[ae]=0),I.hiLevel|=pe}o&&(function(le,ce,ge){for(var ke=0;ke<ge;ke++)if(le[ke]==="S"){ce[ke]=Z;for(var Re=ke-1;Re>=0&&le[Re]==="WS";Re--)ce[Re]=Z}})(J,O,He)},R=function(N,O,I,oe,xe){if(!(xe.hiLevel<N)){if(N===1&&Z===1&&!a)return O.reverse(),void(I&&I.reverse());for(var ae,pe,fe,Ie,He=O.length,$=0;$<He;){if(oe[$]>=N){for(fe=$+1;fe<He&&oe[fe]>=N;)fe++;for(Ie=$,pe=fe-1;Ie<pe;Ie++,pe--)ae=O[Ie],O[Ie]=O[pe],O[pe]=ae,I&&(ae=I[Ie],I[Ie]=I[pe],I[pe]=ae);$=fe}$++}}},q=function(N,O,I){var oe=N.split(""),xe={hiLevel:Z};return I||(I=[]),P(oe,I,xe),(function(ae,pe,fe){if(fe.hiLevel!==0&&v)for(var Ie,He=0;He<ae.length;He++)pe[He]===1&&(Ie=H.indexOf(ae[He]))>=0&&(ae[He]=H[Ie+1])})(oe,I,xe),R(2,oe,O,I,xe),R(1,oe,O,I,xe),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(N,O,I){if((function(xe,ae){if(ae)for(var pe=0;pe<xe.length;pe++)ae[pe]=pe;h===void 0&&(h=be(xe)),m===void 0&&(m=be(xe))})(N,O),c||!f||m)if(c&&f&&h^m)Z=h?1:0,N=Y(N,O,I);else if(!c&&f&&m)Z=h?1:0,N=q(N,O,I),N=Y(N,O);else if(!c||h||f||m){if(c&&!f&&h^m)N=Y(N,O),h?(Z=0,N=q(N,O,I)):(Z=1,N=q(N,O,I),N=Y(N,O));else if(c&&h&&!f&&m)Z=1,N=q(N,O,I),N=Y(N,O);else if(!c&&!f&&h^m){var oe=v;h?(Z=1,N=q(N,O,I),Z=0,v=!1,N=q(N,O,I),v=oe):(Z=0,N=q(N,O,I),N=Y(N,O),Z=1,v=!1,N=q(N,O,I),v=oe,N=Y(N,O))}}else Z=0,N=q(N,O,I);else Z=h?1:0,N=q(N,O,I);return N},this.__bidiEngine__.setOptions=function(N){N&&(c=N.isInputVisual,f=N.isOutputVisual,h=N.isInputRtl,m=N.isOutputRtl,v=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var h=0;for(c=[],h=0;h<a.length;h+=1)Object.prototype.toString.call(a[h])==="[object Array]"?c.push([t.doBidiReorder(a[h][0]),a[h][1],a[h][2]]):c.push([t.doBidiReorder(a[h])]);r.text=c}else r.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(xt),xt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Pu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new IL(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new mL(this.contents),this.head=new yL(this),this.name=new AL(this),this.cmap=new wA(this),this.toUnicode={},this.hhea=new vL(this),this.maxp=new SL(this),this.hmtx=new EL(this),this.post=new bL(this),this.os2=new _L(this),this.loca=new CL(this),this.glyf=new xL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,h,f,m;for(m=[],c=0,h=(f=this.bbox).length;c<h;c++)e=f[c],m.push(Math.round(e*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var a,o,c,h;for(c=0,o=0,h=(e=""+e).length;0<=h?o<h:o>h;o=0<=h?++o:--o)a=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var yo,Pu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,a;for(a=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,a,o,c,h,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),h=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^c)+256*(255^h)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*a+16777216*o+65536*c+256*h+f},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,a,o;for(o=[],r=0,a=e.length;r<a;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),mL=(function(){var n;function e(t){var r,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,a,o,c,h,f,m,v,S,x,b,V,B;for(B in b=Object.keys(t).length,f=Math.log(2),S=16*Math.floor(Math.log(b)/f),c=Math.floor(S/f),v=16*b-S,(a=new Pu).writeInt(this.scalarType),a.writeShort(b),a.writeShort(S),a.writeShort(c),a.writeShort(v),o=16*b,m=a.pos+o,h=null,V=[],t)for(x=t[B],a.writeString(B),a.writeInt(n(x)),a.writeInt(m),a.writeInt(x.length),V=V.concat(x),B==="head"&&(h=m),m+=x.length;m%4;)V.push(0),m++;return a.write(V),r=2981146554-n(a.data),a.pos=h+8,a.writeUInt32(r),a.data},n=function(t){var r,a,o,c;for(t=AA.call(t);t.length%4;)t.push(0);for(o=new Pu(t),a=0,r=0,c=t.length;r<c;r=r+=4)a+=o.readUInt32();return 4294967295&a},e})(),gL={}.hasOwnProperty,el=function(n,e){for(var t in e)gL.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};yo=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var yL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return el(n,yo),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Pu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),Gb=(function(){function n(e,t){var r,a,o,c,h,f,m,v,S,x,b,V,B,H,U,se,Z;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),S=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(b=e.readUInt16(),x=b/2,e.pos+=6,o=(function(){var te,be;for(be=[],f=te=0;0<=x?te<x:te>x;f=0<=x?++te:--te)be.push(e.readUInt16());return be})(),e.pos+=2,B=(function(){var te,be;for(be=[],f=te=0;0<=x?te<x:te>x;f=0<=x?++te:--te)be.push(e.readUInt16());return be})(),m=(function(){var te,be;for(be=[],f=te=0;0<=x?te<x:te>x;f=0<=x?++te:--te)be.push(e.readUInt16());return be})(),v=(function(){var te,be;for(be=[],f=te=0;0<=x?te<x:te>x;f=0<=x?++te:--te)be.push(e.readUInt16());return be})(),a=(this.length-e.pos+this.offset)/2,h=(function(){var te,be;for(be=[],f=te=0;0<=a?te<a:te>a;f=0<=a?++te:--te)be.push(e.readUInt16());return be})(),f=U=0,Z=o.length;U<Z;f=++U)for(H=o[f],r=se=V=B[f];V<=H?se<=H:se>=H;r=V<=H?++se:--se)v[f]===0?c=r+m[f]:(c=h[v[f]/2+(r-V)-(x-f)]||0)!==0&&(c+=m[f]),this.codeMap[r]=65535&c}e.pos=S}return n.encode=function(e,t){var r,a,o,c,h,f,m,v,S,x,b,V,B,H,U,se,Z,te,be,Se,Y,P,R,q,N,O,I,oe,xe,ae,pe,fe,Ie,He,$,k,K,J,le,ce,ge,ke,Re,Ve,Xe,nt;switch(oe=new Pu,c=Object.keys(e).sort(function(tt,ct){return tt-ct}),t){case"macroman":for(B=0,H=(function(){var tt=[];for(V=0;V<256;++V)tt.push(0);return tt})(),se={0:0},o={},xe=0,Ie=c.length;xe<Ie;xe++)se[Re=e[a=c[xe]]]==null&&(se[Re]=++B),o[a]={old:e[a],new:se[e[a]]},H[a]=se[e[a]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(H),{charMap:o,subtable:oe.data,maxGlyphID:B+1};case"unicode":for(O=[],S=[],Z=0,se={},r={},U=m=null,ae=0,He=c.length;ae<He;ae++)se[be=e[a=c[ae]]]==null&&(se[be]=++Z),r[a]={old:be,new:se[be]},h=se[be]-a,U!=null&&h===m||(U&&S.push(U),O.push(a),m=h),U=a;for(U&&S.push(U),S.push(65535),O.push(65535),q=2*(R=O.length),P=2*Math.pow(Math.log(R)/Math.LN2,2),x=Math.log(P/2)/Math.LN2,Y=2*R-P,f=[],Se=[],b=[],V=pe=0,$=O.length;pe<$;V=++pe){if(N=O[V],v=S[V],N===65535){f.push(0),Se.push(0);break}if(N-(I=r[N].new)>=32768)for(f.push(0),Se.push(2*(b.length+R-V)),a=fe=N;N<=v?fe<=v:fe>=v;a=N<=v?++fe:--fe)b.push(r[a].new);else f.push(I-N),Se.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*R+2*b.length),oe.writeUInt16(0),oe.writeUInt16(q),oe.writeUInt16(P),oe.writeUInt16(x),oe.writeUInt16(Y),ge=0,k=S.length;ge<k;ge++)a=S[ge],oe.writeUInt16(a);for(oe.writeUInt16(0),ke=0,K=O.length;ke<K;ke++)a=O[ke],oe.writeUInt16(a);for(Ve=0,J=f.length;Ve<J;Ve++)h=f[Ve],oe.writeUInt16(h);for(Xe=0,le=Se.length;Xe<le;Xe++)te=Se[Xe],oe.writeUInt16(te);for(nt=0,ce=b.length;nt<ce;nt++)B=b[nt],oe.writeUInt16(B);return{charMap:r,subtable:oe.data,maxGlyphID:Z+1}}},n})(),wA=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return el(n,yo),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)t=new Gb(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,a;return t==null&&(t="macroman"),r=Gb.encode(e,t),(a=new Pu).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},n})(),vL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return el(n,yo),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),_L=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return el(n,yo),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),bL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return el(n,yo),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var c,h,f;for(f=[],o=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;o=0<=h?++c:--c)f.push(e.readUInt32());return f}).call(this)}},n})(),wL=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},AL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return el(n,yo),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,a,o,c,h,f,m,v,S,x;for(e.pos=this.offset,e.readShort(),t=e.readShort(),h=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(f={},o=v=0,S=r.length;v<S;o=++v)a=r[o],e.pos=a.offset,m=e.readString(a.length),c=new wL(m,a),f[x=a.nameID]==null&&(f[x]=[]),f[a.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),SL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return el(n,yo),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),EL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return el(n,yo),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,a,o,c,h,f;for(e.pos=this.offset,this.metrics=[],t=0,h=this.file.hhea.numberOfMetrics;0<=h?t<h:t>h;t=0<=h?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var m,v;for(v=[],t=m=0;0<=a?m<a:m>a;t=0<=a?++m:--m)v.push(e.readInt16());return v})(),this.widths=(function(){var m,v,S,x;for(x=[],m=0,v=(S=this.metrics).length;m<v;m++)o=S[m],x.push(o.advance);return x}).call(this),r=this.widths[this.widths.length-1],f=[],t=c=0;0<=a?c<a:c>a;t=0<=a?++c:--c)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),AA=[].slice,xL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return el(n,yo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,a,o,c,h,f,m,v,S;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,c=(h=new Pu(t.read(a))).readShort(),m=h.readShort(),S=h.readShort(),f=h.readShort(),v=h.readShort(),this.cache[e]=c===-1?new NL(h,m,S,f,v):new TL(h,c,m,S,f,v),this.cache[e]))},n.prototype.encode=function(e,t,r){var a,o,c,h,f;for(c=[],o=[],h=0,f=t.length;h<f;h++)a=e[t[h]],o.push(c.length),a&&(c=c.concat(a.encode(r)));return o.push(c.length),{table:c,offsets:o}},n})(),TL=(function(){function n(e,t,r,a,o,c){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),NL=(function(){function n(e,t,r,a,o){var c,h;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;h=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&h;)c.pos+=1&h?4:2,128&h?c.pos+=8:64&h?c.pos+=4:8&h&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Pu(AA.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),CL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return el(n,yo),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,c=0;c<r.length;++c)if(r[c]=a,o<t.length&&t[o]==c){++o,r[c]=a;var h=this.offsets[c],f=this.offsets[c+1]-h;f>0&&(a+=f)}for(var m=new Array(4*r.length),v=0;v<r.length;++v)m[4*v+3]=255&r[v],m[4*v+2]=(65280&r[v])>>8,m[4*v+1]=(16711680&r[v])>>16,m[4*v]=(4278190080&r[v])>>24;return m},n})(),IL=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=a[r];return e},n.prototype.glyphsFor=function(e){var t,r,a,o,c,h,f;for(a={},c=0,h=e.length;c<h;c++)a[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(r=a[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],a[o]=r;return a},n.prototype.encode=function(e,t){var r,a,o,c,h,f,m,v,S,x,b,V,B,H,U;for(a in r=wA.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),b={0:0},U=r.charMap)b[(f=U[a]).old]=f.new;for(V in x=r.maxGlyphID,c)V in b||(b[V]=x++);return v=(function(se){var Z,te;for(Z in te={},se)te[se[Z]]=Z;return te})(b),S=Object.keys(v).sort(function(se,Z){return se-Z}),B=(function(){var se,Z,te;for(te=[],se=0,Z=S.length;se<Z;se++)h=S[se],te.push(v[h]);return te})(),o=this.font.glyf.encode(c,B,b),m=this.font.loca.encode(o.offsets,B),H={cmap:this.font.cmap.raw(),glyf:o.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(H["OS/2"]=this.font.os2.raw()),this.font.directory.encode(H)},n})();xt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,a,o,c;if(Array.isArray(t))return"["+(function(){var h,f,m;for(m=[],h=0,f=t.length;h<f;h++)r=t[h],m.push(e.convert(r));return m})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)c=t[a],o.push("/"+a+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();function RL(n,e){const t=new xt,r=t.internal.pageSize.getWidth(),a=20,o=r-a*2;let c=20;t.setFontSize(18),t.text("",r/2,c,{align:"center"}),c+=15,t.setFontSize(10),t.text(`${e.version} | ${e.updatedAt.split("T")[0]}`,r/2,c,{align:"center"}),c+=15,t.setFontSize(11);const f=t.splitTextToSize("",o);t.text(f,a,c),c+=f.length*6+2;const m=n.name||"__________",v=n.employmentType||"__________",S=n.contractStartDate||"__________",x=n.signedContractAt?new Date(n.signedContractAt).toLocaleDateString("zh-TW"):"__________";t.text(`${m}`,a,c),c+=10,t.text(` ${S}  ${v}`,a,c),c+=15,t.text("",a,c),c+=15;const b=e.content.replace(/<[^>]+>/g,"").split(`
`);for(const B of b)if(B.trim()){const H=t.splitTextToSize(B,o);for(const U of H)c>270&&(t.addPage(),c=20),t.text(U,a,c),c+=6;c+=2}c+=10,t.setFontSize(12),t.text("",a,c),c+=10,t.text(`${m}`,a,c),c+=10,t.text(`${x}`,a,c);const V=`_${m}_${x}.pdf`;t.save(V)}function LL(){const[n,e]=Je.useState(null),[t,r]=Je.useState([]),[a,o]=Je.useState(!1),[c,h]=Je.useState(""),[f,m]=Je.useState(!0),v=Je.useCallback(async()=>{m(!0);const[b,V]=await Promise.all([L3(),qm()]);e(b),r(V),m(!1)},[]);Je.useEffect(()=>{v()},[v]);const S=async()=>{if(!n)return;const b={...n,content:c,version:n.version+1,updatedAt:new Date().toISOString()};await MI(b),e(b),o(!1),alert("v"+b.version)},x=t.filter(b=>b.role==="employee");return f?D.jsx("div",{className:"text-center py-12",children:D.jsx("p",{className:"text-gray-500",children:"..."})}):D.jsxs("div",{className:"space-y-6",children:[D.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[D.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[D.jsxs("div",{children:[D.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),D.jsxs("p",{className:"text-sm text-gray-500",children:[" ",n?.version," | ",n?.updatedAt?.split("T")[0]||"-"]})]}),a?D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:()=>{h(n?.content||""),o(!1)},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:""}),D.jsx("button",{onClick:S,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:""})]}):D.jsx("button",{onClick:()=>{h(n?.content||""),o(!0)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:""})]}),D.jsx("div",{className:"p-6",children:a?D.jsx("textarea",{value:c,onChange:b=>h(b.target.value),className:"w-full h-64 px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary font-mono text-sm"}):D.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:n?.content||""}})})]}),D.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[D.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[D.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),D.jsx("p",{className:"text-sm text-gray-500",children:""})]}),D.jsx("div",{className:"p-6",children:D.jsx("div",{className:"overflow-x-auto",children:D.jsxs("table",{className:"w-full",children:[D.jsx("thead",{children:D.jsxs("tr",{className:"border-b border-gray-200",children:[D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:"PDF"})]})}),D.jsx("tbody",{children:x.map(b=>D.jsxs("tr",{className:"border-b border-gray-100",children:[D.jsx("td",{className:"py-3 px-4",children:D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("img",{src:b.avatar,alt:b.name,className:"w-8 h-8 rounded-full bg-gray-200"}),D.jsx("span",{className:"font-medium text-gray-900",children:b.name})]})}),D.jsx("td",{className:"py-3 px-4 text-gray-600",children:b.department}),D.jsx("td",{className:"py-3 px-4",children:b.signedContractAt?D.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[D.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),""]}):D.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:[D.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),""]})}),D.jsx("td",{className:"py-3 px-4 text-gray-600 text-sm",children:b.signedContractAt?new Date(b.signedContractAt).toLocaleString("zh-TW"):"-"}),D.jsx("td",{className:"py-3 px-4",children:b.signedContractAt&&n?D.jsxs("button",{onClick:()=>RL(b,n),className:"inline-flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-white bg-red-500 rounded-lg hover:bg-red-600",children:[D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),""]}):"-"})]},b.id))})]})})})]})]})}const kL=["/","","","/"];function DL(){const[n,e]=Je.useState(null),{user:t,updateUser:r}=vd(),[a,o]=Je.useState(!1),[c,h]=Je.useState(!1),[f,m]=Je.useState(!0),[v,S]=Je.useState(""),[x,b]=Je.useState(""),[V,B]=Je.useState(!0),H=Je.useCallback(async()=>{B(!0);const Z=await L3();e(Z),o(!!t?.signedContractAt),S(t?.employmentType||""),b(t?.contractStartDate||""),B(!1)},[t]);Je.useEffect(()=>{H()},[H]);const U=async()=>{if(!t||!v||!x)return;const Z=new Date().toISOString(),te={...t,signedContractAt:Z,employmentType:v,contractStartDate:x};await r(te),o(!0)},se=()=>{if(!n)return"";let Z=n.content;if(t?.name&&(Z=Z.replace(" : ",` : <span class="highlight">${t.name}</span>`)),t?.name&&(Z=Z.replace("<strong></strong>____________",`<strong></strong><span class="highlight">${t.name}</span>`)),v&&(Z=Z.replace(" ____________",` <span class="highlight">${v}</span>`)),x&&(Z=Z.replace("   ",` <span class="highlight">${x}</span> `)),a||c){const te=new Date().toLocaleDateString("zh-TW"),be="   ",Se=Z.indexOf(be);Se!==-1&&(Z=Z.slice(0,Se)+`<span class="highlight">${te}</span>`+Z.slice(Se+be.length))}return Z};return V||!n?null:D.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[D.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-yellow-50",children:D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),D.jsx("span",{className:"font-medium text-yellow-800",children:""})]})}),!a&&D.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-blue-50 space-y-4",children:[D.jsxs("div",{children:[D.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[D.jsx("span",{className:"text-red-500",children:"*"})," "]}),D.jsx("input",{type:"date",value:x,onChange:Z=>b(Z.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[D.jsx("span",{className:"text-red-500",children:"*"})," "]}),D.jsx("div",{className:"grid grid-cols-2 gap-2",children:kL.map(Z=>D.jsxs("label",{className:`flex items-center gap-2 p-3 rounded-lg border cursor-pointer transition-colors ${v===Z?"border-primary bg-primary/10 text-primary":"border-gray-200 hover:border-gray-300"}`,children:[D.jsx("input",{type:"radio",name:"employmentType",value:Z,checked:v===Z,onChange:te=>S(te.target.value),className:"w-4 h-4 text-primary"}),D.jsx("span",{className:"text-sm",children:Z})]},Z))})]})]}),f&&D.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:D.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:se()}})}),a&&D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"mx-6 mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:D.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[D.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),D.jsxs("span",{className:"font-medium",children:[" ",new Date(t?.signedContractAt||"").toLocaleString("zh-TW")," ",t?.employmentType&&`${t.employmentType}`]})]})}),D.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:D.jsx("button",{onClick:()=>m(!f),className:"text-sm text-primary hover:underline",children:f?"":""})})]}),!a&&D.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:[D.jsxs("label",{className:"flex items-center gap-3 mb-4",children:[D.jsx("input",{type:"checkbox",checked:c,onChange:Z=>h(Z.target.checked),className:"w-4 h-4 text-primary"}),D.jsx("span",{className:"text-sm text-gray-600",children:""})]}),D.jsx("button",{onClick:U,disabled:!c||!v||!x,className:"w-full py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]})}const OL={pending:"bg-yellow-100 text-yellow-700",processing:"bg-blue-100 text-blue-700",completed:"bg-green-100 text-green-700"},PL={pending:"",processing:"",completed:""};function ML({userId:n,userName:e,isAdmin:t}){const[r,a]=Je.useState([]),[o,c]=Je.useState([]),[h,f]=Je.useState(!1),[m,v]=Je.useState("all"),[S,x]=Je.useState(!0),b=Je.useCallback(async()=>{x(!0);const[Z,te]=await Promise.all([DI(n,t),qm()]);a(Z),c(te),x(!1)},[n,t]);Je.useEffect(()=>{b()},[b]);const V=async Z=>{await OI(Z),await b(),f(!1)},B=async(Z,te)=>{await PI(Z,te),await b()},H=Z=>Z.map(te=>o.find(be=>be.id===te)?.name||"").join(""),se=[...m==="my"?r.filter(Z=>Z.assignedTo.includes(n)):r].sort((Z,te)=>new Date(te.createdAt).getTime()-new Date(Z.createdAt).getTime());return S?D.jsx("div",{className:"text-center py-12",children:D.jsx("p",{className:"text-gray-500",children:"..."})}):D.jsxs("div",{children:[D.jsxs("div",{className:"flex items-center justify-between mb-6",children:[D.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:""}),D.jsxs("div",{className:"flex gap-3",children:[D.jsxs("select",{value:m,onChange:Z=>v(Z.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"all",children:""}),D.jsx("option",{value:"my",children:""})]}),t&&D.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:[D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),""]})]})]}),se.length===0?D.jsx("div",{className:"text-center py-12 text-gray-500",children:D.jsx("p",{children:""})}):D.jsx("div",{className:"space-y-4",children:se.map(Z=>D.jsx(jL,{task:Z,isAdmin:t,currentUserId:n,currentUserName:e,onUpdate:B,getUserName:H},Z.id))}),h&&D.jsx(UL,{users:o.filter(Z=>Z.role==="employee"),onClose:()=>f(!1),onSubmit:V})]})}function jL({task:n,isAdmin:e,currentUserId:t,currentUserName:r,onUpdate:a,getUserName:o}){const[c,h]=Je.useState(!1),[f,m]=Je.useState(n.response),[v,S]=Je.useState(n.completionDate),x=e||n.assignedTo.includes(t),b=async()=>{await a(n.id,{response:f,responseBy:r,completionDate:v,status:f?"processing":n.status}),h(!1)};return D.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[D.jsxs("div",{className:"flex items-start justify-between mb-3",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${OL[n.status]}`,children:PL[n.status]}),D.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${n.source==="client"?"bg-purple-100 text-purple-700":n.source==="vendor"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"}`,children:n.source==="client"?"":n.source==="vendor"?"":n.source})]}),D.jsx("span",{className:"text-sm text-gray-400",children:new Date(n.createdAt).toLocaleDateString("zh-TW")})]}),D.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:n.title}),D.jsx("p",{className:"text-gray-600 text-sm mb-3",children:n.description}),(n.attachment||n.attachmentFile)&&D.jsxs("div",{className:"flex flex-col gap-2 text-sm text-gray-500 mb-3",children:[n.attachmentFile&&D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),D.jsx("a",{href:n.attachmentFile.url||n.attachmentFile.data,download:n.attachmentFile.name,className:"text-blue-600 hover:underline",children:n.attachmentFile.name}),D.jsxs("span",{className:"text-xs text-gray-400",children:["(",(n.attachmentFile.size/1024).toFixed(1)," KB)"]})]}),n.attachment&&D.jsxs("div",{className:"text-gray-500",children:["",n.attachment]})]}),D.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[D.jsxs("span",{children:["",D.jsx("span",{className:"font-medium text-gray-700",children:o(n.assignedTo)})]}),n.completionDate&&D.jsxs("span",{children:["",D.jsx("span",{className:"font-medium text-gray-700",children:n.completionDate})]})]}),n.response&&D.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg mb-3",children:[D.jsxs("p",{className:"text-xs text-gray-400 mb-1",children:[" - ",n.responseBy]}),D.jsx("p",{className:"text-gray-700 text-sm",children:n.response})]}),x&&D.jsx("div",{className:"border-t border-gray-100 pt-3 mt-3",children:c?D.jsxs("div",{className:"space-y-3",children:[D.jsx("textarea",{value:f,onChange:V=>m(V.target.value),placeholder:"...",rows:2,className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-primary"}),D.jsxs("div",{className:"flex gap-3",children:[D.jsx("input",{type:"date",value:v,onChange:V=>S(V.target.value),className:"px-3 py-1.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-primary"}),D.jsxs("select",{value:n.status,onChange:V=>a(n.id,{status:V.target.value}),className:"px-3 py-1.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"pending",children:""}),D.jsx("option",{value:"processing",children:""}),D.jsx("option",{value:"completed",children:""})]}),D.jsx("button",{onClick:b,className:"px-3 py-1.5 bg-primary text-white rounded-lg text-sm hover:bg-primary-dark",children:""})]})]}):D.jsx("button",{onClick:()=>h(!0),className:"text-sm text-primary hover:underline",children:""})})]})}function UL({users:n,onClose:e,onSubmit:t}){const[r,a]=Je.useState(""),[o,c]=Je.useState(""),[h,f]=Je.useState("client"),[m,v]=Je.useState(""),[S,x]=Je.useState(!1),[b,V]=Je.useState(""),[B,H]=Je.useState(null),[U,se]=Je.useState([]),[Z,te]=Je.useState(!1),be=async R=>{if(R.preventDefault(),!r||!o||U.length===0)return;te(!0),await t({title:r,description:o,source:S?m:h,attachment:b,attachmentFile:B||void 0,assignedTo:U,response:"",completionDate:"",status:"pending"}),te(!1)},Se=R=>{const q=R.target.files?.[0];if(!q)return;const N=2*1024*1024;if(q.size>N){alert(" 2MB");return}const O=new FileReader;O.onload=()=>{H({name:q.name,size:q.size,type:q.type,data:O.result})},O.readAsDataURL(q)},Y=()=>{H(null)},P=R=>{se(q=>q.includes(R)?q.filter(N=>N!==R):[...q,R])};return D.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[D.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:e}),D.jsxs("div",{className:"relative bg-white rounded-xl w-full max-w-lg",children:[D.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[D.jsx("h2",{className:"text-lg font-semibold",children:""}),D.jsx("button",{onClick:e,className:"p-1 text-gray-400 hover:text-gray-600",children:D.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),D.jsxs("form",{onSubmit:be,className:"p-6 space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:r,onChange:R=>a(R.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("textarea",{value:o,onChange:R=>c(R.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),S?D.jsx("input",{type:"text",value:m,onChange:R=>v(R.target.value),placeholder:"",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"}):D.jsxs("select",{value:h,onChange:R=>f(R.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"client",children:""}),D.jsx("option",{value:"vendor",children:""})]}),D.jsx("button",{type:"button",onClick:()=>x(!S),className:"text-xs text-primary mt-1 hover:underline",children:S?"":""})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"file",onChange:Se,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary text-sm"}),B&&D.jsxs("div",{className:"mt-2 flex items-center justify-between bg-gray-50 px-3 py-2 rounded-lg",children:[D.jsx("span",{className:"text-sm text-gray-600 truncate",children:B.name}),D.jsx("button",{type:"button",onClick:Y,className:"text-red-500 text-sm hover:underline",children:""})]})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:b,onChange:R=>V(R.target.value),placeholder:"Email",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("div",{className:"grid grid-cols-2 gap-2 border border-gray-200 rounded-lg p-3 max-h-40 overflow-y-auto",children:n.map(R=>D.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[D.jsx("input",{type:"checkbox",checked:U.includes(R.id),onChange:()=>P(R.id),className:"w-4 h-4 text-primary rounded"}),D.jsxs("span",{className:"text-sm",children:[R.name," (",R.department,")"]})]},R.id))})]}),D.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[D.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg",children:""}),D.jsx("button",{type:"submit",disabled:Z,className:"px-4 py-2 bg-primary text-white rounded-lg disabled:opacity-50",children:Z?"...":""})]})]})]})]})}const VL=["","","","","","",""],BL=["/","","","/"];function FL(){const[n,e]=Je.useState([]),[t,r]=Je.useState(!0),[a,o]=Je.useState(!1),[c,h]=Je.useState(null),[f,m]=Je.useState({username:"",password:"",name:"",department:"",employmentType:""}),v=Je.useCallback(async()=>{r(!0);const b=await qm();e(b.filter(V=>V.role==="employee")),r(!1)},[]);Je.useEffect(()=>{v()},[v]);const S=async()=>{if(!f.username||!f.password||!f.name){alert("");return}if(c){const b={...c,username:f.username,password:f.password,name:f.name,department:f.department,employmentType:f.employmentType};await L_(b)}else{const b={id:Date.now().toString(),username:f.username,password:f.password,name:f.name,role:"employee",avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${f.username}`,department:f.department,employmentType:f.employmentType};await L_(b)}await v(),o(!1),h(null),m({username:"",password:"",name:"",department:"",employmentType:""}),alert(c?"":"")},x=b=>{h(b),m({username:b.username,password:b.password,name:b.name,department:b.department,employmentType:b.employmentType||""}),o(!0)};return t?D.jsx("div",{className:"text-center py-12",children:D.jsx("p",{className:"text-gray-500",children:"..."})}):D.jsxs("div",{className:"space-y-6",children:[D.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[D.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[D.jsxs("div",{children:[D.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),D.jsx("p",{className:"text-sm text-gray-500",children:" Firebase Console /"})]}),D.jsx("button",{onClick:()=>{h(null),m({username:"",password:"",name:"",department:"",employmentType:""}),o(!0)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:"+ "})]}),D.jsx("div",{className:"p-6",children:D.jsxs("table",{className:"w-full",children:[D.jsx("thead",{children:D.jsxs("tr",{className:"border-b border-gray-200",children:[D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""})]})}),D.jsx("tbody",{children:n.map(b=>D.jsxs("tr",{className:"border-b border-gray-100",children:[D.jsx("td",{className:"py-3 px-4",children:D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("img",{src:b.avatar,alt:b.name,className:"w-8 h-8 rounded-full bg-gray-200"}),D.jsx("span",{className:"font-medium text-gray-900",children:b.name})]})}),D.jsx("td",{className:"py-3 px-4 text-gray-600",children:b.username}),D.jsx("td",{className:"py-3 px-4 text-gray-600",children:b.department}),D.jsx("td",{className:"py-3 px-4 text-gray-600",children:b.employmentType||"-"}),D.jsx("td",{className:"py-3 px-4",children:b.signedContractAt?D.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:""}):D.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:""})}),D.jsx("td",{className:"py-3 px-4",children:D.jsx("div",{className:"flex gap-2",children:D.jsx("button",{onClick:()=>x(b),className:"px-3 py-1 text-xs text-blue-600 hover:bg-blue-50 rounded",children:""})})})]},b.id))})]})})]}),a&&D.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:D.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[D.jsx("h3",{className:"text-lg font-semibold mb-4",children:c?"":""}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{children:[D.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",D.jsx("span",{className:"text-red-500",children:"*"})]}),D.jsx("input",{type:"text",value:f.name,onChange:b=>m({...f,name:b.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",D.jsx("span",{className:"text-red-500",children:"*"})]}),D.jsx("input",{type:"text",value:f.username,onChange:b=>m({...f,username:b.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",D.jsx("span",{className:"text-red-500",children:"*"})]}),D.jsx("input",{type:"text",value:f.password,onChange:b=>m({...f,password:b.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("select",{value:f.department,onChange:b=>m({...f,department:b.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:VL.map(b=>D.jsx("option",{value:b,children:b},b))})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("select",{value:f.employmentType,onChange:b=>m({...f,employmentType:b.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:BL.map(b=>D.jsx("option",{value:b,children:b},b))})]})]}),D.jsxs("div",{className:"flex gap-3 mt-6",children:[D.jsx("button",{onClick:()=>{o(!1),h(null)},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:""}),D.jsx("button",{onClick:S,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:c?"":""})]})]})})]})}function zL(){const{user:n,updateUser:e}=vd(),[t,r]=Je.useState(n?.name||""),[a,o]=Je.useState(""),[c,h]=Je.useState(""),[f,m]=Je.useState("");if(!n)return null;const v=S=>{if(S.preventDefault(),m(""),!t.trim()){m("");return}if(a&&a.length<6){m("6");return}if(a!==c){m("");return}const x={...n,name:t.trim(),...a?{password:a}:{}};e(x),o(""),h(""),m("")};return D.jsx("div",{className:"max-w-md mx-auto",children:D.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[D.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:""}),D.jsxs("form",{onSubmit:v,className:"space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:n.username,disabled:!0,className:"w-full px-4 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-500"}),D.jsx("p",{className:"text-xs text-gray-400 mt-1",children:""})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:t,onChange:S=>r(S.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"password",value:a,onChange:S=>o(S.target.value),placeholder:"",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"password",value:c,onChange:S=>h(S.target.value),placeholder:"",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),f&&D.jsx("p",{className:`text-sm ${f===""?"text-green-600":"text-red-600"}`,children:f}),D.jsx("button",{type:"submit",className:"w-full py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:""})]})]})})}function qL(){const{user:n,logout:e}=vd(),[t,r]=Je.useState("worklog");if(!n)return null;const a=n.role==="admin";return D.jsxs("div",{className:"min-h-screen bg-gray-50",children:[D.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:D.jsxs("div",{className:"flex items-center justify-between px-6 py-3",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:D.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),D.jsx("span",{className:"font-semibold text-gray-900",children:""})]}),D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("img",{src:n.avatar,alt:n.name,className:"w-8 h-8 rounded-full bg-gray-200"}),D.jsxs("div",{className:"text-right",children:[D.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.name}),D.jsx("p",{className:"text-xs text-gray-500",children:a?"":""})]})]}),D.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",title:"",children:D.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})}),D.jsx("nav",{className:"bg-white border-b border-gray-200",children:D.jsxs("div",{className:"flex px-6 gap-1",children:[D.jsx(ch,{active:t==="worklog",onClick:()=>r("worklog"),icon:D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),children:""}),a?D.jsx(ch,{active:t==="contract",onClick:()=>r("contract"),icon:D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),children:""}):D.jsx(ch,{active:t==="contract",onClick:()=>r("contract"),icon:D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),children:""}),D.jsx(ch,{active:t==="tasks",onClick:()=>r("tasks"),icon:D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),children:""}),a&&D.jsx(ch,{active:t==="employees",onClick:()=>r("employees"),icon:D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),children:""}),D.jsx(ch,{active:t==="settings",onClick:()=>r("settings"),icon:D.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),children:""})]})}),D.jsxs("main",{className:"max-w-5xl mx-auto px-6 py-8",children:[t==="worklog"&&D.jsx(VI,{userId:n.id,isAdmin:a}),t==="contract"&&(a?D.jsx(LL,{}):D.jsx(DL,{})),t==="tasks"&&D.jsx(ML,{userId:n.id,userName:n.name,isAdmin:a}),t==="employees"&&a&&D.jsx(FL,{}),t==="settings"&&D.jsx(zL,{})]})]})}function ch({active:n,onClick:e,children:t,icon:r}){return D.jsxs("button",{onClick:e,className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${n?"text-primary border-primary":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"}`,children:[r,t]})}function HL(){const[n,e]=Je.useState(""),[t,r]=Je.useState(""),[a,o]=Je.useState(""),[c,h]=Je.useState(""),[f,m]=Je.useState("employee"),[v,S]=Je.useState(""),[x,b]=Je.useState(""),[V,B]=Je.useState(!1),H=async U=>{U.preventDefault(),S(""),b(""),B(!0);try{const se=Vw(Mh),Z=km(Mh),te=await bx(se,`${n}@twkt.com`,t);await v2(Xo(Z,"users",te.user.uid),{id:te.user.uid,username:n,name:a,role:f,department:c,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${n}`,employmentType:"",signedContractAt:null,contractStartDate:null,createdAt:new Date().toISOString()}),b(` ${a} (${f==="admin"?"":""}) `),e(""),r(""),o("")}catch(se){console.error("Error:",se),se.code==="auth/email-already-in-use"?S(""):se.code==="auth/weak-password"?S("6"):S(": "+se.message)}B(!1)};return D.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:D.jsx("div",{className:"w-full max-w-md",children:D.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[D.jsxs("div",{className:"text-center mb-8",children:[D.jsx("div",{className:"w-16 h-16 bg-primary rounded-xl flex items-center justify-center mx-auto mb-4",children:D.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),D.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),D.jsx("p",{className:"text-gray-500 mt-1",children:""})]}),x&&D.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 text-green-600 rounded-lg text-sm",children:x}),v&&D.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm",children:v}),D.jsxs("form",{onSubmit:H,className:"space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:a,onChange:U=>o(U.target.value),placeholder:"",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:n,onChange:U=>e(U.target.value),placeholder:" @twkt.com",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"password",value:t,onChange:U=>r(U.target.value),placeholder:"6",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0,minLength:6})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsxs("select",{value:c,onChange:U=>h(U.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"",children:""}),D.jsx("option",{value:"",children:""}),D.jsx("option",{value:"",children:""}),D.jsx("option",{value:"",children:""}),D.jsx("option",{value:"",children:""})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsxs("select",{value:f,onChange:U=>m(U.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"employee",children:""}),D.jsx("option",{value:"admin",children:""})]})]}),D.jsx("button",{type:"submit",disabled:V,className:"w-full py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50",children:V?"...":""})]}),D.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:D.jsxs("p",{className:"text-xs text-gray-500",children:["",D.jsx("br",{}),""]})})]})})})}function GL(){const{user:n,loading:e}=vd(),[t,r]=Je.useState(!1),[a,o]=Je.useState(!0);return Je.useEffect(()=>{(async()=>{try{const h=km(Mh);(await Fm(qh(h,"users"))).empty&&r(!0)}catch(h){console.error("Error checking users:",h)}o(!1)})()},[]),a?D.jsx("div",{className:"min-h-screen flex items-center justify-center",children:D.jsx("div",{className:"text-gray-500",children:"..."})}):t?D.jsx(HL,{}):e?D.jsx("div",{className:"min-h-screen flex items-center justify-center",children:D.jsx("div",{className:"text-gray-500",children:"..."})}):n?D.jsx(qL,{}):D.jsx(II,{})}function YL(){return D.jsx(CI,{children:D.jsx(GL,{})})}VS.createRoot(document.getElementById("root")).render(D.jsx(Je.StrictMode,{children:D.jsx(YL,{})}));export{Qn as _};
