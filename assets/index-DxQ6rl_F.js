(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var t1={exports:{}},xf={};var jy;function IS(){if(jy)return xf;jy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:o}}return xf.Fragment=t,xf.jsx=e,xf.jsxs=e,xf}var Uy;function CS(){return Uy||(Uy=1,t1.exports=IS()),t1.exports}var M=CS(),e1={exports:{}},en={};var Vy;function RS(){if(Vy)return en;Vy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function b($){return $===null||typeof $!="object"?null:($=x&&$[x]||$["@@iterator"],typeof $=="function"?$:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,G={};function F($,k,K){this.props=$,this.context=k,this.refs=G,this.updater=K||U}F.prototype.isReactComponent={},F.prototype.setState=function($,k){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,k,"setState")},F.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function st(){}st.prototype=F.prototype;function Z($,k,K){this.props=$,this.context=k,this.refs=G,this.updater=K||U}var et=Z.prototype=new st;et.constructor=Z,B(et,F.prototype),et.isPureReactComponent=!0;var bt=Array.isArray;function St(){}var Y={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function R($,k,K){var J=K.ref;return{$$typeof:n,type:$,key:k,ref:J!==void 0?J:null,props:K}}function q($,k){return R($.type,k,$.props)}function N($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function O($){var k={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(K){return k[K]})}var C=/\/+/g;function ot($,k){return typeof $=="object"&&$!==null&&$.key!=null?O(""+$.key):k.toString(36)}function xt($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(St,St):($.status="pending",$.then(function(k){$.status==="pending"&&($.status="fulfilled",$.value=k)},function(k){$.status==="pending"&&($.status="rejected",$.reason=k)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function at($,k,K,J,lt){var ct=typeof $;(ct==="undefined"||ct==="boolean")&&($=null);var gt=!1;if($===null)gt=!0;else switch(ct){case"bigint":case"string":case"number":gt=!0;break;case"object":switch($.$$typeof){case n:case t:gt=!0;break;case v:return gt=$._init,at(gt($._payload),k,K,J,lt)}}if(gt)return lt=lt($),gt=J===""?"."+ot($,0):J,bt(lt)?(K="",gt!=null&&(K=gt.replace(C,"$&/")+"/"),at(lt,k,K,"",function(Vt){return Vt})):lt!=null&&(N(lt)&&(lt=q(lt,K+(lt.key==null||$&&$.key===lt.key?"":(""+lt.key).replace(C,"$&/")+"/")+gt)),k.push(lt)),1;gt=0;var kt=J===""?".":J+":";if(bt($))for(var Rt=0;Rt<$.length;Rt++)J=$[Rt],ct=kt+ot(J,Rt),gt+=at(J,k,K,ct,lt);else if(Rt=b($),typeof Rt=="function")for($=Rt.call($),Rt=0;!(J=$.next()).done;)J=J.value,ct=kt+ot(J,Rt++),gt+=at(J,k,K,ct,lt);else if(ct==="object"){if(typeof $.then=="function")return at(xt($),k,K,J,lt);throw k=String($),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return gt}function pt($,k,K){if($==null)return $;var J=[],lt=0;return at($,J,"","",function(ct){return k.call(K,ct,lt++)}),J}function ft($){if($._status===-1){var k=$._result;k=k(),k.then(function(K){($._status===0||$._status===-1)&&($._status=1,$._result=K)},function(K){($._status===0||$._status===-1)&&($._status=2,$._result=K)}),$._status===-1&&($._status=0,$._result=k)}if($._status===1)return $._result.default;throw $._result}var Ct=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},Ht={map:pt,forEach:function($,k,K){pt($,function(){k.apply(this,arguments)},K)},count:function($){var k=0;return pt($,function(){k++}),k},toArray:function($){return pt($,function(k){return k})||[]},only:function($){if(!N($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return en.Activity=S,en.Children=Ht,en.Component=F,en.Fragment=e,en.Profiler=a,en.PureComponent=Z,en.StrictMode=r,en.Suspense=f,en.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,en.__COMPILER_RUNTIME={__proto__:null,c:function($){return Y.H.useMemoCache($)}},en.cache=function($){return function(){return $.apply(null,arguments)}},en.cacheSignal=function(){return null},en.cloneElement=function($,k,K){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var J=B({},$.props),lt=$.key;if(k!=null)for(ct in k.key!==void 0&&(lt=""+k.key),k)!D.call(k,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&k.ref===void 0||(J[ct]=k[ct]);var ct=arguments.length-2;if(ct===1)J.children=K;else if(1<ct){for(var gt=Array(ct),kt=0;kt<ct;kt++)gt[kt]=arguments[kt+2];J.children=gt}return R($.type,lt,J)},en.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:o,_context:$},$},en.createElement=function($,k,K){var J,lt={},ct=null;if(k!=null)for(J in k.key!==void 0&&(ct=""+k.key),k)D.call(k,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(lt[J]=k[J]);var gt=arguments.length-2;if(gt===1)lt.children=K;else if(1<gt){for(var kt=Array(gt),Rt=0;Rt<gt;Rt++)kt[Rt]=arguments[Rt+2];lt.children=kt}if($&&$.defaultProps)for(J in gt=$.defaultProps,gt)lt[J]===void 0&&(lt[J]=gt[J]);return R($,ct,lt)},en.createRef=function(){return{current:null}},en.forwardRef=function($){return{$$typeof:h,render:$}},en.isValidElement=N,en.lazy=function($){return{$$typeof:v,_payload:{_status:-1,_result:$},_init:ft}},en.memo=function($,k){return{$$typeof:m,type:$,compare:k===void 0?null:k}},en.startTransition=function($){var k=Y.T,K={};Y.T=K;try{var J=$(),lt=Y.S;lt!==null&&lt(K,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(St,Ct)}catch(ct){Ct(ct)}finally{k!==null&&K.types!==null&&(k.types=K.types),Y.T=k}},en.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},en.use=function($){return Y.H.use($)},en.useActionState=function($,k,K){return Y.H.useActionState($,k,K)},en.useCallback=function($,k){return Y.H.useCallback($,k)},en.useContext=function($){return Y.H.useContext($)},en.useDebugValue=function(){},en.useDeferredValue=function($,k){return Y.H.useDeferredValue($,k)},en.useEffect=function($,k){return Y.H.useEffect($,k)},en.useEffectEvent=function($){return Y.H.useEffectEvent($)},en.useId=function(){return Y.H.useId()},en.useImperativeHandle=function($,k,K){return Y.H.useImperativeHandle($,k,K)},en.useInsertionEffect=function($,k){return Y.H.useInsertionEffect($,k)},en.useLayoutEffect=function($,k){return Y.H.useLayoutEffect($,k)},en.useMemo=function($,k){return Y.H.useMemo($,k)},en.useOptimistic=function($,k){return Y.H.useOptimistic($,k)},en.useReducer=function($,k,K){return Y.H.useReducer($,k,K)},en.useRef=function($){return Y.H.useRef($)},en.useState=function($){return Y.H.useState($)},en.useSyncExternalStore=function($,k,K){return Y.H.useSyncExternalStore($,k,K)},en.useTransition=function(){return Y.H.useTransition()},en.version="19.2.4",en}var By;function A0(){return By||(By=1,e1.exports=RS()),e1.exports}var ne=A0(),n1={exports:{}},Tf={},i1={exports:{}},r1={};var Fy;function LS(){return Fy||(Fy=1,(function(n){function t(at,pt){var ft=at.length;at.push(pt);t:for(;0<ft;){var Ct=ft-1>>>1,Ht=at[Ct];if(0<a(Ht,pt))at[Ct]=pt,at[ft]=Ht,ft=Ct;else break t}}function e(at){return at.length===0?null:at[0]}function r(at){if(at.length===0)return null;var pt=at[0],ft=at.pop();if(ft!==pt){at[0]=ft;t:for(var Ct=0,Ht=at.length,$=Ht>>>1;Ct<$;){var k=2*(Ct+1)-1,K=at[k],J=k+1,lt=at[J];if(0>a(K,ft))J<Ht&&0>a(lt,K)?(at[Ct]=lt,at[J]=ft,Ct=J):(at[Ct]=K,at[k]=ft,Ct=k);else if(J<Ht&&0>a(lt,ft))at[Ct]=lt,at[J]=ft,Ct=J;else break t}}return pt}function a(at,pt){var ft=at.sortIndex-pt.sortIndex;return ft!==0?ft:at.id-pt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],v=1,S=null,x=3,b=!1,U=!1,B=!1,G=!1,F=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function et(at){for(var pt=e(m);pt!==null;){if(pt.callback===null)r(m);else if(pt.startTime<=at)r(m),pt.sortIndex=pt.expirationTime,t(f,pt);else break;pt=e(m)}}function bt(at){if(B=!1,et(at),!U)if(e(f)!==null)U=!0,St||(St=!0,O());else{var pt=e(m);pt!==null&&xt(bt,pt.startTime-at)}}var St=!1,Y=-1,D=5,R=-1;function q(){return G?!0:!(n.unstable_now()-R<D)}function N(){if(G=!1,St){var at=n.unstable_now();R=at;var pt=!0;try{t:{U=!1,B&&(B=!1,st(Y),Y=-1),b=!0;var ft=x;try{e:{for(et(at),S=e(f);S!==null&&!(S.expirationTime>at&&q());){var Ct=S.callback;if(typeof Ct=="function"){S.callback=null,x=S.priorityLevel;var Ht=Ct(S.expirationTime<=at);if(at=n.unstable_now(),typeof Ht=="function"){S.callback=Ht,et(at),pt=!0;break e}S===e(f)&&r(f),et(at)}else r(f);S=e(f)}if(S!==null)pt=!0;else{var $=e(m);$!==null&&xt(bt,$.startTime-at),pt=!1}}break t}finally{S=null,x=ft,b=!1}pt=void 0}}finally{pt?O():St=!1}}}var O;if(typeof Z=="function")O=function(){Z(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ot=C.port2;C.port1.onmessage=N,O=function(){ot.postMessage(null)}}else O=function(){F(N,0)};function xt(at,pt){Y=F(function(){at(n.unstable_now())},pt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(at){at.callback=null},n.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<at?Math.floor(1e3/at):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(at){switch(x){case 1:case 2:case 3:var pt=3;break;default:pt=x}var ft=x;x=pt;try{return at()}finally{x=ft}},n.unstable_requestPaint=function(){G=!0},n.unstable_runWithPriority=function(at,pt){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var ft=x;x=at;try{return pt()}finally{x=ft}},n.unstable_scheduleCallback=function(at,pt,ft){var Ct=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ct+ft:Ct):ft=Ct,at){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ft+Ht,at={id:v++,callback:pt,priorityLevel:at,startTime:ft,expirationTime:Ht,sortIndex:-1},ft>Ct?(at.sortIndex=ft,t(m,at),e(f)===null&&at===e(m)&&(B?(st(Y),Y=-1):B=!0,xt(bt,ft-Ct))):(at.sortIndex=Ht,t(f,at),U||b||(U=!0,St||(St=!0,O()))),at},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(at){var pt=x;return function(){var ft=x;x=pt;try{return at.apply(this,arguments)}finally{x=ft}}}})(r1)),r1}var zy;function kS(){return zy||(zy=1,i1.exports=LS()),i1.exports}var s1={exports:{}},us={};var qy;function OS(){if(qy)return us;qy=1;var n=A0();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,m,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:f,containerInfo:m,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return us.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,us.createPortal=function(f,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(f,m,null,v)},us.flushSync=function(f){var m=c.T,v=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=m,r.p=v,r.d.f()}},us.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},us.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},us.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var v=m.as,S=h(v,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:b}):v==="script"&&r.d.X(f,{crossOrigin:S,integrity:x,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},us.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},us.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,S=h(v,m.crossOrigin);r.d.L(f,v,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},us.preloadModule=function(f,m){if(typeof f=="string")if(m){var v=h(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},us.requestFormReset=function(f){r.d.r(f)},us.unstable_batchedUpdates=function(f,m){return f(m)},us.useFormState=function(f,m,v){return c.H.useFormState(f,m,v)},us.useFormStatus=function(){return c.H.useHostTransitionStatus()},us.version="19.2.4",us}var Hy;function DS(){if(Hy)return s1.exports;Hy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),s1.exports=OS(),s1.exports}var Gy;function PS(){if(Gy)return Tf;Gy=1;var n=kS(),t=A0(),e=DS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,u=s;;){var g=l.return;if(g===null)break;var _=g.alternate;if(_===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===l)return f(g),i;if(_===u)return f(g),s;_=_.sibling}throw Error(r(188))}if(l.return!==u.return)l=g,u=_;else{for(var I=!1,H=g.child;H;){if(H===l){I=!0,l=g,u=_;break}if(H===u){I=!0,u=g,l=_;break}H=H.sibling}if(!I){for(H=_.child;H;){if(H===l){I=!0,l=_,u=g;break}if(H===u){I=!0,u=_,l=g;break}H=H.sibling}if(!I)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),bt=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function O(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var C=Symbol.for("react.client.reference");function ot(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===C?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case F:return"Profiler";case G:return"StrictMode";case bt:return"Suspense";case St:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case U:return"Portal";case Z:return i.displayName||"Context";case st:return(i._context.displayName||"Context")+".Consumer";case et:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Y:return s=i.displayName||null,s!==null?s:ot(i.type)||"Memo";case D:s=i._payload,i=i._init;try{return ot(i(s))}catch{}}return null}var xt=Array.isArray,at=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Ct=[],Ht=-1;function $(i){return{current:i}}function k(i){0>Ht||(i.current=Ct[Ht],Ct[Ht]=null,Ht--)}function K(i,s){Ht++,Ct[Ht]=i.current,i.current=s}var J=$(null),lt=$(null),ct=$(null),gt=$(null);function kt(i,s){switch(K(ct,s),K(lt,i),K(J,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?ay(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=ay(s),i=oy(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}k(J),K(J,i)}function Rt(){k(J),k(lt),k(ct)}function Vt(i){i.memoizedState!==null&&K(gt,i);var s=J.current,l=oy(s,i.type);s!==l&&(K(lt,i),K(J,l))}function Xt(i){lt.current===i&&(k(J),k(lt)),gt.current===i&&(k(gt),wf._currentValue=ft)}var ee,te;function ce(i){if(ee===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);ee=s&&s[1]||"",te=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ee+i+te}var tt=!1;function Zt(i,s){if(!i||tt)return"";tt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Gt=function(){throw Error()};if(Object.defineProperty(Gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Gt,[])}catch(Dt){var Ot=Dt}Reflect.construct(i,[],Gt)}else{try{Gt.call()}catch(Dt){Ot=Dt}i.call(Gt.prototype)}}else{try{throw Error()}catch(Dt){Ot=Dt}(Gt=i())&&typeof Gt.catch=="function"&&Gt.catch(function(){})}}catch(Dt){if(Dt&&Ot&&typeof Dt.stack=="string")return[Dt.stack,Ot.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),I=_[0],H=_[1];if(I&&H){var ut=I.split(`
`),It=H.split(`
`);for(g=u=0;u<ut.length&&!ut[u].includes("DetermineComponentFrameRoot");)u++;for(;g<It.length&&!It[g].includes("DetermineComponentFrameRoot");)g++;if(u===ut.length||g===It.length)for(u=ut.length-1,g=It.length-1;1<=u&&0<=g&&ut[u]!==It[g];)g--;for(;1<=u&&0<=g;u--,g--)if(ut[u]!==It[g]){if(u!==1||g!==1)do if(u--,g--,0>g||ut[u]!==It[g]){var Ut=`
`+ut[u].replace(" at new "," at ");return i.displayName&&Ut.includes("<anonymous>")&&(Ut=Ut.replace("<anonymous>",i.displayName)),Ut}while(1<=u&&0<=g);break}}}finally{tt=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ce(l):""}function Ke(i,s){switch(i.tag){case 26:case 27:case 5:return ce(i.type);case 16:return ce("Lazy");case 13:return i.child!==s&&s!==null?ce("Suspense Fallback"):ce("Suspense");case 19:return ce("SuspenseList");case 0:case 15:return Zt(i.type,!1);case 11:return Zt(i.type.render,!1);case 1:return Zt(i.type,!0);case 31:return ce("Activity");default:return""}}function Te(i){try{var s="",l=null;do s+=Ke(i,l),l=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ft=Object.prototype.hasOwnProperty,se=n.unstable_scheduleCallback,re=n.unstable_cancelCallback,Ie=n.unstable_shouldYield,be=n.unstable_requestPaint,We=n.unstable_now,Ze=n.unstable_getCurrentPriorityLevel,Be=n.unstable_ImmediatePriority,an=n.unstable_UserBlockingPriority,Xe=n.unstable_NormalPriority,ge=n.unstable_LowPriority,He=n.unstable_IdlePriority,ye=n.log,ui=n.unstable_setDisableYieldValue,$e=null,Ne=null;function je(i){if(typeof ye=="function"&&ui(i),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode($e,i)}catch{}}var Qe=Math.clz32?Math.clz32:Pe,Ae=Math.log,Cn=Math.LN2;function Pe(i){return i>>>=0,i===0?32:31-(Ae(i)/Cn|0)|0}var Me=256,kn=262144,we=4194304;function ve(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function on(i,s,l){var u=i.pendingLanes;if(u===0)return 0;var g=0,_=i.suspendedLanes,I=i.pingedLanes;i=i.warmLanes;var H=u&134217727;return H!==0?(u=H&~_,u!==0?g=ve(u):(I&=H,I!==0?g=ve(I):l||(l=H&~i,l!==0&&(g=ve(l))))):(H=u&~_,H!==0?g=ve(H):I!==0?g=ve(I):l||(l=u&~i,l!==0&&(g=ve(l)))),g===0?0:s!==0&&s!==g&&(s&_)===0&&(_=g&-g,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:g}function ur(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ji(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Is(){var i=we;return we<<=1,(we&62914560)===0&&(we=4194304),i}function qi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Se(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Js(i,s,l,u,g,_){var I=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var H=i.entanglements,ut=i.expirationTimes,It=i.hiddenUpdates;for(l=I&~l;0<l;){var Ut=31-Qe(l),Gt=1<<Ut;H[Ut]=0,ut[Ut]=-1;var Ot=It[Ut];if(Ot!==null)for(It[Ut]=null,Ut=0;Ut<Ot.length;Ut++){var Dt=Ot[Ut];Dt!==null&&(Dt.lane&=-536870913)}l&=~Gt}u!==0&&Fr(i,u,0),_!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=_&~(I&~s))}function Fr(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Qe(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|l&261930}function Er(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var u=31-Qe(l),g=1<<u;g&s|i[u]&s&&(i[u]|=s),l&=~g}}function xr(i,s){var l=s&-s;return l=(l&42)!==0?1:Fn(l),(l&(i.suspendedLanes|s))!==0?0:l}function Fn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ki(){var i=pt.p;return i!==0?i:(i=window.event,i===void 0?32:Ry(i.type))}function cr(i,s){var l=pt.p;try{return pt.p=i,s()}finally{pt.p=l}}var Zi=Math.random().toString(36).slice(2),On="__reactFiber$"+Zi,Hn="__reactProps$"+Zi,Oi="__reactContainer$"+Zi,Tr="__reactEvents$"+Zi,ns="__reactListeners$"+Zi,ya="__reactHandles$"+Zi,vs="__reactResources$"+Zi,Nr="__reactMarker$"+Zi;function Zs(i){delete i[On],delete i[Hn],delete i[Tr],delete i[ns],delete i[ya]}function zr(i){var s=i[On];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Oi]||l[On]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=py(i);i!==null;){if(l=i[On])return l;i=py(i)}return s}i=l,l=i.parentNode}return null}function hr(i){if(i=i[On]||i[Oi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function qr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function is(i){var s=i[vs];return s||(s=i[vs]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function fi(i){i[Nr]=!0}var vo=new Set,Ir={};function rs(i,s){_s(i,s),_s(i+"Capture",s)}function _s(i,s){for(Ir[i]=s,i=0;i<s.length;i++)vo.add(s[i])}var Fa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_o={},bo={};function tl(i){return Ft.call(bo,i)?!0:Ft.call(_o,i)?!1:Fa.test(i)?bo[i]=!0:(_o[i]=!0,!1)}function Hr(i,s,l){if(tl(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function tr(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function vi(i,s,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+u)}}function hn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ta(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ss(i,s,l){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(I){l=""+I,_.call(this,I)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(I){l=""+I},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function yn(i){if(!i._valueTracker){var s=ta(i)?"checked":"value";i._valueTracker=ss(i,s,""+i[s])}}function va(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return i&&(u=ta(i)?i.checked?"true":"false":i.value),i=u,i!==l?(s.setValue(i),!0):!1}function xi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ri=/[\n"\\]/g;function _i(i){return i.replace(ri,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function za(i,s,l,u,g,_,I,H){i.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.type=I:i.removeAttribute("type"),s!=null?I==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+hn(s)):i.value!==""+hn(s)&&(i.value=""+hn(s)):I!=="submit"&&I!=="reset"||i.removeAttribute("value"),s!=null?el(i,I,hn(s)):l!=null?el(i,I,hn(l)):u!=null&&i.removeAttribute("value"),g==null&&_!=null&&(i.defaultChecked=!!_),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?i.name=""+hn(H):i.removeAttribute("name")}function Ul(i,s,l,u,g,_,I,H){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){yn(i);return}l=l!=null?""+hn(l):"",s=s!=null?""+hn(s):l,H||s===i.value||(i.value=s),i.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=H?i.checked:!!u,i.defaultChecked=!!u,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(i.name=I),yn(i)}function el(i,s,l){s==="number"&&xi(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function fr(i,s,l,u){if(i=i.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=s.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&u&&(i[l].defaultSelected=!0)}else{for(l=""+hn(l),s=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,u&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function nl(i,s,l){if(s!=null&&(s=""+hn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+hn(l):""}function ea(i,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(xt(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=hn(s),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u),yn(i)}function Hi(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var _a=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(i,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,l):typeof l!="number"||l===0||_a.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function rl(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&l[g]!==u&&il(i,g,u)}else for(var _ in s)s.hasOwnProperty(_)&&il(i,_,s[_])}function wo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ao=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),na=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cr(i){return na.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function bs(){}var ia=null;function Rr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ba=null,Ce=null;function qa(i){var s=hr(i);if(s&&(i=s.stateNode)){var l=i[Hn]||null;t:switch(i=s.stateNode,s.type){case"input":if(za(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+_i(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==i&&u.form===i.form){var g=u[Hn]||null;if(!g)throw Error(r(90));za(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===i.form&&va(u)}break t;case"textarea":nl(i,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&fr(i,!!l.multiple,s,!1)}}}var So=!1;function wa(i,s,l){if(So)return i(s,l);So=!0;try{var u=i(s);return u}finally{if(So=!1,(ba!==null||Ce!==null)&&(zd(),ba&&(s=ba,i=Ce,Ce=ba=null,qa(s),i)))for(s=0;s<i.length;s++)qa(i[s])}}function Gi(i,s){var l=i.stateNode;if(l===null)return null;var u=l[Hn]||null;if(u===null)return null;l=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ha=!1;if(Di)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){Ha=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{Ha=!1}var Gr=null,Ga=null,ws=null;function sl(){if(ws)return ws;var i,s=Ga,l=s.length,u,g="value"in Gr?Gr.value:Gr.textContent,_=g.length;for(i=0;i<l&&s[i]===g[i];i++);var I=l-i;for(u=1;u<=I&&s[l-u]===g[_-u];u++);return ws=g.slice(i,1<u?1-u:void 0)}function Yr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ra(){return!0}function Kr(){return!1}function Ti(i){function s(l,u,g,_,I){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=_,this.target=I,this.currentTarget=null;for(var H in i)i.hasOwnProperty(H)&&(l=i[H],this[H]=l?l(_):_[H]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ra:Kr,this.isPropagationStopped=Kr,this}return S(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),s}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},er=Ti(Cs),Rs=S({},Cs,{view:0,detail:0}),Aa=Ti(Rs),Ls,ks,as,Ya=S({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ke,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==as&&(as&&i.type==="mousemove"?(Ls=i.screenX-as.screenX,ks=i.screenY-as.screenY):ks=Ls=0,as=i),Ls)},movementY:function(i){return"movementY"in i?i.movementY:ks}}),Eo=Ti(Ya),Wr=S({},Ya,{dataTransfer:0}),Os=Ti(Wr),al=S({},Rs,{relatedTarget:0}),As=Ti(al),xo=S({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),w=Ti(xo),P=S({},Cs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),it=Ti(P),ht=S({},Cs,{data:0}),vt=Ti(ht),jt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},le={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function de(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=le[i])?!!s[i]:!1}function ke(){return de}var Ee=S({},Rs,{key:function(i){if(i.key){var s=jt[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Yr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Kt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ke,charCode:function(i){return i.type==="keypress"?Yr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Yr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),fn=Ti(Ee),$n=S({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zn=Ti($n),p=S({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ke}),E=Ti(p),L=S({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q=Ti(L),wt=S({},Ya,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Lt=Ti(wt),$t=S({},Cs,{newState:0,oldState:0}),qe=Ti($t),Jn=[9,13,27,32],un=Di&&"CompositionEvent"in window,Pn=null;Di&&"documentMode"in document&&(Pn=document.documentMode);var nr=Di&&"TextEvent"in window&&!Pn,dr=Di&&(!un||Pn&&8<Pn&&11>=Pn),Gn=" ",pr=!1;function Ss(i,s){switch(i){case"keyup":return Jn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ea=!1;function Qr(i,s){switch(i){case"compositionend":return Sa(s);case"keypress":return s.which!==32?null:(pr=!0,Gn);case"textInput":return i=s.data,i===Gn&&pr?null:i;default:return null}}function Ka(i,s){if(Ea)return i==="compositionend"||!un&&Ss(i,s)?(i=sl(),ws=Ga=Gr=null,Ea=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return dr&&s.locale!=="ko"?null:s.data;default:return null}}var Vl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fu(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Vl[i.type]:s==="textarea"}function Es(i,s,l,u){ba?Ce?Ce.push(u):Ce=[u]:ba=u,s=Qd(s,"onChange"),0<s.length&&(l=new er("onChange","change",null,l,u),i.push({event:l,listeners:s}))}var sa=null,Wa=null;function zu(i){ty(i,0)}function aa(i){var s=qr(i);if(va(s))return i}function To(i,s){if(i==="change")return s}var os=!1;if(Di){var Xr;if(Di){var xa="oninput"in document;if(!xa){var Ta=document.createElement("div");Ta.setAttribute("oninput","return;"),xa=typeof Ta.oninput=="function"}Xr=xa}else Xr=!1;os=Xr&&(!document.documentMode||9<document.documentMode)}function Qa(){sa&&(sa.detachEvent("onpropertychange",Bl),Wa=sa=null)}function Bl(i){if(i.propertyName==="value"&&aa(Wa)){var s=[];Es(s,Wa,i,Rr(i)),wa(zu,s)}}function Fl(i,s,l){i==="focusin"?(Qa(),sa=s,Wa=l,sa.attachEvent("onpropertychange",Bl)):i==="focusout"&&Qa()}function Ni(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return aa(Wa)}function xc(i,s){if(i==="click")return aa(s)}function Na(i,s){if(i==="input"||i==="change")return aa(s)}function Ia(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var mr=typeof Object.is=="function"?Object.is:Ia;function Xa(i,s){if(mr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Ft.call(s,g)||!mr(i[g],s[g]))return!1}return!0}function zl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ql(i,s){var l=zl(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=s&&u>=s)return{node:l,offset:s-i};i=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=zl(l)}}function $a(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?$a(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Ja(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=xi(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=xi(i.document)}return s}function Ca(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var ol=Di&&"documentMode"in document&&11>=document.documentMode,xs=null,Za=null,Lr=null,Ds=!1;function Rn(i,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ds||xs==null||xs!==xi(u)||(u=xs,"selectionStart"in u&&Ca(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Lr&&Xa(Lr,u)||(Lr=u,u=Qd(Za,"onSelect"),0<u.length&&(s=new er("onSelect","select",null,s,l),i.push({event:s,listeners:u}),s.target=xs)))}function Sn(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Zn={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionrun:Sn("Transition","TransitionRun"),transitionstart:Sn("Transition","TransitionStart"),transitioncancel:Sn("Transition","TransitionCancel"),transitionend:Sn("Transition","TransitionEnd")},Ii={},Ra={};Di&&(Ra=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function oa(i){if(Ii[i])return Ii[i];if(!Zn[i])return i;var s=Zn[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Ra)return Ii[i]=s[l];return i}var ll=oa("animationend"),qu=oa("animationiteration"),qh=oa("animationstart"),vd=oa("transitionrun"),_d=oa("transitionstart"),bd=oa("transitioncancel"),Hh=oa("transitionend"),Gh=new Map,ul="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ul.push("scrollEnd");function Ps(i,s){Gh.set(i,s),rs(s,[i])}var Hu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ts=[],cl=0,Tc=0;function Gu(){for(var i=cl,s=Tc=cl=0;s<i;){var l=Ts[s];Ts[s++]=null;var u=Ts[s];Ts[s++]=null;var g=Ts[s];Ts[s++]=null;var _=Ts[s];if(Ts[s++]=null,u!==null&&g!==null){var I=u.pending;I===null?g.next=g:(g.next=I.next,I.next=g),u.pending=g}_!==0&&Ku(l,g,_)}}function Yu(i,s,l,u){Ts[cl++]=i,Ts[cl++]=s,Ts[cl++]=l,Ts[cl++]=u,Tc|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Nc(i,s,l,u){return Yu(i,s,l,u),kr(i)}function to(i,s){return Yu(i,null,null,s),kr(i)}function Ku(i,s,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var g=!1,_=i.return;_!==null;)_.childLanes|=l,u=_.alternate,u!==null&&(u.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(g=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,g&&s!==null&&(g=31-Qe(l),i=_.hiddenUpdates,u=i[g],u===null?i[g]=[s]:u.push(s),s.lane=l|536870912),_):null}function kr(i){if(50<pf)throw pf=0,Eg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var gr={};function Ic(i,s,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(i,s,l,u){return new Ic(i,s,l,u)}function Cc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ms(i,s){var l=i.alternate;return l===null?(l=Or(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Wu(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Hl(i,s,l,u,g,_){var I=0;if(u=i,typeof i=="function")Cc(i)&&(I=1);else if(typeof i=="string")I=gS(i,l,J.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=Or(31,l,s,g),i.elementType=R,i.lanes=_,i;case B:return No(l.children,g,_,s);case G:I=8,g|=24;break;case F:return i=Or(12,l,s,g|2),i.elementType=F,i.lanes=_,i;case bt:return i=Or(13,l,s,g),i.elementType=bt,i.lanes=_,i;case St:return i=Or(19,l,s,g),i.elementType=St,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Z:I=10;break t;case st:I=9;break t;case et:I=11;break t;case Y:I=14;break t;case D:I=16,u=null;break t}I=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Or(I,l,s,g),s.elementType=i,s.type=u,s.lanes=_,s}function No(i,s,l,u){return i=Or(7,i,u,s),i.lanes=l,i}function Qu(i,s,l){return i=Or(6,i,null,s),i.lanes=l,i}function Rc(i){var s=Or(18,null,null,0);return s.stateNode=i,s}function Gl(i,s,l){return s=Or(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Lc=new WeakMap;function js(i,s){if(typeof i=="object"&&i!==null){var l=Lc.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Te(s)},Lc.set(i,s),s)}return{value:i,source:s,stack:Te(s)}}var Yl=[],hl=0,kc=null,Xu=0,Us=[],Vs=0,Io=null,Bs=1,Fs="";function Ns(i,s){Yl[hl++]=Xu,Yl[hl++]=kc,kc=i,Xu=s}function wd(i,s,l){Us[Vs++]=Bs,Us[Vs++]=Fs,Us[Vs++]=Io,Io=i;var u=Bs;i=Fs;var g=32-Qe(u)-1;u&=~(1<<g),l+=1;var _=32-Qe(s)+g;if(30<_){var I=g-g%5;_=(u&(1<<I)-1).toString(32),u>>=I,g-=I,Bs=1<<32-Qe(s)+g|l<<g|u,Fs=_+i}else Bs=1<<_|l<<g|u,Fs=i}function Yh(i){i.return!==null&&(Ns(i,1),wd(i,1,0))}function Oc(i){for(;i===kc;)kc=Yl[--hl],Yl[hl]=null,Xu=Yl[--hl],Yl[hl]=null;for(;i===Io;)Io=Us[--Vs],Us[Vs]=null,Fs=Us[--Vs],Us[Vs]=null,Bs=Us[--Vs],Us[Vs]=null}function Ad(i,s){Us[Vs++]=Bs,Us[Vs++]=Fs,Us[Vs++]=Io,Bs=s.id,Fs=s.overflow,Io=i}var yr=null,si=null,pn=!1,$r=null,bi=!1,la=Error(r(519));function Co(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(js(s,i)),la}function Kh(i){var s=i.stateNode,l=i.type,u=i.memoizedProps;switch(s[On]=i,s[Hn]=u,l){case"dialog":gn("cancel",s),gn("close",s);break;case"iframe":case"object":case"embed":gn("load",s);break;case"video":case"audio":for(l=0;l<gf.length;l++)gn(gf[l],s);break;case"source":gn("error",s);break;case"img":case"image":case"link":gn("error",s),gn("load",s);break;case"details":gn("toggle",s);break;case"input":gn("invalid",s),Ul(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":gn("invalid",s);break;case"textarea":gn("invalid",s),ea(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||ry(s.textContent,l)?(u.popover!=null&&(gn("beforetoggle",s),gn("toggle",s)),u.onScroll!=null&&gn("scroll",s),u.onScrollEnd!=null&&gn("scrollend",s),u.onClick!=null&&(s.onclick=bs),s=!0):s=!1,s||Co(i,!0)}function eo(i){for(yr=i.return;yr;)switch(yr.tag){case 5:case 31:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:yr=yr.return}}function vr(i){if(i!==yr)return!1;if(!pn)return eo(i),pn=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Vg(i.type,i.memoizedProps)),l=!l),l&&si&&Co(i),eo(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));si=dy(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));si=dy(i)}else s===27?(s=si,ou(i.type)?(i=Hg,Hg=null,si=i):si=s):si=yr?Da(i.stateNode.nextSibling):null;return!0}function fl(){si=yr=null,pn=!1}function Wh(){var i=$r;return i!==null&&(Ks===null?Ks=i:Ks.push.apply(Ks,i),$r=null),i}function Kl(i){$r===null?$r=[i]:$r.push(i)}var Dc=$(null),Ro=null,La=null;function Lo(i,s,l){K(Dc,s._currentValue),s._currentValue=l}function zs(i){i._currentValue=Dc.current,k(Dc)}function Wl(i,s,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===l)break;i=i.return}}function dl(i,s,l,u){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var _=g.dependencies;if(_!==null){var I=g.child;_=_.firstContext;t:for(;_!==null;){var H=_;_=g;for(var ut=0;ut<s.length;ut++)if(H.context===s[ut]){_.lanes|=l,H=_.alternate,H!==null&&(H.lanes|=l),Wl(_.return,l,i),u||(I=null);break t}_=H.next}}else if(g.tag===18){if(I=g.return,I===null)throw Error(r(341));I.lanes|=l,_=I.alternate,_!==null&&(_.lanes|=l),Wl(I,l,i),I=null}else I=g.child;if(I!==null)I.return=g;else for(I=g;I!==null;){if(I===i){I=null;break}if(g=I.sibling,g!==null){g.return=I.return,I=g;break}I=I.return}g=I}}function ko(i,s,l,u){i=null;for(var g=s,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var I=g.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var H=g.type;mr(g.pendingProps.value,I.value)||(i!==null?i.push(H):i=[H])}}else if(g===gt.current){if(I=g.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(wf):i=[wf])}g=g.return}i!==null&&dl(s,i,l,u),s.flags|=262144}function Pc(i){for(i=i.firstContext;i!==null;){if(!mr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Oo(i){Ro=i,La=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function _r(i){return Sd(Ro,i)}function Mc(i,s){return Ro===null&&Oo(i),Sd(i,s)}function Sd(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},La===null){if(i===null)throw Error(r(308));La=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else La=La.next=s;return l}var qm=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},Hm=n.unstable_scheduleCallback,Gm=n.unstable_NormalPriority,Ci={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ql(){return{controller:new qm,data:new Map,refCount:0}}function $u(i){i.refCount--,i.refCount===0&&Hm(Gm,function(){i.controller.abort()})}var Ju=null,jc=0,d=0,y=null;function A(i,s){if(Ju===null){var l=Ju=[];jc=0,d=Rg(),y={status:"pending",value:void 0,then:function(u){l.push(u)}}}return jc++,s.then(T,T),s}function T(){if(--jc===0&&Ju!==null){y!==null&&(y.status="fulfilled");var i=Ju;Ju=null,d=0,y=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function j(i,s){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var V=at.S;at.S=function(i,s){I5=We(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&A(i,s),V!==null&&V(i,s)};var z=$(null);function W(){var i=z.current;return i!==null?i:oi.pooledCache}function X(i,s){s===null?K(z,z.current):K(z,s.pool)}function rt(){var i=W();return i===null?null:{parent:Ci._currentValue,pool:i}}var dt=Error(r(460)),Tt=Error(r(474)),nt=Error(r(542)),yt={then:function(){}};function At(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Mt(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(bs,bs),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Qt(i),i;default:if(typeof s.status=="string")s.then(bs,bs);else{if(i=oi,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Qt(i),i}throw Pt=s,dt}}function Et(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pt=l,dt):l}}var Pt=null;function Bt(){if(Pt===null)throw Error(r(459));var i=Pt;return Pt=null,i}function Qt(i){if(i===dt||i===nt)throw Error(r(483))}var Yt=null,pe=0;function ae(i){var s=pe;return pe+=1,Yt===null&&(Yt=[]),Mt(Yt,i,s)}function Ge(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function he(i,s){throw s.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function dn(i){function s(_t,mt){if(i){var Nt=_t.deletions;Nt===null?(_t.deletions=[mt],_t.flags|=16):Nt.push(mt)}}function l(_t,mt){if(!i)return null;for(;mt!==null;)s(_t,mt),mt=mt.sibling;return null}function u(_t){for(var mt=new Map;_t!==null;)_t.key!==null?mt.set(_t.key,_t):mt.set(_t.index,_t),_t=_t.sibling;return mt}function g(_t,mt){return _t=Ms(_t,mt),_t.index=0,_t.sibling=null,_t}function _(_t,mt,Nt){return _t.index=Nt,i?(Nt=_t.alternate,Nt!==null?(Nt=Nt.index,Nt<mt?(_t.flags|=67108866,mt):Nt):(_t.flags|=67108866,mt)):(_t.flags|=1048576,mt)}function I(_t){return i&&_t.alternate===null&&(_t.flags|=67108866),_t}function H(_t,mt,Nt,zt){return mt===null||mt.tag!==6?(mt=Qu(Nt,_t.mode,zt),mt.return=_t,mt):(mt=g(mt,Nt),mt.return=_t,mt)}function ut(_t,mt,Nt,zt){var De=Nt.type;return De===B?Ut(_t,mt,Nt.props.children,zt,Nt.key):mt!==null&&(mt.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===D&&Et(De)===mt.type)?(mt=g(mt,Nt.props),Ge(mt,Nt),mt.return=_t,mt):(mt=Hl(Nt.type,Nt.key,Nt.props,null,_t.mode,zt),Ge(mt,Nt),mt.return=_t,mt)}function It(_t,mt,Nt,zt){return mt===null||mt.tag!==4||mt.stateNode.containerInfo!==Nt.containerInfo||mt.stateNode.implementation!==Nt.implementation?(mt=Gl(Nt,_t.mode,zt),mt.return=_t,mt):(mt=g(mt,Nt.children||[]),mt.return=_t,mt)}function Ut(_t,mt,Nt,zt,De){return mt===null||mt.tag!==7?(mt=No(Nt,_t.mode,zt,De),mt.return=_t,mt):(mt=g(mt,Nt),mt.return=_t,mt)}function Gt(_t,mt,Nt){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return mt=Qu(""+mt,_t.mode,Nt),mt.return=_t,mt;if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case b:return Nt=Hl(mt.type,mt.key,mt.props,null,_t.mode,Nt),Ge(Nt,mt),Nt.return=_t,Nt;case U:return mt=Gl(mt,_t.mode,Nt),mt.return=_t,mt;case D:return mt=Et(mt),Gt(_t,mt,Nt)}if(xt(mt)||O(mt))return mt=No(mt,_t.mode,Nt,null),mt.return=_t,mt;if(typeof mt.then=="function")return Gt(_t,ae(mt),Nt);if(mt.$$typeof===Z)return Gt(_t,Mc(_t,mt),Nt);he(_t,mt)}return null}function Ot(_t,mt,Nt,zt){var De=mt!==null?mt.key:null;if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number"||typeof Nt=="bigint")return De!==null?null:H(_t,mt,""+Nt,zt);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case b:return Nt.key===De?ut(_t,mt,Nt,zt):null;case U:return Nt.key===De?It(_t,mt,Nt,zt):null;case D:return Nt=Et(Nt),Ot(_t,mt,Nt,zt)}if(xt(Nt)||O(Nt))return De!==null?null:Ut(_t,mt,Nt,zt,null);if(typeof Nt.then=="function")return Ot(_t,mt,ae(Nt),zt);if(Nt.$$typeof===Z)return Ot(_t,mt,Mc(_t,Nt),zt);he(_t,Nt)}return null}function Dt(_t,mt,Nt,zt,De){if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return _t=_t.get(Nt)||null,H(mt,_t,""+zt,De);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case b:return _t=_t.get(zt.key===null?Nt:zt.key)||null,ut(mt,_t,zt,De);case U:return _t=_t.get(zt.key===null?Nt:zt.key)||null,It(mt,_t,zt,De);case D:return zt=Et(zt),Dt(_t,mt,Nt,zt,De)}if(xt(zt)||O(zt))return _t=_t.get(Nt)||null,Ut(mt,_t,zt,De,null);if(typeof zt.then=="function")return Dt(_t,mt,Nt,ae(zt),De);if(zt.$$typeof===Z)return Dt(_t,mt,Nt,Mc(mt,zt),De);he(mt,zt)}return null}function fe(_t,mt,Nt,zt){for(var De=null,Mn=null,_e=mt,ln=mt=0,_n=null;_e!==null&&ln<Nt.length;ln++){_e.index>ln?(_n=_e,_e=null):_n=_e.sibling;var jn=Ot(_t,_e,Nt[ln],zt);if(jn===null){_e===null&&(_e=_n);break}i&&_e&&jn.alternate===null&&s(_t,_e),mt=_(jn,mt,ln),Mn===null?De=jn:Mn.sibling=jn,Mn=jn,_e=_n}if(ln===Nt.length)return l(_t,_e),pn&&Ns(_t,ln),De;if(_e===null){for(;ln<Nt.length;ln++)_e=Gt(_t,Nt[ln],zt),_e!==null&&(mt=_(_e,mt,ln),Mn===null?De=_e:Mn.sibling=_e,Mn=_e);return pn&&Ns(_t,ln),De}for(_e=u(_e);ln<Nt.length;ln++)_n=Dt(_e,_t,ln,Nt[ln],zt),_n!==null&&(i&&_n.alternate!==null&&_e.delete(_n.key===null?ln:_n.key),mt=_(_n,mt,ln),Mn===null?De=_n:Mn.sibling=_n,Mn=_n);return i&&_e.forEach(function(fu){return s(_t,fu)}),pn&&Ns(_t,ln),De}function Ve(_t,mt,Nt,zt){if(Nt==null)throw Error(r(151));for(var De=null,Mn=null,_e=mt,ln=mt=0,_n=null,jn=Nt.next();_e!==null&&!jn.done;ln++,jn=Nt.next()){_e.index>ln?(_n=_e,_e=null):_n=_e.sibling;var fu=Ot(_t,_e,jn.value,zt);if(fu===null){_e===null&&(_e=_n);break}i&&_e&&fu.alternate===null&&s(_t,_e),mt=_(fu,mt,ln),Mn===null?De=fu:Mn.sibling=fu,Mn=fu,_e=_n}if(jn.done)return l(_t,_e),pn&&Ns(_t,ln),De;if(_e===null){for(;!jn.done;ln++,jn=Nt.next())jn=Gt(_t,jn.value,zt),jn!==null&&(mt=_(jn,mt,ln),Mn===null?De=jn:Mn.sibling=jn,Mn=jn);return pn&&Ns(_t,ln),De}for(_e=u(_e);!jn.done;ln++,jn=Nt.next())jn=Dt(_e,_t,ln,jn.value,zt),jn!==null&&(i&&jn.alternate!==null&&_e.delete(jn.key===null?ln:jn.key),mt=_(jn,mt,ln),Mn===null?De=jn:Mn.sibling=jn,Mn=jn);return i&&_e.forEach(function(NS){return s(_t,NS)}),pn&&Ns(_t,ln),De}function ii(_t,mt,Nt,zt){if(typeof Nt=="object"&&Nt!==null&&Nt.type===B&&Nt.key===null&&(Nt=Nt.props.children),typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case b:t:{for(var De=Nt.key;mt!==null;){if(mt.key===De){if(De=Nt.type,De===B){if(mt.tag===7){l(_t,mt.sibling),zt=g(mt,Nt.props.children),zt.return=_t,_t=zt;break t}}else if(mt.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===D&&Et(De)===mt.type){l(_t,mt.sibling),zt=g(mt,Nt.props),Ge(zt,Nt),zt.return=_t,_t=zt;break t}l(_t,mt);break}else s(_t,mt);mt=mt.sibling}Nt.type===B?(zt=No(Nt.props.children,_t.mode,zt,Nt.key),zt.return=_t,_t=zt):(zt=Hl(Nt.type,Nt.key,Nt.props,null,_t.mode,zt),Ge(zt,Nt),zt.return=_t,_t=zt)}return I(_t);case U:t:{for(De=Nt.key;mt!==null;){if(mt.key===De)if(mt.tag===4&&mt.stateNode.containerInfo===Nt.containerInfo&&mt.stateNode.implementation===Nt.implementation){l(_t,mt.sibling),zt=g(mt,Nt.children||[]),zt.return=_t,_t=zt;break t}else{l(_t,mt);break}else s(_t,mt);mt=mt.sibling}zt=Gl(Nt,_t.mode,zt),zt.return=_t,_t=zt}return I(_t);case D:return Nt=Et(Nt),ii(_t,mt,Nt,zt)}if(xt(Nt))return fe(_t,mt,Nt,zt);if(O(Nt)){if(De=O(Nt),typeof De!="function")throw Error(r(150));return Nt=De.call(Nt),Ve(_t,mt,Nt,zt)}if(typeof Nt.then=="function")return ii(_t,mt,ae(Nt),zt);if(Nt.$$typeof===Z)return ii(_t,mt,Mc(_t,Nt),zt);he(_t,Nt)}return typeof Nt=="string"&&Nt!==""||typeof Nt=="number"||typeof Nt=="bigint"?(Nt=""+Nt,mt!==null&&mt.tag===6?(l(_t,mt.sibling),zt=g(mt,Nt),zt.return=_t,_t=zt):(l(_t,mt),zt=Qu(Nt,_t.mode,zt),zt.return=_t,_t=zt),I(_t)):l(_t,mt)}return function(_t,mt,Nt,zt){try{pe=0;var De=ii(_t,mt,Nt,zt);return Yt=null,De}catch(_e){if(_e===dt||_e===nt)throw _e;var Mn=Or(29,_e,null,_t.mode);return Mn.lanes=zt,Mn.return=_t,Mn}}}var ai=dn(!0),tn=dn(!1),oe=!1;function Jt(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function di(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ue(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function sn(i,s,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Bn&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=kr(i),Ku(i,null,l),s}return Yu(i,u,s,l),kr(i)}function Un(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,Er(i,l)}}function Yi(i,s){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var I={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?g=_=I:_=_.next=I,l=l.next}while(l!==null);_===null?g=_=s:_=_.next=s}else g=_=s;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var br=!1;function ti(){if(br){var i=y;if(i!==null)throw i}}function Pi(i,s,l,u){br=!1;var g=i.updateQueue;oe=!1;var _=g.firstBaseUpdate,I=g.lastBaseUpdate,H=g.shared.pending;if(H!==null){g.shared.pending=null;var ut=H,It=ut.next;ut.next=null,I===null?_=It:I.next=It,I=ut;var Ut=i.alternate;Ut!==null&&(Ut=Ut.updateQueue,H=Ut.lastBaseUpdate,H!==I&&(H===null?Ut.firstBaseUpdate=It:H.next=It,Ut.lastBaseUpdate=ut))}if(_!==null){var Gt=g.baseState;I=0,Ut=It=ut=null,H=_;do{var Ot=H.lane&-536870913,Dt=Ot!==H.lane;if(Dt?(vn&Ot)===Ot:(u&Ot)===Ot){Ot!==0&&Ot===d&&(br=!0),Ut!==null&&(Ut=Ut.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});t:{var fe=i,Ve=H;Ot=s;var ii=l;switch(Ve.tag){case 1:if(fe=Ve.payload,typeof fe=="function"){Gt=fe.call(ii,Gt,Ot);break t}Gt=fe;break t;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Ve.payload,Ot=typeof fe=="function"?fe.call(ii,Gt,Ot):fe,Ot==null)break t;Gt=S({},Gt,Ot);break t;case 2:oe=!0}}Ot=H.callback,Ot!==null&&(i.flags|=64,Dt&&(i.flags|=8192),Dt=g.callbacks,Dt===null?g.callbacks=[Ot]:Dt.push(Ot))}else Dt={lane:Ot,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Ut===null?(It=Ut=Dt,ut=Gt):Ut=Ut.next=Dt,I|=Ot;if(H=H.next,H===null){if(H=g.shared.pending,H===null)break;Dt=H,H=Dt.next,Dt.next=null,g.lastBaseUpdate=Dt,g.shared.pending=null}}while(!0);Ut===null&&(ut=Gt),g.baseState=ut,g.firstBaseUpdate=It,g.lastBaseUpdate=Ut,_===null&&(g.shared.lanes=0),nu|=I,i.lanes=I,i.memoizedState=Gt}}function Dr(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Mi(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Dr(l[i],s)}var cn=$(null),xn=$(0);function pi(i,s){i=Sl,K(xn,i),K(cn,s),Sl=i|s.baseLanes}function Ln(){K(xn,Sl),K(cn,cn.current)}function Ki(){Sl=xn.current,k(cn),k(xn)}var mi=$(null),Tn=null;function Ri(i){var s=i.alternate;K(En,En.current&1),K(mi,i),Tn===null&&(s===null||cn.current!==null||s.memoizedState!==null)&&(Tn=i)}function Vn(i){K(En,En.current),K(mi,i),Tn===null&&(Tn=i)}function ji(i){i.tag===22?(K(En,En.current),K(mi,i),Tn===null&&(Tn=i)):Ui()}function Ui(){K(En,En.current),K(mi,mi.current)}function Yn(i){k(mi),Tn===i&&(Tn=null),k(En)}var En=$(0);function Pr(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||zg(l)||qg(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var wi=0,Re=null,Oe=null,Nn=null,ls=!1,qs=!1,Jr=!1,Vi=0,Do=0,Po=null,Uc=0;function ei(){throw Error(r(321))}function Qh(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!mr(i[l],s[l]))return!1;return!0}function Xh(i,s,l,u,g,_){return wi=_,Re=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,at.H=i===null||i.memoizedState===null?V2:Zm,Jr=!1,_=l(u,g),Jr=!1,qs&&(_=no(s,l,u,g)),Vc(i),_}function Vc(i){at.H=sf;var s=Oe!==null&&Oe.next!==null;if(wi=0,Nn=Oe=Re=null,ls=!1,Do=0,Po=null,s)throw Error(r(300));i===null||rr||(i=i.dependencies,i!==null&&Pc(i)&&(rr=!0))}function no(i,s,l,u){Re=i;var g=0;do{if(qs&&(Po=null),Do=0,qs=!1,25<=g)throw Error(r(301));if(g+=1,Nn=Oe=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}at.H=B2,_=s(l,u)}while(qs);return _}function Ym(){var i=at.H,s=i.useState()[0];return s=typeof s.then=="function"?Mo(s):s,i=i.useState()[0],(Oe!==null?Oe.memoizedState:null)!==i&&(Re.flags|=1024),s}function $h(){var i=Vi!==0;return Vi=0,i}function Jh(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Bc(i){if(ls){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ls=!1}wi=0,Nn=Oe=Re=null,qs=!1,Do=Vi=0,Po=null}function ir(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Re.memoizedState=Nn=i:Nn=Nn.next=i,Nn}function Ai(){if(Oe===null){var i=Re.alternate;i=i!==null?i.memoizedState:null}else i=Oe.next;var s=Nn===null?Re.memoizedState:Nn.next;if(s!==null)Nn=s,Oe=i;else{if(i===null)throw Re.alternate===null?Error(r(467)):Error(r(310));Oe=i,i={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Nn===null?Re.memoizedState=Nn=i:Nn=Nn.next=i}return Nn}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(i){var s=Do;return Do+=1,Po===null&&(Po=[]),i=Mt(Po,i,s),s=Re,(Nn===null?s.memoizedState:Nn.next)===null&&(s=s.alternate,at.H=s===null||s.memoizedState===null?V2:Zm),i}function Xl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Mo(i);if(i.$$typeof===Z)return _r(i)}throw Error(r(438,String(i)))}function pl(i){var s=null,l=Re.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Re.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Zu(),Re.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),u=0;u<i;u++)l[u]=q;return s.index++,l}function ka(i,s){return typeof s=="function"?s(i):s}function Fc(i){var s=Ai();return $l(s,Oe,i)}function $l(i,s,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var g=i.baseQueue,_=u.pending;if(_!==null){if(g!==null){var I=g.next;g.next=_.next,_.next=I}s.baseQueue=g=_,u.pending=null}if(_=i.baseState,g===null)i.memoizedState=_;else{s=g.next;var H=I=null,ut=null,It=s,Ut=!1;do{var Gt=It.lane&-536870913;if(Gt!==It.lane?(vn&Gt)===Gt:(wi&Gt)===Gt){var Ot=It.revertLane;if(Ot===0)ut!==null&&(ut=ut.next={lane:0,revertLane:0,gesture:null,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null}),Gt===d&&(Ut=!0);else if((wi&Ot)===Ot){It=It.next,Ot===d&&(Ut=!0);continue}else Gt={lane:0,revertLane:It.revertLane,gesture:null,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null},ut===null?(H=ut=Gt,I=_):ut=ut.next=Gt,Re.lanes|=Ot,nu|=Ot;Gt=It.action,Jr&&l(_,Gt),_=It.hasEagerState?It.eagerState:l(_,Gt)}else Ot={lane:Gt,revertLane:It.revertLane,gesture:It.gesture,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null},ut===null?(H=ut=Ot,I=_):ut=ut.next=Ot,Re.lanes|=Gt,nu|=Gt;It=It.next}while(It!==null&&It!==s);if(ut===null?I=_:ut.next=H,!mr(_,i.memoizedState)&&(rr=!0,Ut&&(l=y,l!==null)))throw l;i.memoizedState=_,i.baseState=I,i.baseQueue=ut,u.lastRenderedState=_}return g===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function zc(i){var s=Ai(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,g=l.pending,_=s.memoizedState;if(g!==null){l.pending=null;var I=g=g.next;do _=i(_,I.action),I=I.next;while(I!==g);mr(_,s.memoizedState)||(rr=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,u]}function qc(i,s,l){var u=Re,g=Ai(),_=pn;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=s();var I=!mr((Oe||g).memoizedState,l);if(I&&(g.memoizedState=l,rr=!0),g=g.queue,Km(tf.bind(null,u,g,i),[i]),g.getSnapshot!==s||I||Nn!==null&&Nn.memoizedState.tag&1){if(u.flags|=2048,gl(9,{destroy:void 0},Zh.bind(null,u,g,l,s),null),oi===null)throw Error(r(349));_||(wi&127)!==0||io(u,s,l)}return l}function io(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Re.updateQueue,s===null?(s=Zu(),Re.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Zh(i,s,l,u){s.value=l,s.getSnapshot=u,Ed(s)&&ef(i)}function tf(i,s,l){return l(function(){Ed(s)&&ef(i)})}function Ed(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!mr(i,l)}catch{return!0}}function ef(i){var s=to(i,2);s!==null&&Ws(s,i,2)}function jo(i){var s=ir();if(typeof i=="function"){var l=i;if(i=l(),Jr){je(!0);try{l()}finally{je(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:i},s}function xd(i,s,l,u){return i.baseState=l,$l(i,Oe,typeof u=="function"?u:ka)}function Td(i,s,l,u,g){if(Rd(i))throw Error(r(485));if(i=s.action,i!==null){var _={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){_.listeners.push(I)}};at.T!==null?l(!0):_.isTransition=!1,u(_),l=s.pending,l===null?(_.next=s.pending=_,Nd(s,_)):(_.next=l.next,s.pending=l.next=_)}}function Nd(i,s){var l=s.action,u=s.payload,g=i.state;if(s.isTransition){var _=at.T,I={};at.T=I;try{var H=l(g,u),ut=at.S;ut!==null&&ut(I,H),nf(i,s,H)}catch(It){ml(i,s,It)}finally{_!==null&&I.types!==null&&(_.types=I.types),at.T=_}}else try{_=l(g,u),nf(i,s,_)}catch(It){ml(i,s,It)}}function nf(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Id(i,s,u)},function(u){return ml(i,s,u)}):Id(i,s,l)}function Id(i,s,l){s.status="fulfilled",s.value=l,Hc(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,Nd(i,l)))}function ml(i,s,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,Hc(s),s=s.next;while(s!==u)}i.action=null}function Hc(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function tc(i,s){return s}function Oa(i,s){if(pn){var l=oi.formState;if(l!==null){t:{var u=Re;if(pn){if(si){e:{for(var g=si,_=bi;g.nodeType!==8;){if(!_){g=null;break e}if(g=Da(g.nextSibling),g===null){g=null;break e}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){si=Da(g.nextSibling),u=g.data==="F!";break t}}Co(u)}u=!1}u&&(s=l[0])}}return l=ir(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:s},l.queue=u,l=M2.bind(null,Re,u),u.dispatch=l,u=jo(!1),_=Jm.bind(null,Re,!1,u.queue),u=ir(),g={state:s,dispatch:null,action:i,pending:null},u.queue=g,l=Td.bind(null,Re,g,_,l),g.dispatch=l,u.memoizedState=i,[s,l,!1]}function ro(i){var s=Ai();return so(s,Oe,i)}function so(i,s,l){if(s=$l(i,s,tc)[0],i=Fc(ka)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Mo(s)}catch(I){throw I===dt?nt:I}else u=s;s=Ai();var g=s.queue,_=g.dispatch;return l!==s.memoizedState&&(Re.flags|=2048,gl(9,{destroy:void 0},Gc.bind(null,g,l),null)),[u,_,i]}function Gc(i,s){i.action=s}function Yc(i){var s=Ai(),l=Oe;if(l!==null)return so(s,l,i);Ai(),s=s.memoizedState,l=Ai();var u=l.queue.dispatch;return l.memoizedState=i,[s,u,!1]}function gl(i,s,l,u){return i={tag:i,create:l,deps:u,inst:s,next:null},s=Re.updateQueue,s===null&&(s=Zu(),Re.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,s.lastEffect=i),i}function Cd(){return Ai().memoizedState}function Jl(i,s,l,u){var g=ir();Re.flags|=i,g.memoizedState=gl(1|s,{destroy:void 0},l,u===void 0?null:u)}function Zl(i,s,l,u){var g=Ai();u=u===void 0?null:u;var _=g.memoizedState.inst;Oe!==null&&u!==null&&Qh(u,Oe.memoizedState.deps)?g.memoizedState=gl(s,_,l,u):(Re.flags|=i,g.memoizedState=gl(1|s,_,l,u))}function A2(i,s){Jl(8390656,8,i,s)}function Km(i,s){Zl(2048,8,i,s)}function wA(i){Re.flags|=4;var s=Re.updateQueue;if(s===null)s=Zu(),Re.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function S2(i){var s=Ai().memoizedState;return wA({ref:s,nextImpl:i}),function(){if((Bn&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function E2(i,s){return Zl(4,2,i,s)}function x2(i,s){return Zl(4,4,i,s)}function T2(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function N2(i,s,l){l=l!=null?l.concat([i]):null,Zl(4,4,T2.bind(null,s,i),l)}function Wm(){}function I2(i,s){var l=Ai();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Qh(s,u[1])?u[0]:(l.memoizedState=[i,s],i)}function C2(i,s){var l=Ai();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Qh(s,u[1]))return u[0];if(u=i(),Jr){je(!0);try{i()}finally{je(!1)}}return l.memoizedState=[u,s],u}function Qm(i,s,l){return l===void 0||(wi&1073741824)!==0&&(vn&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=R5(),Re.lanes|=i,nu|=i,l)}function R2(i,s,l,u){return mr(l,s)?l:cn.current!==null?(i=Qm(i,l,u),mr(i,s)||(rr=!0),i):(wi&42)===0||(wi&1073741824)!==0&&(vn&261930)===0?(rr=!0,i.memoizedState=l):(i=R5(),Re.lanes|=i,nu|=i,s)}function L2(i,s,l,u,g){var _=pt.p;pt.p=_!==0&&8>_?_:8;var I=at.T,H={};at.T=H,Jm(i,!1,s,l);try{var ut=g(),It=at.S;if(It!==null&&It(H,ut),ut!==null&&typeof ut=="object"&&typeof ut.then=="function"){var Ut=j(ut,u);rf(i,s,Ut,ha(i))}else rf(i,s,u,ha(i))}catch(Gt){rf(i,s,{then:function(){},status:"rejected",reason:Gt},ha())}finally{pt.p=_,I!==null&&H.types!==null&&(I.types=H.types),at.T=I}}function AA(){}function Xm(i,s,l,u){if(i.tag!==5)throw Error(r(476));var g=k2(i).queue;L2(i,g,s,ft,l===null?AA:function(){return O2(i),l(u)})}function k2(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:ft},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function O2(i){var s=k2(i);s.next===null&&(s=i.alternate.memoizedState),rf(i,s.next.queue,{},ha())}function $m(){return _r(wf)}function D2(){return Ai().memoizedState}function P2(){return Ai().memoizedState}function SA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=ha();i=Ue(l);var u=sn(s,i,l);u!==null&&(Ws(u,s,l),Un(u,s,l)),s={cache:Ql()},i.payload=s;return}s=s.return}}function EA(i,s,l){var u=ha();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Rd(i)?j2(s,l):(l=Nc(i,s,l,u),l!==null&&(Ws(l,i,u),U2(l,s,u)))}function M2(i,s,l){var u=ha();rf(i,s,l,u)}function rf(i,s,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Rd(i))j2(s,g);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var I=s.lastRenderedState,H=_(I,l);if(g.hasEagerState=!0,g.eagerState=H,mr(H,I))return Yu(i,s,g,0),oi===null&&Gu(),!1}catch{}if(l=Nc(i,s,g,u),l!==null)return Ws(l,i,u),U2(l,s,u),!0}return!1}function Jm(i,s,l,u){if(u={lane:2,revertLane:Rg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Rd(i)){if(s)throw Error(r(479))}else s=Nc(i,l,u,2),s!==null&&Ws(s,i,2)}function Rd(i){var s=i.alternate;return i===Re||s!==null&&s===Re}function j2(i,s){qs=ls=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function U2(i,s,l){if((l&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,Er(i,l)}}var sf={readContext:_r,use:Xl,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useLayoutEffect:ei,useInsertionEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useSyncExternalStore:ei,useId:ei,useHostTransitionStatus:ei,useFormState:ei,useActionState:ei,useOptimistic:ei,useMemoCache:ei,useCacheRefresh:ei};sf.useEffectEvent=ei;var V2={readContext:_r,use:Xl,useCallback:function(i,s){return ir().memoizedState=[i,s===void 0?null:s],i},useContext:_r,useEffect:A2,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Jl(4194308,4,T2.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Jl(4194308,4,i,s)},useInsertionEffect:function(i,s){Jl(4,2,i,s)},useMemo:function(i,s){var l=ir();s=s===void 0?null:s;var u=i();if(Jr){je(!0);try{i()}finally{je(!1)}}return l.memoizedState=[u,s],u},useReducer:function(i,s,l){var u=ir();if(l!==void 0){var g=l(s);if(Jr){je(!0);try{l(s)}finally{je(!1)}}}else g=s;return u.memoizedState=u.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},u.queue=i,i=i.dispatch=EA.bind(null,Re,i),[u.memoizedState,i]},useRef:function(i){var s=ir();return i={current:i},s.memoizedState=i},useState:function(i){i=jo(i);var s=i.queue,l=M2.bind(null,Re,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Wm,useDeferredValue:function(i,s){var l=ir();return Qm(l,i,s)},useTransition:function(){var i=jo(!1);return i=L2.bind(null,Re,i.queue,!0,!1),ir().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var u=Re,g=ir();if(pn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),oi===null)throw Error(r(349));(vn&127)!==0||io(u,s,l)}g.memoizedState=l;var _={value:l,getSnapshot:s};return g.queue=_,A2(tf.bind(null,u,_,i),[i]),u.flags|=2048,gl(9,{destroy:void 0},Zh.bind(null,u,_,l,s),null),l},useId:function(){var i=ir(),s=oi.identifierPrefix;if(pn){var l=Fs,u=Bs;l=(u&~(1<<32-Qe(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Vi++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Uc++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:$m,useFormState:Oa,useActionState:Oa,useOptimistic:function(i){var s=ir();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Jm.bind(null,Re,!0,l),l.dispatch=s,[i,s]},useMemoCache:pl,useCacheRefresh:function(){return ir().memoizedState=SA.bind(null,Re)},useEffectEvent:function(i){var s=ir(),l={impl:i};return s.memoizedState=l,function(){if((Bn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Zm={readContext:_r,use:Xl,useCallback:I2,useContext:_r,useEffect:Km,useImperativeHandle:N2,useInsertionEffect:E2,useLayoutEffect:x2,useMemo:C2,useReducer:Fc,useRef:Cd,useState:function(){return Fc(ka)},useDebugValue:Wm,useDeferredValue:function(i,s){var l=Ai();return R2(l,Oe.memoizedState,i,s)},useTransition:function(){var i=Fc(ka)[0],s=Ai().memoizedState;return[typeof i=="boolean"?i:Mo(i),s]},useSyncExternalStore:qc,useId:D2,useHostTransitionStatus:$m,useFormState:ro,useActionState:ro,useOptimistic:function(i,s){var l=Ai();return xd(l,Oe,i,s)},useMemoCache:pl,useCacheRefresh:P2};Zm.useEffectEvent=S2;var B2={readContext:_r,use:Xl,useCallback:I2,useContext:_r,useEffect:Km,useImperativeHandle:N2,useInsertionEffect:E2,useLayoutEffect:x2,useMemo:C2,useReducer:zc,useRef:Cd,useState:function(){return zc(ka)},useDebugValue:Wm,useDeferredValue:function(i,s){var l=Ai();return Oe===null?Qm(l,i,s):R2(l,Oe.memoizedState,i,s)},useTransition:function(){var i=zc(ka)[0],s=Ai().memoizedState;return[typeof i=="boolean"?i:Mo(i),s]},useSyncExternalStore:qc,useId:D2,useHostTransitionStatus:$m,useFormState:Yc,useActionState:Yc,useOptimistic:function(i,s){var l=Ai();return Oe!==null?xd(l,Oe,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:pl,useCacheRefresh:P2};B2.useEffectEvent=S2;function tg(i,s,l,u){s=i.memoizedState,l=l(u,s),l=l==null?s:S({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var eg={enqueueSetState:function(i,s,l){i=i._reactInternals;var u=ha(),g=Ue(u);g.payload=s,l!=null&&(g.callback=l),s=sn(i,g,u),s!==null&&(Ws(s,i,u),Un(s,i,u))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var u=ha(),g=Ue(u);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=sn(i,g,u),s!==null&&(Ws(s,i,u),Un(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=ha(),u=Ue(l);u.tag=2,s!=null&&(u.callback=s),s=sn(i,u,l),s!==null&&(Ws(s,i,l),Un(s,i,l))}};function F2(i,s,l,u,g,_,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,_,I):s.prototype&&s.prototype.isPureReactComponent?!Xa(l,u)||!Xa(g,_):!0}function z2(i,s,l,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==i&&eg.enqueueReplaceState(s,s.state,null)}function ec(i,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(i=i.defaultProps){l===s&&(l=S({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}function q2(i){Hu(i)}function H2(i){console.error(i)}function G2(i){Hu(i)}function Ld(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Y2(i,s,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function ng(i,s,l){return l=Ue(l),l.tag=3,l.payload={element:null},l.callback=function(){Ld(i,s)},l}function K2(i){return i=Ue(i),i.tag=3,i}function W2(i,s,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var _=u.value;i.payload=function(){return g(_)},i.callback=function(){Y2(s,l,u)}}var I=l.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(i.callback=function(){Y2(s,l,u),typeof g!="function"&&(iu===null?iu=new Set([this]):iu.add(this));var H=u.stack;this.componentDidCatch(u.value,{componentStack:H!==null?H:""})})}function xA(i,s,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&ko(s,l,g,!0),l=mi.current,l!==null){switch(l.tag){case 31:case 13:return Tn===null?qd():l.alternate===null&&Bi===0&&(Bi=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===yt?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),Ng(i,u,g)),!1;case 22:return l.flags|=65536,u===yt?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),Ng(i,u,g)),!1}throw Error(r(435,l.tag))}return Ng(i,u,g),qd(),!1}if(pn)return s=mi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==la&&(i=Error(r(422),{cause:u}),Kl(js(i,l)))):(u!==la&&(s=Error(r(423),{cause:u}),Kl(js(s,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,u=js(u,l),g=ng(i.stateNode,u,g),Yi(i,g),Bi!==4&&(Bi=2)),!1;var _=Error(r(520),{cause:u});if(_=js(_,l),df===null?df=[_]:df.push(_),Bi!==4&&(Bi=2),s===null)return!0;u=js(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=ng(l.stateNode,u,i),Yi(l,i),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(iu===null||!iu.has(_))))return l.flags|=65536,g&=-g,l.lanes|=g,g=K2(g),W2(g,i,l,u),Yi(l,g),!1}l=l.return}while(l!==null);return!1}var ig=Error(r(461)),rr=!1;function Zr(i,s,l,u){s.child=i===null?tn(s,null,l,u):ai(s,i.child,l,u)}function Q2(i,s,l,u,g){l=l.render;var _=s.ref;if("ref"in u){var I={};for(var H in u)H!=="ref"&&(I[H]=u[H])}else I=u;return Oo(s),u=Xh(i,s,l,I,_,g),H=$h(),i!==null&&!rr?(Jh(i,s,g),yl(i,s,g)):(pn&&H&&Yh(s),s.flags|=1,Zr(i,s,u,g),s.child)}function X2(i,s,l,u,g){if(i===null){var _=l.type;return typeof _=="function"&&!Cc(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,$2(i,s,_,u,g)):(i=Hl(l.type,null,u,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!hg(i,g)){var I=_.memoizedProps;if(l=l.compare,l=l!==null?l:Xa,l(I,u)&&i.ref===s.ref)return yl(i,s,g)}return s.flags|=1,i=Ms(_,u),i.ref=s.ref,i.return=s,s.child=i}function $2(i,s,l,u,g){if(i!==null){var _=i.memoizedProps;if(Xa(_,u)&&i.ref===s.ref)if(rr=!1,s.pendingProps=u=_,hg(i,g))(i.flags&131072)!==0&&(rr=!0);else return s.lanes=i.lanes,yl(i,s,g)}return rg(i,s,l,u,g)}function J2(i,s,l,u){var g=u.children,_=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,i!==null){for(u=s.child=i.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~_}else u=0,s.child=null;return Z2(i,s,_,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&X(s,_!==null?_.cachePool:null),_!==null?pi(s,_):Ln(),ji(s);else return u=s.lanes=536870912,Z2(i,s,_!==null?_.baseLanes|l:l,l,u)}else _!==null?(X(s,_.cachePool),pi(s,_),Ui(),s.memoizedState=null):(i!==null&&X(s,null),Ln(),Ui());return Zr(i,s,g,l),s.child}function af(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Z2(i,s,l,u,g){var _=W();return _=_===null?null:{parent:Ci._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},i!==null&&X(s,null),Ln(),ji(s),i!==null&&ko(i,s,u,!0),s.childLanes=g,null}function kd(i,s){return s=Dd({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function t5(i,s,l){return ai(s,i.child,null,l),i=kd(s,s.pendingProps),i.flags|=2,Yn(s),s.memoizedState=null,i}function TA(i,s,l){var u=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(pn){if(u.mode==="hidden")return i=kd(s,u),s.lanes=536870912,af(null,i);if(Vn(s),(i=si)?(i=fy(i,bi),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Io!==null?{id:Bs,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},l=Rc(i),l.return=s,s.child=l,yr=s,si=null)):i=null,i===null)throw Co(s);return s.lanes=536870912,null}return kd(s,u)}var _=i.memoizedState;if(_!==null){var I=_.dehydrated;if(Vn(s),g)if(s.flags&256)s.flags&=-257,s=t5(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(rr||ko(i,s,l,!1),g=(l&i.childLanes)!==0,rr||g){if(u=oi,u!==null&&(I=xr(u,l),I!==0&&I!==_.retryLane))throw _.retryLane=I,to(i,I),Ws(u,i,I),ig;qd(),s=t5(i,s,l)}else i=_.treeContext,si=Da(I.nextSibling),yr=s,pn=!0,$r=null,bi=!1,i!==null&&Ad(s,i),s=kd(s,u),s.flags|=4096;return s}return i=Ms(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Od(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function rg(i,s,l,u,g){return Oo(s),l=Xh(i,s,l,u,void 0,g),u=$h(),i!==null&&!rr?(Jh(i,s,g),yl(i,s,g)):(pn&&u&&Yh(s),s.flags|=1,Zr(i,s,l,g),s.child)}function e5(i,s,l,u,g,_){return Oo(s),s.updateQueue=null,l=no(s,u,l,g),Vc(i),u=$h(),i!==null&&!rr?(Jh(i,s,_),yl(i,s,_)):(pn&&u&&Yh(s),s.flags|=1,Zr(i,s,l,_),s.child)}function n5(i,s,l,u,g){if(Oo(s),s.stateNode===null){var _=gr,I=l.contextType;typeof I=="object"&&I!==null&&(_=_r(I)),_=new l(u,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=eg,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=u,_.state=s.memoizedState,_.refs={},Jt(s),I=l.contextType,_.context=typeof I=="object"&&I!==null?_r(I):gr,_.state=s.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(tg(s,l,I,u),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(I=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),I!==_.state&&eg.enqueueReplaceState(_,_.state,null),Pi(s,u,_,g),ti(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){_=s.stateNode;var H=s.memoizedProps,ut=ec(l,H);_.props=ut;var It=_.context,Ut=l.contextType;I=gr,typeof Ut=="object"&&Ut!==null&&(I=_r(Ut));var Gt=l.getDerivedStateFromProps;Ut=typeof Gt=="function"||typeof _.getSnapshotBeforeUpdate=="function",H=s.pendingProps!==H,Ut||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(H||It!==I)&&z2(s,_,u,I),oe=!1;var Ot=s.memoizedState;_.state=Ot,Pi(s,u,_,g),ti(),It=s.memoizedState,H||Ot!==It||oe?(typeof Gt=="function"&&(tg(s,l,Gt,u),It=s.memoizedState),(ut=oe||F2(s,l,ut,u,Ot,It,I))?(Ut||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=It),_.props=u,_.state=It,_.context=I,u=ut):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{_=s.stateNode,di(i,s),I=s.memoizedProps,Ut=ec(l,I),_.props=Ut,Gt=s.pendingProps,Ot=_.context,It=l.contextType,ut=gr,typeof It=="object"&&It!==null&&(ut=_r(It)),H=l.getDerivedStateFromProps,(It=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==Gt||Ot!==ut)&&z2(s,_,u,ut),oe=!1,Ot=s.memoizedState,_.state=Ot,Pi(s,u,_,g),ti();var Dt=s.memoizedState;I!==Gt||Ot!==Dt||oe||i!==null&&i.dependencies!==null&&Pc(i.dependencies)?(typeof H=="function"&&(tg(s,l,H,u),Dt=s.memoizedState),(Ut=oe||F2(s,l,Ut,u,Ot,Dt,ut)||i!==null&&i.dependencies!==null&&Pc(i.dependencies))?(It||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,Dt,ut),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,Dt,ut)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===i.memoizedProps&&Ot===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&Ot===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Dt),_.props=u,_.state=Dt,_.context=ut,u=Ut):(typeof _.componentDidUpdate!="function"||I===i.memoizedProps&&Ot===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&Ot===i.memoizedState||(s.flags|=1024),u=!1)}return _=u,Od(i,s),u=(s.flags&128)!==0,_||u?(_=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,i!==null&&u?(s.child=ai(s,i.child,null,g),s.child=ai(s,null,l,g)):Zr(i,s,l,g),s.memoizedState=_.state,i=s.child):i=yl(i,s,g),i}function i5(i,s,l,u){return fl(),s.flags|=256,Zr(i,s,l,u),s.child}var sg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ag(i){return{baseLanes:i,cachePool:rt()}}function og(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=ca),i}function r5(i,s,l){var u=s.pendingProps,g=!1,_=(s.flags&128)!==0,I;if((I=_)||(I=i!==null&&i.memoizedState===null?!1:(En.current&2)!==0),I&&(g=!0,s.flags&=-129),I=(s.flags&32)!==0,s.flags&=-33,i===null){if(pn){if(g?Ri(s):Ui(),(i=si)?(i=fy(i,bi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Io!==null?{id:Bs,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},l=Rc(i),l.return=s,s.child=l,yr=s,si=null)):i=null,i===null)throw Co(s);return qg(i)?s.lanes=32:s.lanes=536870912,null}var H=u.children;return u=u.fallback,g?(Ui(),g=s.mode,H=Dd({mode:"hidden",children:H},g),u=No(u,g,l,null),H.return=s,u.return=s,H.sibling=u,s.child=H,u=s.child,u.memoizedState=ag(l),u.childLanes=og(i,I,l),s.memoizedState=sg,af(null,u)):(Ri(s),lg(s,H))}var ut=i.memoizedState;if(ut!==null&&(H=ut.dehydrated,H!==null)){if(_)s.flags&256?(Ri(s),s.flags&=-257,s=ug(i,s,l)):s.memoizedState!==null?(Ui(),s.child=i.child,s.flags|=128,s=null):(Ui(),H=u.fallback,g=s.mode,u=Dd({mode:"visible",children:u.children},g),H=No(H,g,l,null),H.flags|=2,u.return=s,H.return=s,u.sibling=H,s.child=u,ai(s,i.child,null,l),u=s.child,u.memoizedState=ag(l),u.childLanes=og(i,I,l),s.memoizedState=sg,s=af(null,u));else if(Ri(s),qg(H)){if(I=H.nextSibling&&H.nextSibling.dataset,I)var It=I.dgst;I=It,u=Error(r(419)),u.stack="",u.digest=I,Kl({value:u,source:null,stack:null}),s=ug(i,s,l)}else if(rr||ko(i,s,l,!1),I=(l&i.childLanes)!==0,rr||I){if(I=oi,I!==null&&(u=xr(I,l),u!==0&&u!==ut.retryLane))throw ut.retryLane=u,to(i,u),Ws(I,i,u),ig;zg(H)||qd(),s=ug(i,s,l)}else zg(H)?(s.flags|=192,s.child=i.child,s=null):(i=ut.treeContext,si=Da(H.nextSibling),yr=s,pn=!0,$r=null,bi=!1,i!==null&&Ad(s,i),s=lg(s,u.children),s.flags|=4096);return s}return g?(Ui(),H=u.fallback,g=s.mode,ut=i.child,It=ut.sibling,u=Ms(ut,{mode:"hidden",children:u.children}),u.subtreeFlags=ut.subtreeFlags&65011712,It!==null?H=Ms(It,H):(H=No(H,g,l,null),H.flags|=2),H.return=s,u.return=s,u.sibling=H,s.child=u,af(null,u),u=s.child,H=i.child.memoizedState,H===null?H=ag(l):(g=H.cachePool,g!==null?(ut=Ci._currentValue,g=g.parent!==ut?{parent:ut,pool:ut}:g):g=rt(),H={baseLanes:H.baseLanes|l,cachePool:g}),u.memoizedState=H,u.childLanes=og(i,I,l),s.memoizedState=sg,af(i.child,u)):(Ri(s),l=i.child,i=l.sibling,l=Ms(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,i!==null&&(I=s.deletions,I===null?(s.deletions=[i],s.flags|=16):I.push(i)),s.child=l,s.memoizedState=null,l)}function lg(i,s){return s=Dd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Dd(i,s){return i=Or(22,i,null,s),i.lanes=0,i}function ug(i,s,l){return ai(s,i.child,null,l),i=lg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function s5(i,s,l){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Wl(i.return,s,l)}function cg(i,s,l,u,g,_){var I=i.memoizedState;I===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:_}:(I.isBackwards=s,I.rendering=null,I.renderingStartTime=0,I.last=u,I.tail=l,I.tailMode=g,I.treeForkCount=_)}function a5(i,s,l){var u=s.pendingProps,g=u.revealOrder,_=u.tail;u=u.children;var I=En.current,H=(I&2)!==0;if(H?(I=I&1|2,s.flags|=128):I&=1,K(En,I),Zr(i,s,u,l),u=pn?Xu:0,!H&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&s5(i,l,s);else if(i.tag===19)s5(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)i=l.alternate,i!==null&&Pr(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),cg(s,!1,g,l,_,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&Pr(i)===null){s.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}cg(s,!0,l,null,_,u);break;case"together":cg(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function yl(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),nu|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(ko(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Ms(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ms(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function hg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Pc(i)))}function NA(i,s,l){switch(s.tag){case 3:kt(s,s.stateNode.containerInfo),Lo(s,Ci,i.memoizedState.cache),fl();break;case 27:case 5:Vt(s);break;case 4:kt(s,s.stateNode.containerInfo);break;case 10:Lo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Vn(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ri(s),s.flags|=128,null):(l&s.child.childLanes)!==0?r5(i,s,l):(Ri(s),i=yl(i,s,l),i!==null?i.sibling:null);Ri(s);break;case 19:var g=(i.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(ko(i,s,l,!1),u=(l&s.childLanes)!==0),g){if(u)return a5(i,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),K(En,En.current),u)break;return null;case 22:return s.lanes=0,J2(i,s,l,s.pendingProps);case 24:Lo(s,Ci,i.memoizedState.cache)}return yl(i,s,l)}function o5(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)rr=!0;else{if(!hg(i,l)&&(s.flags&128)===0)return rr=!1,NA(i,s,l);rr=(i.flags&131072)!==0}else rr=!1,pn&&(s.flags&1048576)!==0&&wd(s,Xu,s.index);switch(s.lanes=0,s.tag){case 16:t:{var u=s.pendingProps;if(i=Et(s.elementType),s.type=i,typeof i=="function")Cc(i)?(u=ec(i,u),s.tag=1,s=n5(null,s,i,u,l)):(s.tag=0,s=rg(null,s,i,u,l));else{if(i!=null){var g=i.$$typeof;if(g===et){s.tag=11,s=Q2(null,s,i,u,l);break t}else if(g===Y){s.tag=14,s=X2(null,s,i,u,l);break t}}throw s=ot(i)||i,Error(r(306,s,""))}}return s;case 0:return rg(i,s,s.type,s.pendingProps,l);case 1:return u=s.type,g=ec(u,s.pendingProps),n5(i,s,u,g,l);case 3:t:{if(kt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var _=s.memoizedState;g=_.element,di(i,s),Pi(s,u,null,l);var I=s.memoizedState;if(u=I.cache,Lo(s,Ci,u),u!==_.cache&&dl(s,[Ci],l,!0),ti(),u=I.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:I.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=i5(i,s,u,l);break t}else if(u!==g){g=js(Error(r(424)),s),Kl(g),s=i5(i,s,u,l);break t}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,si=Da(i.firstChild),yr=s,pn=!0,$r=null,bi=!0,l=tn(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(fl(),u===g){s=yl(i,s,l);break t}Zr(i,s,u,l)}s=s.child}return s;case 26:return Od(i,s),i===null?(l=vy(s.type,null,s.pendingProps,null))?s.memoizedState=l:pn||(l=s.type,i=s.pendingProps,u=Xd(ct.current).createElement(l),u[On]=s,u[Hn]=i,ts(u,l,i),fi(u),s.stateNode=u):s.memoizedState=vy(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Vt(s),i===null&&pn&&(u=s.stateNode=my(s.type,s.pendingProps,ct.current),yr=s,bi=!0,g=si,ou(s.type)?(Hg=g,si=Da(u.firstChild)):si=g),Zr(i,s,s.pendingProps.children,l),Od(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&pn&&((g=u=si)&&(u=iS(u,s.type,s.pendingProps,bi),u!==null?(s.stateNode=u,yr=s,si=Da(u.firstChild),bi=!1,g=!0):g=!1),g||Co(s)),Vt(s),g=s.type,_=s.pendingProps,I=i!==null?i.memoizedProps:null,u=_.children,Vg(g,_)?u=null:I!==null&&Vg(g,I)&&(s.flags|=32),s.memoizedState!==null&&(g=Xh(i,s,Ym,null,null,l),wf._currentValue=g),Od(i,s),Zr(i,s,u,l),s.child;case 6:return i===null&&pn&&((i=l=si)&&(l=rS(l,s.pendingProps,bi),l!==null?(s.stateNode=l,yr=s,si=null,i=!0):i=!1),i||Co(s)),null;case 13:return r5(i,s,l);case 4:return kt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=ai(s,null,u,l):Zr(i,s,u,l),s.child;case 11:return Q2(i,s,s.type,s.pendingProps,l);case 7:return Zr(i,s,s.pendingProps,l),s.child;case 8:return Zr(i,s,s.pendingProps.children,l),s.child;case 12:return Zr(i,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Lo(s,s.type,u.value),Zr(i,s,u.children,l),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,Oo(s),g=_r(g),u=u(g),s.flags|=1,Zr(i,s,u,l),s.child;case 14:return X2(i,s,s.type,s.pendingProps,l);case 15:return $2(i,s,s.type,s.pendingProps,l);case 19:return a5(i,s,l);case 31:return TA(i,s,l);case 22:return J2(i,s,l,s.pendingProps);case 24:return Oo(s),u=_r(Ci),i===null?(g=W(),g===null&&(g=oi,_=Ql(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=l),g=_),s.memoizedState={parent:u,cache:g},Jt(s),Lo(s,Ci,g)):((i.lanes&l)!==0&&(di(i,s),Pi(s,null,null,l),ti()),g=i.memoizedState,_=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Lo(s,Ci,u)):(u=_.cache,Lo(s,Ci,u),u!==g.cache&&dl(s,[Ci],l,!0))),Zr(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function vl(i){i.flags|=4}function fg(i,s,l,u,g){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(D5())i.flags|=8192;else throw Pt=yt,Tt}else i.flags&=-16777217}function l5(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Sy(s))if(D5())i.flags|=8192;else throw Pt=yt,Tt}function Pd(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Is():536870912,i.lanes|=s,Xc|=s)}function of(i,s){if(!pn)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function gi(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(s)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=u,i.childLanes=l,s}function IA(i,s,l){var u=s.pendingProps;switch(Oc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(s),null;case 1:return gi(s),null;case 3:return l=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),zs(Ci),Rt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(vr(s)?vl(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wh())),gi(s),null;case 26:var g=s.type,_=s.memoizedState;return i===null?(vl(s),_!==null?(gi(s),l5(s,_)):(gi(s),fg(s,g,null,u,l))):_?_!==i.memoizedState?(vl(s),gi(s),l5(s,_)):(gi(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&vl(s),gi(s),fg(s,g,i,u,l)),null;case 27:if(Xt(s),l=ct.current,g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&vl(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return gi(s),null}i=J.current,vr(s)?Kh(s):(i=my(g,u,l),s.stateNode=i,vl(s))}return gi(s),null;case 5:if(Xt(s),g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&vl(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return gi(s),null}if(_=J.current,vr(s))Kh(s);else{var I=Xd(ct.current);switch(_){case 1:_=I.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:_=I.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":_=I.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":_=I.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":_=I.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof u.is=="string"?I.createElement("select",{is:u.is}):I.createElement("select"),u.multiple?_.multiple=!0:u.size&&(_.size=u.size);break;default:_=typeof u.is=="string"?I.createElement(g,{is:u.is}):I.createElement(g)}}_[On]=s,_[Hn]=u;t:for(I=s.child;I!==null;){if(I.tag===5||I.tag===6)_.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===s)break t;for(;I.sibling===null;){if(I.return===null||I.return===s)break t;I=I.return}I.sibling.return=I.return,I=I.sibling}s.stateNode=_;t:switch(ts(_,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&vl(s)}}return gi(s),fg(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&vl(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=ct.current,vr(s)){if(i=s.stateNode,l=s.memoizedProps,u=null,g=yr,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}i[On]=s,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||ry(i.nodeValue,l)),i||Co(s,!0)}else i=Xd(i).createTextNode(u),i[On]=s,s.stateNode=i}return gi(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(u=vr(s),l!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[On]=s}else fl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gi(s),i=!1}else l=Wh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(Yn(s),s):(Yn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return gi(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=vr(s),u!==null&&u.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[On]=s}else fl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gi(s),g=!1}else g=Wh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Yn(s),s):(Yn(s),null)}return Yn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,i=i!==null&&i.memoizedState!==null,l&&(u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),_=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==g&&(u.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),Pd(s,s.updateQueue),gi(s),null);case 4:return Rt(),i===null&&Dg(s.stateNode.containerInfo),gi(s),null;case 10:return zs(s.type),gi(s),null;case 19:if(k(En),u=s.memoizedState,u===null)return gi(s),null;if(g=(s.flags&128)!==0,_=u.rendering,_===null)if(g)of(u,!1);else{if(Bi!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=Pr(i),_!==null){for(s.flags|=128,of(u,!1),i=_.updateQueue,s.updateQueue=i,Pd(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Wu(l,i),l=l.sibling;return K(En,En.current&1|2),pn&&Ns(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&We()>Bd&&(s.flags|=128,g=!0,of(u,!1),s.lanes=4194304)}else{if(!g)if(i=Pr(_),i!==null){if(s.flags|=128,g=!0,i=i.updateQueue,s.updateQueue=i,Pd(s,i),of(u,!0),u.tail===null&&u.tailMode==="hidden"&&!_.alternate&&!pn)return gi(s),null}else 2*We()-u.renderingStartTime>Bd&&l!==536870912&&(s.flags|=128,g=!0,of(u,!1),s.lanes=4194304);u.isBackwards?(_.sibling=s.child,s.child=_):(i=u.last,i!==null?i.sibling=_:s.child=_,u.last=_)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=We(),i.sibling=null,l=En.current,K(En,g?l&1|2:l&1),pn&&Ns(s,u.treeForkCount),i):(gi(s),null);case 22:case 23:return Yn(s),Ki(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(gi(s),s.subtreeFlags&6&&(s.flags|=8192)):gi(s),l=s.updateQueue,l!==null&&Pd(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),i!==null&&k(z),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),zs(Ci),gi(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function CA(i,s){switch(Oc(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return zs(Ci),Rt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Xt(s),null;case 31:if(s.memoizedState!==null){if(Yn(s),s.alternate===null)throw Error(r(340));fl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Yn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));fl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return k(En),null;case 4:return Rt(),null;case 10:return zs(s.type),null;case 22:case 23:return Yn(s),Ki(),i!==null&&k(z),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return zs(Ci),null;case 25:return null;default:return null}}function u5(i,s){switch(Oc(s),s.tag){case 3:zs(Ci),Rt();break;case 26:case 27:case 5:Xt(s);break;case 4:Rt();break;case 31:s.memoizedState!==null&&Yn(s);break;case 13:Yn(s);break;case 19:k(En);break;case 10:zs(s.type);break;case 22:case 23:Yn(s),Ki(),i!==null&&k(z);break;case 24:zs(Ci)}}function lf(i,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&i)===i){u=void 0;var _=l.create,I=l.inst;u=_(),I.destroy=u}l=l.next}while(l!==g)}}catch(H){Wn(s,s.return,H)}}function tu(i,s,l){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var _=g.next;u=_;do{if((u.tag&i)===i){var I=u.inst,H=I.destroy;if(H!==void 0){I.destroy=void 0,g=s;var ut=l,It=H;try{It()}catch(Ut){Wn(g,ut,Ut)}}}u=u.next}while(u!==_)}}catch(Ut){Wn(s,s.return,Ut)}}function c5(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{Mi(s,l)}catch(u){Wn(i,i.return,u)}}}function h5(i,s,l){l.props=ec(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){Wn(i,s,u)}}function uf(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(g){Wn(i,s,g)}}function Uo(i,s){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Wn(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Wn(i,s,g)}else l.current=null}function f5(i){var s=i.type,l=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Wn(i,i.return,g)}}function dg(i,s,l){try{var u=i.stateNode;$A(u,i.type,l,s),u[Hn]=s}catch(g){Wn(i,i.return,g)}}function d5(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ou(i.type)||i.tag===4}function pg(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||d5(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ou(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function mg(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=bs));else if(u!==4&&(u===27&&ou(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(mg(i,s,l),i=i.sibling;i!==null;)mg(i,s,l),i=i.sibling}function Md(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(u!==4&&(u===27&&ou(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Md(i,s,l),i=i.sibling;i!==null;)Md(i,s,l),i=i.sibling}function p5(i){var s=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);ts(s,u,l),s[On]=i,s[Hn]=l}catch(_){Wn(i,i.return,_)}}var _l=!1,sr=!1,gg=!1,m5=typeof WeakSet=="function"?WeakSet:Set,Mr=null;function RA(i,s){if(i=i.containerInfo,jg=ip,i=Ja(i),Ca(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break t}var I=0,H=-1,ut=-1,It=0,Ut=0,Gt=i,Ot=null;e:for(;;){for(var Dt;Gt!==l||g!==0&&Gt.nodeType!==3||(H=I+g),Gt!==_||u!==0&&Gt.nodeType!==3||(ut=I+u),Gt.nodeType===3&&(I+=Gt.nodeValue.length),(Dt=Gt.firstChild)!==null;)Ot=Gt,Gt=Dt;for(;;){if(Gt===i)break e;if(Ot===l&&++It===g&&(H=I),Ot===_&&++Ut===u&&(ut=I),(Dt=Gt.nextSibling)!==null)break;Gt=Ot,Ot=Gt.parentNode}Gt=Dt}l=H===-1||ut===-1?null:{start:H,end:ut}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ug={focusedElem:i,selectionRange:l},ip=!1,Mr=s;Mr!==null;)if(s=Mr,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Mr=i;else for(;Mr!==null;){switch(s=Mr,_=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)g=i[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=s,g=_.memoizedProps,_=_.memoizedState,u=l.stateNode;try{var fe=ec(l.type,g);i=u.getSnapshotBeforeUpdate(fe,_),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ve){Wn(l,l.return,Ve)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Fg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Fg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Mr=i;break}Mr=s.return}}function g5(i,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:wl(i,l),u&4&&lf(5,l);break;case 1:if(wl(i,l),u&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(I){Wn(l,l.return,I)}else{var g=ec(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(I){Wn(l,l.return,I)}}u&64&&c5(l),u&512&&uf(l,l.return);break;case 3:if(wl(i,l),u&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Mi(i,s)}catch(I){Wn(l,l.return,I)}}break;case 27:s===null&&u&4&&p5(l);case 26:case 5:wl(i,l),s===null&&u&4&&f5(l),u&512&&uf(l,l.return);break;case 12:wl(i,l);break;case 31:wl(i,l),u&4&&_5(i,l);break;case 13:wl(i,l),u&4&&b5(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=VA.bind(null,l),sS(i,l))));break;case 22:if(u=l.memoizedState!==null||_l,!u){s=s!==null&&s.memoizedState!==null||sr,g=_l;var _=sr;_l=u,(sr=s)&&!_?Al(i,l,(l.subtreeFlags&8772)!==0):wl(i,l),_l=g,sr=_}break;case 30:break;default:wl(i,l)}}function y5(i){var s=i.alternate;s!==null&&(i.alternate=null,y5(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Zs(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Si=null,Hs=!1;function bl(i,s,l){for(l=l.child;l!==null;)v5(i,s,l),l=l.sibling}function v5(i,s,l){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount($e,l)}catch{}switch(l.tag){case 26:sr||Uo(l,s),bl(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:sr||Uo(l,s);var u=Si,g=Hs;ou(l.type)&&(Si=l.stateNode,Hs=!1),bl(i,s,l),vf(l.stateNode),Si=u,Hs=g;break;case 5:sr||Uo(l,s);case 6:if(u=Si,g=Hs,Si=null,bl(i,s,l),Si=u,Hs=g,Si!==null)if(Hs)try{(Si.nodeType===9?Si.body:Si.nodeName==="HTML"?Si.ownerDocument.body:Si).removeChild(l.stateNode)}catch(_){Wn(l,s,_)}else try{Si.removeChild(l.stateNode)}catch(_){Wn(l,s,_)}break;case 18:Si!==null&&(Hs?(i=Si,cy(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),rh(i)):cy(Si,l.stateNode));break;case 4:u=Si,g=Hs,Si=l.stateNode.containerInfo,Hs=!0,bl(i,s,l),Si=u,Hs=g;break;case 0:case 11:case 14:case 15:tu(2,l,s),sr||tu(4,l,s),bl(i,s,l);break;case 1:sr||(Uo(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&h5(l,s,u)),bl(i,s,l);break;case 21:bl(i,s,l);break;case 22:sr=(u=sr)||l.memoizedState!==null,bl(i,s,l),sr=u;break;default:bl(i,s,l)}}function _5(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{rh(i)}catch(l){Wn(s,s.return,l)}}}function b5(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{rh(i)}catch(l){Wn(s,s.return,l)}}function LA(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new m5),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new m5),s;default:throw Error(r(435,i.tag))}}function jd(i,s){var l=LA(i);s.forEach(function(u){if(!l.has(u)){l.add(u);var g=BA.bind(null,i,u);u.then(g,g)}})}function Gs(i,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],_=i,I=s,H=I;t:for(;H!==null;){switch(H.tag){case 27:if(ou(H.type)){Si=H.stateNode,Hs=!1;break t}break;case 5:Si=H.stateNode,Hs=!1;break t;case 3:case 4:Si=H.stateNode.containerInfo,Hs=!0;break t}H=H.return}if(Si===null)throw Error(r(160));v5(_,I,g),Si=null,Hs=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)w5(s,i),s=s.sibling}var ao=null;function w5(i,s){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Gs(s,i),Ys(i),u&4&&(tu(3,i,i.return),lf(3,i),tu(5,i,i.return));break;case 1:Gs(s,i),Ys(i),u&512&&(sr||l===null||Uo(l,l.return)),u&64&&_l&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=ao;if(Gs(s,i),Ys(i),u&512&&(sr||l===null||Uo(l,l.return)),u&4){var _=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){t:{u=i.type,l=i.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":_=g.getElementsByTagName("title")[0],(!_||_[Nr]||_[On]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(u),g.head.insertBefore(_,g.querySelector("head > title"))),ts(_,u,l),_[On]=i,fi(_),u=_;break t;case"link":var I=wy("link","href",g).get(u+(l.href||""));if(I){for(var H=0;H<I.length;H++)if(_=I[H],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){I.splice(H,1);break e}}_=g.createElement(u),ts(_,u,l),g.head.appendChild(_);break;case"meta":if(I=wy("meta","content",g).get(u+(l.content||""))){for(H=0;H<I.length;H++)if(_=I[H],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){I.splice(H,1);break e}}_=g.createElement(u),ts(_,u,l),g.head.appendChild(_);break;default:throw Error(r(468,u))}_[On]=i,fi(_),u=_}i.stateNode=u}else Ay(g,i.type,i.stateNode);else i.stateNode=by(g,u,i.memoizedProps);else _!==u?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,u===null?Ay(g,i.type,i.stateNode):by(g,u,i.memoizedProps)):u===null&&i.stateNode!==null&&dg(i,i.memoizedProps,l.memoizedProps)}break;case 27:Gs(s,i),Ys(i),u&512&&(sr||l===null||Uo(l,l.return)),l!==null&&u&4&&dg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Gs(s,i),Ys(i),u&512&&(sr||l===null||Uo(l,l.return)),i.flags&32){g=i.stateNode;try{Hi(g,"")}catch(fe){Wn(i,i.return,fe)}}u&4&&i.stateNode!=null&&(g=i.memoizedProps,dg(i,g,l!==null?l.memoizedProps:g)),u&1024&&(gg=!0);break;case 6:if(Gs(s,i),Ys(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(fe){Wn(i,i.return,fe)}}break;case 3:if(Zd=null,g=ao,ao=$d(s.containerInfo),Gs(s,i),ao=g,Ys(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{rh(s.containerInfo)}catch(fe){Wn(i,i.return,fe)}gg&&(gg=!1,A5(i));break;case 4:u=ao,ao=$d(i.stateNode.containerInfo),Gs(s,i),Ys(i),ao=u;break;case 12:Gs(s,i),Ys(i);break;case 31:Gs(s,i),Ys(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,jd(i,u)));break;case 13:Gs(s,i),Ys(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Vd=We()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,jd(i,u)));break;case 22:g=i.memoizedState!==null;var ut=l!==null&&l.memoizedState!==null,It=_l,Ut=sr;if(_l=It||g,sr=Ut||ut,Gs(s,i),sr=Ut,_l=It,Ys(i),u&8192)t:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||ut||_l||sr||nc(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){ut=l=s;try{if(_=ut.stateNode,g)I=_.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{H=ut.stateNode;var Gt=ut.memoizedProps.style,Ot=Gt!=null&&Gt.hasOwnProperty("display")?Gt.display:null;H.style.display=Ot==null||typeof Ot=="boolean"?"":(""+Ot).trim()}}catch(fe){Wn(ut,ut.return,fe)}}}else if(s.tag===6){if(l===null){ut=s;try{ut.stateNode.nodeValue=g?"":ut.memoizedProps}catch(fe){Wn(ut,ut.return,fe)}}}else if(s.tag===18){if(l===null){ut=s;try{var Dt=ut.stateNode;g?hy(Dt,!0):hy(ut.stateNode,!1)}catch(fe){Wn(ut,ut.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,jd(i,l))));break;case 19:Gs(s,i),Ys(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,jd(i,u)));break;case 30:break;case 21:break;default:Gs(s,i),Ys(i)}}function Ys(i){var s=i.flags;if(s&2){try{for(var l,u=i.return;u!==null;){if(d5(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,_=pg(i);Md(i,_,g);break;case 5:var I=l.stateNode;l.flags&32&&(Hi(I,""),l.flags&=-33);var H=pg(i);Md(i,H,I);break;case 3:case 4:var ut=l.stateNode.containerInfo,It=pg(i);mg(i,It,ut);break;default:throw Error(r(161))}}catch(Ut){Wn(i,i.return,Ut)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function A5(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;A5(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function wl(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)g5(i,s.alternate,s),s=s.sibling}function nc(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:tu(4,s,s.return),nc(s);break;case 1:Uo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&h5(s,s.return,l),nc(s);break;case 27:vf(s.stateNode);case 26:case 5:Uo(s,s.return),nc(s);break;case 22:s.memoizedState===null&&nc(s);break;case 30:nc(s);break;default:nc(s)}i=i.sibling}}function Al(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=i,_=s,I=_.flags;switch(_.tag){case 0:case 11:case 15:Al(g,_,l),lf(4,_);break;case 1:if(Al(g,_,l),u=_,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(It){Wn(u,u.return,It)}if(u=_,g=u.updateQueue,g!==null){var H=u.stateNode;try{var ut=g.shared.hiddenCallbacks;if(ut!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ut.length;g++)Dr(ut[g],H)}catch(It){Wn(u,u.return,It)}}l&&I&64&&c5(_),uf(_,_.return);break;case 27:p5(_);case 26:case 5:Al(g,_,l),l&&u===null&&I&4&&f5(_),uf(_,_.return);break;case 12:Al(g,_,l);break;case 31:Al(g,_,l),l&&I&4&&_5(g,_);break;case 13:Al(g,_,l),l&&I&4&&b5(g,_);break;case 22:_.memoizedState===null&&Al(g,_,l),uf(_,_.return);break;case 30:break;default:Al(g,_,l)}s=s.sibling}}function yg(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&$u(l))}function vg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&$u(i))}function oo(i,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)S5(i,s,l,u),s=s.sibling}function S5(i,s,l,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:oo(i,s,l,u),g&2048&&lf(9,s);break;case 1:oo(i,s,l,u);break;case 3:oo(i,s,l,u),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&$u(i)));break;case 12:if(g&2048){oo(i,s,l,u),i=s.stateNode;try{var _=s.memoizedProps,I=_.id,H=_.onPostCommit;typeof H=="function"&&H(I,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ut){Wn(s,s.return,ut)}}else oo(i,s,l,u);break;case 31:oo(i,s,l,u);break;case 13:oo(i,s,l,u);break;case 23:break;case 22:_=s.stateNode,I=s.alternate,s.memoizedState!==null?_._visibility&2?oo(i,s,l,u):cf(i,s):_._visibility&2?oo(i,s,l,u):(_._visibility|=2,Kc(i,s,l,u,(s.subtreeFlags&10256)!==0||!1)),g&2048&&yg(I,s);break;case 24:oo(i,s,l,u),g&2048&&vg(s.alternate,s);break;default:oo(i,s,l,u)}}function Kc(i,s,l,u,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=i,I=s,H=l,ut=u,It=I.flags;switch(I.tag){case 0:case 11:case 15:Kc(_,I,H,ut,g),lf(8,I);break;case 23:break;case 22:var Ut=I.stateNode;I.memoizedState!==null?Ut._visibility&2?Kc(_,I,H,ut,g):cf(_,I):(Ut._visibility|=2,Kc(_,I,H,ut,g)),g&&It&2048&&yg(I.alternate,I);break;case 24:Kc(_,I,H,ut,g),g&&It&2048&&vg(I.alternate,I);break;default:Kc(_,I,H,ut,g)}s=s.sibling}}function cf(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,u=s,g=u.flags;switch(u.tag){case 22:cf(l,u),g&2048&&yg(u.alternate,u);break;case 24:cf(l,u),g&2048&&vg(u.alternate,u);break;default:cf(l,u)}s=s.sibling}}var hf=8192;function Wc(i,s,l){if(i.subtreeFlags&hf)for(i=i.child;i!==null;)E5(i,s,l),i=i.sibling}function E5(i,s,l){switch(i.tag){case 26:Wc(i,s,l),i.flags&hf&&i.memoizedState!==null&&yS(l,ao,i.memoizedState,i.memoizedProps);break;case 5:Wc(i,s,l);break;case 3:case 4:var u=ao;ao=$d(i.stateNode.containerInfo),Wc(i,s,l),ao=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=hf,hf=16777216,Wc(i,s,l),hf=u):Wc(i,s,l));break;default:Wc(i,s,l)}}function x5(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function ff(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Mr=u,N5(u,i)}x5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)T5(i),i=i.sibling}function T5(i){switch(i.tag){case 0:case 11:case 15:ff(i),i.flags&2048&&tu(9,i,i.return);break;case 3:ff(i);break;case 12:ff(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Ud(i)):ff(i);break;default:ff(i)}}function Ud(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Mr=u,N5(u,i)}x5(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:tu(8,s,s.return),Ud(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Ud(s));break;default:Ud(s)}i=i.sibling}}function N5(i,s){for(;Mr!==null;){var l=Mr;switch(l.tag){case 0:case 11:case 15:tu(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:$u(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Mr=u;else t:for(l=i;Mr!==null;){u=Mr;var g=u.sibling,_=u.return;if(y5(u),u===l){Mr=null;break t}if(g!==null){g.return=_,Mr=g;break t}Mr=_}}}var kA={getCacheForType:function(i){var s=_r(Ci),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return _r(Ci).controller.signal}},OA=typeof WeakMap=="function"?WeakMap:Map,Bn=0,oi=null,mn=null,vn=0,Kn=0,ua=null,eu=!1,Qc=!1,_g=!1,Sl=0,Bi=0,nu=0,ic=0,bg=0,ca=0,Xc=0,df=null,Ks=null,wg=!1,Vd=0,I5=0,Bd=1/0,Fd=null,iu=null,wr=0,ru=null,$c=null,El=0,Ag=0,Sg=null,C5=null,pf=0,Eg=null;function ha(){return(Bn&2)!==0&&vn!==0?vn&-vn:at.T!==null?Rg():ki()}function R5(){if(ca===0)if((vn&536870912)===0||pn){var i=kn;kn<<=1,(kn&3932160)===0&&(kn=262144),ca=i}else ca=536870912;return i=mi.current,i!==null&&(i.flags|=32),ca}function Ws(i,s,l){(i===oi&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)&&(Jc(i,0),su(i,vn,ca,!1)),Se(i,l),((Bn&2)===0||i!==oi)&&(i===oi&&((Bn&2)===0&&(ic|=l),Bi===4&&su(i,vn,ca,!1)),Vo(i))}function L5(i,s,l){if((Bn&6)!==0)throw Error(r(327));var u=!l&&(s&127)===0&&(s&i.expiredLanes)===0||ur(i,s),g=u?MA(i,s):Tg(i,s,!0),_=u;do{if(g===0){Qc&&!u&&su(i,s,0,!1);break}else{if(l=i.current.alternate,_&&!DA(l)){g=Tg(i,s,!1),_=!1;continue}if(g===2){if(_=s,i.errorRecoveryDisabledLanes&_)var I=0;else I=i.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){s=I;t:{var H=i;g=df;var ut=H.current.memoizedState.isDehydrated;if(ut&&(Jc(H,I).flags|=256),I=Tg(H,I,!1),I!==2){if(_g&&!ut){H.errorRecoveryDisabledLanes|=_,ic|=_,g=4;break t}_=Ks,Ks=g,_!==null&&(Ks===null?Ks=_:Ks.push.apply(Ks,_))}g=I}if(_=!1,g!==2)continue}}if(g===1){Jc(i,0),su(i,s,0,!0);break}t:{switch(u=i,_=g,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:su(u,s,ca,!eu);break t;case 2:Ks=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=Vd+300-We(),10<g)){if(su(u,s,ca,!eu),on(u,0,!0)!==0)break t;El=s,u.timeoutHandle=ly(k5.bind(null,u,l,Ks,Fd,wg,s,ca,ic,Xc,eu,_,"Throttled",-0,0),g);break t}k5(u,l,Ks,Fd,wg,s,ca,ic,Xc,eu,_,null,-0,0)}}break}while(!0);Vo(i)}function k5(i,s,l,u,g,_,I,H,ut,It,Ut,Gt,Ot,Dt){if(i.timeoutHandle=-1,Gt=s.subtreeFlags,Gt&8192||(Gt&16785408)===16785408){Gt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bs},E5(s,_,Gt);var fe=(_&62914560)===_?Vd-We():(_&4194048)===_?I5-We():0;if(fe=vS(Gt,fe),fe!==null){El=_,i.cancelPendingCommit=fe(B5.bind(null,i,s,_,l,u,g,I,H,ut,Ut,Gt,null,Ot,Dt)),su(i,_,I,!It);return}}B5(i,s,_,l,u,g,I,H,ut)}function DA(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],_=g.getSnapshot;g=g.value;try{if(!mr(_(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function su(i,s,l,u){s&=~bg,s&=~ic,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var g=s;0<g;){var _=31-Qe(g),I=1<<_;u[_]=-1,g&=~I}l!==0&&Fr(i,l,s)}function zd(){return(Bn&6)===0?(mf(0),!1):!0}function xg(){if(mn!==null){if(Kn===0)var i=mn.return;else i=mn,La=Ro=null,Bc(i),Yt=null,pe=0,i=mn;for(;i!==null;)u5(i.alternate,i),i=i.return;mn=null}}function Jc(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,tS(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),El=0,xg(),oi=i,mn=l=Ms(i.current,null),vn=s,Kn=0,ua=null,eu=!1,Qc=ur(i,s),_g=!1,Xc=ca=bg=ic=nu=Bi=0,Ks=df=null,wg=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var g=31-Qe(u),_=1<<g;s|=i[g],u&=~_}return Sl=s,Gu(),l}function O5(i,s){Re=null,at.H=sf,s===dt||s===nt?(s=Bt(),Kn=3):s===Tt?(s=Bt(),Kn=4):Kn=s===ig?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ua=s,mn===null&&(Bi=1,Ld(i,js(s,i.current)))}function D5(){var i=mi.current;return i===null?!0:(vn&4194048)===vn?Tn===null:(vn&62914560)===vn||(vn&536870912)!==0?i===Tn:!1}function P5(){var i=at.H;return at.H=sf,i===null?sf:i}function M5(){var i=at.A;return at.A=kA,i}function qd(){Bi=4,eu||(vn&4194048)!==vn&&mi.current!==null||(Qc=!0),(nu&134217727)===0&&(ic&134217727)===0||oi===null||su(oi,vn,ca,!1)}function Tg(i,s,l){var u=Bn;Bn|=2;var g=P5(),_=M5();(oi!==i||vn!==s)&&(Fd=null,Jc(i,s)),s=!1;var I=Bi;t:do try{if(Kn!==0&&mn!==null){var H=mn,ut=ua;switch(Kn){case 8:xg(),I=6;break t;case 3:case 2:case 9:case 6:mi.current===null&&(s=!0);var It=Kn;if(Kn=0,ua=null,Zc(i,H,ut,It),l&&Qc){I=0;break t}break;default:It=Kn,Kn=0,ua=null,Zc(i,H,ut,It)}}PA(),I=Bi;break}catch(Ut){O5(i,Ut)}while(!0);return s&&i.shellSuspendCounter++,La=Ro=null,Bn=u,at.H=g,at.A=_,mn===null&&(oi=null,vn=0,Gu()),I}function PA(){for(;mn!==null;)j5(mn)}function MA(i,s){var l=Bn;Bn|=2;var u=P5(),g=M5();oi!==i||vn!==s?(Fd=null,Bd=We()+500,Jc(i,s)):Qc=ur(i,s);t:do try{if(Kn!==0&&mn!==null){s=mn;var _=ua;e:switch(Kn){case 1:Kn=0,ua=null,Zc(i,s,_,1);break;case 2:case 9:if(At(_)){Kn=0,ua=null,U5(s);break}s=function(){Kn!==2&&Kn!==9||oi!==i||(Kn=7),Vo(i)},_.then(s,s);break t;case 3:Kn=7;break t;case 4:Kn=5;break t;case 7:At(_)?(Kn=0,ua=null,U5(s)):(Kn=0,ua=null,Zc(i,s,_,7));break;case 5:var I=null;switch(mn.tag){case 26:I=mn.memoizedState;case 5:case 27:var H=mn;if(I?Sy(I):H.stateNode.complete){Kn=0,ua=null;var ut=H.sibling;if(ut!==null)mn=ut;else{var It=H.return;It!==null?(mn=It,Hd(It)):mn=null}break e}}Kn=0,ua=null,Zc(i,s,_,5);break;case 6:Kn=0,ua=null,Zc(i,s,_,6);break;case 8:xg(),Bi=6;break t;default:throw Error(r(462))}}jA();break}catch(Ut){O5(i,Ut)}while(!0);return La=Ro=null,at.H=u,at.A=g,Bn=l,mn!==null?0:(oi=null,vn=0,Gu(),Bi)}function jA(){for(;mn!==null&&!Ie();)j5(mn)}function j5(i){var s=o5(i.alternate,i,Sl);i.memoizedProps=i.pendingProps,s===null?Hd(i):mn=s}function U5(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=e5(l,s,s.pendingProps,s.type,void 0,vn);break;case 11:s=e5(l,s,s.pendingProps,s.type.render,s.ref,vn);break;case 5:Bc(s);default:u5(l,s),s=mn=Wu(s,Sl),s=o5(l,s,Sl)}i.memoizedProps=i.pendingProps,s===null?Hd(i):mn=s}function Zc(i,s,l,u){La=Ro=null,Bc(s),Yt=null,pe=0;var g=s.return;try{if(xA(i,g,s,l,vn)){Bi=1,Ld(i,js(l,i.current)),mn=null;return}}catch(_){if(g!==null)throw mn=g,_;Bi=1,Ld(i,js(l,i.current)),mn=null;return}s.flags&32768?(pn||u===1?i=!0:Qc||(vn&536870912)!==0?i=!1:(eu=i=!0,(u===2||u===9||u===3||u===6)&&(u=mi.current,u!==null&&u.tag===13&&(u.flags|=16384))),V5(s,i)):Hd(s)}function Hd(i){var s=i;do{if((s.flags&32768)!==0){V5(s,eu);return}i=s.return;var l=IA(s.alternate,s,Sl);if(l!==null){mn=l;return}if(s=s.sibling,s!==null){mn=s;return}mn=s=i}while(s!==null);Bi===0&&(Bi=5)}function V5(i,s){do{var l=CA(i.alternate,i);if(l!==null){l.flags&=32767,mn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){mn=i;return}mn=i=l}while(i!==null);Bi=6,mn=null}function B5(i,s,l,u,g,_,I,H,ut){i.cancelPendingCommit=null;do Gd();while(wr!==0);if((Bn&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=Tc,Js(i,l,_,I,H,ut),i===oi&&(mn=oi=null,vn=0),$c=s,ru=i,El=l,Ag=_,Sg=g,C5=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,FA(Xe,function(){return G5(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=at.T,at.T=null,g=pt.p,pt.p=2,I=Bn,Bn|=4;try{RA(i,s,l)}finally{Bn=I,pt.p=g,at.T=u}}wr=1,F5(),z5(),q5()}}function F5(){if(wr===1){wr=0;var i=ru,s=$c,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=at.T,at.T=null;var u=pt.p;pt.p=2;var g=Bn;Bn|=4;try{w5(s,i);var _=Ug,I=Ja(i.containerInfo),H=_.focusedElem,ut=_.selectionRange;if(I!==H&&H&&H.ownerDocument&&$a(H.ownerDocument.documentElement,H)){if(ut!==null&&Ca(H)){var It=ut.start,Ut=ut.end;if(Ut===void 0&&(Ut=It),"selectionStart"in H)H.selectionStart=It,H.selectionEnd=Math.min(Ut,H.value.length);else{var Gt=H.ownerDocument||document,Ot=Gt&&Gt.defaultView||window;if(Ot.getSelection){var Dt=Ot.getSelection(),fe=H.textContent.length,Ve=Math.min(ut.start,fe),ii=ut.end===void 0?Ve:Math.min(ut.end,fe);!Dt.extend&&Ve>ii&&(I=ii,ii=Ve,Ve=I);var _t=ql(H,Ve),mt=ql(H,ii);if(_t&&mt&&(Dt.rangeCount!==1||Dt.anchorNode!==_t.node||Dt.anchorOffset!==_t.offset||Dt.focusNode!==mt.node||Dt.focusOffset!==mt.offset)){var Nt=Gt.createRange();Nt.setStart(_t.node,_t.offset),Dt.removeAllRanges(),Ve>ii?(Dt.addRange(Nt),Dt.extend(mt.node,mt.offset)):(Nt.setEnd(mt.node,mt.offset),Dt.addRange(Nt))}}}}for(Gt=[],Dt=H;Dt=Dt.parentNode;)Dt.nodeType===1&&Gt.push({element:Dt,left:Dt.scrollLeft,top:Dt.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Gt.length;H++){var zt=Gt[H];zt.element.scrollLeft=zt.left,zt.element.scrollTop=zt.top}}ip=!!jg,Ug=jg=null}finally{Bn=g,pt.p=u,at.T=l}}i.current=s,wr=2}}function z5(){if(wr===2){wr=0;var i=ru,s=$c,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=at.T,at.T=null;var u=pt.p;pt.p=2;var g=Bn;Bn|=4;try{g5(i,s.alternate,s)}finally{Bn=g,pt.p=u,at.T=l}}wr=3}}function q5(){if(wr===4||wr===3){wr=0,be();var i=ru,s=$c,l=El,u=C5;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?wr=5:(wr=0,$c=ru=null,H5(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(iu=null),Xn(l),s=s.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot($e,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=at.T,g=pt.p,pt.p=2,at.T=null;try{for(var _=i.onRecoverableError,I=0;I<u.length;I++){var H=u[I];_(H.value,{componentStack:H.stack})}}finally{at.T=s,pt.p=g}}(El&3)!==0&&Gd(),Vo(i),g=i.pendingLanes,(l&261930)!==0&&(g&42)!==0?i===Eg?pf++:(pf=0,Eg=i):pf=0,mf(0)}}function H5(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,$u(s)))}function Gd(){return F5(),z5(),q5(),G5()}function G5(){if(wr!==5)return!1;var i=ru,s=Ag;Ag=0;var l=Xn(El),u=at.T,g=pt.p;try{pt.p=32>l?32:l,at.T=null,l=Sg,Sg=null;var _=ru,I=El;if(wr=0,$c=ru=null,El=0,(Bn&6)!==0)throw Error(r(331));var H=Bn;if(Bn|=4,T5(_.current),S5(_,_.current,I,l),Bn=H,mf(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot($e,_)}catch{}return!0}finally{pt.p=g,at.T=u,H5(i,s)}}function Y5(i,s,l){s=js(l,s),s=ng(i.stateNode,s,2),i=sn(i,s,2),i!==null&&(Se(i,2),Vo(i))}function Wn(i,s,l){if(i.tag===3)Y5(i,i,l);else for(;s!==null;){if(s.tag===3){Y5(s,i,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(iu===null||!iu.has(u))){i=js(l,i),l=K2(2),u=sn(s,l,2),u!==null&&(W2(l,u,s,i),Se(u,2),Vo(u));break}}s=s.return}}function Ng(i,s,l){var u=i.pingCache;if(u===null){u=i.pingCache=new OA;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(l)||(_g=!0,g.add(l),i=UA.bind(null,i,s,l),s.then(i,i))}function UA(i,s,l){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,oi===i&&(vn&l)===l&&(Bi===4||Bi===3&&(vn&62914560)===vn&&300>We()-Vd?(Bn&2)===0&&Jc(i,0):bg|=l,Xc===vn&&(Xc=0)),Vo(i)}function K5(i,s){s===0&&(s=Is()),i=to(i,s),i!==null&&(Se(i,s),Vo(i))}function VA(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),K5(i,l)}function BA(i,s){var l=0;switch(i.tag){case 31:case 13:var u=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),K5(i,l)}function FA(i,s){return se(i,s)}var Yd=null,th=null,Ig=!1,Kd=!1,Cg=!1,au=0;function Vo(i){i!==th&&i.next===null&&(th===null?Yd=th=i:th=th.next=i),Kd=!0,Ig||(Ig=!0,qA())}function mf(i,s){if(!Cg&&Kd){Cg=!0;do for(var l=!1,u=Yd;u!==null;){if(i!==0){var g=u.pendingLanes;if(g===0)var _=0;else{var I=u.suspendedLanes,H=u.pingedLanes;_=(1<<31-Qe(42|i)+1)-1,_&=g&~(I&~H),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,$5(u,_))}else _=vn,_=on(u,u===oi?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||ur(u,_)||(l=!0,$5(u,_));u=u.next}while(l);Cg=!1}}function zA(){W5()}function W5(){Kd=Ig=!1;var i=0;au!==0&&ZA()&&(i=au);for(var s=We(),l=null,u=Yd;u!==null;){var g=u.next,_=Q5(u,s);_===0?(u.next=null,l===null?Yd=g:l.next=g,g===null&&(th=l)):(l=u,(i!==0||(_&3)!==0)&&(Kd=!0)),u=g}wr!==0&&wr!==5||mf(i),au!==0&&(au=0)}function Q5(i,s){for(var l=i.suspendedLanes,u=i.pingedLanes,g=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var I=31-Qe(_),H=1<<I,ut=g[I];ut===-1?((H&l)===0||(H&u)!==0)&&(g[I]=Ji(H,s)):ut<=s&&(i.expiredLanes|=H),_&=~H}if(s=oi,l=vn,l=on(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===s&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&re(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||ur(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(u!==null&&re(u),Xn(l)){case 2:case 8:l=an;break;case 32:l=Xe;break;case 268435456:l=He;break;default:l=Xe}return u=X5.bind(null,i),l=se(l,u),i.callbackPriority=s,i.callbackNode=l,s}return u!==null&&u!==null&&re(u),i.callbackPriority=2,i.callbackNode=null,2}function X5(i,s){if(wr!==0&&wr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Gd()&&i.callbackNode!==l)return null;var u=vn;return u=on(i,i===oi?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(L5(i,u,s),Q5(i,We()),i.callbackNode!=null&&i.callbackNode===l?X5.bind(null,i):null)}function $5(i,s){if(Gd())return null;L5(i,s,!0)}function qA(){eS(function(){(Bn&6)!==0?se(Be,zA):W5()})}function Rg(){if(au===0){var i=d;i===0&&(i=Me,Me<<=1,(Me&261888)===0&&(Me=256)),au=i}return au}function J5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Cr(""+i)}function Z5(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function HA(i,s,l,u,g){if(s==="submit"&&l&&l.stateNode===g){var _=J5((g[Hn]||null).action),I=u.submitter;I&&(s=(s=I[Hn]||null)?J5(s.formAction):I.getAttribute("formAction"),s!==null&&(_=s,I=null));var H=new er("action","action",null,u,g);i.push({event:H,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(au!==0){var ut=I?Z5(g,I):new FormData(g);Xm(l,{pending:!0,data:ut,method:g.method,action:_},null,ut)}}else typeof _=="function"&&(H.preventDefault(),ut=I?Z5(g,I):new FormData(g),Xm(l,{pending:!0,data:ut,method:g.method,action:_},_,ut))},currentTarget:g}]})}}for(var Lg=0;Lg<ul.length;Lg++){var kg=ul[Lg],GA=kg.toLowerCase(),YA=kg[0].toUpperCase()+kg.slice(1);Ps(GA,"on"+YA)}Ps(ll,"onAnimationEnd"),Ps(qu,"onAnimationIteration"),Ps(qh,"onAnimationStart"),Ps("dblclick","onDoubleClick"),Ps("focusin","onFocus"),Ps("focusout","onBlur"),Ps(vd,"onTransitionRun"),Ps(_d,"onTransitionStart"),Ps(bd,"onTransitionCancel"),Ps(Hh,"onTransitionEnd"),_s("onMouseEnter",["mouseout","mouseover"]),_s("onMouseLeave",["mouseout","mouseover"]),_s("onPointerEnter",["pointerout","pointerover"]),_s("onPointerLeave",["pointerout","pointerover"]),rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gf));function ty(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],g=u.event;u=u.listeners;t:{var _=void 0;if(s)for(var I=u.length-1;0<=I;I--){var H=u[I],ut=H.instance,It=H.currentTarget;if(H=H.listener,ut!==_&&g.isPropagationStopped())break t;_=H,g.currentTarget=It;try{_(g)}catch(Ut){Hu(Ut)}g.currentTarget=null,_=ut}else for(I=0;I<u.length;I++){if(H=u[I],ut=H.instance,It=H.currentTarget,H=H.listener,ut!==_&&g.isPropagationStopped())break t;_=H,g.currentTarget=It;try{_(g)}catch(Ut){Hu(Ut)}g.currentTarget=null,_=ut}}}}function gn(i,s){var l=s[Tr];l===void 0&&(l=s[Tr]=new Set);var u=i+"__bubble";l.has(u)||(ey(s,i,2,!1),l.add(u))}function Og(i,s,l){var u=0;s&&(u|=4),ey(l,i,u,s)}var Wd="_reactListening"+Math.random().toString(36).slice(2);function Dg(i){if(!i[Wd]){i[Wd]=!0,vo.forEach(function(l){l!=="selectionchange"&&(KA.has(l)||Og(l,!1,i),Og(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Wd]||(s[Wd]=!0,Og("selectionchange",!1,s))}}function ey(i,s,l,u){switch(Ry(s)){case 2:var g=wS;break;case 8:g=AS;break;default:g=Qg}l=g.bind(null,s,l,i),g=void 0,!Ha||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?i.addEventListener(s,l,{capture:!0,passive:g}):i.addEventListener(s,l,!0):g!==void 0?i.addEventListener(s,l,{passive:g}):i.addEventListener(s,l,!1)}function Pg(i,s,l,u,g){var _=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var I=u.tag;if(I===3||I===4){var H=u.stateNode.containerInfo;if(H===g)break;if(I===4)for(I=u.return;I!==null;){var ut=I.tag;if((ut===3||ut===4)&&I.stateNode.containerInfo===g)return;I=I.return}for(;H!==null;){if(I=zr(H),I===null)return;if(ut=I.tag,ut===5||ut===6||ut===26||ut===27){u=_=I;continue t}H=H.parentNode}}u=u.return}wa(function(){var It=_,Ut=Rr(l),Gt=[];t:{var Ot=Gh.get(i);if(Ot!==void 0){var Dt=er,fe=i;switch(i){case"keypress":if(Yr(l)===0)break t;case"keydown":case"keyup":Dt=fn;break;case"focusin":fe="focus",Dt=As;break;case"focusout":fe="blur",Dt=As;break;case"beforeblur":case"afterblur":Dt=As;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Dt=Eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Dt=Os;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Dt=E;break;case ll:case qu:case qh:Dt=w;break;case Hh:Dt=Q;break;case"scroll":case"scrollend":Dt=Aa;break;case"wheel":Dt=Lt;break;case"copy":case"cut":case"paste":Dt=it;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Dt=zn;break;case"toggle":case"beforetoggle":Dt=qe}var Ve=(s&4)!==0,ii=!Ve&&(i==="scroll"||i==="scrollend"),_t=Ve?Ot!==null?Ot+"Capture":null:Ot;Ve=[];for(var mt=It,Nt;mt!==null;){var zt=mt;if(Nt=zt.stateNode,zt=zt.tag,zt!==5&&zt!==26&&zt!==27||Nt===null||_t===null||(zt=Gi(mt,_t),zt!=null&&Ve.push(yf(mt,zt,Nt))),ii)break;mt=mt.return}0<Ve.length&&(Ot=new Dt(Ot,fe,null,l,Ut),Gt.push({event:Ot,listeners:Ve}))}}if((s&7)===0){t:{if(Ot=i==="mouseover"||i==="pointerover",Dt=i==="mouseout"||i==="pointerout",Ot&&l!==ia&&(fe=l.relatedTarget||l.fromElement)&&(zr(fe)||fe[Oi]))break t;if((Dt||Ot)&&(Ot=Ut.window===Ut?Ut:(Ot=Ut.ownerDocument)?Ot.defaultView||Ot.parentWindow:window,Dt?(fe=l.relatedTarget||l.toElement,Dt=It,fe=fe?zr(fe):null,fe!==null&&(ii=o(fe),Ve=fe.tag,fe!==ii||Ve!==5&&Ve!==27&&Ve!==6)&&(fe=null)):(Dt=null,fe=It),Dt!==fe)){if(Ve=Eo,zt="onMouseLeave",_t="onMouseEnter",mt="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=zn,zt="onPointerLeave",_t="onPointerEnter",mt="pointer"),ii=Dt==null?Ot:qr(Dt),Nt=fe==null?Ot:qr(fe),Ot=new Ve(zt,mt+"leave",Dt,l,Ut),Ot.target=ii,Ot.relatedTarget=Nt,zt=null,zr(Ut)===It&&(Ve=new Ve(_t,mt+"enter",fe,l,Ut),Ve.target=Nt,Ve.relatedTarget=ii,zt=Ve),ii=zt,Dt&&fe)e:{for(Ve=WA,_t=Dt,mt=fe,Nt=0,zt=_t;zt;zt=Ve(zt))Nt++;zt=0;for(var De=mt;De;De=Ve(De))zt++;for(;0<Nt-zt;)_t=Ve(_t),Nt--;for(;0<zt-Nt;)mt=Ve(mt),zt--;for(;Nt--;){if(_t===mt||mt!==null&&_t===mt.alternate){Ve=_t;break e}_t=Ve(_t),mt=Ve(mt)}Ve=null}else Ve=null;Dt!==null&&ny(Gt,Ot,Dt,Ve,!1),fe!==null&&ii!==null&&ny(Gt,ii,fe,Ve,!0)}}t:{if(Ot=It?qr(It):window,Dt=Ot.nodeName&&Ot.nodeName.toLowerCase(),Dt==="select"||Dt==="input"&&Ot.type==="file")var Mn=To;else if(Fu(Ot))if(os)Mn=Na;else{Mn=Ni;var _e=Fl}else Dt=Ot.nodeName,!Dt||Dt.toLowerCase()!=="input"||Ot.type!=="checkbox"&&Ot.type!=="radio"?It&&wo(It.elementType)&&(Mn=To):Mn=xc;if(Mn&&(Mn=Mn(i,It))){Es(Gt,Mn,l,Ut);break t}_e&&_e(i,Ot,It),i==="focusout"&&It&&Ot.type==="number"&&It.memoizedProps.value!=null&&el(Ot,"number",Ot.value)}switch(_e=It?qr(It):window,i){case"focusin":(Fu(_e)||_e.contentEditable==="true")&&(xs=_e,Za=It,Lr=null);break;case"focusout":Lr=Za=xs=null;break;case"mousedown":Ds=!0;break;case"contextmenu":case"mouseup":case"dragend":Ds=!1,Rn(Gt,l,Ut);break;case"selectionchange":if(ol)break;case"keydown":case"keyup":Rn(Gt,l,Ut)}var ln;if(un)t:{switch(i){case"compositionstart":var _n="onCompositionStart";break t;case"compositionend":_n="onCompositionEnd";break t;case"compositionupdate":_n="onCompositionUpdate";break t}_n=void 0}else Ea?Ss(i,l)&&(_n="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(_n="onCompositionStart");_n&&(dr&&l.locale!=="ko"&&(Ea||_n!=="onCompositionStart"?_n==="onCompositionEnd"&&Ea&&(ln=sl()):(Gr=Ut,Ga="value"in Gr?Gr.value:Gr.textContent,Ea=!0)),_e=Qd(It,_n),0<_e.length&&(_n=new vt(_n,i,null,l,Ut),Gt.push({event:_n,listeners:_e}),ln?_n.data=ln:(ln=Sa(l),ln!==null&&(_n.data=ln)))),(ln=nr?Qr(i,l):Ka(i,l))&&(_n=Qd(It,"onBeforeInput"),0<_n.length&&(_e=new vt("onBeforeInput","beforeinput",null,l,Ut),Gt.push({event:_e,listeners:_n}),_e.data=ln)),HA(Gt,i,It,l,Ut)}ty(Gt,s)})}function yf(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Qd(i,s){for(var l=s+"Capture",u=[];i!==null;){var g=i,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=Gi(i,l),g!=null&&u.unshift(yf(i,g,_)),g=Gi(i,s),g!=null&&u.push(yf(i,g,_))),i.tag===3)return u;i=i.return}return[]}function WA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ny(i,s,l,u,g){for(var _=s._reactName,I=[];l!==null&&l!==u;){var H=l,ut=H.alternate,It=H.stateNode;if(H=H.tag,ut!==null&&ut===u)break;H!==5&&H!==26&&H!==27||It===null||(ut=It,g?(It=Gi(l,_),It!=null&&I.unshift(yf(l,It,ut))):g||(It=Gi(l,_),It!=null&&I.push(yf(l,It,ut)))),l=l.return}I.length!==0&&i.push({event:s,listeners:I})}var QA=/\r\n?/g,XA=/\u0000|\uFFFD/g;function iy(i){return(typeof i=="string"?i:""+i).replace(QA,`
`).replace(XA,"")}function ry(i,s){return s=iy(s),iy(i)===s}function ni(i,s,l,u,g,_){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Hi(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Hi(i,""+u);break;case"className":tr(i,"class",u);break;case"tabIndex":tr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":tr(i,l,u);break;case"style":rl(i,u,_);break;case"data":if(s!=="object"){tr(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Cr(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&ni(i,s,"name",g.name,g,null),ni(i,s,"formEncType",g.formEncType,g,null),ni(i,s,"formMethod",g.formMethod,g,null),ni(i,s,"formTarget",g.formTarget,g,null)):(ni(i,s,"encType",g.encType,g,null),ni(i,s,"method",g.method,g,null),ni(i,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Cr(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=bs);break;case"onScroll":u!=null&&gn("scroll",i);break;case"onScrollEnd":u!=null&&gn("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Cr(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":gn("beforetoggle",i),gn("toggle",i),Hr(i,"popover",u);break;case"xlinkActuate":vi(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":vi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":vi(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":vi(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":vi(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":vi(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":vi(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":vi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":vi(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Hr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ao.get(l)||l,Hr(i,l,u))}}function Mg(i,s,l,u,g,_){switch(l){case"style":rl(i,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?Hi(i,u):(typeof u=="number"||typeof u=="bigint")&&Hi(i,""+u);break;case"onScroll":u!=null&&gn("scroll",i);break;case"onScrollEnd":u!=null&&gn("scrollend",i);break;case"onClick":u!=null&&(i.onclick=bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ir.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),_=i[Hn]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(s,_,g),typeof u=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,u,g);break t}l in i?i[l]=u:u===!0?i.setAttribute(l,""):Hr(i,l,u)}}}function ts(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gn("error",i),gn("load",i);var u=!1,g=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var I=l[_];if(I!=null)switch(_){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ni(i,s,_,I,l,null)}}g&&ni(i,s,"srcSet",l.srcSet,l,null),u&&ni(i,s,"src",l.src,l,null);return;case"input":gn("invalid",i);var H=_=I=g=null,ut=null,It=null;for(u in l)if(l.hasOwnProperty(u)){var Ut=l[u];if(Ut!=null)switch(u){case"name":g=Ut;break;case"type":I=Ut;break;case"checked":ut=Ut;break;case"defaultChecked":It=Ut;break;case"value":_=Ut;break;case"defaultValue":H=Ut;break;case"children":case"dangerouslySetInnerHTML":if(Ut!=null)throw Error(r(137,s));break;default:ni(i,s,u,Ut,l,null)}}Ul(i,_,H,ut,It,I,g,!1);return;case"select":gn("invalid",i),u=I=_=null;for(g in l)if(l.hasOwnProperty(g)&&(H=l[g],H!=null))switch(g){case"value":_=H;break;case"defaultValue":I=H;break;case"multiple":u=H;default:ni(i,s,g,H,l,null)}s=_,l=I,i.multiple=!!u,s!=null?fr(i,!!u,s,!1):l!=null&&fr(i,!!u,l,!0);return;case"textarea":gn("invalid",i),_=g=u=null;for(I in l)if(l.hasOwnProperty(I)&&(H=l[I],H!=null))switch(I){case"value":u=H;break;case"defaultValue":g=H;break;case"children":_=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:ni(i,s,I,H,l,null)}ea(i,u,g,_);return;case"option":for(ut in l)l.hasOwnProperty(ut)&&(u=l[ut],u!=null)&&(ut==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":ni(i,s,ut,u,l,null));return;case"dialog":gn("beforetoggle",i),gn("toggle",i),gn("cancel",i),gn("close",i);break;case"iframe":case"object":gn("load",i);break;case"video":case"audio":for(u=0;u<gf.length;u++)gn(gf[u],i);break;case"image":gn("error",i),gn("load",i);break;case"details":gn("toggle",i);break;case"embed":case"source":case"link":gn("error",i),gn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(It in l)if(l.hasOwnProperty(It)&&(u=l[It],u!=null))switch(It){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ni(i,s,It,u,l,null)}return;default:if(wo(s)){for(Ut in l)l.hasOwnProperty(Ut)&&(u=l[Ut],u!==void 0&&Mg(i,s,Ut,u,l,void 0));return}}for(H in l)l.hasOwnProperty(H)&&(u=l[H],u!=null&&ni(i,s,H,u,l,null))}function $A(i,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,I=null,H=null,ut=null,It=null,Ut=null;for(Dt in l){var Gt=l[Dt];if(l.hasOwnProperty(Dt)&&Gt!=null)switch(Dt){case"checked":break;case"value":break;case"defaultValue":ut=Gt;default:u.hasOwnProperty(Dt)||ni(i,s,Dt,null,u,Gt)}}for(var Ot in u){var Dt=u[Ot];if(Gt=l[Ot],u.hasOwnProperty(Ot)&&(Dt!=null||Gt!=null))switch(Ot){case"type":_=Dt;break;case"name":g=Dt;break;case"checked":It=Dt;break;case"defaultChecked":Ut=Dt;break;case"value":I=Dt;break;case"defaultValue":H=Dt;break;case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(r(137,s));break;default:Dt!==Gt&&ni(i,s,Ot,Dt,u,Gt)}}za(i,I,H,ut,It,Ut,_,g);return;case"select":Dt=I=H=Ot=null;for(_ in l)if(ut=l[_],l.hasOwnProperty(_)&&ut!=null)switch(_){case"value":break;case"multiple":Dt=ut;default:u.hasOwnProperty(_)||ni(i,s,_,null,u,ut)}for(g in u)if(_=u[g],ut=l[g],u.hasOwnProperty(g)&&(_!=null||ut!=null))switch(g){case"value":Ot=_;break;case"defaultValue":H=_;break;case"multiple":I=_;default:_!==ut&&ni(i,s,g,_,u,ut)}s=H,l=I,u=Dt,Ot!=null?fr(i,!!l,Ot,!1):!!u!=!!l&&(s!=null?fr(i,!!l,s,!0):fr(i,!!l,l?[]:"",!1));return;case"textarea":Dt=Ot=null;for(H in l)if(g=l[H],l.hasOwnProperty(H)&&g!=null&&!u.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:ni(i,s,H,null,u,g)}for(I in u)if(g=u[I],_=l[I],u.hasOwnProperty(I)&&(g!=null||_!=null))switch(I){case"value":Ot=g;break;case"defaultValue":Dt=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==_&&ni(i,s,I,g,u,_)}nl(i,Ot,Dt);return;case"option":for(var fe in l)Ot=l[fe],l.hasOwnProperty(fe)&&Ot!=null&&!u.hasOwnProperty(fe)&&(fe==="selected"?i.selected=!1:ni(i,s,fe,null,u,Ot));for(ut in u)Ot=u[ut],Dt=l[ut],u.hasOwnProperty(ut)&&Ot!==Dt&&(Ot!=null||Dt!=null)&&(ut==="selected"?i.selected=Ot&&typeof Ot!="function"&&typeof Ot!="symbol":ni(i,s,ut,Ot,u,Dt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in l)Ot=l[Ve],l.hasOwnProperty(Ve)&&Ot!=null&&!u.hasOwnProperty(Ve)&&ni(i,s,Ve,null,u,Ot);for(It in u)if(Ot=u[It],Dt=l[It],u.hasOwnProperty(It)&&Ot!==Dt&&(Ot!=null||Dt!=null))switch(It){case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(r(137,s));break;default:ni(i,s,It,Ot,u,Dt)}return;default:if(wo(s)){for(var ii in l)Ot=l[ii],l.hasOwnProperty(ii)&&Ot!==void 0&&!u.hasOwnProperty(ii)&&Mg(i,s,ii,void 0,u,Ot);for(Ut in u)Ot=u[Ut],Dt=l[Ut],!u.hasOwnProperty(Ut)||Ot===Dt||Ot===void 0&&Dt===void 0||Mg(i,s,Ut,Ot,u,Dt);return}}for(var _t in l)Ot=l[_t],l.hasOwnProperty(_t)&&Ot!=null&&!u.hasOwnProperty(_t)&&ni(i,s,_t,null,u,Ot);for(Gt in u)Ot=u[Gt],Dt=l[Gt],!u.hasOwnProperty(Gt)||Ot===Dt||Ot==null&&Dt==null||ni(i,s,Gt,Ot,u,Dt)}function sy(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JA(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],_=g.transferSize,I=g.initiatorType,H=g.duration;if(_&&H&&sy(I)){for(I=0,H=g.responseEnd,u+=1;u<l.length;u++){var ut=l[u],It=ut.startTime;if(It>H)break;var Ut=ut.transferSize,Gt=ut.initiatorType;Ut&&sy(Gt)&&(ut=ut.responseEnd,I+=Ut*(ut<H?1:(H-It)/(ut-It)))}if(--u,s+=8*(_+I)/(g.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var jg=null,Ug=null;function Xd(i){return i.nodeType===9?i:i.ownerDocument}function ay(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oy(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Vg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Bg=null;function ZA(){var i=window.event;return i&&i.type==="popstate"?i===Bg?!1:(Bg=i,!0):(Bg=null,!1)}var ly=typeof setTimeout=="function"?setTimeout:void 0,tS=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,eS=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(i){return uy.resolve(null).then(i).catch(nS)}:ly;function nS(i){setTimeout(function(){throw i})}function ou(i){return i==="head"}function cy(i,s){var l=s,u=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){i.removeChild(g),rh(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")vf(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,vf(l);for(var _=l.firstChild;_;){var I=_.nextSibling,H=_.nodeName;_[Nr]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=I}}else l==="body"&&vf(i.ownerDocument.body);l=g}while(l);rh(s)}function hy(i,s){var l=i;i=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=u}while(l)}function Fg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Fg(l),Zs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function iS(i,s,l,u){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Nr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Da(i.nextSibling),i===null)break}return null}function rS(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Da(i.nextSibling),i===null))return null;return i}function fy(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Da(i.nextSibling),i===null))return null;return i}function zg(i){return i.data==="$?"||i.data==="$~"}function qg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function sS(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Da(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Hg=null;function dy(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return Da(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function py(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function my(i,s,l){switch(s=Xd(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function vf(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Zs(i)}var Pa=new Map,gy=new Set;function $d(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var xl=pt.d;pt.d={f:aS,r:oS,D:lS,C:uS,L:cS,m:hS,X:dS,S:fS,M:pS};function aS(){var i=xl.f(),s=zd();return i||s}function oS(i){var s=hr(i);s!==null&&s.tag===5&&s.type==="form"?O2(s):xl.r(i)}var eh=typeof document>"u"?null:document;function yy(i,s,l){var u=eh;if(u&&typeof s=="string"&&s){var g=_i(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),gy.has(g)||(gy.add(g),i={rel:i,crossOrigin:l,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),ts(s,"link",i),fi(s),u.head.appendChild(s)))}}function lS(i){xl.D(i),yy("dns-prefetch",i,null)}function uS(i,s){xl.C(i,s),yy("preconnect",i,s)}function cS(i,s,l){xl.L(i,s,l);var u=eh;if(u&&i&&s){var g='link[rel="preload"][as="'+_i(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+_i(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+_i(l.imageSizes)+'"]')):g+='[href="'+_i(i)+'"]';var _=g;switch(s){case"style":_=nh(i);break;case"script":_=ih(i)}Pa.has(_)||(i=S({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Pa.set(_,i),u.querySelector(g)!==null||s==="style"&&u.querySelector(_f(_))||s==="script"&&u.querySelector(bf(_))||(s=u.createElement("link"),ts(s,"link",i),fi(s),u.head.appendChild(s)))}}function hS(i,s){xl.m(i,s);var l=eh;if(l&&i){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+_i(u)+'"][href="'+_i(i)+'"]',_=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ih(i)}if(!Pa.has(_)&&(i=S({rel:"modulepreload",href:i},s),Pa.set(_,i),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(bf(_)))return}u=l.createElement("link"),ts(u,"link",i),fi(u),l.head.appendChild(u)}}}function fS(i,s,l){xl.S(i,s,l);var u=eh;if(u&&i){var g=is(u).hoistableStyles,_=nh(i);s=s||"default";var I=g.get(_);if(!I){var H={loading:0,preload:null};if(I=u.querySelector(_f(_)))H.loading=5;else{i=S({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Pa.get(_))&&Gg(i,l);var ut=I=u.createElement("link");fi(ut),ts(ut,"link",i),ut._p=new Promise(function(It,Ut){ut.onload=It,ut.onerror=Ut}),ut.addEventListener("load",function(){H.loading|=1}),ut.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Jd(I,s,u)}I={type:"stylesheet",instance:I,count:1,state:H},g.set(_,I)}}}function dS(i,s){xl.X(i,s);var l=eh;if(l&&i){var u=is(l).hoistableScripts,g=ih(i),_=u.get(g);_||(_=l.querySelector(bf(g)),_||(i=S({src:i,async:!0},s),(s=Pa.get(g))&&Yg(i,s),_=l.createElement("script"),fi(_),ts(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(g,_))}}function pS(i,s){xl.M(i,s);var l=eh;if(l&&i){var u=is(l).hoistableScripts,g=ih(i),_=u.get(g);_||(_=l.querySelector(bf(g)),_||(i=S({src:i,async:!0,type:"module"},s),(s=Pa.get(g))&&Yg(i,s),_=l.createElement("script"),fi(_),ts(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(g,_))}}function vy(i,s,l,u){var g=(g=ct.current)?$d(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=nh(l.href),l=is(g).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=nh(l.href);var _=is(g).hoistableStyles,I=_.get(i);if(I||(g=g.ownerDocument||g,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,I),(_=g.querySelector(_f(i)))&&!_._p&&(I.instance=_,I.state.loading=5),Pa.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Pa.set(i,l),_||mS(g,i,l,I.state))),s&&u===null)throw Error(r(528,""));return I}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ih(l),l=is(g).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function nh(i){return'href="'+_i(i)+'"'}function _f(i){return'link[rel="stylesheet"]['+i+"]"}function _y(i){return S({},i,{"data-precedence":i.precedence,precedence:null})}function mS(i,s,l,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),ts(s,"link",l),fi(s),i.head.appendChild(s))}function ih(i){return'[src="'+_i(i)+'"]'}function bf(i){return"script[async]"+i}function by(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+_i(l.href)+'"]');if(u)return s.instance=u,fi(u),u;var g=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),fi(u),ts(u,"style",g),Jd(u,l.precedence,i),s.instance=u;case"stylesheet":g=nh(l.href);var _=i.querySelector(_f(g));if(_)return s.state.loading|=4,s.instance=_,fi(_),_;u=_y(l),(g=Pa.get(g))&&Gg(u,g),_=(i.ownerDocument||i).createElement("link"),fi(_);var I=_;return I._p=new Promise(function(H,ut){I.onload=H,I.onerror=ut}),ts(_,"link",u),s.state.loading|=4,Jd(_,l.precedence,i),s.instance=_;case"script":return _=ih(l.src),(g=i.querySelector(bf(_)))?(s.instance=g,fi(g),g):(u=l,(g=Pa.get(_))&&(u=S({},l),Yg(u,g)),i=i.ownerDocument||i,g=i.createElement("script"),fi(g),ts(g,"link",u),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Jd(u,l.precedence,i));return s.instance}function Jd(i,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,_=g,I=0;I<u.length;I++){var H=u[I];if(H.dataset.precedence===s)_=H;else if(_!==g)break}_?_.parentNode.insertBefore(i,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Gg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Yg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Zd=null;function wy(i,s,l){if(Zd===null){var u=new Map,g=Zd=new Map;g.set(l,u)}else g=Zd,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var _=l[g];if(!(_[Nr]||_[On]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var I=_.getAttribute(s)||"";I=i+I;var H=u.get(I);H?H.push(_):u.set(I,[_])}}return u}function Ay(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function gS(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Sy(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function yS(i,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=nh(u.href),_=s.querySelector(_f(g));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=tp.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=_,fi(_);return}_=s.ownerDocument||s,u=_y(u),(g=Pa.get(g))&&Gg(u,g),_=_.createElement("link"),fi(_);var I=_;I._p=new Promise(function(H,ut){I.onload=H,I.onerror=ut}),ts(_,"link",u),l.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=tp.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var Kg=0;function vS(i,s){return i.stylesheets&&i.count===0&&np(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var u=setTimeout(function(){if(i.stylesheets&&np(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+s);0<i.imgBytes&&Kg===0&&(Kg=62500*JA());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&np(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Kg?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function tp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)np(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ep=null;function np(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ep=new Map,s.forEach(_S,i),ep=null,tp.call(i))}function _S(i,s){if(!(s.state.loading&4)){var l=ep.get(i);if(l)var u=l.get(null);else{l=new Map,ep.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var I=g[_];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(l.set(I.dataset.precedence,I),u=I)}u&&l.set(null,u)}g=s.instance,I=g.getAttribute("data-precedence"),_=l.get(I)||u,_===u&&l.set(null,g),l.set(I,g),this.count++,u=tp.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),_?_.parentNode.insertBefore(g,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var wf={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function bS(i,s,l,u,g,_,I,H,ut){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qi(0),this.hiddenUpdates=qi(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ut,this.incompleteTransitions=new Map}function Ey(i,s,l,u,g,_,I,H,ut,It,Ut,Gt){return i=new bS(i,s,l,I,ut,It,Ut,Gt,H),s=1,_===!0&&(s|=24),_=Or(3,null,null,s),i.current=_,_.stateNode=i,s=Ql(),s.refCount++,i.pooledCache=s,s.refCount++,_.memoizedState={element:u,isDehydrated:l,cache:s},Jt(_),i}function xy(i){return i?(i=gr,i):gr}function Ty(i,s,l,u,g,_){g=xy(g),u.context===null?u.context=g:u.pendingContext=g,u=Ue(s),u.payload={element:l},_=_===void 0?null:_,_!==null&&(u.callback=_),l=sn(i,u,s),l!==null&&(Ws(l,i,s),Un(l,i,s))}function Ny(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Wg(i,s){Ny(i,s),(i=i.alternate)&&Ny(i,s)}function Iy(i){if(i.tag===13||i.tag===31){var s=to(i,67108864);s!==null&&Ws(s,i,67108864),Wg(i,67108864)}}function Cy(i){if(i.tag===13||i.tag===31){var s=ha();s=Fn(s);var l=to(i,s);l!==null&&Ws(l,i,s),Wg(i,s)}}var ip=!0;function wS(i,s,l,u){var g=at.T;at.T=null;var _=pt.p;try{pt.p=2,Qg(i,s,l,u)}finally{pt.p=_,at.T=g}}function AS(i,s,l,u){var g=at.T;at.T=null;var _=pt.p;try{pt.p=8,Qg(i,s,l,u)}finally{pt.p=_,at.T=g}}function Qg(i,s,l,u){if(ip){var g=Xg(u);if(g===null)Pg(i,s,u,rp,l),Ly(i,u);else if(ES(g,i,s,l,u))u.stopPropagation();else if(Ly(i,u),s&4&&-1<SS.indexOf(i)){for(;g!==null;){var _=hr(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var I=ve(_.pendingLanes);if(I!==0){var H=_;for(H.pendingLanes|=2,H.entangledLanes|=2;I;){var ut=1<<31-Qe(I);H.entanglements[1]|=ut,I&=~ut}Vo(_),(Bn&6)===0&&(Bd=We()+500,mf(0))}}break;case 31:case 13:H=to(_,2),H!==null&&Ws(H,_,2),zd(),Wg(_,2)}if(_=Xg(u),_===null&&Pg(i,s,u,rp,l),_===g)break;g=_}g!==null&&u.stopPropagation()}else Pg(i,s,u,null,l)}}function Xg(i){return i=Rr(i),$g(i)}var rp=null;function $g(i){if(rp=null,i=zr(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=c(s),i!==null)return i;i=null}else if(l===31){if(i=h(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return rp=i,null}function Ry(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ze()){case Be:return 2;case an:return 8;case Xe:case ge:return 32;case He:return 268435456;default:return 32}default:return 32}}var Jg=!1,lu=null,uu=null,cu=null,Af=new Map,Sf=new Map,hu=[],SS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ly(i,s){switch(i){case"focusin":case"focusout":lu=null;break;case"dragenter":case"dragleave":uu=null;break;case"mouseover":case"mouseout":cu=null;break;case"pointerover":case"pointerout":Af.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sf.delete(s.pointerId)}}function Ef(i,s,l,u,g,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:_,targetContainers:[g]},s!==null&&(s=hr(s),s!==null&&Iy(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function ES(i,s,l,u,g){switch(s){case"focusin":return lu=Ef(lu,i,s,l,u,g),!0;case"dragenter":return uu=Ef(uu,i,s,l,u,g),!0;case"mouseover":return cu=Ef(cu,i,s,l,u,g),!0;case"pointerover":var _=g.pointerId;return Af.set(_,Ef(Af.get(_)||null,i,s,l,u,g)),!0;case"gotpointercapture":return _=g.pointerId,Sf.set(_,Ef(Sf.get(_)||null,i,s,l,u,g)),!0}return!1}function ky(i){var s=zr(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){i.blockedOn=s,cr(i.priority,function(){Cy(l)});return}}else if(s===31){if(s=h(l),s!==null){i.blockedOn=s,cr(i.priority,function(){Cy(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function sp(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Xg(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);ia=u,l.target.dispatchEvent(u),ia=null}else return s=hr(l),s!==null&&Iy(s),i.blockedOn=l,!1;s.shift()}return!0}function Oy(i,s,l){sp(i)&&l.delete(s)}function xS(){Jg=!1,lu!==null&&sp(lu)&&(lu=null),uu!==null&&sp(uu)&&(uu=null),cu!==null&&sp(cu)&&(cu=null),Af.forEach(Oy),Sf.forEach(Oy)}function ap(i,s){i.blockedOn===s&&(i.blockedOn=null,Jg||(Jg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,xS)))}var op=null;function Dy(i){op!==i&&(op=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){op===i&&(op=null);for(var s=0;s<i.length;s+=3){var l=i[s],u=i[s+1],g=i[s+2];if(typeof u!="function"){if($g(u||l)===null)continue;break}var _=hr(l);_!==null&&(i.splice(s,3),s-=3,Xm(_,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function rh(i){function s(ut){return ap(ut,i)}lu!==null&&ap(lu,i),uu!==null&&ap(uu,i),cu!==null&&ap(cu,i),Af.forEach(s),Sf.forEach(s);for(var l=0;l<hu.length;l++){var u=hu[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<hu.length&&(l=hu[0],l.blockedOn===null);)ky(l),l.blockedOn===null&&hu.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],_=l[u+1],I=g[Hn]||null;if(typeof _=="function")I||Dy(l);else if(I){var H=null;if(_&&_.hasAttribute("formAction")){if(g=_,I=_[Hn]||null)H=I.formAction;else if($g(g)!==null)continue}else H=I.action;typeof H=="function"?l[u+1]=H:(l.splice(u,3),u-=3),Dy(l)}}}function Py(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(I){return g=I})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function Zg(i){this._internalRoot=i}lp.prototype.render=Zg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=ha();Ty(l,u,i,s,null,null)},lp.prototype.unmount=Zg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ty(i.current,2,null,i,null,null),zd(),s[Oi]=null}};function lp(i){this._internalRoot=i}lp.prototype.unstable_scheduleHydration=function(i){if(i){var s=ki();i={blockedOn:null,target:i,priority:s};for(var l=0;l<hu.length&&s!==0&&s<hu[l].priority;l++);hu.splice(l,0,i),l===0&&ky(i)}};var My=t.version;if(My!=="19.2.4")throw Error(r(527,My,"19.2.4"));pt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var TS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:at,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!up.isDisabled&&up.supportsFiber)try{$e=up.inject(TS),Ne=up}catch{}}return Tf.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,u="",g=q2,_=H2,I=G2;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(I=s.onRecoverableError)),s=Ey(i,1,!1,null,null,l,u,null,g,_,I,Py),i[Oi]=s.current,Dg(i),new Zg(s)},Tf.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var u=!1,g="",_=q2,I=H2,H=G2,ut=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&(H=l.onRecoverableError),l.formState!==void 0&&(ut=l.formState)),s=Ey(i,1,!0,s,l??null,u,g,ut,_,I,H,Py),s.context=xy(null),l=s.current,u=ha(),u=Fn(u),g=Ue(u),g.callback=null,sn(l,g,u),l=u,s.current.lanes=l,Se(s,l),Vo(s),i[Oi]=s.current,Dg(i),new lp(s)},Tf.version="19.2.4",Tf}var Yy;function MS(){if(Yy)return n1.exports;Yy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),n1.exports=PS(),n1.exports}var jS=MS();const US="modulepreload",VS=function(n){return"/TWKT_employee/"+n},Ky={},Mf=function(t,e,r){let a=Promise.resolve();if(e&&e.length>0){let f=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");a=f(e.map(m=>{if(m=VS(m),m in Ky)return;Ky[m]=!0;const v=m.endsWith(".css"),S=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${S}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":US,v||(x.as="script"),x.crossOrigin="",x.href=m,h&&x.setAttribute("nonce",h),document.head.appendChild(x),v)return new Promise((b,U)=>{x.addEventListener("load",b),x.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})},BS=()=>{};var Wy={};const Hb=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},FS=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const a=n[e++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],c=n[e++],h=n[e++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return t.join("")},Gb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,f=a+2<n.length,m=f?n[a+2]:0,v=o>>2,S=(o&3)<<4|h>>4;let x=(h&15)<<2|m>>6,b=m&63;f||(b=64,c||(x=64)),r.push(e[v],e[S],e[x],e[b])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Hb(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):FS(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const m=a<n.length?e[n.charAt(a)]:64;++a;const S=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||m==null||S==null)throw new zS;const x=o<<2|h>>4;if(r.push(x),m!==64){const b=h<<4&240|m>>2;if(r.push(b),S!==64){const U=m<<6&192|S;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class zS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qS=function(n){const t=Hb(n);return Gb.encodeByteArray(t,!0)},Bp=function(n){return qS(n).replace(/\./g,"")},Yb=function(n){try{return Gb.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function HS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const GS=()=>HS().__FIREBASE_DEFAULTS__,YS=()=>{if(typeof process>"u"||typeof Wy>"u")return;const n=Wy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},KS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Yb(n[1]);return t&&JSON.parse(t)},hm=()=>{try{return BS()||GS()||YS()||KS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Kb=n=>hm()?.emulatorHosts?.[n],Wb=n=>{const t=Kb(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},Qb=()=>hm()?.config,Xb=n=>hm()?.[`_${n}`];class WS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function vc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function S0(n){return(await fetch(n,{credentials:"include"})).ok}function $b(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Bp(JSON.stringify(e)),Bp(JSON.stringify(c)),""].join(".")}const jf={};function QS(){const n={prod:[],emulator:[]};for(const t of Object.keys(jf))jf[t]?n.emulator.push(t):n.prod.push(t);return n}function XS(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Qy=!1;function E0(n,t){if(typeof window>"u"||typeof document>"u"||!vc(window.location.host)||jf[n]===t||jf[n]||Qy)return;jf[n]=t;function e(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=QS().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,b){x.setAttribute("width","24"),x.setAttribute("id",b),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Qy=!0,c()},x}function v(x,b){x.setAttribute("id",b),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=XS(r),b=e("text"),U=document.getElementById(b)||document.createElement("span"),B=e("learnmore"),G=document.getElementById(B)||document.createElement("a"),F=e("preprendIcon"),st=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const Z=x.element;h(Z),v(G,B);const et=m();f(st,F),Z.append(st,U,G,et),document.body.appendChild(Z)}o?(U.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function ys(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $S(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ys())}function JS(){const n=hm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nE(){const n=ys();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function iE(){return!JS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rE(){try{return typeof indexedDB=="object"}catch{return!1}}function sE(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const aE="FirebaseError";class $o extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=aE,Object.setPrototypeOf(this,$o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,id.prototype.create)}}class id{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],c=o?oE(o,r):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new $o(a,h,r)}}function oE(n,t){return n.replace(lE,(e,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const lE=/\{\$([^}]+)}/g;function uE(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function cc(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const a of e){if(!r.includes(a))return!1;const o=n[a],c=t[a];if(Xy(o)&&Xy(c)){if(!cc(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!e.includes(a))return!1;return!0}function Xy(n){return n!==null&&typeof n=="object"}function rd(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Lf(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");t[decodeURIComponent(a)]=decodeURIComponent(o)}}),t}function kf(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function cE(n,t){const e=new hE(n,t);return e.subscribe.bind(e)}class hE{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let a;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");fE(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:r},a.next===void 0&&(a.next=a1),a.error===void 0&&(a.error=a1),a.complete===void 0&&(a.complete=a1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fE(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function a1(){}function Sr(n){return n&&n._delegate?n._delegate:n}class Nu{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const rc="[DEFAULT]";class dE{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new WS;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mE(t))try{this.getOrInitializeService({instanceIdentifier:rc})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(t=rc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=rc){return this.instances.has(t)}getOptions(t=rc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(a)}return a}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(r)??new Set;a.add(t),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&t(o,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const a of r)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pE(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=rc){return this.component?this.component.multipleInstances?t:rc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pE(n){return n===rc?void 0:n}function mE(n){return n.instantiationMode==="EAGER"}class gE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new dE(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var bn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(bn||(bn={}));const yE={debug:bn.DEBUG,verbose:bn.VERBOSE,info:bn.INFO,warn:bn.WARN,error:bn.ERROR,silent:bn.SILENT},vE=bn.INFO,_E={[bn.DEBUG]:"log",[bn.VERBOSE]:"log",[bn.INFO]:"info",[bn.WARN]:"warn",[bn.ERROR]:"error"},bE=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),a=_E[t];if(a)console[a](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class x0{constructor(t){this.name=t,this._logLevel=vE,this._logHandler=bE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in bn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,bn.DEBUG,...t),this._logHandler(this,bn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,bn.VERBOSE,...t),this._logHandler(this,bn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,bn.INFO,...t),this._logHandler(this,bn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,bn.WARN,...t),this._logHandler(this,bn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,bn.ERROR,...t),this._logHandler(this,bn.ERROR,...t)}}const wE=(n,t)=>t.some(e=>n instanceof e);let $y,Jy;function AE(){return $y||($y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SE(){return Jy||(Jy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jb=new WeakMap,B1=new WeakMap,Zb=new WeakMap,o1=new WeakMap,T0=new WeakMap;function EE(n){const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Au(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&Jb.set(e,n)}).catch(()=>{}),T0.set(t,n),t}function xE(n){if(B1.has(n))return;const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});B1.set(n,t)}let F1={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return B1.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Zb.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Au(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function TE(n){F1=n(F1)}function NE(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(l1(this),t,...e);return Zb.set(r,t.sort?t.sort():[t]),Au(r)}:SE().includes(n)?function(...t){return n.apply(l1(this),t),Au(Jb.get(this))}:function(...t){return Au(n.apply(l1(this),t))}}function IE(n){return typeof n=="function"?NE(n):(n instanceof IDBTransaction&&xE(n),wE(n,AE())?new Proxy(n,F1):n)}function Au(n){if(n instanceof IDBRequest)return EE(n);if(o1.has(n))return o1.get(n);const t=IE(n);return t!==n&&(o1.set(n,t),T0.set(t,n)),t}const l1=n=>T0.get(n);function CE(n,t,{blocked:e,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(n,t),h=Au(c);return r&&c.addEventListener("upgradeneeded",f=>{r(Au(c.result),f.oldVersion,f.newVersion,Au(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const RE=["get","getKey","getAll","getAllKeys","count"],LE=["put","add","delete","clear"],u1=new Map;function Zy(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(u1.get(t))return u1.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,a=LE.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(a||RE.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),a&&f.done]))[0]};return u1.set(t,o),o}TE(n=>({...n,get:(t,e,r)=>Zy(t,e)||n.get(t,e,r),has:(t,e)=>!!Zy(t,e)||n.has(t,e)}));class kE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(OE(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function OE(n){return n.getComponent()?.type==="VERSION"}const z1="@firebase/app",tv="0.14.8";const Ol=new x0("@firebase/app"),DE="@firebase/app-compat",PE="@firebase/analytics-compat",ME="@firebase/analytics",jE="@firebase/app-check-compat",UE="@firebase/app-check",VE="@firebase/auth",BE="@firebase/auth-compat",FE="@firebase/database",zE="@firebase/data-connect",qE="@firebase/database-compat",HE="@firebase/functions",GE="@firebase/functions-compat",YE="@firebase/installations",KE="@firebase/installations-compat",WE="@firebase/messaging",QE="@firebase/messaging-compat",XE="@firebase/performance",$E="@firebase/performance-compat",JE="@firebase/remote-config",ZE="@firebase/remote-config-compat",t6="@firebase/storage",e6="@firebase/storage-compat",n6="@firebase/firestore",i6="@firebase/ai",r6="@firebase/firestore-compat",s6="firebase",a6="12.9.0";const q1="[DEFAULT]",o6={[z1]:"fire-core",[DE]:"fire-core-compat",[ME]:"fire-analytics",[PE]:"fire-analytics-compat",[UE]:"fire-app-check",[jE]:"fire-app-check-compat",[VE]:"fire-auth",[BE]:"fire-auth-compat",[FE]:"fire-rtdb",[zE]:"fire-data-connect",[qE]:"fire-rtdb-compat",[HE]:"fire-fn",[GE]:"fire-fn-compat",[YE]:"fire-iid",[KE]:"fire-iid-compat",[WE]:"fire-fcm",[QE]:"fire-fcm-compat",[XE]:"fire-perf",[$E]:"fire-perf-compat",[JE]:"fire-rc",[ZE]:"fire-rc-compat",[t6]:"fire-gcs",[e6]:"fire-gcs-compat",[n6]:"fire-fst",[r6]:"fire-fst-compat",[i6]:"fire-vertex","fire-js":"fire-js",[s6]:"fire-js-all"};const Fp=new Map,l6=new Map,H1=new Map;function ev(n,t){try{n.container.addComponent(t)}catch(e){Ol.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function hc(n){const t=n.name;if(H1.has(t))return Ol.debug(`There were multiple attempts to register component ${t}.`),!1;H1.set(t,n);for(const e of Fp.values())ev(e,n);for(const e of l6.values())ev(e,n);return!0}function fm(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ma(n){return n==null?!1:n.settings!==void 0}const u6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Su=new id("app","Firebase",u6);class c6{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Su.create("app-deleted",{appName:this._name})}}const _c=a6;function tw(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:q1,automaticDataCollectionEnabled:!0,...t},a=r.name;if(typeof a!="string"||!a)throw Su.create("bad-app-name",{appName:String(a)});if(e||(e=Qb()),!e)throw Su.create("no-options");const o=Fp.get(a);if(o){if(cc(e,o.options)&&cc(r,o.config))return o;throw Su.create("duplicate-app",{appName:a})}const c=new gE(a);for(const f of H1.values())c.addComponent(f);const h=new c6(e,r,c);return Fp.set(a,h),h}function N0(n=q1){const t=Fp.get(n);if(!t&&n===q1&&Qb())return tw();if(!t)throw Su.create("no-app",{appName:n});return t}function Ho(n,t,e){let r=o6[n]??n;e&&(r+=`-${e}`);const a=r.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const c=[`Unable to register library "${r}" with version "${t}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ol.warn(c.join(" "));return}hc(new Nu(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const h6="firebase-heartbeat-database",f6=1,Yf="firebase-heartbeat-store";let c1=null;function ew(){return c1||(c1=CE(h6,f6,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Yf)}catch(e){console.warn(e)}}}}).catch(n=>{throw Su.create("idb-open",{originalErrorMessage:n.message})})),c1}async function d6(n){try{const e=(await ew()).transaction(Yf),r=await e.objectStore(Yf).get(nw(n));return await e.done,r}catch(t){if(t instanceof $o)Ol.warn(t.message);else{const e=Su.create("idb-get",{originalErrorMessage:t?.message});Ol.warn(e.message)}}}async function nv(n,t){try{const r=(await ew()).transaction(Yf,"readwrite");await r.objectStore(Yf).put(t,nw(n)),await r.done}catch(e){if(e instanceof $o)Ol.warn(e.message);else{const r=Su.create("idb-set",{originalErrorMessage:e?.message});Ol.warn(r.message)}}}function nw(n){return`${n.name}!${n.options.appId}`}const p6=1024,m6=30;class g6{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new v6(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=iv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>m6){const a=_6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ol.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=iv(),{heartbeatsToSend:e,unsentEntries:r}=y6(this._heartbeatsCache.heartbeats),a=Bp(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ol.warn(t),""}}}function iv(){return new Date().toISOString().substring(0,10)}function y6(n,t=p6){const e=[];let r=n.slice();for(const a of n){const o=e.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),rv(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),rv(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class v6{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rE()?sE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await d6(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return nv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return nv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function rv(n){return Bp(JSON.stringify({version:2,heartbeats:n})).length}function _6(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function b6(n){hc(new Nu("platform-logger",t=>new kE(t),"PRIVATE")),hc(new Nu("heartbeat",t=>new g6(t),"PRIVATE")),Ho(z1,tv,n),Ho(z1,tv,"esm2020"),Ho("fire-js","")}b6("");function iw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w6=iw,rw=new id("auth","Firebase",iw());const zp=new x0("@firebase/auth");function A6(n,...t){zp.logLevel<=bn.WARN&&zp.warn(`Auth (${_c}): ${n}`,...t)}function xp(n,...t){zp.logLevel<=bn.ERROR&&zp.error(`Auth (${_c}): ${n}`,...t)}function fo(n,...t){throw I0(n,...t)}function Go(n,...t){return I0(n,...t)}function sw(n,t,e){const r={...w6(),[t]:e};return new id("auth","Firebase",r).create(t,{appName:n.name})}function Eu(n){return sw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I0(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return rw.create(n,...t)}function Fe(n,t,...e){if(!n)throw I0(t,...e)}function Cl(n){const t="INTERNAL ASSERTION FAILED: "+n;throw xp(t),new Error(t)}function Dl(n,t){n||Cl(t)}function G1(){return typeof self<"u"&&self.location?.href||""}function S6(){return sv()==="http:"||sv()==="https:"}function sv(){return typeof self<"u"&&self.location?.protocol||null}function E6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S6()||tE()||"connection"in navigator)?navigator.onLine:!0}function x6(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class sd{constructor(t,e){this.shortDelay=t,this.longDelay=e,Dl(e>t,"Short delay should be less than long delay!"),this.isMobile=$S()||eE()}get(){return E6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function C0(n,t){Dl(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class aw{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const T6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const N6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],I6=new sd(3e4,6e4);function bc(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Mu(n,t,e,r,a={}){return ow(n,a,async()=>{let o={},c={};r&&(t==="GET"?c=r:o={body:JSON.stringify(r)});const h=rd({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:t,headers:f,...o};return ZS()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&vc(n.emulatorConfig.host)&&(m.credentials="include"),aw.fetch()(await lw(n,n.config.apiHost,e,h),m)})}async function ow(n,t,e){n._canInitEmulator=!1;const r={...T6,...t};try{const a=new R6(n),o=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw cp(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw cp(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw cp(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw cp(n,"user-disabled",c);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw sw(n,v,m);fo(n,v)}}catch(a){if(a instanceof $o)throw a;fo(n,"network-request-failed",{message:String(a)})}}async function dm(n,t,e,r,a={}){const o=await Mu(n,t,e,r,a);return"mfaPendingCredential"in o&&fo(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function lw(n,t,e,r){const a=`${t}${e}?${r}`,o=n,c=o.config.emulator?C0(n.config,a):`${n.config.apiScheme}://${a}`;return N6.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function C6(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class R6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Go(this.auth,"network-request-failed")),I6.get())})}}function cp(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const a=Go(n,t,r);return a.customData._tokenResponse=e,a}function av(n){return n!==void 0&&n.enterprise!==void 0}class L6{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return C6(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function k6(n,t){return Mu(n,"GET","/v2/recaptchaConfig",bc(n,t))}async function O6(n,t){return Mu(n,"POST","/v1/accounts:delete",t)}async function qp(n,t){return Mu(n,"POST","/v1/accounts:lookup",t)}function Uf(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function D6(n,t=!1){const e=Sr(n),r=await e.getIdToken(t),a=R0(r);Fe(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:r,authTime:Uf(h1(a.auth_time)),issuedAtTime:Uf(h1(a.iat)),expirationTime:Uf(h1(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function h1(n){return Number(n)*1e3}function R0(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return xp("JWT malformed, contained fewer than 3 sections"),null;try{const a=Yb(e);return a?JSON.parse(a):(xp("Failed to decode base64 JWT payload"),null)}catch(a){return xp("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ov(n){const t=R0(n);return Fe(t,"internal-error"),Fe(typeof t.exp<"u","internal-error"),Fe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Kf(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof $o&&P6(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function P6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class M6{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Y1{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uf(this.lastLoginAt),this.creationTime=Uf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hp(n){const t=n.auth,e=await n.getIdToken(),r=await Kf(n,qp(t,{idToken:e}));Fe(r?.users.length,t,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?uw(a.providerUserInfo):[],c=U6(n.providerData,o),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!c?.length,m=h?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Y1(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function j6(n){const t=Sr(n);await Hp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function U6(n,t){return[...n.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function uw(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function V6(n,t){const e=await ow(n,{},async()=>{const r=rd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await lw(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&vc(n.emulatorConfig.host)&&(f.credentials="include"),aw.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function B6(n,t){return Mu(n,"POST","/v2/accounts:revokeToken",bc(n,t))}class vh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Fe(t.idToken,"internal-error"),Fe(typeof t.idToken<"u","internal-error"),Fe(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ov(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Fe(t.length!==0,"internal-error");const e=ov(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:a,expiresIn:o}=await V6(t,e);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:a,expirationTime:o}=e,c=new vh;return r&&(Fe(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(Fe(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),o&&(Fe(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new vh,this.toJSON())}_performRefresh(){return Cl("not implemented")}}function du(n,t){Fe(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class uo{constructor({uid:t,auth:e,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new M6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Y1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Kf(this,this.stsTokenManager.getToken(this.auth,t));return Fe(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return D6(this,t)}reload(){return j6(this)}_assign(t){this!==t&&(Fe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new uo({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Hp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ma(this.auth.app))return Promise.reject(Eu(this.auth));const t=await this.getIdToken();return await Kf(this,O6(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,a=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,m=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:b,providerData:U,stsTokenManager:B}=e;Fe(S&&B,t,"internal-error");const G=vh.fromJSON(this.name,B);Fe(typeof S=="string",t,"internal-error"),du(r,t.name),du(a,t.name),Fe(typeof x=="boolean",t,"internal-error"),Fe(typeof b=="boolean",t,"internal-error"),du(o,t.name),du(c,t.name),du(h,t.name),du(f,t.name),du(m,t.name),du(v,t.name);const F=new uo({uid:S,auth:t,email:a,emailVerified:x,displayName:r,isAnonymous:b,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:G,createdAt:m,lastLoginAt:v});return U&&Array.isArray(U)&&(F.providerData=U.map(st=>({...st}))),f&&(F._redirectEventId=f),F}static async _fromIdTokenResponse(t,e,r=!1){const a=new vh;a.updateFromServerResponse(e);const o=new uo({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await Hp(o),o}static async _fromGetAccountInfoResponse(t,e,r){const a=e.users[0];Fe(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?uw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new vh;h.updateFromIdToken(r);const f=new uo({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Y1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,m),f}}const lv=new Map;function Rl(n){Dl(n instanceof Function,"Expected a class definition");let t=lv.get(n);return t?(Dl(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,lv.set(n,t),t)}class cw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}cw.type="NONE";const uv=cw;function Tp(n,t,e){return`firebase:${n}:${t}:${e}`}class _h{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Tp(this.userKey,a.apiKey,o),this.fullPersistenceKey=Tp("persistence",a.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await qp(this.auth,{idToken:t}).catch(()=>{});return e?uo._fromGetAccountInfoResponse(this.auth,e,t):null}return uo._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new _h(Rl(uv),t,r);const a=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Rl(uv);const c=Tp(r,t.config.apiKey,t.name);let h=null;for(const m of e)try{const v=await m._get(c);if(v){let S;if(typeof v=="string"){const x=await qp(t,{idToken:v}).catch(()=>{});if(!x)break;S=await uo._fromGetAccountInfoResponse(t,x,v)}else S=uo._fromJSON(t,v);m!==o&&(h=S),o=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new _h(o,t,r):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new _h(o,t,r))}}function cv(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gw(t))return"Blackberry";if(yw(t))return"Webos";if(fw(t))return"Safari";if((t.includes("chrome/")||dw(t))&&!t.includes("edge/"))return"Chrome";if(mw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function hw(n=ys()){return/firefox\//i.test(n)}function fw(n=ys()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function dw(n=ys()){return/crios\//i.test(n)}function pw(n=ys()){return/iemobile/i.test(n)}function mw(n=ys()){return/android/i.test(n)}function gw(n=ys()){return/blackberry/i.test(n)}function yw(n=ys()){return/webos/i.test(n)}function L0(n=ys()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function F6(n=ys()){return L0(n)&&!!window.navigator?.standalone}function z6(){return nE()&&document.documentMode===10}function vw(n=ys()){return L0(n)||mw(n)||yw(n)||gw(n)||/windows phone/i.test(n)||pw(n)}function _w(n,t=[]){let e;switch(n){case"Browser":e=cv(ys());break;case"Worker":e=`${cv(ys())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${_c}/${r}`}class q6{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});r.onAbort=e,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function H6(n,t={}){return Mu(n,"GET","/v2/passwordPolicy",bc(n,t))}const G6=6;class Y6{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??G6,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class K6{constructor(t,e,r,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hv(this),this.idTokenSubscription=new hv(this),this.beforeStateQueue=new q6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Rl(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _h.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await qp(this,{idToken:t}),r=await uo._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ma(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Hp(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=x6()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ma(this.app))return Promise.reject(Eu(this));const e=t?Sr(t):null;return e&&Fe(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Fe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ma(this.app)?Promise.reject(Eu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ma(this.app)?Promise.reject(Eu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await H6(this),e=new Y6(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new id("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await B6(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Rl(t)||this._popupRedirectResolver;Fe(e,this,"argument-error"),this.redirectPersistenceManager=await _h.create(this,[Rl(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,a){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,r,a);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=_w(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Ma(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&A6(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ph(n){return Sr(n)}class hv{constructor(t){this.auth=t,this.observer=null,this.addObserver=cE(e=>this.observer=e)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W6(n){pm=n}function bw(n){return pm.loadJS(n)}function Q6(){return pm.recaptchaEnterpriseScript}function X6(){return pm.gapiScript}function $6(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class J6{constructor(){this.enterprise=new Z6}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class Z6{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const tx="recaptcha-enterprise",ww="NO_RECAPTCHA";class ex{constructor(t){this.type=tx,this.auth=Ph(t)}async verify(t="verify",e=!1){async function r(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{k6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new L6(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(f=>{h(f)})})}function a(o,c,h){const f=window.grecaptcha;av(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(m=>{c(m)}).catch(()=>{c(ww)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new J6().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(h=>{if(!e&&av(window.grecaptcha))a(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Q6();f.length!==0&&(f+=h),bw(f).then(()=>{a(h,o,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function fv(n,t,e,r=!1,a=!1){const o=new ex(n);let c;if(a)c=ww;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function dv(n,t,e,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await fv(n,t,e,e==="getOobCode");return r(n,o)}else return r(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await fv(n,t,e,e==="getOobCode");return r(n,c)}else return Promise.reject(o)})}function nx(n,t){const e=fm(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),o=e.getOptions();if(cc(o,t??{}))return a;fo(a,"already-initialized")}return e.initialize({options:t})}function ix(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(Rl);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function rx(n,t,e){const r=Ph(n);Fe(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,o=Aw(t),{host:c,port:h}=sx(t),f=h===null?"":`:${h}`,m={url:`${o}//${c}${f}/`},v=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Fe(cc(m,r.config.emulator)&&cc(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,vc(c)?(S0(`${o}//${c}${f}`),E0("Auth",!0)):ax()}function Aw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function sx(n){const t=Aw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:pv(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:pv(c)}}}function pv(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function ax(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class k0{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Cl("not implemented")}_getIdTokenResponse(t){return Cl("not implemented")}_linkToIdToken(t,e){return Cl("not implemented")}_getReauthenticationResolver(t){return Cl("not implemented")}}async function ox(n,t){return Mu(n,"POST","/v1/accounts:signUp",t)}async function lx(n,t){return dm(n,"POST","/v1/accounts:signInWithPassword",bc(n,t))}async function ux(n,t){return dm(n,"POST","/v1/accounts:signInWithEmailLink",bc(n,t))}async function cx(n,t){return dm(n,"POST","/v1/accounts:signInWithEmailLink",bc(n,t))}class Wf extends k0{constructor(t,e,r,a=null){super("password",r),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new Wf(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new Wf(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dv(t,e,"signInWithPassword",lx);case"emailLink":return ux(t,{email:this._email,oobCode:this._password});default:fo(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dv(t,r,"signUpPassword",ox);case"emailLink":return cx(t,{idToken:e,email:this._email,oobCode:this._password});default:fo(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function bh(n,t){return dm(n,"POST","/v1/accounts:signInWithIdp",bc(n,t))}const hx="http://localhost";class fc extends k0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new fc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):fo("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a,...o}=e;if(!r||!a)return null;const c=new fc(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return bh(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,bh(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,bh(t,e)}buildRequest(){const t={requestUri:hx,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=rd(e)}return t}}function fx(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dx(n){const t=Lf(kf(n)).link,e=t?Lf(kf(t)).deep_link_id:null,r=Lf(kf(n)).deep_link_id;return(r?Lf(kf(r)).link:null)||r||e||t||n}class O0{constructor(t){const e=Lf(kf(t)),r=e.apiKey??null,a=e.oobCode??null,o=fx(e.mode??null);Fe(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=dx(t);try{return new O0(e)}catch{return null}}}class Mh{constructor(){this.providerId=Mh.PROVIDER_ID}static credential(t,e){return Wf._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const r=O0.parseLink(e);return Fe(r,"argument-error"),Wf._fromEmailAndCode(t,r.code,r.tenantId)}}Mh.PROVIDER_ID="password";Mh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Sw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ad extends Sw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class gu extends ad{constructor(){super("facebook.com")}static credential(t){return fc._fromParams({providerId:gu.PROVIDER_ID,signInMethod:gu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gu.credentialFromTaggedObject(t)}static credentialFromError(t){return gu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gu.credential(t.oauthAccessToken)}catch{return null}}}gu.FACEBOOK_SIGN_IN_METHOD="facebook.com";gu.PROVIDER_ID="facebook.com";class yu extends ad{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return fc._fromParams({providerId:yu.PROVIDER_ID,signInMethod:yu.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return yu.credentialFromTaggedObject(t)}static credentialFromError(t){return yu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return yu.credential(e,r)}catch{return null}}}yu.GOOGLE_SIGN_IN_METHOD="google.com";yu.PROVIDER_ID="google.com";class vu extends ad{constructor(){super("github.com")}static credential(t){return fc._fromParams({providerId:vu.PROVIDER_ID,signInMethod:vu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vu.credentialFromTaggedObject(t)}static credentialFromError(t){return vu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vu.credential(t.oauthAccessToken)}catch{return null}}}vu.GITHUB_SIGN_IN_METHOD="github.com";vu.PROVIDER_ID="github.com";class _u extends ad{constructor(){super("twitter.com")}static credential(t,e){return fc._fromParams({providerId:_u.PROVIDER_ID,signInMethod:_u.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return _u.credentialFromTaggedObject(t)}static credentialFromError(t){return _u.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return _u.credential(e,r)}catch{return null}}}_u.TWITTER_SIGN_IN_METHOD="twitter.com";_u.PROVIDER_ID="twitter.com";class Nh{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,a=!1){const o=await uo._fromIdTokenResponse(t,r,a),c=mv(r);return new Nh({user:o,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const a=mv(r);return new Nh({user:t,providerId:a,_tokenResponse:r,operationType:e})}}function mv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Gp extends $o{constructor(t,e,r,a){super(e.code,e.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Gp.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,a){return new Gp(t,e,r,a)}}function Ew(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Gp._fromErrorAndOperation(n,o,t,r):o})}async function px(n,t,e=!1){const r=await Kf(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Nh._forOperation(n,"link",r)}async function mx(n,t,e=!1){const{auth:r}=n;if(Ma(r.app))return Promise.reject(Eu(r));const a="reauthenticate";try{const o=await Kf(n,Ew(r,a,t,n),e);Fe(o.idToken,r,"internal-error");const c=R0(o.idToken);Fe(c,r,"internal-error");const{sub:h}=c;return Fe(n.uid===h,r,"user-mismatch"),Nh._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&fo(r,"user-mismatch"),o}}async function xw(n,t,e=!1){if(Ma(n.app))return Promise.reject(Eu(n));const r="signIn",a=await Ew(n,r,t),o=await Nh._fromIdTokenResponse(n,r,a);return e||await n._updateCurrentUser(o.user),o}async function gx(n,t){return xw(Ph(n),t)}async function yx(n){const t=Ph(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function vx(n,t,e){return Ma(n.app)?Promise.reject(Eu(n)):gx(Sr(n),Mh.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yx(n),r})}function _x(n,t,e,r){return Sr(n).onIdTokenChanged(t,e,r)}function bx(n,t,e){return Sr(n).beforeAuthStateChanged(t,e)}function wx(n,t,e,r){return Sr(n).onAuthStateChanged(t,e,r)}function Ax(n){return Sr(n).signOut()}const Yp="__sak";class Tw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Yp,"1"),this.storage.removeItem(Yp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sx=1e3,Ex=10;class Nw extends Tw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),a=this.localCache[e];r!==a&&t(e,a,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const r=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);z6()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,Ex):a()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},Sx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Nw.type="LOCAL";const xx=Nw;class Iw extends Tw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Iw.type="SESSION";const Cw=Iw;function Tx(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class mm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const r=new mm(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:a,data:o}=e.data,c=this.handlersMap[a];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(c).map(async m=>m(e.origin,o)),f=await Tx(h);e.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mm.receivers=[];function D0(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}class Nx{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const m=D0("",20);a.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(S){const x=S;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(x.data.response);break;default:clearTimeout(v),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Yo(){return window}function Ix(n){Yo().location.href=n}function Rw(){return typeof Yo().WorkerGlobalScope<"u"&&typeof Yo().importScripts=="function"}async function Cx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rx(){return navigator?.serviceWorker?.controller||null}function Lx(){return Rw()?self:null}const Lw="firebaseLocalStorageDb",kx=1,Kp="firebaseLocalStorage",kw="fbase_key";class od{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function gm(n,t){return n.transaction([Kp],t?"readwrite":"readonly").objectStore(Kp)}function Ox(){const n=indexedDB.deleteDatabase(Lw);return new od(n).toPromise()}function K1(){const n=indexedDB.open(Lw,kx);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Kp,{keyPath:kw})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Kp)?t(r):(r.close(),await Ox(),t(await K1()))})})}async function gv(n,t,e){const r=gm(n,!0).put({[kw]:t,value:e});return new od(r).toPromise()}async function Dx(n,t){const e=gm(n,!1).get(t),r=await new od(e).toPromise();return r===void 0?null:r.value}function yv(n,t){const e=gm(n,!0).delete(t);return new od(e).toPromise()}const Px=800,Mx=3;class Ow{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await K1(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>Mx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mm._getInstance(Lx()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Cx(),!this.activeServiceWorker)return;this.sender=new Nx(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Rx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await K1();return await gv(t,Yp,"1"),await yv(t,Yp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>gv(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>Dx(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>yv(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const o=gm(a,!1).getAll();return new od(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:o}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Px)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ow.type="LOCAL";const jx=Ow;new sd(3e4,6e4);function Ux(n,t){return t?Rl(t):(Fe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class P0 extends k0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return bh(t,this._buildIdpRequest())}_linkToIdToken(t,e){return bh(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return bh(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Vx(n){return xw(n.auth,new P0(n),n.bypassAuthState)}function Bx(n){const{auth:t,user:e}=n;return Fe(e,t,"internal-error"),mx(e,new P0(n),n.bypassAuthState)}async function Fx(n){const{auth:t,user:e}=n;return Fe(e,t,"internal-error"),px(e,new P0(n),n.bypassAuthState)}class Dw{constructor(t,e,r,a,o=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:a,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Vx;case"linkViaPopup":case"linkViaRedirect":return Fx;case"reauthViaPopup":case"reauthViaRedirect":return Bx;default:fo(this.auth,"internal-error")}}resolve(t){Dl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Dl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zx=new sd(2e3,1e4);class mh extends Dw{constructor(t,e,r,a,o){super(t,e,a,o),this.provider=r,this.authWindow=null,this.pollId=null,mh.currentPopupAction&&mh.currentPopupAction.cancel(),mh.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Fe(t,this.auth,"internal-error"),t}async onExecution(){Dl(this.filter.length===1,"Popup operations only handle one event");const t=D0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Go(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Go(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mh.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Go(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zx.get())};t()}}mh.currentPopupAction=null;const qx="pendingRedirect",Np=new Map;class Hx extends Dw{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Np.get(this.auth._key());if(!t){try{const r=await Gx(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Np.set(this.auth._key(),t)}return this.bypassAuthState||Np.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gx(n,t){const e=Wx(t),r=Kx(n);if(!await r._isAvailable())return!1;const a=await r._get(e)==="true";return await r._remove(e),a}function Yx(n,t){Np.set(n._key(),t)}function Kx(n){return Rl(n._redirectPersistence)}function Wx(n){return Tp(qx,n.config.apiKey,n.name)}async function Qx(n,t,e=!1){if(Ma(n.app))return Promise.reject(Eu(n));const r=Ph(n),a=Ux(r,t),c=await new Hx(r,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const Xx=600*1e3;class $x{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Jx(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!Pw(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Go(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Xx&&this.cachedEventUids.clear(),this.cachedEventUids.has(vv(t))}saveEventToCache(t){this.cachedEventUids.add(vv(t)),this.lastProcessedEventTime=Date.now()}}function vv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Pw({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function Jx(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pw(n);default:return!1}}async function Zx(n,t={}){return Mu(n,"GET","/v1/projects",t)}const tT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eT=/^https?/;async function nT(n){if(n.config.emulator)return;const{authorizedDomains:t}=await Zx(n);for(const e of t)try{if(iT(e))return}catch{}fo(n,"unauthorized-domain")}function iT(n){const t=G1(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!eT.test(e))return!1;if(tT.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const rT=new sd(3e4,6e4);function _v(){const n=Yo().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function sT(n){return new Promise((t,e)=>{function r(){_v(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_v(),e(Go(n,"network-request-failed"))},timeout:rT.get()})}if(Yo().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Yo().gapi?.load)r();else{const a=$6("iframefcb");return Yo()[a]=()=>{gapi.load?r():e(Go(n,"network-request-failed"))},bw(`${X6()}?onload=${a}`).catch(o=>e(o))}}).catch(t=>{throw Ip=null,t})}let Ip=null;function aT(n){return Ip=Ip||sT(n),Ip}const oT=new sd(5e3,15e3),lT="__/auth/iframe",uT="emulator/auth/iframe",cT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fT(n){const t=n.config;Fe(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?C0(t,uT):`https://${n.config.authDomain}/${lT}`,r={apiKey:t.apiKey,appName:n.name,v:_c},a=hT.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${e}?${rd(r).slice(1)}`}async function dT(n){const t=await aT(n),e=Yo().gapi;return Fe(e,n,"internal-error"),t.open({where:document.body,url:fT(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cT,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=Go(n,"network-request-failed"),h=Yo().setTimeout(()=>{o(c)},oT.get());function f(){Yo().clearTimeout(h),a(r)}r.ping(f).then(f,()=>{o(c)})}))}const pT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mT=500,gT=600,yT="_blank",vT="http://localhost";class bv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _T(n,t,e,r=mT,a=gT){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...pT,width:r.toString(),height:a.toString(),top:o,left:c},m=ys().toLowerCase();e&&(h=dw(m)?yT:e),hw(m)&&(t=t||vT,f.scrollbars="yes");const v=Object.entries(f).reduce((x,[b,U])=>`${x}${b}=${U},`,"");if(F6(m)&&h!=="_self")return bT(t||"",h),new bv(null);const S=window.open(t||"",h,v);Fe(S,n,"popup-blocked");try{S.focus()}catch{}return new bv(S)}function bT(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}const wT="__/auth/handler",AT="emulator/auth/handler",ST=encodeURIComponent("fac");async function wv(n,t,e,r,a,o){Fe(n.config.authDomain,n,"auth-domain-config-required"),Fe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:_c,eventId:a};if(t instanceof Sw){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",uE(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,S]of Object.entries({}))c[v]=S}if(t instanceof ad){const v=t.getScopes().filter(S=>S!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),m=f?`#${ST}=${encodeURIComponent(f)}`:"";return`${ET(n)}?${rd(h).slice(1)}${m}`}function ET({config:n}){return n.emulator?C0(n,AT):`https://${n.authDomain}/${wT}`}const f1="webStorageSupport";class xT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cw,this._completeRedirectFn=Qx,this._overrideRedirectResult=Yx}async _openPopup(t,e,r,a){Dl(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await wv(t,e,r,G1(),a);return _T(t,o,D0())}async _openRedirect(t,e,r,a){await this._originValidation(t);const o=await wv(t,e,r,G1(),a);return Ix(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:o}=this.eventManagers[e];return a?Promise.resolve(a):(Dl(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await dT(t),r=new $x(t);return e.register("authEvent",a=>(Fe(a?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(f1,{type:f1},a=>{const o=a?.[0]?.[f1];o!==void 0&&e(!!o),fo(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=nT(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return vw()||fw()||L0()}}const TT=xT;var Av="@firebase/auth",Sv="1.12.0";class NT{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function IT(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CT(n){hc(new Nu("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Fe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_w(n)},m=new K6(r,a,o,f);return ix(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),hc(new Nu("auth-internal",t=>{const e=Ph(t.getProvider("auth").getImmediate());return(r=>new NT(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ho(Av,Sv,IT(n)),Ho(Av,Sv,"esm2020")}const RT=300,LT=Xb("authIdTokenMaxAge")||RT;let Ev=null;const kT=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>LT)return;const a=e?.token;Ev!==a&&(Ev=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function OT(n=N0()){const t=fm(n,"auth");if(t.isInitialized())return t.getImmediate();const e=nx(n,{popupRedirectResolver:TT,persistence:[jx,xx,Cw]}),r=Xb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=kT(o.toString());bx(e,c,()=>c(e.currentUser)),_x(e,h=>c(h))}}const a=Kb("auth");return a&&rx(e,`http://${a}`),e}function DT(){return document.getElementsByTagName("head")?.[0]??document}W6({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=a=>{const o=Go("internal-error");o.customData=a,e(o)},r.type="text/javascript",r.charset="UTF-8",DT().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CT("Browser");var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xu,Mw;(function(){var n;function t(Y,D){function R(){}R.prototype=D.prototype,Y.F=D.prototype,Y.prototype=new R,Y.prototype.constructor=Y,Y.D=function(q,N,O){for(var C=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)C[ot-2]=arguments[ot];return D.prototype[N].apply(q,C)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(Y,D,R){R||(R=0);const q=Array(16);if(typeof D=="string")for(var N=0;N<16;++N)q[N]=D.charCodeAt(R++)|D.charCodeAt(R++)<<8|D.charCodeAt(R++)<<16|D.charCodeAt(R++)<<24;else for(N=0;N<16;++N)q[N]=D[R++]|D[R++]<<8|D[R++]<<16|D[R++]<<24;D=Y.g[0],R=Y.g[1],N=Y.g[2];let O=Y.g[3],C;C=D+(O^R&(N^O))+q[0]+3614090360&4294967295,D=R+(C<<7&4294967295|C>>>25),C=O+(N^D&(R^N))+q[1]+3905402710&4294967295,O=D+(C<<12&4294967295|C>>>20),C=N+(R^O&(D^R))+q[2]+606105819&4294967295,N=O+(C<<17&4294967295|C>>>15),C=R+(D^N&(O^D))+q[3]+3250441966&4294967295,R=N+(C<<22&4294967295|C>>>10),C=D+(O^R&(N^O))+q[4]+4118548399&4294967295,D=R+(C<<7&4294967295|C>>>25),C=O+(N^D&(R^N))+q[5]+1200080426&4294967295,O=D+(C<<12&4294967295|C>>>20),C=N+(R^O&(D^R))+q[6]+2821735955&4294967295,N=O+(C<<17&4294967295|C>>>15),C=R+(D^N&(O^D))+q[7]+4249261313&4294967295,R=N+(C<<22&4294967295|C>>>10),C=D+(O^R&(N^O))+q[8]+1770035416&4294967295,D=R+(C<<7&4294967295|C>>>25),C=O+(N^D&(R^N))+q[9]+2336552879&4294967295,O=D+(C<<12&4294967295|C>>>20),C=N+(R^O&(D^R))+q[10]+4294925233&4294967295,N=O+(C<<17&4294967295|C>>>15),C=R+(D^N&(O^D))+q[11]+2304563134&4294967295,R=N+(C<<22&4294967295|C>>>10),C=D+(O^R&(N^O))+q[12]+1804603682&4294967295,D=R+(C<<7&4294967295|C>>>25),C=O+(N^D&(R^N))+q[13]+4254626195&4294967295,O=D+(C<<12&4294967295|C>>>20),C=N+(R^O&(D^R))+q[14]+2792965006&4294967295,N=O+(C<<17&4294967295|C>>>15),C=R+(D^N&(O^D))+q[15]+1236535329&4294967295,R=N+(C<<22&4294967295|C>>>10),C=D+(N^O&(R^N))+q[1]+4129170786&4294967295,D=R+(C<<5&4294967295|C>>>27),C=O+(R^N&(D^R))+q[6]+3225465664&4294967295,O=D+(C<<9&4294967295|C>>>23),C=N+(D^R&(O^D))+q[11]+643717713&4294967295,N=O+(C<<14&4294967295|C>>>18),C=R+(O^D&(N^O))+q[0]+3921069994&4294967295,R=N+(C<<20&4294967295|C>>>12),C=D+(N^O&(R^N))+q[5]+3593408605&4294967295,D=R+(C<<5&4294967295|C>>>27),C=O+(R^N&(D^R))+q[10]+38016083&4294967295,O=D+(C<<9&4294967295|C>>>23),C=N+(D^R&(O^D))+q[15]+3634488961&4294967295,N=O+(C<<14&4294967295|C>>>18),C=R+(O^D&(N^O))+q[4]+3889429448&4294967295,R=N+(C<<20&4294967295|C>>>12),C=D+(N^O&(R^N))+q[9]+568446438&4294967295,D=R+(C<<5&4294967295|C>>>27),C=O+(R^N&(D^R))+q[14]+3275163606&4294967295,O=D+(C<<9&4294967295|C>>>23),C=N+(D^R&(O^D))+q[3]+4107603335&4294967295,N=O+(C<<14&4294967295|C>>>18),C=R+(O^D&(N^O))+q[8]+1163531501&4294967295,R=N+(C<<20&4294967295|C>>>12),C=D+(N^O&(R^N))+q[13]+2850285829&4294967295,D=R+(C<<5&4294967295|C>>>27),C=O+(R^N&(D^R))+q[2]+4243563512&4294967295,O=D+(C<<9&4294967295|C>>>23),C=N+(D^R&(O^D))+q[7]+1735328473&4294967295,N=O+(C<<14&4294967295|C>>>18),C=R+(O^D&(N^O))+q[12]+2368359562&4294967295,R=N+(C<<20&4294967295|C>>>12),C=D+(R^N^O)+q[5]+4294588738&4294967295,D=R+(C<<4&4294967295|C>>>28),C=O+(D^R^N)+q[8]+2272392833&4294967295,O=D+(C<<11&4294967295|C>>>21),C=N+(O^D^R)+q[11]+1839030562&4294967295,N=O+(C<<16&4294967295|C>>>16),C=R+(N^O^D)+q[14]+4259657740&4294967295,R=N+(C<<23&4294967295|C>>>9),C=D+(R^N^O)+q[1]+2763975236&4294967295,D=R+(C<<4&4294967295|C>>>28),C=O+(D^R^N)+q[4]+1272893353&4294967295,O=D+(C<<11&4294967295|C>>>21),C=N+(O^D^R)+q[7]+4139469664&4294967295,N=O+(C<<16&4294967295|C>>>16),C=R+(N^O^D)+q[10]+3200236656&4294967295,R=N+(C<<23&4294967295|C>>>9),C=D+(R^N^O)+q[13]+681279174&4294967295,D=R+(C<<4&4294967295|C>>>28),C=O+(D^R^N)+q[0]+3936430074&4294967295,O=D+(C<<11&4294967295|C>>>21),C=N+(O^D^R)+q[3]+3572445317&4294967295,N=O+(C<<16&4294967295|C>>>16),C=R+(N^O^D)+q[6]+76029189&4294967295,R=N+(C<<23&4294967295|C>>>9),C=D+(R^N^O)+q[9]+3654602809&4294967295,D=R+(C<<4&4294967295|C>>>28),C=O+(D^R^N)+q[12]+3873151461&4294967295,O=D+(C<<11&4294967295|C>>>21),C=N+(O^D^R)+q[15]+530742520&4294967295,N=O+(C<<16&4294967295|C>>>16),C=R+(N^O^D)+q[2]+3299628645&4294967295,R=N+(C<<23&4294967295|C>>>9),C=D+(N^(R|~O))+q[0]+4096336452&4294967295,D=R+(C<<6&4294967295|C>>>26),C=O+(R^(D|~N))+q[7]+1126891415&4294967295,O=D+(C<<10&4294967295|C>>>22),C=N+(D^(O|~R))+q[14]+2878612391&4294967295,N=O+(C<<15&4294967295|C>>>17),C=R+(O^(N|~D))+q[5]+4237533241&4294967295,R=N+(C<<21&4294967295|C>>>11),C=D+(N^(R|~O))+q[12]+1700485571&4294967295,D=R+(C<<6&4294967295|C>>>26),C=O+(R^(D|~N))+q[3]+2399980690&4294967295,O=D+(C<<10&4294967295|C>>>22),C=N+(D^(O|~R))+q[10]+4293915773&4294967295,N=O+(C<<15&4294967295|C>>>17),C=R+(O^(N|~D))+q[1]+2240044497&4294967295,R=N+(C<<21&4294967295|C>>>11),C=D+(N^(R|~O))+q[8]+1873313359&4294967295,D=R+(C<<6&4294967295|C>>>26),C=O+(R^(D|~N))+q[15]+4264355552&4294967295,O=D+(C<<10&4294967295|C>>>22),C=N+(D^(O|~R))+q[6]+2734768916&4294967295,N=O+(C<<15&4294967295|C>>>17),C=R+(O^(N|~D))+q[13]+1309151649&4294967295,R=N+(C<<21&4294967295|C>>>11),C=D+(N^(R|~O))+q[4]+4149444226&4294967295,D=R+(C<<6&4294967295|C>>>26),C=O+(R^(D|~N))+q[11]+3174756917&4294967295,O=D+(C<<10&4294967295|C>>>22),C=N+(D^(O|~R))+q[2]+718787259&4294967295,N=O+(C<<15&4294967295|C>>>17),C=R+(O^(N|~D))+q[9]+3951481745&4294967295,Y.g[0]=Y.g[0]+D&4294967295,Y.g[1]=Y.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,Y.g[2]=Y.g[2]+N&4294967295,Y.g[3]=Y.g[3]+O&4294967295}r.prototype.v=function(Y,D){D===void 0&&(D=Y.length);const R=D-this.blockSize,q=this.C;let N=this.h,O=0;for(;O<D;){if(N==0)for(;O<=R;)a(this,Y,O),O+=this.blockSize;if(typeof Y=="string"){for(;O<D;)if(q[N++]=Y.charCodeAt(O++),N==this.blockSize){a(this,q),N=0;break}}else for(;O<D;)if(q[N++]=Y[O++],N==this.blockSize){a(this,q),N=0;break}}this.h=N,this.o+=D},r.prototype.A=function(){var Y=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);Y[0]=128;for(var D=1;D<Y.length-8;++D)Y[D]=0;D=this.o*8;for(var R=Y.length-8;R<Y.length;++R)Y[R]=D&255,D/=256;for(this.v(Y),Y=Array(16),D=0,R=0;R<4;++R)for(let q=0;q<32;q+=8)Y[D++]=this.g[R]>>>q&255;return Y};function o(Y,D){var R=h;return Object.prototype.hasOwnProperty.call(R,Y)?R[Y]:R[Y]=D(Y)}function c(Y,D){this.h=D;const R=[];let q=!0;for(let N=Y.length-1;N>=0;N--){const O=Y[N]|0;q&&O==D||(R[N]=O,q=!1)}this.g=R}var h={};function f(Y){return-128<=Y&&Y<128?o(Y,function(D){return new c([D|0],D<0?-1:0)}):new c([Y|0],Y<0?-1:0)}function m(Y){if(isNaN(Y)||!isFinite(Y))return S;if(Y<0)return G(m(-Y));const D=[];let R=1;for(let q=0;Y>=R;q++)D[q]=Y/R|0,R*=4294967296;return new c(D,0)}function v(Y,D){if(Y.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(Y.charAt(0)=="-")return G(v(Y.substring(1),D));if(Y.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=m(Math.pow(D,8));let q=S;for(let O=0;O<Y.length;O+=8){var N=Math.min(8,Y.length-O);const C=parseInt(Y.substring(O,O+N),D);N<8?(N=m(Math.pow(D,N)),q=q.j(N).add(m(C))):(q=q.j(R),q=q.add(m(C)))}return q}var S=f(0),x=f(1),b=f(16777216);n=c.prototype,n.m=function(){if(B(this))return-G(this).m();let Y=0,D=1;for(let R=0;R<this.g.length;R++){const q=this.i(R);Y+=(q>=0?q:4294967296+q)*D,D*=4294967296}return Y},n.toString=function(Y){if(Y=Y||10,Y<2||36<Y)throw Error("radix out of range: "+Y);if(U(this))return"0";if(B(this))return"-"+G(this).toString(Y);const D=m(Math.pow(Y,6));var R=this;let q="";for(;;){const N=et(R,D).g;R=F(R,N.j(D));let O=((R.g.length>0?R.g[0]:R.h)>>>0).toString(Y);if(R=N,U(R))return O+q;for(;O.length<6;)O="0"+O;q=O+q}},n.i=function(Y){return Y<0?0:Y<this.g.length?this.g[Y]:this.h};function U(Y){if(Y.h!=0)return!1;for(let D=0;D<Y.g.length;D++)if(Y.g[D]!=0)return!1;return!0}function B(Y){return Y.h==-1}n.l=function(Y){return Y=F(this,Y),B(Y)?-1:U(Y)?0:1};function G(Y){const D=Y.g.length,R=[];for(let q=0;q<D;q++)R[q]=~Y.g[q];return new c(R,~Y.h).add(x)}n.abs=function(){return B(this)?G(this):this},n.add=function(Y){const D=Math.max(this.g.length,Y.g.length),R=[];let q=0;for(let N=0;N<=D;N++){let O=q+(this.i(N)&65535)+(Y.i(N)&65535),C=(O>>>16)+(this.i(N)>>>16)+(Y.i(N)>>>16);q=C>>>16,O&=65535,C&=65535,R[N]=C<<16|O}return new c(R,R[R.length-1]&-2147483648?-1:0)};function F(Y,D){return Y.add(G(D))}n.j=function(Y){if(U(this)||U(Y))return S;if(B(this))return B(Y)?G(this).j(G(Y)):G(G(this).j(Y));if(B(Y))return G(this.j(G(Y)));if(this.l(b)<0&&Y.l(b)<0)return m(this.m()*Y.m());const D=this.g.length+Y.g.length,R=[];for(var q=0;q<2*D;q++)R[q]=0;for(q=0;q<this.g.length;q++)for(let N=0;N<Y.g.length;N++){const O=this.i(q)>>>16,C=this.i(q)&65535,ot=Y.i(N)>>>16,xt=Y.i(N)&65535;R[2*q+2*N]+=C*xt,st(R,2*q+2*N),R[2*q+2*N+1]+=O*xt,st(R,2*q+2*N+1),R[2*q+2*N+1]+=C*ot,st(R,2*q+2*N+1),R[2*q+2*N+2]+=O*ot,st(R,2*q+2*N+2)}for(Y=0;Y<D;Y++)R[Y]=R[2*Y+1]<<16|R[2*Y];for(Y=D;Y<2*D;Y++)R[Y]=0;return new c(R,0)};function st(Y,D){for(;(Y[D]&65535)!=Y[D];)Y[D+1]+=Y[D]>>>16,Y[D]&=65535,D++}function Z(Y,D){this.g=Y,this.h=D}function et(Y,D){if(U(D))throw Error("division by zero");if(U(Y))return new Z(S,S);if(B(Y))return D=et(G(Y),D),new Z(G(D.g),G(D.h));if(B(D))return D=et(Y,G(D)),new Z(G(D.g),D.h);if(Y.g.length>30){if(B(Y)||B(D))throw Error("slowDivide_ only works with positive integers.");for(var R=x,q=D;q.l(Y)<=0;)R=bt(R),q=bt(q);var N=St(R,1),O=St(q,1);for(q=St(q,2),R=St(R,2);!U(q);){var C=O.add(q);C.l(Y)<=0&&(N=N.add(R),O=C),q=St(q,1),R=St(R,1)}return D=F(Y,N.j(D)),new Z(N,D)}for(N=S;Y.l(D)>=0;){for(R=Math.max(1,Math.floor(Y.m()/D.m())),q=Math.ceil(Math.log(R)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),O=m(R),C=O.j(D);B(C)||C.l(Y)>0;)R-=q,O=m(R),C=O.j(D);U(O)&&(O=x),N=N.add(O),Y=F(Y,C)}return new Z(N,Y)}n.B=function(Y){return et(this,Y).h},n.and=function(Y){const D=Math.max(this.g.length,Y.g.length),R=[];for(let q=0;q<D;q++)R[q]=this.i(q)&Y.i(q);return new c(R,this.h&Y.h)},n.or=function(Y){const D=Math.max(this.g.length,Y.g.length),R=[];for(let q=0;q<D;q++)R[q]=this.i(q)|Y.i(q);return new c(R,this.h|Y.h)},n.xor=function(Y){const D=Math.max(this.g.length,Y.g.length),R=[];for(let q=0;q<D;q++)R[q]=this.i(q)^Y.i(q);return new c(R,this.h^Y.h)};function bt(Y){const D=Y.g.length+1,R=[];for(let q=0;q<D;q++)R[q]=Y.i(q)<<1|Y.i(q-1)>>>31;return new c(R,Y.h)}function St(Y,D){const R=D>>5;D%=32;const q=Y.g.length-R,N=[];for(let O=0;O<q;O++)N[O]=D>0?Y.i(O+R)>>>D|Y.i(O+R+1)<<32-D:Y.i(O+R);return new c(N,Y.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Mw=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,xu=c}).apply(typeof xv<"u"?xv:typeof self<"u"?self:typeof window<"u"?window:{});var hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jw,Of,Uw,Cp,W1,Vw,Bw,Fw;(function(){var n,t=Object.defineProperty;function e(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof hp=="object"&&hp];for(var E=0;E<p.length;++E){var L=p[E];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=e(this);function a(p,E){if(E)t:{var L=r;p=p.split(".");for(var Q=0;Q<p.length-1;Q++){var wt=p[Q];if(!(wt in L))break t;L=L[wt]}p=p[p.length-1],Q=L[p],E=E(Q),E!=Q&&E!=null&&t(L,p,{configurable:!0,writable:!0,value:E})}}a("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(p){return p||function(E){var L=[],Q;for(Q in E)Object.prototype.hasOwnProperty.call(E,Q)&&L.push([Q,E[Q]]);return L}});var o=o||{},c=this||self;function h(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function f(p,E,L){return p.call.apply(p.bind,arguments)}function m(p,E,L){return m=f,m.apply(null,arguments)}function v(p,E){var L=Array.prototype.slice.call(arguments,1);return function(){var Q=L.slice();return Q.push.apply(Q,arguments),p.apply(this,Q)}}function S(p,E){function L(){}L.prototype=E.prototype,p.Z=E.prototype,p.prototype=new L,p.prototype.constructor=p,p.Ob=function(Q,wt,Lt){for(var $t=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)$t[qe-2]=arguments[qe];return E.prototype[wt].apply(Q,$t)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function b(p){const E=p.length;if(E>0){const L=Array(E);for(let Q=0;Q<E;Q++)L[Q]=p[Q];return L}return[]}function U(p,E){for(let Q=1;Q<arguments.length;Q++){const wt=arguments[Q];var L=typeof wt;if(L=L!="object"?L:wt?Array.isArray(wt)?"array":L:"null",L=="array"||L=="object"&&typeof wt.length=="number"){L=p.length||0;const Lt=wt.length||0;p.length=L+Lt;for(let $t=0;$t<Lt;$t++)p[L+$t]=wt[$t]}else p.push(wt)}}class B{constructor(E,L){this.i=E,this.j=L,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function G(p){c.setTimeout(()=>{throw p},0)}function F(){var p=Y;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class st{constructor(){this.h=this.g=null}add(E,L){const Q=Z.get();Q.set(E,L),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var Z=new B(()=>new et,p=>p.reset());class et{constructor(){this.next=this.g=this.h=null}set(E,L){this.h=E,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let bt,St=!1,Y=new st,D=()=>{const p=Promise.resolve(void 0);bt=()=>{p.then(R)}};function R(){for(var p;p=F();){try{p.h.call(p.g)}catch(L){G(L)}var E=Z;E.j(p),E.h<100&&(E.h++,p.next=E.g,E.g=p)}St=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const L=()=>{};c.addEventListener("test",L,E),c.removeEventListener("test",L,E)}catch{}return p})();function C(p){return/^[\s\xa0]*$/.test(p)}function ot(p,E){N.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,E)}S(ot,N),ot.prototype.init=function(p,E){const L=this.type=p.type,Q=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget,E||(L=="mouseover"?E=p.fromElement:L=="mouseout"&&(E=p.toElement)),this.relatedTarget=E,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),at=0;function pt(p,E,L,Q,wt){this.listener=p,this.proxy=null,this.src=E,this.type=L,this.capture=!!Q,this.ha=wt,this.key=++at,this.da=this.fa=!1}function ft(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ct(p,E,L){for(const Q in p)E.call(L,p[Q],Q,p)}function Ht(p,E){for(const L in p)E.call(void 0,p[L],L,p)}function $(p){const E={};for(const L in p)E[L]=p[L];return E}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(p,E){let L,Q;for(let wt=1;wt<arguments.length;wt++){Q=arguments[wt];for(L in Q)p[L]=Q[L];for(let Lt=0;Lt<k.length;Lt++)L=k[Lt],Object.prototype.hasOwnProperty.call(Q,L)&&(p[L]=Q[L])}}function J(p){this.src=p,this.g={},this.h=0}J.prototype.add=function(p,E,L,Q,wt){const Lt=p.toString();p=this.g[Lt],p||(p=this.g[Lt]=[],this.h++);const $t=ct(p,E,Q,wt);return $t>-1?(E=p[$t],L||(E.fa=!1)):(E=new pt(E,this.src,Lt,!!Q,wt),E.fa=L,p.push(E)),E};function lt(p,E){const L=E.type;if(L in p.g){var Q=p.g[L],wt=Array.prototype.indexOf.call(Q,E,void 0),Lt;(Lt=wt>=0)&&Array.prototype.splice.call(Q,wt,1),Lt&&(ft(E),p.g[L].length==0&&(delete p.g[L],p.h--))}}function ct(p,E,L,Q){for(let wt=0;wt<p.length;++wt){const Lt=p[wt];if(!Lt.da&&Lt.listener==E&&Lt.capture==!!L&&Lt.ha==Q)return wt}return-1}var gt="closure_lm_"+(Math.random()*1e6|0),kt={};function Rt(p,E,L,Q,wt){if(Array.isArray(E)){for(let Lt=0;Lt<E.length;Lt++)Rt(p,E[Lt],L,Q,wt);return null}return L=Te(L),p&&p[xt]?p.J(E,L,h(Q)?!!Q.capture:!1,wt):Vt(p,E,L,!1,Q,wt)}function Vt(p,E,L,Q,wt,Lt){if(!E)throw Error("Invalid event type");const $t=h(wt)?!!wt.capture:!!wt;let qe=Zt(p);if(qe||(p[gt]=qe=new J(p)),L=qe.add(E,L,Q,$t,Lt),L.proxy)return L;if(Q=Xt(),L.proxy=Q,Q.src=p,Q.listener=L,p.addEventListener)O||(wt=$t),wt===void 0&&(wt=!1),p.addEventListener(E.toString(),Q,wt);else if(p.attachEvent)p.attachEvent(ce(E.toString()),Q);else if(p.addListener&&p.removeListener)p.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Xt(){function p(L){return E.call(p.src,p.listener,L)}const E=tt;return p}function ee(p,E,L,Q,wt){if(Array.isArray(E))for(var Lt=0;Lt<E.length;Lt++)ee(p,E[Lt],L,Q,wt);else Q=h(Q)?!!Q.capture:!!Q,L=Te(L),p&&p[xt]?(p=p.i,Lt=String(E).toString(),Lt in p.g&&(E=p.g[Lt],L=ct(E,L,Q,wt),L>-1&&(ft(E[L]),Array.prototype.splice.call(E,L,1),E.length==0&&(delete p.g[Lt],p.h--)))):p&&(p=Zt(p))&&(E=p.g[E.toString()],p=-1,E&&(p=ct(E,L,Q,wt)),(L=p>-1?E[p]:null)&&te(L))}function te(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[xt])lt(E.i,p);else{var L=p.type,Q=p.proxy;E.removeEventListener?E.removeEventListener(L,Q,p.capture):E.detachEvent?E.detachEvent(ce(L),Q):E.addListener&&E.removeListener&&E.removeListener(Q),(L=Zt(E))?(lt(L,p),L.h==0&&(L.src=null,E[gt]=null)):ft(p)}}}function ce(p){return p in kt?kt[p]:kt[p]="on"+p}function tt(p,E){if(p.da)p=!0;else{E=new ot(E,this);const L=p.listener,Q=p.ha||p.src;p.fa&&te(p),p=L.call(Q,E)}return p}function Zt(p){return p=p[gt],p instanceof J?p:null}var Ke="__closure_events_fn_"+(Math.random()*1e9>>>0);function Te(p){return typeof p=="function"?p:(p[Ke]||(p[Ke]=function(E){return p.handleEvent(E)}),p[Ke])}function Ft(){q.call(this),this.i=new J(this),this.M=this,this.G=null}S(Ft,q),Ft.prototype[xt]=!0,Ft.prototype.removeEventListener=function(p,E,L,Q){ee(this,p,E,L,Q)};function se(p,E){var L,Q=p.G;if(Q)for(L=[];Q;Q=Q.G)L.push(Q);if(p=p.M,Q=E.type||E,typeof E=="string")E=new N(E,p);else if(E instanceof N)E.target=E.target||p;else{var wt=E;E=new N(Q,p),K(E,wt)}wt=!0;let Lt,$t;if(L)for($t=L.length-1;$t>=0;$t--)Lt=E.g=L[$t],wt=re(Lt,Q,!0,E)&&wt;if(Lt=E.g=p,wt=re(Lt,Q,!0,E)&&wt,wt=re(Lt,Q,!1,E)&&wt,L)for($t=0;$t<L.length;$t++)Lt=E.g=L[$t],wt=re(Lt,Q,!1,E)&&wt}Ft.prototype.N=function(){if(Ft.Z.N.call(this),this.i){var p=this.i;for(const E in p.g){const L=p.g[E];for(let Q=0;Q<L.length;Q++)ft(L[Q]);delete p.g[E],p.h--}}this.G=null},Ft.prototype.J=function(p,E,L,Q){return this.i.add(String(p),E,!1,L,Q)},Ft.prototype.K=function(p,E,L,Q){return this.i.add(String(p),E,!0,L,Q)};function re(p,E,L,Q){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();let wt=!0;for(let Lt=0;Lt<E.length;++Lt){const $t=E[Lt];if($t&&!$t.da&&$t.capture==L){const qe=$t.listener,Jn=$t.ha||$t.src;$t.fa&&lt(p.i,$t),wt=qe.call(Jn,Q)!==!1&&wt}}return wt&&!Q.defaultPrevented}function Ie(p,E){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=m(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:c.setTimeout(p,E||0)}function be(p){p.g=Ie(()=>{p.g=null,p.i&&(p.i=!1,be(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class We extends q{constructor(E,L){super(),this.m=E,this.l=L,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:be(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ze(p){q.call(this),this.h=p,this.g={}}S(Ze,q);var Be=[];function an(p){Ct(p.g,function(E,L){this.g.hasOwnProperty(L)&&te(E)},p),p.g={}}Ze.prototype.N=function(){Ze.Z.N.call(this),an(this)},Ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=c.JSON.stringify,ge=c.JSON.parse,He=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function ye(){}function ui(){}var $e={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ne(){N.call(this,"d")}S(Ne,N);function je(){N.call(this,"c")}S(je,N);var Qe={},Ae=null;function Cn(){return Ae=Ae||new Ft}Qe.Ia="serverreachability";function Pe(p){N.call(this,Qe.Ia,p)}S(Pe,N);function Me(p){const E=Cn();se(E,new Pe(E))}Qe.STAT_EVENT="statevent";function kn(p,E){N.call(this,Qe.STAT_EVENT,p),this.stat=E}S(kn,N);function we(p){const E=Cn();se(E,new kn(E,p))}Qe.Ja="timingevent";function ve(p,E){N.call(this,Qe.Ja,p),this.size=E}S(ve,N);function on(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},E)}function ur(){this.g=!0}ur.prototype.ua=function(){this.g=!1};function Ji(p,E,L,Q,wt,Lt){p.info(function(){if(p.g)if(Lt){var $t="",qe=Lt.split("&");for(let un=0;un<qe.length;un++){var Jn=qe[un].split("=");if(Jn.length>1){const Pn=Jn[0];Jn=Jn[1];const nr=Pn.split("_");$t=nr.length>=2&&nr[1]=="type"?$t+(Pn+"="+Jn+"&"):$t+(Pn+"=redacted&")}}}else $t=null;else $t=Lt;return"XMLHTTP REQ ("+Q+") [attempt "+wt+"]: "+E+`
`+L+`
`+$t})}function Is(p,E,L,Q,wt,Lt,$t){p.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+wt+"]: "+E+`
`+L+`
`+Lt+" "+$t})}function qi(p,E,L,Q){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+Js(p,L)+(Q?" "+Q:"")})}function Se(p,E){p.info(function(){return"TIMEOUT: "+E})}ur.prototype.info=function(){};function Js(p,E){if(!p.g)return E;if(!E)return null;try{const Lt=JSON.parse(E);if(Lt){for(p=0;p<Lt.length;p++)if(Array.isArray(Lt[p])){var L=Lt[p];if(!(L.length<2)){var Q=L[1];if(Array.isArray(Q)&&!(Q.length<1)){var wt=Q[0];if(wt!="noop"&&wt!="stop"&&wt!="close")for(let $t=1;$t<Q.length;$t++)Q[$t]=""}}}}return Xe(Lt)}catch{return E}}var Fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Er={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xr;function Fn(){}S(Fn,ye),Fn.prototype.g=function(){return new XMLHttpRequest},xr=new Fn;function Xn(p){return encodeURIComponent(String(p))}function ki(p){var E=1;p=p.split(":");const L=[];for(;E>0&&p.length;)L.push(p.shift()),E--;return p.length&&L.push(p.join(":")),L}function cr(p,E,L,Q){this.j=p,this.i=E,this.l=L,this.S=Q||1,this.V=new Ze(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zi}function Zi(){this.i=null,this.g="",this.h=!1}var On={},Hn={};function Oi(p,E,L){p.M=1,p.A=va(vi(E)),p.u=L,p.R=!0,Tr(p,null)}function Tr(p,E){p.F=Date.now(),Nr(p),p.B=vi(p.A);var L=p.B,Q=p.S;Array.isArray(Q)||(Q=[String(Q)]),wo(L.i,"t",Q),p.C=0,L=p.j.L,p.h=new Zi,p.g=le(p.j,L?E:null,!p.u),p.P>0&&(p.O=new We(m(p.Y,p,p.g),p.P)),E=p.V,L=p.g,Q=p.ba;var wt="readystatechange";Array.isArray(wt)||(wt&&(Be[0]=wt.toString()),wt=Be);for(let Lt=0;Lt<wt.length;Lt++){const $t=Rt(L,wt[Lt],Q||E.handleEvent,!1,E.h||E);if(!$t)break;E.g[$t.key]=$t}E=p.J?$(p.J):{},p.u?(p.v||(p.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,E)):(p.v="GET",p.g.ea(p.B,p.v,null,E)),Me(),Ji(p.i,p.v,p.B,p.l,p.S,p.u)}cr.prototype.ba=function(p){p=p.target;const E=this.O;E&&Kr(p)==3?E.j():this.Y(p)},cr.prototype.Y=function(p){try{if(p==this.g)t:{const qe=Kr(this.g),Jn=this.g.ya(),un=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||Ti(this.g)))){this.K||qe!=4||Jn==7||(Jn==8||un<=0?Me(3):Me(2)),zr(this);var E=this.g.ca();this.X=E;var L=ns(this);if(this.o=E==200,Is(this.i,this.v,this.B,this.l,this.S,qe,E),this.o){if(this.U&&!this.L){e:{if(this.g){var Q,wt=this.g;if((Q=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(Q)){var Lt=Q;break e}}Lt=null}if(p=Lt)qi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,is(this,p);else{this.o=!1,this.m=3,we(12),qr(this),hr(this);break t}}if(this.R){p=!0;let Pn;for(;!this.K&&this.C<L.length;)if(Pn=vs(this,L),Pn==Hn){qe==4&&(this.m=4,we(14),p=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==On){this.m=4,we(15),qi(this.i,this.l,L,"[Invalid Chunk]"),p=!1;break}else qi(this.i,this.l,Pn,null),is(this,Pn);if(ya(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||L.length!=0||this.h.h||(this.m=1,we(16),p=!1),this.o=this.o&&p,!p)qi(this.i,this.l,L,"[Invalid Chunked Response]"),qr(this),hr(this);else if(L.length>0&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.aa&&!$t.P&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),xo($t),$t.P=!0,we(11))}}else qi(this.i,this.l,L,null),is(this,L);qe==4&&qr(this),this.o&&!this.K&&(qe==4?it(this.j,this):(this.o=!1,Nr(this)))}else Cs(this.g),E==400&&L.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),qr(this),hr(this)}}}catch{}};function ns(p){if(!ya(p))return p.g.la();const E=Ti(p.g);if(E==="")return"";let L="";const Q=E.length,wt=Kr(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return qr(p),hr(p),"";p.h.i=new c.TextDecoder}for(let Lt=0;Lt<Q;Lt++)p.h.h=!0,L+=p.h.i.decode(E[Lt],{stream:!(wt&&Lt==Q-1)});return E.length=0,p.h.g+=L,p.C=0,p.h.g}function ya(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function vs(p,E){var L=p.C,Q=E.indexOf(`
`,L);return Q==-1?Hn:(L=Number(E.substring(L,Q)),isNaN(L)?On:(Q+=1,Q+L>E.length?Hn:(E=E.slice(Q,Q+L),p.C=Q+L,E)))}cr.prototype.cancel=function(){this.K=!0,qr(this)};function Nr(p){p.T=Date.now()+p.H,Zs(p,p.H)}function Zs(p,E){if(p.D!=null)throw Error("WatchDog timer not null");p.D=on(m(p.aa,p),E)}function zr(p){p.D&&(c.clearTimeout(p.D),p.D=null)}cr.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Se(this.i,this.B),this.M!=2&&(Me(),we(17)),qr(this),this.m=2,hr(this)):Zs(this,this.T-p)};function hr(p){p.j.I==0||p.K||it(p.j,p)}function qr(p){zr(p);var E=p.O;E&&typeof E.dispose=="function"&&E.dispose(),p.O=null,an(p.V),p.g&&(E=p.g,p.g=null,E.abort(),E.dispose())}function is(p,E){try{var L=p.j;if(L.I!=0&&(L.g==p||_s(L.h,p))){if(!p.L&&_s(L.h,p)&&L.I==3){try{var Q=L.Ba.g.parse(E)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var wt=Q;if(wt[0]==0){t:if(!L.v){if(L.g)if(L.g.F+3e3<p.F)P(L),Ls(L);else break t;As(L),we(18)}}else L.xa=wt[1],0<L.xa-L.K&&wt[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=on(m(L.Va,L),6e3));rs(L.h)<=1&&L.ta&&(L.ta=void 0)}else vt(L,11)}else if((p.L||L.g==p)&&P(L),!C(E))for(wt=L.Ba.g.parse(E),E=0;E<wt.length;E++){let un=wt[E];const Pn=un[0];if(!(Pn<=L.K))if(L.K=Pn,un=un[1],L.I==2)if(un[0]=="c"){L.M=un[1],L.ba=un[2];const nr=un[3];nr!=null&&(L.ka=nr,L.j.info("VER="+L.ka));const dr=un[4];dr!=null&&(L.za=dr,L.j.info("SVER="+L.za));const Gn=un[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(Q=1.5*Gn,L.O=Q,L.j.info("backChannelRequestTimeoutMs_="+Q)),Q=L;const pr=p.g;if(pr){const Ss=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var Lt=Q.h;Lt.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(Lt.j=Lt.l,Lt.g=new Set,Lt.h&&(Fa(Lt,Lt.h),Lt.h=null))}if(Q.G){const Sa=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(Q.wa=Sa,yn(Q.J,Q.G,Sa))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-p.F,L.j.info("Handshake RTT: "+L.T+"ms")),Q=L;var $t=p;if(Q.na=Kt(Q,Q.L?Q.ba:null,Q.W),$t.L){_o(Q.h,$t);var qe=$t,Jn=Q.O;Jn&&(qe.H=Jn),qe.D&&(zr(qe),Nr(qe)),Q.g=$t}else al(Q);L.i.length>0&&as(L)}else un[0]!="stop"&&un[0]!="close"||vt(L,7);else L.I==3&&(un[0]=="stop"||un[0]=="close"?un[0]=="stop"?vt(L,7):Aa(L):un[0]!="noop"&&L.l&&L.l.qa(un),L.A=0)}}Me(4)}catch{}}var fi=class{constructor(p,E){this.g=p,this.map=E}};function vo(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ir(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function rs(p){return p.h?1:p.g?p.g.size:0}function _s(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function Fa(p,E){p.g?p.g.add(E):p.h=E}function _o(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}vo.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function bo(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const L of p.g.values())E=E.concat(L.G);return E}return b(p.i)}var tl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hr(p,E){if(p){p=p.split("&");for(let L=0;L<p.length;L++){const Q=p[L].indexOf("=");let wt,Lt=null;Q>=0?(wt=p[L].substring(0,Q),Lt=p[L].substring(Q+1)):wt=p[L],E(wt,Lt?decodeURIComponent(Lt.replace(/\+/g," ")):"")}}}function tr(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;p instanceof tr?(this.l=p.l,hn(this,p.j),this.o=p.o,this.g=p.g,ta(this,p.u),this.h=p.h,ss(this,Ao(p.i)),this.m=p.m):p&&(E=String(p).match(tl))?(this.l=!1,hn(this,E[1]||"",!0),this.o=xi(E[2]||""),this.g=xi(E[3]||"",!0),ta(this,E[4]),this.h=xi(E[5]||"",!0),ss(this,E[6]||"",!0),this.m=xi(E[7]||"")):(this.l=!1,this.i=new ea(null,this.l))}tr.prototype.toString=function(){const p=[];var E=this.j;E&&p.push(ri(E,za,!0),":");var L=this.g;return(L||E=="file")&&(p.push("//"),(E=this.o)&&p.push(ri(E,za,!0),"@"),p.push(Xn(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&p.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&p.push("/"),p.push(ri(L,L.charAt(0)=="/"?el:Ul,!0))),(L=this.i.toString())&&p.push("?",L),(L=this.m)&&p.push("#",ri(L,nl)),p.join("")},tr.prototype.resolve=function(p){const E=vi(this);let L=!!p.j;L?hn(E,p.j):L=!!p.o,L?E.o=p.o:L=!!p.g,L?E.g=p.g:L=p.u!=null;var Q=p.h;if(L)ta(E,p.u);else if(L=!!p.h){if(Q.charAt(0)!="/")if(this.g&&!this.h)Q="/"+Q;else{var wt=E.h.lastIndexOf("/");wt!=-1&&(Q=E.h.slice(0,wt+1)+Q)}if(wt=Q,wt==".."||wt==".")Q="";else if(wt.indexOf("./")!=-1||wt.indexOf("/.")!=-1){Q=wt.lastIndexOf("/",0)==0,wt=wt.split("/");const Lt=[];for(let $t=0;$t<wt.length;){const qe=wt[$t++];qe=="."?Q&&$t==wt.length&&Lt.push(""):qe==".."?((Lt.length>1||Lt.length==1&&Lt[0]!="")&&Lt.pop(),Q&&$t==wt.length&&Lt.push("")):(Lt.push(qe),Q=!0)}Q=Lt.join("/")}else Q=wt}return L?E.h=Q:L=p.i.toString()!=="",L?ss(E,Ao(p.i)):L=!!p.m,L&&(E.m=p.m),E};function vi(p){return new tr(p)}function hn(p,E,L){p.j=L?xi(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function ta(p,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);p.u=E}else p.u=null}function ss(p,E,L){E instanceof ea?(p.i=E,Cr(p.i,p.l)):(L||(E=ri(E,fr)),p.i=new ea(E,p.l))}function yn(p,E,L){p.i.set(E,L)}function va(p){return yn(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function xi(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function ri(p,E,L){return typeof p=="string"?(p=encodeURI(p).replace(E,_i),L&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function _i(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var za=/[#\/\?@]/g,Ul=/[#\?:]/g,el=/[#\?]/g,fr=/[#\?@]/g,nl=/#/g;function ea(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Hi(p){p.g||(p.g=new Map,p.h=0,p.i&&Hr(p.i,function(E,L){p.add(decodeURIComponent(E.replace(/\+/g," ")),L)}))}n=ea.prototype,n.add=function(p,E){Hi(this),this.i=null,p=na(this,p);let L=this.g.get(p);return L||this.g.set(p,L=[]),L.push(E),this.h+=1,this};function _a(p,E){Hi(p),E=na(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function il(p,E){return Hi(p),E=na(p,E),p.g.has(E)}n.forEach=function(p,E){Hi(this),this.g.forEach(function(L,Q){L.forEach(function(wt){p.call(E,wt,Q,this)},this)},this)};function rl(p,E){Hi(p);let L=[];if(typeof E=="string")il(p,E)&&(L=L.concat(p.g.get(na(p,E))));else for(p=Array.from(p.g.values()),E=0;E<p.length;E++)L=L.concat(p[E]);return L}n.set=function(p,E){return Hi(this),this.i=null,p=na(this,p),il(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=rl(this,p),p.length>0?String(p[0]):E):E};function wo(p,E,L){_a(p,E),L.length>0&&(p.i=null,p.g.set(na(p,E),b(L)),p.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(let Q=0;Q<E.length;Q++){var L=E[Q];const wt=Xn(L);L=rl(this,L);for(let Lt=0;Lt<L.length;Lt++){let $t=wt;L[Lt]!==""&&($t+="="+Xn(L[Lt])),p.push($t)}}return this.i=p.join("&")};function Ao(p){const E=new ea;return E.i=p.i,p.g&&(E.g=new Map(p.g),E.h=p.h),E}function na(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function Cr(p,E){E&&!p.j&&(Hi(p),p.i=null,p.g.forEach(function(L,Q){const wt=Q.toLowerCase();Q!=wt&&(_a(this,Q),wo(this,wt,L))},p)),p.j=E}function bs(p,E){const L=new ur;if(c.Image){const Q=new Image;Q.onload=v(Rr,L,"TestLoadImage: loaded",!0,E,Q),Q.onerror=v(Rr,L,"TestLoadImage: error",!1,E,Q),Q.onabort=v(Rr,L,"TestLoadImage: abort",!1,E,Q),Q.ontimeout=v(Rr,L,"TestLoadImage: timeout",!1,E,Q),c.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=p}else E(!1)}function ia(p,E){const L=new ur,Q=new AbortController,wt=setTimeout(()=>{Q.abort(),Rr(L,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:Q.signal}).then(Lt=>{clearTimeout(wt),Lt.ok?Rr(L,"TestPingServer: ok",!0,E):Rr(L,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(wt),Rr(L,"TestPingServer: error",!1,E)})}function Rr(p,E,L,Q,wt){try{wt&&(wt.onload=null,wt.onerror=null,wt.onabort=null,wt.ontimeout=null),Q(L)}catch{}}function ba(){this.g=new He}function Ce(p){this.i=p.Sb||null,this.h=p.ab||!1}S(Ce,ye),Ce.prototype.g=function(){return new qa(this.i,this.h)};function qa(p,E){Ft.call(this),this.H=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(qa,Ft),n=qa.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=E,this.readyState=1,Gi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(E.body=p),(this.H||c).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wa(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Gi(this)),this.g&&(this.readyState=3,Gi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;So(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function So(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?wa(this):Gi(this),this.readyState==3&&So(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,wa(this))},n.Na=function(p){this.g&&(this.response=p,wa(this))},n.ga=function(){this.g&&wa(this)};function wa(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Gi(p)}n.setRequestHeader=function(p,E){this.A.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var L=E.next();!L.done;)L=L.value,p.push(L[0]+": "+L[1]),L=E.next();return p.join(`\r
`)};function Gi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Di(p){let E="";return Ct(p,function(L,Q){E+=Q,E+=":",E+=L,E+=`\r
`}),E}function Ha(p,E,L){t:{for(Q in L){var Q=!1;break t}Q=!0}Q||(L=Di(L),typeof p=="string"?L!=null&&Xn(L):yn(p,E,L))}function Dn(p){Ft.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Dn,Ft);var Gr=/^https?$/i,Ga=["POST","PUT"];n=Dn.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,E,L,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xr.g(),this.g.onreadystatechange=x(m(this.Ca,this));try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(Lt){ws(this,Lt);return}if(p=L||"",L=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var wt in Q)L.set(wt,Q[wt]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const Lt of Q.keys())L.set(Lt,Q.get(Lt));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(L.keys()).find(Lt=>Lt.toLowerCase()=="content-type"),wt=c.FormData&&p instanceof c.FormData,!(Array.prototype.indexOf.call(Ga,E,void 0)>=0)||Q||wt||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Lt,$t]of L)this.g.setRequestHeader(Lt,$t);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(Lt){ws(this,Lt)}};function ws(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.o=5,sl(p),ra(p)}function sl(p){p.A||(p.A=!0,se(p,"complete"),se(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,se(this,"complete"),se(this,"abort"),ra(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ra(this,!0)),Dn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Yr(this):this.Xa())},n.Xa=function(){Yr(this)};function Yr(p){if(p.h&&typeof o<"u"){if(p.v&&Kr(p)==4)setTimeout(p.Ca.bind(p),0);else if(se(p,"readystatechange"),Kr(p)==4){p.h=!1;try{const Lt=p.ca();t:switch(Lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var L;if(!(L=E)){var Q;if(Q=Lt===0){let $t=String(p.D).match(tl)[1]||null;!$t&&c.self&&c.self.location&&($t=c.self.location.protocol.slice(0,-1)),Q=!Gr.test($t?$t.toLowerCase():"")}L=Q}if(L)se(p,"complete"),se(p,"success");else{p.o=6;try{var wt=Kr(p)>2?p.g.statusText:""}catch{wt=""}p.l=wt+" ["+p.ca()+"]",sl(p)}}finally{ra(p)}}}}function ra(p,E){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const L=p.g;p.g=null,E||se(p,"ready");try{L.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Kr(p){return p.g?p.g.readyState:0}n.ca=function(){try{return Kr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),ge(E)}};function Ti(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Cs(p){const E={};p=(p.g&&Kr(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<p.length;Q++){if(C(p[Q]))continue;var L=ki(p[Q]);const wt=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Lt=E[wt]||[];E[wt]=Lt,Lt.push(L)}Ht(E,function(Q){return Q.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(p,E,L){return L&&L.internalChannelParams&&L.internalChannelParams[p]||E}function Rs(p){this.za=0,this.i=[],this.j=new ur,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=er("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=er("baseRetryDelayMs",5e3,p),this.Za=er("retryDelaySeedMs",1e4,p),this.Ta=er("forwardChannelMaxRetries",2,p),this.va=er("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new vo(p&&p.concurrentRequestLimit),this.Ba=new ba,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Rs.prototype,n.ka=8,n.I=1,n.connect=function(p,E,L,Q){we(0),this.W=p,this.H=E||{},L&&Q!==void 0&&(this.H.OSID=L,this.H.OAID=Q),this.F=this.X,this.J=Kt(this,null,this.W),as(this)};function Aa(p){if(ks(p),p.I==3){var E=p.V++,L=vi(p.J);if(yn(L,"SID",p.M),yn(L,"RID",E),yn(L,"TYPE","terminate"),Wr(p,L),E=new cr(p,p.j,E),E.M=2,E.A=va(vi(L)),L=!1,c.navigator&&c.navigator.sendBeacon)try{L=c.navigator.sendBeacon(E.A.toString(),"")}catch{}!L&&c.Image&&(new Image().src=E.A,L=!0),L||(E.g=le(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Nr(E)}jt(p)}function Ls(p){p.g&&(xo(p),p.g.cancel(),p.g=null)}function ks(p){Ls(p),p.v&&(c.clearTimeout(p.v),p.v=null),P(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&c.clearTimeout(p.m),p.m=null)}function as(p){if(!Ir(p.h)&&!p.m){p.m=!0;var E=p.Ea;bt||D(),St||(bt(),St=!0),Y.add(E,p),p.D=0}}function Ya(p,E){return rs(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=E.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=on(m(p.Ea,p,E),ht(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const wt=new cr(this,this.j,p);let Lt=this.o;if(this.U&&(Lt?(Lt=$(Lt),K(Lt,this.U)):Lt=this.U),this.u!==null||this.R||(wt.J=Lt,Lt=null),this.S)t:{for(var E=0,L=0;L<this.i.length;L++){e:{var Q=this.i[L];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break e}Q=void 0}if(Q===void 0)break;if(E+=Q,E>4096){E=L;break t}if(E===4096||L===this.i.length-1){E=L+1;break t}}E=1e3}else E=1e3;E=Os(this,wt,E),L=vi(this.J),yn(L,"RID",p),yn(L,"CVER",22),this.G&&yn(L,"X-HTTP-Session-Id",this.G),Wr(this,L),Lt&&(this.R?E="headers="+Xn(Di(Lt))+"&"+E:this.u&&Ha(L,this.u,Lt)),Fa(this.h,wt),this.Ra&&yn(L,"TYPE","init"),this.S?(yn(L,"$req",E),yn(L,"SID","null"),wt.U=!0,Oi(wt,L,null)):Oi(wt,L,E),this.I=2}}else this.I==3&&(p?Eo(this,p):this.i.length==0||Ir(this.h)||Eo(this))};function Eo(p,E){var L;E?L=E.l:L=p.V++;const Q=vi(p.J);yn(Q,"SID",p.M),yn(Q,"RID",L),yn(Q,"AID",p.K),Wr(p,Q),p.u&&p.o&&Ha(Q,p.u,p.o),L=new cr(p,p.j,L,p.D+1),p.u===null&&(L.J=p.o),E&&(p.i=E.G.concat(p.i)),E=Os(p,L,1e3),L.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Fa(p.h,L),Oi(L,Q,E)}function Wr(p,E){p.H&&Ct(p.H,function(L,Q){yn(E,Q,L)}),p.l&&Ct({},function(L,Q){yn(E,Q,L)})}function Os(p,E,L){L=Math.min(p.i.length,L);const Q=p.l?m(p.l.Ka,p.l,p):null;t:{var wt=p.i;let qe=-1;for(;;){const Jn=["count="+L];qe==-1?L>0?(qe=wt[0].g,Jn.push("ofs="+qe)):qe=0:Jn.push("ofs="+qe);let un=!0;for(let Pn=0;Pn<L;Pn++){var Lt=wt[Pn].g;const nr=wt[Pn].map;if(Lt-=qe,Lt<0)qe=Math.max(0,wt[Pn].g-100),un=!1;else try{Lt="req"+Lt+"_"||"";try{var $t=nr instanceof Map?nr:Object.entries(nr);for(const[dr,Gn]of $t){let pr=Gn;h(Gn)&&(pr=Xe(Gn)),Jn.push(Lt+dr+"="+encodeURIComponent(pr))}}catch(dr){throw Jn.push(Lt+"type="+encodeURIComponent("_badmap")),dr}}catch{Q&&Q(nr)}}if(un){$t=Jn.join("&");break t}}$t=void 0}return p=p.i.splice(0,L),E.G=p,$t}function al(p){if(!p.g&&!p.v){p.Y=1;var E=p.Da;bt||D(),St||(bt(),St=!0),Y.add(E,p),p.A=0}}function As(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=on(m(p.Da,p),ht(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,w(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=on(m(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Ls(this),w(this))};function xo(p){p.B!=null&&(c.clearTimeout(p.B),p.B=null)}function w(p){p.g=new cr(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var E=vi(p.na);yn(E,"RID","rpc"),yn(E,"SID",p.M),yn(E,"AID",p.K),yn(E,"CI",p.F?"0":"1"),!p.F&&p.ia&&yn(E,"TO",p.ia),yn(E,"TYPE","xmlhttp"),Wr(p,E),p.u&&p.o&&Ha(E,p.u,p.o),p.O&&(p.g.H=p.O);var L=p.g;p=p.ba,L.M=1,L.A=va(vi(E)),L.u=null,L.R=!0,Tr(L,p)}n.Va=function(){this.C!=null&&(this.C=null,Ls(this),As(this),we(19))};function P(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function it(p,E){var L=null;if(p.g==E){P(p),xo(p),p.g=null;var Q=2}else if(_s(p.h,E))L=E.G,_o(p.h,E),Q=1;else return;if(p.I!=0){if(E.o)if(Q==1){L=E.u?E.u.length:0,E=Date.now()-E.F;var wt=p.D;Q=Cn(),se(Q,new ve(Q,L)),as(p)}else al(p);else if(wt=E.m,wt==3||wt==0&&E.X>0||!(Q==1&&Ya(p,E)||Q==2&&As(p)))switch(L&&L.length>0&&(E=p.h,E.i=E.i.concat(L)),wt){case 1:vt(p,5);break;case 4:vt(p,10);break;case 3:vt(p,6);break;default:vt(p,2)}}}function ht(p,E){let L=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(L*=2),L*E}function vt(p,E){if(p.j.info("Error code "+E),E==2){var L=m(p.bb,p),Q=p.Ua;const wt=!Q;Q=new tr(Q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||hn(Q,"https"),va(Q),wt?bs(Q.toString(),L):ia(Q.toString(),L)}else we(2);p.I=0,p.l&&p.l.pa(E),jt(p),ks(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function jt(p){if(p.I=0,p.ja=[],p.l){const E=bo(p.h);(E.length!=0||p.i.length!=0)&&(U(p.ja,E),U(p.ja,p.i),p.h.i.length=0,b(p.i),p.i.length=0),p.l.oa()}}function Kt(p,E,L){var Q=L instanceof tr?vi(L):new tr(L);if(Q.g!="")E&&(Q.g=E+"."+Q.g),ta(Q,Q.u);else{var wt=c.location;Q=wt.protocol,E=E?E+"."+wt.hostname:wt.hostname,wt=+wt.port;const Lt=new tr(null);Q&&hn(Lt,Q),E&&(Lt.g=E),wt&&ta(Lt,wt),L&&(Lt.h=L),Q=Lt}return L=p.G,E=p.wa,L&&E&&yn(Q,L,E),yn(Q,"VER",p.ka),Wr(p,Q),Q}function le(p,E,L){if(E&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Aa&&!p.ma?new Dn(new Ce({ab:L})):new Dn(p.ma),E.Fa(p.L),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function de(){}n=de.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ke(){}ke.prototype.g=function(p,E){return new Ee(p,E)};function Ee(p,E){Ft.call(this),this.g=new Rs(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(p?p["X-WebChannel-Client-Profile"]=E.sa:p={"X-WebChannel-Client-Profile":E.sa}),this.g.U=p,(p=E&&E.Qb)&&!C(p)&&(this.g.u=p),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!C(E)&&(this.g.G=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new zn(this)}S(Ee,Ft),Ee.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ee.prototype.close=function(){Aa(this.g)},Ee.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var L={};L.__data__=p,p=L}else this.v&&(L={},L.__data__=Xe(p),p=L);E.i.push(new fi(E.Ya++,p)),E.I==3&&as(E)},Ee.prototype.N=function(){this.g.l=null,delete this.j,Aa(this.g),delete this.g,Ee.Z.N.call(this)};function fn(p){Ne.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){t:{for(const L in E){p=L;break t}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}S(fn,Ne);function $n(){je.call(this),this.status=1}S($n,je);function zn(p){this.g=p}S(zn,de),zn.prototype.ra=function(){se(this.g,"a")},zn.prototype.qa=function(p){se(this.g,new fn(p))},zn.prototype.pa=function(p){se(this.g,new $n)},zn.prototype.oa=function(){se(this.g,"b")},ke.prototype.createWebChannel=ke.prototype.g,Ee.prototype.send=Ee.prototype.o,Ee.prototype.open=Ee.prototype.m,Ee.prototype.close=Ee.prototype.close,Fw=function(){return new ke},Bw=function(){return Cn()},Vw=Qe,W1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,Cp=Fr,Er.COMPLETE="complete",Uw=Er,ui.EventType=$e,$e.OPEN="a",$e.CLOSE="b",$e.ERROR="c",$e.MESSAGE="d",Ft.prototype.listen=Ft.prototype.J,Of=ui,Dn.prototype.listenOnce=Dn.prototype.K,Dn.prototype.getLastError=Dn.prototype.Ha,Dn.prototype.getLastErrorCode=Dn.prototype.ya,Dn.prototype.getStatus=Dn.prototype.ca,Dn.prototype.getResponseJson=Dn.prototype.La,Dn.prototype.getResponseText=Dn.prototype.la,Dn.prototype.send=Dn.prototype.ea,Dn.prototype.setWithCredentials=Dn.prototype.Fa,jw=Dn}).apply(typeof hp<"u"?hp:typeof self<"u"?self:typeof window<"u"?window:{});class ms{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ms.UNAUTHENTICATED=new ms(null),ms.GOOGLE_CREDENTIALS=new ms("google-credentials-uid"),ms.FIRST_PARTY=new ms("first-party-uid"),ms.MOCK_USER=new ms("mock-user");let jh="12.9.0";function PT(n){jh=n}const dc=new x0("@firebase/firestore");function uh(){return dc.logLevel}function ue(n,...t){if(dc.logLevel<=bn.DEBUG){const e=t.map(M0);dc.debug(`Firestore (${jh}): ${n}`,...e)}}function Pl(n,...t){if(dc.logLevel<=bn.ERROR){const e=t.map(M0);dc.error(`Firestore (${jh}): ${n}`,...e)}}function Iu(n,...t){if(dc.logLevel<=bn.WARN){const e=t.map(M0);dc.warn(`Firestore (${jh}): ${n}`,...e)}}function M0(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function ze(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,zw(n,r,e)}function zw(n,t,e){let r=`FIRESTORE (${jh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Pl(r),new Error(r)}function qn(n,t,e,r){let a="Unexpected state";typeof e=="string"?a=e:r=e,n||zw(t,a,r)}function rn(n,t){return n}const qt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends $o{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ll{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class qw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Hw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(ms.UNAUTHENTICATED)))}shutdown(){}}class MT{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class jT{constructor(t){this.t=t,this.currentUser=ms.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){qn(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,e(f)):Promise.resolve();let o=new Ll;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ll,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ll)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qn(typeof r.accessToken=="string",31837,{l:r}),new qw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qn(t===null||typeof t=="string",2055,{h:t}),new ms(t)}}class UT{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=ms.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class VT{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new UT(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(ms.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BT{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ma(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){qn(this.o===void 0,3512);const r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>r(o)))};const a=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Tv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(qn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Tv(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function FT(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class ym{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=FT(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<e&&(r+=t.charAt(a[o]%62))}return r}}function wn(n,t){return n<t?-1:n>t?1:0}function Q1(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const a=n.charAt(r),o=t.charAt(r);if(a!==o)return d1(a)===d1(o)?wn(a,o):d1(a)?1:-1}return wn(n.length,t.length)}const zT=55296,qT=57343;function d1(n){const t=n.charCodeAt(0);return t>=zT&&t<=qT}function Ih(n,t,e){return n.length===t.length&&n.every(((r,a)=>e(r,t[a])))}const Nv="__name__";class zo{constructor(t,e,r){e===void 0?e=0:e>t.length&&ze(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&ze(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return zo.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof zo?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let a=0;a<r;a++){const o=zo.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return wn(t.length,e.length)}static compareSegments(t,e){const r=zo.isNumericId(t),a=zo.isNumericId(e);return r&&!a?-1:!r&&a?1:r&&a?zo.extractNumericId(t).compare(zo.extractNumericId(e)):Q1(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return xu.fromString(t.substring(4,t.length-2))}}class ci extends zo{construct(t,e,r){return new ci(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new ie(qt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((a=>a.length>0)))}return new ci(e)}static emptyPath(){return new ci([])}}const HT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vr extends zo{construct(t,e,r){return new Vr(t,e,r)}static isValidIdentifier(t){return HT.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vr.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nv}static keyField(){return new Vr([Nv])}static fromServerFormat(t){const e=[];let r="",a=0;const o=()=>{if(r.length===0)throw new ie(qt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new ie(qt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ie(qt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(r+=h,a++):(o(),a++)}if(o(),c)throw new ie(qt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Vr(e)}static emptyPath(){return new Vr([])}}class Le{constructor(t){this.path=t}static fromPath(t){return new Le(ci.fromString(t))}static fromName(t){return new Le(ci.fromString(t).popFirst(5))}static empty(){return new Le(ci.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ci.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ci.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Le(new ci(t.slice()))}}function Gw(n,t,e){if(!e)throw new ie(qt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Yw(n,t,e,r){if(t===!0&&r===!0)throw new ie(qt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Iv(n){if(!Le.isDocumentKey(n))throw new ie(qt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Cv(n){if(Le.isDocumentKey(n))throw new ie(qt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Kw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function vm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":ze(12329,{type:typeof n})}function Va(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ie(qt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=vm(n);throw new ie(qt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function lr(n,t){const e={typeString:n};return t&&(e.value=t),e}function ld(n,t){if(!Kw(n))throw new ie(qt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const a=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){e=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${r}' field to equal '${o.value}'`;break}}if(e)throw new ie(qt.INVALID_ARGUMENT,e);return!0}const Rv=-62135596800,Lv=1e6;class hi{static now(){return hi.fromMillis(Date.now())}static fromDate(t){return hi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*Lv);return new hi(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ie(qt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ie(qt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Rv)throw new ie(qt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ie(qt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lv}_compareTo(t){return this.seconds===t.seconds?wn(this.nanoseconds,t.nanoseconds):wn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:hi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ld(t,hi._jsonSchema))return new hi(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Rv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}hi._jsonSchemaVersion="firestore/timestamp/1.0",hi._jsonSchema={type:lr("string",hi._jsonSchemaVersion),seconds:lr("number"),nanoseconds:lr("number")};class Je{static fromTimestamp(t){return new Je(t)}static min(){return new Je(new hi(0,0))}static max(){return new Je(new hi(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qf=-1;function GT(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Je.fromTimestamp(r===1e9?new hi(e+1,0):new hi(e,r));return new Cu(a,Le.empty(),t)}function YT(n){return new Cu(n.readTime,n.key,Qf)}class Cu{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Cu(Je.min(),Le.empty(),Qf)}static max(){return new Cu(Je.max(),Le.empty(),Qf)}}function KT(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Le.comparator(n.documentKey,t.documentKey),e!==0?e:wn(n.largestBatchId,t.largestBatchId))}const WT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Uh(n){if(n.code!==qt.FAILED_PRECONDITION||n.message!==WT)throw n;ue("LocalStore","Unexpectedly lost primary lease")}class Wt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Wt(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(r,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Wt?e:Wt.resolve(e)}catch(e){return Wt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Wt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Wt.reject(e)}static resolve(t){return new Wt(((e,r)=>{e(t)}))}static reject(t){return new Wt(((e,r)=>{r(t)}))}static waitFor(t){return new Wt(((e,r)=>{let a=0,o=0,c=!1;t.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&e()}),(f=>r(f)))})),c=!0,o===a&&e()}))}static or(t){let e=Wt.resolve(!1);for(const r of t)e=e.next((a=>a?Wt.resolve(a):r()));return e}static forEach(t,e){const r=[];return t.forEach(((a,o)=>{r.push(e.call(this,a,o))})),this.waitFor(r)}static mapArray(t,e){return new Wt(((r,a)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;e(t[m]).next((v=>{c[m]=v,++h,h===o&&r(c)}),(v=>a(v)))}}))}static doWhile(t,e){return new Wt(((r,a)=>{const o=()=>{t()===!0?e().next((()=>{o()}),a):r()};o()}))}}function XT(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Vh(n){return n.name==="IndexedDbTransactionError"}class _m{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}_m.ce=-1;const j0=-1;function bm(n){return n==null}function Wp(n){return n===0&&1/n==-1/0}function $T(n){return typeof n=="number"&&Number.isInteger(n)&&!Wp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Ww="";function JT(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=kv(t)),t=ZT(n.get(e),t);return kv(t)}function ZT(n,t){let e=t;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":e+="";break;case Ww:e+="";break;default:e+=o}}return e}function kv(n){return n+Ww+""}function Ov(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ju(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Qw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Li{constructor(t,e){this.comparator=t,this.root=e||es.EMPTY}insert(t,e){return new Li(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,es.BLACK,null,null))}remove(t){return new Li(this.comparator,this.root.remove(t,this.comparator).copy(null,null,es.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return e+r.left.size;a<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fp(this.root,t,this.comparator,!1)}getReverseIterator(){return new fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fp(this.root,t,this.comparator,!0)}}class fp{constructor(t,e,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?r(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class es{constructor(t,e,r,a,o){this.key=t,this.value=e,this.color=r??es.RED,this.left=a??es.EMPTY,this.right=o??es.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,a,o){return new es(t??this.key,e??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let a=this;const o=r(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,r),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return es.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return es.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,es.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ze(27949);return t+(this.isRed()?0:1)}}es.EMPTY=null,es.RED=!0,es.BLACK=!1;es.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(t,e,r,a,o){return this}insert(t,e,r){return new es(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ar{constructor(t){this.comparator=t,this.data=new Li(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Dv(this.data.getIterator())}getIteratorFrom(t){return new Dv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Ar)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ar(this.comparator);return e.data=t,e}}class Dv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pa{constructor(t){this.fields=t,t.sort(Vr.comparator)}static empty(){return new pa([])}unionWith(t){let e=new Ar(Vr.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new pa(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ih(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class Xw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Br{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Xw("Invalid base64 string: "+o):o}})(t);return new Br(e)}static fromUint8Array(t){const e=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(t);return new Br(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return wn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Br.EMPTY_BYTE_STRING=new Br("");const tN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ru(n){if(qn(!!n,39018),typeof n=="string"){let t=0;const e=tN.exec(n);if(qn(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Wi(n.seconds),nanos:Wi(n.nanos)}}function Wi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Lu(n){return typeof n=="string"?Br.fromBase64String(n):Br.fromUint8Array(n)}const $w="server_timestamp",Jw="__type__",Zw="__previous_value__",t4="__local_write_time__";function U0(n){return(n?.mapValue?.fields||{})[Jw]?.stringValue===$w}function wm(n){const t=n.mapValue.fields[Zw];return U0(t)?wm(t):t}function Xf(n){const t=Ru(n.mapValue.fields[t4].timestampValue);return new hi(t.seconds,t.nanos)}class eN{constructor(t,e,r,a,o,c,h,f,m,v,S){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=v,this.apiKey=S}}const Qp="(default)";class Ch{constructor(t,e){this.projectId=t,this.database=e||Qp}static empty(){return new Ch("","")}get isDefaultDatabase(){return this.database===Qp}isEqual(t){return t instanceof Ch&&t.projectId===this.projectId&&t.database===this.database}}function nN(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ie(qt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ch(n.options.projectId,t)}const e4="__type__",iN="__max__",dp={mapValue:{}},n4="__vector__",Xp="value";function ku(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?U0(n)?4:sN(n)?9007199254740991:rN(n)?10:11:ze(28295,{value:n})}function Qo(n,t){if(n===t)return!0;const e=ku(n);if(e!==ku(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Xf(n).isEqual(Xf(t));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Ru(a.timestampValue),h=Ru(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,o){return Lu(a.bytesValue).isEqual(Lu(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,o){return Wi(a.geoPointValue.latitude)===Wi(o.geoPointValue.latitude)&&Wi(a.geoPointValue.longitude)===Wi(o.geoPointValue.longitude)})(n,t);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Wi(a.integerValue)===Wi(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Wi(a.doubleValue),h=Wi(o.doubleValue);return c===h?Wp(c)===Wp(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return Ih(n.arrayValue.values||[],t.arrayValue.values||[],Qo);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(Ov(c)!==Ov(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Qo(c[f],h[f])))return!1;return!0})(n,t);default:return ze(52216,{left:n})}}function $f(n,t){return(n.values||[]).find((e=>Qo(e,t)))!==void 0}function Rh(n,t){if(n===t)return 0;const e=ku(n),r=ku(t);if(e!==r)return wn(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return wn(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=Wi(o.integerValue||o.doubleValue),f=Wi(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return Pv(n.timestampValue,t.timestampValue);case 4:return Pv(Xf(n),Xf(t));case 5:return Q1(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=Lu(o),f=Lu(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const v=wn(h[m],f[m]);if(v!==0)return v}return wn(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=wn(Wi(o.latitude),Wi(c.latitude));return h!==0?h:wn(Wi(o.longitude),Wi(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return Mv(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},m=h[Xp]?.arrayValue,v=f[Xp]?.arrayValue,S=wn(m?.values?.length||0,v?.values?.length||0);return S!==0?S:Mv(m,v)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===dp.mapValue&&c===dp.mapValue)return 0;if(o===dp.mapValue)return 1;if(c===dp.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=c.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let S=0;S<f.length&&S<v.length;++S){const x=Q1(f[S],v[S]);if(x!==0)return x;const b=Rh(h[f[S]],m[v[S]]);if(b!==0)return b}return wn(f.length,v.length)})(n.mapValue,t.mapValue);default:throw ze(23264,{he:e})}}function Pv(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return wn(n,t);const e=Ru(n),r=Ru(t),a=wn(e.seconds,r.seconds);return a!==0?a:wn(e.nanos,r.nanos)}function Mv(n,t){const e=n.values||[],r=t.values||[];for(let a=0;a<e.length&&a<r.length;++a){const o=Rh(e[a],r[a]);if(o)return o}return wn(e.length,r.length)}function Lh(n){return X1(n)}function X1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Ru(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Lu(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Le.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",a=!0;for(const o of e.values||[])a?a=!1:r+=",",r+=X1(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${X1(e.fields[c])}`;return a+"}"})(n.mapValue):ze(61005,{value:n})}function Rp(n){switch(ku(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=wm(n);return t?16+Rp(t):16;case 5:return 2*n.stringValue.length;case 6:return Lu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+Rp(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return ju(r.fields,((o,c)=>{a+=o.length+Rp(c)})),a})(n.mapValue);default:throw ze(13486,{value:n})}}function jv(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function $1(n){return!!n&&"integerValue"in n}function V0(n){return!!n&&"arrayValue"in n}function Uv(n){return!!n&&"nullValue"in n}function Vv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lp(n){return!!n&&"mapValue"in n}function rN(n){return(n?.mapValue?.fields||{})[e4]?.stringValue===n4}function Vf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return ju(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Vf(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Vf(n.arrayValue.values[e]);return t}return{...n}}function sN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===iN}class Xs{constructor(t){this.value=t}static empty(){return new Xs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Lp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vf(e)}setAll(t){let e=Vr.emptyPath(),r={},a=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,r,a),r={},a=[],e=h.popLast()}c?r[h.lastSegment()]=Vf(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,r,a)}delete(t){const e=this.field(t.popLast());Lp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Qo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=e.mapValue.fields[t.get(r)];Lp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,r){ju(e,((a,o)=>t[a]=o));for(const a of r)delete t[a]}clone(){return new Xs(Vf(this.value))}}function i4(n){const t=[];return ju(n.fields,((e,r)=>{const a=new Vr([e]);if(Lp(r)){const o=i4(r.mapValue).fields;if(o.length===0)t.push(a);else for(const c of o)t.push(a.child(c))}else t.push(a)})),new pa(t)}class gs{constructor(t,e,r,a,o,c,h){this.key=t,this.documentType=e,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new gs(t,0,Je.min(),Je.min(),Je.min(),Xs.empty(),0)}static newFoundDocument(t,e,r,a){return new gs(t,1,e,Je.min(),r,a,0)}static newNoDocument(t,e){return new gs(t,2,e,Je.min(),Je.min(),Xs.empty(),0)}static newUnknownDocument(t,e){return new gs(t,3,e,Je.min(),Je.min(),Xs.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Xs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Xs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof gs&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new gs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $p{constructor(t,e){this.position=t,this.inclusive=e}}function Bv(n,t,e){let r=0;for(let a=0;a<n.position.length;a++){const o=t[a],c=n.position[a];if(o.field.isKeyField()?r=Le.comparator(Le.fromName(c.referenceValue),e.key):r=Rh(c,e.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fv(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Qo(n.position[e],t.position[e]))return!1;return!0}class Jf{constructor(t,e="asc"){this.field=t,this.dir=e}}function aN(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class r4{}class or extends r4{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new lN(t,e,r):e==="array-contains"?new hN(t,r):e==="in"?new fN(t,r):e==="not-in"?new dN(t,r):e==="array-contains-any"?new pN(t,r):new or(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new uN(t,r):new cN(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Rh(e,this.value)):e!==null&&ku(this.value)===ku(e)&&this.matchesComparison(Rh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class po extends r4{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new po(t,e)}matches(t){return s4(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function s4(n){return n.op==="and"}function a4(n){return oN(n)&&s4(n)}function oN(n){for(const t of n.filters)if(t instanceof po)return!1;return!0}function J1(n){if(n instanceof or)return n.field.canonicalString()+n.op.toString()+Lh(n.value);if(a4(n))return n.filters.map((t=>J1(t))).join(",");{const t=n.filters.map((e=>J1(e))).join(",");return`${n.op}(${t})`}}function o4(n,t){return n instanceof or?(function(r,a){return a instanceof or&&r.op===a.op&&r.field.isEqual(a.field)&&Qo(r.value,a.value)})(n,t):n instanceof po?(function(r,a){return a instanceof po&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,c,h)=>o&&o4(c,a.filters[h])),!0):!1})(n,t):void ze(19439)}function l4(n){return n instanceof or?(function(e){return`${e.field.canonicalString()} ${e.op} ${Lh(e.value)}`})(n):n instanceof po?(function(e){return e.op.toString()+" {"+e.getFilters().map(l4).join(" ,")+"}"})(n):"Filter"}class lN extends or{constructor(t,e,r){super(t,e,r),this.key=Le.fromName(r.referenceValue)}matches(t){const e=Le.comparator(t.key,this.key);return this.matchesComparison(e)}}class uN extends or{constructor(t,e){super(t,"in",e),this.keys=u4("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class cN extends or{constructor(t,e){super(t,"not-in",e),this.keys=u4("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function u4(n,t){return(t.arrayValue?.values||[]).map((e=>Le.fromName(e.referenceValue)))}class hN extends or{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return V0(e)&&$f(e.arrayValue,this.value)}}class fN extends or{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&$f(this.value.arrayValue,e)}}class dN extends or{constructor(t,e){super(t,"not-in",e)}matches(t){if($f(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!$f(this.value.arrayValue,e)}}class pN extends or{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!V0(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>$f(this.value.arrayValue,r)))}}class mN{constructor(t,e=null,r=[],a=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function zv(n,t=null,e=[],r=[],a=null,o=null,c=null){return new mN(n,t,e,r,a,o,c)}function B0(n){const t=rn(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>J1(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),bm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Lh(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Lh(r))).join(",")),t.Te=e}return t.Te}function F0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!aN(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!o4(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Fv(n.startAt,t.startAt)&&Fv(n.endAt,t.endAt)}function Z1(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Bh{constructor(t,e=null,r=[],a=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function gN(n,t,e,r,a,o,c,h){return new Bh(n,t,e,r,a,o,c,h)}function z0(n){return new Bh(n)}function qv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yN(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function c4(n){return n.collectionGroup!==null}function Bf(n){const t=rn(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ar(Vr.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Jf(o,r))})),e.has(Vr.keyField().canonicalString())||t.Ie.push(new Jf(Vr.keyField(),r))}return t.Ie}function Ko(n){const t=rn(n);return t.Ee||(t.Ee=vN(t,Bf(n))),t.Ee}function vN(n,t){if(n.limitType==="F")return zv(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Jf(a.field,o)}));const e=n.endAt?new $p(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new $p(n.startAt.position,n.startAt.inclusive):null;return zv(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function t0(n,t){const e=n.filters.concat([t]);return new Bh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function _N(n,t){const e=n.explicitOrderBy.concat([t]);return new Bh(n.path,n.collectionGroup,e,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function e0(n,t,e){return new Bh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Am(n,t){return F0(Ko(n),Ko(t))&&n.limitType===t.limitType}function h4(n){return`${B0(Ko(n))}|lt:${n.limitType}`}function ch(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((a=>l4(a))).join(", ")}]`),bm(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((a=>Lh(a))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((a=>Lh(a))).join(",")),`Target(${r})`})(Ko(n))}; limitType=${n.limitType})`}function Sm(n,t){return t.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,t)&&(function(r,a){for(const o of Bf(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(n,t)&&(function(r,a){return!(r.startAt&&!(function(c,h,f){const m=Bv(c,h,f);return c.inclusive?m<=0:m<0})(r.startAt,Bf(r),a)||r.endAt&&!(function(c,h,f){const m=Bv(c,h,f);return c.inclusive?m>=0:m>0})(r.endAt,Bf(r),a))})(n,t)}function bN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function f4(n){return(t,e)=>{let r=!1;for(const a of Bf(n)){const o=wN(a,t,e);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function wN(n,t,e){const r=n.field.isKeyField()?Le.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),m=h.data.field(o);return f!==null&&m!==null?Rh(f,m):ze(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:n.dir})}}class wc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[e]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){ju(this.inner,((e,r)=>{for(const[a,o]of r)t(a,o)}))}isEmpty(){return Qw(this.inner)}size(){return this.innerSize}}const AN=new Li(Le.comparator);function Ml(){return AN}const d4=new Li(Le.comparator);function Df(...n){let t=d4;for(const e of n)t=t.insert(e.key,e);return t}function p4(n){let t=d4;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function oc(){return Ff()}function m4(){return Ff()}function Ff(){return new wc((n=>n.toString()),((n,t)=>n.isEqual(t)))}const SN=new Li(Le.comparator),EN=new Ar(Le.comparator);function An(...n){let t=EN;for(const e of n)t=t.add(e);return t}const xN=new Ar(wn);function TN(){return xN}function q0(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wp(t)?"-0":t}}function g4(n){return{integerValue:""+n}}function NN(n,t){return $T(t)?g4(t):q0(n,t)}class Em{constructor(){this._=void 0}}function IN(n,t,e){return n instanceof Jp?(function(a,o){const c={fields:{[Jw]:{stringValue:$w},[t4]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&U0(o)&&(o=wm(o)),o&&(c.fields[Zw]=o),{mapValue:c}})(e,t):n instanceof Zf?v4(n,t):n instanceof td?_4(n,t):(function(a,o){const c=y4(a,o),h=Hv(c)+Hv(a.Ae);return $1(c)&&$1(a.Ae)?g4(h):q0(a.serializer,h)})(n,t)}function CN(n,t,e){return n instanceof Zf?v4(n,t):n instanceof td?_4(n,t):e}function y4(n,t){return n instanceof Zp?(function(r){return $1(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(t)?t:{integerValue:0}:null}class Jp extends Em{}class Zf extends Em{constructor(t){super(),this.elements=t}}function v4(n,t){const e=b4(t);for(const r of n.elements)e.some((a=>Qo(a,r)))||e.push(r);return{arrayValue:{values:e}}}class td extends Em{constructor(t){super(),this.elements=t}}function _4(n,t){let e=b4(t);for(const r of n.elements)e=e.filter((a=>!Qo(a,r)));return{arrayValue:{values:e}}}class Zp extends Em{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Hv(n){return Wi(n.integerValue||n.doubleValue)}function b4(n){return V0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function RN(n,t){return n.field.isEqual(t.field)&&(function(r,a){return r instanceof Zf&&a instanceof Zf||r instanceof td&&a instanceof td?Ih(r.elements,a.elements,Qo):r instanceof Zp&&a instanceof Zp?Qo(r.Ae,a.Ae):r instanceof Jp&&a instanceof Jp})(n.transform,t.transform)}class LN{constructor(t,e){this.version=t,this.transformResults=e}}class ja{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ja}static exists(t){return new ja(void 0,t)}static updateTime(t){return new ja(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kp(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class xm{}function w4(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new H0(n.key,ja.none()):new ud(n.key,n.data,ja.none());{const e=n.data,r=Xs.empty();let a=new Ar(Vr.comparator);for(let o of t.fields)if(!a.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new Uu(n.key,r,new pa(a.toArray()),ja.none())}}function kN(n,t,e){n instanceof ud?(function(a,o,c){const h=a.value.clone(),f=Yv(a.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Uu?(function(a,o,c){if(!kp(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=Yv(a.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(A4(a)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function zf(n,t,e,r){return n instanceof ud?(function(o,c,h,f){if(!kp(o.precondition,c))return h;const m=o.value.clone(),v=Kv(o.fieldTransforms,f,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,t,e,r):n instanceof Uu?(function(o,c,h,f){if(!kp(o.precondition,c))return h;const m=Kv(o.fieldTransforms,f,c),v=c.data;return v.setAll(A4(o)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((S=>S.field)))})(n,t,e,r):(function(o,c,h){return kp(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function ON(n,t){let e=null;for(const r of n.fieldTransforms){const a=t.data.field(r.field),o=y4(r.transform,a||null);o!=null&&(e===null&&(e=Xs.empty()),e.set(r.field,o))}return e||null}function Gv(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ih(r,a,((o,c)=>RN(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class ud extends xm{constructor(t,e,r,a=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Uu extends xm{constructor(t,e,r,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function A4(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function Yv(n,t,e){const r=new Map;qn(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let a=0;a<e.length;a++){const o=n[a],c=o.transform,h=t.data.field(o.field);r.set(o.field,CN(c,h,e[a]))}return r}function Kv(n,t,e){const r=new Map;for(const a of n){const o=a.transform,c=e.data.field(a.field);r.set(a.field,IN(o,c,t))}return r}class H0 extends xm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DN extends xm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PN{constructor(t,e,r,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&kN(o,t,r[a])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=zf(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=zf(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=m4();return this.mutations.forEach((a=>{const o=t.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(a.key)?null:h;const f=w4(c,h);f!==null&&r.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Je.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),An())}isEqual(t){return this.batchId===t.batchId&&Ih(this.mutations,t.mutations,((e,r)=>Gv(e,r)))&&Ih(this.baseMutations,t.baseMutations,((e,r)=>Gv(e,r)))}}class G0{constructor(t,e,r,a){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=a}static from(t,e,r){qn(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let a=(function(){return SN})();const o=t.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new G0(t,e,r,a)}}class MN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jN{constructor(t,e){this.count=t,this.unchangedNames=e}}var ar,In;function UN(n){switch(n){case qt.OK:return ze(64938);case qt.CANCELLED:case qt.UNKNOWN:case qt.DEADLINE_EXCEEDED:case qt.RESOURCE_EXHAUSTED:case qt.INTERNAL:case qt.UNAVAILABLE:case qt.UNAUTHENTICATED:return!1;case qt.INVALID_ARGUMENT:case qt.NOT_FOUND:case qt.ALREADY_EXISTS:case qt.PERMISSION_DENIED:case qt.FAILED_PRECONDITION:case qt.ABORTED:case qt.OUT_OF_RANGE:case qt.UNIMPLEMENTED:case qt.DATA_LOSS:return!0;default:return ze(15467,{code:n})}}function S4(n){if(n===void 0)return Pl("GRPC error has no .code"),qt.UNKNOWN;switch(n){case ar.OK:return qt.OK;case ar.CANCELLED:return qt.CANCELLED;case ar.UNKNOWN:return qt.UNKNOWN;case ar.DEADLINE_EXCEEDED:return qt.DEADLINE_EXCEEDED;case ar.RESOURCE_EXHAUSTED:return qt.RESOURCE_EXHAUSTED;case ar.INTERNAL:return qt.INTERNAL;case ar.UNAVAILABLE:return qt.UNAVAILABLE;case ar.UNAUTHENTICATED:return qt.UNAUTHENTICATED;case ar.INVALID_ARGUMENT:return qt.INVALID_ARGUMENT;case ar.NOT_FOUND:return qt.NOT_FOUND;case ar.ALREADY_EXISTS:return qt.ALREADY_EXISTS;case ar.PERMISSION_DENIED:return qt.PERMISSION_DENIED;case ar.FAILED_PRECONDITION:return qt.FAILED_PRECONDITION;case ar.ABORTED:return qt.ABORTED;case ar.OUT_OF_RANGE:return qt.OUT_OF_RANGE;case ar.UNIMPLEMENTED:return qt.UNIMPLEMENTED;case ar.DATA_LOSS:return qt.DATA_LOSS;default:return ze(39323,{code:n})}}(In=ar||(ar={}))[In.OK=0]="OK",In[In.CANCELLED=1]="CANCELLED",In[In.UNKNOWN=2]="UNKNOWN",In[In.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",In[In.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",In[In.NOT_FOUND=5]="NOT_FOUND",In[In.ALREADY_EXISTS=6]="ALREADY_EXISTS",In[In.PERMISSION_DENIED=7]="PERMISSION_DENIED",In[In.UNAUTHENTICATED=16]="UNAUTHENTICATED",In[In.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",In[In.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",In[In.ABORTED=10]="ABORTED",In[In.OUT_OF_RANGE=11]="OUT_OF_RANGE",In[In.UNIMPLEMENTED=12]="UNIMPLEMENTED",In[In.INTERNAL=13]="INTERNAL",In[In.UNAVAILABLE=14]="UNAVAILABLE",In[In.DATA_LOSS=15]="DATA_LOSS";function VN(){return new TextEncoder}const BN=new xu([4294967295,4294967295],0);function Wv(n){const t=VN().encode(n),e=new Mw;return e.update(t),new Uint8Array(e.digest())}function Qv(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new xu([e,r],0),new xu([a,o],0)]}class Y0{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Pf(`Invalid padding: ${e}`);if(r<0)throw new Pf(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Pf(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Pf(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=xu.fromNumber(this.ge)}ye(t,e,r){let a=t.add(e.multiply(xu.fromNumber(r)));return a.compare(BN)===1&&(a=new xu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Wv(t),[r,a]=Qv(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);if(!this.we(c))return!1}return!0}static create(t,e,r){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new Y0(o,a,e);return r.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=Wv(t),[r,a]=Qv(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);this.be(c)}}be(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class Pf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tm{constructor(t,e,r,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const a=new Map;return a.set(t,cd.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Tm(Je.min(),a,new Li(wn),Ml(),An())}}class cd{constructor(t,e,r,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new cd(r,e,An(),An(),An())}}class Op{constructor(t,e,r,a){this.Se=t,this.removedTargetIds=e,this.key=r,this.De=a}}class E4{constructor(t,e){this.targetId=t,this.Ce=e}}class x4{constructor(t,e,r=Br.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=a}}class Xv{constructor(){this.ve=0,this.Fe=$v(),this.Me=Br.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=An(),e=An(),r=An();return this.Fe.forEach(((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:r=r.add(a);break;default:ze(38017,{changeType:o})}})),new cd(this.Me,this.xe,t,e,r)}Ke(){this.Oe=!1,this.Fe=$v()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,qn(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class FN{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ml(),this.He=pp(),this.Je=pp(),this.Ze=new Li(wn)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:ze(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,r=t.Ce.count,a=this.ot(e);if(a){const o=a.target;if(Z1(o))if(r===0){const c=new Le(o.path);this.et(e,c,gs.newNoDocument(c,Je.min()))}else qn(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,m)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=e;let c,h;try{c=Lu(r).toUint8Array()}catch(f){if(f instanceof Xw)return Iu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Y0(c,a,o)}catch(f){return Iu(f instanceof Pf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let a=0;return r.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&Z1(h.target)){const f=new Le(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,gs.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.Ke())}}));let r=An();this.Je.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const a=new Tm(t,e,this.Ze,this.je,r);return this.je=Ml(),this.He=pp(),this.Je=pp(),this.Ze=new Li(wn),a}Ye(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,r),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.qe(e,1):a.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new Xv,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new Ar(wn),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new Ar(wn),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ue("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Xv),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function pp(){return new Li(Le.comparator)}function $v(){return new Li(Le.comparator)}const zN={asc:"ASCENDING",desc:"DESCENDING"},qN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HN={and:"AND",or:"OR"};class GN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function n0(n,t){return n.useProto3Json||bm(t)?t:{value:t}}function tm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function T4(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function YN(n,t){return tm(n,t.toTimestamp())}function Wo(n){return qn(!!n,49232),Je.fromTimestamp((function(e){const r=Ru(e);return new hi(r.seconds,r.nanos)})(n))}function K0(n,t){return i0(n,t).canonicalString()}function i0(n,t){const e=(function(a){return new ci(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function N4(n){const t=ci.fromString(n);return qn(k4(t),10190,{key:t.toString()}),t}function r0(n,t){return K0(n.databaseId,t.path)}function p1(n,t){const e=N4(t);if(e.get(1)!==n.databaseId.projectId)throw new ie(qt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ie(qt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Le(C4(e))}function I4(n,t){return K0(n.databaseId,t)}function KN(n){const t=N4(n);return t.length===4?ci.emptyPath():C4(t)}function s0(n){return new ci(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function C4(n){return qn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Jv(n,t,e){return{name:r0(n,t),fields:e.value.mapValue.fields}}function WN(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:ze(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=(function(m,v){return m.useProto3Json?(qn(v===void 0||typeof v=="string",58123),Br.fromBase64String(v||"")):(qn(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Br.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(m){const v=m.code===void 0?qt.UNKNOWN:S4(m.code);return new ie(v,m.message||"")})(c);e=new x4(r,a,o,h||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=p1(n,r.document.name),o=Wo(r.document.updateTime),c=r.document.createTime?Wo(r.document.createTime):Je.min(),h=new Xs({mapValue:{fields:r.document.fields}}),f=gs.newFoundDocument(a,o,c,h),m=r.targetIds||[],v=r.removedTargetIds||[];e=new Op(m,v,f.key,f)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=p1(n,r.document),o=r.readTime?Wo(r.readTime):Je.min(),c=gs.newNoDocument(a,o),h=r.removedTargetIds||[];e=new Op([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=p1(n,r.document),o=r.removedTargetIds||[];e=new Op([],o,a,null)}else{if(!("filter"in t))return ze(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new jN(a,o),h=r.targetId;e=new E4(h,c)}}return e}function QN(n,t){let e;if(t instanceof ud)e={update:Jv(n,t.key,t.value)};else if(t instanceof H0)e={delete:r0(n,t.key)};else if(t instanceof Uu)e={update:Jv(n,t.key,t.data),updateMask:r8(t.fieldMask)};else{if(!(t instanceof DN))return ze(16599,{dt:t.type});e={verify:r0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(o,c){const h=c.transform;if(h instanceof Jp)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Zf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof td)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Zp)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw ze(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:YN(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ze(27497)})(n,t.precondition)),e}function XN(n,t){return n&&n.length>0?(qn(t!==void 0,14353),n.map((e=>(function(a,o){let c=a.updateTime?Wo(a.updateTime):Wo(o);return c.isEqual(Je.min())&&(c=Wo(o)),new LN(c,a.transformResults||[])})(e,t)))):[]}function $N(n,t){return{documents:[I4(n,t.path)]}}function JN(n,t){const e={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=I4(n,a);const o=(function(m){if(m.length!==0)return L4(po.create(m,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((v=>(function(x){return{field:hh(x.field),direction:e8(x.dir)}})(v)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=n0(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:e,parent:a}}function ZN(n){let t=KN(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let a=null;if(r>0){qn(r===1,65062);const v=e.from[0];v.allDescendants?a=v.collectionId:t=t.child(v.collectionId)}let o=[];e.where&&(o=(function(S){const x=R4(S);return x instanceof po&&a4(x)?x.getFilters():[x]})(e.where));let c=[];e.orderBy&&(c=(function(S){return S.map((x=>(function(U){return new Jf(fh(U.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(x)))})(e.orderBy));let h=null;e.limit&&(h=(function(S){let x;return x=typeof S=="object"?S.value:S,bm(x)?null:x})(e.limit));let f=null;e.startAt&&(f=(function(S){const x=!!S.before,b=S.values||[];return new $p(b,x)})(e.startAt));let m=null;return e.endAt&&(m=(function(S){const x=!S.before,b=S.values||[];return new $p(b,x)})(e.endAt)),gN(t,a,c,o,h,"F",f,m)}function t8(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function R4(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=fh(e.unaryFilter.field);return or.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=fh(e.unaryFilter.field);return or.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fh(e.unaryFilter.field);return or.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=fh(e.unaryFilter.field);return or.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}})(n):n.fieldFilter!==void 0?(function(e){return or.create(fh(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return po.create(e.compositeFilter.filters.map((r=>R4(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ze(1026)}})(e.compositeFilter.op))})(n):ze(30097,{filter:n})}function e8(n){return zN[n]}function n8(n){return qN[n]}function i8(n){return HN[n]}function hh(n){return{fieldPath:n.canonicalString()}}function fh(n){return Vr.fromServerFormat(n.fieldPath)}function L4(n){return n instanceof or?(function(e){if(e.op==="=="){if(Vv(e.value))return{unaryFilter:{field:hh(e.field),op:"IS_NAN"}};if(Uv(e.value))return{unaryFilter:{field:hh(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Vv(e.value))return{unaryFilter:{field:hh(e.field),op:"IS_NOT_NAN"}};if(Uv(e.value))return{unaryFilter:{field:hh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hh(e.field),op:n8(e.op),value:e.value}}})(n):n instanceof po?(function(e){const r=e.getFilters().map((a=>L4(a)));return r.length===1?r[0]:{compositeFilter:{op:i8(e.op),filters:r}}})(n):ze(54877,{filter:n})}function r8(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function k4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function O4(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class bu{constructor(t,e,r,a,o=Je.min(),c=Je.min(),h=Br.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new bu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new bu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class s8{constructor(t){this.yt=t}}function a8(n){const t=ZN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?e0(t,t.limit,"L"):t}class o8{constructor(){this.Sn=new l8}addToCollectionParentIndex(t,e){return this.Sn.add(e),Wt.resolve()}getCollectionParents(t,e){return Wt.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return Wt.resolve()}deleteFieldIndex(t,e){return Wt.resolve()}deleteAllFieldIndexes(t){return Wt.resolve()}createTargetIndexes(t,e){return Wt.resolve()}getDocumentsMatchingTarget(t,e){return Wt.resolve(null)}getIndexType(t,e){return Wt.resolve(0)}getFieldIndexes(t,e){return Wt.resolve([])}getNextCollectionGroupToUpdate(t){return Wt.resolve(null)}getMinOffset(t,e){return Wt.resolve(Cu.min())}getMinOffsetFromCollectionGroup(t,e){return Wt.resolve(Cu.min())}updateCollectionGroup(t,e,r){return Wt.resolve()}updateIndexEntries(t,e){return Wt.resolve()}}class l8{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e]||new Ar(ci.comparator),o=!a.has(r);return this.index[e]=a.add(r),o}has(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e];return a&&a.has(r)}getEntries(t){return(this.index[t]||new Ar(ci.comparator)).toArray()}}const Zv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},D4=41943040;class Qs{static withCacheSize(t){return new Qs(t,Qs.DEFAULT_COLLECTION_PERCENTILE,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}Qs.DEFAULT_COLLECTION_PERCENTILE=10,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qs.DEFAULT=new Qs(D4,Qs.DEFAULT_COLLECTION_PERCENTILE,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qs.DISABLED=new Qs(-1,0,0);class kh{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new kh(0)}static ar(){return new kh(-1)}}const t_="LruGarbageCollector",u8=1048576;function e_([n,t],[e,r]){const a=wn(n,e);return a===0?wn(t,r):a}class c8{constructor(t){this.Pr=t,this.buffer=new Ar(e_),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();e_(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class h8{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ue(t_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Vh(e)?ue(t_,"Ignoring IndexedDB error during garbage collection: ",e):await Uh(e)}await this.Ar(3e5)}))}}class f8{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return Wt.resolve(_m.ce);const r=new c8(e);return this.Vr.forEachTarget(t,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.Vr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Wt.resolve(Zv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zv):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let r,a,o,c,h,f,m;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),a=this.params.maximumSequenceNumbersToCollect):a=S,c=Date.now(),this.nthSequenceNumber(t,a)))).next((S=>(r=S,h=Date.now(),this.removeTargets(t,r,e)))).next((S=>(o=S,f=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(m=Date.now(),uh()<=bn.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${S} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),Wt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:S}))))}}function d8(n,t){return new f8(n,t)}class p8{constructor(){this.changes=new wc((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,gs.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?Wt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class m8{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class g8{constructor(t,e,r,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(r=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(r!==null&&zf(r.mutation,a,pa.empty(),hi.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,An()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=An()){const a=oc();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,r).next((o=>{let c=Df();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=oc();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,An())))}populateOverlays(t,e,r){const a=[];return r.forEach((o=>{e.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(t,a).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,r,a){let o=Ml();const c=Ff(),h=(function(){return Ff()})();return e.forEach(((f,m)=>{const v=r.get(m.key);a.has(m.key)&&(v===void 0||v.mutation instanceof Uu)?o=o.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),zf(v.mutation,m,v.mutation.getFieldMask(),hi.now())):c.set(m.key,pa.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((m,v)=>c.set(m,v))),e.forEach(((m,v)=>h.set(m,new m8(v,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,e){const r=Ff();let a=new Li(((c,h)=>c-h)),o=An();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const m=e.get(f);if(m===null)return;let v=r.get(f)||pa.empty();v=h.applyToLocalView(m,v),r.set(f,v);const S=(a.get(h.batchId)||An()).add(f);a=a.insert(h.batchId,S)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,v=f.value,S=m4();v.forEach((x=>{if(!o.has(x)){const b=w4(e.get(x),r.get(x));b!==null&&S.set(x,b),o=o.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,S))}return Wt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,a){return yN(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):c4(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,a):this.getDocumentsMatchingCollectionQuery(t,e,r,a)}getNextDocuments(t,e,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,a-o.size):Wt.resolve(oc());let h=Qf,f=o;return c.next((m=>Wt.forEach(m,((v,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),o.get(v)?Wt.resolve():this.remoteDocumentCache.getEntry(t,v).next((x=>{f=f.insert(v,x)}))))).next((()=>this.populateOverlays(t,m,o))).next((()=>this.computeViews(t,f,m,An()))).next((v=>({batchId:h,changes:p4(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Le(e)).next((r=>{let a=Df();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,a){const o=e.collectionGroup;let c=Df();return this.indexManager.getCollectionParents(t,o).next((h=>Wt.forEach(h,(f=>{const m=(function(S,x){return new Bh(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,r,a).next((v=>{v.forEach(((S,x)=>{c=c.insert(S,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,o,a)))).next((c=>{o.forEach(((f,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,gs.newInvalidDocument(v)))}));let h=Df();return c.forEach(((f,m)=>{const v=o.get(f);v!==void 0&&zf(v.mutation,m,pa.empty(),hi.now()),Sm(e,m)&&(h=h.insert(f,m))})),h}))}}class y8{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return Wt.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Wo(a.createTime)}})(e)),Wt.resolve()}getNamedQuery(t,e){return Wt.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(a){return{name:a.name,query:a8(a.bundledQuery),readTime:Wo(a.readTime)}})(e)),Wt.resolve()}}class v8{constructor(){this.overlays=new Li(Le.comparator),this.Lr=new Map}getOverlay(t,e){return Wt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=oc();return Wt.forEach(e,(a=>this.getOverlay(t,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((a,o)=>{this.bt(t,e,o)})),Wt.resolve()}removeOverlaysForBatchId(t,e,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),Wt.resolve()}getOverlaysForCollection(t,e,r){const a=oc(),o=e.length+1,c=new Le(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return Wt.resolve(a)}getOverlaysForCollectionGroup(t,e,r,a){let o=new Li(((m,v)=>m-v));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>r){let v=o.get(m.largestBatchId);v===null&&(v=oc(),o=o.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=oc(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,v)=>h.set(m,v))),!(h.size()>=a)););return Wt.resolve(h)}bt(t,e,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new MN(e,r));let o=this.Lr.get(e);o===void 0&&(o=An(),this.Lr.set(e,o)),this.Lr.set(e,o.add(r.key))}}class _8{constructor(){this.sessionToken=Br.EMPTY_BYTE_STRING}getSessionToken(t){return Wt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Wt.resolve()}}class W0{constructor(){this.kr=new Ar(jr.Kr),this.qr=new Ar(jr.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const r=new jr(t,e);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Wr(new jr(t,e))}Qr(t,e){t.forEach((r=>this.removeReference(r,e)))}Gr(t){const e=new Le(new ci([])),r=new jr(e,t),a=new jr(e,t+1),o=[];return this.qr.forEachInRange([r,a],(c=>{this.Wr(c),o.push(c.key)})),o}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new Le(new ci([])),r=new jr(e,t),a=new jr(e,t+1);let o=An();return this.qr.forEachInRange([r,a],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new jr(t,0),r=this.kr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class jr{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return Le.comparator(t.key,e.key)||wn(t.Hr,e.Hr)}static Ur(t,e){return wn(t.Hr,e.Hr)||Le.comparator(t.key,e.key)}}class b8{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new Ar(jr.Kr)}checkEmpty(t){return Wt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,a){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new PN(o,e,r,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new jr(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return Wt.resolve(c)}lookupMutationBatch(t,e){return Wt.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,a=this.Xr(r),o=a<0?0:a;return Wt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Wt.resolve(this.mutationQueue.length===0?j0:this.Yn-1)}getAllMutationBatches(t){return Wt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new jr(e,0),a=new jr(e,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,a],(c=>{const h=this.Zr(c.Hr);o.push(h)})),Wt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Ar(wn);return e.forEach((a=>{const o=new jr(a,0),c=new jr(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,c],(h=>{r=r.add(h.Hr)}))})),Wt.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1;let o=r;Le.isDocumentKey(o)||(o=o.child(""));const c=new jr(new Le(o),0);let h=new Ar(wn);return this.Jr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(h=h.add(f.Hr)),!0)}),c),Wt.resolve(this.Yr(h))}Yr(t){const e=[];return t.forEach((r=>{const a=this.Zr(r);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){qn(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Wt.forEach(e.mutations,(a=>{const o=new jr(a.key,e.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,e){const r=new jr(e,0),a=this.Jr.firstAfterOrEqual(r);return Wt.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,Wt.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class w8{constructor(t){this.ti=t,this.docs=(function(){return new Li(Le.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,a=this.docs.get(r),o=a?a.size:0,c=this.ti(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return Wt.resolve(r?r.document.mutableCopy():gs.newInvalidDocument(e))}getEntries(t,e){let r=Ml();return e.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():gs.newInvalidDocument(a))})),Wt.resolve(r)}getDocumentsMatchingQuery(t,e,r,a){let o=Ml();const c=e.path,h=new Le(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||KT(YT(v),r)<=0||(a.has(v.key)||Sm(e,v))&&(o=o.insert(v.key,v.mutableCopy()))}return Wt.resolve(o)}getAllFromCollectionGroup(t,e,r,a){ze(9500)}ni(t,e){return Wt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new A8(this)}getSize(t){return Wt.resolve(this.size)}}class A8 extends p8{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?e.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(r)})),Wt.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class S8{constructor(t){this.persistence=t,this.ri=new wc((e=>B0(e)),F0),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.ii=0,this.si=new W0,this.targetCount=0,this.oi=kh._r()}forEachTarget(t,e){return this.ri.forEach(((r,a)=>e(a))),Wt.resolve()}getLastRemoteSnapshotVersion(t){return Wt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Wt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Wt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.ii&&(this.ii=e),Wt.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new kh(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,Wt.resolve()}updateTargetData(t,e){return this.lr(e),Wt.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,Wt.resolve()}removeTargets(t,e,r){let a=0;const o=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=e&&r.get(h.targetId)===null&&(this.ri.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),Wt.waitFor(o).next((()=>a))}getTargetCount(t){return Wt.resolve(this.targetCount)}getTargetData(t,e){const r=this.ri.get(e)||null;return Wt.resolve(r)}addMatchingKeys(t,e,r){return this.si.$r(e,r),Wt.resolve()}removeMatchingKeys(t,e,r){this.si.Qr(e,r);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach((c=>{o.push(a.markPotentiallyOrphaned(t,c))})),Wt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),Wt.resolve()}getMatchingKeysForTargetId(t,e){const r=this.si.jr(e);return Wt.resolve(r)}containsKey(t,e){return Wt.resolve(this.si.containsKey(e))}}class P4{constructor(t,e){this._i={},this.overlays={},this.ai=new _m(0),this.ui=!1,this.ui=!0,this.ci=new _8,this.referenceDelegate=t(this),this.li=new S8(this),this.indexManager=new o8,this.remoteDocumentCache=(function(a){return new w8(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new s8(e),this.Pi=new y8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new v8,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this._i[t.toKey()];return r||(r=new b8(e,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,r){ue("MemoryPersistence","Starting transaction:",t);const a=new E8(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((o=>this.referenceDelegate.Ii(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ei(t,e){return Wt.or(Object.values(this._i).map((r=>()=>r.containsKey(t,e))))}}class E8 extends QT{constructor(t){super(),this.currentSequenceNumber=t}}class Q0{constructor(t){this.persistence=t,this.Ri=new W0,this.Ai=null}static Vi(t){return new Q0(t)}get di(){if(this.Ai)return this.Ai;throw ze(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.di.delete(r.toString()),Wt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.di.add(r.toString()),Wt.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),Wt.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wt.forEach(this.di,(r=>{const a=Le.fromPath(r);return this.mi(t,a).next((o=>{o||e.removeEntry(a,Je.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((r=>{r?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return Wt.or([()=>Wt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class em{constructor(t,e){this.persistence=t,this.fi=new wc((r=>JT(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=d8(this,e)}static Vi(t,e){return new em(t,e)}Ti(){}Ii(t){return Wt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((a=>r+a))))}pr(t){let e=0;return this.mr(t,(r=>{e++})).next((()=>e))}mr(t,e){return Wt.forEach(this.fi,((r,a)=>this.wr(t,r,a).next((o=>o?Wt.resolve():e(a)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ni(t,(c=>this.wr(t,c,e).next((h=>{h||(r++,o.removeEntry(c,Je.min()))})))).next((()=>o.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),Wt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),Wt.resolve()}removeReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),Wt.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),Wt.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Rp(t.data.value)),e}wr(t,e,r){return Wt.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.fi.get(e);return Wt.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class X0{constructor(t,e,r,a){this.targetId=t,this.fromCache=e,this.Ts=r,this.Is=a}static Es(t,e){let r=An(),a=An();for(const o of e.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new X0(t,e.fromCache,r,a)}}class x8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class T8{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return iE()?8:XT(ys())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,a){const o={result:null};return this.gs(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ps(t,e,a,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new x8;return this.ys(t,e,c).next((h=>{if(o.result=h,this.As)return this.ws(t,e,c,h.size)}))})).next((()=>o.result))}ws(t,e,r,a){return r.documentReadCount<this.Vs?(uh()<=bn.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ch(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Wt.resolve()):(uh()<=bn.DEBUG&&ue("QueryEngine","Query:",ch(e),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(uh()<=bn.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ch(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ko(e))):Wt.resolve())}gs(t,e){if(qv(e))return Wt.resolve(null);let r=Ko(e);return this.indexManager.getIndexType(t,r).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=e0(e,null,"F"),r=Ko(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((o=>{const c=An(...o);return this.fs.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,r).next((f=>{const m=this.bs(e,h);return this.Ss(e,m,c,f.readTime)?this.gs(t,e0(e,null,"F")):this.Ds(t,m,e,f)}))))})))))}ps(t,e,r,a){return qv(e)||a.isEqual(Je.min())?Wt.resolve(null):this.fs.getDocuments(t,r).next((o=>{const c=this.bs(e,o);return this.Ss(e,c,r,a)?Wt.resolve(null):(uh()<=bn.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ch(e)),this.Ds(t,c,e,GT(a,Qf)).next((h=>h)))}))}bs(t,e){let r=new Ar(f4(t));return e.forEach(((a,o)=>{Sm(t,o)&&(r=r.add(o))})),r}Ss(t,e,r,a){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ys(t,e,r){return uh()<=bn.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ch(e)),this.fs.getDocumentsMatchingQuery(t,e,Cu.min(),r)}Ds(t,e,r,a){return this.fs.getDocumentsMatchingQuery(t,r,a).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const $0="LocalStore",N8=3e8;class I8{constructor(t,e,r,a){this.persistence=t,this.Cs=e,this.serializer=a,this.vs=new Li(wn),this.Fs=new wc((o=>B0(o)),F0),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new g8(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function C8(n,t,e,r){return new I8(n,t,e,r)}async function M4(n,t){const e=rn(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return e.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,e.Os(t),e.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],h=[];let f=An();for(const m of a){c.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of o){h.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return e.localDocuments.getDocuments(r,f).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function R8(n,t){const e=rn(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=t.batch.keys(),o=e.xs.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,v){const S=m.batch,x=S.keys();let b=Wt.resolve();return x.forEach((U=>{b=b.next((()=>v.getEntry(f,U))).next((B=>{const G=m.docVersions.get(U);qn(G!==null,48541),B.version.compareTo(G)<0&&(S.applyToRemoteDocument(B,m),B.isValidDocument()&&(B.setReadTime(m.commitVersion),v.addEntry(B)))}))})),b.next((()=>h.mutationQueue.removeMutationBatch(f,S)))})(e,r,t,o).next((()=>o.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=An();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(r,a)))}))}function j4(n){const t=rn(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function L8(n,t){const e=rn(n),r=t.snapshotVersion;let a=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.xs.newChangeBuffer({trackRemovals:!0});a=e.vs;const h=[];t.targetChanges.forEach(((v,S)=>{const x=a.get(S);if(!x)return;h.push(e.li.removeMatchingKeys(o,v.removedDocuments,S).next((()=>e.li.addMatchingKeys(o,v.addedDocuments,S))));let b=x.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(S)!==null?b=b.withResumeToken(Br.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):v.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(v.resumeToken,r)),a=a.insert(S,b),(function(B,G,F){return B.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=N8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(x,b,v)&&h.push(e.li.updateTargetData(o,b))}));let f=Ml(),m=An();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(k8(o,c,t.documentUpdates).next((v=>{f=v.Bs,m=v.Ls}))),!r.isEqual(Je.min())){const v=e.li.getLastRemoteSnapshotVersion(o).next((S=>e.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(v)}return Wt.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,m))).next((()=>f))})).then((o=>(e.vs=a,o)))}function k8(n,t,e){let r=An(),a=An();return e.forEach((o=>r=r.add(o))),t.getEntries(n,r).next((o=>{let c=Ml();return e.forEach(((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Je.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):ue($0,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{Bs:c,Ls:a}}))}function O8(n,t){const e=rn(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=j0),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function D8(n,t){const e=rn(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return e.li.getTargetData(r,t).next((o=>o?(a=o,Wt.resolve(a)):e.li.allocateTargetId(r).next((c=>(a=new bu(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=e.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.vs=e.vs.insert(r.targetId,r),e.Fs.set(t,r.targetId)),r}))}async function a0(n,t,e){const r=rn(n),a=r.vs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Vh(c))throw c;ue($0,`Failed to update sequence numbers for target ${t}: ${c}`)}r.vs=r.vs.remove(t),r.Fs.delete(a.target)}function n_(n,t,e){const r=rn(n);let a=Je.min(),o=An();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,v){const S=rn(f),x=S.Fs.get(v);return x!==void 0?Wt.resolve(S.vs.get(x)):S.li.getTargetData(m,v)})(r,c,Ko(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,t,e?a:Je.min(),e?o:An()))).next((h=>(P8(r,bN(t),h),{documents:h,ks:o})))))}function P8(n,t,e){let r=n.Ms.get(t)||Je.min();e.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(t,r)}class i_{constructor(){this.activeTargetIds=TN()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class M8{constructor(){this.vo=new i_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,r){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new i_,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class j8{Mo(t){}shutdown(){}}const r_="ConnectivityMonitor";class s_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(r_,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ue(r_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let mp=null;function o0(){return mp===null?mp=(function(){return 268435456+Math.round(2147483648*Math.random())})():mp++,"0x"+mp.toString(16)}const m1="RestConnection",U8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class V8{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===Qp?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(t,e,r,a,o){const c=o0(),h=this.Qo(t,e.toUriEncodedString());ue(m1,`Sending RPC '${t}' ${c}:`,h,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,a,o);const{host:m}=new URL(h),v=vc(m);return this.zo(t,h,f,r,v).then((S=>(ue(m1,`Received RPC '${t}' ${c}: `,S),S)),(S=>{throw Iu(m1,`RPC '${t}' ${c} failed with error: `,S,"url: ",h,"request:",r),S}))}jo(t,e,r,a,o,c){return this.Wo(t,e,r,a,o)}Go(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jh})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,o)=>t[o]=a)),r&&r.headers.forEach(((a,o)=>t[o]=a))}Qo(t,e){const r=U8[t];let a=`${this.qo}/v1/${e}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class B8{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const cs="WebChannelConnection",Nf=(n,t,e)=>{n.listen(t,(r=>{try{e(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class wh extends V8{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!wh.c_){const t=Bw();Nf(t,Vw.STAT_EVENT,(e=>{e.stat===W1.PROXY?ue(cs,"STAT_EVENT: detected buffering proxy"):e.stat===W1.NOPROXY&&ue(cs,"STAT_EVENT: detected no buffering proxy")})),wh.c_=!0}}zo(t,e,r,a,o){const c=o0();return new Promise(((h,f)=>{const m=new jw;m.setWithCredentials(!0),m.listenOnce(Uw.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Cp.NO_ERROR:const S=m.getResponseJson();ue(cs,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(S)),h(S);break;case Cp.TIMEOUT:ue(cs,`RPC '${t}' ${c} timed out`),f(new ie(qt.DEADLINE_EXCEEDED,"Request time out"));break;case Cp.HTTP_ERROR:const x=m.getStatus();if(ue(cs,`RPC '${t}' ${c} failed with status:`,x,"response text:",m.getResponseText()),x>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const U=b?.error;if(U&&U.status&&U.message){const B=(function(F){const st=F.toLowerCase().replace(/_/g,"-");return Object.values(qt).indexOf(st)>=0?st:qt.UNKNOWN})(U.status);f(new ie(B,U.message))}else f(new ie(qt.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ie(qt.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ue(cs,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(a);ue(cs,`RPC '${t}' ${c} sending request:`,a),m.send(e,"POST",v,r,15)}))}T_(t,e,r){const a=o0(),o=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,e,r),h.encodeInitMessageHeaders=!0;const m=o.join("");ue(cs,`Creating RPC '${t}' stream ${a}: ${m}`,h);const v=c.createWebChannel(m,h);this.I_(v);let S=!1,x=!1;const b=new B8({Ho:U=>{x?ue(cs,`Not sending because RPC '${t}' stream ${a} is closed:`,U):(S||(ue(cs,`Opening RPC '${t}' stream ${a} transport.`),v.open(),S=!0),ue(cs,`RPC '${t}' stream ${a} sending:`,U),v.send(U))},Jo:()=>v.close()});return Nf(v,Of.EventType.OPEN,(()=>{x||(ue(cs,`RPC '${t}' stream ${a} transport opened.`),b.i_())})),Nf(v,Of.EventType.CLOSE,(()=>{x||(x=!0,ue(cs,`RPC '${t}' stream ${a} transport closed`),b.o_(),this.E_(v))})),Nf(v,Of.EventType.ERROR,(U=>{x||(x=!0,Iu(cs,`RPC '${t}' stream ${a} transport errored. Name:`,U.name,"Message:",U.message),b.o_(new ie(qt.UNAVAILABLE,"The operation could not be completed")))})),Nf(v,Of.EventType.MESSAGE,(U=>{if(!x){const B=U.data[0];qn(!!B,16349);const G=B,F=G?.error||G[0]?.error;if(F){ue(cs,`RPC '${t}' stream ${a} received error:`,F);const st=F.status;let Z=(function(St){const Y=ar[St];if(Y!==void 0)return S4(Y)})(st),et=F.message;st==="NOT_FOUND"&&et.includes("database")&&et.includes("does not exist")&&et.includes(this.databaseId.database)&&Iu(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Z===void 0&&(Z=qt.INTERNAL,et="Unknown error status: "+st+" with message "+F.message),x=!0,b.o_(new ie(Z,et)),v.close()}else ue(cs,`RPC '${t}' stream ${a} received:`,B),b.__(B)}})),wh.u_(),setTimeout((()=>{b.s_()}),0),b}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,r){super.Go(t,e,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Fw()}}function F8(n){return new wh(n)}function g1(){return typeof document<"u"?document:null}function Nm(n){return new GN(n,!0)}wh.c_=!1;class U4{constructor(t,e,r=1e3,a=1.5,o=6e4){this.Ci=t,this.timerId=e,this.R_=r,this.A_=a,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-r);a>0&&ue("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const a_="PersistentStream";class V4{constructor(t,e,r,a,o,c,h,f){this.Ci=t,this.b_=r,this.S_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new U4(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===qt.RESOURCE_EXHAUSTED?(Pl(e.toString()),Pl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===qt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===e&&this.G_(r,a)}),(r=>{t((()=>{const a=new ie(qt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(t,e){const r=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ue(a_,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(ue(a_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class z8 extends V4{constructor(t,e,r,a,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,a,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=WN(this.serializer,t),r=(function(o){if(!("targetChange"in o))return Je.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Je.min():c.readTime?Wo(c.readTime):Je.min()})(t);return this.listener.J_(e,r)}Z_(t){const e={};e.database=s0(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=Z1(f)?{documents:$N(o,f)}:{query:JN(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=T4(o,c.resumeToken);const m=n0(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Je.min())>0){h.readTime=tm(o,c.snapshotVersion.toTimestamp());const m=n0(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const r=t8(this.serializer,t);r&&(e.labels=r),this.K_(e)}X_(t){const e={};e.database=s0(this.serializer),e.removeTarget=t,this.K_(e)}}class q8 extends V4{constructor(t,e,r,a,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,a,c),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return qn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=XN(t.writeResults,t.commitTime),r=Wo(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=s0(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>QN(this.serializer,r)))};this.K_(e)}}class H8{}class G8 extends H8{constructor(t,e,r,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ie(qt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(t,i0(e,r),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===qt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(qt.UNKNOWN,o.toString())}))}jo(t,e,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(t,i0(e,r),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===qt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ie(qt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Y8(n,t,e,r){return new G8(n,t,e,r)}class K8{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pl(e),this.aa=!1):ue("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const pc="RemoteStore";class W8{constructor(t,e,r,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Ac(this)&&(ue(pc,"Restarting streams for network reachability change."),await(async function(f){const m=rn(f);m.Ea.add(4),await hd(m),m.Va.set("Unknown"),m.Ea.delete(4),await Im(m)})(this))}))})),this.Va=new K8(r,a)}}async function Im(n){if(Ac(n))for(const t of n.Ra)await t(!0)}async function hd(n){for(const t of n.Ra)await t(!1)}function B4(n,t){const e=rn(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),e2(e)?t2(e):Fh(e).O_()&&Z0(e,t))}function J0(n,t){const e=rn(n),r=Fh(e);e.Ia.delete(t),r.O_()&&F4(e,t),e.Ia.size===0&&(r.O_()?r.L_():Ac(e)&&e.Va.set("Unknown"))}function Z0(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Je.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Fh(n).Z_(t)}function F4(n,t){n.da.$e(t),Fh(n).X_(t)}function t2(n){n.da=new FN({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Fh(n).start(),n.Va.ua()}function e2(n){return Ac(n)&&!Fh(n).x_()&&n.Ia.size>0}function Ac(n){return rn(n).Ea.size===0}function z4(n){n.da=void 0}async function Q8(n){n.Va.set("Online")}async function X8(n){n.Ia.forEach(((t,e)=>{Z0(n,t)}))}async function $8(n,t){z4(n),e2(n)?(n.Va.ha(t),t2(n)):n.Va.set("Unknown")}async function J8(n,t,e){if(n.Va.set("Online"),t instanceof x4&&t.state===2&&t.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(n,t)}catch(r){ue(pc,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await nm(n,r)}else if(t instanceof Op?n.da.Xe(t):t instanceof E4?n.da.st(t):n.da.tt(t),!e.isEqual(Je.min()))try{const r=await j4(n.localStore);e.compareTo(r)>=0&&await(function(o,c){const h=o.da.Tt(c);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.Ia.get(m);v&&o.Ia.set(m,v.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,m)=>{const v=o.Ia.get(f);if(!v)return;o.Ia.set(f,v.withResumeToken(Br.EMPTY_BYTE_STRING,v.snapshotVersion)),F4(o,f);const S=new bu(v.target,f,m,v.sequenceNumber);Z0(o,S)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(r){ue(pc,"Failed to raise snapshot:",r),await nm(n,r)}}async function nm(n,t,e){if(!Vh(t))throw t;n.Ea.add(1),await hd(n),n.Va.set("Offline"),e||(e=()=>j4(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ue(pc,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Im(n)}))}function q4(n,t){return t().catch((e=>nm(n,e,t)))}async function Cm(n){const t=rn(n),e=Ou(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:j0;for(;Z8(t);)try{const a=await O8(t.localStore,r);if(a===null){t.Ta.length===0&&e.L_();break}r=a.batchId,tI(t,a)}catch(a){await nm(t,a)}H4(t)&&G4(t)}function Z8(n){return Ac(n)&&n.Ta.length<10}function tI(n,t){n.Ta.push(t);const e=Ou(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function H4(n){return Ac(n)&&!Ou(n).x_()&&n.Ta.length>0}function G4(n){Ou(n).start()}async function eI(n){Ou(n).ra()}async function nI(n){const t=Ou(n);for(const e of n.Ta)t.ea(e.mutations)}async function iI(n,t,e){const r=n.Ta.shift(),a=G0.from(r,t,e);await q4(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Cm(n)}async function rI(n,t){t&&Ou(n).Y_&&await(async function(r,a){if((function(c){return UN(c)&&c!==qt.ABORTED})(a.code)){const o=r.Ta.shift();Ou(r).B_(),await q4(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Cm(r)}})(n,t),H4(n)&&G4(n)}async function o_(n,t){const e=rn(n);e.asyncQueue.verifyOperationInProgress(),ue(pc,"RemoteStore received new credentials");const r=Ac(e);e.Ea.add(3),await hd(e),r&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Im(e)}async function sI(n,t){const e=rn(n);t?(e.Ea.delete(2),await Im(e)):t||(e.Ea.add(2),await hd(e),e.Va.set("Unknown"))}function Fh(n){return n.ma||(n.ma=(function(e,r,a){const o=rn(e);return o.sa(),new z8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:Q8.bind(null,n),Yo:X8.bind(null,n),t_:$8.bind(null,n),J_:J8.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),e2(n)?t2(n):n.Va.set("Unknown")):(await n.ma.stop(),z4(n))}))),n.ma}function Ou(n){return n.fa||(n.fa=(function(e,r,a){const o=rn(e);return o.sa(),new q8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:eI.bind(null,n),t_:rI.bind(null,n),ta:nI.bind(null,n),na:iI.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await Cm(n)):(await n.fa.stop(),n.Ta.length>0&&(ue(pc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class n2{constructor(t,e,r,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Ll,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,a,o){const c=Date.now()+r,h=new n2(t,e,c,a,o);return h.start(r),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(qt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function i2(n,t){if(Pl("AsyncQueue",`${t}: ${n}`),Vh(n))return new ie(qt.UNAVAILABLE,`${t}: ${n}`);throw n}class Ah{static emptySet(t){return new Ah(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||Le.comparator(e.key,r.key):(e,r)=>Le.comparator(e.key,r.key),this.keyedMap=Df(),this.sortedSet=new Li(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ah)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Ah;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class l_{constructor(){this.ga=new Li(Le.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):ze(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Oh{constructor(t,e,r,a,o,c,h,f,m){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(t,e,r,a,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new Oh(t,e,Ah.emptySet(e),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Am(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==r[a].type||!e[a].doc.isEqual(r[a].doc))return!1;return!0}}class aI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class oI{constructor(){this.queries=u_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const a=rn(e),o=a.queries;a.queries=u_(),o.forEach(((c,h)=>{for(const f of h.ba)f.onError(r)}))})(this,new ie(qt.ABORTED,"Firestore shutting down"))}}function u_(){return new wc((n=>h4(n)),Am)}async function Y4(n,t){const e=rn(n);let r=3;const a=t.query;let o=e.queries.get(a);o?!o.Sa()&&t.Da()&&(r=2):(o=new aI,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await e.onListen(a,!0);break;case 1:o.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const h=i2(c,`Initialization of query '${ch(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,o),o.ba.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&r2(e)}async function K4(n,t){const e=rn(n),r=t.query;let a=3;const o=e.queries.get(r);if(o){const c=o.ba.indexOf(t);c>=0&&(o.ba.splice(c,1),o.ba.length===0?a=t.Da()?0:1:!o.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function lI(n,t){const e=rn(n);let r=!1;for(const a of t){const o=a.query,c=e.queries.get(o);if(c){for(const h of c.ba)h.Fa(a)&&(r=!0);c.wa=a}}r&&r2(e)}function uI(n,t,e){const r=rn(n),a=r.queries.get(t);if(a)for(const o of a.ba)o.onError(e);r.queries.delete(t)}function r2(n){n.Ca.forEach((t=>{t.next()}))}var l0,c_;(c_=l0||(l0={})).Ma="default",c_.Cache="cache";class W4{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new Oh(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Oh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==l0.Cache}}class Q4{constructor(t){this.key=t}}class X4{constructor(t){this.key=t}}class cI{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=An(),this.mutatedKeys=An(),this.eu=f4(t),this.tu=new Ah(this.eu)}get nu(){return this.Za}ru(t,e){const r=e?e.iu:new l_,a=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((v,S)=>{const x=a.get(v),b=Sm(this.query,S)?S:null,U=!!x&&this.mutatedKeys.has(x.key),B=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let G=!1;x&&b?x.data.isEqual(b.data)?U!==B&&(r.track({type:3,doc:b}),G=!0):this.su(x,b)||(r.track({type:2,doc:b}),G=!0,(f&&this.eu(b,f)>0||m&&this.eu(b,m)<0)&&(h=!0)):!x&&b?(r.track({type:0,doc:b}),G=!0):x&&!b&&(r.track({type:1,doc:x}),G=!0,(f||m)&&(h=!0)),G&&(b?(c=c.add(b),o=B?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Ss:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,a){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,S)=>(function(b,U){const B=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:G})}};return B(b)-B(U)})(v.type,S.type)||this.eu(v.doc,S.doc))),this.ou(r),a=a??!1;const h=e&&!a?this._u():[],f=this.Ya.size===0&&this.current&&!a?1:0,m=f!==this.Xa;return this.Xa=f,c.length!==0||m?{snapshot:new Oh(this.query,t.tu,o,c,t.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new l_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=An(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const e=[];return t.forEach((r=>{this.Ya.has(r)||e.push(new X4(r))})),this.Ya.forEach((r=>{t.has(r)||e.push(new Q4(r))})),e}cu(t){this.Za=t.ks,this.Ya=An();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Oh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const s2="SyncEngine";class hI{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class fI{constructor(t){this.key=t,this.hu=!1}}class dI{constructor(t,e,r,a,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new wc((h=>h4(h)),Am),this.Iu=new Map,this.Eu=new Set,this.Ru=new Li(Le.comparator),this.Au=new Map,this.Vu=new W0,this.du={},this.mu=new Map,this.fu=kh.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pI(n,t,e=!0){const r=n3(n);let a;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await $4(r,t,e,!0),a}async function mI(n,t){const e=n3(n);await $4(e,t,!0,!1)}async function $4(n,t,e,r){const a=await D8(n.localStore,Ko(t)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return r&&(h=await gI(n,t,o,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&B4(n.remoteStore,a),h}async function gI(n,t,e,r,a){n.pu=(S,x,b)=>(async function(B,G,F,st){let Z=G.view.ru(F);Z.Ss&&(Z=await n_(B.localStore,G.query,!1).then((({documents:Y})=>G.view.ru(Y,Z))));const et=st&&st.targetChanges.get(G.targetId),bt=st&&st.targetMismatches.get(G.targetId)!=null,St=G.view.applyChanges(Z,B.isPrimaryClient,et,bt);return f_(B,G.targetId,St.au),St.snapshot})(n,S,x,b);const o=await n_(n.localStore,t,!0),c=new cI(t,o.ks),h=c.ru(o.documents),f=cd.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",a),m=c.applyChanges(h,n.isPrimaryClient,f);f_(n,e,m.au);const v=new hI(t,e,c);return n.Tu.set(t,v),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),m.snapshot}async function yI(n,t,e){const r=rn(n),a=r.Tu.get(t),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((c=>!Am(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await a0(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),e&&J0(r.remoteStore,a.targetId),u0(r,a.targetId)})).catch(Uh)):(u0(r,a.targetId),await a0(r.localStore,a.targetId,!0))}async function vI(n,t){const e=rn(n),r=e.Tu.get(t),a=e.Iu.get(r.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),J0(e.remoteStore,r.targetId))}async function _I(n,t,e){const r=TI(n);try{const a=await(function(c,h){const f=rn(c),m=hi.now(),v=h.reduce(((b,U)=>b.add(U.key)),An());let S,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let U=Ml(),B=An();return f.xs.getEntries(b,v).next((G=>{U=G,U.forEach(((F,st)=>{st.isValidDocument()||(B=B.add(F))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,U))).next((G=>{S=G;const F=[];for(const st of h){const Z=ON(st,S.get(st.key).overlayedDocument);Z!=null&&F.push(new Uu(st.key,Z,i4(Z.value.mapValue),ja.exists(!0)))}return f.mutationQueue.addMutationBatch(b,m,F,h)})).next((G=>{x=G;const F=G.applyToLocalDocumentSet(S,B);return f.documentOverlayCache.saveOverlays(b,G.batchId,F)}))})).then((()=>({batchId:x.batchId,changes:p4(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),(function(c,h,f){let m=c.du[c.currentUser.toKey()];m||(m=new Li(wn)),m=m.insert(h,f),c.du[c.currentUser.toKey()]=m})(r,a.batchId,e),await fd(r,a.changes),await Cm(r.remoteStore)}catch(a){const o=i2(a,"Failed to persist write");e.reject(o)}}async function J4(n,t){const e=rn(n);try{const r=await L8(e.localStore,t);t.targetChanges.forEach(((a,o)=>{const c=e.Au.get(o);c&&(qn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?qn(c.hu,14607):a.removedDocuments.size>0&&(qn(c.hu,42227),c.hu=!1))})),await fd(e,r,t)}catch(r){await Uh(r)}}function h_(n,t,e){const r=rn(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const a=[];r.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const f=rn(c);f.onlineState=h;let m=!1;f.queries.forEach(((v,S)=>{for(const x of S.ba)x.va(h)&&(m=!0)})),m&&r2(f)})(r.eventManager,t),a.length&&r.Pu.J_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function bI(n,t,e){const r=rn(n);r.sharedClientState.updateQueryState(t,"rejected",e);const a=r.Au.get(t),o=a&&a.key;if(o){let c=new Li(Le.comparator);c=c.insert(o,gs.newNoDocument(o,Je.min()));const h=An().add(o),f=new Tm(Je.min(),new Map,new Li(wn),c,h);await J4(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(t),a2(r)}else await a0(r.localStore,t,!1).then((()=>u0(r,t,e))).catch(Uh)}async function wI(n,t){const e=rn(n),r=t.batch.batchId;try{const a=await R8(e.localStore,t);t3(e,r,null),Z4(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await fd(e,a)}catch(a){await Uh(a)}}async function AI(n,t,e){const r=rn(n);try{const a=await(function(c,h){const f=rn(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return f.mutationQueue.lookupMutationBatch(m,h).next((S=>(qn(S!==null,37113),v=S.keys(),f.mutationQueue.removeMutationBatch(m,S)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>f.localDocuments.getDocuments(m,v)))}))})(r.localStore,t);t3(r,t,e),Z4(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await fd(r,a)}catch(a){await Uh(a)}}function Z4(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function t3(n,t,e){const r=rn(n);let a=r.du[r.currentUser.toKey()];if(a){const o=a.get(t);o&&(e?o.reject(e):o.resolve(),a=a.remove(t)),r.du[r.currentUser.toKey()]=a}}function u0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((r=>{n.Vu.containsKey(r)||e3(n,r)}))}function e3(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(J0(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),a2(n))}function f_(n,t,e){for(const r of e)r instanceof Q4?(n.Vu.addReference(r.key,t),SI(n,r)):r instanceof X4?(ue(s2,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,t),n.Vu.containsKey(r.key)||e3(n,r.key)):ze(19791,{wu:r})}function SI(n,t){const e=t.key,r=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(r)||(ue(s2,"New document in limbo: "+e),n.Eu.add(r),a2(n))}function a2(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Le(ci.fromString(t)),r=n.fu.next();n.Au.set(r,new fI(e)),n.Ru=n.Ru.insert(e,r),B4(n.remoteStore,new bu(Ko(z0(e.path)),r,"TargetPurposeLimboResolution",_m.ce))}}async function fd(n,t,e){const r=rn(n),a=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{c.push(r.pu(f,t,e).then((m=>{if((m||e)&&r.isPrimaryClient){const v=m?!m.fromCache:e?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(m){a.push(m);const v=X0.Es(f.targetId,m);o.push(v)}})))})),await Promise.all(c),r.Pu.J_(a),await(async function(f,m){const v=rn(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Wt.forEach(m,(x=>Wt.forEach(x.Ts,(b=>v.persistence.referenceDelegate.addReference(S,x.targetId,b))).next((()=>Wt.forEach(x.Is,(b=>v.persistence.referenceDelegate.removeReference(S,x.targetId,b)))))))))}catch(S){if(!Vh(S))throw S;ue($0,"Failed to update sequence numbers: "+S)}for(const S of m){const x=S.targetId;if(!S.fromCache){const b=v.vs.get(x),U=b.snapshotVersion,B=b.withLastLimboFreeSnapshotVersion(U);v.vs=v.vs.insert(x,B)}}})(r.localStore,o))}async function EI(n,t){const e=rn(n);if(!e.currentUser.isEqual(t)){ue(s2,"User change. New user:",t.toKey());const r=await M4(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new ie(qt.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await fd(e,r.Ns)}}function xI(n,t){const e=rn(n),r=e.Au.get(t);if(r&&r.hu)return An().add(r.key);{let a=An();const o=e.Iu.get(t);if(!o)return a;for(const c of o){const h=e.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function n3(n){const t=rn(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=J4.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bI.bind(null,t),t.Pu.J_=lI.bind(null,t.eventManager),t.Pu.yu=uI.bind(null,t.eventManager),t}function TI(n){const t=rn(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AI.bind(null,t),t}class im{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Nm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return C8(this.persistence,new T8,t.initialUser,this.serializer)}Cu(t){return new P4(Q0.Vi,this.serializer)}Du(t){return new M8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}im.provider={build:()=>new im};class NI extends im{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){qn(this.persistence.referenceDelegate instanceof em,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new h8(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Qs.withCacheSize(this.cacheSizeBytes):Qs.DEFAULT;return new P4((r=>em.Vi(r,e)),this.serializer)}}class c0{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>h_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EI.bind(null,this.syncEngine),await sI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new oI})()}createDatastore(t){const e=Nm(t.databaseInfo.databaseId),r=F8(t.databaseInfo);return Y8(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,a,o,c,h){return new W8(r,a,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>h_(this.syncEngine,e,0)),(function(){return s_.v()?new s_:new j8})())}createSyncEngine(t,e){return(function(a,o,c,h,f,m,v){const S=new dI(a,o,c,h,f,m);return v&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=rn(e);ue(pc,"RemoteStore shutting down."),r.Ea.add(5),await hd(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}c0.provider={build:()=>new c0};class i3{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Pl("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Du="FirestoreClient";class II{constructor(t,e,r,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this._databaseInfo=a,this.user=ms.UNAUTHENTICATED,this.clientId=ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{ue(Du,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ue(Du,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ll;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=i2(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function y1(n,t){n.asyncQueue.verifyOperationInProgress(),ue(Du,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await M4(t.localStore,a),r=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function d_(n,t){n.asyncQueue.verifyOperationInProgress();const e=await CI(n);ue(Du,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>o_(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>o_(t.remoteStore,a))),n._onlineComponents=t}async function CI(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Du,"Using user provided OfflineComponentProvider");try{await y1(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===qt.FAILED_PRECONDITION||a.code===qt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Iu("Error using user provided cache. Falling back to memory cache: "+e),await y1(n,new im)}}else ue(Du,"Using default OfflineComponentProvider"),await y1(n,new NI(void 0));return n._offlineComponents}async function r3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Du,"Using user provided OnlineComponentProvider"),await d_(n,n._uninitializedComponentsProvider._online)):(ue(Du,"Using default OnlineComponentProvider"),await d_(n,new c0))),n._onlineComponents}function RI(n){return r3(n).then((t=>t.syncEngine))}async function s3(n){const t=await r3(n),e=t.eventManager;return e.onListen=pI.bind(null,t.syncEngine),e.onUnlisten=yI.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=mI.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=vI.bind(null,t.syncEngine),e}function LI(n,t,e={}){const r=new Ll;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,m){const v=new i3({next:x=>{v.Nu(),c.enqueueAndForget((()=>K4(o,S)));const b=x.docs.has(h);!b&&x.fromCache?m.reject(new ie(qt.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&x.fromCache&&f&&f.source==="server"?m.reject(new ie(qt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),S=new W4(z0(h.path),v,{includeMetadataChanges:!0,Ka:!0});return Y4(o,S)})(await s3(n),n.asyncQueue,t,e,r))),r.promise}function kI(n,t,e={}){const r=new Ll;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,m){const v=new i3({next:x=>{v.Nu(),c.enqueueAndForget((()=>K4(o,S))),x.fromCache&&f.source==="server"?m.reject(new ie(qt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),S=new W4(h,v,{includeMetadataChanges:!0,Ka:!0});return Y4(o,S)})(await s3(n),n.asyncQueue,t,e,r))),r.promise}function OI(n,t){const e=new Ll;return n.asyncQueue.enqueueAndForget((async()=>_I(await RI(n),t,e))),e.promise}function a3(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const DI="ComponentProvider",p_=new Map;function PI(n,t,e,r,a){return new eN(n,t,e,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a3(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const o3="firestore.googleapis.com",m_=!0;class g_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ie(qt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o3,this.ssl=m_}else this.host=t.host,this.ssl=t.ssl??m_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=D4;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<u8)throw new ie(qt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Yw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a3(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ie(qt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ie(qt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ie(qt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rm{constructor(t,e,r,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(qt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ie(qt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Hw;switch(r.type){case"firstParty":return new VT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(qt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=p_.get(e);r&&(ue(DI,"Removing Datastore"),p_.delete(e),r.terminate())})(this),Promise.resolve()}}function l3(n,t,e,r={}){n=Va(n,Rm);const a=vc(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;a&&(S0(`https://${h}`),E0("Firestore",!0)),o.host!==o3&&o.host!==h&&Iu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:a,emulatorOptions:r};if(!cc(f,c)&&(n._setSettings(f),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=ms.MOCK_USER;else{m=$b(r.mockUserToken,n._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ie(qt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new ms(S)}n._authCredentials=new MT(new qw(m,v))}}class Vu{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Vu(this.firestore,t,this._query)}}class zi{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zi(this.firestore,t,this._key)}toJSON(){return{type:zi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(ld(e,zi._jsonSchema))return new zi(t,r||null,new Le(ci.fromString(e.referencePath)))}}zi._jsonSchemaVersion="firestore/documentReference/1.0",zi._jsonSchema={type:lr("string",zi._jsonSchemaVersion),referencePath:lr("string")};class kl extends Vu{constructor(t,e,r){super(t,e,z0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zi(this.firestore,null,new Le(t))}withConverter(t){return new kl(this.firestore,t,this._path)}}function dd(n,t,...e){if(n=Sr(n),Gw("collection","path",t),n instanceof Rm){const r=ci.fromString(t,...e);return Cv(r),new kl(n,null,r)}{if(!(n instanceof zi||n instanceof kl))throw new ie(qt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ci.fromString(t,...e));return Cv(r),new kl(n.firestore,null,r)}}function jl(n,t,...e){if(n=Sr(n),arguments.length===1&&(t=ym.newId()),Gw("doc","path",t),n instanceof Rm){const r=ci.fromString(t,...e);return Iv(r),new zi(n,null,new Le(r))}{if(!(n instanceof zi||n instanceof kl))throw new ie(qt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ci.fromString(t,...e));return Iv(r),new zi(n.firestore,n instanceof kl?n.converter:null,new Le(r))}}const y_="AsyncQueue";class v_{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new U4(this,"async_queue_retry"),this._c=()=>{const r=g1();r&&ue(y_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=g1();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=g1();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Ll;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Vh(t))throw t;ue(y_,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Pl("INTERNAL UNHANDLED ERROR: ",__(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=n2.createAndSchedule(this,t,e,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&ze(47125,{Pc:__(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function __(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Bu extends Rm{constructor(t,e,r,a){super(t,e,r,a),this.type="firestore",this._queue=new v_,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new v_(t),this._firestoreClient=void 0,await t}}}function u3(n,t){const e=typeof n=="object"?n:N0(),r=typeof n=="string"?n:Qp,a=fm(e,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=Wb("firestore");o&&l3(a,...o)}return a}function Lm(n){if(n._terminated)throw new ie(qt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||MI(n),n._firestoreClient}function MI(n){const t=n._freezeSettings(),e=PI(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new II(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}class da{constructor(t){this._byteString=t}static fromBase64String(t){try{return new da(Br.fromBase64String(t))}catch(e){throw new ie(qt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new da(Br.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:da._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ld(t,da._jsonSchema))return da.fromBase64String(t.bytes)}}da._jsonSchemaVersion="firestore/bytes/1.0",da._jsonSchema={type:lr("string",da._jsonSchemaVersion),bytes:lr("string")};class km{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ie(qt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Om{constructor(t){this._methodName=t}}class ho{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ie(qt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ie(qt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return wn(this._lat,t._lat)||wn(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ho._jsonSchemaVersion}}static fromJSON(t){if(ld(t,ho._jsonSchema))return new ho(t.latitude,t.longitude)}}ho._jsonSchemaVersion="firestore/geoPoint/1.0",ho._jsonSchema={type:lr("string",ho._jsonSchemaVersion),latitude:lr("number"),longitude:lr("number")};class Ua{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ua._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ld(t,Ua._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ua(t.vectorValues);throw new ie(qt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ua._jsonSchemaVersion="firestore/vectorValue/1.0",Ua._jsonSchema={type:lr("string",Ua._jsonSchemaVersion),vectorValues:lr("object")};const jI=/^__.*__$/;class UI{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Uu(t,this.data,this.fieldMask,e,this.fieldTransforms):new ud(t,this.data,e,this.fieldTransforms)}}class c3{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Uu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function h3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{dataSource:n})}}class o2{constructor(t,e,r,a,o,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new o2({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return rm(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(h3(this.dataSource)&&jI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class VI{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Nm(t)}createContext(t,e,r,a=!1){return new o2({dataSource:t,methodName:e,targetDoc:r,path:Vr.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dm(n){const t=n._freezeSettings(),e=Nm(n._databaseId);return new VI(n._databaseId,!!t.ignoreUndefinedProperties,e)}function f3(n,t,e,r,a,o={}){const c=n.createContext(o.merge||o.mergeFields?2:0,t,e,a);l2("Data must be an object, but it was:",c,r);const h=d3(r,c);let f,m;if(o.merge)f=new pa(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const S of o.mergeFields){const x=Dh(t,S,e);if(!c.contains(x))throw new ie(qt.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);g3(v,x)||v.push(x)}f=new pa(v),m=c.fieldTransforms.filter((S=>f.covers(S.field)))}else f=null,m=c.fieldTransforms;return new UI(new Xs(h),f,m)}class Pm extends Om{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Pm}}function BI(n,t,e,r){const a=n.createContext(1,t,e);l2("Data must be an object, but it was:",a,r);const o=[],c=Xs.empty();ju(r,((f,m)=>{const v=m3(t,f,e);m=Sr(m);const S=a.childContextForFieldPath(v);if(m instanceof Pm)o.push(v);else{const x=pd(m,S);x!=null&&(o.push(v),c.set(v,x))}}));const h=new pa(o);return new c3(c,h,a.fieldTransforms)}function FI(n,t,e,r,a,o){const c=n.createContext(1,t,e),h=[Dh(t,r,e)],f=[a];if(o.length%2!=0)throw new ie(qt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)h.push(Dh(t,o[x])),f.push(o[x+1]);const m=[],v=Xs.empty();for(let x=h.length-1;x>=0;--x)if(!g3(m,h[x])){const b=h[x];let U=f[x];U=Sr(U);const B=c.childContextForFieldPath(b);if(U instanceof Pm)m.push(b);else{const G=pd(U,B);G!=null&&(m.push(b),v.set(b,G))}}const S=new pa(m);return new c3(v,S,c.fieldTransforms)}function zI(n,t,e,r=!1){return pd(e,n.createContext(r?4:3,t))}function pd(n,t){if(p3(n=Sr(n)))return l2("Unsupported field value:",t,n),d3(n,t);if(n instanceof Om)return(function(r,a){if(!h3(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,a){const o=[];let c=0;for(const h of r){let f=pd(h,a.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(r,a){if((r=Sr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NN(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=hi.fromDate(r);return{timestampValue:tm(a.serializer,o)}}if(r instanceof hi){const o=new hi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tm(a.serializer,o)}}if(r instanceof ho)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof da)return{bytesValue:T4(a.serializer,r._byteString)};if(r instanceof zi){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:K0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Ua)return(function(c,h){const f=c instanceof Ua?c.toArray():c;return{mapValue:{fields:{[e4]:{stringValue:n4},[Xp]:{arrayValue:{values:f.map((v=>{if(typeof v!="number")throw h.createError("VectorValues must only contain numeric values.");return q0(h.serializer,v)}))}}}}}})(r,a);if(O4(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${vm(r)}`)})(n,t)}function d3(n,t){const e={};return Qw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ju(n,((r,a)=>{const o=pd(a,t.childContextForField(r));o!=null&&(e[r]=o)})),{mapValue:{fields:e}}}function p3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof hi||n instanceof ho||n instanceof da||n instanceof zi||n instanceof Om||n instanceof Ua||O4(n))}function l2(n,t,e){if(!p3(e)||!Kw(e)){const r=vm(e);throw r==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+r)}}function Dh(n,t,e){if((t=Sr(t))instanceof km)return t._internalPath;if(typeof t=="string")return m3(n,t);throw rm("Field path arguments must be of type string or ",n,!1,void 0,e)}const qI=new RegExp("[~\\*/\\[\\]]");function m3(n,t,e){if(t.search(qI)>=0)throw rm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new km(...t.split("."))._internalPath}catch{throw rm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function rm(n,t,e,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${r}`),c&&(f+=` in document ${a}`),f+=")"),new ie(qt.INVALID_ARGUMENT,h+n+f)}function g3(n,t){return n.some((e=>e.isEqual(t)))}class y3{convertValue(t,e="none"){switch(ku(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Wi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Lu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw ze(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return ju(t,((a,o)=>{r[a]=this.convertValue(o,e)})),r}convertVectorValue(t){const e=t.fields?.[Xp].arrayValue?.values?.map((r=>Wi(r.doubleValue)));return new Ua(e)}convertGeoPoint(t){return new ho(Wi(t.latitude),Wi(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=wm(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Xf(t));default:return null}}convertTimestamp(t){const e=Ru(t);return new hi(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=ci.fromString(t);qn(k4(r),9688,{name:t});const a=new Ch(r.get(1),r.get(3)),o=new Le(r.popFirst(5));return a.isEqual(e)||Pl(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}class v3 extends y3{constructor(t){super(),this.firestore=t}convertBytes(t){return new da(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new zi(this.firestore,null,e)}}const b_="@firebase/firestore",w_="4.11.0";class _3{constructor(t,e,r,a,o){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new HI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(Dh("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class HI extends _3{data(){return super.data()}}function GI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ie(qt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u2{}class c2 extends u2{}function h2(n,t,...e){let r=[];t instanceof u2&&r.push(t),r=r.concat(e),(function(o){const c=o.filter((f=>f instanceof jm)).length,h=o.filter((f=>f instanceof Mm)).length;if(c>1||c>0&&h>0)throw new ie(qt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class Mm extends c2{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new Mm(t,e,r)}_apply(t){const e=this._parse(t);return b3(t._query,e),new Vu(t.firestore,t.converter,t0(t._query,e))}_parse(t){const e=Dm(t.firestore);return(function(o,c,h,f,m,v,S){let x;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ie(qt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){S_(S,v);const U=[];for(const B of S)U.push(A_(f,o,B));x={arrayValue:{values:U}}}else x=A_(f,o,S)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||S_(S,v),x=zI(h,c,S,v==="in"||v==="not-in");return or.create(m,v,x)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class jm extends u2{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new jm(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:po.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const f of h)b3(c,f),c=t0(c,f)})(t._query,e),new Vu(t.firestore,t.converter,t0(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Um extends c2{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Um(t,e)}_apply(t){const e=(function(a,o,c){if(a.startAt!==null)throw new ie(qt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ie(qt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jf(o,c)})(t._query,this._field,this._direction);return new Vu(t.firestore,t.converter,_N(t._query,e))}}function f2(n,t="asc"){const e=t,r=Dh("orderBy",n);return Um._create(r,e)}function A_(n,t,e){if(typeof(e=Sr(e))=="string"){if(e==="")throw new ie(qt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c4(t)&&e.indexOf("/")!==-1)throw new ie(qt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(ci.fromString(e));if(!Le.isDocumentKey(r))throw new ie(qt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jv(n,new Le(r))}if(e instanceof zi)return jv(n,e._key);throw new ie(qt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vm(e)}.`)}function S_(n,t){if(!Array.isArray(n)||n.length===0)throw new ie(qt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function b3(n,t){const e=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ie(qt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ie(qt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function w3(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class gh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Tu extends _3{constructor(t,e,r,a,o,c){super(t,e,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Dh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(qt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Tu._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Tu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Tu._jsonSchema={type:lr("string",Tu._jsonSchemaVersion),bundleSource:lr("string","DocumentSnapshot"),bundleName:lr("string"),bundle:lr("string")};class qf extends Tu{data(t={}){return super.data(t)}}class lc{constructor(t,e,r,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new gh(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new qf(this._firestore,this._userDataWriter,r.key,r,new gh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ie(qt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const f=new qf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new gh(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new qf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new gh(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,v=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:YI(h.type),doc:f,oldIndex:m,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(qt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=lc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function YI(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:n})}}lc._jsonSchemaVersion="firestore/querySnapshot/1.0",lc._jsonSchema={type:lr("string",lc._jsonSchemaVersion),bundleSource:lr("string","QuerySnapshot"),bundleName:lr("string"),bundle:lr("string")};function d2(n){n=Va(n,zi);const t=Va(n.firestore,Bu),e=Lm(t);return LI(e,n._key).then((r=>KI(t,n,r)))}function p2(n){n=Va(n,Vu);const t=Va(n.firestore,Bu),e=Lm(t),r=new v3(t);return GI(n._query),kI(e,n._query).then((a=>new lc(t,r,n,a)))}function A3(n,t,e){n=Va(n,zi);const r=Va(n.firestore,Bu),a=w3(n.converter,t,e),o=Dm(r);return md(r,[f3(o,"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,ja.none())])}function Vm(n,t,e,...r){n=Va(n,zi);const a=Va(n.firestore,Bu),o=Dm(a);let c;return c=typeof(t=Sr(t))=="string"||t instanceof km?FI(o,"updateDoc",n._key,t,e,r):BI(o,"updateDoc",n._key,t),md(a,[c.toMutation(n._key,ja.exists(!0))])}function S3(n){return md(Va(n.firestore,Bu),[new H0(n._key,ja.none())])}function m2(n,t){const e=Va(n.firestore,Bu),r=jl(n),a=w3(n.converter,t),o=Dm(n.firestore);return md(e,[f3(o,"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,ja.exists(!1))]).then((()=>r))}function md(n,t){const e=Lm(n);return OI(e,t)}function KI(n,t,e){const r=e.docs.get(t._key),a=new v3(n);return new Tu(n,a,t._key,r,new gh(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){PT(_c),hc(new Nu("firestore",((r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new Bu(new jT(r.getProvider("auth-internal")),new BT(c,r.getProvider("app-check-internal")),nN(c,a),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Ho(b_,w_,t),Ho(b_,w_,"esm2020")})();const E3=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:y3,Bytes:da,CollectionReference:kl,DocumentReference:zi,DocumentSnapshot:Tu,FieldPath:km,FieldValue:Om,Firestore:Bu,FirestoreError:ie,GeoPoint:ho,Query:Vu,QueryCompositeFilterConstraint:jm,QueryConstraint:c2,QueryDocumentSnapshot:qf,QueryFieldFilterConstraint:Mm,QueryOrderByConstraint:Um,QuerySnapshot:lc,SnapshotMetadata:gh,Timestamp:hi,VectorValue:Ua,_AutoId:ym,_ByteString:Br,_DatabaseId:Ch,_DocumentKey:Le,_EmptyAuthCredentialsProvider:Hw,_FieldPath:Vr,_cast:Va,_logWarn:Iu,_validateIsNotUsedTogether:Yw,addDoc:m2,collection:dd,connectFirestoreEmulator:l3,deleteDoc:S3,doc:jl,ensureFirestoreConfigured:Lm,executeWrite:md,getDoc:d2,getDocs:p2,getFirestore:u3,orderBy:f2,query:h2,setDoc:A3,updateDoc:Vm},Symbol.toStringTag,{value:"Module"}));var WI="firebase",QI="12.9.0";Ho(WI,QI,"app");const x3="firebasestorage.googleapis.com",XI="storageBucket",$I=120*1e3,JI=600*1e3;class Jo extends $o{constructor(t,e,r=0){super(v1(t),`Firebase Storage: ${e} (${v1(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Jo.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return v1(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xo;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xo||(Xo={}));function v1(n){return"storage/"+n}function ZI(){const n="An unknown error occurred, please check the error payload for server response.";return new Jo(Xo.UNKNOWN,n)}function tC(){return new Jo(Xo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eC(){return new Jo(Xo.CANCELED,"User canceled the upload/download.")}function nC(n){return new Jo(Xo.INVALID_URL,"Invalid URL '"+n+"'.")}function iC(n){return new Jo(Xo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function E_(n){return new Jo(Xo.INVALID_ARGUMENT,n)}function T3(){return new Jo(Xo.APP_DELETED,"The Firebase app was deleted.")}function rC(n){return new Jo(Xo.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class co{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=co.makeFromUrl(t,e)}catch{return new co(t,"")}if(r.path==="")return r;throw iC(t)}static makeFromUrl(t,e){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(et){et.path.charAt(et.path.length-1)==="/"&&(et.path_=et.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function m(et){et.path_=decodeURIComponent(et.path)}const v="v[A-Za-z0-9_]+",S=e.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",b=new RegExp(`^https?://${S}/${v}/b/${a}/o${x}`,"i"),U={bucket:1,path:3},B=e===x3?"(?:storage.googleapis.com|storage.cloud.google.com)":e,G="([^?#]*)",F=new RegExp(`^https?://${B}/${a}/${G}`,"i"),Z=[{regex:h,indices:f,postModify:o},{regex:b,indices:U,postModify:m},{regex:F,indices:{bucket:1,path:2},postModify:m}];for(let et=0;et<Z.length;et++){const bt=Z[et],St=bt.regex.exec(t);if(St){const Y=St[bt.indices.bucket];let D=St[bt.indices.path];D||(D=""),r=new co(Y,D),bt.postModify(r);break}}if(r==null)throw nC(t);return r}}class sC{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function aC(n,t,e){let r=1,a=null,o=null,c=!1,h=0;function f(){return h===2}let m=!1;function v(...G){m||(m=!0,t.apply(null,G))}function S(G){a=setTimeout(()=>{a=null,n(b,f())},G)}function x(){o&&clearTimeout(o)}function b(G,...F){if(m){x();return}if(G){x(),v.call(null,G,...F);return}if(f()||c){x(),v.call(null,G,...F);return}r<64&&(r*=2);let Z;h===1?(h=2,Z=0):Z=(r+Math.random())*1e3,S(Z)}let U=!1;function B(G){U||(U=!0,x(),!m&&(a!==null?(G||(h=2),clearTimeout(a),S(0)):G||(h=1)))}return S(0),o=setTimeout(()=>{c=!0,B(!0)},e),B}function oC(n){n(!1)}function lC(n){return n!==void 0}function x_(n,t,e,r){if(r<t)throw E_(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw E_(`Invalid value for '${n}'. Expected ${e} or less.`)}function uC(n){const t=encodeURIComponent;let e="?";for(const r in n)if(n.hasOwnProperty(r)){const a=t(r)+"="+t(n[r]);e=e+a+"&"}return e=e.slice(0,-1),e}var sm;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(sm||(sm={}));function cC(n,t){const e=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||a||o}class hC{constructor(t,e,r,a,o,c,h,f,m,v,S,x=!0,b=!1){this.url_=t,this.method_=e,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=S,this.retry=x,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,B)=>{this.resolve_=U,this.reject_=B,this.start_()})}start_(){const t=(r,a)=>{if(a){r(!1,new gp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===sm.NO_ERROR,f=o.getStatus();if(!h||cC(f,this.additionalRetryCodes_)&&this.retry){const v=o.getErrorCode()===sm.ABORT;r(!1,new gp(!1,null,v));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new gp(m,o))})},e=(r,a)=>{const o=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());lC(f)?o(f):o()}catch(f){c(f)}else if(h!==null){const f=ZI();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(a.canceled){const f=this.appDelete_?T3():eC();c(f)}else{const f=tC();c(f)}};this.canceled_?e(!1,new gp(!1,null,!0)):this.backoffId_=aC(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&oC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gp{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function fC(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function dC(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function pC(n,t){t&&(n["X-Firebase-GMPID"]=t)}function mC(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function gC(n,t,e,r,a,o,c=!0,h=!1){const f=uC(n.urlParams),m=n.url+f,v=Object.assign({},n.headers);return pC(v,t),fC(v,e),dC(v,o),mC(v,r),new hC(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,h)}function yC(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function vC(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}class am{constructor(t,e){this._service=t,e instanceof co?this._location=e:this._location=co.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new am(t,e)}get root(){const t=new co(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vC(this._location.path)}get storage(){return this._service}get parent(){const t=yC(this._location.path);if(t===null)return null;const e=new co(this._location.bucket,t);return new am(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw rC(t)}}function T_(n,t){const e=t?.[XI];return e==null?null:co.makeFromBucketSpec(e,n)}function _C(n,t,e,r={}){n.host=`${t}:${e}`;const a=vc(t);a&&(S0(`https://${n.host}/b`),E0("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:$b(o,n.app.options.projectId))}class bC{constructor(t,e,r,a,o,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=x3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$I,this._maxUploadRetryTime=JI,this._requests=new Set,a!=null?this._bucket=co.makeFromBucketSpec(a,this._host):this._bucket=T_(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=co.makeFromBucketSpec(this._url,t):this._bucket=T_(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){x_("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){x_("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Ma(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new am(this,t)}_makeRequest(t,e,r,a,o=!0){if(this._deleted)return new sC(T3());{const c=gC(t,this._appId,r,a,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,r,a).getPromise()}}const N_="@firebase/storage",I_="0.14.0";const N3="storage";function wC(n=N0(),t){n=Sr(n);const r=fm(n,N3).getImmediate({identifier:t}),a=Wb("storage");return a&&AC(r,...a),r}function AC(n,t,e,r={}){_C(n,t,e,r)}function SC(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new bC(e,r,a,t,_c)}function EC(){hc(new Nu(N3,SC,"PUBLIC").setMultipleInstances(!0)),Ho(N_,I_,""),Ho(N_,I_,"esm2020")}EC();const xC={apiKey:"AIzaSyAxtqgI507-TarutOEsvtL3R6-TZppLSN0",authDomain:"twkt-91ddf.firebaseapp.com",projectId:"twkt-91ddf",storageBucket:"twkt-91ddf.firebasestorage.app",messagingSenderId:"754554349532",appId:"1:754554349532:web:f51bb0a8ee53446d309119",measurementId:"G-FKY3MFR4P9"},g2=tw(xC),If=OT(g2),ga=u3(g2);wC(g2);const I3=ne.createContext(void 0);function TC({children:n}){const[t,e]=ne.useState(null),[r,a]=ne.useState(!0),o=async m=>{try{const v=await d2(jl(ga,"users",m.uid));return v.exists()?{...v.data(),id:m.uid}:null}catch(v){return console.error("Error fetching user:",v),null}};ne.useEffect(()=>{const m=wx(If,async v=>{if(v){const S=await o(v);S&&e(S)}else e(null);a(!1)});return()=>m()},[]);const c=async(m,v)=>{try{const S=await vx(If,`${m}@twkt.com`,v),x=await o(S.user);return x?(e(x),{success:!0}):{success:!1,error:""}}catch(S){return console.error("Login error:",S),S.code==="auth/invalid-email"?{success:!1,error:""}:S.code==="auth/user-not-found"?{success:!1,error:""}:S.code==="auth/wrong-password"?{success:!1,error:""}:{success:!1,error:""}}},h=async()=>{await Ax(If),e(null)},f=async m=>{if(If.currentUser)try{await Vm(jl(ga,"users",If.currentUser.uid),{name:m.name,department:m.department,employmentType:m.employmentType,signedContractAt:m.signedContractAt,contractStartDate:m.contractStartDate,avatar:m.avatar}),e(m)}catch(v){console.error("Error updating user:",v)}};return M.jsx(I3.Provider,{value:{user:t,loading:r,login:c,logout:h,updateUser:f},children:n})}function gd(){const n=ne.useContext(I3);if(!n)throw new Error("useAuth must be used within AuthProvider");return n}async function Bm(){const{getDocs:n,collection:t}=await Mf(async()=>{const{getDocs:e,collection:r}=await Promise.resolve().then(()=>E3);return{getDocs:e,collection:r}},void 0);try{return(await n(t(ga,"users"))).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Error getting users:",e),[]}}async function C_(n){const{setDoc:t,doc:e}=await Mf(async()=>{const{setDoc:r,doc:a}=await Promise.resolve().then(()=>E3);return{setDoc:r,doc:a}},void 0);await t(e(ga,"users",n.id),n)}function NC(){const[n,t]=ne.useState(""),[e,r]=ne.useState(""),[a,o]=ne.useState(""),[c,h]=ne.useState(!1),{login:f}=gd(),m=async v=>{if(v.preventDefault(),!n||!e){o("");return}h(!0),o("");const S=await f(n,e);h(!1),S.success||o(S.error||"")};return M.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:M.jsx("div",{className:"w-full max-w-md",children:M.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[M.jsxs("div",{className:"text-center mb-8",children:[M.jsx("div",{className:"w-16 h-16 bg-primary rounded-xl flex items-center justify-center mx-auto mb-4",children:M.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),M.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),M.jsx("p",{className:"text-gray-500 mt-1",children:"AKSO Work Log System"})]}),M.jsxs("form",{onSubmit:m,className:"space-y-5",children:[a&&M.jsx("div",{className:"p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm",children:a}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),M.jsx("input",{type:"text",value:n,onChange:v=>t(v.target.value),placeholder:"",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),M.jsx("input",{type:"password",value:e,onChange:v=>r(v.target.value),placeholder:"",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),M.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50",children:c?"...":" "})]}),M.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[M.jsx("p",{className:"text-xs text-gray-500 mb-2 font-medium",children:" Firebase Authentication "}),M.jsxs("p",{className:"text-xs text-gray-400",children:["@twkt.com",M.jsx("br",{}),"admin@twkt.com"]})]})]})})})}async function IC(n,t){try{let r=(await p2(h2(dd(ga,"workLogs"),f2("createdAt","desc")))).docs.map(a=>({id:a.id,...a.data()}));return n&&!t&&(r=r.filter(a=>a.userId===n)),r}catch(e){return console.error("Error getting work logs:",e),[]}}async function CC(n){const t=await m2(dd(ga,"workLogs"),{...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});return{...n,id:t.id}}async function R_(n,t){await Vm(jl(ga,"workLogs",n),{...t,updatedAt:new Date().toISOString()})}async function RC(n){await S3(jl(ga,"workLogs",n))}async function LC(n,t){try{let r=(await p2(h2(dd(ga,"tasks"),f2("createdAt","desc")))).docs.map(a=>({id:a.id,...a.data()}));return n&&!t&&(r=r.filter(a=>a.assignedTo.includes(n))),r}catch(e){return console.error("Error getting tasks:",e),[]}}async function kC(n){const t=await m2(dd(ga,"tasks"),{...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});return{...n,id:t.id}}async function OC(n,t){await Vm(jl(ga,"tasks",n),{...t,updatedAt:new Date().toISOString()})}async function C3(){try{const n=jl(ga,"contracts","main"),t=await d2(n);return t.exists()?t.data():null}catch(n){return console.error("Error getting contract:",n),null}}async function DC(n){await A3(jl(ga,"contracts","main"),n)}function L_({onClose:n,onSubmit:t,editingLog:e,initialData:r}){const a=e||r,[o,c]=ne.useState(""),[h,f]=ne.useState(""),[m,v]=ne.useState(""),[S,x]=ne.useState(""),[b,U]=ne.useState(""),[B,G]=ne.useState(""),[F,st]=ne.useState("pending"),[Z,et]=ne.useState(!1);ne.useEffect(()=>{a?(c(a.date),f(a.task),v(a.response),x(a.completionDate),U(a.timeSpent),G(a.problems),st(a.status)):(c(new Date().toISOString().split("T")[0]),f(""),v(""),x(""),U(""),G(""),st("pending"))},[a]);const bt=async St=>{St.preventDefault(),et(!0),await t({date:o,task:h,response:m,completionDate:S,timeSpent:b,problems:B,status:F}),et(!1)};return M.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[M.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:n}),M.jsxs("div",{className:"relative bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[M.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b sticky top-0 bg-white",children:[M.jsx("h2",{className:"text-lg font-semibold",children:a?"":""}),M.jsx("button",{onClick:n,className:"p-1 text-gray-400 hover:text-gray-600",children:M.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),M.jsxs("form",{onSubmit:bt,className:"p-6 space-y-4",children:[M.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsx("input",{type:"date",value:o,onChange:St=>c(St.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsxs("select",{value:F,onChange:St=>st(St.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[M.jsx("option",{value:"pending",children:""}),M.jsx("option",{value:"processing",children:""}),M.jsx("option",{value:"completed",children:""})]})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsx("textarea",{value:h,onChange:St=>f(St.target.value),rows:3,placeholder:"...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsx("textarea",{value:m,onChange:St=>v(St.target.value),rows:2,placeholder:"...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),M.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsx("input",{type:"date",value:S,onChange:St=>x(St.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsx("input",{type:"text",value:b,onChange:St=>U(St.target.value),placeholder:"6",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsx("textarea",{value:B,onChange:St=>G(St.target.value),rows:2,placeholder:"...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),M.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[M.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg",children:""}),M.jsx("button",{type:"submit",disabled:Z,className:"px-4 py-2 bg-primary text-white rounded-lg disabled:opacity-50",children:Z?"...":""})]})]})]})]})}const PC={pending:"bg-yellow-100 text-yellow-700",processing:"bg-blue-100 text-blue-700",completed:"bg-green-100 text-green-700"},MC={pending:"",processing:"",completed:""};function jC({userId:n,isAdmin:t}){const[e,r]=ne.useState([]),[a,o]=ne.useState([]),[c,h]=ne.useState(!1),[f,m]=ne.useState(null),[v,S]=ne.useState(t?"":n),[x,b]=ne.useState(null),[U,B]=ne.useState(""),[G,F]=ne.useState(!0),st=ne.useCallback(async()=>{F(!0);const[C,ot]=await Promise.all([IC(n,t),Bm()]);r(C),o(ot),F(!1)},[n,t]);ne.useEffect(()=>{st()},[st]);const Z=new Date().toISOString().split("T")[0],et=e.some(C=>C.userId===n&&C.date===Z),bt=t||!et,St=async C=>{await CC({userId:n,...C}),await st(),h(!1)},Y=async(C,ot)=>{await R_(C,ot),await st(),m(null)},D=async C=>{confirm("")&&(await RC(C),await st())},R=async()=>{!x||!U.trim()||(await R_(x.id,{supervisorReply:U,supervisorReplyAt:new Date().toISOString()}),await st(),b(null),B(""))},q=C=>a.find(ot=>ot.id===C)?.name||"",N=C=>a.find(ot=>ot.id===C)?.department||"",O=v?e.filter(C=>C.userId===v):e;return G?M.jsx("div",{className:"text-center py-12",children:M.jsx("p",{className:"text-gray-500",children:"..."})}):M.jsxs("div",{children:[M.jsxs("div",{className:"flex items-center justify-between mb-6",children:[M.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:""}),M.jsxs("div",{className:"flex gap-3",children:[t&&M.jsxs("select",{value:v,onChange:C=>S(C.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[M.jsx("option",{value:"",children:""}),a.filter(C=>C.role==="employee").map(C=>M.jsx("option",{value:C.id,children:C.name},C.id))]}),bt&&M.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:[M.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),""]})]})]}),!bt&&!t&&M.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-yellow-700 text-sm",children:""}),O.length===0?M.jsx("div",{className:"text-center py-12 text-gray-500",children:M.jsx("p",{children:""})}):M.jsx("div",{className:"space-y-4",children:O.map(C=>M.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[M.jsxs("div",{className:"flex items-start justify-between mb-3",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${PC[C.status]}`,children:MC[C.status]}),M.jsx("span",{className:"text-sm text-gray-500",children:C.date}),t&&M.jsxs("span",{className:"text-sm text-gray-400",children:[" ",q(C.userId)," (",N(C.userId),")"]})]}),C.userId===n&&M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{onClick:()=>m(C),className:"text-sm text-blue-600 hover:underline",children:""}),M.jsx("button",{onClick:()=>D(C.id),className:"text-sm text-red-600 hover:underline",children:""})]})]}),M.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:C.task}),M.jsx("p",{className:"text-gray-600 text-sm mb-2",children:C.response}),M.jsxs("div",{className:"flex gap-4 text-sm text-gray-500 mb-3",children:[C.completionDate&&M.jsxs("span",{children:["",C.completionDate]}),C.timeSpent&&M.jsxs("span",{children:["",C.timeSpent]})]}),C.problems&&M.jsxs("div",{className:"p-3 bg-red-50 rounded-lg mb-3",children:[M.jsx("p",{className:"text-xs text-red-600 mb-1",children:""}),M.jsx("p",{className:"text-gray-700 text-sm",children:C.problems})]}),C.supervisorReply&&M.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg mb-3",children:[M.jsx("p",{className:"text-xs text-blue-600 mb-1",children:""}),M.jsx("p",{className:"text-gray-700 text-sm",children:C.supervisorReply})]}),t&&!C.supervisorReply&&M.jsx("div",{className:"border-t border-gray-100 pt-3 mt-3",children:x?.id===C.id?M.jsxs("div",{className:"space-y-2",children:[M.jsx("textarea",{value:U,onChange:ot=>B(ot.target.value),placeholder:"...",rows:2,className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-primary"}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{onClick:R,className:"px-3 py-1 bg-primary text-white rounded-lg text-sm",children:""}),M.jsx("button",{onClick:()=>{b(null),B("")},className:"px-3 py-1 text-gray-600 bg-gray-100 rounded-lg text-sm",children:""})]})]}):M.jsx("button",{onClick:()=>b(C),className:"text-sm text-primary hover:underline",children:""})})]},C.id))}),c&&M.jsx(L_,{onClose:()=>h(!1),onSubmit:St}),f&&M.jsx(L_,{initialData:f,onClose:()=>m(null),onSubmit:C=>Y(f.id,C)})]})}function Qn(n){"@babel/helpers - typeof";return Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qn(n)}var mo=Uint8Array,ma=Uint16Array,y2=Int32Array,v2=new mo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_2=new mo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),k_=new mo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),R3=function(n,t){for(var e=new ma(31),r=0;r<31;++r)e[r]=t+=1<<n[r-1];for(var a=new y2(e[30]),r=1;r<30;++r)for(var o=e[r];o<e[r+1];++o)a[o]=o-e[r]<<5|r;return{b:e,r:a}},L3=R3(v2,2),UC=L3.b,h0=L3.r;UC[28]=258,h0[258]=28;var VC=R3(_2,0),O_=VC.r,f0=new ma(32768);for(var yi=0;yi<32768;++yi){var pu=(yi&43690)>>1|(yi&21845)<<1;pu=(pu&52428)>>2|(pu&13107)<<2,pu=(pu&61680)>>4|(pu&3855)<<4,f0[yi]=((pu&65280)>>8|(pu&255)<<8)>>1}var Hf=(function(n,t,e){for(var r=n.length,a=0,o=new ma(t);a<r;++a)n[a]&&++o[n[a]-1];var c=new ma(t);for(a=1;a<t;++a)c[a]=c[a-1]+o[a-1]<<1;var h;if(e){h=new ma(1<<t);var f=15-t;for(a=0;a<r;++a)if(n[a])for(var m=a<<4|n[a],v=t-n[a],S=c[n[a]-1]++<<v,x=S|(1<<v)-1;S<=x;++S)h[f0[S]>>f]=m}else for(h=new ma(r),a=0;a<r;++a)n[a]&&(h[a]=f0[c[n[a]-1]++]>>15-n[a]);return h}),mc=new mo(288);for(var yi=0;yi<144;++yi)mc[yi]=8;for(var yi=144;yi<256;++yi)mc[yi]=9;for(var yi=256;yi<280;++yi)mc[yi]=7;for(var yi=280;yi<288;++yi)mc[yi]=8;var om=new mo(32);for(var yi=0;yi<32;++yi)om[yi]=5;var BC=Hf(mc,9,0),FC=Hf(om,5,0),k3=function(n){return(n+7)/8|0},zC=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new mo(n.subarray(t,e))},Tl=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8},Cf=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8,n[r+2]|=e>>16},_1=function(n,t){for(var e=[],r=0;r<n.length;++r)n[r]&&e.push({s:r,f:n[r]});var a=e.length,o=e.slice();if(!a)return{t:D3,l:0};if(a==1){var c=new mo(e[0].s+1);return c[e[0].s]=1,{t:c,l:1}}e.sort(function(bt,St){return bt.f-St.f}),e.push({s:-1,f:25001});var h=e[0],f=e[1],m=0,v=1,S=2;for(e[0]={s:-1,f:h.f+f.f,l:h,r:f};v!=a-1;)h=e[e[m].f<e[S].f?m++:S++],f=e[m!=v&&e[m].f<e[S].f?m++:S++],e[v++]={s:-1,f:h.f+f.f,l:h,r:f};for(var x=o[0].s,r=1;r<a;++r)o[r].s>x&&(x=o[r].s);var b=new ma(x+1),U=d0(e[v-1],b,0);if(U>t){var r=0,B=0,G=U-t,F=1<<G;for(o.sort(function(St,Y){return b[Y.s]-b[St.s]||St.f-Y.f});r<a;++r){var st=o[r].s;if(b[st]>t)B+=F-(1<<U-b[st]),b[st]=t;else break}for(B>>=G;B>0;){var Z=o[r].s;b[Z]<t?B-=1<<t-b[Z]++-1:++r}for(;r>=0&&B;--r){var et=o[r].s;b[et]==t&&(--b[et],++B)}U=t}return{t:new mo(b),l:U}},d0=function(n,t,e){return n.s==-1?Math.max(d0(n.l,t,e+1),d0(n.r,t,e+1)):t[n.s]=e},D_=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new ma(++t),r=0,a=n[0],o=1,c=function(f){e[r++]=f},h=1;h<=t;++h)if(n[h]==a&&h!=t)++o;else{if(!a&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(a),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(a);o=1,a=n[h]}return{c:e.subarray(0,r),n:t}},Rf=function(n,t){for(var e=0,r=0;r<t.length;++r)e+=n[r]*t[r];return e},O3=function(n,t,e){var r=e.length,a=k3(t+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<r;++o)n[a+o+4]=e[o];return(a+4+r)*8},P_=function(n,t,e,r,a,o,c,h,f,m,v){Tl(t,v++,e),++a[256];for(var S=_1(a,15),x=S.t,b=S.l,U=_1(o,15),B=U.t,G=U.l,F=D_(x),st=F.c,Z=F.n,et=D_(B),bt=et.c,St=et.n,Y=new ma(19),D=0;D<st.length;++D)++Y[st[D]&31];for(var D=0;D<bt.length;++D)++Y[bt[D]&31];for(var R=_1(Y,7),q=R.t,N=R.l,O=19;O>4&&!q[k_[O-1]];--O);var C=m+5<<3,ot=Rf(a,mc)+Rf(o,om)+c,xt=Rf(a,x)+Rf(o,B)+c+14+3*O+Rf(Y,q)+2*Y[16]+3*Y[17]+7*Y[18];if(f>=0&&C<=ot&&C<=xt)return O3(t,v,n.subarray(f,f+m));var at,pt,ft,Ct;if(Tl(t,v,1+(xt<ot)),v+=2,xt<ot){at=Hf(x,b,0),pt=x,ft=Hf(B,G,0),Ct=B;var Ht=Hf(q,N,0);Tl(t,v,Z-257),Tl(t,v+5,St-1),Tl(t,v+10,O-4),v+=14;for(var D=0;D<O;++D)Tl(t,v+3*D,q[k_[D]]);v+=3*O;for(var $=[st,bt],k=0;k<2;++k)for(var K=$[k],D=0;D<K.length;++D){var J=K[D]&31;Tl(t,v,Ht[J]),v+=q[J],J>15&&(Tl(t,v,K[D]>>5&127),v+=K[D]>>12)}}else at=BC,pt=mc,ft=FC,Ct=om;for(var D=0;D<h;++D){var lt=r[D];if(lt>255){var J=lt>>18&31;Cf(t,v,at[J+257]),v+=pt[J+257],J>7&&(Tl(t,v,lt>>23&31),v+=v2[J]);var ct=lt&31;Cf(t,v,ft[ct]),v+=Ct[ct],ct>3&&(Cf(t,v,lt>>5&8191),v+=_2[ct])}else Cf(t,v,at[lt]),v+=pt[lt]}return Cf(t,v,at[256]),v+pt[256]},qC=new y2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),D3=new mo(0),HC=function(n,t,e,r,a,o){var c=o.z||n.length,h=new mo(r+c+5*(1+Math.ceil(c/7e3))+a),f=h.subarray(r,h.length-a),m=o.l,v=(o.r||0)&7;if(t){v&&(f[0]=o.r>>3);for(var S=qC[t-1],x=S>>13,b=S&8191,U=(1<<e)-1,B=o.p||new ma(32768),G=o.h||new ma(U+1),F=Math.ceil(e/3),st=2*F,Z=function(ce){return(n[ce]^n[ce+1]<<F^n[ce+2]<<st)&U},et=new y2(25e3),bt=new ma(288),St=new ma(32),Y=0,D=0,R=o.i||0,q=0,N=o.w||0,O=0;R+2<c;++R){var C=Z(R),ot=R&32767,xt=G[C];if(B[ot]=xt,G[C]=ot,N<=R){var at=c-R;if((Y>7e3||q>24576)&&(at>423||!m)){v=P_(n,f,0,et,bt,St,D,q,O,R-O,v),q=Y=D=0,O=R;for(var pt=0;pt<286;++pt)bt[pt]=0;for(var pt=0;pt<30;++pt)St[pt]=0}var ft=2,Ct=0,Ht=b,$=ot-xt&32767;if(at>2&&C==Z(R-$))for(var k=Math.min(x,at)-1,K=Math.min(32767,R),J=Math.min(258,at);$<=K&&--Ht&&ot!=xt;){if(n[R+ft]==n[R+ft-$]){for(var lt=0;lt<J&&n[R+lt]==n[R+lt-$];++lt);if(lt>ft){if(ft=lt,Ct=$,lt>k)break;for(var ct=Math.min($,lt-2),gt=0,pt=0;pt<ct;++pt){var kt=R-$+pt&32767,Rt=B[kt],Vt=kt-Rt&32767;Vt>gt&&(gt=Vt,xt=kt)}}}ot=xt,xt=B[ot],$+=ot-xt&32767}if(Ct){et[q++]=268435456|h0[ft]<<18|O_[Ct];var Xt=h0[ft]&31,ee=O_[Ct]&31;D+=v2[Xt]+_2[ee],++bt[257+Xt],++St[ee],N=R+ft,++Y}else et[q++]=n[R],++bt[n[R]]}}for(R=Math.max(R,N);R<c;++R)et[q++]=n[R],++bt[n[R]];v=P_(n,f,m,et,bt,St,D,q,O,R-O,v),m||(o.r=v&7|f[v/8|0]<<3,v-=7,o.h=G,o.p=B,o.i=R,o.w=N)}else{for(var R=o.w||0;R<c+m;R+=65535){var te=R+65535;te>=c&&(f[v/8|0]=m,te=c),v=O3(f,v+1,n.subarray(R,te))}o.i=c}return zC(h,0,r+k3(v)+a)},P3=function(){var n=1,t=0;return{p:function(e){for(var r=n,a=t,o=e.length|0,c=0;c!=o;){for(var h=Math.min(c+2655,o);c<h;++c)a+=r+=e[c];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,t=a},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},GC=function(n,t,e,r,a){if(!a&&(a={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),c=new mo(o.length+n.length);c.set(o),c.set(n,o.length),n=c,a.w=o.length}return HC(n,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,r,a)},M3=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},YC=function(n,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=r<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var a=P3();a.p(t.dictionary),M3(n,2,a.d())}};function p0(n,t){t||(t={});var e=P3();e.p(n);var r=GC(n,t,t.dictionary?6:2,4);return YC(r,t),M3(r,r.length-4,e.d()),r}var KC=typeof TextDecoder<"u"&&new TextDecoder,WC=0;try{KC.decode(D3,{stream:!0}),WC=1}catch{}function QC(n){if(Array.isArray(n))return n}function XC(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,a,o,c,h=[],f=!0,m=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(f=(r=o.call(e)).done)&&(h.push(r.value),h.length!==t);f=!0);}catch(v){m=!0,a=v}finally{try{if(!f&&e.return!=null&&(c=e.return(),Object(c)!==c))return}finally{if(m)throw a}}return h}}function M_(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function $C(n,t){if(n){if(typeof n=="string")return M_(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?M_(n,t):void 0}}function JC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j_(n,t){return QC(n)||XC(n,t)||$C(n,t)||JC()}function U_(n,t="utf8"){return new TextDecoder(t).decode(n)}const ZC=new TextEncoder;function tR(n){return ZC.encode(n)}const eR=1024*8,nR=(()=>{const n=new Uint8Array(4),t=new Uint32Array(n.buffer);return!((t[0]=1)&n[0])})(),b1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class b2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=eR,e={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const a=e.offset?e.offset>>>0:0,o=t.byteLength-a;let c=a;(ArrayBuffer.isView(t)||t instanceof b2)&&(t.byteLength!==t.buffer.byteLength&&(c=t.byteOffset+a),t=t.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const r=b1[e].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+r);if(this.littleEndian===nR&&e!=="uint8"&&e!=="int8"){const h=new Uint8Array(this.buffer.slice(a,a+r));h.reverse();const f=new b1[e](h.buffer);return this.offset+=r,f.reverse(),f}const c=new b1[e](o);return this.offset+=r,c}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){return U_(this.readBytes(t))}decodeText(t=1,e="utf8"){return U_(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(tR(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function zh(n){let t=n.length;for(;--t>=0;)n[t]=0}const iR=3,rR=258,j3=29,sR=256,aR=sR+1+j3,U3=30,oR=512,lR=new Array((aR+2)*2);zh(lR);const uR=new Array(U3*2);zh(uR);const cR=new Array(oR);zh(cR);const hR=new Array(rR-iR+1);zh(hR);const fR=new Array(j3);zh(fR);const dR=new Array(U3);zh(dR);const pR=(n,t,e,r)=>{let a=n&65535|0,o=n>>>16&65535|0,c=0;for(;e!==0;){c=e>2e3?2e3:e,e-=c;do a=a+t[r++]|0,o=o+a|0;while(--c);a%=65521,o%=65521}return a|o<<16|0};var m0=pR;const mR=()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t},gR=new Uint32Array(mR()),yR=(n,t,e,r)=>{const a=gR,o=r+e;n^=-1;for(let c=r;c<o;c++)n=n>>>8^a[(n^t[c])&255];return n^-1};var Bo=yR,g0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},V3={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const vR=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var _R=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)vR(e,r)&&(n[r]=e[r])}}return n},bR=n=>{let t=0;for(let r=0,a=n.length;r<a;r++)t+=n[r].length;const e=new Uint8Array(t);for(let r=0,a=0,o=n.length;r<o;r++){let c=n[r];e.set(c,a),a+=c.length}return e},B3={assign:_R,flattenChunks:bR};let F3=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{F3=!1}const ed=new Uint8Array(256);for(let n=0;n<256;n++)ed[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;ed[254]=ed[254]=1;var wR=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,r,a,o,c=n.length,h=0;for(a=0;a<c;a++)e=n.charCodeAt(a),(e&64512)===55296&&a+1<c&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),h+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(h),o=0,a=0;o<h;a++)e=n.charCodeAt(a),(e&64512)===55296&&a+1<c&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t};const AR=(n,t)=>{if(t<65534&&n.subarray&&F3)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let e="";for(let r=0;r<t;r++)e+=String.fromCharCode(n[r]);return e};var SR=(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let r,a;const o=new Array(e*2);for(a=0,r=0;r<e;){let c=n[r++];if(c<128){o[a++]=c;continue}let h=ed[c];if(h>4){o[a++]=65533,r+=h-1;continue}for(c&=h===2?31:h===3?15:7;h>1&&r<e;)c=c<<6|n[r++]&63,h--;if(h>1){o[a++]=65533;continue}c<65536?o[a++]=c:(c-=65536,o[a++]=55296|c>>10&1023,o[a++]=56320|c&1023)}return AR(o,a)},ER=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+ed[n[e]]>t?e:t},y0={string2buf:wR,buf2string:SR,utf8border:ER};function xR(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var TR=xR;const yp=16209,NR=16191;var IR=function(t,e){let r,a,o,c,h,f,m,v,S,x,b,U,B,G,F,st,Z,et,bt,St,Y,D,R,q;const N=t.state;r=t.next_in,R=t.input,a=r+(t.avail_in-5),o=t.next_out,q=t.output,c=o-(e-t.avail_out),h=o+(t.avail_out-257),f=N.dmax,m=N.wsize,v=N.whave,S=N.wnext,x=N.window,b=N.hold,U=N.bits,B=N.lencode,G=N.distcode,F=(1<<N.lenbits)-1,st=(1<<N.distbits)-1;t:do{U<15&&(b+=R[r++]<<U,U+=8,b+=R[r++]<<U,U+=8),Z=B[b&F];e:for(;;){if(et=Z>>>24,b>>>=et,U-=et,et=Z>>>16&255,et===0)q[o++]=Z&65535;else if(et&16){bt=Z&65535,et&=15,et&&(U<et&&(b+=R[r++]<<U,U+=8),bt+=b&(1<<et)-1,b>>>=et,U-=et),U<15&&(b+=R[r++]<<U,U+=8,b+=R[r++]<<U,U+=8),Z=G[b&st];n:for(;;){if(et=Z>>>24,b>>>=et,U-=et,et=Z>>>16&255,et&16){if(St=Z&65535,et&=15,U<et&&(b+=R[r++]<<U,U+=8,U<et&&(b+=R[r++]<<U,U+=8)),St+=b&(1<<et)-1,St>f){t.msg="invalid distance too far back",N.mode=yp;break t}if(b>>>=et,U-=et,et=o-c,St>et){if(et=St-et,et>v&&N.sane){t.msg="invalid distance too far back",N.mode=yp;break t}if(Y=0,D=x,S===0){if(Y+=m-et,et<bt){bt-=et;do q[o++]=x[Y++];while(--et);Y=o-St,D=q}}else if(S<et){if(Y+=m+S-et,et-=S,et<bt){bt-=et;do q[o++]=x[Y++];while(--et);if(Y=0,S<bt){et=S,bt-=et;do q[o++]=x[Y++];while(--et);Y=o-St,D=q}}}else if(Y+=S-et,et<bt){bt-=et;do q[o++]=x[Y++];while(--et);Y=o-St,D=q}for(;bt>2;)q[o++]=D[Y++],q[o++]=D[Y++],q[o++]=D[Y++],bt-=3;bt&&(q[o++]=D[Y++],bt>1&&(q[o++]=D[Y++]))}else{Y=o-St;do q[o++]=q[Y++],q[o++]=q[Y++],q[o++]=q[Y++],bt-=3;while(bt>2);bt&&(q[o++]=q[Y++],bt>1&&(q[o++]=q[Y++]))}}else if((et&64)===0){Z=G[(Z&65535)+(b&(1<<et)-1)];continue n}else{t.msg="invalid distance code",N.mode=yp;break t}break}}else if((et&64)===0){Z=B[(Z&65535)+(b&(1<<et)-1)];continue e}else if(et&32){N.mode=NR;break t}else{t.msg="invalid literal/length code",N.mode=yp;break t}break}}while(r<a&&o<h);bt=U>>3,r-=bt,U-=bt<<3,b&=(1<<U)-1,t.next_in=r,t.next_out=o,t.avail_in=r<a?5+(a-r):5-(r-a),t.avail_out=o<h?257+(h-o):257-(o-h),N.hold=b,N.bits=U};const sh=15,V_=852,B_=592,F_=0,w1=1,z_=2,CR=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),RR=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),LR=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),kR=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),OR=(n,t,e,r,a,o,c,h)=>{const f=h.bits;let m=0,v=0,S=0,x=0,b=0,U=0,B=0,G=0,F=0,st=0,Z,et,bt,St,Y,D=null,R;const q=new Uint16Array(sh+1),N=new Uint16Array(sh+1);let O=null,C,ot,xt;for(m=0;m<=sh;m++)q[m]=0;for(v=0;v<r;v++)q[t[e+v]]++;for(b=f,x=sh;x>=1&&q[x]===0;x--);if(b>x&&(b=x),x===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,h.bits=1,0;for(S=1;S<x&&q[S]===0;S++);for(b<S&&(b=S),G=1,m=1;m<=sh;m++)if(G<<=1,G-=q[m],G<0)return-1;if(G>0&&(n===F_||x!==1))return-1;for(N[1]=0,m=1;m<sh;m++)N[m+1]=N[m]+q[m];for(v=0;v<r;v++)t[e+v]!==0&&(c[N[t[e+v]]++]=v);if(n===F_?(D=O=c,R=20):n===w1?(D=CR,O=RR,R=257):(D=LR,O=kR,R=0),st=0,v=0,m=S,Y=o,U=b,B=0,bt=-1,F=1<<b,St=F-1,n===w1&&F>V_||n===z_&&F>B_)return 1;for(;;){C=m-B,c[v]+1<R?(ot=0,xt=c[v]):c[v]>=R?(ot=O[c[v]-R],xt=D[c[v]-R]):(ot=96,xt=0),Z=1<<m-B,et=1<<U,S=et;do et-=Z,a[Y+(st>>B)+et]=C<<24|ot<<16|xt|0;while(et!==0);for(Z=1<<m-1;st&Z;)Z>>=1;if(Z!==0?(st&=Z-1,st+=Z):st=0,v++,--q[m]===0){if(m===x)break;m=t[e+c[v]]}if(m>b&&(st&St)!==bt){for(B===0&&(B=b),Y+=S,U=m-B,G=1<<U;U+B<x&&(G-=q[U+B],!(G<=0));)U++,G<<=1;if(F+=1<<U,n===w1&&F>V_||n===z_&&F>B_)return 1;bt=st&St,a[bt]=b<<24|U<<16|Y-o|0}}return st!==0&&(a[Y+st]=m-B<<24|64<<16|0),h.bits=b,0};var Gf=OR;const DR=0,z3=1,q3=2,{Z_FINISH:q_,Z_BLOCK:PR,Z_TREES:vp,Z_OK:gc,Z_STREAM_END:MR,Z_NEED_DICT:jR,Z_STREAM_ERROR:Ba,Z_DATA_ERROR:H3,Z_MEM_ERROR:G3,Z_BUF_ERROR:UR,Z_DEFLATED:H_}=V3,Fm=16180,G_=16181,Y_=16182,K_=16183,W_=16184,Q_=16185,X_=16186,$_=16187,J_=16188,Z_=16189,lm=16190,Nl=16191,A1=16192,tb=16193,S1=16194,eb=16195,nb=16196,ib=16197,rb=16198,_p=16199,bp=16200,sb=16201,ab=16202,ob=16203,lb=16204,ub=16205,E1=16206,cb=16207,hb=16208,Ei=16209,Y3=16210,K3=16211,VR=852,BR=592,FR=15,zR=FR,fb=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function qR(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Sc=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<Fm||t.mode>K3?1:0},W3=n=>{if(Sc(n))return Ba;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=Fm,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(VR),t.distcode=t.distdyn=new Int32Array(BR),t.sane=1,t.back=-1,gc},Q3=n=>{if(Sc(n))return Ba;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,W3(n)},X3=(n,t)=>{let e;if(Sc(n))return Ba;const r=n.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ba:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=e,r.wbits=t,Q3(n))},$3=(n,t)=>{if(!n)return Ba;const e=new qR;n.state=e,e.strm=n,e.window=null,e.mode=Fm;const r=X3(n,t);return r!==gc&&(n.state=null),r},HR=n=>$3(n,zR);let db=!0,x1,T1;const GR=n=>{if(db){x1=new Int32Array(512),T1=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(Gf(z3,n.lens,0,288,x1,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;Gf(q3,n.lens,0,32,T1,0,n.work,{bits:5}),db=!1}n.lencode=x1,n.lenbits=9,n.distcode=T1,n.distbits=5},J3=(n,t,e,r)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(t.subarray(e-r,e-r+a),o.wnext),r-=a,r?(o.window.set(t.subarray(e-r,e),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},YR=(n,t)=>{let e,r,a,o,c,h,f,m,v,S,x,b,U,B,G=0,F,st,Z,et,bt,St,Y,D;const R=new Uint8Array(4);let q,N;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Sc(n)||!n.output||!n.input&&n.avail_in!==0)return Ba;e=n.state,e.mode===Nl&&(e.mode=A1),c=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,m=e.hold,v=e.bits,S=h,x=f,D=gc;t:for(;;)switch(e.mode){case Fm:if(e.wrap===0){e.mode=A1;break}for(;v<16;){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}if(e.wrap&2&&m===35615){e.wbits===0&&(e.wbits=15),e.check=0,R[0]=m&255,R[1]=m>>>8&255,e.check=Bo(e.check,R,2,0),m=0,v=0,e.mode=G_;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((m&255)<<8)+(m>>8))%31){n.msg="incorrect header check",e.mode=Ei;break}if((m&15)!==H_){n.msg="unknown compression method",e.mode=Ei;break}if(m>>>=4,v-=4,Y=(m&15)+8,e.wbits===0&&(e.wbits=Y),Y>15||Y>e.wbits){n.msg="invalid window size",e.mode=Ei;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=m&512?Z_:Nl,m=0,v=0;break;case G_:for(;v<16;){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}if(e.flags=m,(e.flags&255)!==H_){n.msg="unknown compression method",e.mode=Ei;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=Ei;break}e.head&&(e.head.text=m>>8&1),e.flags&512&&e.wrap&4&&(R[0]=m&255,R[1]=m>>>8&255,e.check=Bo(e.check,R,2,0)),m=0,v=0,e.mode=Y_;case Y_:for(;v<32;){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}e.head&&(e.head.time=m),e.flags&512&&e.wrap&4&&(R[0]=m&255,R[1]=m>>>8&255,R[2]=m>>>16&255,R[3]=m>>>24&255,e.check=Bo(e.check,R,4,0)),m=0,v=0,e.mode=K_;case K_:for(;v<16;){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}e.head&&(e.head.xflags=m&255,e.head.os=m>>8),e.flags&512&&e.wrap&4&&(R[0]=m&255,R[1]=m>>>8&255,e.check=Bo(e.check,R,2,0)),m=0,v=0,e.mode=W_;case W_:if(e.flags&1024){for(;v<16;){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}e.length=m,e.head&&(e.head.extra_len=m),e.flags&512&&e.wrap&4&&(R[0]=m&255,R[1]=m>>>8&255,e.check=Bo(e.check,R,2,0)),m=0,v=0}else e.head&&(e.head.extra=null);e.mode=Q_;case Q_:if(e.flags&1024&&(b=e.length,b>h&&(b=h),b&&(e.head&&(Y=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(o,o+b),Y)),e.flags&512&&e.wrap&4&&(e.check=Bo(e.check,r,b,o)),h-=b,o+=b,e.length-=b),e.length))break t;e.length=0,e.mode=X_;case X_:if(e.flags&2048){if(h===0)break t;b=0;do Y=r[o+b++],e.head&&Y&&e.length<65536&&(e.head.name+=String.fromCharCode(Y));while(Y&&b<h);if(e.flags&512&&e.wrap&4&&(e.check=Bo(e.check,r,b,o)),h-=b,o+=b,Y)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=$_;case $_:if(e.flags&4096){if(h===0)break t;b=0;do Y=r[o+b++],e.head&&Y&&e.length<65536&&(e.head.comment+=String.fromCharCode(Y));while(Y&&b<h);if(e.flags&512&&e.wrap&4&&(e.check=Bo(e.check,r,b,o)),h-=b,o+=b,Y)break t}else e.head&&(e.head.comment=null);e.mode=J_;case J_:if(e.flags&512){for(;v<16;){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}if(e.wrap&4&&m!==(e.check&65535)){n.msg="header crc mismatch",e.mode=Ei;break}m=0,v=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=Nl;break;case Z_:for(;v<32;){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}n.adler=e.check=fb(m),m=0,v=0,e.mode=lm;case lm:if(e.havedict===0)return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=m,e.bits=v,jR;n.adler=e.check=1,e.mode=Nl;case Nl:if(t===PR||t===vp)break t;case A1:if(e.last){m>>>=v&7,v-=v&7,e.mode=E1;break}for(;v<3;){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}switch(e.last=m&1,m>>>=1,v-=1,m&3){case 0:e.mode=tb;break;case 1:if(GR(e),e.mode=_p,t===vp){m>>>=2,v-=2;break t}break;case 2:e.mode=nb;break;case 3:n.msg="invalid block type",e.mode=Ei}m>>>=2,v-=2;break;case tb:for(m>>>=v&7,v-=v&7;v<32;){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}if((m&65535)!==(m>>>16^65535)){n.msg="invalid stored block lengths",e.mode=Ei;break}if(e.length=m&65535,m=0,v=0,e.mode=S1,t===vp)break t;case S1:e.mode=eb;case eb:if(b=e.length,b){if(b>h&&(b=h),b>f&&(b=f),b===0)break t;a.set(r.subarray(o,o+b),c),h-=b,o+=b,f-=b,c+=b,e.length-=b;break}e.mode=Nl;break;case nb:for(;v<14;){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}if(e.nlen=(m&31)+257,m>>>=5,v-=5,e.ndist=(m&31)+1,m>>>=5,v-=5,e.ncode=(m&15)+4,m>>>=4,v-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=Ei;break}e.have=0,e.mode=ib;case ib:for(;e.have<e.ncode;){for(;v<3;){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}e.lens[O[e.have++]]=m&7,m>>>=3,v-=3}for(;e.have<19;)e.lens[O[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,q={bits:e.lenbits},D=Gf(DR,e.lens,0,19,e.lencode,0,e.work,q),e.lenbits=q.bits,D){n.msg="invalid code lengths set",e.mode=Ei;break}e.have=0,e.mode=rb;case rb:for(;e.have<e.nlen+e.ndist;){for(;G=e.lencode[m&(1<<e.lenbits)-1],F=G>>>24,st=G>>>16&255,Z=G&65535,!(F<=v);){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}if(Z<16)m>>>=F,v-=F,e.lens[e.have++]=Z;else{if(Z===16){for(N=F+2;v<N;){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}if(m>>>=F,v-=F,e.have===0){n.msg="invalid bit length repeat",e.mode=Ei;break}Y=e.lens[e.have-1],b=3+(m&3),m>>>=2,v-=2}else if(Z===17){for(N=F+3;v<N;){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}m>>>=F,v-=F,Y=0,b=3+(m&7),m>>>=3,v-=3}else{for(N=F+7;v<N;){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}m>>>=F,v-=F,Y=0,b=11+(m&127),m>>>=7,v-=7}if(e.have+b>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=Ei;break}for(;b--;)e.lens[e.have++]=Y}}if(e.mode===Ei)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=Ei;break}if(e.lenbits=9,q={bits:e.lenbits},D=Gf(z3,e.lens,0,e.nlen,e.lencode,0,e.work,q),e.lenbits=q.bits,D){n.msg="invalid literal/lengths set",e.mode=Ei;break}if(e.distbits=6,e.distcode=e.distdyn,q={bits:e.distbits},D=Gf(q3,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,q),e.distbits=q.bits,D){n.msg="invalid distances set",e.mode=Ei;break}if(e.mode=_p,t===vp)break t;case _p:e.mode=bp;case bp:if(h>=6&&f>=258){n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=m,e.bits=v,IR(n,x),c=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,m=e.hold,v=e.bits,e.mode===Nl&&(e.back=-1);break}for(e.back=0;G=e.lencode[m&(1<<e.lenbits)-1],F=G>>>24,st=G>>>16&255,Z=G&65535,!(F<=v);){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}if(st&&(st&240)===0){for(et=F,bt=st,St=Z;G=e.lencode[St+((m&(1<<et+bt)-1)>>et)],F=G>>>24,st=G>>>16&255,Z=G&65535,!(et+F<=v);){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}m>>>=et,v-=et,e.back+=et}if(m>>>=F,v-=F,e.back+=F,e.length=Z,st===0){e.mode=ub;break}if(st&32){e.back=-1,e.mode=Nl;break}if(st&64){n.msg="invalid literal/length code",e.mode=Ei;break}e.extra=st&15,e.mode=sb;case sb:if(e.extra){for(N=e.extra;v<N;){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}e.length+=m&(1<<e.extra)-1,m>>>=e.extra,v-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=ab;case ab:for(;G=e.distcode[m&(1<<e.distbits)-1],F=G>>>24,st=G>>>16&255,Z=G&65535,!(F<=v);){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}if((st&240)===0){for(et=F,bt=st,St=Z;G=e.distcode[St+((m&(1<<et+bt)-1)>>et)],F=G>>>24,st=G>>>16&255,Z=G&65535,!(et+F<=v);){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}m>>>=et,v-=et,e.back+=et}if(m>>>=F,v-=F,e.back+=F,st&64){n.msg="invalid distance code",e.mode=Ei;break}e.offset=Z,e.extra=st&15,e.mode=ob;case ob:if(e.extra){for(N=e.extra;v<N;){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}e.offset+=m&(1<<e.extra)-1,m>>>=e.extra,v-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=Ei;break}e.mode=lb;case lb:if(f===0)break t;if(b=x-f,e.offset>b){if(b=e.offset-b,b>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=Ei;break}b>e.wnext?(b-=e.wnext,U=e.wsize-b):U=e.wnext-b,b>e.length&&(b=e.length),B=e.window}else B=a,U=c-e.offset,b=e.length;b>f&&(b=f),f-=b,e.length-=b;do a[c++]=B[U++];while(--b);e.length===0&&(e.mode=bp);break;case ub:if(f===0)break t;a[c++]=e.length,f--,e.mode=bp;break;case E1:if(e.wrap){for(;v<32;){if(h===0)break t;h--,m|=r[o++]<<v,v+=8}if(x-=f,n.total_out+=x,e.total+=x,e.wrap&4&&x&&(n.adler=e.check=e.flags?Bo(e.check,a,x,c-x):m0(e.check,a,x,c-x)),x=f,e.wrap&4&&(e.flags?m:fb(m))!==e.check){n.msg="incorrect data check",e.mode=Ei;break}m=0,v=0}e.mode=cb;case cb:if(e.wrap&&e.flags){for(;v<32;){if(h===0)break t;h--,m+=r[o++]<<v,v+=8}if(e.wrap&4&&m!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=Ei;break}m=0,v=0}e.mode=hb;case hb:D=MR;break t;case Ei:D=H3;break t;case Y3:return G3;case K3:default:return Ba}return n.next_out=c,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=m,e.bits=v,(e.wsize||x!==n.avail_out&&e.mode<Ei&&(e.mode<E1||t!==q_))&&J3(n,n.output,n.next_out,x-n.avail_out),S-=n.avail_in,x-=n.avail_out,n.total_in+=S,n.total_out+=x,e.total+=x,e.wrap&4&&x&&(n.adler=e.check=e.flags?Bo(e.check,a,x,n.next_out-x):m0(e.check,a,x,n.next_out-x)),n.data_type=e.bits+(e.last?64:0)+(e.mode===Nl?128:0)+(e.mode===_p||e.mode===S1?256:0),(S===0&&x===0||t===q_)&&D===gc&&(D=UR),D},KR=n=>{if(Sc(n))return Ba;let t=n.state;return t.window&&(t.window=null),n.state=null,gc},WR=(n,t)=>{if(Sc(n))return Ba;const e=n.state;return(e.wrap&2)===0?Ba:(e.head=t,t.done=!1,gc)},QR=(n,t)=>{const e=t.length;let r,a,o;return Sc(n)||(r=n.state,r.wrap!==0&&r.mode!==lm)?Ba:r.mode===lm&&(a=1,a=m0(a,t,e,0),a!==r.check)?H3:(o=J3(n,t,e,e),o?(r.mode=Y3,G3):(r.havedict=1,gc))};var XR=Q3,$R=X3,JR=W3,ZR=HR,t7=$3,e7=YR,n7=KR,i7=WR,r7=QR,s7="pako inflate (from Nodeca project)",Il={inflateReset:XR,inflateReset2:$R,inflateResetKeep:JR,inflateInit:ZR,inflateInit2:t7,inflate:e7,inflateEnd:n7,inflateGetHeader:i7,inflateSetDictionary:r7,inflateInfo:s7};function a7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var o7=a7;const Z3=Object.prototype.toString,{Z_NO_FLUSH:l7,Z_FINISH:u7,Z_OK:nd,Z_STREAM_END:N1,Z_NEED_DICT:I1,Z_STREAM_ERROR:c7,Z_DATA_ERROR:pb,Z_MEM_ERROR:h7}=V3;function yd(n){this.options=B3.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new TR,this.strm.avail_out=0;let e=Il.inflateInit2(this.strm,t.windowBits);if(e!==nd)throw new Error(g0[e]);if(this.header=new o7,Il.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=y0.string2buf(t.dictionary):Z3.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Il.inflateSetDictionary(this.strm,t.dictionary),e!==nd)))throw new Error(g0[e])}yd.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,c,h;if(this.ended)return!1;for(t===~~t?c=t:c=t===!0?u7:l7,Z3.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),o=Il.inflate(e,c),o===I1&&a&&(o=Il.inflateSetDictionary(e,a),o===nd?o=Il.inflate(e,c):o===pb&&(o=I1));e.avail_in>0&&o===N1&&e.state.wrap>0&&n[e.next_in]!==0;)Il.inflateReset(e),o=Il.inflate(e,c);switch(o){case c7:case pb:case I1:case h7:return this.onEnd(o),this.ended=!0,!1}if(h=e.avail_out,e.next_out&&(e.avail_out===0||o===N1))if(this.options.to==="string"){let f=y0.utf8border(e.output,e.next_out),m=e.next_out-f,v=y0.buf2string(e.output,f);e.next_out=m,e.avail_out=r-m,m&&e.output.set(e.output.subarray(f,f+m),0),this.onData(v)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===nd&&h===0)){if(o===N1)return o=Il.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};yd.prototype.onData=function(n){this.chunks.push(n)};yd.prototype.onEnd=function(n){n===nd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=B3.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function f7(n,t){const e=new yd(t);if(e.push(n),e.err)throw e.msg||g0[e.err];return e.result}var d7=yd,p7=f7,m7={Inflate:d7,inflate:p7};const{Inflate:g7,inflate:y7}=m7;var mb=g7,v7=y7;const tA=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;tA[n]=t}const gb=4294967295;function _7(n,t,e){let r=n;for(let a=0;a<e;a++)r=tA[(r^t[a])&255]^r>>>8;return r}function b7(n,t){return(_7(gb,n,t)^gb)>>>0}function yb(n,t,e){const r=n.readUint32(),a=b7(new Uint8Array(n.buffer,n.byteOffset+n.offset-t-4,t),t);if(a!==r)throw new Error(`CRC mismatch for chunk ${e}. Expected ${r}, found ${a}`)}function eA(n,t,e){for(let r=0;r<e;r++)t[r]=n[r]}function nA(n,t,e,r){let a=0;for(;a<r;a++)t[a]=n[a];for(;a<e;a++)t[a]=n[a]+t[a-r]&255}function iA(n,t,e,r){let a=0;if(e.length===0)for(;a<r;a++)t[a]=n[a];else for(;a<r;a++)t[a]=n[a]+e[a]&255}function rA(n,t,e,r,a){let o=0;if(e.length===0){for(;o<a;o++)t[o]=n[o];for(;o<r;o++)t[o]=n[o]+(t[o-a]>>1)&255}else{for(;o<a;o++)t[o]=n[o]+(e[o]>>1)&255;for(;o<r;o++)t[o]=n[o]+(t[o-a]+e[o]>>1)&255}}function sA(n,t,e,r,a){let o=0;if(e.length===0){for(;o<a;o++)t[o]=n[o];for(;o<r;o++)t[o]=n[o]+t[o-a]&255}else{for(;o<a;o++)t[o]=n[o]+e[o]&255;for(;o<r;o++)t[o]=n[o]+w7(t[o-a],e[o],e[o-a])&255}}function w7(n,t,e){const r=n+t-e,a=Math.abs(r-n),o=Math.abs(r-t),c=Math.abs(r-e);return a<=o&&a<=c?n:o<=c?t:e}function A7(n,t,e,r,a,o){switch(n){case 0:eA(t,e,a);break;case 1:nA(t,e,a,o);break;case 2:iA(t,e,r,a);break;case 3:rA(t,e,r,a,o);break;case 4:sA(t,e,r,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const S7=new Uint16Array([255]),E7=new Uint8Array(S7.buffer),x7=E7[0]===255;function T7(n){const{data:t,width:e,height:r,channels:a,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*a,f=new Uint8Array(r*e*h);let m=0;for(let v=0;v<7;v++){const S=c[v],x=Math.ceil((e-S.x)/S.xStep),b=Math.ceil((r-S.y)/S.yStep);if(x<=0||b<=0)continue;const U=x*h,B=new Uint8Array(U);for(let G=0;G<b;G++){const F=t[m++],st=t.subarray(m,m+U);m+=U;const Z=new Uint8Array(U);A7(F,st,Z,B,U,h),B.set(Z);for(let et=0;et<x;et++){const bt=S.x+et*S.xStep,St=S.y+G*S.yStep;if(!(bt>=e||St>=r))for(let Y=0;Y<h;Y++)f[(St*e+bt)*h+Y]=Z[et*h+Y]}}}if(o===16){const v=new Uint16Array(f.buffer);if(x7)for(let S=0;S<v.length;S++)v[S]=N7(v[S]);return v}else return f}function N7(n){return(n&255)<<8|n>>8&255}const I7=new Uint16Array([255]),C7=new Uint8Array(I7.buffer),R7=C7[0]===255,L7=new Uint8Array(0);function vb(n){const{data:t,width:e,height:r,channels:a,depth:o}=n,c=Math.ceil(o/8)*a,h=Math.ceil(o/8*a*e),f=new Uint8Array(r*h);let m=L7,v=0,S,x;for(let b=0;b<r;b++){switch(S=t.subarray(v+1,v+1+h),x=f.subarray(b*h,(b+1)*h),t[v]){case 0:eA(S,x,h);break;case 1:nA(S,x,h,c);break;case 2:iA(S,x,m,h);break;case 3:rA(S,x,m,h,c);break;case 4:sA(S,x,m,h,c);break;default:throw new Error(`Unsupported filter: ${t[v]}`)}m=x,v+=h+1}if(o===16){const b=new Uint16Array(f.buffer);if(R7)for(let U=0;U<b.length;U++)b[U]=k7(b[U]);return b}else return f}function k7(n){return(n&255)<<8|n>>8&255}const Dp=Uint8Array.of(137,80,78,71,13,10,26,10);function _b(n){if(!O7(n.readBytes(Dp.length)))throw new Error("wrong PNG signature")}function O7(n){if(n.length<Dp.length)return!1;for(let t=0;t<Dp.length;t++)if(n[t]!==Dp[t])return!1;return!0}const D7="tEXt",P7=0,aA=new TextDecoder("latin1");function M7(n){if(U7(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const j7=/^[\u0000-\u00FF]*$/;function U7(n){if(!j7.test(n))throw new Error("invalid latin1 text")}function V7(n,t,e){const r=oA(t);n[r]=B7(t,e-r.length-1)}function oA(n){for(n.mark();n.readByte()!==P7;);const t=n.offset;n.reset();const e=aA.decode(n.readBytes(t-n.offset-1));return n.skip(1),M7(e),e}function B7(n,t){return aA.decode(n.readBytes(t))}const fa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},C1={UNKNOWN:-1,DEFLATE:0},bb={UNKNOWN:-1,ADAPTIVE:0},R1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},wp={NONE:0,BACKGROUND:1,PREVIOUS:2},L1={SOURCE:0,OVER:1};class F7 extends b2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:r=!1}=e;this._checkCrc=r,this._inflator=new mb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=C1.UNKNOWN,this._filterMethod=bb.UNKNOWN,this._interlaceMethod=R1.UNKNOWN,this._colorType=fa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(_b(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(_b(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const r=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case D7:V7(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?yb(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const r=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?yb(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=z7(this.readUint8());const e=this.readUint8();this._colorType=e;let r;switch(e){case fa.GREYSCALE:r=1;break;case fa.TRUECOLOUR:r=3;break;case fa.INDEXED_COLOUR:r=1;break;case fa.GREYSCALE_ALPHA:r=2;break;case fa.TRUECOLOUR_ALPHA:r=4;break;case fa.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==C1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<e;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,r=this.offset+this.byteOffset;if(r+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case fa.GREYSCALE:case fa.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break}case fa.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const r=this.readByte();this._palette[e].push(r)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case fa.UNKNOWN:case fa.GREYSCALE_ALPHA:case fa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=oA(this),r=this.readUint8();if(r!==C1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:v7(a)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:e,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=vb({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)e.data=r.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(r,a,e),this.addFrameDataToCanvas(e,r)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,r){switch(t.disposeOp){case wp.NONE:break;case wp.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const c=(a*t.width+o)*this._png.channels;for(let h=0;h<this._png.channels;h++)r.data[c+h]=0}break;case wp.PREVIOUS:r.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const r=1<<this._png.depth,a=(o,c)=>{const h=((o+e.yOffset)*this._png.width+e.xOffset+c)*this._png.channels,f=(o*e.width+c)*this._png.channels;return{index:h,frameIndex:f}};switch(e.blendOp){case L1.SOURCE:for(let o=0;o<e.height;o++)for(let c=0;c<e.width;c++){const{index:h,frameIndex:f}=a(o,c);for(let m=0;m<this._png.channels;m++)t.data[h+m]=e.data[f+m]}break;case L1.OVER:for(let o=0;o<e.height;o++)for(let c=0;c<e.width;c++){const{index:h,frameIndex:f}=a(o,c);for(let m=0;m<this._png.channels;m++){const v=e.data[f+this._png.channels-1]/r,S=m%(this._png.channels-1)===0?1:e.data[f+m],x=Math.floor(v*S+(1-v)*t.data[h+m]);t.data[h+m]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==bb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===R1.NO_INTERLACE)this._png.data=vb({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===R1.ADAM7)this._png.data=T7({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:wp.NONE,blendOp:L1.SOURCE,data:t}),this._inflator=new mb,this._writingDataChunks=!1}}function z7(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var wb;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(wb||(wb={}));function q7(n,t){return new F7(n,t).decode()}var Ye=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function k1(){Ye.console&&typeof Ye.console.log=="function"&&Ye.console.log.apply(Ye.console,arguments)}var li={log:k1,warn:function(n){Ye.console&&(typeof Ye.console.warn=="function"?Ye.console.warn.apply(Ye.console,arguments):k1.call(null,arguments))},error:function(n){Ye.console&&(typeof Ye.console.error=="function"?Ye.console.error.apply(Ye.console,arguments):k1(n))}};function O1(n,t,e){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){sc(r.response,t,e)},r.onerror=function(){li.error("could not download file")},r.send()}function Ab(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Ap(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var sc=Ye.saveAs||((typeof window>"u"?"undefined":Qn(window))!=="object"||window!==Ye?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var r=Ye.URL||Ye.webkitURL,a=document.createElement("a");t=t||n.name||"download",a.download=t,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?Ab(a.href)?O1(n,t,e):Ap(a,a.target="_blank"):Ap(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){Ap(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(Ab(n))O1(n,t,e);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Ap(r)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Qn(o)!=="object"&&(li.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,e),t)}:function(n,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return O1(n,t,e);var a=n.type==="application/octet-stream",o=/constructor/i.test(Ye.HTMLElement)||Ye.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&o)&&(typeof FileReader>"u"?"undefined":Qn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var v=h.result;v=c?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=v:location=v,r=null},h.readAsDataURL(n)}else{var f=Ye.URL||Ye.webkitURL,m=f.createObjectURL(n);r?r.location=m:location.href=m,r=null,setTimeout(function(){f.revokeObjectURL(m)},4e4)}});function lA(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],r=0;r<e.length;r++){var a=e[r].re,o=e[r].process,c=a.exec(n);c&&(t=o(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),m=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),m.length==1&&(m="0"+m),"#"+h+f+m}}var Pp=Ye.atob.bind(Ye),Sb=Ye.btoa.bind(Ye);function D1(n,t){var e=n[0],r=n[1],a=n[2],o=n[3];e=hs(e,r,a,o,t[0],7,-680876936),o=hs(o,e,r,a,t[1],12,-389564586),a=hs(a,o,e,r,t[2],17,606105819),r=hs(r,a,o,e,t[3],22,-1044525330),e=hs(e,r,a,o,t[4],7,-176418897),o=hs(o,e,r,a,t[5],12,1200080426),a=hs(a,o,e,r,t[6],17,-1473231341),r=hs(r,a,o,e,t[7],22,-45705983),e=hs(e,r,a,o,t[8],7,1770035416),o=hs(o,e,r,a,t[9],12,-1958414417),a=hs(a,o,e,r,t[10],17,-42063),r=hs(r,a,o,e,t[11],22,-1990404162),e=hs(e,r,a,o,t[12],7,1804603682),o=hs(o,e,r,a,t[13],12,-40341101),a=hs(a,o,e,r,t[14],17,-1502002290),e=fs(e,r=hs(r,a,o,e,t[15],22,1236535329),a,o,t[1],5,-165796510),o=fs(o,e,r,a,t[6],9,-1069501632),a=fs(a,o,e,r,t[11],14,643717713),r=fs(r,a,o,e,t[0],20,-373897302),e=fs(e,r,a,o,t[5],5,-701558691),o=fs(o,e,r,a,t[10],9,38016083),a=fs(a,o,e,r,t[15],14,-660478335),r=fs(r,a,o,e,t[4],20,-405537848),e=fs(e,r,a,o,t[9],5,568446438),o=fs(o,e,r,a,t[14],9,-1019803690),a=fs(a,o,e,r,t[3],14,-187363961),r=fs(r,a,o,e,t[8],20,1163531501),e=fs(e,r,a,o,t[13],5,-1444681467),o=fs(o,e,r,a,t[2],9,-51403784),a=fs(a,o,e,r,t[7],14,1735328473),e=ds(e,r=fs(r,a,o,e,t[12],20,-1926607734),a,o,t[5],4,-378558),o=ds(o,e,r,a,t[8],11,-2022574463),a=ds(a,o,e,r,t[11],16,1839030562),r=ds(r,a,o,e,t[14],23,-35309556),e=ds(e,r,a,o,t[1],4,-1530992060),o=ds(o,e,r,a,t[4],11,1272893353),a=ds(a,o,e,r,t[7],16,-155497632),r=ds(r,a,o,e,t[10],23,-1094730640),e=ds(e,r,a,o,t[13],4,681279174),o=ds(o,e,r,a,t[0],11,-358537222),a=ds(a,o,e,r,t[3],16,-722521979),r=ds(r,a,o,e,t[6],23,76029189),e=ds(e,r,a,o,t[9],4,-640364487),o=ds(o,e,r,a,t[12],11,-421815835),a=ds(a,o,e,r,t[15],16,530742520),e=ps(e,r=ds(r,a,o,e,t[2],23,-995338651),a,o,t[0],6,-198630844),o=ps(o,e,r,a,t[7],10,1126891415),a=ps(a,o,e,r,t[14],15,-1416354905),r=ps(r,a,o,e,t[5],21,-57434055),e=ps(e,r,a,o,t[12],6,1700485571),o=ps(o,e,r,a,t[3],10,-1894986606),a=ps(a,o,e,r,t[10],15,-1051523),r=ps(r,a,o,e,t[1],21,-2054922799),e=ps(e,r,a,o,t[8],6,1873313359),o=ps(o,e,r,a,t[15],10,-30611744),a=ps(a,o,e,r,t[6],15,-1560198380),r=ps(r,a,o,e,t[13],21,1309151649),e=ps(e,r,a,o,t[4],6,-145523070),o=ps(o,e,r,a,t[11],10,-1120210379),a=ps(a,o,e,r,t[2],15,718787259),r=ps(r,a,o,e,t[9],21,-343485551),n[0]=wu(e,n[0]),n[1]=wu(r,n[1]),n[2]=wu(a,n[2]),n[3]=wu(o,n[3])}function zm(n,t,e,r,a,o){return t=wu(wu(t,n),wu(r,o)),wu(t<<a|t>>>32-a,e)}function hs(n,t,e,r,a,o,c){return zm(t&e|~t&r,n,t,a,o,c)}function fs(n,t,e,r,a,o,c){return zm(t&r|e&~r,n,t,a,o,c)}function ds(n,t,e,r,a,o,c){return zm(t^e^r,n,t,a,o,c)}function ps(n,t,e,r,a,o,c){return zm(e^(t|~r),n,t,a,o,c)}function uA(n){var t,e=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)D1(r,H7(n.substring(t-64,t)));n=n.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)a[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(D1(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*e,D1(r,a),r}function H7(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}var Eb="0123456789abcdef".split("");function G7(n){for(var t="",e=0;e<4;e++)t+=Eb[n>>8*e+4&15]+Eb[n>>8*e&15];return t}function Y7(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function v0(n){return uA(n).map(Y7).join("")}var K7=(function(n){for(var t=0;t<n.length;t++)n[t]=G7(n[t]);return n.join("")})(uA("hello"))!="5d41402abc4b2a76b9719d911017c592";function wu(n,t){if(K7){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}function _0(n,t){var e,r,a,o;if(n!==e){for(var c=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),h=[],f=0;f<256;f++)h[f]=f;var m=0;for(f=0;f<256;f++){var v=h[f];m=(m+v+c.charCodeAt(f))%256,h[f]=h[m],h[m]=v}e=n,r=h}else h=r;var S=t.length,x=0,b=0,U="";for(f=0;f<S;f++)b=(b+(v=h[x=(x+1)%256]))%256,h[x]=h[b],h[b]=v,c=h[(h[x]+h[b])%256],U+=String.fromCharCode(t.charCodeAt(f)^c);return U}var xb={print:4,modify:8,copy:16,"annot-forms":32};function dh(n,t,e,r){this.v=1,this.r=2;var a=192;n.forEach(function(h){if(xb.perm!==void 0)throw new Error("Invalid permission: "+h);a+=xb[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),c=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^a)),this.encryptionKey=v0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=_0(this.encryptionKey,this.padding)}function ph(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,r=0;r<e;r++){var a=n.charCodeAt(r);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[r]}return t}function Tb(n){if(Qn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,a){if(a=a||!1,typeof e!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[r,!!a],o},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in t[e]){var c=t[e][o];try{c[0].apply(n,r)}catch(h){Ye.console&&li.error("jsPDF PubSub Error",h.message,h)}c[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function um(n){if(!(this instanceof um))return new um(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function cA(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function ac(n,t,e,r,a){if(!(this instanceof ac))return new ac(n,t,e,r,a);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,cA.call(this,r,a)}function yh(n,t,e,r,a){if(!(this instanceof yh))return new yh(n,t,e,r,a);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,cA.call(this,r,a)}function xe(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],c=[],h=1,f=16,m="S",v=null;Qn(n=n||{})==="object"&&(e=n.orientation,r=n.unit||r,a=n.format||a,o=n.compress||n.compressPdf||o,(v=n.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),m=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),r=r||"mm",e=(""+(e||"P")).toLowerCase();var S=n.putOnlyUsedFonts||!1,x={},b={internal:{},__private__:{}};b.__private__.PubSub=Tb;var U="1.3",B=b.__private__.getPdfVersion=function(){return U};b.__private__.setPdfVersion=function(w){U=w};var G={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return G};var F=b.__private__.getPageFormat=function(w){return G[w]};a=a||"a4";var st="compat",Z="advanced",et=st;function bt(){this.saveGraphicsState(),tt(new Se(He,0,0,-He,0,As()*He).toString()+" cm"),this.setFontSize(this.getFontSize()/He),m="n",et=Z}function St(){this.restoreGraphicsState(),m="S",et=st}var Y=b.__private__.combineFontStyleAndFontWeight=function(w,P){if(w=="bold"&&P=="normal"||w=="bold"&&P==400||w=="normal"&&P=="italic"||w=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(w=P==400||P==="normal"?w==="italic"?"italic":"normal":P!=700&&P!=="bold"||w!=="normal"?(P==700?"bold":P)+""+w:"bold"),w};b.advancedAPI=function(w){var P=et===st;return P&&bt.call(this),typeof w!="function"||(w(this),P&&St.call(this)),this},b.compatAPI=function(w){var P=et===Z;return P&&St.call(this),typeof w!="function"||(w(this),P&&bt.call(this)),this},b.isAdvancedAPI=function(){return et===Z};var D,R=function(w){if(et!==Z)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=b.roundToPrecision=b.__private__.roundToPrecision=function(w,P){var it=t||P;if(isNaN(w)||isNaN(it))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(it).replace(/0+$/,"")};D=b.hpf=b.__private__.hpf=typeof f=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return q(w,f)}:f==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return q(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return q(w,16)};var N=b.f2=b.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return q(w,2)},O=b.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return q(w,3)},C=b.scale=b.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return et===st?w*He:et===Z?w:void 0},ot=function(w){return C((function(P){return et===st?As()-P:et===Z?P:void 0})(w))};b.__private__.setPrecision=b.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(t=parseInt(w,10))};var xt,at="00000000000000000000000000000000",pt=b.__private__.getFileId=function(){return at},ft=b.__private__.setFileId=function(w){return at=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():at.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(ri=new dh(v.userPermissions,v.userPassword,v.ownerPassword,at)),at};b.setFileId=function(w){return ft(w),this},b.getFileId=function(){return pt()};var Ct=b.__private__.convertDateToPDFDate=function(w){var P=w.getTimezoneOffset(),it=P<0?"+":"-",ht=Math.floor(Math.abs(P/60)),vt=Math.abs(P%60),jt=[it,J(ht),"'",J(vt),"'"].join("");return["D:",w.getFullYear(),J(w.getMonth()+1),J(w.getDate()),J(w.getHours()),J(w.getMinutes()),J(w.getSeconds()),jt].join("")},Ht=b.__private__.convertPDFDateToDate=function(w){var P=parseInt(w.substr(2,4),10),it=parseInt(w.substr(6,2),10)-1,ht=parseInt(w.substr(8,2),10),vt=parseInt(w.substr(10,2),10),jt=parseInt(w.substr(12,2),10),Kt=parseInt(w.substr(14,2),10);return new Date(P,it,ht,vt,jt,Kt,0)},$=b.__private__.setCreationDate=function(w){var P;if(w===void 0&&(w=new Date),w instanceof Date)P=Ct(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=w}return xt=P},k=b.__private__.getCreationDate=function(w){var P=xt;return w==="jsDate"&&(P=Ht(xt)),P};b.setCreationDate=function(w){return $(w),this},b.getCreationDate=function(w){return k(w)};var K,J=b.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},lt=b.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},ct=0,gt=[],kt=[],Rt=0,Vt=[],Xt=[],ee=!1,te=kt;b.__private__.setCustomOutputDestination=function(w){ee=!0,te=w};var ce=function(w){ee||(te=w)};b.__private__.resetCustomOutputDestination=function(){ee=!1,te=kt};var tt=b.__private__.out=function(w){return w=w.toString(),Rt+=w.length+1,te.push(w),te},Zt=b.__private__.write=function(w){return tt(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},Ke=b.__private__.getArrayBuffer=function(w){for(var P=w.length,it=new ArrayBuffer(P),ht=new Uint8Array(it);P--;)ht[P]=w.charCodeAt(P);return it},Te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Te};var Ft=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(w){return Ft=et===Z?w/He:w,this};var se,re=b.__private__.getFontSize=b.getFontSize=function(){return et===st?Ft:Ft*He},Ie=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(w){return Ie=w,this},b.__private__.getR2L=b.getR2L=function(){return Ie};var be,We=b.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))se=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');se=w}else se=parseInt(w,10)};b.__private__.getZoomMode=function(){return se};var Ze,Be=b.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');be=w};b.__private__.getPageMode=function(){return be};var an=b.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');Ze=w};b.__private__.getLayoutMode=function(){return Ze},b.__private__.setDisplayMode=b.setDisplayMode=function(w,P,it){return We(w),an(P),Be(it),this};var Xe={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(w){if(Object.keys(Xe).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xe[w]},b.__private__.getDocumentProperties=function(){return Xe},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(w){for(var P in Xe)Xe.hasOwnProperty(P)&&w[P]&&(Xe[P]=w[P]);return this},b.__private__.setDocumentProperty=function(w,P){if(Object.keys(Xe).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xe[w]=P};var ge,He,ye,ui,$e,Ne={},je={},Qe=[],Ae={},Cn={},Pe={},Me={},kn=null,we=0,ve=[],on=new Tb(b),ur=n.hotfixes||[],Ji={},Is={},qi=[],Se=function w(P,it,ht,vt,jt,Kt){if(!(this instanceof w))return new w(P,it,ht,vt,jt,Kt);isNaN(P)&&(P=1),isNaN(it)&&(it=0),isNaN(ht)&&(ht=0),isNaN(vt)&&(vt=1),isNaN(jt)&&(jt=0),isNaN(Kt)&&(Kt=0),this._matrix=[P,it,ht,vt,jt,Kt]};Object.defineProperty(Se.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Se.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Se.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Se.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Se.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Se.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Se.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Se.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Se.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Se.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Se.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Se.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Se.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Se.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Se.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Se.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Se.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(w)},Se.prototype.multiply=function(w){var P=w.sx*this.sx+w.shy*this.shx,it=w.sx*this.shy+w.shy*this.sy,ht=w.shx*this.sx+w.sy*this.shx,vt=w.shx*this.shy+w.sy*this.sy,jt=w.tx*this.sx+w.ty*this.shx+this.tx,Kt=w.tx*this.shy+w.ty*this.sy+this.ty;return new Se(P,it,ht,vt,jt,Kt)},Se.prototype.decompose=function(){var w=this.sx,P=this.shy,it=this.shx,ht=this.sy,vt=this.tx,jt=this.ty,Kt=Math.sqrt(w*w+P*P),le=(w/=Kt)*it+(P/=Kt)*ht;it-=w*le,ht-=P*le;var de=Math.sqrt(it*it+ht*ht);return le/=de,w*(ht/=de)<P*(it/=de)&&(w=-w,P=-P,le=-le,Kt=-Kt),{scale:new Se(Kt,0,0,de,0,0),translate:new Se(1,0,0,1,vt,jt),rotate:new Se(w,P,-P,w,0,0),skew:new Se(1,0,le,1,0,0)}},Se.prototype.toString=function(w){return this.join(" ")},Se.prototype.inversed=function(){var w=this.sx,P=this.shy,it=this.shx,ht=this.sy,vt=this.tx,jt=this.ty,Kt=1/(w*ht-P*it),le=ht*Kt,de=-P*Kt,ke=-it*Kt,Ee=w*Kt;return new Se(le,de,ke,Ee,-le*vt-ke*jt,-de*vt-Ee*jt)},Se.prototype.applyToPoint=function(w){var P=w.x*this.sx+w.y*this.shx+this.tx,it=w.x*this.shy+w.y*this.sy+this.ty;return new er(P,it)},Se.prototype.applyToRectangle=function(w){var P=this.applyToPoint(w),it=this.applyToPoint(new er(w.x+w.w,w.y+w.h));return new Rs(P.x,P.y,it.x-P.x,it.y-P.y)},Se.prototype.clone=function(){var w=this.sx,P=this.shy,it=this.shx,ht=this.sy,vt=this.tx,jt=this.ty;return new Se(w,P,it,ht,vt,jt)},b.Matrix=Se;var Js=b.matrixMult=function(w,P){return P.multiply(w)},Fr=new Se(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Fr;var Er=function(w,P){if(!Cn[w]){var it=(P instanceof ac?"Sh":"P")+(Object.keys(Ae).length+1).toString(10);P.id=it,Cn[w]=it,Ae[it]=P,on.publish("addPattern",P)}};b.ShadingPattern=ac,b.TilingPattern=yh,b.addShadingPattern=function(w,P){return R("addShadingPattern()"),Er(w,P),this},b.beginTilingPattern=function(w){R("beginTilingPattern()"),Ls(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},b.endTilingPattern=function(w,P){R("endTilingPattern()"),P.stream=Xt[K].join(`
`),Er(w,P),on.publish("endTilingPattern",P),qi.pop().restore()};var xr,Fn=b.__private__.newObject=function(){var w=Xn();return ki(w,!0),w},Xn=b.__private__.newObjectDeferred=function(){return ct++,gt[ct]=function(){return Rt},ct},ki=function(w,P){return P=typeof P=="boolean"&&P,gt[w]=Rt,P&&tt(w+" 0 obj"),w},cr=b.__private__.newAdditionalObject=function(){var w={objId:Xn(),content:""};return Vt.push(w),w},Zi=Xn(),On=Xn(),Hn=b.__private__.decodeColorString=function(w){var P=w.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length!==5||P[4]!=="k"&&P[4]!=="K"||(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var it=parseFloat(P[0]);P=[it,it,it,"r"]}for(var ht="#",vt=0;vt<3;vt++)ht+=("0"+Math.floor(255*parseFloat(P[vt])).toString(16)).slice(-2);return ht},Oi=b.__private__.encodeColorString=function(w){var P;typeof w=="string"&&(w={ch1:w});var it=w.ch1,ht=w.ch2,vt=w.ch3,jt=w.ch4,Kt=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof it=="string"&&it.charAt(0)!=="#"){var le=new lA(it);if(le.ok)it=le.toHex();else if(!/^\d*\.?\d*$/.test(it))throw new Error('Invalid color "'+it+'" passed to jsPDF.encodeColorString.')}if(typeof it=="string"&&/^#[0-9A-Fa-f]{3}$/.test(it)&&(it="#"+it[1]+it[1]+it[2]+it[2]+it[3]+it[3]),typeof it=="string"&&/^#[0-9A-Fa-f]{6}$/.test(it)){var de=parseInt(it.substr(1),16);it=de>>16&255,ht=de>>8&255,vt=255&de}if(ht===void 0||jt===void 0&&it===ht&&ht===vt)P=typeof it=="string"?it+" "+Kt[0]:w.precision===2?N(it/255)+" "+Kt[0]:O(it/255)+" "+Kt[0];else if(jt===void 0||Qn(jt)==="object"){if(jt&&!isNaN(jt.a)&&jt.a===0)return["1.","1.","1.",Kt[1]].join(" ");P=typeof it=="string"?[it,ht,vt,Kt[1]].join(" "):w.precision===2?[N(it/255),N(ht/255),N(vt/255),Kt[1]].join(" "):[O(it/255),O(ht/255),O(vt/255),Kt[1]].join(" ")}else P=typeof it=="string"?[it,ht,vt,jt,Kt[2]].join(" "):w.precision===2?[N(it),N(ht),N(vt),N(jt),Kt[2]].join(" "):[O(it),O(ht),O(vt),O(jt),Kt[2]].join(" ");return P},Tr=b.__private__.getFilters=function(){return c},ns=b.__private__.putStream=function(w){var P=(w=w||{}).data||"",it=w.filters||Tr(),ht=w.alreadyAppliedFilters||[],vt=w.addLength1||!1,jt=P.length,Kt=w.objectId,le=function(E){return E};if(v!==null&&Kt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(le=ri.encryptor(Kt,0));var de={};it===!0&&(it=["FlateEncode"]);var ke=w.additionalKeyValues||[],Ee=(de=xe.API.processDataByFilters!==void 0?xe.API.processDataByFilters(P,it):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(ht)?ht.join(" "):ht.toString());if(de.data.length!==0&&(ke.push({key:"Length",value:de.data.length}),vt===!0&&ke.push({key:"Length1",value:jt})),Ee.length!=0)if(Ee.split("/").length-1==1)ke.push({key:"Filter",value:Ee});else{ke.push({key:"Filter",value:"["+Ee+"]"});for(var fn=0;fn<ke.length;fn+=1)if(ke[fn].key==="DecodeParms"){for(var $n=[],zn=0;zn<de.reverseChain.split("/").length-1;zn+=1)$n.push("null");$n.push(ke[fn].value),ke[fn].value="["+$n.join(" ")+"]"}}tt("<<");for(var p=0;p<ke.length;p++)tt("/"+ke[p].key+" "+ke[p].value);tt(">>"),de.data.length!==0&&(tt("stream"),tt(le(de.data)),tt("endstream"))},ya=b.__private__.putPage=function(w){var P=w.number,it=w.data,ht=w.objId,vt=w.contentsObjId;ki(ht,!0),tt("<</Type /Page"),tt("/Parent "+w.rootDictionaryObjId+" 0 R"),tt("/Resources "+w.resourceDictionaryObjId+" 0 R"),tt("/MediaBox ["+parseFloat(D(w.mediaBox.bottomLeftX))+" "+parseFloat(D(w.mediaBox.bottomLeftY))+" "+D(w.mediaBox.topRightX)+" "+D(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&tt("/CropBox ["+D(w.cropBox.bottomLeftX)+" "+D(w.cropBox.bottomLeftY)+" "+D(w.cropBox.topRightX)+" "+D(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&tt("/BleedBox ["+D(w.bleedBox.bottomLeftX)+" "+D(w.bleedBox.bottomLeftY)+" "+D(w.bleedBox.topRightX)+" "+D(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&tt("/TrimBox ["+D(w.trimBox.bottomLeftX)+" "+D(w.trimBox.bottomLeftY)+" "+D(w.trimBox.topRightX)+" "+D(w.trimBox.topRightY)+"]"),w.artBox!==null&&tt("/ArtBox ["+D(w.artBox.bottomLeftX)+" "+D(w.artBox.bottomLeftY)+" "+D(w.artBox.topRightX)+" "+D(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&tt("/UserUnit "+w.userUnit),on.publish("putPage",{objId:ht,pageContext:ve[P],pageNumber:P,page:it}),tt("/Contents "+vt+" 0 R"),tt(">>"),tt("endobj");var jt=it.join(`
`);return et===Z&&(jt+=`
Q`),ki(vt,!0),ns({data:jt,filters:Tr(),objectId:vt}),tt("endobj"),ht},vs=b.__private__.putPages=function(){var w,P,it=[];for(w=1;w<=we;w++)ve[w].objId=Xn(),ve[w].contentsObjId=Xn();for(w=1;w<=we;w++)it.push(ya({number:w,data:Xt[w],objId:ve[w].objId,contentsObjId:ve[w].contentsObjId,mediaBox:ve[w].mediaBox,cropBox:ve[w].cropBox,bleedBox:ve[w].bleedBox,trimBox:ve[w].trimBox,artBox:ve[w].artBox,userUnit:ve[w].userUnit,rootDictionaryObjId:Zi,resourceDictionaryObjId:On}));ki(Zi,!0),tt("<</Type /Pages");var ht="/Kids [";for(P=0;P<we;P++)ht+=it[P]+" 0 R ";tt(ht+"]"),tt("/Count "+we),tt(">>"),tt("endobj"),on.publish("postPutPages")},Nr=function(w){on.publish("putFont",{font:w,out:tt,newObject:Fn,putStream:ns}),w.isAlreadyPutted!==!0&&(w.objectNumber=Fn(),tt("<<"),tt("/Type /Font"),tt("/BaseFont /"+ph(w.postScriptName)),tt("/Subtype /Type1"),typeof w.encoding=="string"&&tt("/Encoding /"+w.encoding),tt("/FirstChar 32"),tt("/LastChar 255"),tt(">>"),tt("endobj"))},Zs=function(w){w.objectNumber=Fn();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[D(w.x),D(w.y),D(w.x+w.width),D(w.y+w.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var it=w.pages[1].join(`
`);ns({data:it,additionalKeyValues:P,objectId:w.objectNumber}),tt("endobj")},zr=function(w,P){P||(P=21);var it=Fn(),ht=(function(Kt,le){var de,ke=[],Ee=1/(le-1);for(de=0;de<1;de+=Ee)ke.push(de);if(ke.push(1),Kt[0].offset!=0){var fn={offset:0,color:Kt[0].color};Kt.unshift(fn)}if(Kt[Kt.length-1].offset!=1){var $n={offset:1,color:Kt[Kt.length-1].color};Kt.push($n)}for(var zn="",p=0,E=0;E<ke.length;E++){for(de=ke[E];de>Kt[p+1].offset;)p++;var L=Kt[p].offset,Q=(de-L)/(Kt[p+1].offset-L),wt=Kt[p].color,Lt=Kt[p+1].color;zn+=lt(Math.round((1-Q)*wt[0]+Q*Lt[0]).toString(16))+lt(Math.round((1-Q)*wt[1]+Q*Lt[1]).toString(16))+lt(Math.round((1-Q)*wt[2]+Q*Lt[2]).toString(16))}return zn.trim()})(w.colors,P),vt=[];vt.push({key:"FunctionType",value:"0"}),vt.push({key:"Domain",value:"[0.0 1.0]"}),vt.push({key:"Size",value:"["+P+"]"}),vt.push({key:"BitsPerSample",value:"8"}),vt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),vt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ns({data:ht,additionalKeyValues:vt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:it}),tt("endobj"),w.objectNumber=Fn(),tt("<< /ShadingType "+w.type),tt("/ColorSpace /DeviceRGB");var jt="/Coords ["+D(parseFloat(w.coords[0]))+" "+D(parseFloat(w.coords[1]))+" ";w.type===2?jt+=D(parseFloat(w.coords[2]))+" "+D(parseFloat(w.coords[3])):jt+=D(parseFloat(w.coords[2]))+" "+D(parseFloat(w.coords[3]))+" "+D(parseFloat(w.coords[4]))+" "+D(parseFloat(w.coords[5])),tt(jt+="]"),w.matrix&&tt("/Matrix ["+w.matrix.toString()+"]"),tt("/Function "+it+" 0 R"),tt("/Extend [true true]"),tt(">>"),tt("endobj")},hr=function(w,P){var it=Xn(),ht=Fn();P.push({resourcesOid:it,objectOid:ht}),w.objectNumber=ht;var vt=[];vt.push({key:"Type",value:"/Pattern"}),vt.push({key:"PatternType",value:"1"}),vt.push({key:"PaintType",value:"1"}),vt.push({key:"TilingType",value:"1"}),vt.push({key:"BBox",value:"["+w.boundingBox.map(D).join(" ")+"]"}),vt.push({key:"XStep",value:D(w.xStep)}),vt.push({key:"YStep",value:D(w.yStep)}),vt.push({key:"Resources",value:it+" 0 R"}),w.matrix&&vt.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),ns({data:w.stream,additionalKeyValues:vt,objectId:w.objectNumber}),tt("endobj")},qr=function(w){for(var P in w.objectNumber=Fn(),tt("<<"),w)switch(P){case"opacity":tt("/ca "+N(w[P]));break;case"stroke-opacity":tt("/CA "+N(w[P]))}tt(">>"),tt("endobj")},is=function(w){ki(w.resourcesOid,!0),tt("<<"),tt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var P in tt("/Font <<"),Ne)Ne.hasOwnProperty(P)&&(S===!1||S===!0&&x.hasOwnProperty(P))&&tt("/"+P+" "+Ne[P].objectNumber+" 0 R");tt(">>")})(),(function(){if(Object.keys(Ae).length>0){for(var P in tt("/Shading <<"),Ae)Ae.hasOwnProperty(P)&&Ae[P]instanceof ac&&Ae[P].objectNumber>=0&&tt("/"+P+" "+Ae[P].objectNumber+" 0 R");on.publish("putShadingPatternDict"),tt(">>")}})(),(function(P){if(Object.keys(Ae).length>0){for(var it in tt("/Pattern <<"),Ae)Ae.hasOwnProperty(it)&&Ae[it]instanceof b.TilingPattern&&Ae[it].objectNumber>=0&&Ae[it].objectNumber<P&&tt("/"+it+" "+Ae[it].objectNumber+" 0 R");on.publish("putTilingPatternDict"),tt(">>")}})(w.objectOid),(function(){if(Object.keys(Pe).length>0){var P;for(P in tt("/ExtGState <<"),Pe)Pe.hasOwnProperty(P)&&Pe[P].objectNumber>=0&&tt("/"+P+" "+Pe[P].objectNumber+" 0 R");on.publish("putGStateDict"),tt(">>")}})(),(function(){for(var P in tt("/XObject <<"),Ji)Ji.hasOwnProperty(P)&&Ji[P].objectNumber>=0&&tt("/"+P+" "+Ji[P].objectNumber+" 0 R");on.publish("putXobjectDict"),tt(">>")})(),tt(">>"),tt("endobj")},fi=function(w){je[w.fontName]=je[w.fontName]||{},je[w.fontName][w.fontStyle]=w.id},vo=function(w,P,it,ht,vt){var jt={id:"F"+(Object.keys(Ne).length+1).toString(10),postScriptName:w,fontName:P,fontStyle:it,encoding:ht,isStandardFont:vt||!1,metadata:{}};return on.publish("addFont",{font:jt,instance:this}),Ne[jt.id]=jt,fi(jt),jt.id},Ir=b.__private__.pdfEscape=b.pdfEscape=function(w,P){return(function(it,ht){var vt,jt,Kt,le,de,ke,Ee,fn,$n;if(Kt=(ht=ht||{}).sourceEncoding||"Unicode",de=ht.outputEncoding,(ht.autoencode||de)&&Ne[ge].metadata&&Ne[ge].metadata[Kt]&&Ne[ge].metadata[Kt].encoding&&(le=Ne[ge].metadata[Kt].encoding,!de&&Ne[ge].encoding&&(de=Ne[ge].encoding),!de&&le.codePages&&(de=le.codePages[0]),typeof de=="string"&&(de=le[de]),de)){for(Ee=!1,ke=[],vt=0,jt=it.length;vt<jt;vt++)(fn=de[it.charCodeAt(vt)])?ke.push(String.fromCharCode(fn)):ke.push(it[vt]),ke[vt].charCodeAt(0)>>8&&(Ee=!0);it=ke.join("")}for(vt=it.length;Ee===void 0&&vt!==0;)it.charCodeAt(vt-1)>>8&&(Ee=!0),vt--;if(!Ee)return it;for(ke=ht.noBOM?[]:[254,255],vt=0,jt=it.length;vt<jt;vt++){if(($n=(fn=it.charCodeAt(vt))>>8)>>8)throw new Error("Character at position "+vt+" of string '"+it+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ke.push($n),ke.push(fn-($n<<8))}return String.fromCharCode.apply(void 0,ke)})(w,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rs=b.__private__.beginPage=function(w){Xt[++we]=[],ve[we]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},_o(we),ce(Xt[K])},_s=function(w,P){var it,ht,vt;switch(e=P||e,typeof w=="string"&&(it=F(w.toLowerCase()),Array.isArray(it)&&(ht=it[0],vt=it[1])),Array.isArray(w)&&(ht=w[0]*He,vt=w[1]*He),isNaN(ht)&&(ht=a[0],vt=a[1]),(ht>14400||vt>14400)&&(li.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ht=Math.min(14400,ht),vt=Math.min(14400,vt)),a=[ht,vt],e.substr(0,1)){case"l":vt>ht&&(a=[vt,ht]);break;case"p":ht>vt&&(a=[vt,ht])}rs(a),Ce(Rr),tt(Gr),Kr!==0&&tt(Kr+" J"),Ti!==0&&tt(Ti+" j"),on.publish("addPage",{pageNumber:we})},Fa=function(w){w>0&&w<=we&&(Xt.splice(w,1),ve.splice(w,1),we--,K>we&&(K=we),this.setPage(K))},_o=function(w){w>0&&w<=we&&(K=w)},bo=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Xt.length-1},tl=function(w,P,it){var ht,vt=void 0;return it=it||{},w=w!==void 0?w:Ne[ge].fontName,P=P!==void 0?P:Ne[ge].fontStyle,ht=w.toLowerCase(),je[ht]!==void 0&&je[ht][P]!==void 0?vt=je[ht][P]:je[w]!==void 0&&je[w][P]!==void 0?vt=je[w][P]:it.disableWarning===!1&&li.warn("Unable to look up font label for font '"+w+"', '"+P+"'. Refer to getFontList() for available fonts."),vt||it.noFallback||(vt=je.times[P])==null&&(vt=je.times.normal),vt},Hr=b.__private__.putInfo=function(){var w=Fn(),P=function(ht){return ht};for(var it in v!==null&&(P=ri.encryptor(w,0)),tt("<<"),tt("/Producer ("+Ir(P("jsPDF "+xe.version))+")"),Xe)Xe.hasOwnProperty(it)&&Xe[it]&&tt("/"+it.substr(0,1).toUpperCase()+it.substr(1)+" ("+Ir(P(Xe[it]))+")");tt("/CreationDate ("+Ir(P(xt))+")"),tt(">>"),tt("endobj")},tr=b.__private__.putCatalog=function(w){var P=(w=w||{}).rootDictionaryObjId||Zi;switch(Fn(),tt("<<"),tt("/Type /Catalog"),tt("/Pages "+P+" 0 R"),se||(se="fullwidth"),se){case"fullwidth":tt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":tt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":tt("/OpenAction [3 0 R /Fit]");break;case"original":tt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var it=""+se;it.substr(it.length-1)==="%"&&(se=parseInt(se)/100),typeof se=="number"&&tt("/OpenAction [3 0 R /XYZ null null "+N(se)+"]")}switch(Ze||(Ze="continuous"),Ze){case"continuous":tt("/PageLayout /OneColumn");break;case"single":tt("/PageLayout /SinglePage");break;case"two":case"twoleft":tt("/PageLayout /TwoColumnLeft");break;case"tworight":tt("/PageLayout /TwoColumnRight")}be&&tt("/PageMode /"+be),on.publish("putCatalog"),tt(">>"),tt("endobj")},vi=b.__private__.putTrailer=function(){tt("trailer"),tt("<<"),tt("/Size "+(ct+1)),tt("/Root "+ct+" 0 R"),tt("/Info "+(ct-1)+" 0 R"),v!==null&&tt("/Encrypt "+ri.oid+" 0 R"),tt("/ID [ <"+at+"> <"+at+"> ]"),tt(">>")},hn=b.__private__.putHeader=function(){tt("%PDF-"+U),tt("%")},ta=b.__private__.putXRef=function(){var w="0000000000";tt("xref"),tt("0 "+(ct+1)),tt("0000000000 65535 f ");for(var P=1;P<=ct;P++)typeof gt[P]=="function"?tt((w+gt[P]()).slice(-10)+" 00000 n "):gt[P]!==void 0?tt((w+gt[P]).slice(-10)+" 00000 n "):tt("0000000000 00000 n ")},ss=b.__private__.buildDocument=function(){var w;ct=0,Rt=0,kt=[],gt=[],Vt=[],Zi=Xn(),On=Xn(),ce(kt),on.publish("buildDocument"),hn(),vs(),(function(){on.publish("putAdditionalObjects");for(var it=0;it<Vt.length;it++){var ht=Vt[it];ki(ht.objId,!0),tt(ht.content),tt("endobj")}on.publish("postPutAdditionalObjects")})(),w=[],(function(){for(var it in Ne)Ne.hasOwnProperty(it)&&(S===!1||S===!0&&x.hasOwnProperty(it))&&Nr(Ne[it])})(),(function(){var it;for(it in Pe)Pe.hasOwnProperty(it)&&qr(Pe[it])})(),(function(){for(var it in Ji)Ji.hasOwnProperty(it)&&Zs(Ji[it])})(),(function(it){var ht;for(ht in Ae)Ae.hasOwnProperty(ht)&&(Ae[ht]instanceof ac?zr(Ae[ht]):Ae[ht]instanceof yh&&hr(Ae[ht],it))})(w),on.publish("putResources"),w.forEach(is),is({resourcesOid:On,objectOid:Number.MAX_SAFE_INTEGER}),on.publish("postPutResources"),v!==null&&(ri.oid=Fn(),tt("<<"),tt("/Filter /Standard"),tt("/V "+ri.v),tt("/R "+ri.r),tt("/U <"+ri.toHexString(ri.U)+">"),tt("/O <"+ri.toHexString(ri.O)+">"),tt("/P "+ri.P),tt(">>"),tt("endobj")),Hr(),tr();var P=Rt;return ta(),vi(),tt("startxref"),tt(""+P),tt("%%EOF"),ce(Xt[K]),kt.join(`
`)},yn=b.__private__.getBlob=function(w){return new Blob([Ke(w)],{type:"application/pdf"})},va=b.output=b.__private__.output=(xr=function(w,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",w){case void 0:return ss();case"save":b.save(P.filename);break;case"arraybuffer":return Ke(ss());case"blob":return yn(ss());case"bloburi":case"bloburl":if(Ye.URL!==void 0&&typeof Ye.URL.createObjectURL=="function")return Ye.URL&&Ye.URL.createObjectURL(yn(ss()))||void 0;li.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var it="",ht=ss();try{it=Sb(ht)}catch{it=Sb(unescape(encodeURIComponent(ht)))}return"data:application/pdf;filename="+P.filename+";base64,"+it;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ye)==="[object Window]"){var vt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",jt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(vt=P.pdfObjectUrl,jt="");var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+vt+'"'+jt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",le=Ye.open();return le!==null&&le.document.write(Kt),le}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ye)==="[object Window]"){var de='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',ke=Ye.open();if(ke!==null){ke.document.write(de);var Ee=this;ke.document.documentElement.querySelector("#pdfViewer").onload=function(){ke.document.title=P.filename,ke.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ee.output("bloburl"))}}return ke}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ye)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',$n=Ye.open();if($n!==null&&($n.document.write(fn),$n.document.title=P.filename),$n||typeof safari>"u")return $n;break;case"datauri":case"dataurl":return Ye.document.location.href=this.output("datauristring",P);default:return null}},xr.foo=function(){try{return xr.apply(this,arguments)}catch(it){var w=it.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var P="Error in function "+w.split(`
`)[0].split("<")[0]+": "+it.message;if(!Ye.console)throw new Error(P);Ye.console.error(P,it),Ye.alert&&alert(P)}},xr.foo.bar=xr,xr.foo),xi=function(w){return Array.isArray(ur)===!0&&ur.indexOf(w)>-1};switch(r){case"pt":He=1;break;case"mm":He=72/25.4;break;case"cm":He=72/2.54;break;case"in":He=72;break;case"px":He=xi("px_scaling")==1?.75:96/72;break;case"pc":case"em":He=12;break;case"ex":He=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);He=r}var ri=null;$(),ft();var _i=b.__private__.getPageInfo=b.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ve[w].objId,pageNumber:w,pageContext:ve[w]}},za=b.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in ve)if(ve[P].objId===w)break;return _i(P)},Ul=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:ve[K].objId,pageNumber:K,pageContext:ve[K]}};b.addPage=function(){return _s.apply(this,arguments),this},b.setPage=function(){return _o.apply(this,arguments),ce.call(this,Xt[K]),this},b.insertPage=function(w){return this.addPage(),this.movePage(K,w),this},b.movePage=function(w,P){var it,ht;if(w>P){it=Xt[w],ht=ve[w];for(var vt=w;vt>P;vt--)Xt[vt]=Xt[vt-1],ve[vt]=ve[vt-1];Xt[P]=it,ve[P]=ht,this.setPage(P)}else if(w<P){it=Xt[w],ht=ve[w];for(var jt=w;jt<P;jt++)Xt[jt]=Xt[jt+1],ve[jt]=ve[jt+1];Xt[P]=it,ve[P]=ht,this.setPage(P)}return this},b.deletePage=function(){return Fa.apply(this,arguments),this},b.__private__.text=b.text=function(w,P,it,ht,vt){var jt,Kt,le,de,ke,Ee,fn,$n,zn,p=(ht=ht||{}).scope||this;if(typeof w=="number"&&typeof P=="number"&&(typeof it=="string"||Array.isArray(it))){var E=it;it=P,P=w,w=E}if(arguments[3]instanceof Se==0?(le=arguments[4],de=arguments[5],Qn(fn=arguments[3])==="object"&&fn!==null||(typeof le=="string"&&(de=le,le=null),typeof fn=="string"&&(de=fn,fn=null),typeof fn=="number"&&(le=fn,fn=null),ht={flags:fn,angle:le,align:de})):(R("The transform parameter of text() with a Matrix value"),zn=vt),isNaN(P)||isNaN(it)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return p;var L,Q="",wt=typeof ht.lineHeightFactor=="number"?ht.lineHeightFactor:ia,Lt=p.internal.scaleFactor;function $t(Rn){return Rn=Rn.split("	").join(Array(ht.TabLen||9).join(" ")),Ir(Rn,fn)}function qe(Rn){for(var Sn,Zn=Rn.concat(),Ii=[],Ra=Zn.length;Ra--;)typeof(Sn=Zn.shift())=="string"?Ii.push(Sn):Array.isArray(Rn)&&(Sn.length===1||Sn[1]===void 0&&Sn[2]===void 0)?Ii.push(Sn[0]):Ii.push([Sn[0],Sn[1],Sn[2]]);return Ii}function Jn(Rn,Sn){var Zn;if(typeof Rn=="string")Zn=Sn(Rn)[0];else if(Array.isArray(Rn)){for(var Ii,Ra,oa=Rn.concat(),ll=[],qu=oa.length;qu--;)typeof(Ii=oa.shift())=="string"?ll.push(Sn(Ii)[0]):Array.isArray(Ii)&&typeof Ii[0]=="string"&&(Ra=Sn(Ii[0],Ii[1],Ii[2]),ll.push([Ra[0],Ra[1],Ra[2]]));Zn=ll}return Zn}var un=!1,Pn=!0;if(typeof w=="string")un=!0;else if(Array.isArray(w)){var nr=w.concat();Kt=[];for(var dr,Gn=nr.length;Gn--;)(typeof(dr=nr.shift())!="string"||Array.isArray(dr)&&typeof dr[0]!="string")&&(Pn=!1);un=Pn}if(un===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var pr=Ft/p.internal.scaleFactor,Ss=pr*(wt-1);switch(ht.baseline){case"bottom":it-=Ss;break;case"top":it+=pr-Ss;break;case"hanging":it+=pr-2*Ss;break;case"middle":it+=pr/2-Ss}if((Ee=ht.maxWidth||0)>0&&(typeof w=="string"?w=p.splitTextToSize(w,Ee):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(Rn,Sn){return Rn.concat(p.splitTextToSize(Sn,Ee))},[]))),jt={text:w,x:P,y:it,options:ht,mutex:{pdfEscape:Ir,activeFontKey:ge,fonts:Ne,activeFontSize:Ft}},on.publish("preProcessText",jt),w=jt.text,le=(ht=jt.options).angle,zn instanceof Se==0&&le&&typeof le=="number"){le*=Math.PI/180,ht.rotationDirection===0&&(le=-le),et===Z&&(le=-le);var Sa=Math.cos(le),Ea=Math.sin(le);zn=new Se(Sa,Ea,-Ea,Sa,0,0)}else le&&le instanceof Se&&(zn=le);et!==Z||zn||(zn=Fr),(ke=ht.charSpace||Yr)!==void 0&&(Q+=D(C(ke))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),($n=ht.horizontalScale)!==void 0&&(Q+=D(100*$n)+` Tz
`),ht.lang;var Qr=-1,Ka=ht.renderingMode!==void 0?ht.renderingMode:ht.stroke,Vl=p.internal.getCurrentPageInfo().pageContext;switch(Ka){case 0:case!1:case"fill":Qr=0;break;case 1:case!0:case"stroke":Qr=1;break;case 2:case"fillThenStroke":Qr=2;break;case 3:case"invisible":Qr=3;break;case 4:case"fillAndAddForClipping":Qr=4;break;case 5:case"strokeAndAddPathForClipping":Qr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qr=6;break;case 7:case"addToPathForClipping":Qr=7}var Fu=Vl.usedRenderingMode!==void 0?Vl.usedRenderingMode:-1;Qr!==-1?Q+=Qr+` Tr
`:Fu!==-1&&(Q+=`0 Tr
`),Qr!==-1&&(Vl.usedRenderingMode=Qr),de=ht.align||"left";var Es,sa=Ft*wt,Wa=p.internal.pageSize.getWidth(),zu=Ne[ge];ke=ht.charSpace||Yr,Ee=ht.maxWidth||0,fn=Object.assign({autoencode:!0,noBOM:!0},ht.flags);var aa=[],To=function(Rn){return p.getStringUnitWidth(Rn,{font:zu,charSpace:ke,fontSize:Ft,doKerning:!1})*Ft/Lt};if(Object.prototype.toString.call(w)==="[object Array]"){var os;Kt=qe(w),de!=="left"&&(Es=Kt.map(To));var Xr,xa=0;if(de==="right"){P-=Es[0],w=[],Gn=Kt.length;for(var Ta=0;Ta<Gn;Ta++)Ta===0?(Xr=Gi(P),os=Di(it)):(Xr=C(xa-Es[Ta]),os=-sa),w.push([Kt[Ta],Xr,os]),xa=Es[Ta]}else if(de==="center"){P-=Es[0]/2,w=[],Gn=Kt.length;for(var Qa=0;Qa<Gn;Qa++)Qa===0?(Xr=Gi(P),os=Di(it)):(Xr=C((xa-Es[Qa])/2),os=-sa),w.push([Kt[Qa],Xr,os]),xa=Es[Qa]}else if(de==="left"){w=[],Gn=Kt.length;for(var Bl=0;Bl<Gn;Bl++)w.push(Kt[Bl])}else if(de==="justify"&&zu.encoding==="Identity-H"){w=[],Gn=Kt.length,Ee=Ee!==0?Ee:Wa;for(var Fl=0,Ni=0;Ni<Gn;Ni++)if(os=Ni===0?Di(it):-sa,Xr=Ni===0?Gi(P):Fl,Ni<Gn-1){var xc=C((Ee-Es[Ni])/(Kt[Ni].split(" ").length-1)),Na=Kt[Ni].split(" ");w.push([Na[0]+" ",Xr,os]),Fl=0;for(var Ia=1;Ia<Na.length;Ia++){var mr=(To(Na[Ia-1]+" "+Na[Ia])-To(Na[Ia]))*Lt+xc;Ia==Na.length-1?w.push([Na[Ia],mr,0]):w.push([Na[Ia]+" ",mr,0]),Fl-=mr}}else w.push([Kt[Ni],Xr,os]);w.push(["",Fl,0])}else{if(de!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],Gn=Kt.length,Ee=Ee!==0?Ee:Wa,Ni=0;Ni<Gn;Ni++){os=Ni===0?Di(it):-sa,Xr=Ni===0?Gi(P):0;var Xa=Kt[Ni].split(" ").length-1,zl=Xa>0?(Ee-Es[Ni])/Xa:0;Ni<Gn-1?aa.push(D(C(zl))):aa.push(0),w.push([Kt[Ni],Xr,os])}}}(typeof ht.R2L=="boolean"?ht.R2L:Ie)===!0&&(w=Jn(w,function(Rn,Sn,Zn){return[Rn.split("").reverse().join(""),Sn,Zn]})),jt={text:w,x:P,y:it,options:ht,mutex:{pdfEscape:Ir,activeFontKey:ge,fonts:Ne,activeFontSize:Ft}},on.publish("postProcessText",jt),w=jt.text,L=jt.mutex.isHex||!1;var ql=Ne[ge].encoding;ql!=="WinAnsiEncoding"&&ql!=="StandardEncoding"||(w=Jn(w,function(Rn,Sn,Zn){return[$t(Rn),Sn,Zn]})),Kt=qe(w),w=[];for(var $a,Ja,Ca,ol=Array.isArray(Kt[0])?1:0,xs="",Za=function(Rn,Sn,Zn){var Ii="";return Zn instanceof Se?(Zn=typeof ht.angle=="number"?Js(Zn,new Se(1,0,0,1,Rn,Sn)):Js(new Se(1,0,0,1,Rn,Sn),Zn),et===Z&&(Zn=Js(new Se(1,0,0,-1,0,0),Zn)),Ii=Zn.join(" ")+` Tm
`):Ii=D(Rn)+" "+D(Sn)+` Td
`,Ii},Lr=0;Lr<Kt.length;Lr++){switch(xs="",ol){case 1:Ca=(L?"<":"(")+Kt[Lr][0]+(L?">":")"),$a=parseFloat(Kt[Lr][1]),Ja=parseFloat(Kt[Lr][2]);break;case 0:Ca=(L?"<":"(")+Kt[Lr]+(L?">":")"),$a=Gi(P),Ja=Di(it)}aa!==void 0&&aa[Lr]!==void 0&&(xs=aa[Lr]+` Tw
`),Lr===0?w.push(xs+Za($a,Ja,zn)+Ca):ol===0?w.push(xs+Ca):ol===1&&w.push(xs+Za($a,Ja,zn)+Ca)}w=ol===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var Ds=`BT
/`;return Ds+=ge+" "+Ft+` Tf
`,Ds+=D(Ft*wt)+` TL
`,Ds+=ws+`
`,Ds+=Q,Ds+=w,tt(Ds+="ET"),x[ge]=!0,p};var el=b.__private__.clip=b.clip=function(w){return tt(w==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return el("evenodd")},b.__private__.discardPath=b.discardPath=function(){return tt("n"),this};var fr=b.__private__.isValidStyle=function(w){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(P=!0),P};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(w){return fr(w)&&(m=w),this};var nl=b.__private__.getStyle=b.getStyle=function(w){var P=m;switch(w){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=w}return P},ea=b.close=function(){return tt("h"),this};b.stroke=function(){return tt("S"),this},b.fill=function(w){return Hi("f",w),this},b.fillEvenOdd=function(w){return Hi("f*",w),this},b.fillStroke=function(w){return Hi("B",w),this},b.fillStrokeEvenOdd=function(w){return Hi("B*",w),this};var Hi=function(w,P){Qn(P)==="object"?rl(P,w):tt(w)},_a=function(w){w===null||et===Z&&w===void 0||(w=nl(w),tt(w))};function il(w,P,it,ht,vt){var jt=new yh(P||this.boundingBox,it||this.xStep,ht||this.yStep,this.gState,vt||this.matrix);jt.stream=this.stream;var Kt=w+"$$"+this.cloneIndex+++"$$";return Er(Kt,jt),jt}var rl=function(w,P){var it=Cn[w.key],ht=Ae[it];if(ht instanceof ac)tt("q"),tt(wo(P)),ht.gState&&b.setGState(ht.gState),tt(w.matrix.toString()+" cm"),tt("/"+it+" sh"),tt("Q");else if(ht instanceof yh){var vt=new Se(1,0,0,-1,0,As());w.matrix&&(vt=vt.multiply(w.matrix||Fr),it=il.call(ht,w.key,w.boundingBox,w.xStep,w.yStep,vt).id),tt("q"),tt("/Pattern cs"),tt("/"+it+" scn"),ht.gState&&b.setGState(ht.gState),tt(P),tt("Q")}},wo=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ao=b.moveTo=function(w,P){return tt(D(C(w))+" "+D(ot(P))+" m"),this},na=b.lineTo=function(w,P){return tt(D(C(w))+" "+D(ot(P))+" l"),this},Cr=b.curveTo=function(w,P,it,ht,vt,jt){return tt([D(C(w)),D(ot(P)),D(C(it)),D(ot(ht)),D(C(vt)),D(ot(jt)),"c"].join(" ")),this};b.__private__.line=b.line=function(w,P,it,ht,vt){if(isNaN(w)||isNaN(P)||isNaN(it)||isNaN(ht)||!fr(vt))throw new Error("Invalid arguments passed to jsPDF.line");return et===st?this.lines([[it-w,ht-P]],w,P,[1,1],vt||"S"):this.lines([[it-w,ht-P]],w,P,[1,1]).stroke()},b.__private__.lines=b.lines=function(w,P,it,ht,vt,jt){var Kt,le,de,ke,Ee,fn,$n,zn,p,E,L,Q;if(typeof w=="number"&&(Q=it,it=P,P=w,w=Q),ht=ht||[1,1],jt=jt||!1,isNaN(P)||isNaN(it)||!Array.isArray(w)||!Array.isArray(ht)||!fr(vt)||typeof jt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ao(P,it),Kt=ht[0],le=ht[1],ke=w.length,E=P,L=it,de=0;de<ke;de++)(Ee=w[de]).length===2?(E=Ee[0]*Kt+E,L=Ee[1]*le+L,na(E,L)):(fn=Ee[0]*Kt+E,$n=Ee[1]*le+L,zn=Ee[2]*Kt+E,p=Ee[3]*le+L,E=Ee[4]*Kt+E,L=Ee[5]*le+L,Cr(fn,$n,zn,p,E,L));return jt&&ea(),_a(vt),this},b.path=function(w){for(var P=0;P<w.length;P++){var it=w[P],ht=it.c;switch(it.op){case"m":Ao(ht[0],ht[1]);break;case"l":na(ht[0],ht[1]);break;case"c":Cr.apply(this,ht);break;case"h":ea()}}return this},b.__private__.rect=b.rect=function(w,P,it,ht,vt){if(isNaN(w)||isNaN(P)||isNaN(it)||isNaN(ht)||!fr(vt))throw new Error("Invalid arguments passed to jsPDF.rect");return et===st&&(ht=-ht),tt([D(C(w)),D(ot(P)),D(C(it)),D(C(ht)),"re"].join(" ")),_a(vt),this},b.__private__.triangle=b.triangle=function(w,P,it,ht,vt,jt,Kt){if(isNaN(w)||isNaN(P)||isNaN(it)||isNaN(ht)||isNaN(vt)||isNaN(jt)||!fr(Kt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[it-w,ht-P],[vt-it,jt-ht],[w-vt,P-jt]],w,P,[1,1],Kt,!0),this},b.__private__.roundedRect=b.roundedRect=function(w,P,it,ht,vt,jt,Kt){if(isNaN(w)||isNaN(P)||isNaN(it)||isNaN(ht)||isNaN(vt)||isNaN(jt)||!fr(Kt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var le=4/3*(Math.SQRT2-1);return vt=Math.min(vt,.5*it),jt=Math.min(jt,.5*ht),this.lines([[it-2*vt,0],[vt*le,0,vt,jt-jt*le,vt,jt],[0,ht-2*jt],[0,jt*le,-vt*le,jt,-vt,jt],[2*vt-it,0],[-vt*le,0,-vt,-jt*le,-vt,-jt],[0,2*jt-ht],[0,-jt*le,vt*le,-jt,vt,-jt]],w+vt,P,[1,1],Kt,!0),this},b.__private__.ellipse=b.ellipse=function(w,P,it,ht,vt){if(isNaN(w)||isNaN(P)||isNaN(it)||isNaN(ht)||!fr(vt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var jt=4/3*(Math.SQRT2-1)*it,Kt=4/3*(Math.SQRT2-1)*ht;return Ao(w+it,P),Cr(w+it,P-Kt,w+jt,P-ht,w,P-ht),Cr(w-jt,P-ht,w-it,P-Kt,w-it,P),Cr(w-it,P+Kt,w-jt,P+ht,w,P+ht),Cr(w+jt,P+ht,w+it,P+Kt,w+it,P),_a(vt),this},b.__private__.circle=b.circle=function(w,P,it,ht){if(isNaN(w)||isNaN(P)||isNaN(it)||!fr(ht))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,P,it,it,ht)},b.setFont=function(w,P,it){return it&&(P=Y(P,it)),ge=tl(w,P,{disableWarning:!1}),this};var bs=b.__private__.getFont=b.getFont=function(){return Ne[tl.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var w,P,it={};for(w in je)if(je.hasOwnProperty(w))for(P in it[w]=[],je[w])je[w].hasOwnProperty(P)&&it[w].push(P);return it},b.addFont=function(w,P,it,ht,vt){var jt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&jt.indexOf(arguments[3])!==-1?vt=arguments[3]:arguments[3]&&jt.indexOf(arguments[3])==-1&&(it=Y(it,ht)),vo.call(this,w,P,it,vt=vt||"Identity-H")};var ia,Rr=n.lineWidth||.200025,ba=b.__private__.getLineWidth=b.getLineWidth=function(){return Rr},Ce=b.__private__.setLineWidth=b.setLineWidth=function(w){return Rr=w,tt(D(C(w))+" w"),this};b.__private__.setLineDash=xe.API.setLineDash=xe.API.setLineDashPattern=function(w,P){if(w=w||[],P=P||0,isNaN(P)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(it){return D(C(it))}).join(" "),P=D(C(P)),tt("["+w+"] "+P+" d"),this};var qa=b.__private__.getLineHeight=b.getLineHeight=function(){return Ft*ia};b.__private__.getLineHeight=b.getLineHeight=function(){return Ft*ia};var So=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(ia=w),this},wa=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return ia};So(n.lineHeight);var Gi=b.__private__.getHorizontalCoordinate=function(w){return C(w)},Di=b.__private__.getVerticalCoordinate=function(w){return et===Z?w:ve[K].mediaBox.topRightY-ve[K].mediaBox.bottomLeftY-C(w)},Ha=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(w){return D(Gi(w))},Dn=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(w){return D(Di(w))},Gr=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Hn(Gr)},b.__private__.setStrokeColor=b.setDrawColor=function(w,P,it,ht){return Gr=Oi({ch1:w,ch2:P,ch3:it,ch4:ht,pdfColorType:"draw",precision:2}),tt(Gr),this};var Ga=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Hn(Ga)},b.__private__.setFillColor=b.setFillColor=function(w,P,it,ht){return Ga=Oi({ch1:w,ch2:P,ch3:it,ch4:ht,pdfColorType:"fill",precision:2}),tt(Ga),this};var ws=n.textColor||"0 g",sl=b.__private__.getTextColor=b.getTextColor=function(){return Hn(ws)};b.__private__.setTextColor=b.setTextColor=function(w,P,it,ht){return ws=Oi({ch1:w,ch2:P,ch3:it,ch4:ht,pdfColorType:"text",precision:3}),this};var Yr=n.charSpace,ra=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Yr||0)};b.__private__.setCharSpace=b.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yr=w,this};var Kr=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(w){var P=b.CapJoinStyles[w];if(P===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kr=P,tt(P+" J"),this};var Ti=0;b.__private__.setLineJoin=b.setLineJoin=function(w){var P=b.CapJoinStyles[w];if(P===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ti=P,tt(P+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return tt(D(C(w))+" M"),this},b.GState=um,b.setGState=function(w){(w=typeof w=="string"?Pe[Me[w]]:Cs(null,w)).equals(kn)||(tt("/"+w.id+" gs"),kn=w)};var Cs=function(w,P){if(!w||!Me[w]){var it=!1;for(var ht in Pe)if(Pe.hasOwnProperty(ht)&&Pe[ht].equals(P)){it=!0;break}if(it)P=Pe[ht];else{var vt="GS"+(Object.keys(Pe).length+1).toString(10);Pe[vt]=P,P.id=vt}return w&&(Me[w]=P.id),on.publish("addGState",P),P}};b.addGState=function(w,P){return Cs(w,P),this},b.saveGraphicsState=function(){return tt("q"),Qe.push({key:ge,size:Ft,color:ws}),this},b.restoreGraphicsState=function(){tt("Q");var w=Qe.pop();return ge=w.key,Ft=w.size,ws=w.color,kn=null,this},b.setCurrentTransformationMatrix=function(w){return tt(w.toString()+" cm"),this},b.comment=function(w){return tt("#"+w),this};var er=function(w,P){var it=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return it},set:function(jt){isNaN(jt)||(it=parseFloat(jt))}});var ht=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ht},set:function(jt){isNaN(jt)||(ht=parseFloat(jt))}});var vt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return vt},set:function(jt){vt=jt.toString()}}),this},Rs=function(w,P,it,ht){er.call(this,w,P),this.type="rect";var vt=it||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return vt},set:function(Kt){isNaN(Kt)||(vt=parseFloat(Kt))}});var jt=ht||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return jt},set:function(Kt){isNaN(Kt)||(jt=parseFloat(Kt))}}),this},Aa=function(){this.page=we,this.currentPage=K,this.pages=Xt.slice(0),this.pagesContext=ve.slice(0),this.x=ye,this.y=ui,this.matrix=$e,this.width=as(K),this.height=Eo(K),this.outputDestination=te,this.id="",this.objectNumber=-1};Aa.prototype.restore=function(){we=this.page,K=this.currentPage,ve=this.pagesContext,Xt=this.pages,ye=this.x,ui=this.y,$e=this.matrix,Ya(K,this.width),Wr(K,this.height),te=this.outputDestination};var Ls=function(w,P,it,ht,vt){qi.push(new Aa),we=K=0,Xt=[],ye=w,ui=P,$e=vt,rs([it,ht])};for(var ks in b.beginFormObject=function(w,P,it,ht,vt){return Ls(w,P,it,ht,vt),this},b.endFormObject=function(w){return(function(P){if(Is[P])qi.pop().restore();else{var it=new Aa,ht="Xo"+(Object.keys(Ji).length+1).toString(10);it.id=ht,Is[P]=ht,Ji[ht]=it,on.publish("addFormObject",it),qi.pop().restore()}})(w),this},b.doFormObject=function(w,P){var it=Ji[Is[w]];return tt("q"),tt(P.toString()+" cm"),tt("/"+it.id+" Do"),tt("Q"),this},b.getFormObject=function(w){var P=Ji[Is[w]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},b.save=function(w,P){return w=w||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(sc(yn(ss()),w),typeof sc.unload=="function"&&Ye.setTimeout&&setTimeout(sc.unload,911),this):new Promise(function(it,ht){try{var vt=sc(yn(ss()),w);typeof sc.unload=="function"&&Ye.setTimeout&&setTimeout(sc.unload,911),it(vt)}catch(jt){ht(jt.message)}})},xe.API)xe.API.hasOwnProperty(ks)&&(ks==="events"&&xe.API.events.length?(function(w,P){var it,ht,vt;for(vt=P.length-1;vt!==-1;vt--)it=P[vt][0],ht=P[vt][1],w.subscribe.apply(w,[it].concat(typeof ht=="function"?[ht]:ht))})(on,xe.API.events):b[ks]=xe.API[ks]);function as(w){return ve[w].mediaBox.topRightX-ve[w].mediaBox.bottomLeftX}function Ya(w,P){ve[w].mediaBox.topRightX=P+ve[w].mediaBox.bottomLeftX}function Eo(w){return ve[w].mediaBox.topRightY-ve[w].mediaBox.bottomLeftY}function Wr(w,P){ve[w].mediaBox.topRightY=P+ve[w].mediaBox.bottomLeftY}var Os=b.getPageWidth=function(w){return as(w=w||K)/He},al=b.setPageWidth=function(w,P){Ya(w,P*He)},As=b.getPageHeight=function(w){return Eo(w=w||K)/He},xo=b.setPageHeight=function(w,P){Wr(w,P*He)};return b.internal={pdfEscape:Ir,getStyle:nl,getFont:bs,getFontSize:re,getCharSpace:ra,getTextColor:sl,getLineHeight:qa,getLineHeightFactor:wa,getLineWidth:ba,write:Zt,getHorizontalCoordinate:Gi,getVerticalCoordinate:Di,getCoordinateString:Ha,getVerticalCoordinateString:Dn,collections:{},newObject:Fn,newAdditionalObject:cr,newObjectDeferred:Xn,newObjectDeferredBegin:ki,getFilters:Tr,putStream:ns,events:on,scaleFactor:He,pageSize:{getWidth:function(){return Os(K)},setWidth:function(w){al(K,w)},getHeight:function(){return As(K)},setHeight:function(w){xo(K,w)}},encryptionOptions:v,encryption:ri,getEncryptor:function(w){return v!==null?ri.encryptor(w,0):function(P){return P}},output:va,getNumberOfPages:bo,get pages(){return Xt},out:tt,f2:N,f3:O,getPageInfo:_i,getPageInfoByObjId:za,getCurrentPageInfo:Ul,getPDFVersion:B,Point:er,Rectangle:Rs,Matrix:Se,hasHotfix:xi},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Os(K)},set:function(w){al(K,w)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return As(K)},set:function(w){xo(K,w)},enumerable:!0,configurable:!0}),(function(w){for(var P=0,it=Te.length;P<it;P++){var ht=vo.call(this,w[P][0],w[P][1],w[P][2],Te[P][3],!0);S===!1&&(x[ht]=!0);var vt=w[P][0].split("-");fi({id:ht,fontName:vt[0],fontStyle:vt[1]||""})}on.publish("addFonts",{fonts:Ne,dictionary:je})}).call(b,Te),ge="F1",_s(a,e),on.publish("initialized"),b}dh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},dh.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},dh.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},dh.prototype.processOwnerPassword=function(n,t){return _0(v0(t).substr(0,5),n)},dh.prototype.encryptor=function(n,t){var e=v0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return _0(e,r)}},um.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Qn(n)!==Qn(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;r++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},xe.API={events:[]},xe.version="4.2.0";var Fi=xe.API,w2=1,Ec=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ah=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yc=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var e=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(e.length===1?"0"+e:e)})},nn=function(n){return n.toFixed(2)},mu=function(n){return n.toFixed(5)};Fi.__acroform__={};var $s=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},Nb=function(n){return n*w2},Fo=function(n){var t=new fA,e=me.internal.getHeight(n)||0,r=me.internal.getWidth(n)||0;return t.BBox=[0,0,Number(nn(r)),Number(nn(e))],t},W7=Fi.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},Q7=Fi.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},X7=Fi.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},Qi=Fi.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return X7(n,t-1)},Xi=Fi.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return W7(n,t-1)},$i=Fi.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Q7(n,t-1)},$7=Fi.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=n[0],o=n[1],c=n[2],h=n[3],f={};return f.lowerLeft_X=e(a)||0,f.lowerLeft_Y=r(o+h)||0,f.upperRight_X=e(a+c)||0,f.upperRight_Y=r(o)||0,[Number(nn(f.lowerLeft_X)),Number(nn(f.lowerLeft_Y)),Number(nn(f.upperRight_X)),Number(nn(f.upperRight_Y))]},J7=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,r=b0(n,e),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+a+" "+nn(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=Fo(n);return o.scope=n.scope,o.stream=t.join(`
`),o}},b0=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=n.multiline?a.map(function(N){return N.split(`
`)}):a.map(function(N){return[N]});var o=e,c=me.internal.getHeight(n)||0;c=c<0?-c:c;var h=me.internal.getWidth(n)||0;h=h<0?-h:h;var f=function(N,O,C){if(N+1<a.length){var ot=O+" "+a[N+1][0];return Sp(ot,n,C).width<=h-4}return!1};o++;t:for(;o>0;){t="",o--;var m,v,S=Sp("3",n,o).height,x=n.multiline?c-o:(c-S)/2,b=x+=2,U=0,B=0,G=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+Sp(t,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var F="",st=0,Z=0;Z<a.length;Z++)if(a.hasOwnProperty(Z)){var et=!1;if(a[Z].length!==1&&G!==a[Z].length-1){if((S+2)*(st+2)+2>c)continue t;F+=a[Z][G],et=!0,B=Z,Z--}else{F=(F+=a[Z][G]+" ").substr(F.length-1)==" "?F.substr(0,F.length-1):F;var bt=parseInt(Z),St=f(bt,F,o),Y=Z>=a.length-1;if(St&&!Y){F+=" ",G=0;continue}if(St||Y){if(Y)B=bt;else if(n.multiline&&(S+2)*(st+2)+2>c)continue t}else{if(!n.multiline||(S+2)*(st+2)+2>c)continue t;B=bt}}for(var D="",R=U;R<=B;R++){var q=a[R];if(n.multiline){if(R===B){D+=q[G]+" ",G=(G+1)%q.length;continue}if(R===U){D+=q[q.length-1]+" ";continue}}D+=q[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,v=Sp(D,n,o).width,n.textAlign){case"right":m=h-v-2;break;case"center":m=(h-v)/2;break;default:m=2}t+=nn(m)+" "+nn(b)+` Td
`,t+="("+Ec(D)+`) Tj
`,t+=-nn(m)+` 0 Td
`,b=-(o+2),v=0,U=et?B:B+1,st++,F=""}break}return r.text=t,r.fontSize=o,r},Sp=function(n,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:a}},Z7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tL=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},eL=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(go.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Z7)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");w2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new dA,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&tL(o,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(r,a){var o=!r;for(var c in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(c)){var h=r[c],f=[],m=h.Rect;if(h.Rect&&(h.Rect=$7(h.Rect,a)),a.internal.newObjectDeferredBegin(h.objId,!0),h.DA=me.createDefaultAppearanceStream(h),Qn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=m,h.hasAppearanceStream&&!h.appearanceStreamContent){var v=J7(h);f.push({key:"AP",value:"<</N "+v+">>"}),a.internal.acroformPlugin.xForms.push(v)}if(h.appearanceStreamContent){var S="";for(var x in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(x)){var b=h.appearanceStreamContent[x];if(S+="/"+x+" ",S+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var c in b)if(b.hasOwnProperty(c)){var U=b[c];typeof U=="function"&&(U=U.call(a,h)),S+="/"+c+" "+U+" ",a.internal.acroformPlugin.xForms.indexOf(U)>=0||a.internal.acroformPlugin.xForms.push(U)}}else typeof(U=b)=="function"&&(U=U.call(a,h)),S+="/"+c+" "+U,a.internal.acroformPlugin.xForms.indexOf(U)>=0||a.internal.acroformPlugin.xForms.push(U);S+=">>"}f.push({key:"AP",value:`<<
`+S+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:h.objId}),a.internal.out("endobj")}o&&(function(B,G){for(var F in B)if(B.hasOwnProperty(F)){var st=F,Z=B[F];G.internal.newObjectDeferredBegin(Z.objId,!0),Qn(Z)==="object"&&typeof Z.putStream=="function"&&Z.putStream(),delete B[st]}})(a.internal.acroformPlugin.xForms,a)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},hA=Fi.__acroform__.arrayToPdfArray=function(n,t,e){var r=function(c){return c};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),Qn(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)==="/"?a+="/"+yc(n[o].substr(1)):(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),a+="("+Ec(r(n[o].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},P1=function(n,t,e){var r=function(a){return a};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+Ec(r(n))+")"},qo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qo.prototype.toString=function(){return this.objId+" 0 R"},qo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},qo.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:hA(a,this.objId,this.scope)}):a instanceof qo?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var fA=function(){qo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};$s(fA,qo);var dA=function(){qo.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Ec(e(n))+")"}},set:function(e){n=e}})};$s(dA,qo);var go=function n(){qo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute F supplied.');t=F}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qi(t,3)},set:function(F){F?this.F=Xi(t,3):this.F=$i(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute Ff supplied.');e=F}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(F){r=F!==void 0?F:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(F){r[0]=F}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(F){r[1]=F}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(F){r[2]=F}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(F){r[3]=F}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(F){switch(F){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=F;break;default:throw new Error('Invalid value "'+F+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof cm)return;o="FieldObject"+n.FieldNum++}var F=function(st){return st};return this.scope&&(F=this.scope.internal.getEncryptor(this.objId)),"("+Ec(F(o))+")"},set:function(F){o=F.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(F){o=F}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(F){c=F}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(F){h=F}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(F){f=F}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/w2:m},set:function(F){m=F}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(F){v=F}});var S="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!S||this instanceof cm||this instanceof uc))return P1(S,this.objId,this.scope)},set:function(F){F=F.toString(),S=F}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Ur==0?P1(x,this.objId,this.scope):x},set:function(F){F=F.toString(),x=this instanceof Ur==0?F.substr(0,1)==="("?ah(F.substr(1,F.length-2)):ah(F):F}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ur==1?ah(x.substr(1,x.length-1)):x},set:function(F){F=F.toString(),x=this instanceof Ur==1?"/"+yc(F):F}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(F){this.V=F}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ur==0?P1(b,this.objId,this.scope):b},set:function(F){F=F.toString(),b=this instanceof Ur==0?F.substr(0,1)==="("?ah(F.substr(1,F.length-2)):ah(F):F}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ur==1?ah(b.substr(1,b.length-1)):b},set:function(F){F=F.toString(),b=this instanceof Ur==1?"/"+yc(F):F}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var U,B=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return B},set:function(F){F=!!F,B=F}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(U)return U},set:function(F){U=F}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,1)},set:function(F){F?this.Ff=Xi(this.Ff,1):this.Ff=$i(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,2)},set:function(F){F?this.Ff=Xi(this.Ff,2):this.Ff=$i(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,3)},set:function(F){F?this.Ff=Xi(this.Ff,3):this.Ff=$i(this.Ff,3)}});var G=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(G!==null)return G},set:function(F){if([0,1,2].indexOf(F)===-1)throw new Error('Invalid value "'+F+'" for attribute Q supplied.');G=F}}),Object.defineProperty(this,"textAlign",{get:function(){var F;switch(G){case 0:default:F="left";break;case 1:F="center";break;case 2:F="right"}return F},configurable:!0,enumerable:!0,set:function(F){switch(F){case"right":case 2:G=2;break;case"center":case 1:G=1;break;default:G=0}}})};$s(go,qo);var Sh=function(){go.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return hA(t,this.objId,this.scope)},set:function(e){var r,a;a=[],typeof(r=e)=="string"&&(a=(function(o,c,h){h||(h=1);for(var f,m=[];f=c.exec(o);)m.push(f[h]);return m})(r,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,18)},set:function(e){e?this.Ff=Xi(this.Ff,18):this.Ff=$i(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Xi(this.Ff,19):this.Ff=$i(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,20)},set:function(e){e?(this.Ff=Xi(this.Ff,20),t.sort()):this.Ff=$i(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,22)},set:function(e){e?this.Ff=Xi(this.Ff,22):this.Ff=$i(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,23)},set:function(e){e?this.Ff=Xi(this.Ff,23):this.Ff=$i(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,27)},set:function(e){e?this.Ff=Xi(this.Ff,27):this.Ff=$i(this.Ff,27)}}),this.hasAppearanceStream=!1};$s(Sh,go);var Eh=function(){Sh.call(this),this.fontName="helvetica",this.combo=!1};$s(Eh,Sh);var xh=function(){Eh.call(this),this.combo=!0};$s(xh,Eh);var Mp=function(){xh.call(this),this.edit=!0};$s(Mp,xh);var Ur=function(){go.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,15)},set:function(e){e?this.Ff=Xi(this.Ff,15):this.Ff=$i(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,16)},set:function(e){e?this.Ff=Xi(this.Ff,16):this.Ff=$i(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,17)},set:function(e){e?this.Ff=Xi(this.Ff,17):this.Ff=$i(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,26)},set:function(e){e?this.Ff=Xi(this.Ff,26):this.Ff=$i(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,a=[];for(r in a.push("<<"),t)a.push("/"+r+" ("+Ec(e(t[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(e){Qn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){var r=e==null?"":e.toString();r.substr(0,1)==="/"&&(r=r.substr(1)),n="/"+yc(r)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+yc(e)}})};$s(Ur,go);var jp=function(){Ur.call(this),this.pushButton=!0};$s(jp,Ur);var Th=function(){Ur.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};$s(Th,Ur);var cm=function(){var n,t;go.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(h){return h};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),r)c.push("/"+o+" ("+Ec(a(r[o]))+")");return c.push(">>"),c.join(`
`)},set:function(a){Qn(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){var o=a==null?"":a.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),e="/"+yc(o)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){var o=a==null?"":a.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),e="/"+yc(o)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=me.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$s(cm,go),Th.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},Th.prototype.createOption=function(n){var t=new cm;return t.Parent=this,t.optionName=n,this.Kids.push(t),nL.call(this.scope,t),t};var Up=function(){Ur.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=me.CheckBox.createAppearanceStream()};$s(Up,Ur);var uc=function(){go.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,13)},set:function(t){t?this.Ff=Xi(this.Ff,13):this.Ff=$i(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,21)},set:function(t){t?this.Ff=Xi(this.Ff,21):this.Ff=$i(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,23)},set:function(t){t?this.Ff=Xi(this.Ff,23):this.Ff=$i(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,24)},set:function(t){t?this.Ff=Xi(this.Ff,24):this.Ff=$i(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,25)},set:function(t){t?this.Ff=Xi(this.Ff,25):this.Ff=$i(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,26)},set:function(t){t?this.Ff=Xi(this.Ff,26):this.Ff=$i(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$s(uc,go);var Vp=function(){uc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,14)},set:function(n){n?this.Ff=Xi(this.Ff,14):this.Ff=$i(this.Ff,14)}}),this.password=!0};$s(Vp,uc);var me={CheckBox:{createAppearanceStream:function(){return{N:{On:me.CheckBox.YesNormal},D:{On:me.CheckBox.YesPushDown,Off:me.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=Fo(n);t.scope=n.scope;var e=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=b0(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+nn(me.internal.getWidth(n))+" "+nn(me.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+nn(o.fontSize)+" Tf "+a),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=Fo(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],o=me.internal.getHeight(n),c=me.internal.getWidth(n),h=b0(n,n.caption);return a.push("1 g"),a.push("0 0 "+nn(c)+" "+nn(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+nn(c-1)+" "+nn(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+e+" "+nn(h.fontSize)+" Tf "+r),a.push(h.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(n){var t=Fo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+nn(me.internal.getWidth(n))+" "+nn(me.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:me.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=me.RadioButton.Circle.YesNormal,t.D[n]=me.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=Fo(n);t.scope=n.scope;var e=[],r=me.internal.getWidth(n)<=me.internal.getHeight(n)?me.internal.getWidth(n)/4:me.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=me.internal.Bezier_C,o=Number((r*a).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+mu(me.internal.getWidth(n)/2)+" "+mu(me.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Fo(n);t.scope=n.scope;var e=[],r=me.internal.getWidth(n)<=me.internal.getHeight(n)?me.internal.getWidth(n)/4:me.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*me.internal.Bezier_C).toFixed(5)),c=Number((r*me.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+mu(me.internal.getWidth(n)/2)+" "+mu(me.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),e.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),e.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),e.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+mu(me.internal.getWidth(n)/2)+" "+mu(me.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),e.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),e.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),e.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=Fo(n);t.scope=n.scope;var e=[],r=me.internal.getWidth(n)<=me.internal.getHeight(n)?me.internal.getWidth(n)/4:me.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*me.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+mu(me.internal.getWidth(n)/2)+" "+mu(me.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),e.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),e.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),e.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:me.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=me.RadioButton.Cross.YesNormal,t.D[n]=me.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=Fo(n);t.scope=n.scope;var e=[],r=me.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+nn(me.internal.getWidth(n)-2)+" "+nn(me.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(nn(r.x1.x)+" "+nn(r.x1.y)+" m"),e.push(nn(r.x2.x)+" "+nn(r.x2.y)+" l"),e.push(nn(r.x4.x)+" "+nn(r.x4.y)+" m"),e.push(nn(r.x3.x)+" "+nn(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Fo(n);t.scope=n.scope;var e=me.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+nn(me.internal.getWidth(n))+" "+nn(me.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+nn(me.internal.getWidth(n)-2)+" "+nn(me.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(nn(e.x1.x)+" "+nn(e.x1.y)+" m"),r.push(nn(e.x2.x)+" "+nn(e.x2.y)+" l"),r.push(nn(e.x4.x)+" "+nn(e.x4.y)+" m"),r.push(nn(e.x3.x)+" "+nn(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=Fo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+nn(me.internal.getWidth(n))+" "+nn(me.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};me.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=me.internal.getWidth(n),e=me.internal.getHeight(n),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},me.internal.getWidth=function(n){var t=0;return Qn(n)==="object"&&(t=Nb(n.Rect[2])),t},me.internal.getHeight=function(n){var t=0;return Qn(n)==="object"&&(t=Nb(n.Rect[3])),t};var nL=Fi.addField=function(n){if(eL(this,n),!(n instanceof go))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Fi.AcroFormChoiceField=Sh,Fi.AcroFormListBox=Eh,Fi.AcroFormComboBox=xh,Fi.AcroFormEditBox=Mp,Fi.AcroFormButton=Ur,Fi.AcroFormPushButton=jp,Fi.AcroFormRadioButton=Th,Fi.AcroFormCheckBox=Up,Fi.AcroFormTextField=uc,Fi.AcroFormPasswordField=Vp,Fi.AcroFormAppearance=me,Fi.AcroForm={ChoiceField:Sh,ListBox:Eh,ComboBox:xh,EditBox:Mp,Button:Ur,PushButton:jp,RadioButton:Th,CheckBox:Up,TextField:uc,PasswordField:Vp,Appearance:me},xe.AcroForm={ChoiceField:Sh,ListBox:Eh,ComboBox:xh,EditBox:Mp,Button:Ur,PushButton:jp,RadioButton:Th,CheckBox:Up,TextField:uc,PasswordField:Vp,Appearance:me};xe.AcroForm;function pA(n){return n.reduce(function(t,e,r){return t[e]=r,t},{})}(function(n){var t="addImage_";n.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(N,O){var C,ot,xt,at,pt,ft=e;if((O=O||e)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(St(N))for(pt in r)for(xt=r[pt],C=0;C<xt.length;C+=1){for(at=!0,ot=0;ot<xt[C].length;ot+=1)if(xt[C][ot]!==void 0&&xt[C][ot]!==N[ot]){at=!1;break}if(at===!0){ft=pt;break}}else for(pt in r)for(xt=r[pt],C=0;C<xt.length;C+=1){for(at=!0,ot=0;ot<xt[C].length;ot+=1)if(xt[C][ot]!==void 0&&xt[C][ot]!==N.charCodeAt(ot)){at=!1;break}if(at===!0){ft=pt;break}}return ft===e&&O!==e&&(ft=O),ft},o=function N(O){for(var C=this.internal.write,ot=this.internal.putStream,xt=(0,this.internal.getFilters)();xt.indexOf("FlateEncode")!==-1;)xt.splice(xt.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var at=[];if(at.push({key:"Type",value:"/XObject"}),at.push({key:"Subtype",value:"/Image"}),at.push({key:"Width",value:O.width}),at.push({key:"Height",value:O.height}),O.colorSpace===F.INDEXED?at.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(at.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===F.DEVICE_CMYK&&at.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),at.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&at.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var pt="",ft=0,Ct=O.transparency.length;ft<Ct;ft++)pt+=O.transparency[ft]+" "+O.transparency[ft]+" ";at.push({key:"Mask",value:"["+pt+"]"})}O.sMask!==void 0&&at.push({key:"SMask",value:O.objectId+1+" 0 R"});var Ht=O.filter!==void 0?["/"+O.filter]:void 0;if(ot({data:O.data,additionalKeyValues:at,alreadyAppliedFilters:Ht,objectId:O.objectId}),C("endobj"),"sMask"in O&&O.sMask!==void 0){var $,k=($=O.sMaskBitsPerComponent)!==null&&$!==void 0?$:O.bitsPerComponent,K={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:O.sMask};"filter"in O&&(K.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(O.width),K.filter=O.filter),N.call(this,K)}if(O.colorSpace===F.INDEXED){var J=this.internal.newObject();ot({data:D(new Uint8Array(O.palette)),objectId:J}),C("endobj")}},c=function(){var N=this.internal.collections[t+"images"];for(var O in N)o.call(this,N[O])},h=function(){var N,O=this.internal.collections[t+"images"],C=this.internal.write;for(var ot in O)C("/I"+(N=O[ot]).index,N.objectId,"0","R")},f=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",h))},m=function(){var N=this.internal.collections[t+"images"];return f.call(this),N},v=function(){return Object.keys(this.internal.collections[t+"images"]).length},S=function(N){return typeof n["process"+N.toUpperCase()]=="function"},x=function(N){return Qn(N)==="object"&&N.nodeType===1},b=function(N,O){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var C=""+N.getAttribute("src");if(C.indexOf("data:image/")===0)return Pp(unescape(C).split("base64,").pop());var ot=n.loadFile(C,!0);if(ot!==void 0)return ot}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var xt;switch(O){case"PNG":xt="image/png";break;case"WEBP":xt="image/webp";break;default:xt="image/jpeg"}return Pp(N.toDataURL(xt,1).split("base64,").pop())}},U=function(N){var O=this.internal.collections[t+"images"];if(O){for(var C in O)if(N===O[C].alias)return O[C]}},B=function(N,O,C){return N||O||(N=-96,O=-96),N<0&&(N=-1*C.width*72/N/this.internal.scaleFactor),O<0&&(O=-1*C.height*72/O/this.internal.scaleFactor),N===0&&(N=O*C.width/C.height),O===0&&(O=N*C.height/C.width),[N,O]},G=function(N,O,C,ot,xt,at){var pt=B.call(this,C,ot,xt),ft=this.internal.getCoordinateString,Ct=this.internal.getVerticalCoordinateString,Ht=m.call(this);if(C=pt[0],ot=pt[1],Ht[xt.index]=xt,at){at*=Math.PI/180;var $=Math.cos(at),k=Math.sin(at),K=function(lt){return lt.toFixed(4)},J=[K($),K(k),K(-1*k),K($),0,0,"cm"]}this.internal.write("q"),at?(this.internal.write([1,"0","0",1,ft(N),Ct(O+ot),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([ft(C),"0","0",ft(ot),"0","0","cm"].join(" "))):this.internal.write([ft(C),"0","0",ft(ot),ft(N),Ct(O+ot),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xt.index+" Do"),this.internal.write("Q")},F=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var st=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Z=n.__addimage__.sHashCode=function(N){var O,C,ot=0;if(typeof N=="string")for(C=N.length,O=0;O<C;O++)ot=(ot<<5)-ot+N.charCodeAt(O),ot|=0;else if(St(N))for(C=N.byteLength/2,O=0;O<C;O++)ot=(ot<<5)-ot+N[O],ot|=0;return ot},et=n.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var O=!0;return N.length===0&&(O=!1),N.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(O=!1),O},bt=n.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var O=N.indexOf(",");return O<0?null:N.substring(0,O).trim().endsWith("base64")?N.substring(O+1):null};n.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var St=n.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},Y=n.__addimage__.binaryStringToUint8Array=function(N){for(var O=N.length,C=new Uint8Array(O),ot=0;ot<O;ot++)C[ot]=N.charCodeAt(ot);return C},D=n.__addimage__.arrayBufferToBinaryString=function(N){for(var O="",C=St(N)?N:new Uint8Array(N),ot=0;ot<C.length;ot+=8192)O+=String.fromCharCode.apply(null,C.subarray(ot,ot+8192));return O};n.addImage=function(){var N,O,C,ot,xt,at,pt,ft,Ct;if(typeof arguments[1]=="number"?(O=e,C=arguments[1],ot=arguments[2],xt=arguments[3],at=arguments[4],pt=arguments[5],ft=arguments[6],Ct=arguments[7]):(O=arguments[1],C=arguments[2],ot=arguments[3],xt=arguments[4],at=arguments[5],pt=arguments[6],ft=arguments[7],Ct=arguments[8]),Qn(N=arguments[0])==="object"&&!x(N)&&"imageData"in N){var Ht=N;N=Ht.imageData,O=Ht.format||O||e,C=Ht.x||C||0,ot=Ht.y||ot||0,xt=Ht.w||Ht.width||xt,at=Ht.h||Ht.height||at,pt=Ht.alias||pt,ft=Ht.compression||ft,Ct=Ht.rotation||Ht.angle||Ct}var $=this.internal.getFilters();if(ft===void 0&&$.indexOf("FlateEncode")!==-1&&(ft="SLOW"),isNaN(C)||isNaN(ot))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var k=R.call(this,N,O,pt,ft);return G.call(this,C,ot,xt,at,k,Ct),this};var R=function(N,O,C,ot){var xt,at,pt;if(typeof N=="string"&&a(N)===e){N=unescape(N);var ft=q(N,!1);(ft!==""||(ft=n.loadFile(N,!0))!==void 0)&&(N=ft)}if(x(N)&&(N=b(N,O)),O=a(N,O),!S(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((pt=C)==null||pt.length===0)&&(C=(function(Ct){return typeof Ct=="string"||St(Ct)?Z(Ct):St(Ct.data)?Z(Ct.data):null})(N)),(xt=U.call(this,C))||(N instanceof Uint8Array||O==="RGBA"||(at=N,N=Y(N)),xt=this["process"+O.toUpperCase()](N,v.call(this),C,(function(Ct){return Ct&&typeof Ct=="string"&&(Ct=Ct.toUpperCase()),Ct in n.image_compression?Ct:st.NONE})(ot),at)),!xt)throw new Error("An unknown error occurred whilst processing the image.");return xt},q=n.__addimage__.convertBase64ToBinaryString=function(N,O){O=typeof O!="boolean"||O;var C,ot="";if(typeof N=="string"){var xt;C=(xt=bt(N))!==null&&xt!==void 0?xt:N;try{ot=Pp(C)}catch(at){if(O)throw et(C)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+at.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ot};n.getImageProperties=function(N){var O,C,ot="";if(x(N)&&(N=b(N)),typeof N=="string"&&a(N)===e&&((ot=q(N,!1))===""&&(ot=n.loadFile(N)||""),N=ot),C=a(N),!S(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(N instanceof Uint8Array||(N=Y(N)),!(O=this["process"+C.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=C,O}})(xe.API),(function(n){var t=function(e){if(e!==void 0&&e!="")return!0};xe.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var r,a,o,c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(e.objId),m=e.pageContext.annotations,v=!1,S=0;S<m.length&&!v;S++)switch((r=m[S]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var x=0;x<m.length;x++){r=m[x];var b=this.internal.pdfEscape,U=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var B=this.internal.newAdditionalObject(),G=this.internal.newAdditionalObject(),F=this.internal.getEncryptor(B.objId),st=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(r.bounds.x)+" "+h(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y)+"] ")+"/Contents ("+b(F(r.contents))+")",o+=" /Popup "+G.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+b(F(st))+") >>",B.content=o;var Z=B.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(r.bounds.x+30)+" "+h(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w+30)+" "+h(r.bounds.y)+"] ")+" /Parent "+Z,r.open&&(o+=" /Open true"),o+=" >>",G.content=o,this.internal.write(B.objId,"0 R",G.objId,"0 R");break;case"freetext":a="/Rect ["+c(r.bounds.x)+" "+h(r.bounds.y)+" "+c(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y+r.bounds.h)+"] ";var et=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+b(U(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+et+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var bt=this.annotations._nameMap[r.options.name];r.options.pageNumber=bt.page,r.options.top=bt.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+b(U(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var St=h(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+St+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},n.link=function(e,r,a,o,c){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(e),y:m(r),w:f(e+a),h:m(r+o)},options:c,type:"link"})},n.textWithLink=function(e,r,a,o){var c,h,f=this.getTextWidth(e),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var v=this.splitTextToSize(e,h).length;c=Math.ceil(m*v)}else h=f,c=m;return this.text(e,r,a,o),a+=.2*m,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,a-m,h,c,o),f},n.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}})(xe.API),(function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(B){return t[B.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(B){return typeof B=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(B)},h=n.__arabicParser__.isArabicEndLetter=function(B){return c(B)&&o(B)&&t[B.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(B){return c(B)&&a.indexOf(B.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(B){return c(B)&&o(B)&&t[B.charCodeAt(0)].length>=1};var m=n.__arabicParser__.arabicLetterHasFinalForm=function(B){return c(B)&&o(B)&&t[B.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(B){return c(B)&&o(B)&&t[B.charCodeAt(0)].length>=3};var v=n.__arabicParser__.arabicLetterHasMedialForm=function(B){return c(B)&&o(B)&&t[B.charCodeAt(0)].length==4},S=n.__arabicParser__.resolveLigatures=function(B){var G=0,F=e,st="",Z=0;for(G=0;G<B.length;G+=1)F[B.charCodeAt(G)]!==void 0?(Z++,typeof(F=F[B.charCodeAt(G)])=="number"&&(st+=String.fromCharCode(F),F=e,Z=0),G===B.length-1&&(F=e,st+=B.charAt(G-(Z-1)),G-=Z-1,Z=0)):(F=e,st+=B.charAt(G-Z),G-=Z,Z=0);return st};n.__arabicParser__.isArabicDiacritic=function(B){return B!==void 0&&r[B.charCodeAt(0)]!==void 0};var x=n.__arabicParser__.getCorrectForm=function(B,G,F){return c(B)?o(B)===!1?-1:!m(B)||!c(G)&&!c(F)||!c(F)&&h(G)||h(B)&&!c(G)||h(B)&&f(G)||h(B)&&h(G)?0:v(B)&&c(G)&&!h(G)&&c(F)&&m(F)?3:h(B)||!c(F)?1:2:-1},b=function(B){var G=0,F=0,st=0,Z="",et="",bt="",St=(B=B||"").split("\\s+"),Y=[];for(G=0;G<St.length;G+=1){for(Y.push(""),F=0;F<St[G].length;F+=1)Z=St[G][F],et=St[G][F-1],bt=St[G][F+1],c(Z)?(st=x(Z,et,bt),Y[G]+=st!==-1?String.fromCharCode(t[Z.charCodeAt(0)][st]):Z):Y[G]+=Z;Y[G]=S(Y[G])}return Y.join(" ")},U=n.__arabicParser__.processArabic=n.processArabic=function(){var B,G=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,F=[];if(Array.isArray(G)){var st=0;for(F=[],st=0;st<G.length;st+=1)Array.isArray(G[st])?F.push([b(G[st][0]),G[st][1],G[st][2]]):F.push([b(G[st])]);B=F}else B=b(G);return typeof arguments[0]=="string"?B:(arguments[0].text=B,arguments[0])};n.events.push(["preProcessText",U])})(xe.API),xe.API.autoPrint=function(n){var t;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(h){e=h}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(h){r=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var a;if((e=e||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(xe.API),(function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(B){f=B}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(B){m=B}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(B){v=B}});var S=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return S},set:function(B){S=B}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(B){x=B}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(B){b=B}});var U=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return U},set:function(B){U=B}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,m){r.call(this);var v=(m=m||{}).fontSize||this.getFontSize(),S=m.font||this.getFont(),x=m.scaleFactor||this.internal.scaleFactor,b=0,U=0,B=0,G=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var F=m.maxWidth;F>0?typeof f=="string"?f=this.splitTextToSize(f,F):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(Z,et){return Z.concat(G.splitTextToSize(et,F))},[])):f=Array.isArray(f)?f:[f];for(var st=0;st<f.length;st++)b<(B=this.getStringUnitWidth(f[st],{font:S})*v)&&(b=B);return b!==0&&(U=f.length),{w:b/=x,h:Math.max((U*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/x,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var m=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,S=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===f.lineNumber?(f.x=(m.x||0)+(m.width||0),f.y=m.y||0):m.y+m.height+f.height+S.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=S.top,b&&x&&(this.printHeaderRow(f.lineNumber,!0),f.y+=x[0].height)):f.y=m.y+m.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,e===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-v,f.y+v,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+v,{align:"center",baseline:"top",maxWidth:f.width-v-v}):this.text(f.text,f.x+v,f.y+v,{align:"left",baseline:"top",maxWidth:f.width-v-v})),this.internal.__cell__.lastCell=f,this};n.table=function(f,m,v,S,x){if(r.call(this),!v)throw new Error("No data for PDF table.");var b,U,B,G,F=[],st=[],Z=[],et={},bt={},St=[],Y=[],D=(x=x||{}).autoSize||!1,R=x.printHeaders!==!1,q=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,N=x.margins||Object.assign({width:this.getPageWidth()},t),O=typeof x.padding=="number"?x.padding:3,C=x.headerBackgroundColor||"#c8c8c8",ot=x.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=C,this.internal.__cell__.headerTextColor=ot,this.setFontSize(q),S==null)st=F=Object.keys(v[0]),Z=F.map(function(){return"left"});else if(Array.isArray(S)&&Qn(S[0])==="object")for(F=S.map(function(Ht){return Ht.name}),st=S.map(function(Ht){return Ht.prompt||Ht.name||""}),Z=S.map(function(Ht){return Ht.align||"left"}),b=0;b<S.length;b+=1)bt[S[b].name]=.7499990551181103*S[b].width;else Array.isArray(S)&&typeof S[0]=="string"&&(st=F=S,Z=F.map(function(){return"left"}));if(D||Array.isArray(S)&&typeof S[0]=="string")for(b=0;b<F.length;b+=1){for(et[G=F[b]]=v.map(function(Ht){return Ht[G]}),this.setFont(void 0,"bold"),St.push(this.getTextDimensions(st[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),U=et[G],this.setFont(void 0,"normal"),B=0;B<U.length;B+=1)St.push(this.getTextDimensions(U[B],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);bt[G]=Math.max.apply(null,St)+O+O,St=[]}if(R){var xt={};for(b=0;b<F.length;b+=1)xt[F[b]]={},xt[F[b]].text=st[b],xt[F[b]].align=Z[b];var at=h.call(this,xt,bt);Y=F.map(function(Ht){return new o(f,m,bt[Ht],at,xt[Ht].text,void 0,xt[Ht].align)}),this.setTableHeaderRow(Y),this.printHeaderRow(1,!1)}var pt=S.reduce(function(Ht,$){return Ht[$.name]=$.align,Ht},{});for(b=0;b<v.length;b+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:b,data:v[b]},this);var ft=h.call(this,v[b],bt);for(B=0;B<F.length;B+=1){var Ct=v[b][F[B]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:b,col:B,data:Ct},this),c.call(this,new o(f,m,bt[F[B]],ft,Ct,b+2,pt[F[B]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=m,this};var h=function(f,m){var v=this.internal.__cell__.padding,S=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(f).map(function(b){var U=f[b];return this.splitTextToSize(U.hasOwnProperty("text")?U.text:U,m[b]-v-v)},this).map(function(b){return this.getLineHeightFactor()*b.length*S/x+v+v},this).reduce(function(b,U){return Math.max(b,U)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,m){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var S=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(S[0],S[1],S[2],S[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){v=this.internal.__cell__.tableHeaderRow[b].clone(),m&&(v.y=this.internal.__cell__.margins.top||0,x.push(v)),v.lineNumber=f;var U=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,v),this.setTextColor(U)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),e=!1}})(xe.API);var mA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},gA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],w0=pA(gA),yA=[100,200,300,400,500,600,700,800,900],iL=pA(yA);function M1(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=(function(o){return mA[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof w0[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:t,style:e,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:t,style:[a,e,r].join(" ")}}}function Ib(n,t,e,r){var a;for(a=e;a>=0&&a<t.length;a+=r)if(n[t[a]])return n[t[a]];for(a=e;a>=0&&a<t.length;a-=r)if(n[t[a]])return n[t[a]]}var rL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Cb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Rb(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Lb(n){return n.trimLeft()}function sL(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function aL(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var oh,Ep,kb,Ob,Db,j1=["times"];function Pb(n,t,e,r,a){var o=4,c=jb;switch(a){case xe.API.image_compression.FAST:o=1,c=Mb;break;case xe.API.image_compression.MEDIUM:o=6,c=Ub;break;case xe.API.image_compression.SLOW:o=9,c=Vb}n=(function(f,m,v,S){for(var x,b=f.length/m,U=new Uint8Array(f.length+b),B=[oL,Mb,jb,Ub,Vb],G=0;G<b;G+=1){var F=G*m,st=f.subarray(F,F+m);if(S)U.set(S(st,v,x),F+G);else{for(var Z=B.length,et=[],bt=0;bt<Z;bt+=1)et[bt]=B[bt](st,v,x);var St=uL(et.concat());U.set(et[St],F+G)}x=st}return U})(n,t,Math.ceil(e*r/8),c);var h=p0(n,{level:o});return xe.API.__addimage__.arrayBufferToBinaryString(h)}function oL(n){var t=Array.apply([],n);return t.unshift(0),t}function Mb(n,t){var e=n.length,r=[];r[0]=1;for(var a=0;a<e;a+=1){var o=n[a-t]||0;r[a+1]=n[a]-o+256&255}return r}function jb(n,t,e){var r=n.length,a=[];a[0]=2;for(var o=0;o<r;o+=1){var c=e&&e[o]||0;a[o+1]=n[o]-c+256&255}return a}function Ub(n,t,e){var r=n.length,a=[];a[0]=3;for(var o=0;o<r;o+=1){var c=n[o-t]||0,h=e&&e[o]||0;a[o+1]=n[o]+256-(c+h>>>1)&255}return a}function Vb(n,t,e){var r=n.length,a=[];a[0]=4;for(var o=0;o<r;o+=1){var c=lL(n[o-t]||0,e&&e[o]||0,e&&e[o-t]||0);a[o+1]=n[o]-c+256&255}return a}function lL(n,t,e){if(n===t&&t===e)return n;var r=Math.abs(t-e),a=Math.abs(n-e),o=Math.abs(n+t-e-e);return r<=a&&r<=o?n:a<=o?t:e}function uL(n){var t=n.map(function(e){return e.reduce(function(r,a){return r+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function U1(n,t,e){var r=t*e,a=Math.floor(r/8),o=16-(r-8*a+e),c=(1<<e)-1;return vA(n,a)>>o&c}function Bb(n,t,e,r){var a=e*r,o=Math.floor(a/8),c=16-(a-8*o+r),h=(1<<r)-1,f=(t&h)<<c;(function(m,v,S){if(v+1<m.byteLength)m.setUint16(v,S,!1);else{var x=S>>8&255;m.setUint8(v,x)}})(n,o,vA(n,o)&~(h<<c)&65535|f)}function vA(n,t){return t+1<n.byteLength?n.getUint16(t,!1):n.getUint8(t)<<8}function cL(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,r=n[t++]|n[t++]<<8,a=n[t++],o=a>>7,c=1<<1+(7&a);n[t++],n[t++];var h=null,f=null;o&&(h=t,f=c,t+=3*c);var m=!0,v=[],S=0,x=null,b=0,U=null;for(this.width=e,this.height=r;m&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,U=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((N=n[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var B=n[t++];S=n[t++]|n[t++]<<8,x=n[t++],1&B||(x=null),b=B>>2&7,t++;break;case 254:for(;;){if(!((N=n[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var G=n[t++]|n[t++]<<8,F=n[t++]|n[t++]<<8,st=n[t++]|n[t++]<<8,Z=n[t++]|n[t++]<<8,et=n[t++],bt=et>>6&1,St=1<<1+(7&et),Y=h,D=f,R=!1;et>>7&&(R=!0,Y=t,D=St,t+=3*St);var q=t;for(t++;;){var N;if(!((N=n[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}v.push({x:G,y:F,width:st,height:Z,has_local_palette:R,palette_offset:Y,palette_size:D,data_offset:q,data_length:t-q,transparent_index:x,interlaced:!!bt,delay:S,disposal:b});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return U},this.frameInfo=function(O){if(O<0||O>=v.length)throw new Error("Frame index out of range.");return v[O]},this.decodeAndBlitFrameBGRA=function(O,C){var ot=this.frameInfo(O),xt=ot.width*ot.height;if(xt>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var at=new Uint8Array(xt);Fb(n,ot.data_offset,at,xt);var pt=ot.palette_offset,ft=ot.transparent_index;ft===null&&(ft=256);var Ct=ot.width,Ht=e-Ct,$=Ct,k=4*(ot.y*e+ot.x),K=4*((ot.y+ot.height)*e+ot.x),J=k,lt=4*Ht;ot.interlaced===!0&&(lt+=4*e*7);for(var ct=8,gt=0,kt=at.length;gt<kt;++gt){var Rt=at[gt];if($===0&&($=Ct,(J+=lt)>=K&&(lt=4*Ht+4*e*(ct-1),J=k+(Ct+Ht)*(ct<<1),ct>>=1)),Rt===ft)J+=4;else{var Vt=n[pt+3*Rt],Xt=n[pt+3*Rt+1],ee=n[pt+3*Rt+2];C[J++]=ee,C[J++]=Xt,C[J++]=Vt,C[J++]=255}--$}},this.decodeAndBlitFrameRGBA=function(O,C){var ot=this.frameInfo(O),xt=ot.width*ot.height;if(xt>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var at=new Uint8Array(xt);Fb(n,ot.data_offset,at,xt);var pt=ot.palette_offset,ft=ot.transparent_index;ft===null&&(ft=256);var Ct=ot.width,Ht=e-Ct,$=Ct,k=4*(ot.y*e+ot.x),K=4*((ot.y+ot.height)*e+ot.x),J=k,lt=4*Ht;ot.interlaced===!0&&(lt+=4*e*7);for(var ct=8,gt=0,kt=at.length;gt<kt;++gt){var Rt=at[gt];if($===0&&($=Ct,(J+=lt)>=K&&(lt=4*Ht+4*e*(ct-1),J=k+(Ct+Ht)*(ct<<1),ct>>=1)),Rt===ft)J+=4;else{var Vt=n[pt+3*Rt],Xt=n[pt+3*Rt+1],ee=n[pt+3*Rt+2];C[J++]=Vt,C[J++]=Xt,C[J++]=ee,C[J++]=255}--$}}}function Fb(n,t,e,r){for(var a=n[t++],o=1<<a,c=o+1,h=c+1,f=a+1,m=(1<<f)-1,v=0,S=0,x=0,b=n[t++],U=new Int32Array(4096),B=null;;){for(;v<16&&b!==0;)S|=n[t++]<<v,v+=8,b===1?b=n[t++]:--b;if(v<f)break;var G=S&m;if(S>>=f,v-=f,G!==o){if(G===c)break;for(var F=G<h?G:B,st=0,Z=F;Z>o;)Z=U[Z]>>8,++st;var et=Z;if(x+st+(F!==G?1:0)>r)return void li.log("Warning, gif stream longer than expected.");e[x++]=et;var bt=x+=st;for(F!==G&&(e[x++]=et),Z=F;st--;)Z=U[Z],e[--bt]=255&Z,Z>>=8;B!==null&&h<4096&&(U[h++]=B<<8|et,h>=m+1&&f<12&&(++f,m=m<<1|1)),B=G}else h=c+1,m=(1<<(f=a+1))-1,B=null}return x!==r&&li.log("Warning, gif stream shorter than expected."),e}function V1(n){var t,e,r,a,o,c=Math.floor,h=new Array(64),f=new Array(64),m=new Array(64),v=new Array(64),S=new Array(65535),x=new Array(65535),b=new Array(64),U=new Array(64),B=[],G=0,F=7,st=new Array(64),Z=new Array(64),et=new Array(64),bt=new Array(256),St=new Array(2048),Y=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],ot=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function at(k,K){for(var J=0,lt=0,ct=new Array,gt=1;gt<=16;gt++){for(var kt=1;kt<=k[gt];kt++)ct[K[lt]]=[],ct[K[lt]][0]=J,ct[K[lt]][1]=gt,lt++,J++;J*=2}return ct}function pt(k){for(var K=k[0],J=k[1]-1;J>=0;)K&1<<J&&(G|=1<<F),J--,--F<0&&(G==255?(ft(255),ft(0)):ft(G),F=7,G=0)}function ft(k){B.push(k)}function Ct(k){ft(k>>8&255),ft(255&k)}function Ht(k,K,J,lt,ct){for(var gt,kt=ct[0],Rt=ct[240],Vt=(function(Ft,se){var re,Ie,be,We,Ze,Be,an,Xe,ge,He,ye=0;for(ge=0;ge<8;++ge){re=Ft[ye],Ie=Ft[ye+1],be=Ft[ye+2],We=Ft[ye+3],Ze=Ft[ye+4],Be=Ft[ye+5],an=Ft[ye+6];var ui=re+(Xe=Ft[ye+7]),$e=re-Xe,Ne=Ie+an,je=Ie-an,Qe=be+Be,Ae=be-Be,Cn=We+Ze,Pe=We-Ze,Me=ui+Cn,kn=ui-Cn,we=Ne+Qe,ve=Ne-Qe;Ft[ye]=Me+we,Ft[ye+4]=Me-we;var on=.707106781*(ve+kn);Ft[ye+2]=kn+on,Ft[ye+6]=kn-on;var ur=.382683433*((Me=Pe+Ae)-(ve=je+$e)),Ji=.5411961*Me+ur,Is=1.306562965*ve+ur,qi=.707106781*(we=Ae+je),Se=$e+qi,Js=$e-qi;Ft[ye+5]=Js+Ji,Ft[ye+3]=Js-Ji,Ft[ye+1]=Se+Is,Ft[ye+7]=Se-Is,ye+=8}for(ye=0,ge=0;ge<8;++ge){re=Ft[ye],Ie=Ft[ye+8],be=Ft[ye+16],We=Ft[ye+24],Ze=Ft[ye+32],Be=Ft[ye+40],an=Ft[ye+48];var Fr=re+(Xe=Ft[ye+56]),Er=re-Xe,xr=Ie+an,Fn=Ie-an,Xn=be+Be,ki=be-Be,cr=We+Ze,Zi=We-Ze,On=Fr+cr,Hn=Fr-cr,Oi=xr+Xn,Tr=xr-Xn;Ft[ye]=On+Oi,Ft[ye+32]=On-Oi;var ns=.707106781*(Tr+Hn);Ft[ye+16]=Hn+ns,Ft[ye+48]=Hn-ns;var ya=.382683433*((On=Zi+ki)-(Tr=Fn+Er)),vs=.5411961*On+ya,Nr=1.306562965*Tr+ya,Zs=.707106781*(Oi=ki+Fn),zr=Er+Zs,hr=Er-Zs;Ft[ye+40]=hr+vs,Ft[ye+24]=hr-vs,Ft[ye+8]=zr+Nr,Ft[ye+56]=zr-Nr,ye++}for(ge=0;ge<64;++ge)He=Ft[ge]*se[ge],b[ge]=He>0?He+.5|0:He-.5|0;return b})(k,K),Xt=0;Xt<64;++Xt)U[Y[Xt]]=Vt[Xt];var ee=U[0]-J;J=U[0],ee==0?pt(lt[0]):(pt(lt[x[gt=32767+ee]]),pt(S[gt]));for(var te=63;te>0&&U[te]==0;)te--;if(te==0)return pt(kt),J;for(var ce,tt=1;tt<=te;){for(var Zt=tt;U[tt]==0&&tt<=te;)++tt;var Ke=tt-Zt;if(Ke>=16){ce=Ke>>4;for(var Te=1;Te<=ce;++Te)pt(Rt);Ke&=15}gt=32767+U[tt],pt(ct[(Ke<<4)+x[gt]]),pt(S[gt]),tt++}return te!=63&&pt(kt),J}function $(k){k=Math.min(Math.max(k,1),100),o!=k&&((function(K){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],lt=0;lt<64;lt++){var ct=c((J[lt]*K+50)/100);ct=Math.min(Math.max(ct,1),255),h[Y[lt]]=ct}for(var gt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],kt=0;kt<64;kt++){var Rt=c((gt[kt]*K+50)/100);Rt=Math.min(Math.max(Rt,1),255),f[Y[kt]]=Rt}for(var Vt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xt=0,ee=0;ee<8;ee++)for(var te=0;te<8;te++)m[Xt]=1/(h[Y[Xt]]*Vt[ee]*Vt[te]*8),v[Xt]=1/(f[Y[Xt]]*Vt[ee]*Vt[te]*8),Xt++})(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),o=k)}this.encode=function(k,K){K&&$(K),B=new Array,G=0,F=7,Ct(65496),Ct(65504),Ct(16),ft(74),ft(70),ft(73),ft(70),ft(0),ft(1),ft(1),ft(0),Ct(1),Ct(1),ft(0),ft(0),(function(){Ct(65499),Ct(132),ft(0);for(var Ie=0;Ie<64;Ie++)ft(h[Ie]);ft(1);for(var be=0;be<64;be++)ft(f[be])})(),(function(Ie,be){Ct(65472),Ct(17),ft(8),Ct(be),Ct(Ie),ft(3),ft(1),ft(17),ft(0),ft(2),ft(17),ft(1),ft(3),ft(17),ft(1)})(k.width,k.height),(function(){Ct(65476),Ct(418),ft(0);for(var Ie=0;Ie<16;Ie++)ft(D[Ie+1]);for(var be=0;be<=11;be++)ft(R[be]);ft(16);for(var We=0;We<16;We++)ft(q[We+1]);for(var Ze=0;Ze<=161;Ze++)ft(N[Ze]);ft(1);for(var Be=0;Be<16;Be++)ft(O[Be+1]);for(var an=0;an<=11;an++)ft(C[an]);ft(17);for(var Xe=0;Xe<16;Xe++)ft(ot[Xe+1]);for(var ge=0;ge<=161;ge++)ft(xt[ge])})(),Ct(65498),Ct(12),ft(3),ft(1),ft(0),ft(2),ft(17),ft(3),ft(17),ft(0),ft(63),ft(0);var J=0,lt=0,ct=0;G=0,F=7,this.encode.displayName="_encode_";for(var gt,kt,Rt,Vt,Xt,ee,te,ce,tt,Zt=k.data,Ke=k.width,Te=k.height,Ft=4*Ke,se=0;se<Te;){for(gt=0;gt<Ft;){for(Xt=Ft*se+gt,te=-1,ce=0,tt=0;tt<64;tt++)ee=Xt+(ce=tt>>3)*Ft+(te=4*(7&tt)),se+ce>=Te&&(ee-=Ft*(se+1+ce-Te)),gt+te>=Ft&&(ee-=gt+te-Ft+4),kt=Zt[ee++],Rt=Zt[ee++],Vt=Zt[ee++],st[tt]=(St[kt]+St[Rt+256|0]+St[Vt+512|0]>>16)-128,Z[tt]=(St[kt+768|0]+St[Rt+1024|0]+St[Vt+1280|0]>>16)-128,et[tt]=(St[kt+1280|0]+St[Rt+1536|0]+St[Vt+1792|0]>>16)-128;J=Ht(st,m,J,t,r),lt=Ht(Z,v,lt,e,a),ct=Ht(et,v,ct,e,a),gt+=32}se+=8}if(F>=0){var re=[];re[1]=F+1,re[0]=(1<<F+1)-1,pt(re)}return Ct(65497),new Uint8Array(B)},n=n||50,(function(){for(var k=String.fromCharCode,K=0;K<256;K++)bt[K]=k(K)})(),t=at(D,R),e=at(O,C),r=at(q,N),a=at(ot,xt),(function(){for(var k=1,K=2,J=1;J<=15;J++){for(var lt=k;lt<K;lt++)x[32767+lt]=J,S[32767+lt]=[],S[32767+lt][1]=J,S[32767+lt][0]=lt;for(var ct=-(K-1);ct<=-k;ct++)x[32767+ct]=J,S[32767+ct]=[],S[32767+ct][1]=J,S[32767+ct][0]=K-1+ct;k<<=1,K<<=1}})(),(function(){for(var k=0;k<256;k++)St[k]=19595*k,St[k+256|0]=38470*k,St[k+512|0]=7471*k+32768,St[k+768|0]=-11059*k,St[k+1024|0]=-21709*k,St[k+1280|0]=32768*k+8421375,St[k+1536|0]=-27439*k,St[k+1792|0]=-5329*k})(),$(n)}function lo(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function zb(n){function t(R){if(!R)throw Error("assert :P")}function e(R,q,N){for(var O=0;4>O;O++)if(R[q+O]!=N.charCodeAt(O))return!0;return!1}function r(R,q,N,O,C){for(var ot=0;ot<C;ot++)R[q+ot]=N[O+ot]}function a(R,q,N,O){for(var C=0;C<O;C++)R[q+C]=N}function o(R){return new Int32Array(R)}function c(R,q){for(var N=[],O=0;O<R;O++)N.push(new q);return N}function h(R,q){var N=[];return(function O(C,ot,xt){for(var at=xt[ot],pt=0;pt<at&&(C.push(xt.length>ot+1?[]:new q),!(xt.length<ot+1));pt++)O(C[pt],ot+1,xt)})(N,0,R),N}var f=function(){var R=this;function q(d,y){for(var A=1<<y-1>>>0;d&A;)A>>>=1;return A?(d&A-1)+A:d}function N(d,y,A,T,j){t(!(T%A));do d[y+(T-=A)]=j;while(0<T)}function O(d,y,A,T,j){if(t(2328>=j),512>=j)var V=o(512);else if((V=o(j))==null)return 0;return(function(z,W,X,rt,dt,Tt){var nt,yt,At=W,Mt=1<<X,Et=o(16),Pt=o(16);for(t(dt!=0),t(rt!=null),t(z!=null),t(0<X),yt=0;yt<dt;++yt){if(15<rt[yt])return 0;++Et[rt[yt]]}if(Et[0]==dt)return 0;for(Pt[1]=0,nt=1;15>nt;++nt){if(Et[nt]>1<<nt)return 0;Pt[nt+1]=Pt[nt]+Et[nt]}for(yt=0;yt<dt;++yt)nt=rt[yt],0<rt[yt]&&(Tt[Pt[nt]++]=yt);if(Pt[15]==1)return(rt=new C).g=0,rt.value=Tt[0],N(z,At,1,Mt,rt),Mt;var Bt,Qt=-1,Yt=Mt-1,pe=0,ae=1,Ge=1,he=1<<X;for(yt=0,nt=1,dt=2;nt<=X;++nt,dt<<=1){if(ae+=Ge<<=1,0>(Ge-=Et[nt]))return 0;for(;0<Et[nt];--Et[nt])(rt=new C).g=nt,rt.value=Tt[yt++],N(z,At+pe,dt,he,rt),pe=q(pe,nt)}for(nt=X+1,dt=2;15>=nt;++nt,dt<<=1){if(ae+=Ge<<=1,0>(Ge-=Et[nt]))return 0;for(;0<Et[nt];--Et[nt]){if(rt=new C,(pe&Yt)!=Qt){for(At+=he,Bt=1<<(Qt=nt)-X;15>Qt&&!(0>=(Bt-=Et[Qt]));)++Qt,Bt<<=1;Mt+=he=1<<(Bt=Qt-X),z[W+(Qt=pe&Yt)].g=Bt+X,z[W+Qt].value=At-W-Qt}rt.g=nt-X,rt.value=Tt[yt++],N(z,At+(pe>>X),dt,he,rt),pe=q(pe,nt)}}return ae!=2*Pt[15]-1?0:Mt})(d,y,A,T,j,V)}function C(){this.value=this.g=0}function ot(){this.value=this.g=0}function xt(){this.G=c(5,C),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(To,ot)}function at(d,y,A,T){t(d!=null),t(y!=null),t(2147483648>T),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=y,d.pa=A,d.Jd=y,d.Yc=A+T,d.Zc=4<=T?A+T-4+1:A,kt(d)}function pt(d,y){for(var A=0;0<y--;)A|=Vt(d,128)<<y;return A}function ft(d,y){var A=pt(d,y);return Rt(d)?-A:A}function Ct(d,y,A,T){var j,V=0;for(t(d!=null),t(y!=null),t(4294967288>T),d.Sb=T,d.Ra=0,d.u=0,d.h=0,4<T&&(T=4),j=0;j<T;++j)V+=y[A+j]<<8*j;d.Ra=V,d.bb=T,d.oa=y,d.pa=A}function Ht(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<xa-8>>>0,++d.bb,d.u-=8;lt(d)&&(d.h=1,d.u=0)}function $(d,y){if(t(0<=y),!d.h&&y<=Xr){var A=J(d)&os[y];return d.u+=y,Ht(d),A}return d.h=1,d.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(d){return d.Ra>>>(d.u&xa-1)>>>0}function lt(d){return t(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>xa}function ct(d,y){d.u=y,d.h=lt(d)}function gt(d){d.u>=Ta&&(t(d.u>=Ta),Ht(d))}function kt(d){t(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(t(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function Rt(d){return pt(d,1)}function Vt(d,y){var A=d.Ca;0>d.b&&kt(d);var T=d.b,j=A*y>>>8,V=(d.I>>>T>j)+0;for(V?(A-=j,d.I-=j+1<<T>>>0):A=j+1,T=A,j=0;256<=T;)j+=8,T>>=8;return T=7^j+Qa[T],d.b-=T,d.Ca=(A<<T)-1,V}function Xt(d,y,A){d[y+0]=A>>24&255,d[y+1]=A>>16&255,d[y+2]=A>>8&255,d[y+3]=255&A}function ee(d,y){return d[y+0]|d[y+1]<<8}function te(d,y){return ee(d,y)|d[y+2]<<16}function ce(d,y){return ee(d,y)|ee(d,y+2)<<16}function tt(d,y){var A=1<<y;return t(d!=null),t(0<y),d.X=o(A),d.X==null?0:(d.Mb=32-y,d.Xa=y,1)}function Zt(d,y){t(d!=null),t(y!=null),t(d.Xa==y.Xa),r(y.X,0,d.X,0,1<<y.Xa)}function Ke(){this.X=[],this.Xa=this.Mb=0}function Te(d,y,A,T){t(A!=null),t(T!=null);var j=A[0],V=T[0];return j==0&&(j=(d*V+y/2)/y),V==0&&(V=(y*j+d/2)/d),0>=j||0>=V?0:(A[0]=j,T[0]=V,1)}function Ft(d,y){return d+(1<<y)-1>>>y}function se(d,y){return((4278255360&d)+(4278255360&y)>>>0&4278255360)+((16711935&d)+(16711935&y)>>>0&16711935)>>>0}function re(d,y){R[y]=function(A,T,j,V,z,W,X){var rt;for(rt=0;rt<z;++rt){var dt=R[d](W[X+rt-1],j,V+rt);W[X+rt]=se(A[T+rt],dt)}}}function Ie(){this.ud=this.hd=this.jd=0}function be(d,y){return((4278124286&(d^y))>>>1)+(d&y)>>>0}function We(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function Ze(d,y){return We(d+(d-y+.5>>1))}function Be(d,y,A){return Math.abs(y-A)-Math.abs(d-A)}function an(d,y,A,T,j,V,z){for(T=V[z-1],A=0;A<j;++A)V[z+A]=T=se(d[y+A],T)}function Xe(d,y,A,T,j){var V;for(V=0;V<A;++V){var z=d[y+V],W=z>>8&255,X=16711935&(X=(X=16711935&z)+((W<<16)+W));T[j+V]=(4278255360&z)+X>>>0}}function ge(d,y){y.jd=255&d,y.hd=d>>8&255,y.ud=d>>16&255}function He(d,y,A,T,j,V){var z;for(z=0;z<T;++z){var W=y[A+z],X=W>>>8,rt=W,dt=255&(dt=(dt=W>>>16)+((d.jd<<24>>24)*(X<<24>>24)>>>5));rt=255&(rt=(rt+=(d.hd<<24>>24)*(X<<24>>24)>>>5)+((d.ud<<24>>24)*(dt<<24>>24)>>>5)),j[V+z]=(4278255360&W)+(dt<<16)+rt}}function ye(d,y,A,T,j){R[y]=function(V,z,W,X,rt,dt,Tt,nt,yt){for(X=Tt;X<nt;++X)for(Tt=0;Tt<yt;++Tt)rt[dt++]=j(W[T(V[z++])])},R[d]=function(V,z,W,X,rt,dt,Tt){var nt=8>>V.b,yt=V.Ea,At=V.K[0],Mt=V.w;if(8>nt)for(V=(1<<V.b)-1,Mt=(1<<nt)-1;z<W;++z){var Et,Pt=0;for(Et=0;Et<yt;++Et)Et&V||(Pt=T(X[rt++])),dt[Tt++]=j(At[Pt&Mt]),Pt>>=nt}else R["VP8LMapColor"+A](X,rt,At,Mt,dt,Tt,z,W,yt)}}function ui(d,y,A,T,j){for(A=y+A;y<A;){var V=d[y++];T[j++]=V>>16&255,T[j++]=V>>8&255,T[j++]=255&V}}function $e(d,y,A,T,j){for(A=y+A;y<A;){var V=d[y++];T[j++]=V>>16&255,T[j++]=V>>8&255,T[j++]=255&V,T[j++]=V>>24&255}}function Ne(d,y,A,T,j){for(A=y+A;y<A;){var V=(z=d[y++])>>16&240|z>>12&15,z=240&z|z>>28&15;T[j++]=V,T[j++]=z}}function je(d,y,A,T,j){for(A=y+A;y<A;){var V=(z=d[y++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;T[j++]=V,T[j++]=z}}function Qe(d,y,A,T,j){for(A=y+A;y<A;){var V=d[y++];T[j++]=255&V,T[j++]=V>>8&255,T[j++]=V>>16&255}}function Ae(d,y,A,T,j,V){if(V==0)for(A=y+A;y<A;)Xt(T,((V=d[y++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),j+=32;else r(T,j,d,y,A)}function Cn(d,y){R[y][0]=R[d+"0"],R[y][1]=R[d+"1"],R[y][2]=R[d+"2"],R[y][3]=R[d+"3"],R[y][4]=R[d+"4"],R[y][5]=R[d+"5"],R[y][6]=R[d+"6"],R[y][7]=R[d+"7"],R[y][8]=R[d+"8"],R[y][9]=R[d+"9"],R[y][10]=R[d+"10"],R[y][11]=R[d+"11"],R[y][12]=R[d+"12"],R[y][13]=R[d+"13"],R[y][14]=R[d+"0"],R[y][15]=R[d+"0"]}function Pe(d){return d==Qu||d==Rc||d==Gl||d==Lc}function Me(){this.eb=[],this.size=this.A=this.fb=0}function kn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function we(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Me,this.f.kb=new kn,this.sd=null}function ve(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function on(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ur(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Ji(d,y){var A=d.T,T=y.ba.f.RGBA,j=T.eb,V=T.fb+d.ka*T.A,z=vr[y.ba.S],W=d.y,X=d.O,rt=d.f,dt=d.N,Tt=d.ea,nt=d.W,yt=y.cc,At=y.dc,Mt=y.Mc,Et=y.Nc,Pt=d.ka,Bt=d.ka+d.T,Qt=d.U,Yt=Qt+1>>1;for(Pt==0?z(W,X,null,null,rt,dt,Tt,nt,rt,dt,Tt,nt,j,V,null,null,Qt):(z(y.ec,y.fc,W,X,yt,At,Mt,Et,rt,dt,Tt,nt,j,V-T.A,j,V,Qt),++A);Pt+2<Bt;Pt+=2)yt=rt,At=dt,Mt=Tt,Et=nt,dt+=d.Rc,nt+=d.Rc,V+=2*T.A,z(W,(X+=2*d.fa)-d.fa,W,X,yt,At,Mt,Et,rt,dt,Tt,nt,j,V-T.A,j,V,Qt);return X+=d.fa,d.j+Bt<d.o?(r(y.ec,y.fc,W,X,Qt),r(y.cc,y.dc,rt,dt,Yt),r(y.Mc,y.Nc,Tt,nt,Yt),A--):1&Bt||z(W,X,null,null,rt,dt,Tt,nt,rt,dt,Tt,nt,j,V+T.A,null,null,Qt),A}function Is(d,y,A){var T=d.F,j=[d.J];if(T!=null){var V=d.U,z=y.ba.S,W=z==Wu||z==Gl;y=y.ba.f.RGBA;var X=[0],rt=d.ka;X[0]=d.T,d.Kb&&(rt==0?--X[0]:(--rt,j[0]-=d.width),d.j+d.ka+d.T==d.o&&(X[0]=d.o-d.j-rt));var dt=y.eb;rt=y.fb+rt*y.A,d=Hu(T,j[0],d.width,V,X,dt,rt+(W?0:3),y.A),t(A==X),d&&Pe(z)&&ul(dt,rt,W,V,X,y.A)}return 0}function qi(d){var y=d.ma,A=y.ba.S,T=11>A,j=A==Or||A==Ms||A==Wu||A==Hl||A==12||Pe(A);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Wa(y.Oa,d,j?11:12))return 0;if(j&&Pe(A)&&qe(),d.da)alert("todo:use_scaling");else{if(T){if(y.Ib=ur,d.Kb){if(A=d.U+1>>1,y.memory=o(d.U+2*A),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+d.U,y.Mc=y.cc,y.Nc=y.dc+A,y.Ib=Ji,qe()}}else alert("todo:EmitYUV");j&&(y.Jb=Is,T&&Lt())}if(T&&!Oo){for(d=0;256>d;++d)_r[d]=89858*(d-128)+Wl>>zs,qm[d]=-22014*(d-128)+Wl,Sd[d]=-45773*(d-128),Mc[d]=113618*(d-128)+Wl>>zs;for(d=dl;d<ko;++d)y=76283*(d-16)+Wl>>zs,Hm[d-dl]=Hr(y,255),Gm[d-dl]=Hr(y+8>>4,15);Oo=1}return 1}function Se(d){var y=d.ma,A=d.U,T=d.T;return t(!(1&d.ka)),0>=A||0>=T?0:(A=y.Ib(d,y),y.Jb!=null&&y.Jb(d,y,A),y.Dc+=A,1)}function Js(d){d.ma.memory=null}function Fr(d,y,A,T){return $(d,8)!=47?0:(y[0]=$(d,14)+1,A[0]=$(d,14)+1,T[0]=$(d,1),$(d,3)!=0?0:!d.h)}function Er(d,y){if(4>d)return d+1;var A=d-2>>1;return(2+(1&d)<<A)+$(y,A)+1}function xr(d,y){return 120<y?y-120:1<=(A=((A=Us[y-1])>>4)*d+(8-(15&A)))?A:1;var A}function Fn(d,y,A){var T=J(A),j=d[y+=255&T].g-8;return 0<j&&(ct(A,A.u+8),T=J(A),y+=d[y].value,y+=T&(1<<j)-1),ct(A,A.u+d[y].g),d[y].value}function Xn(d,y,A){return A.g+=d.g,A.value+=d.value<<y>>>0,t(8>=A.g),d.g}function ki(d,y,A){var T=d.xc;return t((y=T==0?0:d.vc[d.md*(A>>T)+(y>>T)])<d.Wb),d.Ya[y]}function cr(d,y,A,T){var j=d.ab,V=d.c*y,z=d.C;y=z+y;var W=A,X=T;for(T=d.Ta,A=d.Ua;0<j--;){var rt=d.gc[j],dt=z,Tt=y,nt=W,yt=X,At=(X=T,W=A,rt.Ea);switch(t(dt<Tt),t(Tt<=rt.nc),rt.hc){case 2:Ni(nt,yt,(Tt-dt)*At,X,W);break;case 0:var Mt=dt,Et=Tt,Pt=X,Bt=W,Qt=(he=rt).Ea;Mt==0&&(Bl(nt,yt,null,null,1,Pt,Bt),an(nt,yt+1,0,0,Qt-1,Pt,Bt+1),yt+=Qt,Bt+=Qt,++Mt);for(var Yt=1<<he.b,pe=Yt-1,ae=Ft(Qt,he.b),Ge=he.K,he=he.w+(Mt>>he.b)*ae;Mt<Et;){var dn=Ge,ai=he,tn=1;for(Fl(nt,yt,Pt,Bt-Qt,1,Pt,Bt);tn<Qt;){var oe=(tn&~pe)+Yt;oe>Qt&&(oe=Qt),(0,Xa[dn[ai++]>>8&15])(nt,yt+ +tn,Pt,Bt+tn-Qt,oe-tn,Pt,Bt+tn),tn=oe}yt+=Qt,Bt+=Qt,++Mt&pe||(he+=ae)}Tt!=rt.nc&&r(X,W-At,X,W+(Tt-dt-1)*At,At);break;case 1:for(At=nt,Et=yt,Qt=(nt=rt.Ea)-(Bt=nt&~(Pt=(yt=1<<rt.b)-1)),Mt=Ft(nt,rt.b),Yt=rt.K,rt=rt.w+(dt>>rt.b)*Mt;dt<Tt;){for(pe=Yt,ae=rt,Ge=new Ie,he=Et+Bt,dn=Et+nt;Et<he;)ge(pe[ae++],Ge),zl(Ge,At,Et,yt,X,W),Et+=yt,W+=yt;Et<dn&&(ge(pe[ae++],Ge),zl(Ge,At,Et,Qt,X,W),Et+=Qt,W+=Qt),++dt&Pt||(rt+=Mt)}break;case 3:if(nt==X&&yt==W&&0<rt.b){for(Et=X,nt=At=W+(Tt-dt)*At-(Bt=(Tt-dt)*Ft(rt.Ea,rt.b)),yt=X,Pt=W,Mt=[],Bt=(Qt=Bt)-1;0<=Bt;--Bt)Mt[Bt]=yt[Pt+Bt];for(Bt=Qt-1;0<=Bt;--Bt)Et[nt+Bt]=Mt[Bt];xc(rt,dt,Tt,X,At,X,W)}else xc(rt,dt,Tt,nt,yt,X,W)}W=T,X=A}X!=A&&r(T,A,W,X,V)}function Zi(d,y){var A=d.V,T=d.Ba+d.c*d.C,j=y-d.C;if(t(y<=d.l.o),t(16>=j),0<j){var V=d.l,z=d.Ta,W=d.Ua,X=V.width;if(cr(d,j,A,T),j=W=[W],t((A=d.C)<(T=y)),t(V.v<V.va),T>V.o&&(T=V.o),A<V.j){var rt=V.j-A;A=V.j,j[0]+=rt*X}if(A>=T?A=0:(j[0]+=4*V.v,V.ka=A-V.j,V.U=V.va-V.v,V.T=T-A,A=1),A){if(W=W[0],11>(A=d.ca).S){var dt=A.f.RGBA,Tt=(T=A.S,j=V.U,V=V.T,rt=dt.eb,dt.A),nt=V;for(dt=dt.fb+d.Ma*dt.A;0<nt--;){var yt=z,At=W,Mt=j,Et=rt,Pt=dt;switch(T){case Ic:ql(yt,At,Mt,Et,Pt);break;case Or:$a(yt,At,Mt,Et,Pt);break;case Qu:$a(yt,At,Mt,Et,Pt),ul(Et,Pt,0,Mt,1,0);break;case Cc:ol(yt,At,Mt,Et,Pt);break;case Ms:Ae(yt,At,Mt,Et,Pt,1);break;case Rc:Ae(yt,At,Mt,Et,Pt,1),ul(Et,Pt,0,Mt,1,0);break;case Wu:Ae(yt,At,Mt,Et,Pt,0);break;case Gl:Ae(yt,At,Mt,Et,Pt,0),ul(Et,Pt,1,Mt,1,0);break;case Hl:Ja(yt,At,Mt,Et,Pt);break;case Lc:Ja(yt,At,Mt,Et,Pt),Ps(Et,Pt,Mt,1,0);break;case No:Ca(yt,At,Mt,Et,Pt);break;default:t(0)}W+=X,dt+=Tt}d.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");t(d.Ma<=A.height)}}d.C=y,t(d.C<=d.i)}function On(d){var y;if(0<d.ua)return 0;for(y=0;y<d.Wb;++y){var A=d.Ya[y].G,T=d.Ya[y].H;if(0<A[1][T[1]+0].g||0<A[2][T[2]+0].g||0<A[3][T[3]+0].g)return 0}return 1}function Hn(d,y,A,T,j,V){if(d.Z!=0){var z=d.qd,W=d.rd;for(t(eo[d.Z]!=null);y<A;++y)eo[d.Z](z,W,T,j,T,j,V),z=T,W=j,j+=V;d.qd=z,d.rd=W}}function Oi(d,y){var A=d.l.ma,T=A.Z==0||A.Z==1?d.l.j:d.C;if(T=d.C<T?T:d.C,t(y<=d.l.o),y>T){var j=d.l.width,V=A.ca,z=A.tb+j*T,W=d.V,X=d.Ba+d.c*T,rt=d.gc;t(d.ab==1),t(rt[0].hc==3),Ia(rt[0],T,y,W,X,V,z),Hn(A,T,y,V,z,j)}d.C=d.Ma=y}function Tr(d,y,A,T,j,V,z){var W=d.$/T,X=d.$%T,rt=d.m,dt=d.s,Tt=A+d.$,nt=Tt;j=A+T*j;var yt=A+T*V,At=280+dt.ua,Mt=d.Pb?W:16777216,Et=0<dt.ua?dt.Wa:null,Pt=dt.wc,Bt=Tt<yt?ki(dt,X,W):null;t(d.C<V),t(yt<=j);var Qt=!1;t:for(;;){for(;Qt||Tt<yt;){var Yt=0;if(W>=Mt){var pe=Tt-A;t((Mt=d).Pb),Mt.wd=Mt.m,Mt.xd=pe,0<Mt.s.ua&&Zt(Mt.s.Wa,Mt.s.vb),Mt=W+Io}if(X&Pt||(Bt=ki(dt,X,W)),t(Bt!=null),Bt.Qb&&(y[Tt]=Bt.qb,Qt=!0),!Qt)if(gt(rt),Bt.jc){Yt=rt,pe=y;var ae=Tt,Ge=Bt.pd[J(Yt)&To-1];t(Bt.jc),256>Ge.g?(ct(Yt,Yt.u+Ge.g),pe[ae]=Ge.value,Yt=0):(ct(Yt,Yt.u+Ge.g-256),t(256<=Ge.value),Yt=Ge.value),Yt==0&&(Qt=!0)}else Yt=Fn(Bt.G[0],Bt.H[0],rt);if(rt.h)break;if(Qt||256>Yt){if(!Qt)if(Bt.nd)y[Tt]=(Bt.qb|Yt<<8)>>>0;else{if(gt(rt),Qt=Fn(Bt.G[1],Bt.H[1],rt),gt(rt),pe=Fn(Bt.G[2],Bt.H[2],rt),ae=Fn(Bt.G[3],Bt.H[3],rt),rt.h)break;y[Tt]=(ae<<24|Qt<<16|Yt<<8|pe)>>>0}if(Qt=!1,++Tt,++X>=T&&(X=0,++W,z!=null&&W<=V&&!(W%16)&&z(d,W),Et!=null))for(;nt<Tt;)Yt=y[nt++],Et.X[(506832829*Yt&4294967295)>>>Et.Mb]=Yt}else if(280>Yt){if(Yt=Er(Yt-256,rt),pe=Fn(Bt.G[4],Bt.H[4],rt),gt(rt),pe=xr(T,pe=Er(pe,rt)),rt.h)break;if(Tt-A<pe||j-Tt<Yt)break t;for(ae=0;ae<Yt;++ae)y[Tt+ae]=y[Tt+ae-pe];for(Tt+=Yt,X+=Yt;X>=T;)X-=T,++W,z!=null&&W<=V&&!(W%16)&&z(d,W);if(t(Tt<=j),X&Pt&&(Bt=ki(dt,X,W)),Et!=null)for(;nt<Tt;)Yt=y[nt++],Et.X[(506832829*Yt&4294967295)>>>Et.Mb]=Yt}else{if(!(Yt<At))break t;for(Qt=Yt-280,t(Et!=null);nt<Tt;)Yt=y[nt++],Et.X[(506832829*Yt&4294967295)>>>Et.Mb]=Yt;Yt=Tt,t(!(Qt>>>(pe=Et).Xa)),y[Yt]=pe.X[Qt],Qt=!0}Qt||t(rt.h==lt(rt))}if(d.Pb&&rt.h&&Tt<j)t(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&Zt(d.s.vb,d.s.Wa);else{if(rt.h)break t;z?.(d,W>V?V:W),d.a=0,d.$=Tt-A}return 1}return d.a=3,0}function ns(d){t(d!=null),d.vc=null,d.yc=null,d.Ya=null;var y=d.Wa;y!=null&&(y.X=null),d.vb=null,t(d!=null)}function ya(){var d=new ke;return d==null?null:(d.a=0,d.xb=Kh,Cn("Predictor","VP8LPredictors"),Cn("Predictor","VP8LPredictors_C"),Cn("PredictorAdd","VP8LPredictorsAdd"),Cn("PredictorAdd","VP8LPredictorsAdd_C"),Ni=Xe,zl=He,ql=ui,$a=$e,Ja=Ne,Ca=je,ol=Qe,R.VP8LMapColor32b=Na,R.VP8LMapColor8b=mr,d)}function vs(d,y,A,T,j){var V=1,z=[d],W=[y],X=T.m,rt=T.s,dt=null,Tt=0;t:for(;;){if(A)for(;V&&$(X,1);){var nt=z,yt=W,At=T,Mt=1,Et=At.m,Pt=At.gc[At.ab],Bt=$(Et,2);if(At.Oc&1<<Bt)V=0;else{switch(At.Oc|=1<<Bt,Pt.hc=Bt,Pt.Ea=nt[0],Pt.nc=yt[0],Pt.K=[null],++At.ab,t(4>=At.ab),Bt){case 0:case 1:Pt.b=$(Et,3)+2,Mt=vs(Ft(Pt.Ea,Pt.b),Ft(Pt.nc,Pt.b),0,At,Pt.K),Pt.K=Pt.K[0];break;case 3:var Qt,Yt=$(Et,8)+1,pe=16<Yt?0:4<Yt?1:2<Yt?2:3;if(nt[0]=Ft(Pt.Ea,pe),Pt.b=pe,Qt=Mt=vs(Yt,1,0,At,Pt.K)){var ae,Ge=Yt,he=Pt,dn=1<<(8>>he.b),ai=o(dn);if(ai==null)Qt=0;else{var tn=he.K[0],oe=he.w;for(ai[0]=he.K[0][0],ae=1;ae<1*Ge;++ae)ai[ae]=se(tn[oe+ae],ai[ae-1]);for(;ae<4*dn;++ae)ai[ae]=0;he.K[0]=null,he.K[0]=ai,Qt=1}}Mt=Qt;break;case 2:break;default:t(0)}V=Mt}}if(z=z[0],W=W[0],V&&$(X,1)&&!(V=1<=(Tt=$(X,4))&&11>=Tt)){T.a=3;break t}var Jt;if(Jt=V)e:{var di,Ue,sn,Un=T,Yi=z,br=W,ti=Tt,Pi=A,Dr=Un.m,Mi=Un.s,cn=[null],xn=1,pi=0,Ln=Vs[ti];n:for(;;){if(Pi&&$(Dr,1)){var Ki=$(Dr,3)+2,mi=Ft(Yi,Ki),Tn=Ft(br,Ki),Ri=mi*Tn;if(!vs(mi,Tn,0,Un,cn))break n;for(cn=cn[0],Mi.xc=Ki,di=0;di<Ri;++di){var Vn=cn[di]>>8&65535;cn[di]=Vn,Vn>=xn&&(xn=Vn+1)}}if(Dr.h)break n;for(Ue=0;5>Ue;++Ue){var ji=hl[Ue];!Ue&&0<ti&&(ji+=1<<ti),pi<ji&&(pi=ji)}var Ui=c(xn*Ln,C),Yn=xn,En=c(Yn,xt);if(En==null)var Pr=null;else t(65536>=Yn),Pr=En;var wi=o(pi);if(Pr==null||wi==null||Ui==null){Un.a=1;break n}var Re=Ui;for(di=sn=0;di<xn;++di){var Oe=Pr[di],Nn=Oe.G,ls=Oe.H,qs=0,Jr=1,Vi=0;for(Ue=0;5>Ue;++Ue){ji=hl[Ue],Nn[Ue]=Re,ls[Ue]=sn,!Ue&&0<ti&&(ji+=1<<ti);r:{var Do,Po=ji,Uc=Un,ei=wi,Qh=Re,Xh=sn,Vc=0,no=Uc.m,Ym=$(no,1);if(a(ei,0,0,Po),Ym){var $h=$(no,1)+1,Jh=$(no,1),Bc=$(no,Jh==0?1:8);ei[Bc]=1,$h==2&&(ei[Bc=$(no,8)]=1);var ir=1}else{var Ai=o(19),Zu=$(no,4)+4;if(19<Zu){Uc.a=3;var Mo=0;break r}for(Do=0;Do<Zu;++Do)Ai[Xu[Do]]=$(no,3);var Xl=void 0,pl=void 0,ka=Uc,Fc=Ai,$l=Po,zc=ei,qc=0,io=ka.m,Zh=8,tf=c(128,C);i:for(;O(tf,0,7,Fc,19);){if($(io,1)){var Ed=2+2*$(io,3);if((Xl=2+$(io,Ed))>$l)break i}else Xl=$l;for(pl=0;pl<$l&&Xl--;){gt(io);var ef=tf[0+(127&J(io))];ct(io,io.u+ef.g);var jo=ef.value;if(16>jo)zc[pl++]=jo,jo!=0&&(Zh=jo);else{var xd=jo==16,Td=jo-16,Nd=Yl[Td],nf=$(io,js[Td])+Nd;if(pl+nf>$l)break i;for(var Id=xd?Zh:0;0<nf--;)zc[pl++]=Id}}qc=1;break i}qc||(ka.a=3),ir=qc}(ir=ir&&!no.h)&&(Vc=O(Qh,Xh,8,ei,Po)),ir&&Vc!=0?Mo=Vc:(Uc.a=3,Mo=0)}if(Mo==0)break n;if(Jr&&kc[Ue]==1&&(Jr=Re[sn].g==0),qs+=Re[sn].g,sn+=Mo,3>=Ue){var ml,Hc=wi[0];for(ml=1;ml<ji;++ml)wi[ml]>Hc&&(Hc=wi[ml]);Vi+=Hc}}if(Oe.nd=Jr,Oe.Qb=0,Jr&&(Oe.qb=(Nn[3][ls[3]+0].value<<24|Nn[1][ls[1]+0].value<<16|Nn[2][ls[2]+0].value)>>>0,qs==0&&256>Nn[0][ls[0]+0].value&&(Oe.Qb=1,Oe.qb+=Nn[0][ls[0]+0].value<<8)),Oe.jc=!Oe.Qb&&6>Vi,Oe.jc){var tc,Oa=Oe;for(tc=0;tc<To;++tc){var ro=tc,so=Oa.pd[ro],Gc=Oa.G[0][Oa.H[0]+ro];256<=Gc.value?(so.g=Gc.g+256,so.value=Gc.value):(so.g=0,so.value=0,ro>>=Xn(Gc,8,so),ro>>=Xn(Oa.G[1][Oa.H[1]+ro],16,so),ro>>=Xn(Oa.G[2][Oa.H[2]+ro],0,so),Xn(Oa.G[3][Oa.H[3]+ro],24,so))}}}Mi.vc=cn,Mi.Wb=xn,Mi.Ya=Pr,Mi.yc=Ui,Jt=1;break e}Jt=0}if(!(V=Jt)){T.a=3;break t}if(0<Tt){if(rt.ua=1<<Tt,!tt(rt.Wa,Tt)){T.a=1,V=0;break t}}else rt.ua=0;var Yc=T,gl=z,Cd=W,Jl=Yc.s,Zl=Jl.xc;if(Yc.c=gl,Yc.i=Cd,Jl.md=Ft(gl,Zl),Jl.wc=Zl==0?-1:(1<<Zl)-1,A){T.xb=Co;break t}if((dt=o(z*W))==null){T.a=1,V=0;break t}V=(V=Tr(T,dt,0,z,W,W,null))&&!X.h;break t}return V?(j!=null?j[0]=dt:(t(dt==null),t(A)),T.$=0,A||ns(rt)):ns(rt),V}function Nr(d,y){var A=d.c*d.i,T=A+y+16*y;return t(d.c<=y),d.V=o(T),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+A+y,1)}function Zs(d,y){var A=d.C,T=y-A,j=d.V,V=d.Ba+d.c*A;for(t(y<=d.l.o);0<T;){var z=16<T?16:T,W=d.l.ma,X=d.l.width,rt=X*z,dt=W.ca,Tt=W.tb+X*A,nt=d.Ta,yt=d.Ua;cr(d,z,j,V),Ts(nt,yt,dt,Tt,rt),Hn(W,A,A+z,dt,Tt,X),T-=z,j+=z*d.c,A+=z}t(A==y),d.C=d.Ma=y}function zr(){this.ub=this.yd=this.td=this.Rb=0}function hr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qr(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function is(){this.Yb=(function(){var d=[];return(function y(A,T,j){for(var V=j[T],z=0;z<V&&(A.push(j.length>T+1?[]:0),!(j.length<T+1));z++)y(A[z],T+1,j)})(d,0,[3,11]),d})()}function fi(){this.jb=o(3),this.Wc=h([4,8],is),this.Xc=h([4,17],is)}function vo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ir(){this.ld=this.La=this.dd=this.tc=0}function rs(){this.Na=this.la=0}function _s(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fa(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _o(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ir),this.Y=0,this.ya=Array(new Fa),this.aa=0,this.l=new tr}function bo(){this.y=o(16),this.f=o(8),this.ea=o(8)}function tl(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new zr,this.Kc=new hr,this.ed=new vo,this.Qa=new qr,this.Ic=this.$c=this.Aa=0,this.D=new _o,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,k),this.ia=0,this.pb=c(4,_s),this.Pa=new fi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bo),this.Hd=0,this.rb=Array(new rs),this.sb=0,this.wa=Array(new Ir),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fa),this.L=this.aa=0,this.gd=h([4,2],Ir),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Hr(d,y){return 0>d?0:d>y?y:d}function tr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function vi(){var d=new tl;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Ns||(Ns=yn)),d}function hn(d,y,A){return d.a==0&&(d.a=y,d.sc=A,d.cb=0),0}function ta(d,y,A){return 3<=A&&d[y+0]==157&&d[y+1]==1&&d[y+2]==42}function ss(d,y){if(d==null)return 0;if(d.a=0,d.sc="OK",y==null)return hn(d,2,"null VP8Io passed to VP8GetHeaders()");var A=y.data,T=y.w,j=y.ha;if(4>j)return hn(d,7,"Truncated header.");var V=A[T+0]|A[T+1]<<8|A[T+2]<<16,z=d.Od;if(z.Rb=!(1&V),z.td=V>>1&7,z.yd=V>>4&1,z.ub=V>>5,3<z.td)return hn(d,3,"Incorrect keyframe parameters.");if(!z.yd)return hn(d,4,"Frame not displayable.");T+=3,j-=3;var W=d.Kc;if(z.Rb){if(7>j)return hn(d,7,"cannot parse picture header");if(!ta(A,T,j))return hn(d,3,"Bad code word");W.c=16383&(A[T+4]<<8|A[T+3]),W.Td=A[T+4]>>6,W.i=16383&(A[T+6]<<8|A[T+5]),W.Ud=A[T+6]>>6,T+=7,j-=7,d.za=W.c+15>>4,d.Ub=W.i+15>>4,y.width=W.c,y.height=W.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,a((V=d.Pa).jb,0,255,V.jb.length),t((V=d.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,a(V.Zb,0,0,V.Zb.length),a(V.Lb,0,0,V.Lb)}if(z.ub>j)return hn(d,7,"bad partition length");at(V=d.m,A,T,z.ub),T+=z.ub,j-=z.ub,z.Rb&&(W.Ld=Rt(V),W.Kd=Rt(V)),W=d.Qa;var X,rt=d.Pa;if(t(V!=null),t(W!=null),W.Cb=Rt(V),W.Cb){if(W.Bb=Rt(V),Rt(V)){for(W.Fb=Rt(V),X=0;4>X;++X)W.Zb[X]=Rt(V)?ft(V,7):0;for(X=0;4>X;++X)W.Lb[X]=Rt(V)?ft(V,6):0}if(W.Bb)for(X=0;3>X;++X)rt.jb[X]=Rt(V)?pt(V,8):255}else W.Bb=0;if(V.Ka)return hn(d,3,"cannot parse segment header");if((W=d.ed).zd=Rt(V),W.Tb=pt(V,6),W.wb=pt(V,3),W.Pc=Rt(V),W.Pc&&Rt(V)){for(rt=0;4>rt;++rt)Rt(V)&&(W.vd[rt]=ft(V,6));for(rt=0;4>rt;++rt)Rt(V)&&(W.od[rt]=ft(V,6))}if(d.L=W.Tb==0?0:W.zd?1:2,V.Ka)return hn(d,3,"cannot parse filter header");var dt=j;if(j=X=T,T=X+dt,W=dt,d.Xb=(1<<pt(d.m,2))-1,dt<3*(rt=d.Xb))A=7;else{for(X+=3*rt,W-=3*rt,dt=0;dt<rt;++dt){var Tt=A[j+0]|A[j+1]<<8|A[j+2]<<16;Tt>W&&(Tt=W),at(d.Jc[+dt],A,X,Tt),X+=Tt,W-=Tt,j+=3}at(d.Jc[+rt],A,X,W),A=X<T?0:5}if(A!=0)return hn(d,A,"cannot parse partitions");for(A=pt(X=d.m,7),j=Rt(X)?ft(X,4):0,T=Rt(X)?ft(X,4):0,W=Rt(X)?ft(X,4):0,rt=Rt(X)?ft(X,4):0,X=Rt(X)?ft(X,4):0,dt=d.Qa,Tt=0;4>Tt;++Tt){if(dt.Cb){var nt=dt.Zb[Tt];dt.Fb||(nt+=A)}else{if(0<Tt){d.pb[Tt]=d.pb[0];continue}nt=A}var yt=d.pb[Tt];yt.Sc[0]=Bs[Hr(nt+j,127)],yt.Sc[1]=Fs[Hr(nt+0,127)],yt.Eb[0]=2*Bs[Hr(nt+T,127)],yt.Eb[1]=101581*Fs[Hr(nt+W,127)]>>16,8>yt.Eb[1]&&(yt.Eb[1]=8),yt.Qc[0]=Bs[Hr(nt+rt,117)],yt.Qc[1]=Fs[Hr(nt+X,127)],yt.lc=nt+X}if(!z.Rb)return hn(d,4,"Not a key frame.");for(Rt(V),z=d.Pa,A=0;4>A;++A){for(j=0;8>j;++j)for(T=0;3>T;++T)for(W=0;11>W;++W)rt=Vt(V,si[A][j][T][W])?pt(V,8):Ad[A][j][T][W],z.Wc[A][j].Yb[T][W]=rt;for(j=0;17>j;++j)z.Xc[A][j]=z.Wc[A][pn[j]]}return d.kc=Rt(V),d.kc&&(d.Bd=pt(V,8)),d.cb=1}function yn(d,y,A,T,j,V,z){var W=y[j].Yb[A];for(A=0;16>j;++j){if(!Vt(d,W[A+0]))return j;for(;!Vt(d,W[A+1]);)if(W=y[++j].Yb[0],A=0,j==16)return 16;var X=y[j+1].Yb;if(Vt(d,W[A+2])){var rt=d,dt=0;if(Vt(rt,(nt=W)[(Tt=A)+3]))if(Vt(rt,nt[Tt+6])){for(W=0,Tt=2*(dt=Vt(rt,nt[Tt+8]))+(nt=Vt(rt,nt[Tt+9+dt])),dt=0,nt=wd[Tt];nt[W];++W)dt+=dt+Vt(rt,nt[W]);dt+=3+(8<<Tt)}else Vt(rt,nt[Tt+7])?(dt=7+2*Vt(rt,165),dt+=Vt(rt,145)):dt=5+Vt(rt,159);else dt=Vt(rt,nt[Tt+4])?3+Vt(rt,nt[Tt+5]):2;W=X[2]}else dt=1,W=X[1];X=z+Yh[j],0>(rt=d).b&&kt(rt);var Tt,nt=rt.b,yt=(Tt=rt.Ca>>1)-(rt.I>>nt)>>31;--rt.b,rt.Ca+=yt,rt.Ca|=1,rt.I-=(Tt+1&yt)<<nt,V[X]=((dt^yt)-yt)*T[(0<j)+0]}return 16}function va(d){var y=d.rb[d.sb-1];y.la=0,y.Na=0,a(d.zc,0,0,d.zc.length),d.ja=0}function xi(d,y,A,T,j){j=d[y+A+32*T]+(j>>3),d[y+A+32*T]=-256&j?0>j?0:255:j}function ri(d,y,A,T,j,V){xi(d,y,0,A,T+j),xi(d,y,1,A,T+V),xi(d,y,2,A,T-V),xi(d,y,3,A,T-j)}function _i(d){return(20091*d>>16)+d}function za(d,y,A,T){var j,V=0,z=o(16);for(j=0;4>j;++j){var W=d[y+0]+d[y+8],X=d[y+0]-d[y+8],rt=(35468*d[y+4]>>16)-_i(d[y+12]),dt=_i(d[y+4])+(35468*d[y+12]>>16);z[V+0]=W+dt,z[V+1]=X+rt,z[V+2]=X-rt,z[V+3]=W-dt,V+=4,y++}for(j=V=0;4>j;++j)W=(d=z[V+0]+4)+z[V+8],X=d-z[V+8],rt=(35468*z[V+4]>>16)-_i(z[V+12]),xi(A,T,0,0,W+(dt=_i(z[V+4])+(35468*z[V+12]>>16))),xi(A,T,1,0,X+rt),xi(A,T,2,0,X-rt),xi(A,T,3,0,W-dt),V++,T+=32}function Ul(d,y,A,T){var j=d[y+0]+4,V=35468*d[y+4]>>16,z=_i(d[y+4]),W=35468*d[y+1]>>16;ri(A,T,0,j+z,d=_i(d[y+1]),W),ri(A,T,1,j+V,d,W),ri(A,T,2,j-V,d,W),ri(A,T,3,j-z,d,W)}function el(d,y,A,T,j){za(d,y,A,T),j&&za(d,y+16,A,T+4)}function fr(d,y,A,T){Za(d,y+0,A,T,1),Za(d,y+32,A,T+128,1)}function nl(d,y,A,T){var j;for(d=d[y+0]+4,j=0;4>j;++j)for(y=0;4>y;++y)xi(A,T,y,j,d)}function ea(d,y,A,T){d[y+0]&&Rn(d,y+0,A,T),d[y+16]&&Rn(d,y+16,A,T+4),d[y+32]&&Rn(d,y+32,A,T+128),d[y+48]&&Rn(d,y+48,A,T+128+4)}function Hi(d,y,A,T){var j,V=o(16);for(j=0;4>j;++j){var z=d[y+0+j]+d[y+12+j],W=d[y+4+j]+d[y+8+j],X=d[y+4+j]-d[y+8+j],rt=d[y+0+j]-d[y+12+j];V[0+j]=z+W,V[8+j]=z-W,V[4+j]=rt+X,V[12+j]=rt-X}for(j=0;4>j;++j)z=(d=V[0+4*j]+3)+V[3+4*j],W=V[1+4*j]+V[2+4*j],X=V[1+4*j]-V[2+4*j],rt=d-V[3+4*j],A[T+0]=z+W>>3,A[T+16]=rt+X>>3,A[T+32]=z-W>>3,A[T+48]=rt-X>>3,T+=64}function _a(d,y,A){var T,j=y-32,V=kr,z=255-d[j-1];for(T=0;T<A;++T){var W,X=V,rt=z+d[y-1];for(W=0;W<A;++W)d[y+W]=X[rt+d[j+W]];y+=32}}function il(d,y){_a(d,y,4)}function rl(d,y){_a(d,y,8)}function wo(d,y){_a(d,y,16)}function Ao(d,y){var A;for(A=0;16>A;++A)r(d,y+32*A,d,y-32,16)}function na(d,y){var A;for(A=16;0<A;--A)a(d,y,d[y-1],16),y+=32}function Cr(d,y,A){var T;for(T=0;16>T;++T)a(y,A+32*T,d,16)}function bs(d,y){var A,T=16;for(A=0;16>A;++A)T+=d[y-1+32*A]+d[y+A-32];Cr(T>>5,d,y)}function ia(d,y){var A,T=8;for(A=0;16>A;++A)T+=d[y-1+32*A];Cr(T>>4,d,y)}function Rr(d,y){var A,T=8;for(A=0;16>A;++A)T+=d[y+A-32];Cr(T>>4,d,y)}function ba(d,y){Cr(128,d,y)}function Ce(d,y,A){return d+2*y+A+2>>2}function qa(d,y){var A,T=y-32;for(T=new Uint8Array([Ce(d[T-1],d[T+0],d[T+1]),Ce(d[T+0],d[T+1],d[T+2]),Ce(d[T+1],d[T+2],d[T+3]),Ce(d[T+2],d[T+3],d[T+4])]),A=0;4>A;++A)r(d,y+32*A,T,0,T.length)}function So(d,y){var A=d[y-1],T=d[y-1+32],j=d[y-1+64],V=d[y-1+96];Xt(d,y+0,16843009*Ce(d[y-1-32],A,T)),Xt(d,y+32,16843009*Ce(A,T,j)),Xt(d,y+64,16843009*Ce(T,j,V)),Xt(d,y+96,16843009*Ce(j,V,V))}function wa(d,y){var A,T=4;for(A=0;4>A;++A)T+=d[y+A-32]+d[y-1+32*A];for(T>>=3,A=0;4>A;++A)a(d,y+32*A,T,4)}function Gi(d,y){var A=d[y-1+0],T=d[y-1+32],j=d[y-1+64],V=d[y-1-32],z=d[y+0-32],W=d[y+1-32],X=d[y+2-32],rt=d[y+3-32];d[y+0+96]=Ce(T,j,d[y-1+96]),d[y+1+96]=d[y+0+64]=Ce(A,T,j),d[y+2+96]=d[y+1+64]=d[y+0+32]=Ce(V,A,T),d[y+3+96]=d[y+2+64]=d[y+1+32]=d[y+0+0]=Ce(z,V,A),d[y+3+64]=d[y+2+32]=d[y+1+0]=Ce(W,z,V),d[y+3+32]=d[y+2+0]=Ce(X,W,z),d[y+3+0]=Ce(rt,X,W)}function Di(d,y){var A=d[y+1-32],T=d[y+2-32],j=d[y+3-32],V=d[y+4-32],z=d[y+5-32],W=d[y+6-32],X=d[y+7-32];d[y+0+0]=Ce(d[y+0-32],A,T),d[y+1+0]=d[y+0+32]=Ce(A,T,j),d[y+2+0]=d[y+1+32]=d[y+0+64]=Ce(T,j,V),d[y+3+0]=d[y+2+32]=d[y+1+64]=d[y+0+96]=Ce(j,V,z),d[y+3+32]=d[y+2+64]=d[y+1+96]=Ce(V,z,W),d[y+3+64]=d[y+2+96]=Ce(z,W,X),d[y+3+96]=Ce(W,X,X)}function Ha(d,y){var A=d[y-1+0],T=d[y-1+32],j=d[y-1+64],V=d[y-1-32],z=d[y+0-32],W=d[y+1-32],X=d[y+2-32],rt=d[y+3-32];d[y+0+0]=d[y+1+64]=V+z+1>>1,d[y+1+0]=d[y+2+64]=z+W+1>>1,d[y+2+0]=d[y+3+64]=W+X+1>>1,d[y+3+0]=X+rt+1>>1,d[y+0+96]=Ce(j,T,A),d[y+0+64]=Ce(T,A,V),d[y+0+32]=d[y+1+96]=Ce(A,V,z),d[y+1+32]=d[y+2+96]=Ce(V,z,W),d[y+2+32]=d[y+3+96]=Ce(z,W,X),d[y+3+32]=Ce(W,X,rt)}function Dn(d,y){var A=d[y+0-32],T=d[y+1-32],j=d[y+2-32],V=d[y+3-32],z=d[y+4-32],W=d[y+5-32],X=d[y+6-32],rt=d[y+7-32];d[y+0+0]=A+T+1>>1,d[y+1+0]=d[y+0+64]=T+j+1>>1,d[y+2+0]=d[y+1+64]=j+V+1>>1,d[y+3+0]=d[y+2+64]=V+z+1>>1,d[y+0+32]=Ce(A,T,j),d[y+1+32]=d[y+0+96]=Ce(T,j,V),d[y+2+32]=d[y+1+96]=Ce(j,V,z),d[y+3+32]=d[y+2+96]=Ce(V,z,W),d[y+3+64]=Ce(z,W,X),d[y+3+96]=Ce(W,X,rt)}function Gr(d,y){var A=d[y-1+0],T=d[y-1+32],j=d[y-1+64],V=d[y-1+96];d[y+0+0]=A+T+1>>1,d[y+2+0]=d[y+0+32]=T+j+1>>1,d[y+2+32]=d[y+0+64]=j+V+1>>1,d[y+1+0]=Ce(A,T,j),d[y+3+0]=d[y+1+32]=Ce(T,j,V),d[y+3+32]=d[y+1+64]=Ce(j,V,V),d[y+3+64]=d[y+2+64]=d[y+0+96]=d[y+1+96]=d[y+2+96]=d[y+3+96]=V}function Ga(d,y){var A=d[y-1+0],T=d[y-1+32],j=d[y-1+64],V=d[y-1+96],z=d[y-1-32],W=d[y+0-32],X=d[y+1-32],rt=d[y+2-32];d[y+0+0]=d[y+2+32]=A+z+1>>1,d[y+0+32]=d[y+2+64]=T+A+1>>1,d[y+0+64]=d[y+2+96]=j+T+1>>1,d[y+0+96]=V+j+1>>1,d[y+3+0]=Ce(W,X,rt),d[y+2+0]=Ce(z,W,X),d[y+1+0]=d[y+3+32]=Ce(A,z,W),d[y+1+32]=d[y+3+64]=Ce(T,A,z),d[y+1+64]=d[y+3+96]=Ce(j,T,A),d[y+1+96]=Ce(V,j,T)}function ws(d,y){var A;for(A=0;8>A;++A)r(d,y+32*A,d,y-32,8)}function sl(d,y){var A;for(A=0;8>A;++A)a(d,y,d[y-1],8),y+=32}function Yr(d,y,A){var T;for(T=0;8>T;++T)a(y,A+32*T,d,8)}function ra(d,y){var A,T=8;for(A=0;8>A;++A)T+=d[y+A-32]+d[y-1+32*A];Yr(T>>4,d,y)}function Kr(d,y){var A,T=4;for(A=0;8>A;++A)T+=d[y+A-32];Yr(T>>3,d,y)}function Ti(d,y){var A,T=4;for(A=0;8>A;++A)T+=d[y-1+32*A];Yr(T>>3,d,y)}function Cs(d,y){Yr(128,d,y)}function er(d,y,A){var T=d[y-A],j=d[y+0],V=3*(j-T)+to[1020+d[y-2*A]-d[y+A]],z=Ku[112+(V+4>>3)];d[y-A]=kr[255+T+Ku[112+(V+3>>3)]],d[y+0]=kr[255+j-z]}function Rs(d,y,A,T){var j=d[y+0],V=d[y+A];return gr[255+d[y-2*A]-d[y-A]]>T||gr[255+V-j]>T}function Aa(d,y,A,T){return 4*gr[255+d[y-A]-d[y+0]]+gr[255+d[y-2*A]-d[y+A]]<=T}function Ls(d,y,A,T,j){var V=d[y-3*A],z=d[y-2*A],W=d[y-A],X=d[y+0],rt=d[y+A],dt=d[y+2*A],Tt=d[y+3*A];return 4*gr[255+W-X]+gr[255+z-rt]>T?0:gr[255+d[y-4*A]-V]<=j&&gr[255+V-z]<=j&&gr[255+z-W]<=j&&gr[255+Tt-dt]<=j&&gr[255+dt-rt]<=j&&gr[255+rt-X]<=j}function ks(d,y,A,T){var j=2*T+1;for(T=0;16>T;++T)Aa(d,y+T,A,j)&&er(d,y+T,A)}function as(d,y,A,T){var j=2*T+1;for(T=0;16>T;++T)Aa(d,y+T*A,1,j)&&er(d,y+T*A,1)}function Ya(d,y,A,T){var j;for(j=3;0<j;--j)ks(d,y+=4*A,A,T)}function Eo(d,y,A,T){var j;for(j=3;0<j;--j)as(d,y+=4,A,T)}function Wr(d,y,A,T,j,V,z,W){for(V=2*V+1;0<j--;){if(Ls(d,y,A,V,z))if(Rs(d,y,A,W))er(d,y,A);else{var X=d,rt=y,dt=A,Tt=X[rt-2*dt],nt=X[rt-dt],yt=X[rt+0],At=X[rt+dt],Mt=X[rt+2*dt],Et=27*(Bt=to[1020+3*(yt-nt)+to[1020+Tt-At]])+63>>7,Pt=18*Bt+63>>7,Bt=9*Bt+63>>7;X[rt-3*dt]=kr[255+X[rt-3*dt]+Bt],X[rt-2*dt]=kr[255+Tt+Pt],X[rt-dt]=kr[255+nt+Et],X[rt+0]=kr[255+yt-Et],X[rt+dt]=kr[255+At-Pt],X[rt+2*dt]=kr[255+Mt-Bt]}y+=T}}function Os(d,y,A,T,j,V,z,W){for(V=2*V+1;0<j--;){if(Ls(d,y,A,V,z))if(Rs(d,y,A,W))er(d,y,A);else{var X=d,rt=y,dt=A,Tt=X[rt-dt],nt=X[rt+0],yt=X[rt+dt],At=Ku[112+(4+(Mt=3*(nt-Tt))>>3)],Mt=Ku[112+(Mt+3>>3)],Et=At+1>>1;X[rt-2*dt]=kr[255+X[rt-2*dt]+Et],X[rt-dt]=kr[255+Tt+Mt],X[rt+0]=kr[255+nt-At],X[rt+dt]=kr[255+yt-Et]}y+=T}}function al(d,y,A,T,j,V){Wr(d,y,A,1,16,T,j,V)}function As(d,y,A,T,j,V){Wr(d,y,1,A,16,T,j,V)}function xo(d,y,A,T,j,V){var z;for(z=3;0<z;--z)Os(d,y+=4*A,A,1,16,T,j,V)}function w(d,y,A,T,j,V){var z;for(z=3;0<z;--z)Os(d,y+=4,1,A,16,T,j,V)}function P(d,y,A,T,j,V,z,W){Wr(d,y,j,1,8,V,z,W),Wr(A,T,j,1,8,V,z,W)}function it(d,y,A,T,j,V,z,W){Wr(d,y,1,j,8,V,z,W),Wr(A,T,1,j,8,V,z,W)}function ht(d,y,A,T,j,V,z,W){Os(d,y+4*j,j,1,8,V,z,W),Os(A,T+4*j,j,1,8,V,z,W)}function vt(d,y,A,T,j,V,z,W){Os(d,y+4,1,j,8,V,z,W),Os(A,T+4,1,j,8,V,z,W)}function jt(){this.ba=new we,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new on,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Kt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function le(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function de(){this.ua=0,this.Wa=new Ke,this.vb=new Ke,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xt,this.yc=new C}function ke(){this.xb=this.a=0,this.l=new tr,this.ca=new we,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new de,this.ab=0,this.gc=c(4,le),this.Oc=0}function Ee(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new tr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fn(d,y,A,T,j,V,z){for(d=d==null?0:d[y+0],y=0;y<z;++y)j[V+y]=d+A[T+y]&255,d=j[V+y]}function $n(d,y,A,T,j,V,z){var W;if(d==null)fn(null,null,A,T,j,V,z);else for(W=0;W<z;++W)j[V+W]=d[y+W]+A[T+W]&255}function zn(d,y,A,T,j,V,z){if(d==null)fn(null,null,A,T,j,V,z);else{var W,X=d[y+0],rt=X,dt=X;for(W=0;W<z;++W)rt=dt+(X=d[y+W])-rt,dt=A[T+W]+(-256&rt?0>rt?0:255:rt)&255,rt=X,j[V+W]=dt}}function p(d,y,A,T){var j=y.width,V=y.o;if(t(d!=null&&y!=null),0>A||0>=T||A+T>V)return null;if(!d.Cc){if(d.ga==null){var z;if(d.ga=new Ee,(z=d.ga==null)||(z=y.width*y.o,t(d.Gb.length==0),d.Gb=o(z),d.Uc=0,d.Gb==null?z=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,z=1),z=!z),!z){z=d.ga;var W=d.Fa,X=d.P,rt=d.qc,dt=d.mb,Tt=d.nb,nt=X+1,yt=rt-1,At=z.l;if(t(W!=null&&dt!=null&&y!=null),eo[0]=null,eo[1]=fn,eo[2]=$n,eo[3]=zn,z.ca=dt,z.tb=Tt,z.c=y.width,z.i=y.height,t(0<z.c&&0<z.i),1>=rt)y=0;else if(z.$a=3&W[X+0],z.Z=W[X+0]>>2&3,z.Lc=W[X+0]>>4&3,X=W[X+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||X)y=0;else if(At.put=Se,At.ac=qi,At.bc=Js,At.ma=z,At.width=y.width,At.height=y.height,At.Da=y.Da,At.v=y.v,At.va=y.va,At.j=y.j,At.o=y.o,z.$a)t:{t(z.$a==1),y=ya();e:for(;;){if(y==null){y=0;break t}if(t(z!=null),z.mc=y,y.c=z.c,y.i=z.i,y.l=z.l,y.l.ma=z,y.l.width=z.c,y.l.height=z.i,y.a=0,Ct(y.m,W,nt,yt),!vs(z.c,z.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&On(y.s)?(z.ic=1,W=y.c*y.i,y.Ta=null,y.Ua=0,y.V=o(W),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(z.ic=0,y=Nr(y,z.c)),!y))break e;y=1;break t}z.mc=null,y=0}else y=yt>=z.c*z.i;z=!y}if(z)return null;d.ga.Lc!=1?d.Ga=0:T=V-A}t(d.ga!=null),t(A+T<=V);t:{if(y=(W=d.ga).c,V=W.l.o,W.$a==0){if(nt=d.rc,yt=d.Vc,At=d.Fa,X=d.P+1+A*y,rt=d.mb,dt=d.nb+A*y,t(X<=d.P+d.qc),W.Z!=0)for(t(eo[W.Z]!=null),z=0;z<T;++z)eo[W.Z](nt,yt,At,X,rt,dt,y),nt=rt,yt=dt,dt+=y,X+=y;else for(z=0;z<T;++z)r(rt,dt,At,X,y),nt=rt,yt=dt,dt+=y,X+=y;d.rc=nt,d.Vc=yt}else{if(t(W.mc!=null),y=A+T,t((z=W.mc)!=null),t(y<=z.i),z.C>=y)y=1;else if(W.ic||Lt(),W.ic){W=z.V,nt=z.Ba,yt=z.c;var Mt=z.i,Et=(At=1,X=z.$/yt,rt=z.$%yt,dt=z.m,Tt=z.s,z.$),Pt=yt*Mt,Bt=yt*y,Qt=Tt.wc,Yt=Et<Bt?ki(Tt,rt,X):null;t(Et<=Pt),t(y<=Mt),t(On(Tt));e:for(;;){for(;!dt.h&&Et<Bt;){if(rt&Qt||(Yt=ki(Tt,rt,X)),t(Yt!=null),gt(dt),256>(Mt=Fn(Yt.G[0],Yt.H[0],dt)))W[nt+Et]=Mt,++Et,++rt>=yt&&(rt=0,++X<=y&&!(X%16)&&Oi(z,X));else{if(!(280>Mt)){At=0;break e}Mt=Er(Mt-256,dt);var pe,ae=Fn(Yt.G[4],Yt.H[4],dt);if(gt(dt),!(Et>=(ae=xr(yt,ae=Er(ae,dt)))&&Pt-Et>=Mt)){At=0;break e}for(pe=0;pe<Mt;++pe)W[nt+Et+pe]=W[nt+Et+pe-ae];for(Et+=Mt,rt+=Mt;rt>=yt;)rt-=yt,++X<=y&&!(X%16)&&Oi(z,X);Et<Bt&&rt&Qt&&(Yt=ki(Tt,rt,X))}t(dt.h==lt(dt))}Oi(z,X>y?y:X);break e}!At||dt.h&&Et<Pt?(At=0,z.a=dt.h?5:3):z.$=Et,y=At}else y=Tr(z,z.V,z.Ba,z.c,z.i,y,Zs);if(!y){T=0;break t}}A+T>=V&&(d.Cc=1),T=1}if(!T)return null;if(d.Cc&&((T=d.ga)!=null&&(T.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+A*j}function E(d,y,A,T,j,V){for(;0<j--;){var z,W=d,X=y+(A?1:0),rt=d,dt=y+(A?0:3);for(z=0;z<T;++z){var Tt=rt[dt+4*z];Tt!=255&&(Tt*=32897,W[X+4*z+0]=W[X+4*z+0]*Tt>>23,W[X+4*z+1]=W[X+4*z+1]*Tt>>23,W[X+4*z+2]=W[X+4*z+2]*Tt>>23)}y+=V}}function L(d,y,A,T,j){for(;0<T--;){var V;for(V=0;V<A;++V){var z=d[y+2*V+0],W=15&(rt=d[y+2*V+1]),X=4369*W,rt=(240&rt|rt>>4)*X>>16;d[y+2*V+0]=(240&z|z>>4)*X>>16&240|(15&z|z<<4)*X>>16>>4&15,d[y+2*V+1]=240&rt|W}y+=j}}function Q(d,y,A,T,j,V,z,W){var X,rt,dt=255;for(rt=0;rt<j;++rt){for(X=0;X<T;++X){var Tt=d[y+X];V[z+4*X]=Tt,dt&=Tt}y+=A,z+=W}return dt!=255}function wt(d,y,A,T,j){var V;for(V=0;V<j;++V)A[T+V]=d[y+V]>>8}function Lt(){ul=E,Ps=L,Hu=Q,Ts=wt}function $t(d,y,A){R[d]=function(T,j,V,z,W,X,rt,dt,Tt,nt,yt,At,Mt,Et,Pt,Bt,Qt){var Yt,pe=Qt-1>>1,ae=W[X+0]|rt[dt+0]<<16,Ge=Tt[nt+0]|yt[At+0]<<16;t(T!=null);var he=3*ae+Ge+131074>>2;for(y(T[j+0],255&he,he>>16,Mt,Et),V!=null&&(he=3*Ge+ae+131074>>2,y(V[z+0],255&he,he>>16,Pt,Bt)),Yt=1;Yt<=pe;++Yt){var dn=W[X+Yt]|rt[dt+Yt]<<16,ai=Tt[nt+Yt]|yt[At+Yt]<<16,tn=ae+dn+Ge+ai+524296,oe=tn+2*(dn+Ge)>>3;he=oe+ae>>1,ae=(tn=tn+2*(ae+ai)>>3)+dn>>1,y(T[j+2*Yt-1],255&he,he>>16,Mt,Et+(2*Yt-1)*A),y(T[j+2*Yt-0],255&ae,ae>>16,Mt,Et+(2*Yt-0)*A),V!=null&&(he=tn+Ge>>1,ae=oe+ai>>1,y(V[z+2*Yt-1],255&he,he>>16,Pt,Bt+(2*Yt-1)*A),y(V[z+2*Yt+0],255&ae,ae>>16,Pt,Bt+(2*Yt+0)*A)),ae=dn,Ge=ai}1&Qt||(he=3*ae+Ge+131074>>2,y(T[j+Qt-1],255&he,he>>16,Mt,Et+(Qt-1)*A),V!=null&&(he=3*Ge+ae+131074>>2,y(V[z+Qt-1],255&he,he>>16,Pt,Bt+(Qt-1)*A)))}}function qe(){vr[Ic]=fl,vr[Or]=Kl,vr[Cc]=Wh,vr[Ms]=Dc,vr[Wu]=Ro,vr[Hl]=La,vr[No]=Lo,vr[Qu]=Kl,vr[Rc]=Dc,vr[Gl]=Ro,vr[Lc]=La}function Jn(d){return d&-16384?0>d?0:255:d>>Pc}function un(d,y){return Jn((19077*d>>8)+(26149*y>>8)-14234)}function Pn(d,y,A){return Jn((19077*d>>8)-(6419*y>>8)-(13320*A>>8)+8708)}function nr(d,y){return Jn((19077*d>>8)+(33050*y>>8)-17685)}function dr(d,y,A,T,j){T[j+0]=un(d,A),T[j+1]=Pn(d,y,A),T[j+2]=nr(d,y)}function Gn(d,y,A,T,j){T[j+0]=nr(d,y),T[j+1]=Pn(d,y,A),T[j+2]=un(d,A)}function pr(d,y,A,T,j){var V=Pn(d,y,A);y=V<<3&224|nr(d,y)>>3,T[j+0]=248&un(d,A)|V>>5,T[j+1]=y}function Ss(d,y,A,T,j){var V=240&nr(d,y)|15;T[j+0]=240&un(d,A)|Pn(d,y,A)>>4,T[j+1]=V}function Sa(d,y,A,T,j){T[j+0]=255,dr(d,y,A,T,j+1)}function Ea(d,y,A,T,j){Gn(d,y,A,T,j),T[j+3]=255}function Qr(d,y,A,T,j){dr(d,y,A,T,j),T[j+3]=255}function Ka(d,y,A){R[d]=function(T,j,V,z,W,X,rt,dt,Tt){for(var nt=dt+(-2&Tt)*A;dt!=nt;)y(T[j+0],V[z+0],W[X+0],rt,dt),y(T[j+1],V[z+0],W[X+0],rt,dt+A),j+=2,++z,++X,dt+=2*A;1&Tt&&y(T[j+0],V[z+0],W[X+0],rt,dt)}}function Vl(d,y,A){return A==0?d==0?y==0?6:5:y==0?4:0:A}function Fu(d,y,A,T,j){switch(d>>>30){case 3:Za(y,A,T,j,0);break;case 2:Lr(y,A,T,j);break;case 1:Rn(y,A,T,j)}}function Es(d,y){var A,T,j=y.M,V=y.Nb,z=d.oc,W=d.pc+40,X=d.oc,rt=d.pc+584,dt=d.oc,Tt=d.pc+600;for(A=0;16>A;++A)z[W+32*A-1]=129;for(A=0;8>A;++A)X[rt+32*A-1]=129,dt[Tt+32*A-1]=129;for(0<j?z[W-1-32]=X[rt-1-32]=dt[Tt-1-32]=129:(a(z,W-32-1,127,21),a(X,rt-32-1,127,9),a(dt,Tt-32-1,127,9)),T=0;T<d.za;++T){var nt=y.ya[y.aa+T];if(0<T){for(A=-1;16>A;++A)r(z,W+32*A-4,z,W+32*A+12,4);for(A=-1;8>A;++A)r(X,rt+32*A-4,X,rt+32*A+4,4),r(dt,Tt+32*A-4,dt,Tt+32*A+4,4)}var yt=d.Gd,At=d.Hd+T,Mt=nt.ad,Et=nt.Hc;if(0<j&&(r(z,W-32,yt[At].y,0,16),r(X,rt-32,yt[At].f,0,8),r(dt,Tt-32,yt[At].ea,0,8)),nt.Za){var Pt=z,Bt=W-32+16;for(0<j&&(T>=d.za-1?a(Pt,Bt,yt[At].y[15],4):r(Pt,Bt,yt[At+1].y,0,4)),A=0;4>A;A++)Pt[Bt+128+A]=Pt[Bt+256+A]=Pt[Bt+384+A]=Pt[Bt+0+A];for(A=0;16>A;++A,Et<<=2)Pt=z,Bt=W+Ci[A],bi[nt.Ob[A]](Pt,Bt),Fu(Et,Mt,16*+A,Pt,Bt)}else if(Pt=Vl(T,j,nt.Ob[0]),$r[Pt](z,W),Et!=0)for(A=0;16>A;++A,Et<<=2)Fu(Et,Mt,16*+A,z,W+Ci[A]);for(A=nt.Gc,Pt=Vl(T,j,nt.Dd),la[Pt](X,rt),la[Pt](dt,Tt),Et=Mt,Pt=X,Bt=rt,255&(nt=0|A)&&(170&nt?Ds(Et,256,Pt,Bt):Sn(Et,256,Pt,Bt)),nt=dt,Et=Tt,255&(A>>=8)&&(170&A?Ds(Mt,320,nt,Et):Sn(Mt,320,nt,Et)),j<d.Ub-1&&(r(yt[At].y,0,z,W+480,16),r(yt[At].f,0,X,rt+224,8),r(yt[At].ea,0,dt,Tt+224,8)),A=8*V*d.B,yt=d.sa,At=d.ta+16*T+16*V*d.R,Mt=d.qa,nt=d.ra+8*T+A,Et=d.Ha,Pt=d.Ia+8*T+A,A=0;16>A;++A)r(yt,At+A*d.R,z,W+32*A,16);for(A=0;8>A;++A)r(Mt,nt+A*d.B,X,rt+32*A,8),r(Et,Pt+A*d.B,dt,Tt+32*A,8)}}function sa(d,y,A,T,j,V,z,W,X){var rt=[0],dt=[0],Tt=0,nt=X!=null?X.kd:0,yt=X??new Kt;if(d==null||12>A)return 7;yt.data=d,yt.w=y,yt.ha=A,y=[y],A=[A],yt.gb=[yt.gb];t:{var At=y,Mt=A,Et=yt.gb;if(t(d!=null),t(Mt!=null),t(Et!=null),Et[0]=0,12<=Mt[0]&&!e(d,At[0],"RIFF")){if(e(d,At[0]+8,"WEBP")){Et=3;break t}var Pt=ce(d,At[0]+4);if(12>Pt||4294967286<Pt){Et=3;break t}if(nt&&Pt>Mt[0]-8){Et=7;break t}Et[0]=Pt,At[0]+=12,Mt[0]-=12}Et=0}if(Et!=0)return Et;for(Pt=0<yt.gb[0],A=A[0];;){t:{var Bt=d;Mt=y,Et=A;var Qt=rt,Yt=dt,pe=At=[0];if((he=Tt=[Tt])[0]=0,8>Et[0])Et=7;else{if(!e(Bt,Mt[0],"VP8X")){if(ce(Bt,Mt[0]+4)!=10){Et=3;break t}if(18>Et[0]){Et=7;break t}var ae=ce(Bt,Mt[0]+8),Ge=1+te(Bt,Mt[0]+12);if(2147483648<=Ge*(Bt=1+te(Bt,Mt[0]+15))){Et=3;break t}pe!=null&&(pe[0]=ae),Qt!=null&&(Qt[0]=Ge),Yt!=null&&(Yt[0]=Bt),Mt[0]+=18,Et[0]-=18,he[0]=1}Et=0}}if(Tt=Tt[0],At=At[0],Et!=0)return Et;if(Mt=!!(2&At),!Pt&&Tt)return 3;if(V!=null&&(V[0]=!!(16&At)),z!=null&&(z[0]=Mt),W!=null&&(W[0]=0),z=rt[0],At=dt[0],Tt&&Mt&&X==null){Et=0;break}if(4>A){Et=7;break}if(Pt&&Tt||!Pt&&!Tt&&!e(d,y[0],"ALPH")){A=[A],yt.na=[yt.na],yt.P=[yt.P],yt.Sa=[yt.Sa];t:{ae=d,Et=y,Pt=A;var he=yt.gb;Qt=yt.na,Yt=yt.P,pe=yt.Sa,Ge=22,t(ae!=null),t(Pt!=null),Bt=Et[0];var dn=Pt[0];for(t(Qt!=null),t(pe!=null),Qt[0]=null,Yt[0]=null,pe[0]=0;;){if(Et[0]=Bt,Pt[0]=dn,8>dn){Et=7;break t}var ai=ce(ae,Bt+4);if(4294967286<ai){Et=3;break t}var tn=8+ai+1&-2;if(Ge+=tn,0<he&&Ge>he){Et=3;break t}if(!e(ae,Bt,"VP8 ")||!e(ae,Bt,"VP8L")){Et=0;break t}if(dn[0]<tn){Et=7;break t}e(ae,Bt,"ALPH")||(Qt[0]=ae,Yt[0]=Bt+8,pe[0]=ai),Bt+=tn,dn-=tn}}if(A=A[0],yt.na=yt.na[0],yt.P=yt.P[0],yt.Sa=yt.Sa[0],Et!=0)break}A=[A],yt.Ja=[yt.Ja],yt.xa=[yt.xa];t:if(he=d,Et=y,Pt=A,Qt=yt.gb[0],Yt=yt.Ja,pe=yt.xa,ae=Et[0],Bt=!e(he,ae,"VP8 "),Ge=!e(he,ae,"VP8L"),t(he!=null),t(Pt!=null),t(Yt!=null),t(pe!=null),8>Pt[0])Et=7;else{if(Bt||Ge){if(he=ce(he,ae+4),12<=Qt&&he>Qt-12){Et=3;break t}if(nt&&he>Pt[0]-8){Et=7;break t}Yt[0]=he,Et[0]+=8,Pt[0]-=8,pe[0]=Ge}else pe[0]=5<=Pt[0]&&he[ae+0]==47&&!(he[ae+4]>>5),Yt[0]=Pt[0];Et=0}if(A=A[0],yt.Ja=yt.Ja[0],yt.xa=yt.xa[0],y=y[0],Et!=0)break;if(4294967286<yt.Ja)return 3;if(W==null||Mt||(W[0]=yt.xa?2:1),z=[z],At=[At],yt.xa){if(5>A){Et=7;break}W=z,nt=At,Mt=V,d==null||5>A?d=0:5<=A&&d[y+0]==47&&!(d[y+4]>>5)?(Pt=[0],he=[0],Qt=[0],Ct(Yt=new K,d,y,A),Fr(Yt,Pt,he,Qt)?(W!=null&&(W[0]=Pt[0]),nt!=null&&(nt[0]=he[0]),Mt!=null&&(Mt[0]=Qt[0]),d=1):d=0):d=0}else{if(10>A){Et=7;break}W=At,d==null||10>A||!ta(d,y+3,A-3)?d=0:(nt=d[y+0]|d[y+1]<<8|d[y+2]<<16,Mt=16383&(d[y+7]<<8|d[y+6]),d=16383&(d[y+9]<<8|d[y+8]),1&nt||3<(nt>>1&7)||!(nt>>4&1)||nt>>5>=yt.Ja||!Mt||!d?d=0:(z&&(z[0]=Mt),W&&(W[0]=d),d=1))}if(!d||(z=z[0],At=At[0],Tt&&(rt[0]!=z||dt[0]!=At)))return 3;X!=null&&(X[0]=yt,X.offset=y-X.w,t(4294967286>y-X.w),t(X.offset==X.ha-A));break}return Et==0||Et==7&&Tt&&X==null?(V!=null&&(V[0]|=yt.na!=null&&0<yt.na.length),T!=null&&(T[0]=z),j!=null&&(j[0]=At),0):Et}function Wa(d,y,A){var T=y.width,j=y.height,V=0,z=0,W=T,X=j;if(y.Da=d!=null&&0<d.Da,y.Da&&(W=d.cd,X=d.bd,V=d.v,z=d.j,11>A||(V&=-2,z&=-2),0>V||0>z||0>=W||0>=X||V+W>T||z+X>j))return 0;if(y.v=V,y.j=z,y.va=V+W,y.o=z+X,y.U=W,y.T=X,y.da=d!=null&&0<d.da,y.da){if(!Te(W,X,A=[d.ib],V=[d.hb]))return 0;y.ib=A[0],y.hb=V[0]}return y.ob=d!=null&&d.ob,y.Kb=d==null||!d.Sd,y.da&&(y.ob=y.ib<3*T/4&&y.hb<3*j/4,y.Kb=0),1}function zu(d){if(d==null)return 2;if(11>d.S){var y=d.f.RGBA;y.fb+=(d.height-1)*y.A,y.A=-y.A}else y=d.f.kb,d=d.height,y.O+=(d-1)*y.fa,y.fa=-y.fa,y.N+=(d-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(d-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(d-1)*y.lb,y.lb=-y.lb);return 0}function aa(d,y,A,T){if(T==null||0>=d||0>=y)return 2;if(A!=null){if(A.Da){var j=A.cd,V=A.bd,z=-2&A.v,W=-2&A.j;if(0>z||0>W||0>=j||0>=V||z+j>d||W+V>y)return 2;d=j,y=V}if(A.da){if(!Te(d,y,j=[A.ib],V=[A.hb]))return 2;d=j[0],y=V[0]}}T.width=d,T.height=y;t:{var X=T.width,rt=T.height;if(d=T.S,0>=X||0>=rt||!(d>=Ic&&13>d))d=2;else{if(0>=T.Rd&&T.sd==null){z=V=j=y=0;var dt=(W=X*jc[d])*rt;if(11>d||(V=(rt+1)/2*(y=(X+1)/2),d==12&&(z=(j=X)*rt)),(rt=o(dt+2*V+z))==null){d=1;break t}T.sd=rt,11>d?((X=T.f.RGBA).eb=rt,X.fb=0,X.A=W,X.size=dt):((X=T.f.kb).y=rt,X.O=0,X.fa=W,X.Fd=dt,X.f=rt,X.N=0+dt,X.Ab=y,X.Cd=V,X.ea=rt,X.W=0+dt+V,X.Db=y,X.Ed=V,d==12&&(X.F=rt,X.J=0+dt+2*V),X.Tc=z,X.lb=j)}if(y=1,j=T.S,V=T.width,z=T.height,j>=Ic&&13>j)if(11>j)d=T.f.RGBA,y&=(W=Math.abs(d.A))*(z-1)+V<=d.size,y&=W>=V*jc[j],y&=d.eb!=null;else{d=T.f.kb,W=(V+1)/2,dt=(z+1)/2,X=Math.abs(d.fa),rt=Math.abs(d.Ab);var Tt=Math.abs(d.Db),nt=Math.abs(d.lb),yt=nt*(z-1)+V;y&=X*(z-1)+V<=d.Fd,y&=rt*(dt-1)+W<=d.Cd,y=(y&=Tt*(dt-1)+W<=d.Ed)&X>=V&rt>=W&Tt>=W,y&=d.y!=null,y&=d.f!=null,y&=d.ea!=null,j==12&&(y&=nt>=V,y&=yt<=d.Tc,y&=d.F!=null)}else y=0;d=y?0:2}}return d!=0||A!=null&&A.fd&&(d=zu(T)),d}var To=64,os=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xr=24,xa=32,Ta=8,Qa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];re("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(d){return d},R.Predictor2=function(d,y,A){return y[A+0]},R.Predictor3=function(d,y,A){return y[A+1]},R.Predictor4=function(d,y,A){return y[A-1]},R.Predictor5=function(d,y,A){return be(be(d,y[A+1]),y[A+0])},R.Predictor6=function(d,y,A){return be(d,y[A-1])},R.Predictor7=function(d,y,A){return be(d,y[A+0])},R.Predictor8=function(d,y,A){return be(y[A-1],y[A+0])},R.Predictor9=function(d,y,A){return be(y[A+0],y[A+1])},R.Predictor10=function(d,y,A){return be(be(d,y[A-1]),be(y[A+0],y[A+1]))},R.Predictor11=function(d,y,A){var T=y[A+0];return 0>=Be(T>>24&255,d>>24&255,(y=y[A-1])>>24&255)+Be(T>>16&255,d>>16&255,y>>16&255)+Be(T>>8&255,d>>8&255,y>>8&255)+Be(255&T,255&d,255&y)?T:d},R.Predictor12=function(d,y,A){var T=y[A+0];return(We((d>>24&255)+(T>>24&255)-((y=y[A-1])>>24&255))<<24|We((d>>16&255)+(T>>16&255)-(y>>16&255))<<16|We((d>>8&255)+(T>>8&255)-(y>>8&255))<<8|We((255&d)+(255&T)-(255&y)))>>>0},R.Predictor13=function(d,y,A){var T=y[A-1];return(Ze((d=be(d,y[A+0]))>>24&255,T>>24&255)<<24|Ze(d>>16&255,T>>16&255)<<16|Ze(d>>8&255,T>>8&255)<<8|Ze(255&d,255&T))>>>0};var Bl=R.PredictorAdd0;R.PredictorAdd1=an,re("Predictor2","PredictorAdd2"),re("Predictor3","PredictorAdd3"),re("Predictor4","PredictorAdd4"),re("Predictor5","PredictorAdd5"),re("Predictor6","PredictorAdd6"),re("Predictor7","PredictorAdd7"),re("Predictor8","PredictorAdd8"),re("Predictor9","PredictorAdd9"),re("Predictor10","PredictorAdd10"),re("Predictor11","PredictorAdd11"),re("Predictor12","PredictorAdd12"),re("Predictor13","PredictorAdd13");var Fl=R.PredictorAdd2;ye("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),ye("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Ni,xc=R.ColorIndexInverseTransform,Na=R.MapARGB,Ia=R.VP8LColorIndexInverseTransformAlpha,mr=R.MapAlpha,Xa=R.VP8LPredictorsAdd=[];Xa.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var zl,ql,$a,Ja,Ca,ol,xs,Za,Lr,Ds,Rn,Sn,Zn,Ii,Ra,oa,ll,qu,qh,vd,_d,bd,Hh,Gh,ul,Ps,Hu,Ts,cl=o(511),Tc=o(2041),Gu=o(225),Yu=o(767),Nc=0,to=Tc,Ku=Gu,kr=Yu,gr=cl,Ic=0,Or=1,Cc=2,Ms=3,Wu=4,Hl=5,No=6,Qu=7,Rc=8,Gl=9,Lc=10,js=[2,3,7],Yl=[3,3,11],hl=[280,256,256,256,40],kc=[0,1,1,1,0],Xu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Us=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Vs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Io=8,Bs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ns=null,wd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Yh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Oc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ad=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],si=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$r=[],bi=[],la=[],Co=1,Kh=2,eo=[],vr=[];$t("UpsampleRgbLinePair",dr,3),$t("UpsampleBgrLinePair",Gn,3),$t("UpsampleRgbaLinePair",Qr,4),$t("UpsampleBgraLinePair",Ea,4),$t("UpsampleArgbLinePair",Sa,4),$t("UpsampleRgba4444LinePair",Ss,2),$t("UpsampleRgb565LinePair",pr,2);var fl=R.UpsampleRgbLinePair,Wh=R.UpsampleBgrLinePair,Kl=R.UpsampleRgbaLinePair,Dc=R.UpsampleBgraLinePair,Ro=R.UpsampleArgbLinePair,La=R.UpsampleRgba4444LinePair,Lo=R.UpsampleRgb565LinePair,zs=16,Wl=1<<zs-1,dl=-227,ko=482,Pc=6,Oo=0,_r=o(256),Mc=o(256),Sd=o(256),qm=o(256),Hm=o(ko-dl),Gm=o(ko-dl);Ka("YuvToRgbRow",dr,3),Ka("YuvToBgrRow",Gn,3),Ka("YuvToRgbaRow",Qr,4),Ka("YuvToBgraRow",Ea,4),Ka("YuvToArgbRow",Sa,4),Ka("YuvToRgba4444Row",Ss,2),Ka("YuvToRgb565Row",pr,2);var Ci=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ql=[0,2,8],$u=[8,7,6,4,4,2,2,2,1,1,1,1],Ju=1;this.WebPDecodeRGBA=function(d,y,A,T,j){var V=Or,z=new jt,W=new we;z.ba=W,W.S=V,W.width=[W.width],W.height=[W.height];var X=W.width,rt=W.height,dt=new ve;if(dt==null||d==null)var Tt=2;else t(dt!=null),Tt=sa(d,y,A,dt.width,dt.height,dt.Pd,dt.Qd,dt.format,null);if(Tt!=0?X=0:(X!=null&&(X[0]=dt.width[0]),rt!=null&&(rt[0]=dt.height[0]),X=1),X){W.width=W.width[0],W.height=W.height[0],T!=null&&(T[0]=W.width),j!=null&&(j[0]=W.height);t:{if(T=new tr,(j=new Kt).data=d,j.w=y,j.ha=A,j.kd=1,y=[0],t(j!=null),((d=sa(j.data,j.w,j.ha,null,null,null,y,null,j))==0||d==7)&&y[0]&&(d=4),(y=d)==0){if(t(z!=null),T.data=j.data,T.w=j.w+j.offset,T.ha=j.ha-j.offset,T.put=Se,T.ac=qi,T.bc=Js,T.ma=z,j.xa){if((d=ya())==null){z=1;break t}if((function(nt,yt){var At=[0],Mt=[0],Et=[0];e:for(;;){if(nt==null)return 0;if(yt==null)return nt.a=2,0;if(nt.l=yt,nt.a=0,Ct(nt.m,yt.data,yt.w,yt.ha),!Fr(nt.m,At,Mt,Et)){nt.a=3;break e}if(nt.xb=Kh,yt.width=At[0],yt.height=Mt[0],!vs(At[0],Mt[0],1,nt,null))break e;return 1}return t(nt.a!=0),0})(d,T)){if(T=(y=aa(T.width,T.height,z.Oa,z.ba))==0){e:{T=d;n:for(;;){if(T==null){T=0;break e}if(t(T.s.yc!=null),t(T.s.Ya!=null),t(0<T.s.Wb),t((A=T.l)!=null),t((j=A.ma)!=null),T.xb!=0){if(T.ca=j.ba,T.tb=j.tb,t(T.ca!=null),!Wa(j.Oa,A,Ms)){T.a=2;break n}if(!Nr(T,A.width)||A.da)break n;if((A.da||Pe(T.ca.S))&&Lt(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&Lt()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!tt(T.s.vb,T.s.Wa.Xa)){T.a=1;break n}T.xb=0}if(!Tr(T,T.V,T.Ba,T.c,T.i,A.o,Zi))break n;j.Dc=T.Ma,T=1;break e}t(T.a!=0),T=0}T=!T}T&&(y=d.a)}else y=d.a}else{if((d=new vi)==null){z=1;break t}if(d.Fa=j.na,d.P=j.P,d.qc=j.Sa,ss(d,T)){if((y=aa(T.width,T.height,z.Oa,z.ba))==0){if(d.Aa=0,A=z.Oa,t((j=d)!=null),A!=null){if(0<(X=0>(X=A.Md)?0:100<X?255:255*X/100)){for(rt=dt=0;4>rt;++rt)12>(Tt=j.pb[rt]).lc&&(Tt.ia=X*$u[0>Tt.lc?0:Tt.lc]>>3),dt|=Tt.ia;dt&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=A.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}(function(nt,yt){if(nt==null)return 0;if(yt==null)return hn(nt,2,"NULL VP8Io parameter in VP8Decode().");if(!nt.cb&&!ss(nt,yt))return 0;if(t(nt.cb),yt.ac==null||yt.ac(yt)){yt.ob&&(nt.L=0);var At=Ql[nt.L];if(nt.L==2?(nt.yb=0,nt.zb=0):(nt.yb=yt.v-At>>4,nt.zb=yt.j-At>>4,0>nt.yb&&(nt.yb=0),0>nt.zb&&(nt.zb=0)),nt.Va=yt.o+15+At>>4,nt.Hb=yt.va+15+At>>4,nt.Hb>nt.za&&(nt.Hb=nt.za),nt.Va>nt.Ub&&(nt.Va=nt.Ub),0<nt.L){var Mt=nt.ed;for(At=0;4>At;++At){var Et;if(nt.Qa.Cb){var Pt=nt.Qa.Lb[At];nt.Qa.Fb||(Pt+=Mt.Tb)}else Pt=Mt.Tb;for(Et=0;1>=Et;++Et){var Bt=nt.gd[At][Et],Qt=Pt;if(Mt.Pc&&(Qt+=Mt.vd[0],Et&&(Qt+=Mt.od[0])),0<(Qt=0>Qt?0:63<Qt?63:Qt)){var Yt=Qt;0<Mt.wb&&(Yt=4<Mt.wb?Yt>>2:Yt>>1)>9-Mt.wb&&(Yt=9-Mt.wb),1>Yt&&(Yt=1),Bt.dd=Yt,Bt.tc=2*Qt+Yt,Bt.ld=40<=Qt?2:15<=Qt?1:0}else Bt.tc=0;Bt.La=Et}}}At=0}else hn(nt,6,"Frame setup failed"),At=nt.a;if(At=At==0){if(At){nt.$c=0,0<nt.Aa||(nt.Ic=Ju);e:{At=nt.Ic,Mt=4*(Yt=nt.za);var pe=32*Yt,ae=Yt+1,Ge=0<nt.L?Yt*(0<nt.Aa?2:1):0,he=(nt.Aa==2?2:1)*Yt;if((Bt=Mt+832+(Et=3*(16*At+Ql[nt.L])/2*pe)+(Pt=nt.Fa!=null&&0<nt.Fa.length?nt.Kc.c*nt.Kc.i:0))!=Bt)At=0;else{if(Bt>nt.Vb){if(nt.Vb=0,nt.Ec=o(Bt),nt.Fc=0,nt.Ec==null){At=hn(nt,1,"no memory during frame initialization.");break e}nt.Vb=Bt}Bt=nt.Ec,Qt=nt.Fc,nt.Ac=Bt,nt.Bc=Qt,Qt+=Mt,nt.Gd=c(pe,bo),nt.Hd=0,nt.rb=c(ae+1,rs),nt.sb=1,nt.wa=Ge?c(Ge,Ir):null,nt.Y=0,nt.D.Nb=0,nt.D.wa=nt.wa,nt.D.Y=nt.Y,0<nt.Aa&&(nt.D.Y+=Yt),t(!0),nt.oc=Bt,nt.pc=Qt,Qt+=832,nt.ya=c(he,Fa),nt.aa=0,nt.D.ya=nt.ya,nt.D.aa=nt.aa,nt.Aa==2&&(nt.D.aa+=Yt),nt.R=16*Yt,nt.B=8*Yt,Yt=(pe=Ql[nt.L])*nt.R,pe=pe/2*nt.B,nt.sa=Bt,nt.ta=Qt+Yt,nt.qa=nt.sa,nt.ra=nt.ta+16*At*nt.R+pe,nt.Ha=nt.qa,nt.Ia=nt.ra+8*At*nt.B+pe,nt.$c=0,Qt+=Et,nt.mb=Pt?Bt:null,nt.nb=Pt?Qt:null,t(Qt+Pt<=nt.Fc+nt.Vb),va(nt),a(nt.Ac,nt.Bc,0,Mt),At=1}}if(At){if(yt.ka=0,yt.y=nt.sa,yt.O=nt.ta,yt.f=nt.qa,yt.N=nt.ra,yt.ea=nt.Ha,yt.Vd=nt.Ia,yt.fa=nt.R,yt.Rc=nt.B,yt.F=null,yt.J=0,!Nc){for(At=-255;255>=At;++At)cl[255+At]=0>At?-At:At;for(At=-1020;1020>=At;++At)Tc[1020+At]=-128>At?-128:127<At?127:At;for(At=-112;112>=At;++At)Gu[112+At]=-16>At?-16:15<At?15:At;for(At=-255;510>=At;++At)Yu[255+At]=0>At?0:255<At?255:At;Nc=1}xs=Hi,Za=el,Ds=fr,Rn=nl,Sn=ea,Lr=Ul,Zn=al,Ii=As,Ra=P,oa=it,ll=xo,qu=w,qh=ht,vd=vt,_d=ks,bd=as,Hh=Ya,Gh=Eo,bi[0]=wa,bi[1]=il,bi[2]=qa,bi[3]=So,bi[4]=Gi,bi[5]=Ha,bi[6]=Di,bi[7]=Dn,bi[8]=Ga,bi[9]=Gr,$r[0]=bs,$r[1]=wo,$r[2]=Ao,$r[3]=na,$r[4]=ia,$r[5]=Rr,$r[6]=ba,la[0]=ra,la[1]=rl,la[2]=ws,la[3]=sl,la[4]=Ti,la[5]=Kr,la[6]=Cs,At=1}else At=0}At&&(At=(function(dn,ai){for(dn.M=0;dn.M<dn.Va;++dn.M){var tn,oe=dn.Jc[dn.M&dn.Xb],Jt=dn.m,di=dn;for(tn=0;tn<di.za;++tn){var Ue=Jt,sn=di,Un=sn.Ac,Yi=sn.Bc+4*tn,br=sn.zc,ti=sn.ya[sn.aa+tn];if(sn.Qa.Bb?ti.$b=Vt(Ue,sn.Pa.jb[0])?2+Vt(Ue,sn.Pa.jb[2]):Vt(Ue,sn.Pa.jb[1]):ti.$b=0,sn.kc&&(ti.Ad=Vt(Ue,sn.Bd)),ti.Za=!Vt(Ue,145)+0,ti.Za){var Pi=ti.Ob,Dr=0;for(sn=0;4>sn;++sn){var Mi,cn=br[0+sn];for(Mi=0;4>Mi;++Mi){cn=yr[Un[Yi+Mi]][cn];for(var xn=Oc[Vt(Ue,cn[0])];0<xn;)xn=Oc[2*xn+Vt(Ue,cn[xn])];cn=-xn,Un[Yi+Mi]=cn}r(Pi,Dr,Un,Yi,4),Dr+=4,br[0+sn]=cn}}else cn=Vt(Ue,156)?Vt(Ue,128)?1:3:Vt(Ue,163)?2:0,ti.Ob[0]=cn,a(Un,Yi,cn,4),a(br,0,cn,4);ti.Dd=Vt(Ue,142)?Vt(Ue,114)?Vt(Ue,183)?1:3:2:0}if(di.m.Ka)return hn(dn,7,"Premature end-of-partition0 encountered.");for(;dn.ja<dn.za;++dn.ja){if(di=oe,Ue=(Jt=dn).rb[Jt.sb-1],Un=Jt.rb[Jt.sb+Jt.ja],tn=Jt.ya[Jt.aa+Jt.ja],Yi=Jt.kc?tn.Ad:0)Ue.la=Un.la=0,tn.Za||(Ue.Na=Un.Na=0),tn.Hc=0,tn.Gc=0,tn.ia=0;else{var pi,Ln;if(Ue=Un,Un=di,Yi=Jt.Pa.Xc,br=Jt.ya[Jt.aa+Jt.ja],ti=Jt.pb[br.$b],sn=br.ad,Pi=0,Dr=Jt.rb[Jt.sb-1],cn=Mi=0,a(sn,Pi,0,384),br.Za)var Ki=0,mi=Yi[3];else{xn=o(16);var Tn=Ue.Na+Dr.Na;if(Tn=Ns(Un,Yi[1],Tn,ti.Eb,0,xn,0),Ue.Na=Dr.Na=(0<Tn)+0,1<Tn)xs(xn,0,sn,Pi);else{var Ri=xn[0]+3>>3;for(xn=0;256>xn;xn+=16)sn[Pi+xn]=Ri}Ki=1,mi=Yi[0]}var Vn=15&Ue.la,ji=15&Dr.la;for(xn=0;4>xn;++xn){var Ui=1&ji;for(Ri=Ln=0;4>Ri;++Ri)Vn=Vn>>1|(Ui=(Tn=Ns(Un,mi,Tn=Ui+(1&Vn),ti.Sc,Ki,sn,Pi))>Ki)<<7,Ln=Ln<<2|(3<Tn?3:1<Tn?2:sn[Pi+0]!=0),Pi+=16;Vn>>=4,ji=ji>>1|Ui<<7,Mi=(Mi<<8|Ln)>>>0}for(mi=Vn,Ki=ji>>4,pi=0;4>pi;pi+=2){for(Ln=0,Vn=Ue.la>>4+pi,ji=Dr.la>>4+pi,xn=0;2>xn;++xn){for(Ui=1&ji,Ri=0;2>Ri;++Ri)Tn=Ui+(1&Vn),Vn=Vn>>1|(Ui=0<(Tn=Ns(Un,Yi[2],Tn,ti.Qc,0,sn,Pi)))<<3,Ln=Ln<<2|(3<Tn?3:1<Tn?2:sn[Pi+0]!=0),Pi+=16;Vn>>=2,ji=ji>>1|Ui<<5}cn|=Ln<<4*pi,mi|=Vn<<4<<pi,Ki|=(240&ji)<<pi}Ue.la=mi,Dr.la=Ki,br.Hc=Mi,br.Gc=cn,br.ia=43690&cn?0:ti.ia,Yi=!(Mi|cn)}if(0<Jt.L&&(Jt.wa[Jt.Y+Jt.ja]=Jt.gd[tn.$b][tn.Za],Jt.wa[Jt.Y+Jt.ja].La|=!Yi),di.Ka)return hn(dn,7,"Premature end-of-file encountered.")}if(va(dn),Jt=ai,di=1,tn=(oe=dn).D,Ue=0<oe.L&&oe.M>=oe.zb&&oe.M<=oe.Va,oe.Aa==0)e:{if(tn.M=oe.M,tn.uc=Ue,Es(oe,tn),di=1,tn=(Ln=oe.D).Nb,Ue=(cn=Ql[oe.L])*oe.R,Un=cn/2*oe.B,xn=16*tn*oe.R,Ri=8*tn*oe.B,Yi=oe.sa,br=oe.ta-Ue+xn,ti=oe.qa,sn=oe.ra-Un+Ri,Pi=oe.Ha,Dr=oe.Ia-Un+Ri,ji=(Vn=Ln.M)==0,Mi=Vn>=oe.Va-1,oe.Aa==2&&Es(oe,Ln),Ln.uc)for(Ui=(Tn=oe).D.M,t(Tn.D.uc),Ln=Tn.yb;Ln<Tn.Hb;++Ln){Ki=Ln,mi=Ui;var Yn=(En=(Vi=Tn).D).Nb;pi=Vi.R;var En=En.wa[En.Y+Ki],Pr=Vi.sa,wi=Vi.ta+16*Yn*pi+16*Ki,Re=En.dd,Oe=En.tc;if(Oe!=0)if(t(3<=Oe),Vi.L==1)0<Ki&&bd(Pr,wi,pi,Oe+4),En.La&&Gh(Pr,wi,pi,Oe),0<mi&&_d(Pr,wi,pi,Oe+4),En.La&&Hh(Pr,wi,pi,Oe);else{var Nn=Vi.B,ls=Vi.qa,qs=Vi.ra+8*Yn*Nn+8*Ki,Jr=Vi.Ha,Vi=Vi.Ia+8*Yn*Nn+8*Ki;Yn=En.ld,0<Ki&&(Ii(Pr,wi,pi,Oe+4,Re,Yn),oa(ls,qs,Jr,Vi,Nn,Oe+4,Re,Yn)),En.La&&(qu(Pr,wi,pi,Oe,Re,Yn),vd(ls,qs,Jr,Vi,Nn,Oe,Re,Yn)),0<mi&&(Zn(Pr,wi,pi,Oe+4,Re,Yn),Ra(ls,qs,Jr,Vi,Nn,Oe+4,Re,Yn)),En.La&&(ll(Pr,wi,pi,Oe,Re,Yn),qh(ls,qs,Jr,Vi,Nn,Oe,Re,Yn))}}if(oe.ia&&alert("todo:DitherRow"),Jt.put!=null){if(Ln=16*Vn,Vn=16*(Vn+1),ji?(Jt.y=oe.sa,Jt.O=oe.ta+xn,Jt.f=oe.qa,Jt.N=oe.ra+Ri,Jt.ea=oe.Ha,Jt.W=oe.Ia+Ri):(Ln-=cn,Jt.y=Yi,Jt.O=br,Jt.f=ti,Jt.N=sn,Jt.ea=Pi,Jt.W=Dr),Mi||(Vn-=cn),Vn>Jt.o&&(Vn=Jt.o),Jt.F=null,Jt.J=null,oe.Fa!=null&&0<oe.Fa.length&&Ln<Vn&&(Jt.J=p(oe,Jt,Ln,Vn-Ln),Jt.F=oe.mb,Jt.F==null&&Jt.F.length==0)){di=hn(oe,3,"Could not decode alpha data.");break e}Ln<Jt.j&&(cn=Jt.j-Ln,Ln=Jt.j,t(!(1&cn)),Jt.O+=oe.R*cn,Jt.N+=oe.B*(cn>>1),Jt.W+=oe.B*(cn>>1),Jt.F!=null&&(Jt.J+=Jt.width*cn)),Ln<Vn&&(Jt.O+=Jt.v,Jt.N+=Jt.v>>1,Jt.W+=Jt.v>>1,Jt.F!=null&&(Jt.J+=Jt.v),Jt.ka=Ln-Jt.j,Jt.U=Jt.va-Jt.v,Jt.T=Vn-Ln,di=Jt.put(Jt))}tn+1!=oe.Ic||Mi||(r(oe.sa,oe.ta-Ue,Yi,br+16*oe.R,Ue),r(oe.qa,oe.ra-Un,ti,sn+8*oe.B,Un),r(oe.Ha,oe.Ia-Un,Pi,Dr+8*oe.B,Un))}if(!di)return hn(dn,6,"Output aborted.")}return 1})(nt,yt)),yt.bc!=null&&yt.bc(yt),At&=1}return At?(nt.cb=0,At):0})(d,T)||(y=d.a)}}else y=d.a}y==0&&z.Oa!=null&&z.Oa.fd&&(y=zu(z.ba))}z=y}V=z!=0?null:11>V?W.f.RGBA.eb:W.f.kb.y}else V=null;return V};var jc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(R,q){for(var N="",O=0;O<4;O++)N+=String.fromCharCode(R[q++]);return N}function v(R,q){return R[q+0]|R[q+1]<<8}function S(R,q){return(R[q+0]|R[q+1]<<8|R[q+2]<<16)>>>0}function x(R,q){return(R[q+0]|R[q+1]<<8|R[q+2]<<16|R[q+3]<<24)>>>0}new f;var b=[0],U=[0],B=[],G=new f,F=n,st=(function(R,q){var N={},O=0,C=!1,ot=0,xt=0;if(N.frames=[],!(function(k,K){for(var J=0;J<4;J++)if(k[K+J]!="RIFF".charCodeAt(J))return!0;return!1})(R,q)){for(x(R,q+=4),q+=8;q<R.length;){var at=m(R,q),pt=x(R,q+=4);q+=4;var ft=pt+(1&pt);switch(at){case"VP8 ":case"VP8L":N.frames[O]===void 0&&(N.frames[O]={}),($=N.frames[O]).src_off=C?xt:q-8,$.src_size=ot+pt+8,O++,C&&(C=!1,ot=0,xt=0);break;case"VP8X":($=N.header={}).feature_flags=R[q];var Ct=q+4;$.canvas_width=1+S(R,Ct),Ct+=3,$.canvas_height=1+S(R,Ct),Ct+=3;break;case"ALPH":C=!0,ot=ft+8,xt=q-8;break;case"ANIM":($=N.header).bgcolor=x(R,q),Ct=q+4,$.loop_count=v(R,Ct),Ct+=2;break;case"ANMF":var Ht,$;($=N.frames[O]={}).offset_x=2*S(R,q),q+=3,$.offset_y=2*S(R,q),q+=3,$.width=1+S(R,q),q+=3,$.height=1+S(R,q),q+=3,$.duration=S(R,q),q+=3,Ht=R[q++],$.dispose=1&Ht,$.blend=Ht>>1&1}at!="ANMF"&&(q+=ft)}return N}})(F,0);st.response=F,st.rgbaoutput=!0,st.dataurl=!1;var Z=st.header?st.header:null,et=st.frames?st.frames:null;if(Z){Z.loop_counter=Z.loop_count,b=[Z.canvas_height],U=[Z.canvas_width];for(var bt=0;bt<et.length&&et[bt].blend!=0;bt++);}var St=et[0],Y=G.WebPDecodeRGBA(F,St.src_off,St.src_size,U,b);St.rgba=Y,St.imgwidth=U[0],St.imgheight=b[0];for(var D=0;D<U[0]*b[0]*4;D++)B[D]=Y[D];return this.width=U,this.height=b,this.data=B,this}function hL(){var n,t=this.internal.__metadata__.metadata,e=unescape(encodeURIComponent(t));n=this.internal.__metadata__.rawXml?e:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function fL(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var t,e,r,a,o,c,h,f,m,v=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new f,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new c,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new c,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new S(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,m=new v}]);var S=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=k;Object.defineProperty(this,"pdf",{get:function(){return K}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(tt){J=!!tt}});var lt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return lt},set:function(tt){lt=!!tt}});var ct=0;Object.defineProperty(this,"posX",{get:function(){return ct},set:function(tt){isNaN(tt)||(ct=tt)}});var gt=0;Object.defineProperty(this,"posY",{get:function(){return gt},set:function(tt){isNaN(tt)||(gt=tt)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(tt){var Zt;typeof tt=="number"?Zt=[tt,tt,tt,tt]:((Zt=new Array(4))[0]=tt[0],Zt[1]=tt.length>=2?tt[1]:Zt[0],Zt[2]=tt.length>=3?tt[2]:Zt[0],Zt[3]=tt.length>=4?tt[3]:Zt[1]),m.margin=Zt}});var kt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return kt},set:function(tt){kt=tt}});var Rt=0;Object.defineProperty(this,"lastBreak",{get:function(){return Rt},set:function(tt){Rt=tt}});var Vt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Vt},set:function(tt){Vt=tt}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(tt){tt instanceof v&&(m=tt)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(tt){m.path=tt}});var Xt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xt},set:function(tt){Xt=tt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(tt){var Zt;Zt=x(tt),this.ctx.fillStyle=Zt.style,this.ctx.isFillTransparent=Zt.a===0,this.ctx.fillOpacity=Zt.a,this.pdf.setFillColor(Zt.r,Zt.g,Zt.b,{a:Zt.a}),this.pdf.setTextColor(Zt.r,Zt.g,Zt.b,{a:Zt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(tt){var Zt=x(tt);this.ctx.strokeStyle=Zt.style,this.ctx.isStrokeTransparent=Zt.a===0,this.ctx.strokeOpacity=Zt.a,Zt.a===0?this.pdf.setDrawColor(255,255,255):(Zt.a,this.pdf.setDrawColor(Zt.r,Zt.g,Zt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(tt){["butt","round","square"].indexOf(tt)!==-1&&(this.ctx.lineCap=tt,this.pdf.setLineCap(tt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(tt){isNaN(tt)||(this.ctx.lineWidth=tt,this.pdf.setLineWidth(tt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(tt){["bevel","round","miter"].indexOf(tt)!==-1&&(this.ctx.lineJoin=tt,this.pdf.setLineJoin(tt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(tt){isNaN(tt)||(this.ctx.miterLimit=tt,this.pdf.setMiterLimit(tt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(tt){this.ctx.textBaseline=tt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(tt){["right","end","center","left","start"].indexOf(tt)!==-1&&(this.ctx.textAlign=tt)}});var ee=null,te=null,ce=null;Object.defineProperty(this,"fontFaces",{get:function(){return ce},set:function(tt){ee=null,te=null,ce=tt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(tt){var Zt;if(this.ctx.font=tt,(Zt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(tt))!==null){var Ke=Zt[1];Zt[2];var Te=Zt[3],Ft=Zt[4];Zt[5];var se=Zt[6],re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ft)[2];Ft=Math.floor(re==="px"?parseFloat(Ft)*this.pdf.internal.scaleFactor:re==="em"?parseFloat(Ft)*this.pdf.getFontSize():parseFloat(Ft)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ft);var Ie=(function(ye){var ui,$e,Ne=[],je=ye.trim();if(je==="")return j1;if(je in Cb)return[Cb[je]];for(;je!=="";){switch($e=null,ui=(je=Lb(je)).charAt(0)){case'"':case"'":$e=sL(je.substring(1),ui);break;default:$e=aL(je)}if($e===null||(Ne.push($e[0]),(je=Lb($e[1]))!==""&&je.charAt(0)!==","))return j1;je=je.replace(/^,/,"")}return Ne})(se);if(this.fontFaces){var be=(function(ye,ui){var $e=ye.getFontList(),Ne=JSON.stringify($e);if(ee===null||te!==Ne){var je=(function(Qe){var Ae=[];return Object.keys(Qe).forEach(function(Cn){Qe[Cn].forEach(function(Pe){var Me=null;switch(Pe){case"bold":Me={family:Cn,weight:"bold"};break;case"italic":Me={family:Cn,style:"italic"};break;case"bolditalic":Me={family:Cn,weight:"bold",style:"italic"};break;case"":case"normal":Me={family:Cn}}Me!==null&&(Me.ref={name:Cn,style:Pe},Ae.push(Me))})}),Ae})($e);ee=(function(Qe){for(var Ae={},Cn=0;Cn<Qe.length;++Cn){var Pe=M1(Qe[Cn]),Me=Pe.family,kn=Pe.stretch,we=Pe.style,ve=Pe.weight;Ae[Me]=Ae[Me]||{},Ae[Me][kn]=Ae[Me][kn]||{},Ae[Me][kn][we]=Ae[Me][kn][we]||{},Ae[Me][kn][we][ve]=Pe}return Ae})(je.concat(ui)),te=Ne}return ee})(this.pdf,this.fontFaces),We=Ie.map(function(ye){return{family:ye,stretch:"normal",weight:Te,style:Ke}}),Ze=(function(ye,ui,$e){for(var Ne=($e=$e||{}).defaultFontFamily||"times",je=Object.assign({},rL,$e.genericFontFamilies||{}),Qe=null,Ae=null,Cn=0;Cn<ui.length;++Cn)if(je[(Qe=M1(ui[Cn])).family]&&(Qe.family=je[Qe.family]),ye.hasOwnProperty(Qe.family)){Ae=ye[Qe.family];break}if(!(Ae=Ae||ye[Ne]))throw new Error("Could not find a font-family for the rule '"+Rb(Qe)+"' and default family '"+Ne+"'.");if(Ae=(function(Pe,Me){if(Me[Pe])return Me[Pe];var kn=w0[Pe],we=kn<=w0.normal?-1:1,ve=Ib(Me,gA,kn,we);if(!ve)throw new Error("Could not find a matching font-stretch value for "+Pe);return ve})(Qe.stretch,Ae),Ae=(function(Pe,Me){if(Me[Pe])return Me[Pe];for(var kn=mA[Pe],we=0;we<kn.length;++we)if(Me[kn[we]])return Me[kn[we]];throw new Error("Could not find a matching font-style for "+Pe)})(Qe.style,Ae),!(Ae=(function(Pe,Me){if(Me[Pe])return Me[Pe];if(Pe===400&&Me[500])return Me[500];if(Pe===500&&Me[400])return Me[400];var kn=iL[Pe],we=Ib(Me,yA,kn,Pe<400?-1:1);if(!we)throw new Error("Could not find a matching font-weight for value "+Pe);return we})(Qe.weight,Ae)))throw new Error("Failed to resolve a font for the rule '"+Rb(Qe)+"'.");return Ae})(be,We);this.pdf.setFont(Ze.ref.name,Ze.ref.style)}else{var Be="";(Te==="bold"||parseInt(Te,10)>=700||Ke==="bold")&&(Be="bold"),Ke==="italic"&&(Be+="italic"),Be.length===0&&(Be="normal");for(var an="",Xe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ge=0;ge<Ie.length;ge++){if(this.pdf.internal.getFont(Ie[ge],Be,{noFallback:!0,disableWarning:!0})!==void 0){an=Ie[ge];break}if(Be==="bolditalic"&&this.pdf.internal.getFont(Ie[ge],"bold",{noFallback:!0,disableWarning:!0})!==void 0)an=Ie[ge],Be="bold";else if(this.pdf.internal.getFont(Ie[ge],"normal",{noFallback:!0,disableWarning:!0})!==void 0){an=Ie[ge],Be="normal";break}}if(an===""){for(var He=0;He<Ie.length;He++)if(Xe[Ie[He]]){an=Xe[Ie[He]];break}}an=an===""?"Times":an,this.pdf.setFont(an,Be)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(tt){this.ctx.globalCompositeOperation=tt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(tt){this.ctx.globalAlpha=tt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(tt){this.ctx.lineDashOffset=tt,$.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(tt){this.ctx.lineDash=tt,$.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(tt){this.ctx.ignoreClearRect=!!tt}})};S.prototype.setLineDash=function(k){this.lineDash=k},S.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},S.prototype.fill=function(){et.call(this,"fill",!1)},S.prototype.stroke=function(){et.call(this,"stroke",!1)},S.prototype.beginPath=function(){this.path=[{type:"begin"}]},S.prototype.moveTo=function(k,K){if(isNaN(k)||isNaN(K))throw li.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new c(k,K));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new c(k,K)},S.prototype.closePath=function(){var k=new c(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&Qn(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){k=new c(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(k.x,k.y)},S.prototype.lineTo=function(k,K){if(isNaN(k)||isNaN(K))throw li.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new c(k,K));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new c(J.x,J.y)},S.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),et.call(this,null,!0)},S.prototype.quadraticCurveTo=function(k,K,J,lt){if(isNaN(J)||isNaN(lt)||isNaN(k)||isNaN(K))throw li.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ct=this.ctx.transform.applyToPoint(new c(J,lt)),gt=this.ctx.transform.applyToPoint(new c(k,K));this.path.push({type:"qct",x1:gt.x,y1:gt.y,x:ct.x,y:ct.y}),this.ctx.lastPoint=new c(ct.x,ct.y)},S.prototype.bezierCurveTo=function(k,K,J,lt,ct,gt){if(isNaN(ct)||isNaN(gt)||isNaN(k)||isNaN(K)||isNaN(J)||isNaN(lt))throw li.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var kt=this.ctx.transform.applyToPoint(new c(ct,gt)),Rt=this.ctx.transform.applyToPoint(new c(k,K)),Vt=this.ctx.transform.applyToPoint(new c(J,lt));this.path.push({type:"bct",x1:Rt.x,y1:Rt.y,x2:Vt.x,y2:Vt.y,x:kt.x,y:kt.y}),this.ctx.lastPoint=new c(kt.x,kt.y)},S.prototype.arc=function(k,K,J,lt,ct,gt){if(isNaN(k)||isNaN(K)||isNaN(J)||isNaN(lt)||isNaN(ct))throw li.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(gt=!!gt,!this.ctx.transform.isIdentity){var kt=this.ctx.transform.applyToPoint(new c(k,K));k=kt.x,K=kt.y;var Rt=this.ctx.transform.applyToPoint(new c(0,J)),Vt=this.ctx.transform.applyToPoint(new c(0,0));J=Math.sqrt(Math.pow(Rt.x-Vt.x,2)+Math.pow(Rt.y-Vt.y,2))}Math.abs(ct-lt)>=2*Math.PI&&(lt=0,ct=2*Math.PI),this.path.push({type:"arc",x:k,y:K,radius:J,startAngle:lt,endAngle:ct,counterclockwise:gt})},S.prototype.arcTo=function(k,K,J,lt,ct){throw new Error("arcTo not implemented.")},S.prototype.rect=function(k,K,J,lt){if(isNaN(k)||isNaN(K)||isNaN(J)||isNaN(lt))throw li.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,K),this.lineTo(k+J,K),this.lineTo(k+J,K+lt),this.lineTo(k,K+lt),this.lineTo(k,K),this.lineTo(k+J,K),this.lineTo(k,K)},S.prototype.fillRect=function(k,K,J,lt){if(isNaN(k)||isNaN(K)||isNaN(J)||isNaN(lt))throw li.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var ct={};this.lineCap!=="butt"&&(ct.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ct.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,K,J,lt),this.fill(),ct.hasOwnProperty("lineCap")&&(this.lineCap=ct.lineCap),ct.hasOwnProperty("lineJoin")&&(this.lineJoin=ct.lineJoin)}},S.prototype.strokeRect=function(k,K,J,lt){if(isNaN(k)||isNaN(K)||isNaN(J)||isNaN(lt))throw li.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");U.call(this)||(this.beginPath(),this.rect(k,K,J,lt),this.stroke())},S.prototype.clearRect=function(k,K,J,lt){if(isNaN(k)||isNaN(K)||isNaN(J)||isNaN(lt))throw li.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,K,J,lt))},S.prototype.save=function(k){k=typeof k!="boolean"||k;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var lt=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=lt}},S.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(K),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},S.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(k){var K,J,lt,ct;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))K=0,J=0,lt=0,ct=0;else{var gt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(gt!==null)K=parseInt(gt[1]),J=parseInt(gt[2]),lt=parseInt(gt[3]),ct=1;else if((gt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)K=parseInt(gt[1]),J=parseInt(gt[2]),lt=parseInt(gt[3]),ct=parseFloat(gt[4]);else{if(ct=1,typeof k=="string"&&k.charAt(0)!=="#"){var kt=new lA(k);k=kt.ok?kt.toHex():"#000000"}k.length===4?(K=k.substring(1,2),K+=K,J=k.substring(2,3),J+=J,lt=k.substring(3,4),lt+=lt):(K=k.substring(1,3),J=k.substring(3,5),lt=k.substring(5,7)),K=parseInt(K,16),J=parseInt(J,16),lt=parseInt(lt,16)}}return{r:K,g:J,b:lt,a:ct,style:k}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},U=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};S.prototype.fillText=function(k,K,J,lt){if(isNaN(K)||isNaN(J)||typeof k!="string")throw li.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(lt=isNaN(lt)?void 0:lt,!b.call(this)){var ct=ft(this.ctx.transform.rotation),gt=this.ctx.transform.scaleX;O.call(this,{text:k,x:K,y:J,scale:gt,angle:ct,align:this.textAlign,maxWidth:lt})}},S.prototype.strokeText=function(k,K,J,lt){if(isNaN(K)||isNaN(J)||typeof k!="string")throw li.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!U.call(this)){lt=isNaN(lt)?void 0:lt;var ct=ft(this.ctx.transform.rotation),gt=this.ctx.transform.scaleX;O.call(this,{text:k,x:K,y:J,scale:gt,renderingMode:"stroke",angle:ct,align:this.textAlign,maxWidth:lt})}},S.prototype.measureText=function(k){if(typeof k!="string")throw li.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,J=this.pdf.internal.scaleFactor,lt=K.internal.getFontSize(),ct=K.getStringUnitWidth(k)*lt/K.internal.scaleFactor;return new function(gt){var kt=(gt=gt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return kt}}),this}({width:ct*=Math.round(96*J/72*1e4)/1e4})},S.prototype.scale=function(k,K){if(isNaN(k)||isNaN(K))throw li.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new f(k,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},S.prototype.rotate=function(k){if(isNaN(k))throw li.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new f(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},S.prototype.translate=function(k,K){if(isNaN(k)||isNaN(K))throw li.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new f(1,0,0,1,k,K);this.ctx.transform=this.ctx.transform.multiply(J)},S.prototype.transform=function(k,K,J,lt,ct,gt){if(isNaN(k)||isNaN(K)||isNaN(J)||isNaN(lt)||isNaN(ct)||isNaN(gt))throw li.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var kt=new f(k,K,J,lt,ct,gt);this.ctx.transform=this.ctx.transform.multiply(kt)},S.prototype.setTransform=function(k,K,J,lt,ct,gt){k=isNaN(k)?1:k,K=isNaN(K)?0:K,J=isNaN(J)?0:J,lt=isNaN(lt)?1:lt,ct=isNaN(ct)?0:ct,gt=isNaN(gt)?0:gt,this.ctx.transform=new f(k,K,J,lt,ct,gt)};var B=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};S.prototype.drawImage=function(k,K,J,lt,ct,gt,kt,Rt,Vt){var Xt=this.pdf.getImageProperties(k),ee=1,te=1,ce=1,tt=1;lt!==void 0&&Rt!==void 0&&(ce=Rt/lt,tt=Vt/ct,ee=Xt.width/lt*Rt/lt,te=Xt.height/ct*Vt/ct),gt===void 0&&(gt=K,kt=J,K=0,J=0),lt!==void 0&&Rt===void 0&&(Rt=lt,Vt=ct),lt===void 0&&Rt===void 0&&(Rt=Xt.width,Vt=Xt.height);var Zt=this.ctx.transform.decompose(),Ke=ft(Zt.rotate.shx),Te=new f,Ft=(Te=(Te=(Te=Te.multiply(Zt.translate)).multiply(Zt.skew)).multiply(Zt.scale)).applyToRectangle(new h(gt-K*ce,kt-J*tt,lt*ee,ct*te));if(this.autoPaging){for(var se,re=G.call(this,Ft),Ie=[],be=0;be<re.length;be+=1)Ie.indexOf(re[be])===-1&&Ie.push(re[be]);Z(Ie);for(var We=Ie[0],Ze=Ie[Ie.length-1],Be=We;Be<Ze+1;Be++){this.pdf.setPage(Be);var an=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=Be===1?this.posY+this.margin[0]:this.margin[0],ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ye=Be===1?0:ge+(Be-2)*He;if(this.ctx.clip_path.length!==0){var ui=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=st(se,this.posX+this.margin[3],-ye+Xe+this.ctx.prevPageLastElemOffset),bt.call(this,"fill",!0),this.path=ui}var $e=JSON.parse(JSON.stringify(Ft));$e=st([$e],this.posX+this.margin[3],-ye+Xe+this.ctx.prevPageLastElemOffset)[0];var Ne=(Be>We||Be<Ze)&&B.call(this);Ne&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],an,He,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,Ke),Ne&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(k,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,Ke)};var G=function(k,K,J){var lt=[];K=K||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ct=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":lt.push(Math.floor((k.y+ct)/J)+1);break;case"arc":lt.push(Math.floor((k.y+ct-k.radius)/J)+1),lt.push(Math.floor((k.y+ct+k.radius)/J)+1);break;case"qct":var gt=Ct(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);lt.push(Math.floor((gt.y+ct)/J)+1),lt.push(Math.floor((gt.y+gt.h+ct)/J)+1);break;case"bct":var kt=Ht(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);lt.push(Math.floor((kt.y+ct)/J)+1),lt.push(Math.floor((kt.y+kt.h+ct)/J)+1);break;case"rect":lt.push(Math.floor((k.y+ct)/J)+1),lt.push(Math.floor((k.y+k.h+ct)/J)+1)}for(var Rt=0;Rt<lt.length;Rt+=1)for(;this.pdf.internal.getNumberOfPages()<lt[Rt];)F.call(this);return lt},F=function(){var k=this.fillStyle,K=this.strokeStyle,J=this.font,lt=this.lineCap,ct=this.lineWidth,gt=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=K,this.font=J,this.lineCap=lt,this.lineWidth=ct,this.lineJoin=gt},st=function(k,K,J){for(var lt=0;lt<k.length;lt++)switch(k[lt].type){case"bct":k[lt].x2+=K,k[lt].y2+=J;case"qct":k[lt].x1+=K,k[lt].y1+=J;default:k[lt].x+=K,k[lt].y+=J}return k},Z=function(k){return k.sort(function(K,J){return K-J})},et=function(k,K){var J=this.fillStyle,lt=this.strokeStyle,ct=this.lineCap,gt=this.lineWidth,kt=Math.abs(gt*this.ctx.transform.scaleX),Rt=this.lineJoin;if(this.autoPaging){for(var Vt,Xt,ee=JSON.parse(JSON.stringify(this.path)),te=JSON.parse(JSON.stringify(this.path)),ce=[],tt=0;tt<te.length;tt++)if(te[tt].x!==void 0)for(var Zt=G.call(this,te[tt]),Ke=0;Ke<Zt.length;Ke+=1)ce.indexOf(Zt[Ke])===-1&&ce.push(Zt[Ke]);for(var Te=0;Te<ce.length;Te++)for(;this.pdf.internal.getNumberOfPages()<ce[Te];)F.call(this);Z(ce);for(var Ft=ce[0],se=ce[ce.length-1],re=Ft;re<se+1;re++){this.pdf.setPage(re),this.fillStyle=J,this.strokeStyle=lt,this.lineCap=ct,this.lineWidth=kt,this.lineJoin=Rt;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],be=re===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=re===1?0:We+(re-2)*Ze;if(this.ctx.clip_path.length!==0){var an=this.path;Vt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=st(Vt,this.posX+this.margin[3],-Be+be+this.ctx.prevPageLastElemOffset),bt.call(this,k,!0),this.path=an}if(Xt=JSON.parse(JSON.stringify(ee)),this.path=st(Xt,this.posX+this.margin[3],-Be+be+this.ctx.prevPageLastElemOffset),K===!1||re===0){var Xe=(re>Ft||re<se)&&B.call(this);Xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,Ze,null).clip().discardPath()),bt.call(this,k,K),Xe&&this.pdf.restoreGraphicsState()}this.lineWidth=gt}this.path=ee}else this.lineWidth=kt,bt.call(this,k,K),this.lineWidth=gt},bt=function(k,K){if((k!=="stroke"||K||!U.call(this))&&(k==="stroke"||K||!b.call(this))){for(var J,lt,ct=[],gt=this.path,kt=0;kt<gt.length;kt++){var Rt=gt[kt];switch(Rt.type){case"begin":ct.push({begin:!0});break;case"close":ct.push({close:!0});break;case"mt":ct.push({start:Rt,deltas:[],abs:[]});break;case"lt":var Vt=ct.length;if(gt[kt-1]&&!isNaN(gt[kt-1].x)&&(J=[Rt.x-gt[kt-1].x,Rt.y-gt[kt-1].y],Vt>0)){for(;Vt>=0;Vt--)if(ct[Vt-1].close!==!0&&ct[Vt-1].begin!==!0){ct[Vt-1].deltas.push(J),ct[Vt-1].abs.push(Rt);break}}break;case"bct":J=[Rt.x1-gt[kt-1].x,Rt.y1-gt[kt-1].y,Rt.x2-gt[kt-1].x,Rt.y2-gt[kt-1].y,Rt.x-gt[kt-1].x,Rt.y-gt[kt-1].y],ct[ct.length-1].deltas.push(J);break;case"qct":var Xt=gt[kt-1].x+2/3*(Rt.x1-gt[kt-1].x),ee=gt[kt-1].y+2/3*(Rt.y1-gt[kt-1].y),te=Rt.x+2/3*(Rt.x1-Rt.x),ce=Rt.y+2/3*(Rt.y1-Rt.y),tt=Rt.x,Zt=Rt.y;J=[Xt-gt[kt-1].x,ee-gt[kt-1].y,te-gt[kt-1].x,ce-gt[kt-1].y,tt-gt[kt-1].x,Zt-gt[kt-1].y],ct[ct.length-1].deltas.push(J);break;case"arc":ct.push({deltas:[],abs:[],arc:!0}),Array.isArray(ct[ct.length-1].abs)&&ct[ct.length-1].abs.push(Rt)}}lt=K?null:k==="stroke"?"stroke":"fill";for(var Ke=!1,Te=0;Te<ct.length;Te++)if(ct[Te].arc)for(var Ft=ct[Te].abs,se=0;se<Ft.length;se++){var re=Ft[se];re.type==="arc"?D.call(this,re.x,re.y,re.radius,re.startAngle,re.endAngle,re.counterclockwise,void 0,K,!Ke):C.call(this,re.x,re.y),Ke=!0}else if(ct[Te].close===!0)this.pdf.internal.out("h"),Ke=!1;else if(ct[Te].begin!==!0){var Ie=ct[Te].start.x,be=ct[Te].start.y;ot.call(this,ct[Te].deltas,Ie,be),Ke=!0}lt&&R.call(this,lt),K&&q.call(this)}},St=function(k){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-J;case"top":return k+K-J;case"hanging":return k+K-2*J;case"middle":return k+K/2-J;default:return k}},Y=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};S.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(K,J){this.colorStops.push([K,J])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},S.prototype.createPattern=function(){return this.createLinearGradient()},S.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(k,K,J,lt,ct,gt,kt,Rt,Vt){for(var Xt=at.call(this,J,lt,ct,gt),ee=0;ee<Xt.length;ee++){var te=Xt[ee];ee===0&&(Vt?N.call(this,te.x1+k,te.y1+K):C.call(this,te.x1+k,te.y1+K)),xt.call(this,k,K,te.x2,te.y2,te.x3,te.y3,te.x4,te.y4)}Rt?q.call(this):R.call(this,kt)},R=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(k,K){this.pdf.internal.out(e(k)+" "+r(K)+" m")},O=function(k){var K;switch(k.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var J,lt,ct,gt=this.pdf.getTextDimensions(k.text),kt=St.call(this,k.y),Rt=Y.call(this,kt)-gt.h,Vt=this.ctx.transform.applyToPoint(new c(k.x,kt));if(this.autoPaging){var Xt=this.ctx.transform.decompose(),ee=new f;ee=(ee=(ee=ee.multiply(Xt.translate)).multiply(Xt.skew)).multiply(Xt.scale);for(var te=this.ctx.transform.applyToRectangle(new h(k.x,kt,gt.w,gt.h)),ce=ee.applyToRectangle(new h(k.x,Rt,gt.w,gt.h)),tt=G.call(this,ce),Zt=[],Ke=0;Ke<tt.length;Ke+=1)Zt.indexOf(tt[Ke])===-1&&Zt.push(tt[Ke]);Z(Zt);for(var Te=Zt[0],Ft=Zt[Zt.length-1],se=Te;se<Ft+1;se++){this.pdf.setPage(se);var re=se===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],be=this.pdf.internal.pageSize.height-this.margin[2],We=be-this.margin[0],Ze=this.pdf.internal.pageSize.width-this.margin[1],Be=Ze-this.margin[3],an=se===1?0:Ie+(se-2)*We;if(this.ctx.clip_path.length!==0){var Xe=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=st(J,this.posX+this.margin[3],-1*an+re),bt.call(this,"fill",!0),this.path=Xe}var ge=st([JSON.parse(JSON.stringify(ce))],this.posX+this.margin[3],-an+re+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(lt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(lt*k.scale),ct=this.lineWidth,this.lineWidth=ct*k.scale);var He=this.autoPaging!=="text";if(He||ge.y+ge.h<=be){if(He||ge.y>=re&&ge.x<=Ze){var ye=He?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||Ze-ge.x)[0],ui=st([JSON.parse(JSON.stringify(te))],this.posX+this.margin[3],-an+re+this.ctx.prevPageLastElemOffset)[0],$e=He&&(se>Te||se<Ft)&&B.call(this);$e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,We,null).clip().discardPath()),this.pdf.text(ye,ui.x,ui.y,{angle:k.angle,align:K,renderingMode:k.renderingMode}),$e&&this.pdf.restoreGraphicsState()}}else ge.y<be&&(this.ctx.prevPageLastElemOffset+=be-ge.y);k.scale>=.01&&(this.pdf.setFontSize(lt),this.lineWidth=ct)}}else k.scale>=.01&&(lt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(lt*k.scale),ct=this.lineWidth,this.lineWidth=ct*k.scale),this.pdf.text(k.text,Vt.x+this.posX,Vt.y+this.posY,{angle:k.angle,align:K,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(lt),this.lineWidth=ct)},C=function(k,K,J,lt){J=J||0,lt=lt||0,this.pdf.internal.out(e(k+J)+" "+r(K+lt)+" l")},ot=function(k,K,J){return this.pdf.lines(k,K,J,null,null)},xt=function(k,K,J,lt,ct,gt,kt,Rt){this.pdf.internal.out([t(a(J+k)),t(o(lt+K)),t(a(ct+k)),t(o(gt+K)),t(a(kt+k)),t(o(Rt+K)),"c"].join(" "))},at=function(k,K,J,lt){for(var ct=2*Math.PI,gt=Math.PI/2;K>J;)K-=ct;var kt=Math.abs(J-K);kt<ct&&lt&&(kt=ct-kt);for(var Rt=[],Vt=lt?-1:1,Xt=K;kt>1e-5;){var ee=Xt+Vt*Math.min(kt,gt);Rt.push(pt.call(this,k,Xt,ee)),kt-=Math.abs(ee-Xt),Xt=ee}return Rt},pt=function(k,K,J){var lt=(J-K)/2,ct=k*Math.cos(lt),gt=k*Math.sin(lt),kt=ct,Rt=-gt,Vt=kt*kt+Rt*Rt,Xt=Vt+kt*ct+Rt*gt,ee=4/3*(Math.sqrt(2*Vt*Xt)-Xt)/(kt*gt-Rt*ct),te=kt-ee*Rt,ce=Rt+ee*kt,tt=te,Zt=-ce,Ke=lt+K,Te=Math.cos(Ke),Ft=Math.sin(Ke);return{x1:k*Math.cos(K),y1:k*Math.sin(K),x2:te*Te-ce*Ft,y2:te*Ft+ce*Te,x3:tt*Te-Zt*Ft,y3:tt*Ft+Zt*Te,x4:k*Math.cos(J),y4:k*Math.sin(J)}},ft=function(k){return 180*k/Math.PI},Ct=function(k,K,J,lt,ct,gt){var kt=k+.5*(J-k),Rt=K+.5*(lt-K),Vt=ct+.5*(J-ct),Xt=gt+.5*(lt-gt),ee=Math.min(k,ct,kt,Vt),te=Math.max(k,ct,kt,Vt),ce=Math.min(K,gt,Rt,Xt),tt=Math.max(K,gt,Rt,Xt);return new h(ee,ce,te-ee,tt-ce)},Ht=function(k,K,J,lt,ct,gt,kt,Rt){var Vt,Xt,ee,te,ce,tt,Zt,Ke,Te,Ft,se,re,Ie,be,We=J-k,Ze=lt-K,Be=ct-J,an=gt-lt,Xe=kt-ct,ge=Rt-gt;for(Xt=0;Xt<41;Xt++)Te=(Zt=(ee=k+(Vt=Xt/40)*We)+Vt*((ce=J+Vt*Be)-ee))+Vt*(ce+Vt*(ct+Vt*Xe-ce)-Zt),Ft=(Ke=(te=K+Vt*Ze)+Vt*((tt=lt+Vt*an)-te))+Vt*(tt+Vt*(gt+Vt*ge-tt)-Ke),Xt==0?(se=Te,re=Ft,Ie=Te,be=Ft):(se=Math.min(se,Te),re=Math.min(re,Ft),Ie=Math.max(Ie,Te),be=Math.max(be,Ft));return new h(Math.round(se),Math.round(re),Math.round(Ie-se),Math.round(be-re))},$=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,K,J=(k=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:K}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(xe.API),(function(n){var t=function(c){var h,f,m,v,S,x,b,U,B,G;for(f=[],m=0,v=(c+=h="\0\0\0\0".slice(c.length%4||4)).length;v>m;m+=4)(S=(c.charCodeAt(m)<<24)+(c.charCodeAt(m+1)<<16)+(c.charCodeAt(m+2)<<8)+c.charCodeAt(m+3))!==0?(x=(S=((S=((S=((S=(S-(G=S%85))/85)-(B=S%85))/85)-(U=S%85))/85)-(b=S%85))/85)%85,f.push(x+33,b+33,U+33,B+33,G+33)):f.push(122);return(function(F,st){for(var Z=st;Z>0;Z--)F.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},e=function(c){var h,f,m,v,S,x=String,b="length",U=255,B="charCodeAt",G="slice",F="replace";for(c[G](-2),c=c[G](0,-2)[F](/\s/g,"")[F]("z","!!!!!"),m=[],v=0,S=(c+=h="uuuuu"[G](c[b]%5||5))[b];S>v;v+=5)f=52200625*(c[B](v)-33)+614125*(c[B](v+1)-33)+7225*(c[B](v+2)-33)+85*(c[B](v+3)-33)+(c[B](v+4)-33),m.push(U&f>>24,U&f>>16,U&f>>8,U&f);return(function(st,Z){for(var et=Z;et>0;et--)st.pop()})(m,h[b]),x.fromCharCode.apply(x,m)},r=function(c){return c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),h.test(c)===!1)return"";for(var f="",m=0;m<c.length;m+=2)f+=String.fromCharCode("0x"+(c[m]+c[m+1]));return f},o=function(c){for(var h=new Uint8Array(c.length),f=c.length;f--;)h[f]=c.charCodeAt(f);return(h=p0(h)).reduce(function(m,v){return m+String.fromCharCode(v)},"")};n.processDataByFilters=function(c,h){var f=0,m=c||"",v=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":m=e(m),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=t(m),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=a(m),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=r(m),v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=o(m),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:m,reverseChain:v.reverse().join(" ")}}})(xe.API),(function(n){n.loadFile=function(t,e,r){return(function(a,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var h=void 0;try{h=(function(f,m,v){var S=new XMLHttpRequest,x=0,b=function(U){var B=U.length,G=[],F=String.fromCharCode;for(x=0;x<B;x+=1)G.push(F(255&U.charCodeAt(x)));return G.join("")};if(S.open("GET",f,!m),S.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(S.onload=function(){S.status===200?v(b(this.responseText)):v(void 0)}),S.send(null),m&&S.status===200)return b(S.responseText)})(a,o,c)}catch{}return h})(t,e,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(xe.API),(function(n){function t(){return(Ye.html2canvas?Promise.resolve(Ye.html2canvas):Mf(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function e(){return(Ye.DOMPurify?Promise.resolve(Ye.DOMPurify):Mf(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var r=function(h){var f=Qn(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(h,f){var m=document.createElement(h);for(var v in f.className&&(m.className=f.className),f.innerHTML&&f.dompurify&&(m.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)m.style[v]=f.style[v];return m},o=function h(f,m){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),S=f.firstChild;S;S=S.nextSibling)m!==!0&&S.nodeType===1&&S.nodeName==="SCRIPT"||v.appendChild(h(S,m));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v},c=function h(f){var m=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),v=h.convert(Promise.resolve(),m);return(v=v.setProgress(1,h,1,[h])).set(f)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(h,f){return h.__proto__=f||c.prototype,h},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(m){switch(r(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(e).then(function(m){return this.set({src:a("div",{innerHTML:h,dompurify:m})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},c.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(f){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,f(this.prop.container,m)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(f){var m=this.opt.jsPDF,v=this.opt.fontFaces,S=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:S,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=v,v)for(var b=0;b<v.length;++b){var U=v[b],B=U.src.find(function(G){return G.format==="truetype"});B&&m.addFont(B.url,U.ref.name,U.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,m.context2d.save(!0),f(this.prop.container,x)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(h,f,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},c.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},c.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},c.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(h){if(r(h)!=="object")return this;var f=Object.keys(h||{}).map(function(m){if(m in c.template.prop)return function(){this.prop[m]=h[m]};switch(m){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[m]=h[m]}}},this);return this.then(function(){return this.thenList(f)})},c.prototype.get=function(h,f){return this.then(function(){var m=h in c.template.prop?this.prop[h]:this.opt[h];return f?f(m):m})},c.prototype.setMargin=function(h){return this.then(function(){switch(r(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},c.prototype.setPageSize=function(h){function f(m,v){return Math.floor(m*v/72*96)}return this.then(function(){(h=h||xe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},c.prototype.setProgress=function(h,f,m,v){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),m!=null&&(this.progress.n=m),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(h,f,m,v){return this.setProgress(h?this.progress.val+h:null,f||null,m?this.progress.n+m:null,v?this.progress.stack.concat(v):null)},c.prototype.then=function(h,f){var m=this;return this.thenCore(h,f,function(v,S){return m.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(x){return m.updateProgress(null,v),x}).then(v,S).then(function(x){return m.updateProgress(1),x})})},c.prototype.thenCore=function(h,f,m){m=m||Promise.prototype.then;var v=this;h&&(h=h.bind(v)),f&&(f=f.bind(v));var S=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?v:c.convert(Object.assign({},v),Promise.prototype),x=m.call(S,h,f);return c.convert(x,v.__proto__)},c.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},c.prototype.thenList=function(h){var f=this;return h.forEach(function(m){f=f.thenCore(m)}),f},c.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return c.convert(f,this)},c.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},c.prototype.error=function(h){return this.then(function(){throw new Error(h)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,xe.getPageSize=function(h,f,m){if(Qn(h)==="object"){var v=h;h=v.orientation,f=v.unit||f,m=v.format||m}f=f||"mm",m=m||"a4",h=(""+(h||"P")).toLowerCase();var S,x=(""+m).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":S=1;break;case"mm":S=72/25.4;break;case"cm":S=72/2.54;break;case"in":S=72;break;case"px":S=.75;break;case"pc":case"em":S=12;break;case"ex":S=6;break;default:throw"Invalid unit: "+f}var U,B=0,G=0;if(b.hasOwnProperty(x))B=b[x][1]/S,G=b[x][0]/S;else try{B=m[1],G=m[0]}catch{throw new Error("Invalid format: "+m)}if(h==="p"||h==="portrait")h="p",G>B&&(U=G,G=B,B=U);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",B>G&&(U=G,G=B,B=U)}return{width:G,height:B,unit:f,k:S,orientation:h}},n.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(M1):null;var m=new c(f);return f.worker?m:m.from(h).doCallback()}})(xe.API),xe.API.addJS=function(n){var t,e,r=(function(a){for(var o="",c=0;c<a.length;c++){var h=a[c];if(h==="("||h===")"){for(var f=0,m=c-1;m>=0&&a[m]==="\\";m--)f++;o+=f%2==0?"\\"+h:h}else o+=h}return o})(n);return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&e!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},(function(n){var t;n.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=e.outline.render().split(/\r\n/),o=0;o<a.length;o++){var c=a[o],h=r.exec(c);if(h!=null){var f=h[1];e.internal.newObjectDeferredBegin(f,!1)}e.internal.write(c)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,v=[];for(o=0;o<m;o++){var S=e.internal.newObject();v.push(S);var x=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var b=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<v.length;o++)e.internal.write("(page_"+(o+1)+")"+v[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+b+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,a,o){var c={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(c),c},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var c=r.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var h=this.count=this.count_r({count:0},c);if(h>0&&this.line("/Count "+h),c.options&&c.options.pageNumber){var f=e.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var m=0;m<r.children.length;m++)this.renderItems(r.children[m])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])})(xe.API),(function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,r,a,o,c,h){var f,m=this.decode.DCT_DECODE,v=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=c||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,f=(function(S){for(var x,b=256*S.charCodeAt(4)+S.charCodeAt(5),U=S.length,B={width:0,height:0,numcomponents:1},G=4;G<U;G+=2){if(G+=b,t.indexOf(S.charCodeAt(G+1))!==-1){x=256*S.charCodeAt(G+5)+S.charCodeAt(G+6),B={width:256*S.charCodeAt(G+7)+S.charCodeAt(G+8),height:x,numcomponents:S.charCodeAt(G+9)};break}b=256*S.charCodeAt(G+2)+S.charCodeAt(G+3)}return B})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}v={data:e,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:m,index:r,alias:a}}return v}})(xe.API),xe.API.processPNG=function(n,t,e,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=q7(n,{checkCrc:!0}),c=o.width,h=o.height,f=o.channels,m=o.palette,v=o.depth;a=m&&f===1?(function(D){for(var R=D.width,q=D.height,N=D.data,O=D.palette,C=D.depth,ot=!1,xt=[],at=[],pt=void 0,ft=!1,Ct=0,Ht=0;Ht<O.length;Ht++){var $=j_(O[Ht],4),k=$[0],K=$[1],J=$[2],lt=$[3];xt.push(k,K,J),lt!=null&&(lt===0?(Ct++,at.length<1&&at.push(Ht)):lt<255&&(ft=!0))}if(ft||Ct>1){ot=!0,at=void 0;var ct=R*q;pt=new Uint8Array(ct);for(var gt=new DataView(N.buffer),kt=0;kt<ct;kt++){var Rt=U1(gt,kt,C),Vt=j_(O[Rt],4)[3];pt[kt]=Vt}}else Ct===0&&(at=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ot?8:void 0,colorBytes:N,alphaBytes:pt,needSMask:ot,palette:xt,mask:at}})(o):f===2||f===4?(function(D){for(var R=D.data,q=D.width,N=D.height,O=D.channels,C=D.depth,ot=O===2?"DeviceGray":"DeviceRGB",xt=O-1,at=q*N,pt=xt,ft=at*pt,Ct=1*at,Ht=Math.ceil(ft*C/8),$=Math.ceil(Ct*C/8),k=new Uint8Array(Ht),K=new Uint8Array($),J=new DataView(R.buffer),lt=new DataView(k.buffer),ct=new DataView(K.buffer),gt=!1,kt=0;kt<at;kt++){for(var Rt=kt*O,Vt=0;Vt<pt;Vt++)Bb(lt,U1(J,Rt+Vt,C),kt*pt+Vt,C);var Xt=U1(J,Rt+pt,C);Xt<(1<<C)-1&&(gt=!0),Bb(ct,Xt,1*kt,C)}return{colorSpace:ot,colorsPerPixel:xt,sMaskBitsPerComponent:gt?C:void 0,colorBytes:k,alphaBytes:K,needSMask:gt}})(o):(function(D){var R=D.data,q=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(N){for(var O=N.length,C=new Uint8Array(2*O),ot=new DataView(C.buffer,C.byteOffset,C.byteLength),xt=0;xt<O;xt++)ot.setUint16(2*xt,N[xt],!1);return C})(R):R,needSMask:!1}})(o);var S,x,b,U=a,B=U.colorSpace,G=U.colorsPerPixel,F=U.sMaskBitsPerComponent,st=U.colorBytes,Z=U.alphaBytes,et=U.needSMask,bt=U.palette,St=U.mask,Y=null;return r!==xe.API.image_compression.NONE&&typeof p0=="function"?(Y=(function(D){var R;switch(D){case xe.API.image_compression.FAST:R=11;break;case xe.API.image_compression.MEDIUM:R=13;break;case xe.API.image_compression.SLOW:R=14;break;default:R=12}return R})(r),S=this.decode.FLATE_DECODE,x="/Predictor ".concat(Y," /Colors ").concat(G," /BitsPerComponent ").concat(v," /Columns ").concat(c),n=Pb(st,Math.ceil(c*G*v/8),G,v,r),et&&(b=Pb(Z,Math.ceil(c*F/8),1,F,r))):(S=void 0,x=void 0,n=st,et&&(b=Z)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:e,data:n,index:t,filter:S,decodeParameters:x,transparency:St,palette:bt,sMask:b,predictor:Y,width:c,height:h,bitsPerComponent:v,sMaskBitsPerComponent:F,colorSpace:B}}},(function(n){n.processGIF89A=function(t,e,r,a){var o=new cL(t),c=o.width,h=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var m={data:f,width:c,height:h},v=new V1(100).encode(m,100);return n.processJPEG.call(this,v,e,r,a)},n.processGIF87A=n.processGIF89A})(xe.API),lo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},lo.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[n]()}catch(e){li.log("bit decode error:"+e)}},lo.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<t;a++)for(var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+8*a*4,h=0;h<8&&8*a+h<this.width;h++){var f=this.palette[o>>7-h&1];this.data[c+4*h]=f.blue,this.data[c+4*h+1]=f.green,this.data[c+4*h+2]=f.red,this.data[c+4*h+3]=255}e!==0&&(this.pos+=4-e)}},lo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+2*a*4,h=o>>4,f=15&o,m=this.palette[h];if(this.data[c]=m.blue,this.data[c+1]=m.green,this.data[c+2]=m.red,this.data[c+3]=255,2*a+1>=this.width)break;m=this.palette[f],this.data[c+4]=m.blue,this.data[c+4+1]=m.green,this.data[c+4+2]=m.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},lo.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;if(a<this.palette.length){var c=this.palette[a];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},lo.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,h=(o>>5&t)/t*255|0,f=(o>>10&t)/t*255|0,m=o>>15?255:0,v=r*this.width*4+4*a;this.data[v]=f,this.data[v+1]=h,this.data[v+2]=c,this.data[v+3]=m}this.pos+=n}},lo.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(c&t)/t*255|0,f=(c>>5&e)/e*255|0,m=(c>>11)/t*255|0,v=a*this.width*4+4*o;this.data[v]=m,this.data[v+1]=f,this.data[v+2]=h,this.data[v+3]=255}this.pos+=n}},lo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=255}this.pos+=this.width%4}},lo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),h=t*this.width*4+4*e;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=r,this.data[h+3]=c}},lo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(t,e,r,a){var o=new lo(t,!1),c=o.width,h=o.height,f={data:o.getData(),width:c,height:h},m=new V1(100).encode(f,100);return n.processJPEG.call(this,m,e,r,a)}})(xe.API),zb.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(t,e,r,a){var o=new zb(t),c=o.width,h=o.height,f={data:o.getData(),width:c,height:h},m=new V1(100).encode(f,100);return n.processJPEG.call(this,m,e,r,a)}})(xe.API),xe.API.processRGBA=function(n,t,e){for(var r=n.data,a=r.length,o=new Uint8Array(a/4*3),c=new Uint8Array(a/4),h=0,f=0,m=0;m<a;m+=4){var v=r[m],S=r[m+1],x=r[m+2],b=r[m+3];o[h++]=v,o[h++]=S,o[h++]=x,c[f++]=b}var U=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:U,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},xe.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},oh=xe.API,Ep=oh.getCharWidthsArray=function(n,t){var e,r,a=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),h=t.widths?t.widths:a.metadata.Unicode.widths,f=h.fof?h.fof:1,m=t.kerning?t.kerning:a.metadata.Unicode.kerning,v=m.fof?m.fof:1,S=t.doKerning!==!1,x=0,b=n.length,U=0,B=h[0]||f,G=[];for(e=0;e<b;e++)r=n.charCodeAt(e),typeof a.metadata.widthOfString=="function"?G.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+c*(1e3/o)||0)/1e3):(x=S&&Qn(m[r])==="object"&&!isNaN(parseInt(m[r][U],10))?m[r][U]/v:0,G.push((h[r]||B)/f+x)),U=r;return G},kb=oh.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return oh.processArabic&&(n=oh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,e,a)/e:Ep.apply(this,arguments).reduce(function(o,c){return o+c},0)},Ob=function(n,t,e,r){for(var a=[],o=0,c=n.length,h=0;o!==c&&h+t[o]<e;)h+=t[o],o++;a.push(n.slice(0,o));var f=o;for(h=0;o!==c;)h+t[o]>r&&(a.push(n.slice(f,o)),h=0,f=o),h+=t[o],o++;return f!==o&&a.push(n.slice(f,o)),a},Db=function(n,t,e){e||(e={});var r,a,o,c,h,f,m,v=[],S=[v],x=e.textIndent||0,b=0,U=0,B=n.split(" "),G=Ep.apply(this,[" ",e])[0];if(f=e.lineIndent===-1?B[0].length+2:e.lineIndent||0){var F=Array(f).join(" "),st=[];B.map(function(et){(et=et.split(/\s*\n/)).length>1?st=st.concat(et.map(function(bt,St){return(St&&bt.length?`
`:"")+bt})):st.push(et[0])}),B=st,f=kb.apply(this,[F,e])}for(o=0,c=B.length;o<c;o++){var Z=0;if(r=B[o],f&&r[0]==`
`&&(r=r.substr(1),Z=1),x+b+(U=(a=Ep.apply(this,[r,e])).reduce(function(et,bt){return et+bt},0))>t||Z){if(U>t){for(h=Ob.apply(this,[r,a,t-(x+b),t]),v.push(h.shift()),v=[h.pop()];h.length;)S.push([h.shift()]);U=a.slice(r.length-(v[0]?v[0].length:0)).reduce(function(et,bt){return et+bt},0)}else v=[r];S.push(v),x=U+f,b=G}else v.push(r),x+=b+U,b=G}return m=f?function(et,bt){return(bt?F:"")+et.join(" ")}:function(et){return et.join(" ")},S.map(m)},oh.splitTextToSize=function(n,t,e){var r,a=(e=e||{}).fontSize||this.internal.getFontSize(),o=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var S=this.internal.getFont(v.fontName,v.fontStyle),x="Unicode";return S.metadata[x]?{widths:S.metadata[x].widths||{0:1},kerning:S.metadata[x].kerning||{}}:{font:S.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/a;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=e.lineIndent;var h,f,m=[];for(h=0,f=r.length;h<f;h++)m=m.concat(Db.apply(this,[r[h],c,o]));return m},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",r={},a={},o=0;o<16;o++)r[e[o]]=t[o],a[t[o]]=e[o];var c=function(x){return"0x"+parseInt(x,10).toString(16)},h=n.__fontmetrics__.compress=function(x){var b,U,B,G,F=["{"];for(var st in x){if(b=x[st],isNaN(parseInt(st,10))?U="'"+st+"'":(st=parseInt(st,10),U=(U=c(st).slice(2)).slice(0,-1)+a[U.slice(-1)]),typeof b=="number")b<0?(B=c(b).slice(3),G="-"):(B=c(b).slice(2),G=""),B=G+B.slice(0,-1)+a[B.slice(-1)];else{if(Qn(b)!=="object")throw new Error("Don't know what to do with value type "+Qn(b)+".");B=h(b)}F.push(U+B)}return F.push("}"),F.join("")},f=n.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,U,B,G,F={},st=1,Z=F,et=[],bt="",St="",Y=x.length-1,D=1;D<Y;D+=1)(G=x[D])=="'"?b?(B=b.join(""),b=void 0):b=[]:b?b.push(G):G=="{"?(et.push([Z,B]),Z={},B=void 0):G=="}"?((U=et.pop())[0][U[1]]=Z,B=void 0,Z=U[0]):G=="-"?st=-1:B===void 0?r.hasOwnProperty(G)?(bt+=r[G],B=parseInt(bt,16)*st,st=1,bt=""):bt+=G:r.hasOwnProperty(G)?(St+=r[G],Z[B]=parseInt(St,16)*st,st=1,B=void 0,St=""):St+=G;return F},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},S={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(x){var b=x.font,U=S.Unicode[b.postScriptName];U&&(b.metadata.Unicode={},b.metadata.Unicode.widths=U.widths,b.metadata.Unicode.kerning=U.kerning);var B=v.Unicode[b.postScriptName];B&&(b.metadata.Unicode.encoding=B,b.encoding=B.codePages[0])}])})(xe.API),(function(n){var t=function(e){for(var r=e.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=e.charCodeAt(o);return a};n.API.events.push(["addFont",function(e){var r=void 0,a=e.font,o=e.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,h){h=/^\x00\x01\x00\x00/.test(h)?t(h):t(Pp(h)),c.metadata=n.API.TTFFont.open(h),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,r)}}])})(xe),xe.API.addSvgAsImage=function(n,t,e,r,a,o,c,h){if(isNaN(t)||isNaN(e))throw li.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw li.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=a;var m=f.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,f.width,f.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},S=this;return(Ye.canvg?Promise.resolve(Ye.canvg):Mf(()=>import("./index.es-CtQ8yshO.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(m,n,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(v)}).then(function(){S.addImage(f.toDataURL("image/jpeg",1),t,e,r,a,c,h)})},xe.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,e);return this},xe.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var r,a,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(c),f=[],m=0,v=0,S=0;function x(U,B){var G,F=!1;for(G=0;G<U.length;G+=1)U[G]===B&&(F=!0);return F}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var b=h.length;for(S=0;S<b;S+=1)e[h[S]].value=e[h[S]].defaultValue,e[h[S]].explicitSet=!1}if(Qn(n)==="object"){for(a in n)if(o=n[a],x(h,a)&&o!==void 0){if(e[a].type==="boolean"&&typeof o=="boolean")e[a].value=o;else if(e[a].type==="name"&&x(e[a].valueSet,o))e[a].value=o;else if(e[a].type==="integer"&&Number.isInteger(o))e[a].value=o;else if(e[a].type==="array"){for(m=0;m<o.length;m+=1)if(r=!0,o[m].length===1&&typeof o[m][0]=="number")f.push(String(o[m]-1));else if(o[m].length>1){for(v=0;v<o[m].length;v+=1)typeof o[m][v]!="number"&&(r=!1);r===!0&&f.push([o[m][0]-1,o[m][1]-1].join(" "))}e[a].value="["+f.join(" ")+"]"}else e[a].value=e[a].defaultValue;e[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var U,B=[];for(U in e)e[U].explicitSet===!0&&(e[U].type==="name"?B.push("/"+U+" /"+e[U].value):B.push("/"+U+" "+e[U].value));B.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+B.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},xe.API.addMetadata=function(n,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",fL),this.internal.events.subscribe("postPutResources",hL)),this},(function(n){var t=n.API,e=t.pdfEscape16=function(o,c){for(var h,f=c.metadata.Unicode.widths,m=["","0","00","000","0000"],v=[""],S=0,x=o.length;S<x;++S){if(h=c.metadata.characterToGlyph(o.charCodeAt(S)),c.metadata.glyIdsUsed.push(h),c.metadata.toUnicode[h]=o.charCodeAt(S),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(c.metadata.widthOfGlyph(h),10)])),h=="0")return v.join("");h=h.toString(16),v.push(m[4-h.length],h)}return v.join("")},r=function(o){var c,h,f,m,v,S,x;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],S=0,x=(h=Object.keys(o).sort(function(b,U){return b-U})).length;S<x;S++)c=h[S],f.length>=100&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(m=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),f.push("<"+c+"><"+m+">"));return f.length&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),v+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(c){var h=c.font,f=c.out,m=c.newObject,v=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var S=h.metadata.Unicode.widths,x=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),b="",U=0;U<x.length;U++)b+=String.fromCharCode(x[U]);var B=m();v({data:b,addLength1:!0,objectId:B}),f("endobj");var G=m();v({data:r(h.metadata.toUnicode),addLength1:!0,objectId:G}),f("endobj");var F=m();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+ph(h.fontName)),f("/FontFile2 "+B+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var st=m();f("<<"),f("/Type /Font"),f("/BaseFont /"+ph(h.fontName)),f("/FontDescriptor "+F+" 0 R"),f("/W "+n.API.PDFObject.convert(S)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=m(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+G+" 0 R"),f("/BaseFont /"+ph(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+st+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(c){var h=c.font,f=c.out,m=c.newObject,v=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var S=h.metadata.rawData,x="",b=0;b<S.length;b++)x+=String.fromCharCode(S[b]);var U=m();v({data:x,addLength1:!0,objectId:U}),f("endobj");var B=m();v({data:r(h.metadata.toUnicode),addLength1:!0,objectId:B}),f("endobj");var G=m();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+U+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+ph(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=m();for(var F=0;F<h.metadata.hmtx.widths.length;F++)h.metadata.hmtx.widths[F]=parseInt(h.metadata.hmtx.widths[F]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+B+" 0 R/BaseFont/"+ph(h.fontName)+"/FontDescriptor "+G+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]);var a=function(o){var c,h=o.text||"",f=o.x,m=o.y,v=o.options||{},S=o.mutex||{},x=S.pdfEscape,b=S.activeFontKey,U=S.fonts,B=b,G="",F=0,st="",Z=U[B].encoding;if(U[B].encoding!=="Identity-H")return{text:h,x:f,y:m,options:v,mutex:S};for(st=h,B=b,Array.isArray(h)&&(st=h[0]),F=0;F<st.length;F+=1)U[B].metadata.hasOwnProperty("cmap")&&(c=U[B].metadata.cmap.unicode.codeMap[st[F].charCodeAt(0)]),c||st[F].charCodeAt(0)<256&&U[B].metadata.hasOwnProperty("Unicode")?G+=st[F]:G+="";var et="";return parseInt(B.slice(1))<14||Z==="WinAnsiEncoding"?et=x(G,B).split("").map(function(bt){return bt.charCodeAt(0).toString(16)}).join(""):Z==="Identity-H"&&(et=e(G,U[B])),S.isHex=!0,{text:et,x:f,y:m,options:v,mutex:S}};t.events.push(["postProcessText",function(o){var c=o.text||"",h=[],f={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var m=0;for(m=0;m<c.length;m+=1)Array.isArray(c[m])&&c[m].length===3?h.push([a(Object.assign({},f,{text:c[m][0]})).text,c[m][1],c[m][2]]):h.push(a(Object.assign({},f,{text:c[m]})).text);o.text=h}else o.text=a(Object.assign({},f,{text:c})).text}])})(xe),(function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(xe.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,o,c,h,f,m,v,S=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],U={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},B={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},G=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],F=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),st=!1,Z=0;this.__bidiEngine__={};var et=function(N){var O=N.charCodeAt(),C=O>>8,ot=B[C];return ot!==void 0?S[256*ot+(255&O)]:C===252||C===253?"AL":F.test(C)?"L":C===8?"R":"N"},bt=function(N){for(var O,C=0;C<N.length;C++){if((O=et(N.charAt(C)))==="L")return!1;if(O==="R")return!0}return!1},St=function(N,O,C,ot){var xt,at,pt,ft,Ct=O[ot];switch(Ct){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":st=!1;break;case"N":case"AN":break;case"EN":st&&(Ct="AN");break;case"AL":st=!0,Ct="R";break;case"WS":case"BN":Ct="N";break;case"CS":ot<1||ot+1>=O.length||(xt=C[ot-1])!=="EN"&&xt!=="AN"||(at=O[ot+1])!=="EN"&&at!=="AN"?Ct="N":st&&(at="AN"),Ct=at===xt?at:"N";break;case"ES":Ct=(xt=ot>0?C[ot-1]:"B")==="EN"&&ot+1<O.length&&O[ot+1]==="EN"?"EN":"N";break;case"ET":if(ot>0&&C[ot-1]==="EN"){Ct="EN";break}if(st){Ct="N";break}for(pt=ot+1,ft=O.length;pt<ft&&O[pt]==="ET";)pt++;Ct=pt<ft&&O[pt]==="EN"?"EN":"N";break;case"NSM":if(c&&!h){for(ft=O.length,pt=ot+1;pt<ft&&O[pt]==="NSM";)pt++;if(pt<ft){var Ht=N[ot],$=Ht>=1425&&Ht<=2303||Ht===64286;if(xt=O[pt],$&&(xt==="R"||xt==="AL")){Ct="R";break}}}Ct=ot<1||(xt=O[ot-1])==="B"?"N":C[ot-1];break;case"B":st=!1,a=!0,Ct=Z;break;case"S":o=!0,Ct="N"}return Ct},Y=function(N,O,C){var ot=N.split("");return C&&D(ot,C,{hiLevel:Z}),ot.reverse(),O&&O.reverse(),ot.join("")},D=function(N,O,C){var ot,xt,at,pt,ft,Ct=-1,Ht=N.length,$=0,k=[],K=Z?b:x,J=[];for(st=!1,a=!1,o=!1,xt=0;xt<Ht;xt++)J[xt]=et(N[xt]);for(at=0;at<Ht;at++){if(ft=$,k[at]=St(N,J,k,at),ot=240&($=K[ft][U[k[at]]]),$&=15,O[at]=pt=K[$][5],ot>0)if(ot===16){for(xt=Ct;xt<at;xt++)O[xt]=1;Ct=-1}else Ct=-1;if(K[$][6])Ct===-1&&(Ct=at);else if(Ct>-1){for(xt=Ct;xt<at;xt++)O[xt]=pt;Ct=-1}J[at]==="B"&&(O[at]=0),C.hiLevel|=pt}o&&(function(lt,ct,gt){for(var kt=0;kt<gt;kt++)if(lt[kt]==="S"){ct[kt]=Z;for(var Rt=kt-1;Rt>=0&&lt[Rt]==="WS";Rt--)ct[Rt]=Z}})(J,O,Ht)},R=function(N,O,C,ot,xt){if(!(xt.hiLevel<N)){if(N===1&&Z===1&&!a)return O.reverse(),void(C&&C.reverse());for(var at,pt,ft,Ct,Ht=O.length,$=0;$<Ht;){if(ot[$]>=N){for(ft=$+1;ft<Ht&&ot[ft]>=N;)ft++;for(Ct=$,pt=ft-1;Ct<pt;Ct++,pt--)at=O[Ct],O[Ct]=O[pt],O[pt]=at,C&&(at=C[Ct],C[Ct]=C[pt],C[pt]=at);$=ft}$++}}},q=function(N,O,C){var ot=N.split(""),xt={hiLevel:Z};return C||(C=[]),D(ot,C,xt),(function(at,pt,ft){if(ft.hiLevel!==0&&v)for(var Ct,Ht=0;Ht<at.length;Ht++)pt[Ht]===1&&(Ct=G.indexOf(at[Ht]))>=0&&(at[Ht]=G[Ct+1])})(ot,C,xt),R(2,ot,O,C,xt),R(1,ot,O,C,xt),ot.join("")};return this.__bidiEngine__.doBidiReorder=function(N,O,C){if((function(xt,at){if(at)for(var pt=0;pt<xt.length;pt++)at[pt]=pt;h===void 0&&(h=bt(xt)),m===void 0&&(m=bt(xt))})(N,O),c||!f||m)if(c&&f&&h^m)Z=h?1:0,N=Y(N,O,C);else if(!c&&f&&m)Z=h?1:0,N=q(N,O,C),N=Y(N,O);else if(!c||h||f||m){if(c&&!f&&h^m)N=Y(N,O),h?(Z=0,N=q(N,O,C)):(Z=1,N=q(N,O,C),N=Y(N,O));else if(c&&h&&!f&&m)Z=1,N=q(N,O,C),N=Y(N,O);else if(!c&&!f&&h^m){var ot=v;h?(Z=1,N=q(N,O,C),Z=0,v=!1,N=q(N,O,C),v=ot):(Z=0,N=q(N,O,C),N=Y(N,O),Z=1,v=!1,N=q(N,O,C),v=ot,N=Y(N,O))}}else Z=0,N=q(N,O,C);else Z=h?1:0,N=q(N,O,C);return N},this.__bidiEngine__.setOptions=function(N){N&&(c=N.isInputVisual,f=N.isOutputVisual,h=N.isInputRtl,m=N.isOutputRtl,v=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var h=0;for(c=[],h=0;h<a.length;h+=1)Object.prototype.toString.call(a[h])==="[object Array]"?c.push([e.doBidiReorder(a[h][0]),a[h][1],a[h][2]]):c.push([e.doBidiReorder(a[h])]);r.text=c}else r.text=e.doBidiReorder(a);e.setOptions({isInputVisual:!0})}])})(xe),xe.API.TTFFont=(function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Pu(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new NL(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new dL(this.contents),this.head=new mL(this),this.name=new bL(this),this.cmap=new _A(this),this.toUnicode={},this.hhea=new gL(this),this.maxp=new wL(this),this.hmtx=new AL(this),this.post=new vL(this),this.os2=new yL(this),this.loca=new TL(this),this.glyf=new SL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,h,f,m;for(m=[],c=0,h=(f=this.bbox).length;c<h;c++)t=f[c],m.push(Math.round(t*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(e=a>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,r){var a,o,c,h;for(c=0,o=0,h=(t=""+t).length;0<=h?o<h:o>h;o=0<=h?++o:--o)a=t.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/e)||0;return c*(e/1e3)},n.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},n})();var yo,Pu=(function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(t){var e,r,a;for(a=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)a.push(this.writeByte(t.charCodeAt(e)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,r,a,o,c,h,f;return t=this.readByte(),e=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),h=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^c)+256*(255^h)+(255^f)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*a+16777216*o+65536*c+256*h+f},n.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},n.prototype.write=function(t){var e,r,a,o;for(o=[],r=0,a=t.length;r<a;r++)e=t[r],o.push(this.writeByte(e));return o},n})(),dL=(function(){var n;function t(e){var r,a,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,a,o,c,h,f,m,v,S,x,b,U,B;for(B in b=Object.keys(e).length,f=Math.log(2),S=16*Math.floor(Math.log(b)/f),c=Math.floor(S/f),v=16*b-S,(a=new Pu).writeInt(this.scalarType),a.writeShort(b),a.writeShort(S),a.writeShort(c),a.writeShort(v),o=16*b,m=a.pos+o,h=null,U=[],e)for(x=e[B],a.writeString(B),a.writeInt(n(x)),a.writeInt(m),a.writeInt(x.length),U=U.concat(x),B==="head"&&(h=m),m+=x.length;m%4;)U.push(0),m++;return a.write(U),r=2981146554-n(a.data),a.pos=h+8,a.writeUInt32(r),a.data},n=function(e){var r,a,o,c;for(e=bA.call(e);e.length%4;)e.push(0);for(o=new Pu(e),a=0,r=0,c=e.length;r<c;r=r+=4)a+=o.readUInt32();return 4294967295&a},t})(),pL={}.hasOwnProperty,Zo=function(n,t){for(var e in t)pL.call(t,e)&&(n[e]=t[e]);function r(){this.constructor=n}return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};yo=(function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var mL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,yo),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var e;return(e=new Pu).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},n})(),qb=(function(){function n(t,e){var r,a,o,c,h,f,m,v,S,x,b,U,B,G,F,st,Z;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),S=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(b=t.readUInt16(),x=b/2,t.pos+=6,o=(function(){var et,bt;for(bt=[],f=et=0;0<=x?et<x:et>x;f=0<=x?++et:--et)bt.push(t.readUInt16());return bt})(),t.pos+=2,B=(function(){var et,bt;for(bt=[],f=et=0;0<=x?et<x:et>x;f=0<=x?++et:--et)bt.push(t.readUInt16());return bt})(),m=(function(){var et,bt;for(bt=[],f=et=0;0<=x?et<x:et>x;f=0<=x?++et:--et)bt.push(t.readUInt16());return bt})(),v=(function(){var et,bt;for(bt=[],f=et=0;0<=x?et<x:et>x;f=0<=x?++et:--et)bt.push(t.readUInt16());return bt})(),a=(this.length-t.pos+this.offset)/2,h=(function(){var et,bt;for(bt=[],f=et=0;0<=a?et<a:et>a;f=0<=a?++et:--et)bt.push(t.readUInt16());return bt})(),f=F=0,Z=o.length;F<Z;f=++F)for(G=o[f],r=st=U=B[f];U<=G?st<=G:st>=G;r=U<=G?++st:--st)v[f]===0?c=r+m[f]:(c=h[v[f]/2+(r-U)-(x-f)]||0)!==0&&(c+=m[f]),this.codeMap[r]=65535&c}t.pos=S}return n.encode=function(t,e){var r,a,o,c,h,f,m,v,S,x,b,U,B,G,F,st,Z,et,bt,St,Y,D,R,q,N,O,C,ot,xt,at,pt,ft,Ct,Ht,$,k,K,J,lt,ct,gt,kt,Rt,Vt,Xt,ee;switch(ot=new Pu,c=Object.keys(t).sort(function(te,ce){return te-ce}),e){case"macroman":for(B=0,G=(function(){var te=[];for(U=0;U<256;++U)te.push(0);return te})(),st={0:0},o={},xt=0,Ct=c.length;xt<Ct;xt++)st[Rt=t[a=c[xt]]]==null&&(st[Rt]=++B),o[a]={old:t[a],new:st[t[a]]},G[a]=st[t[a]];return ot.writeUInt16(1),ot.writeUInt16(0),ot.writeUInt32(12),ot.writeUInt16(0),ot.writeUInt16(262),ot.writeUInt16(0),ot.write(G),{charMap:o,subtable:ot.data,maxGlyphID:B+1};case"unicode":for(O=[],S=[],Z=0,st={},r={},F=m=null,at=0,Ht=c.length;at<Ht;at++)st[bt=t[a=c[at]]]==null&&(st[bt]=++Z),r[a]={old:bt,new:st[bt]},h=st[bt]-a,F!=null&&h===m||(F&&S.push(F),O.push(a),m=h),F=a;for(F&&S.push(F),S.push(65535),O.push(65535),q=2*(R=O.length),D=2*Math.pow(Math.log(R)/Math.LN2,2),x=Math.log(D/2)/Math.LN2,Y=2*R-D,f=[],St=[],b=[],U=pt=0,$=O.length;pt<$;U=++pt){if(N=O[U],v=S[U],N===65535){f.push(0),St.push(0);break}if(N-(C=r[N].new)>=32768)for(f.push(0),St.push(2*(b.length+R-U)),a=ft=N;N<=v?ft<=v:ft>=v;a=N<=v?++ft:--ft)b.push(r[a].new);else f.push(C-N),St.push(0)}for(ot.writeUInt16(3),ot.writeUInt16(1),ot.writeUInt32(12),ot.writeUInt16(4),ot.writeUInt16(16+8*R+2*b.length),ot.writeUInt16(0),ot.writeUInt16(q),ot.writeUInt16(D),ot.writeUInt16(x),ot.writeUInt16(Y),gt=0,k=S.length;gt<k;gt++)a=S[gt],ot.writeUInt16(a);for(ot.writeUInt16(0),kt=0,K=O.length;kt<K;kt++)a=O[kt],ot.writeUInt16(a);for(Vt=0,J=f.length;Vt<J;Vt++)h=f[Vt],ot.writeUInt16(h);for(Xt=0,lt=St.length;Xt<lt;Xt++)et=St[Xt],ot.writeUInt16(et);for(ee=0,ct=b.length;ee<ct;ee++)B=b[ee],ot.writeUInt16(B);return{charMap:r,subtable:ot.data,maxGlyphID:Z+1}}},n})(),_A=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,yo),n.prototype.tag="cmap",n.prototype.parse=function(t){var e,r,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)e=new qb(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},n.encode=function(t,e){var r,a;return e==null&&(e="macroman"),r=qb.encode(t,e),(a=new Pu).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},n})(),gL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,yo),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n})(),yL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,yo),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,r;for(r=[],e=0;e<10;++e)r.push(t.readByte());return r})(),this.charRange=(function(){var e,r;for(r=[],e=0;e<4;++e)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,r;for(r=[],e=0;e<2;e=++e)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n})(),vL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,yo),n.prototype.tag="post",n.prototype.parse=function(t){var e,r,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)e=t.readByte(),a.push(this.names.push(t.readString(e)));return a;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var c,h,f;for(f=[],o=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;o=0<=h?++c:--c)f.push(t.readUInt32());return f}).call(this)}},n})(),_L=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},bL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,yo),n.prototype.tag="name",n.prototype.parse=function(t){var e,r,a,o,c,h,f,m,v,S,x;for(t.pos=this.offset,t.readShort(),e=t.readShort(),h=t.readShort(),r=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+h+t.readShort()});for(f={},o=v=0,S=r.length;v<S;o=++v)a=r[o],t.pos=a.offset,m=t.readString(a.length),c=new _L(m,a),f[x=a.nameID]==null&&(f[x]=[]),f[a.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),wL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,yo),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n})(),AL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,yo),n.prototype.tag="hmtx",n.prototype.parse=function(t){var e,r,a,o,c,h,f;for(t.pos=this.offset,this.metrics=[],e=0,h=this.file.hhea.numberOfMetrics;0<=h?e<h:e>h;e=0<=h?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var m,v;for(v=[],e=m=0;0<=a?m<a:m>a;e=0<=a?++m:--m)v.push(t.readInt16());return v})(),this.widths=(function(){var m,v,S,x;for(x=[],m=0,v=(S=this.metrics).length;m<v;m++)o=S[m],x.push(o.advance);return x}).call(this),r=this.widths[this.widths.length-1],f=[],e=c=0;0<=a?c<a:c>a;e=0<=a?++c:--c)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n})(),bA=[].slice,SL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,yo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var e,r,a,o,c,h,f,m,v,S;return t in this.cache?this.cache[t]:(o=this.file.loca,e=this.file.contents,r=o.indexOf(t),(a=o.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+r,c=(h=new Pu(e.read(a))).readShort(),m=h.readShort(),S=h.readShort(),f=h.readShort(),v=h.readShort(),this.cache[t]=c===-1?new xL(h,m,S,f,v):new EL(h,c,m,S,f,v),this.cache[t]))},n.prototype.encode=function(t,e,r){var a,o,c,h,f;for(c=[],o=[],h=0,f=e.length;h<f;h++)a=t[e[h]],o.push(c.length),a&&(c=c.concat(a.encode(r)));return o.push(c.length),{table:c,offsets:o}},n})(),EL=(function(){function n(t,e,r,a,o,c){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),xL=(function(){function n(t,e,r,a,o){var c,h;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;h=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&h;)c.pos+=1&h?4:2,128&h?c.pos+=8:64&h?c.pos+=4:8&h&&(c.pos+=2)}return n.prototype.encode=function(){var t,e,r;for(e=new Pu(bA.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},n})(),TL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zo(n,yo),n.prototype.tag="loca",n.prototype.parse=function(t){var e,r;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(t.readUInt32());return o}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,e){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,c=0;c<r.length;++c)if(r[c]=a,o<e.length&&e[o]==c){++o,r[c]=a;var h=this.offsets[c],f=this.offsets[c+1]-h;f>0&&(a+=f)}for(var m=new Array(4*r.length),v=0;v<r.length;++v)m[4*v+3]=255&r[v],m[4*v+2]=(65280&r[v])>>8,m[4*v+1]=(16711680&r[v])>>16,m[4*v]=(4278190080&r[v])>>24;return m},n})(),NL=(function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,a,o;for(e in a=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[e],t[e]=a[r];return t},n.prototype.glyphsFor=function(t){var e,r,a,o,c,h,f;for(a={},c=0,h=t.length;c<h;c++)a[o=t[c]]=this.font.glyf.glyphFor(o);for(o in e=[],a)(r=a[o])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(o in f=this.glyphsFor(e))r=f[o],a[o]=r;return a},n.prototype.encode=function(t,e){var r,a,o,c,h,f,m,v,S,x,b,U,B,G,F;for(a in r=_A.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),b={0:0},F=r.charMap)b[(f=F[a]).old]=f.new;for(U in x=r.maxGlyphID,c)U in b||(b[U]=x++);return v=(function(st){var Z,et;for(Z in et={},st)et[st[Z]]=Z;return et})(b),S=Object.keys(v).sort(function(st,Z){return st-Z}),B=(function(){var st,Z,et;for(et=[],st=0,Z=S.length;st<Z;st++)h=S[st],et.push(v[h]);return et})(),o=this.font.glyf.encode(c,B,b),m=this.font.loca.encode(o.offsets,B),G={cmap:this.font.cmap.raw(),glyf:o.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(G["OS/2"]=this.font.os2.raw()),this.font.directory.encode(G)},n})();xe.API.PDFObject=(function(){var n;function t(){}return n=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,a,o,c;if(Array.isArray(e))return"["+(function(){var h,f,m;for(m=[],h=0,f=e.length;h<f;h++)r=e[h],m.push(t.convert(r));return m})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(a in o=["<<"],e)c=e[a],o.push("/"+a+" "+t.convert(c));return o.push(">>"),o.join(`
`)}return""+e},t})();function IL(n,t){const e=new xe,r=e.internal.pageSize.getWidth(),a=20,o=r-a*2;let c=20;e.setFontSize(18),e.text("",r/2,c,{align:"center"}),c+=15,e.setFontSize(10),e.text(`${t.version} | ${t.updatedAt.split("T")[0]}`,r/2,c,{align:"center"}),c+=15,e.setFontSize(11);const f=e.splitTextToSize("",o);e.text(f,a,c),c+=f.length*6+2;const m=n.name||"__________",v=n.employmentType||"__________",S=n.contractStartDate||"__________",x=n.signedContractAt?new Date(n.signedContractAt).toLocaleDateString("zh-TW"):"__________";e.text(`${m}`,a,c),c+=10,e.text(` ${S}  ${v}`,a,c),c+=15,e.text("",a,c),c+=15;const b=t.content.replace(/<[^>]+>/g,"").split(`
`);for(const B of b)if(B.trim()){const G=e.splitTextToSize(B,o);for(const F of G)c>270&&(e.addPage(),c=20),e.text(F,a,c),c+=6;c+=2}c+=10,e.setFontSize(12),e.text("",a,c),c+=10,e.text(`${m}`,a,c),c+=10,e.text(`${x}`,a,c);const U=`_${m}_${x}.pdf`;e.save(U)}function CL(){const[n,t]=ne.useState(null),[e,r]=ne.useState([]),[a,o]=ne.useState(!1),[c,h]=ne.useState(""),[f,m]=ne.useState(!0),v=ne.useCallback(async()=>{m(!0);const[b,U]=await Promise.all([C3(),Bm()]);t(b),r(U),m(!1)},[]);ne.useEffect(()=>{v()},[v]);const S=async()=>{if(!n)return;const b={...n,content:c,version:n.version+1,updatedAt:new Date().toISOString()};await DC(b),t(b),o(!1),alert("v"+b.version)},x=e.filter(b=>b.role==="employee");return f?M.jsx("div",{className:"text-center py-12",children:M.jsx("p",{className:"text-gray-500",children:"..."})}):M.jsxs("div",{className:"space-y-6",children:[M.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[M.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[M.jsxs("div",{children:[M.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),M.jsxs("p",{className:"text-sm text-gray-500",children:[" ",n?.version," | ",n?.updatedAt?.split("T")[0]||"-"]})]}),a?M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{onClick:()=>{h(n?.content||""),o(!1)},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:""}),M.jsx("button",{onClick:S,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:""})]}):M.jsx("button",{onClick:()=>{h(n?.content||""),o(!0)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:""})]}),M.jsx("div",{className:"p-6",children:a?M.jsx("textarea",{value:c,onChange:b=>h(b.target.value),className:"w-full h-64 px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary font-mono text-sm"}):M.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:n?.content||""}})})]}),M.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[M.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[M.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),M.jsx("p",{className:"text-sm text-gray-500",children:""})]}),M.jsx("div",{className:"p-6",children:M.jsx("div",{className:"overflow-x-auto",children:M.jsxs("table",{className:"w-full",children:[M.jsx("thead",{children:M.jsxs("tr",{className:"border-b border-gray-200",children:[M.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),M.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),M.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),M.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),M.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:"PDF"})]})}),M.jsx("tbody",{children:x.map(b=>M.jsxs("tr",{className:"border-b border-gray-100",children:[M.jsx("td",{className:"py-3 px-4",children:M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("img",{src:b.avatar,alt:b.name,className:"w-8 h-8 rounded-full bg-gray-200"}),M.jsx("span",{className:"font-medium text-gray-900",children:b.name})]})}),M.jsx("td",{className:"py-3 px-4 text-gray-600",children:b.department}),M.jsx("td",{className:"py-3 px-4",children:b.signedContractAt?M.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[M.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),""]}):M.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:[M.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),""]})}),M.jsx("td",{className:"py-3 px-4 text-gray-600 text-sm",children:b.signedContractAt?new Date(b.signedContractAt).toLocaleString("zh-TW"):"-"}),M.jsx("td",{className:"py-3 px-4",children:b.signedContractAt&&n?M.jsxs("button",{onClick:()=>IL(b,n),className:"inline-flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-white bg-red-500 rounded-lg hover:bg-red-600",children:[M.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),""]}):"-"})]},b.id))})]})})})]})]})}const RL=["/","","","/"];function LL(){const[n,t]=ne.useState(null),{user:e,updateUser:r}=gd(),[a,o]=ne.useState(!1),[c,h]=ne.useState(!1),[f,m]=ne.useState(!0),[v,S]=ne.useState(""),[x,b]=ne.useState(""),[U,B]=ne.useState(!0),G=ne.useCallback(async()=>{B(!0);const Z=await C3();t(Z),o(!!e?.signedContractAt),S(e?.employmentType||""),b(e?.contractStartDate||""),B(!1)},[e]);ne.useEffect(()=>{G()},[G]);const F=async()=>{if(!e||!v||!x)return;const Z=new Date().toISOString(),et={...e,signedContractAt:Z,employmentType:v,contractStartDate:x};await r(et),o(!0)},st=()=>{if(!n)return"";let Z=n.content;if(e?.name&&(Z=Z.replace(" : ",` : <span class="highlight">${e.name}</span>`)),e?.name&&(Z=Z.replace("<strong></strong>____________",`<strong></strong><span class="highlight">${e.name}</span>`)),v&&(Z=Z.replace(" ____________",` <span class="highlight">${v}</span>`)),x&&(Z=Z.replace("   ",` <span class="highlight">${x}</span> `)),a||c){const et=new Date().toLocaleDateString("zh-TW"),bt="   ",St=Z.indexOf(bt);St!==-1&&(Z=Z.slice(0,St)+`<span class="highlight">${et}</span>`+Z.slice(St+bt.length))}return Z};return U||!n?null:M.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[M.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-yellow-50",children:M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),M.jsx("span",{className:"font-medium text-yellow-800",children:""})]})}),!a&&M.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-blue-50 space-y-4",children:[M.jsxs("div",{children:[M.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[M.jsx("span",{className:"text-red-500",children:"*"})," "]}),M.jsx("input",{type:"date",value:x,onChange:Z=>b(Z.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),M.jsxs("div",{children:[M.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[M.jsx("span",{className:"text-red-500",children:"*"})," "]}),M.jsx("div",{className:"grid grid-cols-2 gap-2",children:RL.map(Z=>M.jsxs("label",{className:`flex items-center gap-2 p-3 rounded-lg border cursor-pointer transition-colors ${v===Z?"border-primary bg-primary/10 text-primary":"border-gray-200 hover:border-gray-300"}`,children:[M.jsx("input",{type:"radio",name:"employmentType",value:Z,checked:v===Z,onChange:et=>S(et.target.value),className:"w-4 h-4 text-primary"}),M.jsx("span",{className:"text-sm",children:Z})]},Z))})]})]}),f&&M.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:M.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:st()}})}),a&&M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"mx-6 mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:M.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[M.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),M.jsxs("span",{className:"font-medium",children:[" ",new Date(e?.signedContractAt||"").toLocaleString("zh-TW")," ",e?.employmentType&&`${e.employmentType}`]})]})}),M.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:M.jsx("button",{onClick:()=>m(!f),className:"text-sm text-primary hover:underline",children:f?"":""})})]}),!a&&M.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:[M.jsxs("label",{className:"flex items-center gap-3 mb-4",children:[M.jsx("input",{type:"checkbox",checked:c,onChange:Z=>h(Z.target.checked),className:"w-4 h-4 text-primary"}),M.jsx("span",{className:"text-sm text-gray-600",children:""})]}),M.jsx("button",{onClick:F,disabled:!c||!v||!x,className:"w-full py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]})}const kL={pending:"bg-yellow-100 text-yellow-700",processing:"bg-blue-100 text-blue-700",completed:"bg-green-100 text-green-700"},OL={pending:"",processing:"",completed:""};function DL({userId:n,userName:t,isAdmin:e}){const[r,a]=ne.useState([]),[o,c]=ne.useState([]),[h,f]=ne.useState(!1),[m,v]=ne.useState("all"),[S,x]=ne.useState(!0),b=ne.useCallback(async()=>{x(!0);const[Z,et]=await Promise.all([LC(n,e),Bm()]);a(Z),c(et),x(!1)},[n,e]);ne.useEffect(()=>{b()},[b]);const U=async Z=>{await kC(Z),await b(),f(!1)},B=async(Z,et)=>{await OC(Z,et),await b()},G=Z=>Z.map(et=>o.find(bt=>bt.id===et)?.name||"").join(""),st=[...m==="my"?r.filter(Z=>Z.assignedTo.includes(n)):r].sort((Z,et)=>new Date(et.createdAt).getTime()-new Date(Z.createdAt).getTime());return S?M.jsx("div",{className:"text-center py-12",children:M.jsx("p",{className:"text-gray-500",children:"..."})}):M.jsxs("div",{children:[M.jsxs("div",{className:"flex items-center justify-between mb-6",children:[M.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:""}),M.jsxs("div",{className:"flex gap-3",children:[M.jsxs("select",{value:m,onChange:Z=>v(Z.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[M.jsx("option",{value:"all",children:""}),M.jsx("option",{value:"my",children:""})]}),e&&M.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:[M.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),""]})]})]}),st.length===0?M.jsx("div",{className:"text-center py-12 text-gray-500",children:M.jsx("p",{children:""})}):M.jsx("div",{className:"space-y-4",children:st.map(Z=>M.jsx(PL,{task:Z,isAdmin:e,currentUserId:n,currentUserName:t,onUpdate:B,getUserName:G},Z.id))}),h&&M.jsx(ML,{users:o.filter(Z=>Z.role==="employee"),onClose:()=>f(!1),onSubmit:U})]})}function PL({task:n,isAdmin:t,currentUserId:e,currentUserName:r,onUpdate:a,getUserName:o}){const[c,h]=ne.useState(!1),[f,m]=ne.useState(n.response),[v,S]=ne.useState(n.completionDate),x=t||n.assignedTo.includes(e),b=async()=>{await a(n.id,{response:f,responseBy:r,completionDate:v,status:f?"processing":n.status}),h(!1)};return M.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[M.jsxs("div",{className:"flex items-start justify-between mb-3",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${kL[n.status]}`,children:OL[n.status]}),M.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${n.source==="client"?"bg-purple-100 text-purple-700":n.source==="vendor"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"}`,children:n.source==="client"?"":n.source==="vendor"?"":n.source})]}),M.jsx("span",{className:"text-sm text-gray-400",children:new Date(n.createdAt).toLocaleDateString("zh-TW")})]}),M.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:n.title}),M.jsx("p",{className:"text-gray-600 text-sm mb-3",children:n.description}),(n.attachment||n.attachmentFile)&&M.jsxs("div",{className:"flex flex-col gap-2 text-sm text-gray-500 mb-3",children:[n.attachmentFile&&M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),M.jsx("a",{href:n.attachmentFile.url||n.attachmentFile.data,download:n.attachmentFile.name,className:"text-blue-600 hover:underline",children:n.attachmentFile.name}),M.jsxs("span",{className:"text-xs text-gray-400",children:["(",(n.attachmentFile.size/1024).toFixed(1)," KB)"]})]}),n.attachment&&M.jsxs("div",{className:"text-gray-500",children:["",n.attachment]})]}),M.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[M.jsxs("span",{children:["",M.jsx("span",{className:"font-medium text-gray-700",children:o(n.assignedTo)})]}),n.completionDate&&M.jsxs("span",{children:["",M.jsx("span",{className:"font-medium text-gray-700",children:n.completionDate})]})]}),n.response&&M.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg mb-3",children:[M.jsxs("p",{className:"text-xs text-gray-400 mb-1",children:[" - ",n.responseBy]}),M.jsx("p",{className:"text-gray-700 text-sm",children:n.response})]}),x&&M.jsx("div",{className:"border-t border-gray-100 pt-3 mt-3",children:c?M.jsxs("div",{className:"space-y-3",children:[M.jsx("textarea",{value:f,onChange:U=>m(U.target.value),placeholder:"...",rows:2,className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-primary"}),M.jsxs("div",{className:"flex gap-3",children:[M.jsx("input",{type:"date",value:v,onChange:U=>S(U.target.value),className:"px-3 py-1.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-primary"}),M.jsxs("select",{value:n.status,onChange:U=>a(n.id,{status:U.target.value}),className:"px-3 py-1.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-primary",children:[M.jsx("option",{value:"pending",children:""}),M.jsx("option",{value:"processing",children:""}),M.jsx("option",{value:"completed",children:""})]}),M.jsx("button",{onClick:b,className:"px-3 py-1.5 bg-primary text-white rounded-lg text-sm hover:bg-primary-dark",children:""})]})]}):M.jsx("button",{onClick:()=>h(!0),className:"text-sm text-primary hover:underline",children:""})})]})}function ML({users:n,onClose:t,onSubmit:e}){const[r,a]=ne.useState(""),[o,c]=ne.useState(""),[h,f]=ne.useState("client"),[m,v]=ne.useState(""),[S,x]=ne.useState(!1),[b,U]=ne.useState(""),[B,G]=ne.useState(null),[F,st]=ne.useState([]),[Z,et]=ne.useState(!1),bt=async R=>{if(R.preventDefault(),!r||!o||F.length===0)return;et(!0),await e({title:r,description:o,source:S?m:h,attachment:b,attachmentFile:B||void 0,assignedTo:F,response:"",completionDate:"",status:"pending"}),et(!1)},St=R=>{const q=R.target.files?.[0];if(!q)return;const N=2*1024*1024;if(q.size>N){alert(" 2MB");return}const O=new FileReader;O.onload=()=>{G({name:q.name,size:q.size,type:q.type,data:O.result})},O.readAsDataURL(q)},Y=()=>{G(null)},D=R=>{st(q=>q.includes(R)?q.filter(N=>N!==R):[...q,R])};return M.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[M.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),M.jsxs("div",{className:"relative bg-white rounded-xl w-full max-w-lg",children:[M.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[M.jsx("h2",{className:"text-lg font-semibold",children:""}),M.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600",children:M.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),M.jsxs("form",{onSubmit:bt,className:"p-6 space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsx("input",{type:"text",value:r,onChange:R=>a(R.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsx("textarea",{value:o,onChange:R=>c(R.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),M.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),S?M.jsx("input",{type:"text",value:m,onChange:R=>v(R.target.value),placeholder:"",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"}):M.jsxs("select",{value:h,onChange:R=>f(R.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[M.jsx("option",{value:"client",children:""}),M.jsx("option",{value:"vendor",children:""})]}),M.jsx("button",{type:"button",onClick:()=>x(!S),className:"text-xs text-primary mt-1 hover:underline",children:S?"":""})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsx("input",{type:"file",onChange:St,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary text-sm"}),B&&M.jsxs("div",{className:"mt-2 flex items-center justify-between bg-gray-50 px-3 py-2 rounded-lg",children:[M.jsx("span",{className:"text-sm text-gray-600 truncate",children:B.name}),M.jsx("button",{type:"button",onClick:Y,className:"text-red-500 text-sm hover:underline",children:""})]})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsx("input",{type:"text",value:b,onChange:R=>U(R.target.value),placeholder:"Email",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsx("div",{className:"grid grid-cols-2 gap-2 border border-gray-200 rounded-lg p-3 max-h-40 overflow-y-auto",children:n.map(R=>M.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[M.jsx("input",{type:"checkbox",checked:F.includes(R.id),onChange:()=>D(R.id),className:"w-4 h-4 text-primary rounded"}),M.jsxs("span",{className:"text-sm",children:[R.name," (",R.department,")"]})]},R.id))})]}),M.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[M.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg",children:""}),M.jsx("button",{type:"submit",disabled:Z,className:"px-4 py-2 bg-primary text-white rounded-lg disabled:opacity-50",children:Z?"...":""})]})]})]})]})}const jL=["","","","","","",""],UL=["/","","","/"];function VL(){const[n,t]=ne.useState([]),[e,r]=ne.useState(!0),[a,o]=ne.useState(!1),[c,h]=ne.useState(null),[f,m]=ne.useState({username:"",password:"",name:"",department:"",employmentType:""}),v=ne.useCallback(async()=>{r(!0);const b=await Bm();t(b.filter(U=>U.role==="employee")),r(!1)},[]);ne.useEffect(()=>{v()},[v]);const S=async()=>{if(!f.username||!f.password||!f.name){alert("");return}if(c){const b={...c,username:f.username,password:f.password,name:f.name,department:f.department,employmentType:f.employmentType};await C_(b)}else{const b={id:Date.now().toString(),username:f.username,password:f.password,name:f.name,role:"employee",avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${f.username}`,department:f.department,employmentType:f.employmentType};await C_(b)}await v(),o(!1),h(null),m({username:"",password:"",name:"",department:"",employmentType:""}),alert(c?"":"")},x=b=>{h(b),m({username:b.username,password:b.password,name:b.name,department:b.department,employmentType:b.employmentType||""}),o(!0)};return e?M.jsx("div",{className:"text-center py-12",children:M.jsx("p",{className:"text-gray-500",children:"..."})}):M.jsxs("div",{className:"space-y-6",children:[M.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[M.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[M.jsxs("div",{children:[M.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),M.jsx("p",{className:"text-sm text-gray-500",children:" Firebase Console /"})]}),M.jsx("button",{onClick:()=>{h(null),m({username:"",password:"",name:"",department:"",employmentType:""}),o(!0)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:"+ "})]}),M.jsx("div",{className:"p-6",children:M.jsxs("table",{className:"w-full",children:[M.jsx("thead",{children:M.jsxs("tr",{className:"border-b border-gray-200",children:[M.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),M.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),M.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),M.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),M.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),M.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""})]})}),M.jsx("tbody",{children:n.map(b=>M.jsxs("tr",{className:"border-b border-gray-100",children:[M.jsx("td",{className:"py-3 px-4",children:M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("img",{src:b.avatar,alt:b.name,className:"w-8 h-8 rounded-full bg-gray-200"}),M.jsx("span",{className:"font-medium text-gray-900",children:b.name})]})}),M.jsx("td",{className:"py-3 px-4 text-gray-600",children:b.username}),M.jsx("td",{className:"py-3 px-4 text-gray-600",children:b.department}),M.jsx("td",{className:"py-3 px-4 text-gray-600",children:b.employmentType||"-"}),M.jsx("td",{className:"py-3 px-4",children:b.signedContractAt?M.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:""}):M.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:""})}),M.jsx("td",{className:"py-3 px-4",children:M.jsx("div",{className:"flex gap-2",children:M.jsx("button",{onClick:()=>x(b),className:"px-3 py-1 text-xs text-blue-600 hover:bg-blue-50 rounded",children:""})})})]},b.id))})]})})]}),a&&M.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:M.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[M.jsx("h3",{className:"text-lg font-semibold mb-4",children:c?"":""}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{children:[M.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",M.jsx("span",{className:"text-red-500",children:"*"})]}),M.jsx("input",{type:"text",value:f.name,onChange:b=>m({...f,name:b.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),M.jsxs("div",{children:[M.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",M.jsx("span",{className:"text-red-500",children:"*"})]}),M.jsx("input",{type:"text",value:f.username,onChange:b=>m({...f,username:b.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),M.jsxs("div",{children:[M.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",M.jsx("span",{className:"text-red-500",children:"*"})]}),M.jsx("input",{type:"text",value:f.password,onChange:b=>m({...f,password:b.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsx("select",{value:f.department,onChange:b=>m({...f,department:b.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:jL.map(b=>M.jsx("option",{value:b,children:b},b))})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsx("select",{value:f.employmentType,onChange:b=>m({...f,employmentType:b.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:UL.map(b=>M.jsx("option",{value:b,children:b},b))})]})]}),M.jsxs("div",{className:"flex gap-3 mt-6",children:[M.jsx("button",{onClick:()=>{o(!1),h(null)},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:""}),M.jsx("button",{onClick:S,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:c?"":""})]})]})})]})}function BL(){const{user:n,updateUser:t}=gd(),[e,r]=ne.useState(n?.name||""),[a,o]=ne.useState(""),[c,h]=ne.useState(""),[f,m]=ne.useState("");if(!n)return null;const v=S=>{if(S.preventDefault(),m(""),!e.trim()){m("");return}if(a&&a.length<6){m("6");return}if(a!==c){m("");return}const x={...n,name:e.trim(),...a?{password:a}:{}};t(x),o(""),h(""),m("")};return M.jsx("div",{className:"max-w-md mx-auto",children:M.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[M.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:""}),M.jsxs("form",{onSubmit:v,className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsx("input",{type:"text",value:n.username,disabled:!0,className:"w-full px-4 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-500"}),M.jsx("p",{className:"text-xs text-gray-400 mt-1",children:""})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsx("input",{type:"text",value:e,onChange:S=>r(S.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsx("input",{type:"password",value:a,onChange:S=>o(S.target.value),placeholder:"",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsx("input",{type:"password",value:c,onChange:S=>h(S.target.value),placeholder:"",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),f&&M.jsx("p",{className:`text-sm ${f===""?"text-green-600":"text-red-600"}`,children:f}),M.jsx("button",{type:"submit",className:"w-full py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:""})]})]})})}function FL(){const{user:n,logout:t}=gd(),[e,r]=ne.useState("worklog");if(!n)return null;const a=n.role==="admin";return M.jsxs("div",{className:"min-h-screen bg-gray-50",children:[M.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:M.jsxs("div",{className:"flex items-center justify-between px-6 py-3",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:M.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),M.jsx("span",{className:"font-semibold text-gray-900",children:""})]}),M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("img",{src:n.avatar,alt:n.name,className:"w-8 h-8 rounded-full bg-gray-200"}),M.jsxs("div",{className:"text-right",children:[M.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.name}),M.jsx("p",{className:"text-xs text-gray-500",children:a?"":""})]})]}),M.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",title:"",children:M.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})}),M.jsx("nav",{className:"bg-white border-b border-gray-200",children:M.jsxs("div",{className:"flex px-6 gap-1",children:[M.jsx(lh,{active:e==="worklog",onClick:()=>r("worklog"),icon:M.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),children:""}),a?M.jsx(lh,{active:e==="contract",onClick:()=>r("contract"),icon:M.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),children:""}):M.jsx(lh,{active:e==="contract",onClick:()=>r("contract"),icon:M.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),children:""}),M.jsx(lh,{active:e==="tasks",onClick:()=>r("tasks"),icon:M.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),children:""}),a&&M.jsx(lh,{active:e==="employees",onClick:()=>r("employees"),icon:M.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),children:""}),M.jsx(lh,{active:e==="settings",onClick:()=>r("settings"),icon:M.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),children:""})]})}),M.jsxs("main",{className:"max-w-5xl mx-auto px-6 py-8",children:[e==="worklog"&&M.jsx(jC,{userId:n.id,isAdmin:a}),e==="contract"&&(a?M.jsx(CL,{}):M.jsx(LL,{})),e==="tasks"&&M.jsx(DL,{userId:n.id,userName:n.name,isAdmin:a}),e==="employees"&&a&&M.jsx(VL,{}),e==="settings"&&M.jsx(BL,{})]})]})}function lh({active:n,onClick:t,children:e,icon:r}){return M.jsxs("button",{onClick:t,className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${n?"text-primary border-primary":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"}`,children:[r,e]})}function zL(){const{user:n,loading:t}=gd();return t?M.jsx("div",{className:"min-h-screen flex items-center justify-center",children:M.jsx("div",{className:"text-gray-500",children:"..."})}):n?M.jsx(FL,{}):M.jsx(NC,{})}function qL(){return M.jsx(TC,{children:M.jsx(zL,{})})}jS.createRoot(document.getElementById("root")).render(M.jsx(ne.StrictMode,{children:M.jsx(qL,{})}));export{Qn as _};
