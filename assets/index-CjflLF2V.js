(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var W2={exports:{}},bp={};var qw;function $6(){if(qw)return bp;qw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return bp.Fragment=e,bp.jsx=t,bp.jsxs=t,bp}var zw;function W6(){return zw||(zw=1,W2.exports=$6()),W2.exports}var D=W6(),Y2={exports:{}},an={};var Hw;function Y6(){if(Hw)return an;Hw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),E=Symbol.iterator;function w(Z){return Z===null||typeof Z!="object"?null:(Z=E&&Z[E]||Z["@@iterator"],typeof Z=="function"?Z:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,B={};function k(Z,P,W){this.props=Z,this.context=P,this.refs=B,this.updater=W||j}k.prototype.isReactComponent={},k.prototype.setState=function(Z,P){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,P,"setState")},k.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function te(){}te.prototype=k.prototype;function $(Z,P,W){this.props=Z,this.context=P,this.refs=B,this.updater=W||j}var J=$.prototype=new te;J.constructor=$,V(J,k.prototype),J.isPureReactComponent=!0;var ge=Array.isArray;function ve(){}var z={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function C(Z,P,W){var ee=W.ref;return{$$typeof:n,type:Z,key:P,ref:ee!==void 0?ee:null,props:W}}function G(Z,P){return C(Z.type,P,Z.props)}function x(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===n}function O(Z){var P={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(W){return P[W]})}var R=/\/+/g;function oe(Z,P){return typeof Z=="object"&&Z!==null&&Z.key!=null?O(""+Z.key):P.toString(36)}function Ie(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(ve,ve):(Z.status="pending",Z.then(function(P){Z.status==="pending"&&(Z.status="fulfilled",Z.value=P)},function(P){Z.status==="pending"&&(Z.status="rejected",Z.reason=P)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function ae(Z,P,W,ee,le){var ce=typeof Z;(ce==="undefined"||ce==="boolean")&&(Z=null);var ye=!1;if(Z===null)ye=!0;else switch(ce){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(Z.$$typeof){case n:case e:ye=!0;break;case g:return ye=Z._init,ae(ye(Z._payload),P,W,ee,le)}}if(ye)return le=le(Z),ye=ee===""?"."+oe(Z,0):ee,ge(le)?(W="",ye!=null&&(W=ye.replace(R,"$&/")+"/"),ae(le,P,W,"",function(Be){return Be})):le!=null&&(x(le)&&(le=G(le,W+(le.key==null||Z&&Z.key===le.key?"":(""+le.key).replace(R,"$&/")+"/")+ye)),P.push(le)),1;ye=0;var De=ee===""?".":ee+":";if(ge(Z))for(var ke=0;ke<Z.length;ke++)ee=Z[ke],ce=De+oe(ee,ke),ye+=ae(ee,P,W,ce,le);else if(ke=w(Z),typeof ke=="function")for(Z=ke.call(Z),ke=0;!(ee=Z.next()).done;)ee=ee.value,ce=De+oe(ee,ke++),ye+=ae(ee,P,W,ce,le);else if(ce==="object"){if(typeof Z.then=="function")return ae(Ie(Z),P,W,ee,le);throw P=String(Z),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ye}function pe(Z,P,W){if(Z==null)return Z;var ee=[],le=0;return ae(Z,ee,"","",function(ce){return P.call(W,ce,le++)}),ee}function fe(Z){if(Z._status===-1){var P=Z._result;P=P(),P.then(function(W){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=W)},function(W){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=W)}),Z._status===-1&&(Z._status=0,Z._result=P)}if(Z._status===1)return Z._result.default;throw Z._result}var Le=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},Ke={map:pe,forEach:function(Z,P,W){pe(Z,function(){P.apply(this,arguments)},W)},count:function(Z){var P=0;return pe(Z,function(){P++}),P},toArray:function(Z){return pe(Z,function(P){return P})||[]},only:function(Z){if(!x(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return an.Activity=b,an.Children=Ke,an.Component=k,an.Fragment=t,an.Profiler=s,an.PureComponent=$,an.StrictMode=r,an.Suspense=f,an.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,an.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return z.H.useMemoCache(Z)}},an.cache=function(Z){return function(){return Z.apply(null,arguments)}},an.cacheSignal=function(){return null},an.cloneElement=function(Z,P,W){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var ee=V({},Z.props),le=Z.key;if(P!=null)for(ce in P.key!==void 0&&(le=""+P.key),P)!M.call(P,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&P.ref===void 0||(ee[ce]=P[ce]);var ce=arguments.length-2;if(ce===1)ee.children=W;else if(1<ce){for(var ye=Array(ce),De=0;De<ce;De++)ye[De]=arguments[De+2];ee.children=ye}return C(Z.type,le,ee)},an.createContext=function(Z){return Z={$$typeof:u,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:o,_context:Z},Z},an.createElement=function(Z,P,W){var ee,le={},ce=null;if(P!=null)for(ee in P.key!==void 0&&(ce=""+P.key),P)M.call(P,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(le[ee]=P[ee]);var ye=arguments.length-2;if(ye===1)le.children=W;else if(1<ye){for(var De=Array(ye),ke=0;ke<ye;ke++)De[ke]=arguments[ke+2];le.children=De}if(Z&&Z.defaultProps)for(ee in ye=Z.defaultProps,ye)le[ee]===void 0&&(le[ee]=ye[ee]);return C(Z,ce,le)},an.createRef=function(){return{current:null}},an.forwardRef=function(Z){return{$$typeof:c,render:Z}},an.isValidElement=x,an.lazy=function(Z){return{$$typeof:g,_payload:{_status:-1,_result:Z},_init:fe}},an.memo=function(Z,P){return{$$typeof:d,type:Z,compare:P===void 0?null:P}},an.startTransition=function(Z){var P=z.T,W={};z.T=W;try{var ee=Z(),le=z.S;le!==null&&le(W,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(ve,Le)}catch(ce){Le(ce)}finally{P!==null&&W.types!==null&&(P.types=W.types),z.T=P}},an.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},an.use=function(Z){return z.H.use(Z)},an.useActionState=function(Z,P,W){return z.H.useActionState(Z,P,W)},an.useCallback=function(Z,P){return z.H.useCallback(Z,P)},an.useContext=function(Z){return z.H.useContext(Z)},an.useDebugValue=function(){},an.useDeferredValue=function(Z,P){return z.H.useDeferredValue(Z,P)},an.useEffect=function(Z,P){return z.H.useEffect(Z,P)},an.useEffectEvent=function(Z){return z.H.useEffectEvent(Z)},an.useId=function(){return z.H.useId()},an.useImperativeHandle=function(Z,P,W){return z.H.useImperativeHandle(Z,P,W)},an.useInsertionEffect=function(Z,P){return z.H.useInsertionEffect(Z,P)},an.useLayoutEffect=function(Z,P){return z.H.useLayoutEffect(Z,P)},an.useMemo=function(Z,P){return z.H.useMemo(Z,P)},an.useOptimistic=function(Z,P){return z.H.useOptimistic(Z,P)},an.useReducer=function(Z,P,W){return z.H.useReducer(Z,P,W)},an.useRef=function(Z){return z.H.useRef(Z)},an.useState=function(Z){return z.H.useState(Z)},an.useSyncExternalStore=function(Z,P,W){return z.H.useSyncExternalStore(Z,P,W)},an.useTransition=function(){return z.H.useTransition()},an.version="19.2.4",an}var Gw;function V_(){return Gw||(Gw=1,Y2.exports=Y6()),Y2.exports}var tt=V_(),Q2={exports:{}},wp={},X2={exports:{}},J2={};var Kw;function Q6(){return Kw||(Kw=1,(function(n){function e(ae,pe){var fe=ae.length;ae.push(pe);e:for(;0<fe;){var Le=fe-1>>>1,Ke=ae[Le];if(0<s(Ke,pe))ae[Le]=pe,ae[fe]=Ke,fe=Le;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var pe=ae[0],fe=ae.pop();if(fe!==pe){ae[0]=fe;e:for(var Le=0,Ke=ae.length,Z=Ke>>>1;Le<Z;){var P=2*(Le+1)-1,W=ae[P],ee=P+1,le=ae[ee];if(0>s(W,fe))ee<Ke&&0>s(le,W)?(ae[Le]=le,ae[ee]=fe,Le=ee):(ae[Le]=W,ae[P]=fe,Le=P);else if(ee<Ke&&0>s(le,fe))ae[Le]=le,ae[ee]=fe,Le=ee;else break e}}return pe}function s(ae,pe){var fe=ae.sortIndex-pe.sortIndex;return fe!==0?fe:ae.id-pe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],d=[],g=1,b=null,E=3,w=!1,j=!1,V=!1,B=!1,k=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function J(ae){for(var pe=t(d);pe!==null;){if(pe.callback===null)r(d);else if(pe.startTime<=ae)r(d),pe.sortIndex=pe.expirationTime,e(f,pe);else break;pe=t(d)}}function ge(ae){if(V=!1,J(ae),!j)if(t(f)!==null)j=!0,ve||(ve=!0,O());else{var pe=t(d);pe!==null&&Ie(ge,pe.startTime-ae)}}var ve=!1,z=-1,M=5,C=-1;function G(){return B?!0:!(n.unstable_now()-C<M)}function x(){if(B=!1,ve){var ae=n.unstable_now();C=ae;var pe=!0;try{e:{j=!1,V&&(V=!1,te(z),z=-1),w=!0;var fe=E;try{t:{for(J(ae),b=t(f);b!==null&&!(b.expirationTime>ae&&G());){var Le=b.callback;if(typeof Le=="function"){b.callback=null,E=b.priorityLevel;var Ke=Le(b.expirationTime<=ae);if(ae=n.unstable_now(),typeof Ke=="function"){b.callback=Ke,J(ae),pe=!0;break t}b===t(f)&&r(f),J(ae)}else r(f);b=t(f)}if(b!==null)pe=!0;else{var Z=t(d);Z!==null&&Ie(ge,Z.startTime-ae),pe=!1}}break e}finally{b=null,E=fe,w=!1}pe=void 0}}finally{pe?O():ve=!1}}}var O;if(typeof $=="function")O=function(){$(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,oe=R.port2;R.port1.onmessage=x,O=function(){oe.postMessage(null)}}else O=function(){k(x,0)};function Ie(ae,pe){z=k(function(){ae(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(ae){switch(E){case 1:case 2:case 3:var pe=3;break;default:pe=E}var fe=E;E=pe;try{return ae()}finally{E=fe}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(ae,pe){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var fe=E;E=ae;try{return pe()}finally{E=fe}},n.unstable_scheduleCallback=function(ae,pe,fe){var Le=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Le+fe:Le):fe=Le,ae){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=fe+Ke,ae={id:g++,callback:pe,priorityLevel:ae,startTime:fe,expirationTime:Ke,sortIndex:-1},fe>Le?(ae.sortIndex=fe,e(d,ae),t(f)===null&&ae===t(d)&&(V?(te(z),z=-1):V=!0,Ie(ge,fe-Le))):(ae.sortIndex=Ke,e(f,ae),j||w||(j=!0,ve||(ve=!0,O()))),ae},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(ae){var pe=E;return function(){var fe=E;E=pe;try{return ae.apply(this,arguments)}finally{E=fe}}}})(J2)),J2}var $w;function X6(){return $w||($w=1,X2.exports=Q6()),X2.exports}var Z2={exports:{}},Rs={};var Ww;function J6(){if(Ww)return Rs;Ww=1;var n=V_();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Rs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Rs.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,g)},Rs.flushSync=function(f){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=g,r.d.f()}},Rs.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Rs.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Rs.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,b=c(g,d.crossOrigin),E=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:w}):g==="script"&&r.d.X(f,{crossOrigin:b,integrity:E,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Rs.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Rs.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,b=c(g,d.crossOrigin);r.d.L(f,g,{crossOrigin:b,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Rs.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Rs.requestFormReset=function(f){r.d.r(f)},Rs.unstable_batchedUpdates=function(f,d){return f(d)},Rs.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},Rs.useFormStatus=function(){return u.H.useHostTransitionStatus()},Rs.version="19.2.4",Rs}var Yw;function Z6(){if(Yw)return Z2.exports;Yw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Z2.exports=J6(),Z2.exports}var Qw;function eR(){if(Qw)return wp;Qw=1;var n=X6(),e=V_(),t=Z6();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,h=a;;){var y=l.return;if(y===null)break;var v=y.alternate;if(v===null){if(h=y.return,h!==null){l=h;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===l)return f(y),i;if(v===h)return f(y),a;v=v.sibling}throw Error(r(188))}if(l.return!==h.return)l=y,h=v;else{for(var N=!1,K=y.child;K;){if(K===l){N=!0,l=y,h=v;break}if(K===h){N=!0,h=y,l=v;break}K=K.sibling}if(!N){for(K=v.child;K;){if(K===l){N=!0,l=v,h=y;break}if(K===h){N=!0,h=v,l=y;break}K=K.sibling}if(!N)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),$=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function O(i){return i===null||typeof i!="object"?null:(i=x&&i[x]||i["@@iterator"],typeof i=="function"?i:null)}var R=Symbol.for("react.client.reference");function oe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===R?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case k:return"Profiler";case B:return"StrictMode";case ge:return"Suspense";case ve:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case $:return i.displayName||"Context";case te:return(i._context.displayName||"Context")+".Consumer";case J:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case z:return a=i.displayName||null,a!==null?a:oe(i.type)||"Memo";case M:a=i._payload,i=i._init;try{return oe(i(a))}catch{}}return null}var Ie=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Le=[],Ke=-1;function Z(i){return{current:i}}function P(i){0>Ke||(i.current=Le[Ke],Le[Ke]=null,Ke--)}function W(i,a){Ke++,Le[Ke]=i.current,i.current=a}var ee=Z(null),le=Z(null),ce=Z(null),ye=Z(null);function De(i,a){switch(W(ce,a),W(le,i),W(ee,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?hw(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=hw(a),i=fw(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}P(ee),W(ee,i)}function ke(){P(ee),P(le),P(ce)}function Be(i){i.memoizedState!==null&&W(ye,i);var a=ee.current,l=fw(a,i.type);a!==l&&(W(le,i),W(ee,l))}function Je(i){le.current===i&&(P(ee),P(le)),ye.current===i&&(P(ye),gp._currentValue=fe)}var ot,at;function pt(i){if(ot===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ot=a&&a[1]||"",at=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+i+at}var ne=!1;function it(i,a){if(!i||ne)return"";ne=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var $e=function(){throw Error()};if(Object.defineProperty($e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($e,[])}catch(Me){var Oe=Me}Reflect.construct(i,[],$e)}else{try{$e.call()}catch(Me){Oe=Me}i.call($e.prototype)}}else{try{throw Error()}catch(Me){Oe=Me}($e=i())&&typeof $e.catch=="function"&&$e.catch(function(){})}}catch(Me){if(Me&&Oe&&typeof Me.stack=="string")return[Me.stack,Oe.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),N=v[0],K=v[1];if(N&&K){var ue=N.split(`
`),Re=K.split(`
`);for(y=h=0;h<ue.length&&!ue[h].includes("DetermineComponentFrameRoot");)h++;for(;y<Re.length&&!Re[y].includes("DetermineComponentFrameRoot");)y++;if(h===ue.length||y===Re.length)for(h=ue.length-1,y=Re.length-1;1<=h&&0<=y&&ue[h]!==Re[y];)y--;for(;1<=h&&0<=y;h--,y--)if(ue[h]!==Re[y]){if(h!==1||y!==1)do if(h--,y--,0>y||ue[h]!==Re[y]){var Fe=`
`+ue[h].replace(" at new "," at ");return i.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",i.displayName)),Fe}while(1<=h&&0<=y);break}}}finally{ne=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?pt(l):""}function Jt(i,a){switch(i.tag){case 26:case 27:case 5:return pt(i.type);case 16:return pt("Lazy");case 13:return i.child!==a&&a!==null?pt("Suspense Fallback"):pt("Suspense");case 19:return pt("SuspenseList");case 0:case 15:return it(i.type,!1);case 11:return it(i.type.render,!1);case 1:return it(i.type,!0);case 31:return pt("Activity");default:return""}}function Pt(i){try{var a="",l=null;do a+=Jt(i,l),l=i,i=i.return;while(i);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var ze=Object.prototype.hasOwnProperty,ut=n.unstable_scheduleCallback,lt=n.unstable_cancelCallback,Ot=n.unstable_shouldYield,It=n.unstable_requestPaint,Zt=n.unstable_now,rn=n.unstable_getCurrentPriorityLevel,Kt=n.unstable_ImmediatePriority,cn=n.unstable_UserBlockingPriority,tn=n.unstable_NormalPriority,wt=n.unstable_LowPriority,Yt=n.unstable_IdlePriority,At=n.log,_r=n.unstable_setDisableYieldValue,nn=null,Dt=null;function zt(i){if(typeof At=="function"&&_r(i),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(nn,i)}catch{}}var en=Math.clz32?Math.clz32:Bt,Rt=Math.log,Dn=Math.LN2;function Bt(i){return i>>>=0,i===0?32:31-(Rt(i)/Dn|0)|0}var qt=256,Vn=262144,xt=4194304;function Et(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function hn(i,a,l){var h=i.pendingLanes;if(h===0)return 0;var y=0,v=i.suspendedLanes,N=i.pingedLanes;i=i.warmLanes;var K=h&134217727;return K!==0?(h=K&~v,h!==0?y=Et(h):(N&=K,N!==0?y=Et(N):l||(l=K&~i,l!==0&&(y=Et(l))))):(K=h&~v,K!==0?y=Et(K):N!==0?y=Et(N):l||(l=h&~i,l!==0&&(y=Et(l)))),y===0?0:a!==0&&a!==y&&(a&v)===0&&(v=y&-y,l=a&-a,v>=l||v===32&&(l&4194048)!==0)?a:y}function Ii(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function mi(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qs(){var i=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),i}function si(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Ct(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ia(i,a,l,h,y,v){var N=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var K=i.entanglements,ue=i.expirationTimes,Re=i.hiddenUpdates;for(l=N&~l;0<l;){var Fe=31-en(l),$e=1<<Fe;K[Fe]=0,ue[Fe]=-1;var Oe=Re[Fe];if(Oe!==null)for(Re[Fe]=null,Fe=0;Fe<Oe.length;Fe++){var Me=Oe[Fe];Me!==null&&(Me.lane&=-536870913)}l&=~$e}h!==0&&os(i,h,0),v!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=v&~(N&~a))}function os(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-en(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function qi(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var h=31-en(l),y=1<<h;y&a|i[h]&a&&(i[h]|=a),l&=~y}}function zi(i,a){var l=a&-a;return l=(l&42)!==0?1:Kn(l),(l&(i.suspendedLanes|a))!==0?0:l}function Kn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ir(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Wr(){var i=pe.p;return i!==0?i:(i=window.event,i===void 0?32:Ow(i.type))}function xi(i,a){var l=pe.p;try{return pe.p=i,a()}finally{pe.p=l}}var gi=Math.random().toString(36).slice(2),jn="__reactFiber$"+gi,Yn="__reactProps$"+gi,Yr="__reactContainer$"+gi,Hi="__reactEvents$"+gi,As="__reactListeners$"+gi,Ga="__reactHandles$"+gi,js="__reactResources$"+gi,Gi="__reactMarker$"+gi;function xa(i){delete i[jn],delete i[Yn],delete i[Hi],delete i[As],delete i[Ga]}function ls(i){var a=i[jn];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Yr]||l[jn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=vw(i);i!==null;){if(l=i[jn])return l;i=vw(i)}return a}i=l,l=i.parentNode}return null}function Ni(i){if(i=i[jn]||i[Yr]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function us(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Es(i){var a=i[js];return a||(a=i[js]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function br(i){i[Gi]=!0}var Ho=new Set,Ki={};function Ts(i,a){Us(i,a),Us(i+"Capture",a)}function Us(i,a){for(Ki[i]=a,i=0;i<a.length;i++)Ho.add(a[i])}var fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Go={},Ko={};function Cl(i){return ze.call(Ko,i)?!0:ze.call(Go,i)?!1:fo.test(i)?Ko[i]=!0:(Go[i]=!0,!1)}function cs(i,a,l){if(Cl(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function yi(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Cr(i,a,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+h)}}function mn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Na(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ss(i,a,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,v=h.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(N){l=""+N,v.call(this,N)}}),Object.defineProperty(i,a,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(N){l=""+N},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function En(i){if(!i._valueTracker){var a=Na(i)?"checked":"value";i._valueTracker=Ss(i,a,""+i[a])}}function Ka(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return i&&(h=Na(i)?i.checked?"true":"false":i.value),i=h,i!==l?(a.setValue(i),!0):!1}function Br(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var dr=/[\n"\\]/g;function Lr(i){return i.replace(dr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function po(i,a,l,h,y,v,N,K){i.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.type=N:i.removeAttribute("type"),a!=null?N==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+mn(a)):i.value!==""+mn(a)&&(i.value=""+mn(a)):N!=="submit"&&N!=="reset"||i.removeAttribute("value"),a!=null?Ll(i,N,mn(a)):l!=null?Ll(i,N,mn(l)):h!=null&&i.removeAttribute("value"),y==null&&v!=null&&(i.defaultChecked=!!v),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?i.name=""+mn(K):i.removeAttribute("name")}function xu(i,a,l,h,y,v,N,K){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),a!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||a!=null)){En(i);return}l=l!=null?""+mn(l):"",a=a!=null?""+mn(a):l,K||a===i.value||(i.value=a),i.defaultValue=a}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=K?i.checked:!!h,i.defaultChecked=!!h,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.name=N),En(i)}function Ll(i,a,l){a==="number"&&Br(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Ri(i,a,l,h){if(i=i.options,a){a={};for(var y=0;y<l.length;y++)a["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=a.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&h&&(i[l].defaultSelected=!0)}else{for(l=""+mn(l),a=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function kl(i,a,l){if(a!=null&&(a=""+mn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+mn(l):""}function Ra(i,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(r(92));if(Ie(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=mn(a),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),En(i)}function ai(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var $a=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pl(i,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,l):typeof l!="number"||l===0||$a.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function Dl(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in a)h=a[y],a.hasOwnProperty(y)&&l[y]!==h&&Pl(i,y,h)}else for(var v in a)a.hasOwnProperty(v)&&Pl(i,v,a[v])}function $o(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ca=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $i(i){return Ca.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Fs(){}var La=null;function Wi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Wa=null,Mt=null;function mo(i){var a=Ni(i);if(a&&(i=a.stateNode)){var l=i[Yn]||null;e:switch(i=a.stateNode,a.type){case"input":if(po(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Lr(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==i&&h.form===i.form){var y=h[Yn]||null;if(!y)throw Error(r(90));po(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===i.form&&Ka(h)}break e;case"textarea":kl(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ri(i,!!l.multiple,a,!1)}}}var Yo=!1;function Ya(i,a,l){if(Yo)return i(a,l);Yo=!0;try{var h=i(a);return h}finally{if(Yo=!1,(Wa!==null||Mt!==null)&&(cg(),Wa&&(a=Wa,i=Mt,Mt=Wa=null,mo(a),i)))for(a=0;a<i.length;a++)mo(i[a])}}function oi(i,a){var l=i.stateNode;if(l===null)return null;var h=l[Yn]||null;if(h===null)return null;l=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),go=!1;if(Qr)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){go=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{go=!1}var hs=null,yo=null,Bs=null;function Ol(){if(Bs)return Bs;var i,a=yo,l=a.length,h,y="value"in hs?hs.value:hs.textContent,v=y.length;for(i=0;i<l&&a[i]===y[i];i++);var N=l-i;for(h=1;h<=N&&a[l-h]===y[v-h];h++);return Bs=y.slice(i,1<h?1-h:void 0)}function fs(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function ka(){return!0}function ds(){return!1}function qr(i){function a(l,h,y,v,N){this._reactName=l,this._targetInst=y,this.type=h,this.nativeEvent=v,this.target=N,this.currentTarget=null;for(var K in i)i.hasOwnProperty(K)&&(l=i[K],this[K]=l?l(v):v[K]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ka:ds,this.isPropagationStopped=ds,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),a}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=qr(Xs),Js=b({},Xs,{view:0,detail:0}),Qa=qr(Js),Zs,ea,Is,_o=b({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Is&&(Is&&i.type==="mousemove"?(Zs=i.screenX-Is.screenX,ea=i.screenY-Is.screenY):ea=Zs=0,Is=i),Zs)},movementY:function(i){return"movementY"in i?i.movementY:ea}}),Qo=qr(_o),ps=b({},_o,{dataTransfer:0}),ta=qr(ps),Ml=b({},Js,{relatedTarget:0}),qs=qr(Ml),Xo=b({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),A=qr(Xo),U=b({},Xs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ie=qr(U),he=b({},Xs,{data:0}),be=qr(he),Ue={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ye={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yt(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=dt[i])?!!a[i]:!1}function jt(){return yt}var Lt=b({},Js,{key:function(i){if(i.key){var a=Ue[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=fs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ye[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jt,charCode:function(i){return i.type==="keypress"?fs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?fs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),gn=qr(Lt),sr=b({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$n=qr(sr),m=b({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jt}),S=qr(m),L=b({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q=qr(L),Ae=b({},_o,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Pe=qr(Ae),Ze=b({},Xs,{newState:0,oldState:0}),Wt=qr(Ze),ar=[9,13,27,32],dn=Qr&&"CompositionEvent"in window,Fn=null;Qr&&"documentMode"in document&&(Fn=document.documentMode);var vi=Qr&&"TextEvent"in window&&!Fn,Ci=Qr&&(!dn||Fn&&8<Fn&&11>=Fn),Qn=" ",Li=!1;function zs(i,a){switch(i){case"keyup":return ar.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ja=!1;function ms(i,a){switch(i){case"compositionend":return Xa(a);case"keypress":return a.which!==32?null:(Li=!0,Qn);case"textInput":return i=a.data,i===Qn&&Li?null:i;default:return null}}function vo(i,a){if(Ja)return i==="compositionend"||!dn&&zs(i,a)?(i=Ol(),Bs=yo=hs=null,Ja=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ci&&a.locale!=="ko"?null:a.data;default:return null}}var Nu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uc(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Nu[i.type]:a==="textarea"}function Hs(i,a,l,h){Wa?Mt?Mt.push(h):Mt=[h]:Wa=h,a=yg(a,"onChange"),0<a.length&&(l=new _i("onChange","change",null,l,h),i.push({event:l,listeners:a}))}var Pa=null,bo=null;function Fc(i){sw(i,0)}function Da(i){var a=us(i);if(Ka(a))return i}function Jo(i,a){if(i==="change")return a}var xs=!1;if(Qr){var gs;if(Qr){var Za="oninput"in document;if(!Za){var eo=document.createElement("div");eo.setAttribute("oninput","return;"),Za=typeof eo.oninput=="function"}gs=Za}else gs=!1;xs=gs&&(!document.documentMode||9<document.documentMode)}function wo(){Pa&&(Pa.detachEvent("onpropertychange",Ru),bo=Pa=null)}function Ru(i){if(i.propertyName==="value"&&Da(bo)){var a=[];Hs(a,bo,i,Wi(i)),Ya(Fc,a)}}function Cu(i,a,l){i==="focusin"?(wo(),Pa=a,bo=l,Pa.attachEvent("onpropertychange",Ru)):i==="focusout"&&wo()}function zr(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Da(bo)}function qh(i,a){if(i==="click")return Da(a)}function to(i,a){if(i==="input"||i==="change")return Da(a)}function no(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var ki=typeof Object.is=="function"?Object.is:no;function Ao(i,a){if(ki(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var y=l[h];if(!ze.call(a,y)||!ki(i[y],a[y]))return!1}return!0}function Lu(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ku(i,a){var l=Lu(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=a&&h>=a)return{node:l,offset:a-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Lu(l)}}function Eo(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Eo(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function To(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Br(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Br(i.document)}return a}function ro(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var Vl=Qr&&"documentMode"in document&&11>=document.documentMode,Gs=null,So=null,Yi=null,na=!1;function On(i,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;na||Gs==null||Gs!==Br(h)||(h=Gs,"selectionStart"in h&&ro(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Yi&&Ao(Yi,h)||(Yi=h,h=yg(So,"onSelect"),0<h.length&&(a=new _i("onSelect","select",null,a,l),i.push({event:a,listeners:h}),a.target=Gs)))}function Nn(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var or={animationend:Nn("Animation","AnimationEnd"),animationiteration:Nn("Animation","AnimationIteration"),animationstart:Nn("Animation","AnimationStart"),transitionrun:Nn("Transition","TransitionRun"),transitionstart:Nn("Transition","TransitionStart"),transitioncancel:Nn("Transition","TransitionCancel"),transitionend:Nn("Transition","TransitionEnd")},Hr={},io={};Qr&&(io=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);function Oa(i){if(Hr[i])return Hr[i];if(!or[i])return i;var a=or[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in io)return Hr[i]=a[l];return i}var jl=Oa("animationend"),Bc=Oa("animationiteration"),Ud=Oa("animationstart"),Fm=Oa("transitionrun"),Bm=Oa("transitionstart"),qm=Oa("transitioncancel"),Fd=Oa("transitionend"),Bd=new Map,Ul="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ul.push("scrollEnd");function ra(i,a){Bd.set(i,a),Ts(a,[i])}var qc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ks=[],Fl=0,zh=0;function zc(){for(var i=Fl,a=zh=Fl=0;a<i;){var l=Ks[a];Ks[a++]=null;var h=Ks[a];Ks[a++]=null;var y=Ks[a];Ks[a++]=null;var v=Ks[a];if(Ks[a++]=null,h!==null&&y!==null){var N=h.pending;N===null?y.next=y:(y.next=N.next,N.next=y),h.pending=y}v!==0&&Gc(l,y,v)}}function Hc(i,a,l,h){Ks[Fl++]=i,Ks[Fl++]=a,Ks[Fl++]=l,Ks[Fl++]=h,zh|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Hh(i,a,l,h){return Hc(i,a,l,h),Qi(i)}function Io(i,a){return Hc(i,null,null,a),Qi(i)}function Gc(i,a,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var y=!1,v=i.return;v!==null;)v.childLanes|=l,h=v.alternate,h!==null&&(h.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(y=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,y&&a!==null&&(y=31-en(l),i=v.hiddenUpdates,h=i[y],h===null?i[y]=[a]:h.push(a),a.lane=l|536870912),v):null}function Qi(i){if(50<up)throw up=0,_2=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Pi={};function Gh(i,a,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xi(i,a,l,h){return new Gh(i,a,l,h)}function Kh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ia(i,a){var l=i.alternate;return l===null?(l=Xi(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Kc(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Pu(i,a,l,h,y,v){var N=0;if(h=i,typeof i=="function")Kh(i)&&(N=1);else if(typeof i=="string")N=O6(i,l,ee.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=Xi(31,l,a,y),i.elementType=C,i.lanes=v,i;case V:return Zo(l.children,y,v,a);case B:N=8,y|=24;break;case k:return i=Xi(12,l,a,y|2),i.elementType=k,i.lanes=v,i;case ge:return i=Xi(13,l,a,y),i.elementType=ge,i.lanes=v,i;case ve:return i=Xi(19,l,a,y),i.elementType=ve,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $:N=10;break e;case te:N=9;break e;case J:N=11;break e;case z:N=14;break e;case M:N=16,h=null;break e}N=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return a=Xi(N,l,a,y),a.elementType=i,a.type=h,a.lanes=v,a}function Zo(i,a,l,h){return i=Xi(7,i,h,a),i.lanes=l,i}function $c(i,a,l){return i=Xi(6,i,null,a),i.lanes=l,i}function $h(i){var a=Xi(18,null,null,0);return a.stateNode=i,a}function Du(i,a,l){return a=Xi(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Wh=new WeakMap;function sa(i,a){if(typeof i=="object"&&i!==null){var l=Wh.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Pt(a)},Wh.set(i,a),a)}return{value:i,source:a,stack:Pt(a)}}var Ou=[],Bl=0,Yh=null,Wc=0,aa=[],oa=0,el=null,la=1,ua="";function $s(i,a){Ou[Bl++]=Wc,Ou[Bl++]=Yh,Yh=i,Wc=a}function zm(i,a,l){aa[oa++]=la,aa[oa++]=ua,aa[oa++]=el,el=i;var h=la;i=ua;var y=32-en(h)-1;h&=~(1<<y),l+=1;var v=32-en(a)+y;if(30<v){var N=y-y%5;v=(h&(1<<N)-1).toString(32),h>>=N,y-=N,la=1<<32-en(a)+y|l<<y|h,ua=v+i}else la=1<<v|l<<y|h,ua=i}function qd(i){i.return!==null&&($s(i,1),zm(i,1,0))}function Qh(i){for(;i===Yh;)Yh=Ou[--Bl],Ou[Bl]=null,Wc=Ou[--Bl],Ou[Bl]=null;for(;i===el;)el=aa[--oa],aa[oa]=null,ua=aa[--oa],aa[oa]=null,la=aa[--oa],aa[oa]=null}function Hm(i,a){aa[oa++]=la,aa[oa++]=ua,aa[oa++]=el,la=a.id,ua=a.overflow,el=i}var Di=null,pr=null,bn=!1,ys=null,kr=!1,Ma=Error(r(519));function tl(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mu(sa(a,i)),Ma}function zd(i){var a=i.stateNode,l=i.type,h=i.memoizedProps;switch(a[jn]=i,a[Yn]=h,l){case"dialog":An("cancel",a),An("close",a);break;case"iframe":case"object":case"embed":An("load",a);break;case"video":case"audio":for(l=0;l<hp.length;l++)An(hp[l],a);break;case"source":An("error",a);break;case"img":case"image":case"link":An("error",a),An("load",a);break;case"details":An("toggle",a);break;case"input":An("invalid",a),xu(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":An("invalid",a);break;case"textarea":An("invalid",a),Ra(a,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||uw(a.textContent,l)?(h.popover!=null&&(An("beforetoggle",a),An("toggle",a)),h.onScroll!=null&&An("scroll",a),h.onScrollEnd!=null&&An("scrollend",a),h.onClick!=null&&(a.onclick=Fs),a=!0):a=!1,a||tl(i,!0)}function xo(i){for(Di=i.return;Di;)switch(Di.tag){case 5:case 31:case 13:kr=!1;return;case 27:case 3:kr=!0;return;default:Di=Di.return}}function Oi(i){if(i!==Di)return!1;if(!bn)return xo(i),bn=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||P2(i.type,i.memoizedProps)),l=!l),l&&pr&&tl(i),xo(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));pr=_w(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));pr=_w(i)}else a===27?(a=pr,Qu(i.type)?(i=j2,j2=null,pr=i):pr=a):pr=Di?lo(i.stateNode.nextSibling):null;return!0}function ql(){pr=Di=null,bn=!1}function Hd(){var i=ys;return i!==null&&(ma===null?ma=i:ma.push.apply(ma,i),ys=null),i}function Mu(i){ys===null?ys=[i]:ys.push(i)}var Xh=Z(null),nl=null,so=null;function rl(i,a,l){W(Xh,a._currentValue),a._currentValue=l}function ca(i){i._currentValue=Xh.current,P(Xh)}function Vu(i,a,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===l)break;i=i.return}}function zl(i,a,l,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var v=y.dependencies;if(v!==null){var N=y.child;v=v.firstContext;e:for(;v!==null;){var K=v;v=y;for(var ue=0;ue<a.length;ue++)if(K.context===a[ue]){v.lanes|=l,K=v.alternate,K!==null&&(K.lanes|=l),Vu(v.return,l,i),h||(N=null);break e}v=K.next}}else if(y.tag===18){if(N=y.return,N===null)throw Error(r(341));N.lanes|=l,v=N.alternate,v!==null&&(v.lanes|=l),Vu(N,l,i),N=null}else N=y.child;if(N!==null)N.return=y;else for(N=y;N!==null;){if(N===i){N=null;break}if(y=N.sibling,y!==null){y.return=N.return,N=y;break}N=N.return}y=N}}function il(i,a,l,h){i=null;for(var y=a,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var N=y.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var K=y.type;ki(y.pendingProps.value,N.value)||(i!==null?i.push(K):i=[K])}}else if(y===ye.current){if(N=y.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(gp):i=[gp])}y=y.return}i!==null&&zl(a,i,l,h),a.flags|=262144}function Jh(i){for(i=i.firstContext;i!==null;){if(!ki(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function sl(i){nl=i,so=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Mi(i){return Gm(nl,i)}function Zh(i,a){return nl===null&&sl(i),Gm(i,a)}function Gm(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},so===null){if(i===null)throw Error(r(308));so=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else so=so.next=a;return l}var V0=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},j0=n.unstable_scheduleCallback,U0=n.unstable_NormalPriority,Gr={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ju(){return{controller:new V0,data:new Map,refCount:0}}function Yc(i){i.refCount--,i.refCount===0&&j0(U0,function(){i.controller.abort()})}var Qc=null,ef=0,p=0,_=null;function T(i,a){if(Qc===null){var l=Qc=[];ef=0,p=T2(),_={status:"pending",value:void 0,then:function(h){l.push(h)}}}return ef++,a.then(I,I),a}function I(){if(--ef===0&&Qc!==null){_!==null&&(_.status="fulfilled");var i=Qc;Qc=null,p=0,_=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function F(i,a){var l=[],h={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var y=0;y<l.length;y++)(0,l[y])(a)},function(y){for(h.status="rejected",h.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),h}var q=ae.S;ae.S=function(i,a){Pb=Zt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&T(i,a),q!==null&&q(i,a)};var H=Z(null);function Y(){var i=H.current;return i!==null?i:gr.pooledCache}function X(i,a){a===null?W(H,H.current):W(H,a.pool)}function se(){var i=Y();return i===null?null:{parent:Gr._currentValue,pool:i}}var de=Error(r(460)),xe=Error(r(474)),re=Error(r(542)),_e={then:function(){}};function Ee(i){return i=i.status,i==="fulfilled"||i==="rejected"}function je(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Fs,Fs),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Xe(i),i;default:if(typeof a.status=="string")a.then(Fs,Fs);else{if(i=gr,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=h}},function(h){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Xe(i),i}throw Ve=a,de}}function Se(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ve=l,de):l}}var Ve=null;function qe(){if(Ve===null)throw Error(r(459));var i=Ve;return Ve=null,i}function Xe(i){if(i===de||i===re)throw Error(r(483))}var We=null,_t=0;function ht(i){var a=_t;return _t+=1,We===null&&(We=[]),je(We,i,a)}function Qt(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function mt(i,a){throw a.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function yn(i){function a(we,me){if(i){var Ne=we.deletions;Ne===null?(we.deletions=[me],we.flags|=16):Ne.push(me)}}function l(we,me){if(!i)return null;for(;me!==null;)a(we,me),me=me.sibling;return null}function h(we){for(var me=new Map;we!==null;)we.key!==null?me.set(we.key,we):me.set(we.index,we),we=we.sibling;return me}function y(we,me){return we=ia(we,me),we.index=0,we.sibling=null,we}function v(we,me,Ne){return we.index=Ne,i?(Ne=we.alternate,Ne!==null?(Ne=Ne.index,Ne<me?(we.flags|=67108866,me):Ne):(we.flags|=67108866,me)):(we.flags|=1048576,me)}function N(we){return i&&we.alternate===null&&(we.flags|=67108866),we}function K(we,me,Ne,He){return me===null||me.tag!==6?(me=$c(Ne,we.mode,He),me.return=we,me):(me=y(me,Ne),me.return=we,me)}function ue(we,me,Ne,He){var Ft=Ne.type;return Ft===V?Fe(we,me,Ne.props.children,He,Ne.key):me!==null&&(me.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===M&&Se(Ft)===me.type)?(me=y(me,Ne.props),Qt(me,Ne),me.return=we,me):(me=Pu(Ne.type,Ne.key,Ne.props,null,we.mode,He),Qt(me,Ne),me.return=we,me)}function Re(we,me,Ne,He){return me===null||me.tag!==4||me.stateNode.containerInfo!==Ne.containerInfo||me.stateNode.implementation!==Ne.implementation?(me=Du(Ne,we.mode,He),me.return=we,me):(me=y(me,Ne.children||[]),me.return=we,me)}function Fe(we,me,Ne,He,Ft){return me===null||me.tag!==7?(me=Zo(Ne,we.mode,He,Ft),me.return=we,me):(me=y(me,Ne),me.return=we,me)}function $e(we,me,Ne){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=$c(""+me,we.mode,Ne),me.return=we,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case w:return Ne=Pu(me.type,me.key,me.props,null,we.mode,Ne),Qt(Ne,me),Ne.return=we,Ne;case j:return me=Du(me,we.mode,Ne),me.return=we,me;case M:return me=Se(me),$e(we,me,Ne)}if(Ie(me)||O(me))return me=Zo(me,we.mode,Ne,null),me.return=we,me;if(typeof me.then=="function")return $e(we,ht(me),Ne);if(me.$$typeof===$)return $e(we,Zh(we,me),Ne);mt(we,me)}return null}function Oe(we,me,Ne,He){var Ft=me!==null?me.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Ft!==null?null:K(we,me,""+Ne,He);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case w:return Ne.key===Ft?ue(we,me,Ne,He):null;case j:return Ne.key===Ft?Re(we,me,Ne,He):null;case M:return Ne=Se(Ne),Oe(we,me,Ne,He)}if(Ie(Ne)||O(Ne))return Ft!==null?null:Fe(we,me,Ne,He,null);if(typeof Ne.then=="function")return Oe(we,me,ht(Ne),He);if(Ne.$$typeof===$)return Oe(we,me,Zh(we,Ne),He);mt(we,Ne)}return null}function Me(we,me,Ne,He,Ft){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return we=we.get(Ne)||null,K(me,we,""+He,Ft);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case w:return we=we.get(He.key===null?Ne:He.key)||null,ue(me,we,He,Ft);case j:return we=we.get(He.key===null?Ne:He.key)||null,Re(me,we,He,Ft);case M:return He=Se(He),Me(we,me,Ne,He,Ft)}if(Ie(He)||O(He))return we=we.get(Ne)||null,Fe(me,we,He,Ft,null);if(typeof He.then=="function")return Me(we,me,Ne,ht(He),Ft);if(He.$$typeof===$)return Me(we,me,Ne,Zh(me,He),Ft);mt(me,He)}return null}function gt(we,me,Ne,He){for(var Ft=null,Bn=null,Tt=me,fn=me=0,Sn=null;Tt!==null&&fn<Ne.length;fn++){Tt.index>fn?(Sn=Tt,Tt=null):Sn=Tt.sibling;var qn=Oe(we,Tt,Ne[fn],He);if(qn===null){Tt===null&&(Tt=Sn);break}i&&Tt&&qn.alternate===null&&a(we,Tt),me=v(qn,me,fn),Bn===null?Ft=qn:Bn.sibling=qn,Bn=qn,Tt=Sn}if(fn===Ne.length)return l(we,Tt),bn&&$s(we,fn),Ft;if(Tt===null){for(;fn<Ne.length;fn++)Tt=$e(we,Ne[fn],He),Tt!==null&&(me=v(Tt,me,fn),Bn===null?Ft=Tt:Bn.sibling=Tt,Bn=Tt);return bn&&$s(we,fn),Ft}for(Tt=h(Tt);fn<Ne.length;fn++)Sn=Me(Tt,we,fn,Ne[fn],He),Sn!==null&&(i&&Sn.alternate!==null&&Tt.delete(Sn.key===null?fn:Sn.key),me=v(Sn,me,fn),Bn===null?Ft=Sn:Bn.sibling=Sn,Bn=Sn);return i&&Tt.forEach(function(tc){return a(we,tc)}),bn&&$s(we,fn),Ft}function Gt(we,me,Ne,He){if(Ne==null)throw Error(r(151));for(var Ft=null,Bn=null,Tt=me,fn=me=0,Sn=null,qn=Ne.next();Tt!==null&&!qn.done;fn++,qn=Ne.next()){Tt.index>fn?(Sn=Tt,Tt=null):Sn=Tt.sibling;var tc=Oe(we,Tt,qn.value,He);if(tc===null){Tt===null&&(Tt=Sn);break}i&&Tt&&tc.alternate===null&&a(we,Tt),me=v(tc,me,fn),Bn===null?Ft=tc:Bn.sibling=tc,Bn=tc,Tt=Sn}if(qn.done)return l(we,Tt),bn&&$s(we,fn),Ft;if(Tt===null){for(;!qn.done;fn++,qn=Ne.next())qn=$e(we,qn.value,He),qn!==null&&(me=v(qn,me,fn),Bn===null?Ft=qn:Bn.sibling=qn,Bn=qn);return bn&&$s(we,fn),Ft}for(Tt=h(Tt);!qn.done;fn++,qn=Ne.next())qn=Me(Tt,we,fn,qn.value,He),qn!==null&&(i&&qn.alternate!==null&&Tt.delete(qn.key===null?fn:qn.key),me=v(qn,me,fn),Bn===null?Ft=qn:Bn.sibling=qn,Bn=qn);return i&&Tt.forEach(function(K6){return a(we,K6)}),bn&&$s(we,fn),Ft}function hr(we,me,Ne,He){if(typeof Ne=="object"&&Ne!==null&&Ne.type===V&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case w:e:{for(var Ft=Ne.key;me!==null;){if(me.key===Ft){if(Ft=Ne.type,Ft===V){if(me.tag===7){l(we,me.sibling),He=y(me,Ne.props.children),He.return=we,we=He;break e}}else if(me.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===M&&Se(Ft)===me.type){l(we,me.sibling),He=y(me,Ne.props),Qt(He,Ne),He.return=we,we=He;break e}l(we,me);break}else a(we,me);me=me.sibling}Ne.type===V?(He=Zo(Ne.props.children,we.mode,He,Ne.key),He.return=we,we=He):(He=Pu(Ne.type,Ne.key,Ne.props,null,we.mode,He),Qt(He,Ne),He.return=we,we=He)}return N(we);case j:e:{for(Ft=Ne.key;me!==null;){if(me.key===Ft)if(me.tag===4&&me.stateNode.containerInfo===Ne.containerInfo&&me.stateNode.implementation===Ne.implementation){l(we,me.sibling),He=y(me,Ne.children||[]),He.return=we,we=He;break e}else{l(we,me);break}else a(we,me);me=me.sibling}He=Du(Ne,we.mode,He),He.return=we,we=He}return N(we);case M:return Ne=Se(Ne),hr(we,me,Ne,He)}if(Ie(Ne))return gt(we,me,Ne,He);if(O(Ne)){if(Ft=O(Ne),typeof Ft!="function")throw Error(r(150));return Ne=Ft.call(Ne),Gt(we,me,Ne,He)}if(typeof Ne.then=="function")return hr(we,me,ht(Ne),He);if(Ne.$$typeof===$)return hr(we,me,Zh(we,Ne),He);mt(we,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,me!==null&&me.tag===6?(l(we,me.sibling),He=y(me,Ne),He.return=we,we=He):(l(we,me),He=$c(Ne,we.mode,He),He.return=we,we=He),N(we)):l(we,me)}return function(we,me,Ne,He){try{_t=0;var Ft=hr(we,me,Ne,He);return We=null,Ft}catch(Tt){if(Tt===de||Tt===re)throw Tt;var Bn=Xi(29,Tt,null,we.mode);return Bn.lanes=He,Bn.return=we,Bn}}}var mr=yn(!0),sn=yn(!1),ft=!1;function rt(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wr(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ht(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ln(i,a,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Gn&2)!==0){var y=h.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),h.pending=a,a=Qi(i),Gc(i,null,l),a}return Hc(i,h,a,l),Qi(i)}function zn(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,qi(i,l)}}function li(i,a){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var y=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var N={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?y=v=N:v=v.next=N,l=l.next}while(l!==null);v===null?y=v=a:v=v.next=a}else y=v=a;l={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Vi=!1;function lr(){if(Vi){var i=_;if(i!==null)throw i}}function Xr(i,a,l,h){Vi=!1;var y=i.updateQueue;ft=!1;var v=y.firstBaseUpdate,N=y.lastBaseUpdate,K=y.shared.pending;if(K!==null){y.shared.pending=null;var ue=K,Re=ue.next;ue.next=null,N===null?v=Re:N.next=Re,N=ue;var Fe=i.alternate;Fe!==null&&(Fe=Fe.updateQueue,K=Fe.lastBaseUpdate,K!==N&&(K===null?Fe.firstBaseUpdate=Re:K.next=Re,Fe.lastBaseUpdate=ue))}if(v!==null){var $e=y.baseState;N=0,Fe=Re=ue=null,K=v;do{var Oe=K.lane&-536870913,Me=Oe!==K.lane;if(Me?(Tn&Oe)===Oe:(h&Oe)===Oe){Oe!==0&&Oe===p&&(Vi=!0),Fe!==null&&(Fe=Fe.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var gt=i,Gt=K;Oe=a;var hr=l;switch(Gt.tag){case 1:if(gt=Gt.payload,typeof gt=="function"){$e=gt.call(hr,$e,Oe);break e}$e=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=Gt.payload,Oe=typeof gt=="function"?gt.call(hr,$e,Oe):gt,Oe==null)break e;$e=b({},$e,Oe);break e;case 2:ft=!0}}Oe=K.callback,Oe!==null&&(i.flags|=64,Me&&(i.flags|=8192),Me=y.callbacks,Me===null?y.callbacks=[Oe]:Me.push(Oe))}else Me={lane:Oe,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Fe===null?(Re=Fe=Me,ue=$e):Fe=Fe.next=Me,N|=Oe;if(K=K.next,K===null){if(K=y.shared.pending,K===null)break;Me=K,K=Me.next,Me.next=null,y.lastBaseUpdate=Me,y.shared.pending=null}}while(!0);Fe===null&&(ue=$e),y.baseState=ue,y.firstBaseUpdate=Re,y.lastBaseUpdate=Fe,v===null&&(y.shared.lanes=0),Gu|=N,i.lanes=N,i.memoizedState=$e}}function Ji(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Jr(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Ji(l[i],a)}var pn=Z(null),Cn=Z(0);function Ar(i,a){i=Zl,W(Cn,i),W(pn,a),Zl=i|a.baseLanes}function Mn(){W(Cn,Zl),W(pn,pn.current)}function ui(){Zl=Cn.current,P(pn),P(Cn)}var Er=Z(null),Ln=null;function Kr(i){var a=i.alternate;W(Rn,Rn.current&1),W(Er,i),Ln===null&&(a===null||pn.current!==null||a.memoizedState!==null)&&(Ln=i)}function Hn(i){W(Rn,Rn.current),W(Er,i),Ln===null&&(Ln=i)}function Zr(i){i.tag===22?(W(Rn,Rn.current),W(Er,i),Ln===null&&(Ln=i)):ei()}function ei(){W(Rn,Rn.current),W(Er,Er.current)}function Xn(i){P(Er),Ln===i&&(Ln=null),P(Rn)}var Rn=Z(0);function Zi(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||M2(l)||V2(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Pr=0,Vt=null,Ut=null,kn=null,Ns=!1,ha=!1,_s=!1,ti=0,al=0,ol=null,tf=0;function ur(){throw Error(r(321))}function Gd(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!ki(i[l],a[l]))return!1;return!0}function Kd(i,a,l,h,y,v){return Pr=v,Vt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ae.H=i===null||i.memoizedState===null?H5:$0,_s=!1,v=l(h,y),_s=!1,ha&&(v=No(a,l,h,y)),nf(i),v}function nf(i){ae.H=ep;var a=Ut!==null&&Ut.next!==null;if(Pr=0,kn=Ut=Vt=null,Ns=!1,al=0,ol=null,a)throw Error(r(300));i===null||wi||(i=i.dependencies,i!==null&&Jh(i)&&(wi=!0))}function No(i,a,l,h){Vt=i;var y=0;do{if(ha&&(ol=null),al=0,ha=!1,25<=y)throw Error(r(301));if(y+=1,kn=Ut=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}ae.H=G5,v=a(l,h)}while(ha);return v}function F0(){var i=ae.H,a=i.useState()[0];return a=typeof a.then=="function"?ll(a):a,i=i.useState()[0],(Ut!==null?Ut.memoizedState:null)!==i&&(Vt.flags|=1024),a}function $d(){var i=ti!==0;return ti=0,i}function Wd(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function rf(i){if(Ns){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Ns=!1}Pr=0,kn=Ut=Vt=null,ha=!1,al=ti=0,ol=null}function bi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?Vt.memoizedState=kn=i:kn=kn.next=i,kn}function Dr(){if(Ut===null){var i=Vt.alternate;i=i!==null?i.memoizedState:null}else i=Ut.next;var a=kn===null?Vt.memoizedState:kn.next;if(a!==null)kn=a,Ut=i;else{if(i===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));Ut=i,i={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},kn===null?Vt.memoizedState=kn=i:kn=kn.next=i}return kn}function Xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(i){var a=al;return al+=1,ol===null&&(ol=[]),i=je(ol,i,a),a=Vt,(kn===null?a.memoizedState:kn.next)===null&&(a=a.alternate,ae.H=a===null||a.memoizedState===null?H5:$0),i}function Uu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ll(i);if(i.$$typeof===$)return Mi(i)}throw Error(r(438,String(i)))}function Hl(i){var a=null,l=Vt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=Vt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Xc(),Vt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),h=0;h<i;h++)l[h]=G;return a.index++,l}function ao(i,a){return typeof a=="function"?a(i):a}function sf(i){var a=Dr();return Fu(a,Ut,i)}function Fu(i,a,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var y=i.baseQueue,v=h.pending;if(v!==null){if(y!==null){var N=y.next;y.next=v.next,v.next=N}a.baseQueue=y=v,h.pending=null}if(v=i.baseState,y===null)i.memoizedState=v;else{a=y.next;var K=N=null,ue=null,Re=a,Fe=!1;do{var $e=Re.lane&-536870913;if($e!==Re.lane?(Tn&$e)===$e:(Pr&$e)===$e){var Oe=Re.revertLane;if(Oe===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),$e===p&&(Fe=!0);else if((Pr&Oe)===Oe){Re=Re.next,Oe===p&&(Fe=!0);continue}else $e={lane:0,revertLane:Re.revertLane,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},ue===null?(K=ue=$e,N=v):ue=ue.next=$e,Vt.lanes|=Oe,Gu|=Oe;$e=Re.action,_s&&l(v,$e),v=Re.hasEagerState?Re.eagerState:l(v,$e)}else Oe={lane:$e,revertLane:Re.revertLane,gesture:Re.gesture,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},ue===null?(K=ue=Oe,N=v):ue=ue.next=Oe,Vt.lanes|=$e,Gu|=$e;Re=Re.next}while(Re!==null&&Re!==a);if(ue===null?N=v:ue.next=K,!ki(v,i.memoizedState)&&(wi=!0,Fe&&(l=_,l!==null)))throw l;i.memoizedState=v,i.baseState=N,i.baseQueue=ue,h.lastRenderedState=v}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function af(i){var a=Dr(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,y=l.pending,v=a.memoizedState;if(y!==null){l.pending=null;var N=y=y.next;do v=i(v,N.action),N=N.next;while(N!==y);ki(v,a.memoizedState)||(wi=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),l.lastRenderedState=v}return[v,h]}function of(i,a,l){var h=Vt,y=Dr(),v=bn;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=a();var N=!ki((Ut||y).memoizedState,l);if(N&&(y.memoizedState=l,wi=!0),y=y.queue,B0(Qd.bind(null,h,y,i),[i]),y.getSnapshot!==a||N||kn!==null&&kn.memoizedState.tag&1){if(h.flags|=2048,Kl(9,{destroy:void 0},Yd.bind(null,h,y,l,a),null),gr===null)throw Error(r(349));v||(Pr&127)!==0||Ro(h,a,l)}return l}function Ro(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Vt.updateQueue,a===null?(a=Xc(),Vt.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function Yd(i,a,l,h){a.value=l,a.getSnapshot=h,Km(a)&&Xd(i)}function Qd(i,a,l){return l(function(){Km(a)&&Xd(i)})}function Km(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!ki(i,l)}catch{return!0}}function Xd(i){var a=Io(i,2);a!==null&&ga(a,i,2)}function ul(i){var a=bi();if(typeof i=="function"){var l=i;if(i=l(),_s){zt(!0);try{l()}finally{zt(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:i},a}function $m(i,a,l,h){return i.baseState=l,Fu(i,Ut,typeof h=="function"?h:ao)}function Wm(i,a,l,h,y){if(Jm(i))throw Error(r(485));if(i=a.action,i!==null){var v={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){v.listeners.push(N)}};ae.T!==null?l(!0):v.isTransition=!1,h(v),l=a.pending,l===null?(v.next=a.pending=v,Ym(a,v)):(v.next=l.next,a.pending=l.next=v)}}function Ym(i,a){var l=a.action,h=a.payload,y=i.state;if(a.isTransition){var v=ae.T,N={};ae.T=N;try{var K=l(y,h),ue=ae.S;ue!==null&&ue(N,K),Jd(i,a,K)}catch(Re){Gl(i,a,Re)}finally{v!==null&&N.types!==null&&(v.types=N.types),ae.T=v}}else try{v=l(y,h),Jd(i,a,v)}catch(Re){Gl(i,a,Re)}}function Jd(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Qm(i,a,h)},function(h){return Gl(i,a,h)}):Qm(i,a,l)}function Qm(i,a,l){a.status="fulfilled",a.value=l,lf(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,Ym(i,l)))}function Gl(i,a,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,lf(a),a=a.next;while(a!==h)}i.action=null}function lf(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Jc(i,a){return a}function oo(i,a){if(bn){var l=gr.formState;if(l!==null){e:{var h=Vt;if(bn){if(pr){t:{for(var y=pr,v=kr;y.nodeType!==8;){if(!v){y=null;break t}if(y=lo(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){pr=lo(y.nextSibling),h=y.data==="F!";break e}}tl(h)}h=!1}h&&(a=l[0])}}return l=bi(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jc,lastRenderedState:a},l.queue=h,l=B5.bind(null,Vt,h),h.dispatch=l,h=ul(!1),v=K0.bind(null,Vt,!1,h.queue),h=bi(),y={state:a,dispatch:null,action:i,pending:null},h.queue=y,l=Wm.bind(null,Vt,y,v,l),y.dispatch=l,h.memoizedState=i,[a,l,!1]}function Co(i){var a=Dr();return Lo(a,Ut,i)}function Lo(i,a,l){if(a=Fu(i,a,Jc)[0],i=sf(ao)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=ll(a)}catch(N){throw N===de?re:N}else h=a;a=Dr();var y=a.queue,v=y.dispatch;return l!==a.memoizedState&&(Vt.flags|=2048,Kl(9,{destroy:void 0},uf.bind(null,y,l),null)),[h,v,i]}function uf(i,a){i.action=a}function cf(i){var a=Dr(),l=Ut;if(l!==null)return Lo(a,l,i);Dr(),a=a.memoizedState,l=Dr();var h=l.queue.dispatch;return l.memoizedState=i,[a,h,!1]}function Kl(i,a,l,h){return i={tag:i,create:l,deps:h,inst:a,next:null},a=Vt.updateQueue,a===null&&(a=Xc(),Vt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,a.lastEffect=i),i}function Xm(){return Dr().memoizedState}function Bu(i,a,l,h){var y=bi();Vt.flags|=i,y.memoizedState=Kl(1|a,{destroy:void 0},l,h===void 0?null:h)}function qu(i,a,l,h){var y=Dr();h=h===void 0?null:h;var v=y.memoizedState.inst;Ut!==null&&h!==null&&Gd(h,Ut.memoizedState.deps)?y.memoizedState=Kl(a,v,l,h):(Vt.flags|=i,y.memoizedState=Kl(1|a,v,l,h))}function x5(i,a){Bu(8390656,8,i,a)}function B0(i,a){qu(2048,8,i,a)}function FN(i){Vt.flags|=4;var a=Vt.updateQueue;if(a===null)a=Xc(),Vt.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function N5(i){var a=Dr().memoizedState;return FN({ref:a,nextImpl:i}),function(){if((Gn&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function R5(i,a){return qu(4,2,i,a)}function C5(i,a){return qu(4,4,i,a)}function L5(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function k5(i,a,l){l=l!=null?l.concat([i]):null,qu(4,4,L5.bind(null,a,i),l)}function q0(){}function P5(i,a){var l=Dr();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&Gd(a,h[1])?h[0]:(l.memoizedState=[i,a],i)}function D5(i,a){var l=Dr();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&Gd(a,h[1]))return h[0];if(h=i(),_s){zt(!0);try{i()}finally{zt(!1)}}return l.memoizedState=[h,a],h}function z0(i,a,l){return l===void 0||(Pr&1073741824)!==0&&(Tn&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=Ob(),Vt.lanes|=i,Gu|=i,l)}function O5(i,a,l,h){return ki(l,a)?l:pn.current!==null?(i=z0(i,l,h),ki(i,a)||(wi=!0),i):(Pr&42)===0||(Pr&1073741824)!==0&&(Tn&261930)===0?(wi=!0,i.memoizedState=l):(i=Ob(),Vt.lanes|=i,Gu|=i,a)}function M5(i,a,l,h,y){var v=pe.p;pe.p=v!==0&&8>v?v:8;var N=ae.T,K={};ae.T=K,K0(i,!1,a,l);try{var ue=y(),Re=ae.S;if(Re!==null&&Re(K,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Fe=F(ue,h);Zd(i,a,Fe,Ua(i))}else Zd(i,a,h,Ua(i))}catch($e){Zd(i,a,{then:function(){},status:"rejected",reason:$e},Ua())}finally{pe.p=v,N!==null&&K.types!==null&&(N.types=K.types),ae.T=N}}function BN(){}function H0(i,a,l,h){if(i.tag!==5)throw Error(r(476));var y=V5(i).queue;M5(i,y,a,fe,l===null?BN:function(){return j5(i),l(h)})}function V5(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:fe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function j5(i){var a=V5(i);a.next===null&&(a=i.alternate.memoizedState),Zd(i,a.next.queue,{},Ua())}function G0(){return Mi(gp)}function U5(){return Dr().memoizedState}function F5(){return Dr().memoizedState}function qN(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=Ua();i=Ht(l);var h=ln(a,i,l);h!==null&&(ga(h,a,l),zn(h,a,l)),a={cache:ju()},i.payload=a;return}a=a.return}}function zN(i,a,l){var h=Ua();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Jm(i)?q5(a,l):(l=Hh(i,a,l,h),l!==null&&(ga(l,i,h),z5(l,a,h)))}function B5(i,a,l){var h=Ua();Zd(i,a,l,h)}function Zd(i,a,l,h){var y={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Jm(i))q5(a,y);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var N=a.lastRenderedState,K=v(N,l);if(y.hasEagerState=!0,y.eagerState=K,ki(K,N))return Hc(i,a,y,0),gr===null&&zc(),!1}catch{}if(l=Hh(i,a,y,h),l!==null)return ga(l,i,h),z5(l,a,h),!0}return!1}function K0(i,a,l,h){if(h={lane:2,revertLane:T2(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Jm(i)){if(a)throw Error(r(479))}else a=Hh(i,l,h,2),a!==null&&ga(a,i,2)}function Jm(i){var a=i.alternate;return i===Vt||a!==null&&a===Vt}function q5(i,a){ha=Ns=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function z5(i,a,l){if((l&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,qi(i,l)}}var ep={readContext:Mi,use:Uu,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useInsertionEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useSyncExternalStore:ur,useId:ur,useHostTransitionStatus:ur,useFormState:ur,useActionState:ur,useOptimistic:ur,useMemoCache:ur,useCacheRefresh:ur};ep.useEffectEvent=ur;var H5={readContext:Mi,use:Uu,useCallback:function(i,a){return bi().memoizedState=[i,a===void 0?null:a],i},useContext:Mi,useEffect:x5,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,Bu(4194308,4,L5.bind(null,a,i),l)},useLayoutEffect:function(i,a){return Bu(4194308,4,i,a)},useInsertionEffect:function(i,a){Bu(4,2,i,a)},useMemo:function(i,a){var l=bi();a=a===void 0?null:a;var h=i();if(_s){zt(!0);try{i()}finally{zt(!1)}}return l.memoizedState=[h,a],h},useReducer:function(i,a,l){var h=bi();if(l!==void 0){var y=l(a);if(_s){zt(!0);try{l(a)}finally{zt(!1)}}}else y=a;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=zN.bind(null,Vt,i),[h.memoizedState,i]},useRef:function(i){var a=bi();return i={current:i},a.memoizedState=i},useState:function(i){i=ul(i);var a=i.queue,l=B5.bind(null,Vt,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:q0,useDeferredValue:function(i,a){var l=bi();return z0(l,i,a)},useTransition:function(){var i=ul(!1);return i=M5.bind(null,Vt,i.queue,!0,!1),bi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var h=Vt,y=bi();if(bn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),gr===null)throw Error(r(349));(Tn&127)!==0||Ro(h,a,l)}y.memoizedState=l;var v={value:l,getSnapshot:a};return y.queue=v,x5(Qd.bind(null,h,v,i),[i]),h.flags|=2048,Kl(9,{destroy:void 0},Yd.bind(null,h,v,l,a),null),l},useId:function(){var i=bi(),a=gr.identifierPrefix;if(bn){var l=ua,h=la;l=(h&~(1<<32-en(h)-1)).toString(32)+l,a="_"+a+"R_"+l,l=ti++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=tf++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:G0,useFormState:oo,useActionState:oo,useOptimistic:function(i){var a=bi();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=K0.bind(null,Vt,!0,l),l.dispatch=a,[i,a]},useMemoCache:Hl,useCacheRefresh:function(){return bi().memoizedState=qN.bind(null,Vt)},useEffectEvent:function(i){var a=bi(),l={impl:i};return a.memoizedState=l,function(){if((Gn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},$0={readContext:Mi,use:Uu,useCallback:P5,useContext:Mi,useEffect:B0,useImperativeHandle:k5,useInsertionEffect:R5,useLayoutEffect:C5,useMemo:D5,useReducer:sf,useRef:Xm,useState:function(){return sf(ao)},useDebugValue:q0,useDeferredValue:function(i,a){var l=Dr();return O5(l,Ut.memoizedState,i,a)},useTransition:function(){var i=sf(ao)[0],a=Dr().memoizedState;return[typeof i=="boolean"?i:ll(i),a]},useSyncExternalStore:of,useId:U5,useHostTransitionStatus:G0,useFormState:Co,useActionState:Co,useOptimistic:function(i,a){var l=Dr();return $m(l,Ut,i,a)},useMemoCache:Hl,useCacheRefresh:F5};$0.useEffectEvent=N5;var G5={readContext:Mi,use:Uu,useCallback:P5,useContext:Mi,useEffect:B0,useImperativeHandle:k5,useInsertionEffect:R5,useLayoutEffect:C5,useMemo:D5,useReducer:af,useRef:Xm,useState:function(){return af(ao)},useDebugValue:q0,useDeferredValue:function(i,a){var l=Dr();return Ut===null?z0(l,i,a):O5(l,Ut.memoizedState,i,a)},useTransition:function(){var i=af(ao)[0],a=Dr().memoizedState;return[typeof i=="boolean"?i:ll(i),a]},useSyncExternalStore:of,useId:U5,useHostTransitionStatus:G0,useFormState:cf,useActionState:cf,useOptimistic:function(i,a){var l=Dr();return Ut!==null?$m(l,Ut,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Hl,useCacheRefresh:F5};G5.useEffectEvent=N5;function W0(i,a,l,h){a=i.memoizedState,l=l(h,a),l=l==null?a:b({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Y0={enqueueSetState:function(i,a,l){i=i._reactInternals;var h=Ua(),y=Ht(h);y.payload=a,l!=null&&(y.callback=l),a=ln(i,y,h),a!==null&&(ga(a,i,h),zn(a,i,h))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var h=Ua(),y=Ht(h);y.tag=1,y.payload=a,l!=null&&(y.callback=l),a=ln(i,y,h),a!==null&&(ga(a,i,h),zn(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=Ua(),h=Ht(l);h.tag=2,a!=null&&(h.callback=a),a=ln(i,h,l),a!==null&&(ga(a,i,l),zn(a,i,l))}};function K5(i,a,l,h,y,v,N){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,N):a.prototype&&a.prototype.isPureReactComponent?!Ao(l,h)||!Ao(y,v):!0}function $5(i,a,l,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==i&&Y0.enqueueReplaceState(a,a.state,null)}function Zc(i,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(i=i.defaultProps){l===a&&(l=b({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function W5(i){qc(i)}function Y5(i){console.error(i)}function Q5(i){qc(i)}function Zm(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function X5(i,a,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Q0(i,a,l){return l=Ht(l),l.tag=3,l.payload={element:null},l.callback=function(){Zm(i,a)},l}function J5(i){return i=Ht(i),i.tag=3,i}function Z5(i,a,l,h){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var v=h.value;i.payload=function(){return y(v)},i.callback=function(){X5(a,l,h)}}var N=l.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(i.callback=function(){X5(a,l,h),typeof y!="function"&&(Ku===null?Ku=new Set([this]):Ku.add(this));var K=h.stack;this.componentDidCatch(h.value,{componentStack:K!==null?K:""})})}function HN(i,a,l,h,y){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&il(a,l,y,!0),l=Er.current,l!==null){switch(l.tag){case 31:case 13:return Ln===null?hg():l.alternate===null&&ni===0&&(ni=3),l.flags&=-257,l.flags|=65536,l.lanes=y,h===_e?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),w2(i,h,y)),!1;case 22:return l.flags|=65536,h===_e?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),w2(i,h,y)),!1}throw Error(r(435,l.tag))}return w2(i,h,y),hg(),!1}if(bn)return a=Er.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,h!==Ma&&(i=Error(r(422),{cause:h}),Mu(sa(i,l)))):(h!==Ma&&(a=Error(r(423),{cause:h}),Mu(sa(a,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=sa(h,l),y=Q0(i.stateNode,h,y),li(i,y),ni!==4&&(ni=2)),!1;var v=Error(r(520),{cause:h});if(v=sa(v,l),lp===null?lp=[v]:lp.push(v),ni!==4&&(ni=2),a===null)return!0;h=sa(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=Q0(l.stateNode,h,i),li(l,i),!1;case 1:if(a=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ku===null||!Ku.has(v))))return l.flags|=65536,y&=-y,l.lanes|=y,y=J5(y),Z5(y,i,l,h),li(l,y),!1}l=l.return}while(l!==null);return!1}var X0=Error(r(461)),wi=!1;function vs(i,a,l,h){a.child=i===null?sn(a,null,l,h):mr(a,i.child,l,h)}function eb(i,a,l,h,y){l=l.render;var v=a.ref;if("ref"in h){var N={};for(var K in h)K!=="ref"&&(N[K]=h[K])}else N=h;return sl(a),h=Kd(i,a,l,N,v,y),K=$d(),i!==null&&!wi?(Wd(i,a,y),$l(i,a,y)):(bn&&K&&qd(a),a.flags|=1,vs(i,a,h,y),a.child)}function tb(i,a,l,h,y){if(i===null){var v=l.type;return typeof v=="function"&&!Kh(v)&&v.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=v,nb(i,a,v,h,y)):(i=Pu(l.type,null,h,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(v=i.child,!s2(i,y)){var N=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ao,l(N,h)&&i.ref===a.ref)return $l(i,a,y)}return a.flags|=1,i=ia(v,h),i.ref=a.ref,i.return=a,a.child=i}function nb(i,a,l,h,y){if(i!==null){var v=i.memoizedProps;if(Ao(v,h)&&i.ref===a.ref)if(wi=!1,a.pendingProps=h=v,s2(i,y))(i.flags&131072)!==0&&(wi=!0);else return a.lanes=i.lanes,$l(i,a,y)}return J0(i,a,l,h,y)}function rb(i,a,l,h){var y=h.children,v=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,i!==null){for(h=a.child=i.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~v}else h=0,a.child=null;return ib(i,a,v,l,h)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&X(a,v!==null?v.cachePool:null),v!==null?Ar(a,v):Mn(),Zr(a);else return h=a.lanes=536870912,ib(i,a,v!==null?v.baseLanes|l:l,l,h)}else v!==null?(X(a,v.cachePool),Ar(a,v),ei(),a.memoizedState=null):(i!==null&&X(a,null),Mn(),ei());return vs(i,a,y,l),a.child}function tp(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function ib(i,a,l,h,y){var v=Y();return v=v===null?null:{parent:Gr._currentValue,pool:v},a.memoizedState={baseLanes:l,cachePool:v},i!==null&&X(a,null),Mn(),Zr(a),i!==null&&il(i,a,h,!0),a.childLanes=y,null}function eg(i,a){return a=ng({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function sb(i,a,l){return mr(a,i.child,null,l),i=eg(a,a.pendingProps),i.flags|=2,Xn(a),a.memoizedState=null,i}function GN(i,a,l){var h=a.pendingProps,y=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(bn){if(h.mode==="hidden")return i=eg(a,h),a.lanes=536870912,tp(null,i);if(Hn(a),(i=pr)?(i=yw(i,kr),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:el!==null?{id:la,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},l=$h(i),l.return=a,a.child=l,Di=a,pr=null)):i=null,i===null)throw tl(a);return a.lanes=536870912,null}return eg(a,h)}var v=i.memoizedState;if(v!==null){var N=v.dehydrated;if(Hn(a),y)if(a.flags&256)a.flags&=-257,a=sb(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(wi||il(i,a,l,!1),y=(l&i.childLanes)!==0,wi||y){if(h=gr,h!==null&&(N=zi(h,l),N!==0&&N!==v.retryLane))throw v.retryLane=N,Io(i,N),ga(h,i,N),X0;hg(),a=sb(i,a,l)}else i=v.treeContext,pr=lo(N.nextSibling),Di=a,bn=!0,ys=null,kr=!1,i!==null&&Hm(a,i),a=eg(a,h),a.flags|=4096;return a}return i=ia(i.child,{mode:h.mode,children:h.children}),i.ref=a.ref,a.child=i,i.return=a,i}function tg(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function J0(i,a,l,h,y){return sl(a),l=Kd(i,a,l,h,void 0,y),h=$d(),i!==null&&!wi?(Wd(i,a,y),$l(i,a,y)):(bn&&h&&qd(a),a.flags|=1,vs(i,a,l,y),a.child)}function ab(i,a,l,h,y,v){return sl(a),a.updateQueue=null,l=No(a,h,l,y),nf(i),h=$d(),i!==null&&!wi?(Wd(i,a,v),$l(i,a,v)):(bn&&h&&qd(a),a.flags|=1,vs(i,a,l,v),a.child)}function ob(i,a,l,h,y){if(sl(a),a.stateNode===null){var v=Pi,N=l.contextType;typeof N=="object"&&N!==null&&(v=Mi(N)),v=new l(h,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Y0,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=h,v.state=a.memoizedState,v.refs={},rt(a),N=l.contextType,v.context=typeof N=="object"&&N!==null?Mi(N):Pi,v.state=a.memoizedState,N=l.getDerivedStateFromProps,typeof N=="function"&&(W0(a,l,N,h),v.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(N=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),N!==v.state&&Y0.enqueueReplaceState(v,v.state,null),Xr(a,h,v,y),lr(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){v=a.stateNode;var K=a.memoizedProps,ue=Zc(l,K);v.props=ue;var Re=v.context,Fe=l.contextType;N=Pi,typeof Fe=="object"&&Fe!==null&&(N=Mi(Fe));var $e=l.getDerivedStateFromProps;Fe=typeof $e=="function"||typeof v.getSnapshotBeforeUpdate=="function",K=a.pendingProps!==K,Fe||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(K||Re!==N)&&$5(a,v,h,N),ft=!1;var Oe=a.memoizedState;v.state=Oe,Xr(a,h,v,y),lr(),Re=a.memoizedState,K||Oe!==Re||ft?(typeof $e=="function"&&(W0(a,l,$e,h),Re=a.memoizedState),(ue=ft||K5(a,l,ue,h,Oe,Re,N))?(Fe||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Re),v.props=h,v.state=Re,v.context=N,h=ue):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{v=a.stateNode,wr(i,a),N=a.memoizedProps,Fe=Zc(l,N),v.props=Fe,$e=a.pendingProps,Oe=v.context,Re=l.contextType,ue=Pi,typeof Re=="object"&&Re!==null&&(ue=Mi(Re)),K=l.getDerivedStateFromProps,(Re=typeof K=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N!==$e||Oe!==ue)&&$5(a,v,h,ue),ft=!1,Oe=a.memoizedState,v.state=Oe,Xr(a,h,v,y),lr();var Me=a.memoizedState;N!==$e||Oe!==Me||ft||i!==null&&i.dependencies!==null&&Jh(i.dependencies)?(typeof K=="function"&&(W0(a,l,K,h),Me=a.memoizedState),(Fe=ft||K5(a,l,Fe,h,Oe,Me,ue)||i!==null&&i.dependencies!==null&&Jh(i.dependencies))?(Re||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,Me,ue),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,Me,ue)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||N===i.memoizedProps&&Oe===i.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&Oe===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Me),v.props=h,v.state=Me,v.context=ue,h=Fe):(typeof v.componentDidUpdate!="function"||N===i.memoizedProps&&Oe===i.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&Oe===i.memoizedState||(a.flags|=1024),h=!1)}return v=h,tg(i,a),h=(a.flags&128)!==0,v||h?(v=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,i!==null&&h?(a.child=mr(a,i.child,null,y),a.child=mr(a,null,l,y)):vs(i,a,l,y),a.memoizedState=v.state,i=a.child):i=$l(i,a,y),i}function lb(i,a,l,h){return ql(),a.flags|=256,vs(i,a,l,h),a.child}var Z0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function e2(i){return{baseLanes:i,cachePool:se()}}function t2(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=ja),i}function ub(i,a,l){var h=a.pendingProps,y=!1,v=(a.flags&128)!==0,N;if((N=v)||(N=i!==null&&i.memoizedState===null?!1:(Rn.current&2)!==0),N&&(y=!0,a.flags&=-129),N=(a.flags&32)!==0,a.flags&=-33,i===null){if(bn){if(y?Kr(a):ei(),(i=pr)?(i=yw(i,kr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:el!==null?{id:la,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},l=$h(i),l.return=a,a.child=l,Di=a,pr=null)):i=null,i===null)throw tl(a);return V2(i)?a.lanes=32:a.lanes=536870912,null}var K=h.children;return h=h.fallback,y?(ei(),y=a.mode,K=ng({mode:"hidden",children:K},y),h=Zo(h,y,l,null),K.return=a,h.return=a,K.sibling=h,a.child=K,h=a.child,h.memoizedState=e2(l),h.childLanes=t2(i,N,l),a.memoizedState=Z0,tp(null,h)):(Kr(a),n2(a,K))}var ue=i.memoizedState;if(ue!==null&&(K=ue.dehydrated,K!==null)){if(v)a.flags&256?(Kr(a),a.flags&=-257,a=r2(i,a,l)):a.memoizedState!==null?(ei(),a.child=i.child,a.flags|=128,a=null):(ei(),K=h.fallback,y=a.mode,h=ng({mode:"visible",children:h.children},y),K=Zo(K,y,l,null),K.flags|=2,h.return=a,K.return=a,h.sibling=K,a.child=h,mr(a,i.child,null,l),h=a.child,h.memoizedState=e2(l),h.childLanes=t2(i,N,l),a.memoizedState=Z0,a=tp(null,h));else if(Kr(a),V2(K)){if(N=K.nextSibling&&K.nextSibling.dataset,N)var Re=N.dgst;N=Re,h=Error(r(419)),h.stack="",h.digest=N,Mu({value:h,source:null,stack:null}),a=r2(i,a,l)}else if(wi||il(i,a,l,!1),N=(l&i.childLanes)!==0,wi||N){if(N=gr,N!==null&&(h=zi(N,l),h!==0&&h!==ue.retryLane))throw ue.retryLane=h,Io(i,h),ga(N,i,h),X0;M2(K)||hg(),a=r2(i,a,l)}else M2(K)?(a.flags|=192,a.child=i.child,a=null):(i=ue.treeContext,pr=lo(K.nextSibling),Di=a,bn=!0,ys=null,kr=!1,i!==null&&Hm(a,i),a=n2(a,h.children),a.flags|=4096);return a}return y?(ei(),K=h.fallback,y=a.mode,ue=i.child,Re=ue.sibling,h=ia(ue,{mode:"hidden",children:h.children}),h.subtreeFlags=ue.subtreeFlags&65011712,Re!==null?K=ia(Re,K):(K=Zo(K,y,l,null),K.flags|=2),K.return=a,h.return=a,h.sibling=K,a.child=h,tp(null,h),h=a.child,K=i.child.memoizedState,K===null?K=e2(l):(y=K.cachePool,y!==null?(ue=Gr._currentValue,y=y.parent!==ue?{parent:ue,pool:ue}:y):y=se(),K={baseLanes:K.baseLanes|l,cachePool:y}),h.memoizedState=K,h.childLanes=t2(i,N,l),a.memoizedState=Z0,tp(i.child,h)):(Kr(a),l=i.child,i=l.sibling,l=ia(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,i!==null&&(N=a.deletions,N===null?(a.deletions=[i],a.flags|=16):N.push(i)),a.child=l,a.memoizedState=null,l)}function n2(i,a){return a=ng({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function ng(i,a){return i=Xi(22,i,null,a),i.lanes=0,i}function r2(i,a,l){return mr(a,i.child,null,l),i=n2(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function cb(i,a,l){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),Vu(i.return,a,l)}function i2(i,a,l,h,y,v){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:y,treeForkCount:v}:(N.isBackwards=a,N.rendering=null,N.renderingStartTime=0,N.last=h,N.tail=l,N.tailMode=y,N.treeForkCount=v)}function hb(i,a,l){var h=a.pendingProps,y=h.revealOrder,v=h.tail;h=h.children;var N=Rn.current,K=(N&2)!==0;if(K?(N=N&1|2,a.flags|=128):N&=1,W(Rn,N),vs(i,a,h,l),h=bn?Wc:0,!K&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cb(i,l,a);else if(i.tag===19)cb(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=a.child,y=null;l!==null;)i=l.alternate,i!==null&&Zi(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=a.child,a.child=null):(y=l.sibling,l.sibling=null),i2(a,!1,y,l,v,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&Zi(i)===null){a.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}i2(a,!0,l,null,v,h);break;case"together":i2(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function $l(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),Gu|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(il(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=ia(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=ia(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function s2(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Jh(i)))}function KN(i,a,l){switch(a.tag){case 3:De(a,a.stateNode.containerInfo),rl(a,Gr,i.memoizedState.cache),ql();break;case 27:case 5:Be(a);break;case 4:De(a,a.stateNode.containerInfo);break;case 10:rl(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Hn(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Kr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?ub(i,a,l):(Kr(a),i=$l(i,a,l),i!==null?i.sibling:null);Kr(a);break;case 19:var y=(i.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(il(i,a,l,!1),h=(l&a.childLanes)!==0),y){if(h)return hb(i,a,l);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),W(Rn,Rn.current),h)break;return null;case 22:return a.lanes=0,rb(i,a,l,a.pendingProps);case 24:rl(a,Gr,i.memoizedState.cache)}return $l(i,a,l)}function fb(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)wi=!0;else{if(!s2(i,l)&&(a.flags&128)===0)return wi=!1,KN(i,a,l);wi=(i.flags&131072)!==0}else wi=!1,bn&&(a.flags&1048576)!==0&&zm(a,Wc,a.index);switch(a.lanes=0,a.tag){case 16:e:{var h=a.pendingProps;if(i=Se(a.elementType),a.type=i,typeof i=="function")Kh(i)?(h=Zc(i,h),a.tag=1,a=ob(null,a,i,h,l)):(a.tag=0,a=J0(null,a,i,h,l));else{if(i!=null){var y=i.$$typeof;if(y===J){a.tag=11,a=eb(null,a,i,h,l);break e}else if(y===z){a.tag=14,a=tb(null,a,i,h,l);break e}}throw a=oe(i)||i,Error(r(306,a,""))}}return a;case 0:return J0(i,a,a.type,a.pendingProps,l);case 1:return h=a.type,y=Zc(h,a.pendingProps),ob(i,a,h,y,l);case 3:e:{if(De(a,a.stateNode.containerInfo),i===null)throw Error(r(387));h=a.pendingProps;var v=a.memoizedState;y=v.element,wr(i,a),Xr(a,h,null,l);var N=a.memoizedState;if(h=N.cache,rl(a,Gr,h),h!==v.cache&&zl(a,[Gr],l,!0),lr(),h=N.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:N.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=lb(i,a,h,l);break e}else if(h!==y){y=sa(Error(r(424)),a),Mu(y),a=lb(i,a,h,l);break e}else for(i=a.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,pr=lo(i.firstChild),Di=a,bn=!0,ys=null,kr=!0,l=sn(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ql(),h===y){a=$l(i,a,l);break e}vs(i,a,h,l)}a=a.child}return a;case 26:return tg(i,a),i===null?(l=Ew(a.type,null,a.pendingProps,null))?a.memoizedState=l:bn||(l=a.type,i=a.pendingProps,h=_g(ce.current).createElement(l),h[jn]=a,h[Yn]=i,bs(h,l,i),br(h),a.stateNode=h):a.memoizedState=Ew(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Be(a),i===null&&bn&&(h=a.stateNode=bw(a.type,a.pendingProps,ce.current),Di=a,kr=!0,y=pr,Qu(a.type)?(j2=y,pr=lo(h.firstChild)):pr=y),vs(i,a,a.pendingProps.children,l),tg(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&bn&&((y=h=pr)&&(h=A6(h,a.type,a.pendingProps,kr),h!==null?(a.stateNode=h,Di=a,pr=lo(h.firstChild),kr=!1,y=!0):y=!1),y||tl(a)),Be(a),y=a.type,v=a.pendingProps,N=i!==null?i.memoizedProps:null,h=v.children,P2(y,v)?h=null:N!==null&&P2(y,N)&&(a.flags|=32),a.memoizedState!==null&&(y=Kd(i,a,F0,null,null,l),gp._currentValue=y),tg(i,a),vs(i,a,h,l),a.child;case 6:return i===null&&bn&&((i=l=pr)&&(l=E6(l,a.pendingProps,kr),l!==null?(a.stateNode=l,Di=a,pr=null,i=!0):i=!1),i||tl(a)),null;case 13:return ub(i,a,l);case 4:return De(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=mr(a,null,h,l):vs(i,a,h,l),a.child;case 11:return eb(i,a,a.type,a.pendingProps,l);case 7:return vs(i,a,a.pendingProps,l),a.child;case 8:return vs(i,a,a.pendingProps.children,l),a.child;case 12:return vs(i,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,rl(a,a.type,h.value),vs(i,a,h.children,l),a.child;case 9:return y=a.type._context,h=a.pendingProps.children,sl(a),y=Mi(y),h=h(y),a.flags|=1,vs(i,a,h,l),a.child;case 14:return tb(i,a,a.type,a.pendingProps,l);case 15:return nb(i,a,a.type,a.pendingProps,l);case 19:return hb(i,a,l);case 31:return GN(i,a,l);case 22:return rb(i,a,l,a.pendingProps);case 24:return sl(a),h=Mi(Gr),i===null?(y=Y(),y===null&&(y=gr,v=ju(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=l),y=v),a.memoizedState={parent:h,cache:y},rt(a),rl(a,Gr,y)):((i.lanes&l)!==0&&(wr(i,a),Xr(a,null,null,l),lr()),y=i.memoizedState,v=a.memoizedState,y.parent!==h?(y={parent:h,cache:h},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),rl(a,Gr,h)):(h=v.cache,rl(a,Gr,h),h!==y.cache&&zl(a,[Gr],l,!0))),vs(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Wl(i){i.flags|=4}function a2(i,a,l,h,y){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(Ub())i.flags|=8192;else throw Ve=_e,xe}else i.flags&=-16777217}function db(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Nw(a))if(Ub())i.flags|=8192;else throw Ve=_e,xe}function rg(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Qs():536870912,i.lanes|=a,pf|=a)}function np(i,a){if(!bn)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Tr(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(a)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=l,a}function $N(i,a,l){var h=a.pendingProps;switch(Qh(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(a),null;case 1:return Tr(a),null;case 3:return l=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),ca(Gr),ke(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Oi(a)?Wl(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Hd())),Tr(a),null;case 26:var y=a.type,v=a.memoizedState;return i===null?(Wl(a),v!==null?(Tr(a),db(a,v)):(Tr(a),a2(a,y,null,h,l))):v?v!==i.memoizedState?(Wl(a),Tr(a),db(a,v)):(Tr(a),a.flags&=-16777217):(i=i.memoizedProps,i!==h&&Wl(a),Tr(a),a2(a,y,i,h,l)),null;case 27:if(Je(a),l=ce.current,y=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Wl(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Tr(a),null}i=ee.current,Oi(a)?zd(a):(i=bw(y,h,l),a.stateNode=i,Wl(a))}return Tr(a),null;case 5:if(Je(a),y=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Wl(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Tr(a),null}if(v=ee.current,Oi(a))zd(a);else{var N=_g(ce.current);switch(v){case 1:v=N.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:v=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":v=N.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":v=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":v=N.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof h.is=="string"?N.createElement("select",{is:h.is}):N.createElement("select"),h.multiple?v.multiple=!0:h.size&&(v.size=h.size);break;default:v=typeof h.is=="string"?N.createElement(y,{is:h.is}):N.createElement(y)}}v[jn]=a,v[Yn]=h;e:for(N=a.child;N!==null;){if(N.tag===5||N.tag===6)v.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===a)break e;for(;N.sibling===null;){if(N.return===null||N.return===a)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}a.stateNode=v;e:switch(bs(v,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Wl(a)}}return Tr(a),a2(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&Wl(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(i=ce.current,Oi(a)){if(i=a.stateNode,l=a.memoizedProps,h=null,y=Di,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[jn]=a,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||uw(i.nodeValue,l)),i||tl(a,!0)}else i=_g(i).createTextNode(h),i[jn]=a,a.stateNode=i}return Tr(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(h=Oi(a),l!==null){if(i===null){if(!h)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[jn]=a}else ql(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Tr(a),i=!1}else l=Hd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(Xn(a),a):(Xn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Tr(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Oi(a),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[jn]=a}else ql(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Tr(a),y=!1}else y=Hd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Xn(a),a):(Xn(a),null)}return Xn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=a.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),v=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==y&&(h.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),rg(a,a.updateQueue),Tr(a),null);case 4:return ke(),i===null&&N2(a.stateNode.containerInfo),Tr(a),null;case 10:return ca(a.type),Tr(a),null;case 19:if(P(Rn),h=a.memoizedState,h===null)return Tr(a),null;if(y=(a.flags&128)!==0,v=h.rendering,v===null)if(y)np(h,!1);else{if(ni!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(v=Zi(i),v!==null){for(a.flags|=128,np(h,!1),i=v.updateQueue,a.updateQueue=i,rg(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)Kc(l,i),l=l.sibling;return W(Rn,Rn.current&1|2),bn&&$s(a,h.treeForkCount),a.child}i=i.sibling}h.tail!==null&&Zt()>lg&&(a.flags|=128,y=!0,np(h,!1),a.lanes=4194304)}else{if(!y)if(i=Zi(v),i!==null){if(a.flags|=128,y=!0,i=i.updateQueue,a.updateQueue=i,rg(a,i),np(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!bn)return Tr(a),null}else 2*Zt()-h.renderingStartTime>lg&&l!==536870912&&(a.flags|=128,y=!0,np(h,!1),a.lanes=4194304);h.isBackwards?(v.sibling=a.child,a.child=v):(i=h.last,i!==null?i.sibling=v:a.child=v,h.last=v)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Zt(),i.sibling=null,l=Rn.current,W(Rn,y?l&1|2:l&1),bn&&$s(a,h.treeForkCount),i):(Tr(a),null);case 22:case 23:return Xn(a),ui(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(Tr(a),a.subtreeFlags&6&&(a.flags|=8192)):Tr(a),l=a.updateQueue,l!==null&&rg(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),i!==null&&P(H),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ca(Gr),Tr(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function WN(i,a){switch(Qh(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return ca(Gr),ke(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Je(a),null;case 31:if(a.memoizedState!==null){if(Xn(a),a.alternate===null)throw Error(r(340));ql()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Xn(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));ql()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return P(Rn),null;case 4:return ke(),null;case 10:return ca(a.type),null;case 22:case 23:return Xn(a),ui(),i!==null&&P(H),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return ca(Gr),null;case 25:return null;default:return null}}function pb(i,a){switch(Qh(a),a.tag){case 3:ca(Gr),ke();break;case 26:case 27:case 5:Je(a);break;case 4:ke();break;case 31:a.memoizedState!==null&&Xn(a);break;case 13:Xn(a);break;case 19:P(Rn);break;case 10:ca(a.type);break;case 22:case 23:Xn(a),ui(),i!==null&&P(H);break;case 24:ca(Gr)}}function rp(i,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var y=h.next;l=y;do{if((l.tag&i)===i){h=void 0;var v=l.create,N=l.inst;h=v(),N.destroy=h}l=l.next}while(l!==y)}}catch(K){Zn(a,a.return,K)}}function zu(i,a,l){try{var h=a.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var v=y.next;h=v;do{if((h.tag&i)===i){var N=h.inst,K=N.destroy;if(K!==void 0){N.destroy=void 0,y=a;var ue=l,Re=K;try{Re()}catch(Fe){Zn(y,ue,Fe)}}}h=h.next}while(h!==v)}}catch(Fe){Zn(a,a.return,Fe)}}function mb(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Jr(a,l)}catch(h){Zn(i,i.return,h)}}}function gb(i,a,l){l.props=Zc(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Zn(i,a,h)}}function ip(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(y){Zn(i,a,y)}}function cl(i,a){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(y){Zn(i,a,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){Zn(i,a,y)}else l.current=null}function yb(i){var a=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(y){Zn(i,i.return,y)}}function o2(i,a,l){try{var h=i.stateNode;g6(h,i.type,l,a),h[Yn]=a}catch(y){Zn(i,i.return,y)}}function _b(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Qu(i.type)||i.tag===4}function l2(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||_b(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Qu(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function u2(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Fs));else if(h!==4&&(h===27&&Qu(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(u2(i,a,l),i=i.sibling;i!==null;)u2(i,a,l),i=i.sibling}function ig(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(h!==4&&(h===27&&Qu(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(ig(i,a,l),i=i.sibling;i!==null;)ig(i,a,l),i=i.sibling}function vb(i){var a=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);bs(a,h,l),a[jn]=i,a[Yn]=l}catch(v){Zn(i,i.return,v)}}var Yl=!1,Ai=!1,c2=!1,bb=typeof WeakSet=="function"?WeakSet:Set,es=null;function YN(i,a){if(i=i.containerInfo,L2=Sg,i=To(i),ro(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var y=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var N=0,K=-1,ue=-1,Re=0,Fe=0,$e=i,Oe=null;t:for(;;){for(var Me;$e!==l||y!==0&&$e.nodeType!==3||(K=N+y),$e!==v||h!==0&&$e.nodeType!==3||(ue=N+h),$e.nodeType===3&&(N+=$e.nodeValue.length),(Me=$e.firstChild)!==null;)Oe=$e,$e=Me;for(;;){if($e===i)break t;if(Oe===l&&++Re===y&&(K=N),Oe===v&&++Fe===h&&(ue=N),(Me=$e.nextSibling)!==null)break;$e=Oe,Oe=$e.parentNode}$e=Me}l=K===-1||ue===-1?null:{start:K,end:ue}}else l=null}l=l||{start:0,end:0}}else l=null;for(k2={focusedElem:i,selectionRange:l},Sg=!1,es=a;es!==null;)if(a=es,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,es=i;else for(;es!==null;){switch(a=es,v=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=a,y=v.memoizedProps,v=v.memoizedState,h=l.stateNode;try{var gt=Zc(l.type,y);i=h.getSnapshotBeforeUpdate(gt,v),h.__reactInternalSnapshotBeforeUpdate=i}catch(Gt){Zn(l,l.return,Gt)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)O2(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":O2(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,es=i;break}es=a.return}}function wb(i,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Xl(i,l),h&4&&rp(5,l);break;case 1:if(Xl(i,l),h&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(N){Zn(l,l.return,N)}else{var y=Zc(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(y,a,i.__reactInternalSnapshotBeforeUpdate)}catch(N){Zn(l,l.return,N)}}h&64&&mb(l),h&512&&ip(l,l.return);break;case 3:if(Xl(i,l),h&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Jr(i,a)}catch(N){Zn(l,l.return,N)}}break;case 27:a===null&&h&4&&vb(l);case 26:case 5:Xl(i,l),a===null&&h&4&&yb(l),h&512&&ip(l,l.return);break;case 12:Xl(i,l);break;case 31:Xl(i,l),h&4&&Tb(i,l);break;case 13:Xl(i,l),h&4&&Sb(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=i6.bind(null,l),T6(i,l))));break;case 22:if(h=l.memoizedState!==null||Yl,!h){a=a!==null&&a.memoizedState!==null||Ai,y=Yl;var v=Ai;Yl=h,(Ai=a)&&!v?Jl(i,l,(l.subtreeFlags&8772)!==0):Xl(i,l),Yl=y,Ai=v}break;case 30:break;default:Xl(i,l)}}function Ab(i){var a=i.alternate;a!==null&&(i.alternate=null,Ab(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&xa(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Or=null,fa=!1;function Ql(i,a,l){for(l=l.child;l!==null;)Eb(i,a,l),l=l.sibling}function Eb(i,a,l){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(nn,l)}catch{}switch(l.tag){case 26:Ai||cl(l,a),Ql(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ai||cl(l,a);var h=Or,y=fa;Qu(l.type)&&(Or=l.stateNode,fa=!1),Ql(i,a,l),dp(l.stateNode),Or=h,fa=y;break;case 5:Ai||cl(l,a);case 6:if(h=Or,y=fa,Or=null,Ql(i,a,l),Or=h,fa=y,Or!==null)if(fa)try{(Or.nodeType===9?Or.body:Or.nodeName==="HTML"?Or.ownerDocument.body:Or).removeChild(l.stateNode)}catch(v){Zn(l,a,v)}else try{Or.removeChild(l.stateNode)}catch(v){Zn(l,a,v)}break;case 18:Or!==null&&(fa?(i=Or,mw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Af(i)):mw(Or,l.stateNode));break;case 4:h=Or,y=fa,Or=l.stateNode.containerInfo,fa=!0,Ql(i,a,l),Or=h,fa=y;break;case 0:case 11:case 14:case 15:zu(2,l,a),Ai||zu(4,l,a),Ql(i,a,l);break;case 1:Ai||(cl(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&gb(l,a,h)),Ql(i,a,l);break;case 21:Ql(i,a,l);break;case 22:Ai=(h=Ai)||l.memoizedState!==null,Ql(i,a,l),Ai=h;break;default:Ql(i,a,l)}}function Tb(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Af(i)}catch(l){Zn(a,a.return,l)}}}function Sb(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Af(i)}catch(l){Zn(a,a.return,l)}}function QN(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new bb),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new bb),a;default:throw Error(r(435,i.tag))}}function sg(i,a){var l=QN(i);a.forEach(function(h){if(!l.has(h)){l.add(h);var y=s6.bind(null,i,h);h.then(y,y)}})}function da(i,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var y=l[h],v=i,N=a,K=N;e:for(;K!==null;){switch(K.tag){case 27:if(Qu(K.type)){Or=K.stateNode,fa=!1;break e}break;case 5:Or=K.stateNode,fa=!1;break e;case 3:case 4:Or=K.stateNode.containerInfo,fa=!0;break e}K=K.return}if(Or===null)throw Error(r(160));Eb(v,N,y),Or=null,fa=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Ib(a,i),a=a.sibling}var ko=null;function Ib(i,a){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:da(a,i),pa(i),h&4&&(zu(3,i,i.return),rp(3,i),zu(5,i,i.return));break;case 1:da(a,i),pa(i),h&512&&(Ai||l===null||cl(l,l.return)),h&64&&Yl&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var y=ko;if(da(a,i),pa(i),h&512&&(Ai||l===null||cl(l,l.return)),h&4){var v=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":v=y.getElementsByTagName("title")[0],(!v||v[Gi]||v[jn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(h),y.head.insertBefore(v,y.querySelector("head > title"))),bs(v,h,l),v[jn]=i,br(v),h=v;break e;case"link":var N=Iw("link","href",y).get(h+(l.href||""));if(N){for(var K=0;K<N.length;K++)if(v=N[K],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){N.splice(K,1);break t}}v=y.createElement(h),bs(v,h,l),y.head.appendChild(v);break;case"meta":if(N=Iw("meta","content",y).get(h+(l.content||""))){for(K=0;K<N.length;K++)if(v=N[K],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){N.splice(K,1);break t}}v=y.createElement(h),bs(v,h,l),y.head.appendChild(v);break;default:throw Error(r(468,h))}v[jn]=i,br(v),h=v}i.stateNode=h}else xw(y,i.type,i.stateNode);else i.stateNode=Sw(y,h,i.memoizedProps);else v!==h?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,h===null?xw(y,i.type,i.stateNode):Sw(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&o2(i,i.memoizedProps,l.memoizedProps)}break;case 27:da(a,i),pa(i),h&512&&(Ai||l===null||cl(l,l.return)),l!==null&&h&4&&o2(i,i.memoizedProps,l.memoizedProps);break;case 5:if(da(a,i),pa(i),h&512&&(Ai||l===null||cl(l,l.return)),i.flags&32){y=i.stateNode;try{ai(y,"")}catch(gt){Zn(i,i.return,gt)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,o2(i,y,l!==null?l.memoizedProps:y)),h&1024&&(c2=!0);break;case 6:if(da(a,i),pa(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(gt){Zn(i,i.return,gt)}}break;case 3:if(wg=null,y=ko,ko=vg(a.containerInfo),da(a,i),ko=y,pa(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Af(a.containerInfo)}catch(gt){Zn(i,i.return,gt)}c2&&(c2=!1,xb(i));break;case 4:h=ko,ko=vg(i.stateNode.containerInfo),da(a,i),pa(i),ko=h;break;case 12:da(a,i),pa(i);break;case 31:da(a,i),pa(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,sg(i,h)));break;case 13:da(a,i),pa(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(og=Zt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,sg(i,h)));break;case 22:y=i.memoizedState!==null;var ue=l!==null&&l.memoizedState!==null,Re=Yl,Fe=Ai;if(Yl=Re||y,Ai=Fe||ue,da(a,i),Ai=Fe,Yl=Re,pa(i),h&8192)e:for(a=i.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(l===null||ue||Yl||Ai||eh(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){ue=l=a;try{if(v=ue.stateNode,y)N=v.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{K=ue.stateNode;var $e=ue.memoizedProps.style,Oe=$e!=null&&$e.hasOwnProperty("display")?$e.display:null;K.style.display=Oe==null||typeof Oe=="boolean"?"":(""+Oe).trim()}}catch(gt){Zn(ue,ue.return,gt)}}}else if(a.tag===6){if(l===null){ue=a;try{ue.stateNode.nodeValue=y?"":ue.memoizedProps}catch(gt){Zn(ue,ue.return,gt)}}}else if(a.tag===18){if(l===null){ue=a;try{var Me=ue.stateNode;y?gw(Me,!0):gw(ue.stateNode,!1)}catch(gt){Zn(ue,ue.return,gt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,sg(i,l))));break;case 19:da(a,i),pa(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,sg(i,h)));break;case 30:break;case 21:break;default:da(a,i),pa(i)}}function pa(i){var a=i.flags;if(a&2){try{for(var l,h=i.return;h!==null;){if(_b(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var y=l.stateNode,v=l2(i);ig(i,v,y);break;case 5:var N=l.stateNode;l.flags&32&&(ai(N,""),l.flags&=-33);var K=l2(i);ig(i,K,N);break;case 3:case 4:var ue=l.stateNode.containerInfo,Re=l2(i);u2(i,Re,ue);break;default:throw Error(r(161))}}catch(Fe){Zn(i,i.return,Fe)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function xb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;xb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Xl(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)wb(i,a.alternate,a),a=a.sibling}function eh(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:zu(4,a,a.return),eh(a);break;case 1:cl(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&gb(a,a.return,l),eh(a);break;case 27:dp(a.stateNode);case 26:case 5:cl(a,a.return),eh(a);break;case 22:a.memoizedState===null&&eh(a);break;case 30:eh(a);break;default:eh(a)}i=i.sibling}}function Jl(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,y=i,v=a,N=v.flags;switch(v.tag){case 0:case 11:case 15:Jl(y,v,l),rp(4,v);break;case 1:if(Jl(y,v,l),h=v,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Re){Zn(h,h.return,Re)}if(h=v,y=h.updateQueue,y!==null){var K=h.stateNode;try{var ue=y.shared.hiddenCallbacks;if(ue!==null)for(y.shared.hiddenCallbacks=null,y=0;y<ue.length;y++)Ji(ue[y],K)}catch(Re){Zn(h,h.return,Re)}}l&&N&64&&mb(v),ip(v,v.return);break;case 27:vb(v);case 26:case 5:Jl(y,v,l),l&&h===null&&N&4&&yb(v),ip(v,v.return);break;case 12:Jl(y,v,l);break;case 31:Jl(y,v,l),l&&N&4&&Tb(y,v);break;case 13:Jl(y,v,l),l&&N&4&&Sb(y,v);break;case 22:v.memoizedState===null&&Jl(y,v,l),ip(v,v.return);break;case 30:break;default:Jl(y,v,l)}a=a.sibling}}function h2(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Yc(l))}function f2(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Yc(i))}function Po(i,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Nb(i,a,l,h),a=a.sibling}function Nb(i,a,l,h){var y=a.flags;switch(a.tag){case 0:case 11:case 15:Po(i,a,l,h),y&2048&&rp(9,a);break;case 1:Po(i,a,l,h);break;case 3:Po(i,a,l,h),y&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Yc(i)));break;case 12:if(y&2048){Po(i,a,l,h),i=a.stateNode;try{var v=a.memoizedProps,N=v.id,K=v.onPostCommit;typeof K=="function"&&K(N,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ue){Zn(a,a.return,ue)}}else Po(i,a,l,h);break;case 31:Po(i,a,l,h);break;case 13:Po(i,a,l,h);break;case 23:break;case 22:v=a.stateNode,N=a.alternate,a.memoizedState!==null?v._visibility&2?Po(i,a,l,h):sp(i,a):v._visibility&2?Po(i,a,l,h):(v._visibility|=2,hf(i,a,l,h,(a.subtreeFlags&10256)!==0||!1)),y&2048&&h2(N,a);break;case 24:Po(i,a,l,h),y&2048&&f2(a.alternate,a);break;default:Po(i,a,l,h)}}function hf(i,a,l,h,y){for(y=y&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var v=i,N=a,K=l,ue=h,Re=N.flags;switch(N.tag){case 0:case 11:case 15:hf(v,N,K,ue,y),rp(8,N);break;case 23:break;case 22:var Fe=N.stateNode;N.memoizedState!==null?Fe._visibility&2?hf(v,N,K,ue,y):sp(v,N):(Fe._visibility|=2,hf(v,N,K,ue,y)),y&&Re&2048&&h2(N.alternate,N);break;case 24:hf(v,N,K,ue,y),y&&Re&2048&&f2(N.alternate,N);break;default:hf(v,N,K,ue,y)}a=a.sibling}}function sp(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,h=a,y=h.flags;switch(h.tag){case 22:sp(l,h),y&2048&&h2(h.alternate,h);break;case 24:sp(l,h),y&2048&&f2(h.alternate,h);break;default:sp(l,h)}a=a.sibling}}var ap=8192;function ff(i,a,l){if(i.subtreeFlags&ap)for(i=i.child;i!==null;)Rb(i,a,l),i=i.sibling}function Rb(i,a,l){switch(i.tag){case 26:ff(i,a,l),i.flags&ap&&i.memoizedState!==null&&M6(l,ko,i.memoizedState,i.memoizedProps);break;case 5:ff(i,a,l);break;case 3:case 4:var h=ko;ko=vg(i.stateNode.containerInfo),ff(i,a,l),ko=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=ap,ap=16777216,ff(i,a,l),ap=h):ff(i,a,l));break;default:ff(i,a,l)}}function Cb(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function op(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];es=h,kb(h,i)}Cb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Lb(i),i=i.sibling}function Lb(i){switch(i.tag){case 0:case 11:case 15:op(i),i.flags&2048&&zu(9,i,i.return);break;case 3:op(i);break;case 12:op(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,ag(i)):op(i);break;default:op(i)}}function ag(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];es=h,kb(h,i)}Cb(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:zu(8,a,a.return),ag(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,ag(a));break;default:ag(a)}i=i.sibling}}function kb(i,a){for(;es!==null;){var l=es;switch(l.tag){case 0:case 11:case 15:zu(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Yc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,es=h;else e:for(l=i;es!==null;){h=es;var y=h.sibling,v=h.return;if(Ab(h),h===l){es=null;break e}if(y!==null){y.return=v,es=y;break e}es=v}}}var XN={getCacheForType:function(i){var a=Mi(Gr),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return Mi(Gr).controller.signal}},JN=typeof WeakMap=="function"?WeakMap:Map,Gn=0,gr=null,wn=null,Tn=0,Jn=0,Va=null,Hu=!1,df=!1,d2=!1,Zl=0,ni=0,Gu=0,th=0,p2=0,ja=0,pf=0,lp=null,ma=null,m2=!1,og=0,Pb=0,lg=1/0,ug=null,Ku=null,ji=0,$u=null,mf=null,eu=0,g2=0,y2=null,Db=null,up=0,_2=null;function Ua(){return(Gn&2)!==0&&Tn!==0?Tn&-Tn:ae.T!==null?T2():Wr()}function Ob(){if(ja===0)if((Tn&536870912)===0||bn){var i=Vn;Vn<<=1,(Vn&3932160)===0&&(Vn=262144),ja=i}else ja=536870912;return i=Er.current,i!==null&&(i.flags|=32),ja}function ga(i,a,l){(i===gr&&(Jn===2||Jn===9)||i.cancelPendingCommit!==null)&&(gf(i,0),Wu(i,Tn,ja,!1)),Ct(i,l),((Gn&2)===0||i!==gr)&&(i===gr&&((Gn&2)===0&&(th|=l),ni===4&&Wu(i,Tn,ja,!1)),hl(i))}function Mb(i,a,l){if((Gn&6)!==0)throw Error(r(327));var h=!l&&(a&127)===0&&(a&i.expiredLanes)===0||Ii(i,a),y=h?t6(i,a):b2(i,a,!0),v=h;do{if(y===0){df&&!h&&Wu(i,a,0,!1);break}else{if(l=i.current.alternate,v&&!ZN(l)){y=b2(i,a,!1),v=!1;continue}if(y===2){if(v=a,i.errorRecoveryDisabledLanes&v)var N=0;else N=i.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){a=N;e:{var K=i;y=lp;var ue=K.current.memoizedState.isDehydrated;if(ue&&(gf(K,N).flags|=256),N=b2(K,N,!1),N!==2){if(d2&&!ue){K.errorRecoveryDisabledLanes|=v,th|=v,y=4;break e}v=ma,ma=y,v!==null&&(ma===null?ma=v:ma.push.apply(ma,v))}y=N}if(v=!1,y!==2)continue}}if(y===1){gf(i,0),Wu(i,a,0,!0);break}e:{switch(h=i,v=y,v){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Wu(h,a,ja,!Hu);break e;case 2:ma=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(y=og+300-Zt(),10<y)){if(Wu(h,a,ja,!Hu),hn(h,0,!0)!==0)break e;eu=a,h.timeoutHandle=dw(Vb.bind(null,h,l,ma,ug,m2,a,ja,th,pf,Hu,v,"Throttled",-0,0),y);break e}Vb(h,l,ma,ug,m2,a,ja,th,pf,Hu,v,null,-0,0)}}break}while(!0);hl(i)}function Vb(i,a,l,h,y,v,N,K,ue,Re,Fe,$e,Oe,Me){if(i.timeoutHandle=-1,$e=a.subtreeFlags,$e&8192||($e&16785408)===16785408){$e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fs},Rb(a,v,$e);var gt=(v&62914560)===v?og-Zt():(v&4194048)===v?Pb-Zt():0;if(gt=V6($e,gt),gt!==null){eu=v,i.cancelPendingCommit=gt(Gb.bind(null,i,a,v,l,h,y,N,K,ue,Fe,$e,null,Oe,Me)),Wu(i,v,N,!Re);return}}Gb(i,a,v,l,h,y,N,K,ue)}function ZN(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var y=l[h],v=y.getSnapshot;y=y.value;try{if(!ki(v(),y))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Wu(i,a,l,h){a&=~p2,a&=~th,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var y=a;0<y;){var v=31-en(y),N=1<<v;h[v]=-1,y&=~N}l!==0&&os(i,l,a)}function cg(){return(Gn&6)===0?(cp(0),!1):!0}function v2(){if(wn!==null){if(Jn===0)var i=wn.return;else i=wn,so=nl=null,rf(i),We=null,_t=0,i=wn;for(;i!==null;)pb(i.alternate,i),i=i.return;wn=null}}function gf(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,v6(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),eu=0,v2(),gr=i,wn=l=ia(i.current,null),Tn=a,Jn=0,Va=null,Hu=!1,df=Ii(i,a),d2=!1,pf=ja=p2=th=Gu=ni=0,ma=lp=null,m2=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var y=31-en(h),v=1<<y;a|=i[y],h&=~v}return Zl=a,zc(),l}function jb(i,a){Vt=null,ae.H=ep,a===de||a===re?(a=qe(),Jn=3):a===xe?(a=qe(),Jn=4):Jn=a===X0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Va=a,wn===null&&(ni=1,Zm(i,sa(a,i.current)))}function Ub(){var i=Er.current;return i===null?!0:(Tn&4194048)===Tn?Ln===null:(Tn&62914560)===Tn||(Tn&536870912)!==0?i===Ln:!1}function Fb(){var i=ae.H;return ae.H=ep,i===null?ep:i}function Bb(){var i=ae.A;return ae.A=XN,i}function hg(){ni=4,Hu||(Tn&4194048)!==Tn&&Er.current!==null||(df=!0),(Gu&134217727)===0&&(th&134217727)===0||gr===null||Wu(gr,Tn,ja,!1)}function b2(i,a,l){var h=Gn;Gn|=2;var y=Fb(),v=Bb();(gr!==i||Tn!==a)&&(ug=null,gf(i,a)),a=!1;var N=ni;e:do try{if(Jn!==0&&wn!==null){var K=wn,ue=Va;switch(Jn){case 8:v2(),N=6;break e;case 3:case 2:case 9:case 6:Er.current===null&&(a=!0);var Re=Jn;if(Jn=0,Va=null,yf(i,K,ue,Re),l&&df){N=0;break e}break;default:Re=Jn,Jn=0,Va=null,yf(i,K,ue,Re)}}e6(),N=ni;break}catch(Fe){jb(i,Fe)}while(!0);return a&&i.shellSuspendCounter++,so=nl=null,Gn=h,ae.H=y,ae.A=v,wn===null&&(gr=null,Tn=0,zc()),N}function e6(){for(;wn!==null;)qb(wn)}function t6(i,a){var l=Gn;Gn|=2;var h=Fb(),y=Bb();gr!==i||Tn!==a?(ug=null,lg=Zt()+500,gf(i,a)):df=Ii(i,a);e:do try{if(Jn!==0&&wn!==null){a=wn;var v=Va;t:switch(Jn){case 1:Jn=0,Va=null,yf(i,a,v,1);break;case 2:case 9:if(Ee(v)){Jn=0,Va=null,zb(a);break}a=function(){Jn!==2&&Jn!==9||gr!==i||(Jn=7),hl(i)},v.then(a,a);break e;case 3:Jn=7;break e;case 4:Jn=5;break e;case 7:Ee(v)?(Jn=0,Va=null,zb(a)):(Jn=0,Va=null,yf(i,a,v,7));break;case 5:var N=null;switch(wn.tag){case 26:N=wn.memoizedState;case 5:case 27:var K=wn;if(N?Nw(N):K.stateNode.complete){Jn=0,Va=null;var ue=K.sibling;if(ue!==null)wn=ue;else{var Re=K.return;Re!==null?(wn=Re,fg(Re)):wn=null}break t}}Jn=0,Va=null,yf(i,a,v,5);break;case 6:Jn=0,Va=null,yf(i,a,v,6);break;case 8:v2(),ni=6;break e;default:throw Error(r(462))}}n6();break}catch(Fe){jb(i,Fe)}while(!0);return so=nl=null,ae.H=h,ae.A=y,Gn=l,wn!==null?0:(gr=null,Tn=0,zc(),ni)}function n6(){for(;wn!==null&&!Ot();)qb(wn)}function qb(i){var a=fb(i.alternate,i,Zl);i.memoizedProps=i.pendingProps,a===null?fg(i):wn=a}function zb(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=ab(l,a,a.pendingProps,a.type,void 0,Tn);break;case 11:a=ab(l,a,a.pendingProps,a.type.render,a.ref,Tn);break;case 5:rf(a);default:pb(l,a),a=wn=Kc(a,Zl),a=fb(l,a,Zl)}i.memoizedProps=i.pendingProps,a===null?fg(i):wn=a}function yf(i,a,l,h){so=nl=null,rf(a),We=null,_t=0;var y=a.return;try{if(HN(i,y,a,l,Tn)){ni=1,Zm(i,sa(l,i.current)),wn=null;return}}catch(v){if(y!==null)throw wn=y,v;ni=1,Zm(i,sa(l,i.current)),wn=null;return}a.flags&32768?(bn||h===1?i=!0:df||(Tn&536870912)!==0?i=!1:(Hu=i=!0,(h===2||h===9||h===3||h===6)&&(h=Er.current,h!==null&&h.tag===13&&(h.flags|=16384))),Hb(a,i)):fg(a)}function fg(i){var a=i;do{if((a.flags&32768)!==0){Hb(a,Hu);return}i=a.return;var l=$N(a.alternate,a,Zl);if(l!==null){wn=l;return}if(a=a.sibling,a!==null){wn=a;return}wn=a=i}while(a!==null);ni===0&&(ni=5)}function Hb(i,a){do{var l=WN(i.alternate,i);if(l!==null){l.flags&=32767,wn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){wn=i;return}wn=i=l}while(i!==null);ni=6,wn=null}function Gb(i,a,l,h,y,v,N,K,ue){i.cancelPendingCommit=null;do dg();while(ji!==0);if((Gn&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(v=a.lanes|a.childLanes,v|=zh,Ia(i,l,v,N,K,ue),i===gr&&(wn=gr=null,Tn=0),mf=a,$u=i,eu=l,g2=v,y2=y,Db=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,a6(tn,function(){return Qb(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=ae.T,ae.T=null,y=pe.p,pe.p=2,N=Gn,Gn|=4;try{YN(i,a,l)}finally{Gn=N,pe.p=y,ae.T=h}}ji=1,Kb(),$b(),Wb()}}function Kb(){if(ji===1){ji=0;var i=$u,a=mf,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=ae.T,ae.T=null;var h=pe.p;pe.p=2;var y=Gn;Gn|=4;try{Ib(a,i);var v=k2,N=To(i.containerInfo),K=v.focusedElem,ue=v.selectionRange;if(N!==K&&K&&K.ownerDocument&&Eo(K.ownerDocument.documentElement,K)){if(ue!==null&&ro(K)){var Re=ue.start,Fe=ue.end;if(Fe===void 0&&(Fe=Re),"selectionStart"in K)K.selectionStart=Re,K.selectionEnd=Math.min(Fe,K.value.length);else{var $e=K.ownerDocument||document,Oe=$e&&$e.defaultView||window;if(Oe.getSelection){var Me=Oe.getSelection(),gt=K.textContent.length,Gt=Math.min(ue.start,gt),hr=ue.end===void 0?Gt:Math.min(ue.end,gt);!Me.extend&&Gt>hr&&(N=hr,hr=Gt,Gt=N);var we=ku(K,Gt),me=ku(K,hr);if(we&&me&&(Me.rangeCount!==1||Me.anchorNode!==we.node||Me.anchorOffset!==we.offset||Me.focusNode!==me.node||Me.focusOffset!==me.offset)){var Ne=$e.createRange();Ne.setStart(we.node,we.offset),Me.removeAllRanges(),Gt>hr?(Me.addRange(Ne),Me.extend(me.node,me.offset)):(Ne.setEnd(me.node,me.offset),Me.addRange(Ne))}}}}for($e=[],Me=K;Me=Me.parentNode;)Me.nodeType===1&&$e.push({element:Me,left:Me.scrollLeft,top:Me.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<$e.length;K++){var He=$e[K];He.element.scrollLeft=He.left,He.element.scrollTop=He.top}}Sg=!!L2,k2=L2=null}finally{Gn=y,pe.p=h,ae.T=l}}i.current=a,ji=2}}function $b(){if(ji===2){ji=0;var i=$u,a=mf,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=ae.T,ae.T=null;var h=pe.p;pe.p=2;var y=Gn;Gn|=4;try{wb(i,a.alternate,a)}finally{Gn=y,pe.p=h,ae.T=l}}ji=3}}function Wb(){if(ji===4||ji===3){ji=0,It();var i=$u,a=mf,l=eu,h=Db;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ji=5:(ji=0,mf=$u=null,Yb(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Ku=null),ir(l),a=a.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(nn,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=ae.T,y=pe.p,pe.p=2,ae.T=null;try{for(var v=i.onRecoverableError,N=0;N<h.length;N++){var K=h[N];v(K.value,{componentStack:K.stack})}}finally{ae.T=a,pe.p=y}}(eu&3)!==0&&dg(),hl(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===_2?up++:(up=0,_2=i):up=0,cp(0)}}function Yb(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Yc(a)))}function dg(){return Kb(),$b(),Wb(),Qb()}function Qb(){if(ji!==5)return!1;var i=$u,a=g2;g2=0;var l=ir(eu),h=ae.T,y=pe.p;try{pe.p=32>l?32:l,ae.T=null,l=y2,y2=null;var v=$u,N=eu;if(ji=0,mf=$u=null,eu=0,(Gn&6)!==0)throw Error(r(331));var K=Gn;if(Gn|=4,Lb(v.current),Nb(v,v.current,N,l),Gn=K,cp(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(nn,v)}catch{}return!0}finally{pe.p=y,ae.T=h,Yb(i,a)}}function Xb(i,a,l){a=sa(l,a),a=Q0(i.stateNode,a,2),i=ln(i,a,2),i!==null&&(Ct(i,2),hl(i))}function Zn(i,a,l){if(i.tag===3)Xb(i,i,l);else for(;a!==null;){if(a.tag===3){Xb(a,i,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ku===null||!Ku.has(h))){i=sa(l,i),l=J5(2),h=ln(a,l,2),h!==null&&(Z5(l,h,a,i),Ct(h,2),hl(h));break}}a=a.return}}function w2(i,a,l){var h=i.pingCache;if(h===null){h=i.pingCache=new JN;var y=new Set;h.set(a,y)}else y=h.get(a),y===void 0&&(y=new Set,h.set(a,y));y.has(l)||(d2=!0,y.add(l),i=r6.bind(null,i,a,l),a.then(i,i))}function r6(i,a,l){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,gr===i&&(Tn&l)===l&&(ni===4||ni===3&&(Tn&62914560)===Tn&&300>Zt()-og?(Gn&2)===0&&gf(i,0):p2|=l,pf===Tn&&(pf=0)),hl(i)}function Jb(i,a){a===0&&(a=Qs()),i=Io(i,a),i!==null&&(Ct(i,a),hl(i))}function i6(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),Jb(i,l)}function s6(i,a){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),Jb(i,l)}function a6(i,a){return ut(i,a)}var pg=null,_f=null,A2=!1,mg=!1,E2=!1,Yu=0;function hl(i){i!==_f&&i.next===null&&(_f===null?pg=_f=i:_f=_f.next=i),mg=!0,A2||(A2=!0,l6())}function cp(i,a){if(!E2&&mg){E2=!0;do for(var l=!1,h=pg;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var v=0;else{var N=h.suspendedLanes,K=h.pingedLanes;v=(1<<31-en(42|i)+1)-1,v&=y&~(N&~K),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,nw(h,v))}else v=Tn,v=hn(h,h===gr?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||Ii(h,v)||(l=!0,nw(h,v));h=h.next}while(l);E2=!1}}function o6(){Zb()}function Zb(){mg=A2=!1;var i=0;Yu!==0&&_6()&&(i=Yu);for(var a=Zt(),l=null,h=pg;h!==null;){var y=h.next,v=ew(h,a);v===0?(h.next=null,l===null?pg=y:l.next=y,y===null&&(_f=l)):(l=h,(i!==0||(v&3)!==0)&&(mg=!0)),h=y}ji!==0&&ji!==5||cp(i),Yu!==0&&(Yu=0)}function ew(i,a){for(var l=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var N=31-en(v),K=1<<N,ue=y[N];ue===-1?((K&l)===0||(K&h)!==0)&&(y[N]=mi(K,a)):ue<=a&&(i.expiredLanes|=K),v&=~K}if(a=gr,l=Tn,l=hn(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===a&&(Jn===2||Jn===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&lt(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ii(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(h!==null&&lt(h),ir(l)){case 2:case 8:l=cn;break;case 32:l=tn;break;case 268435456:l=Yt;break;default:l=tn}return h=tw.bind(null,i),l=ut(l,h),i.callbackPriority=a,i.callbackNode=l,a}return h!==null&&h!==null&&lt(h),i.callbackPriority=2,i.callbackNode=null,2}function tw(i,a){if(ji!==0&&ji!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(dg()&&i.callbackNode!==l)return null;var h=Tn;return h=hn(i,i===gr?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Mb(i,h,a),ew(i,Zt()),i.callbackNode!=null&&i.callbackNode===l?tw.bind(null,i):null)}function nw(i,a){if(dg())return null;Mb(i,a,!0)}function l6(){b6(function(){(Gn&6)!==0?ut(Kt,o6):Zb()})}function T2(){if(Yu===0){var i=p;i===0&&(i=qt,qt<<=1,(qt&261888)===0&&(qt=256)),Yu=i}return Yu}function rw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:$i(""+i)}function iw(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function u6(i,a,l,h,y){if(a==="submit"&&l&&l.stateNode===y){var v=rw((y[Yn]||null).action),N=h.submitter;N&&(a=(a=N[Yn]||null)?rw(a.formAction):N.getAttribute("formAction"),a!==null&&(v=a,N=null));var K=new _i("action","action",null,h,y);i.push({event:K,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Yu!==0){var ue=N?iw(y,N):new FormData(y);H0(l,{pending:!0,data:ue,method:y.method,action:v},null,ue)}}else typeof v=="function"&&(K.preventDefault(),ue=N?iw(y,N):new FormData(y),H0(l,{pending:!0,data:ue,method:y.method,action:v},v,ue))},currentTarget:y}]})}}for(var S2=0;S2<Ul.length;S2++){var I2=Ul[S2],c6=I2.toLowerCase(),h6=I2[0].toUpperCase()+I2.slice(1);ra(c6,"on"+h6)}ra(jl,"onAnimationEnd"),ra(Bc,"onAnimationIteration"),ra(Ud,"onAnimationStart"),ra("dblclick","onDoubleClick"),ra("focusin","onFocus"),ra("focusout","onBlur"),ra(Fm,"onTransitionRun"),ra(Bm,"onTransitionStart"),ra(qm,"onTransitionCancel"),ra(Fd,"onTransitionEnd"),Us("onMouseEnter",["mouseout","mouseover"]),Us("onMouseLeave",["mouseout","mouseover"]),Us("onPointerEnter",["pointerout","pointerover"]),Us("onPointerLeave",["pointerout","pointerover"]),Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hp));function sw(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],y=h.event;h=h.listeners;e:{var v=void 0;if(a)for(var N=h.length-1;0<=N;N--){var K=h[N],ue=K.instance,Re=K.currentTarget;if(K=K.listener,ue!==v&&y.isPropagationStopped())break e;v=K,y.currentTarget=Re;try{v(y)}catch(Fe){qc(Fe)}y.currentTarget=null,v=ue}else for(N=0;N<h.length;N++){if(K=h[N],ue=K.instance,Re=K.currentTarget,K=K.listener,ue!==v&&y.isPropagationStopped())break e;v=K,y.currentTarget=Re;try{v(y)}catch(Fe){qc(Fe)}y.currentTarget=null,v=ue}}}}function An(i,a){var l=a[Hi];l===void 0&&(l=a[Hi]=new Set);var h=i+"__bubble";l.has(h)||(aw(a,i,2,!1),l.add(h))}function x2(i,a,l){var h=0;a&&(h|=4),aw(l,i,h,a)}var gg="_reactListening"+Math.random().toString(36).slice(2);function N2(i){if(!i[gg]){i[gg]=!0,Ho.forEach(function(l){l!=="selectionchange"&&(f6.has(l)||x2(l,!1,i),x2(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[gg]||(a[gg]=!0,x2("selectionchange",!1,a))}}function aw(i,a,l,h){switch(Ow(a)){case 2:var y=F6;break;case 8:y=B6;break;default:y=z2}l=y.bind(null,a,l,i),y=void 0,!go||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(a,l,{capture:!0,passive:y}):i.addEventListener(a,l,!0):y!==void 0?i.addEventListener(a,l,{passive:y}):i.addEventListener(a,l,!1)}function R2(i,a,l,h,y){var v=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var N=h.tag;if(N===3||N===4){var K=h.stateNode.containerInfo;if(K===y)break;if(N===4)for(N=h.return;N!==null;){var ue=N.tag;if((ue===3||ue===4)&&N.stateNode.containerInfo===y)return;N=N.return}for(;K!==null;){if(N=ls(K),N===null)return;if(ue=N.tag,ue===5||ue===6||ue===26||ue===27){h=v=N;continue e}K=K.parentNode}}h=h.return}Ya(function(){var Re=v,Fe=Wi(l),$e=[];e:{var Oe=Bd.get(i);if(Oe!==void 0){var Me=_i,gt=i;switch(i){case"keypress":if(fs(l)===0)break e;case"keydown":case"keyup":Me=gn;break;case"focusin":gt="focus",Me=qs;break;case"focusout":gt="blur",Me=qs;break;case"beforeblur":case"afterblur":Me=qs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=ta;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=S;break;case jl:case Bc:case Ud:Me=A;break;case Fd:Me=Q;break;case"scroll":case"scrollend":Me=Qa;break;case"wheel":Me=Pe;break;case"copy":case"cut":case"paste":Me=ie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=$n;break;case"toggle":case"beforetoggle":Me=Wt}var Gt=(a&4)!==0,hr=!Gt&&(i==="scroll"||i==="scrollend"),we=Gt?Oe!==null?Oe+"Capture":null:Oe;Gt=[];for(var me=Re,Ne;me!==null;){var He=me;if(Ne=He.stateNode,He=He.tag,He!==5&&He!==26&&He!==27||Ne===null||we===null||(He=oi(me,we),He!=null&&Gt.push(fp(me,He,Ne))),hr)break;me=me.return}0<Gt.length&&(Oe=new Me(Oe,gt,null,l,Fe),$e.push({event:Oe,listeners:Gt}))}}if((a&7)===0){e:{if(Oe=i==="mouseover"||i==="pointerover",Me=i==="mouseout"||i==="pointerout",Oe&&l!==La&&(gt=l.relatedTarget||l.fromElement)&&(ls(gt)||gt[Yr]))break e;if((Me||Oe)&&(Oe=Fe.window===Fe?Fe:(Oe=Fe.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,Me?(gt=l.relatedTarget||l.toElement,Me=Re,gt=gt?ls(gt):null,gt!==null&&(hr=o(gt),Gt=gt.tag,gt!==hr||Gt!==5&&Gt!==27&&Gt!==6)&&(gt=null)):(Me=null,gt=Re),Me!==gt)){if(Gt=Qo,He="onMouseLeave",we="onMouseEnter",me="mouse",(i==="pointerout"||i==="pointerover")&&(Gt=$n,He="onPointerLeave",we="onPointerEnter",me="pointer"),hr=Me==null?Oe:us(Me),Ne=gt==null?Oe:us(gt),Oe=new Gt(He,me+"leave",Me,l,Fe),Oe.target=hr,Oe.relatedTarget=Ne,He=null,ls(Fe)===Re&&(Gt=new Gt(we,me+"enter",gt,l,Fe),Gt.target=Ne,Gt.relatedTarget=hr,He=Gt),hr=He,Me&&gt)t:{for(Gt=d6,we=Me,me=gt,Ne=0,He=we;He;He=Gt(He))Ne++;He=0;for(var Ft=me;Ft;Ft=Gt(Ft))He++;for(;0<Ne-He;)we=Gt(we),Ne--;for(;0<He-Ne;)me=Gt(me),He--;for(;Ne--;){if(we===me||me!==null&&we===me.alternate){Gt=we;break t}we=Gt(we),me=Gt(me)}Gt=null}else Gt=null;Me!==null&&ow($e,Oe,Me,Gt,!1),gt!==null&&hr!==null&&ow($e,hr,gt,Gt,!0)}}e:{if(Oe=Re?us(Re):window,Me=Oe.nodeName&&Oe.nodeName.toLowerCase(),Me==="select"||Me==="input"&&Oe.type==="file")var Bn=Jo;else if(Uc(Oe))if(xs)Bn=to;else{Bn=zr;var Tt=Cu}else Me=Oe.nodeName,!Me||Me.toLowerCase()!=="input"||Oe.type!=="checkbox"&&Oe.type!=="radio"?Re&&$o(Re.elementType)&&(Bn=Jo):Bn=qh;if(Bn&&(Bn=Bn(i,Re))){Hs($e,Bn,l,Fe);break e}Tt&&Tt(i,Oe,Re),i==="focusout"&&Re&&Oe.type==="number"&&Re.memoizedProps.value!=null&&Ll(Oe,"number",Oe.value)}switch(Tt=Re?us(Re):window,i){case"focusin":(Uc(Tt)||Tt.contentEditable==="true")&&(Gs=Tt,So=Re,Yi=null);break;case"focusout":Yi=So=Gs=null;break;case"mousedown":na=!0;break;case"contextmenu":case"mouseup":case"dragend":na=!1,On($e,l,Fe);break;case"selectionchange":if(Vl)break;case"keydown":case"keyup":On($e,l,Fe)}var fn;if(dn)e:{switch(i){case"compositionstart":var Sn="onCompositionStart";break e;case"compositionend":Sn="onCompositionEnd";break e;case"compositionupdate":Sn="onCompositionUpdate";break e}Sn=void 0}else Ja?zs(i,l)&&(Sn="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Sn="onCompositionStart");Sn&&(Ci&&l.locale!=="ko"&&(Ja||Sn!=="onCompositionStart"?Sn==="onCompositionEnd"&&Ja&&(fn=Ol()):(hs=Fe,yo="value"in hs?hs.value:hs.textContent,Ja=!0)),Tt=yg(Re,Sn),0<Tt.length&&(Sn=new be(Sn,i,null,l,Fe),$e.push({event:Sn,listeners:Tt}),fn?Sn.data=fn:(fn=Xa(l),fn!==null&&(Sn.data=fn)))),(fn=vi?ms(i,l):vo(i,l))&&(Sn=yg(Re,"onBeforeInput"),0<Sn.length&&(Tt=new be("onBeforeInput","beforeinput",null,l,Fe),$e.push({event:Tt,listeners:Sn}),Tt.data=fn)),u6($e,i,Re,l,Fe)}sw($e,a)})}function fp(i,a,l){return{instance:i,listener:a,currentTarget:l}}function yg(i,a){for(var l=a+"Capture",h=[];i!==null;){var y=i,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=oi(i,l),y!=null&&h.unshift(fp(i,y,v)),y=oi(i,a),y!=null&&h.push(fp(i,y,v))),i.tag===3)return h;i=i.return}return[]}function d6(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ow(i,a,l,h,y){for(var v=a._reactName,N=[];l!==null&&l!==h;){var K=l,ue=K.alternate,Re=K.stateNode;if(K=K.tag,ue!==null&&ue===h)break;K!==5&&K!==26&&K!==27||Re===null||(ue=Re,y?(Re=oi(l,v),Re!=null&&N.unshift(fp(l,Re,ue))):y||(Re=oi(l,v),Re!=null&&N.push(fp(l,Re,ue)))),l=l.return}N.length!==0&&i.push({event:a,listeners:N})}var p6=/\r\n?/g,m6=/\u0000|\uFFFD/g;function lw(i){return(typeof i=="string"?i:""+i).replace(p6,`
`).replace(m6,"")}function uw(i,a){return a=lw(a),lw(i)===a}function cr(i,a,l,h,y,v){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||ai(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&ai(i,""+h);break;case"className":yi(i,"class",h);break;case"tabIndex":yi(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":yi(i,l,h);break;case"style":Dl(i,h,v);break;case"data":if(a!=="object"){yi(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=$i(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(a!=="input"&&cr(i,a,"name",y.name,y,null),cr(i,a,"formEncType",y.formEncType,y,null),cr(i,a,"formMethod",y.formMethod,y,null),cr(i,a,"formTarget",y.formTarget,y,null)):(cr(i,a,"encType",y.encType,y,null),cr(i,a,"method",y.method,y,null),cr(i,a,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=$i(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Fs);break;case"onScroll":h!=null&&An("scroll",i);break;case"onScrollEnd":h!=null&&An("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=$i(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":An("beforetoggle",i),An("toggle",i),cs(i,"popover",h);break;case"xlinkActuate":Cr(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Cr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Cr(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Cr(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Cr(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Cr(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Cr(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Cr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Cr(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":cs(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Wo.get(l)||l,cs(i,l,h))}}function C2(i,a,l,h,y,v){switch(l){case"style":Dl(i,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?ai(i,h):(typeof h=="number"||typeof h=="bigint")&&ai(i,""+h);break;case"onScroll":h!=null&&An("scroll",i);break;case"onScrollEnd":h!=null&&An("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Fs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ki.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),a=l.slice(2,y?l.length-7:void 0),v=i[Yn]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(a,v,y),typeof h=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,h,y);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):cs(i,l,h)}}}function bs(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":An("error",i),An("load",i);var h=!1,y=!1,v;for(v in l)if(l.hasOwnProperty(v)){var N=l[v];if(N!=null)switch(v){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:cr(i,a,v,N,l,null)}}y&&cr(i,a,"srcSet",l.srcSet,l,null),h&&cr(i,a,"src",l.src,l,null);return;case"input":An("invalid",i);var K=v=N=y=null,ue=null,Re=null;for(h in l)if(l.hasOwnProperty(h)){var Fe=l[h];if(Fe!=null)switch(h){case"name":y=Fe;break;case"type":N=Fe;break;case"checked":ue=Fe;break;case"defaultChecked":Re=Fe;break;case"value":v=Fe;break;case"defaultValue":K=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,a));break;default:cr(i,a,h,Fe,l,null)}}xu(i,v,K,ue,Re,N,y,!1);return;case"select":An("invalid",i),h=N=v=null;for(y in l)if(l.hasOwnProperty(y)&&(K=l[y],K!=null))switch(y){case"value":v=K;break;case"defaultValue":N=K;break;case"multiple":h=K;default:cr(i,a,y,K,l,null)}a=v,l=N,i.multiple=!!h,a!=null?Ri(i,!!h,a,!1):l!=null&&Ri(i,!!h,l,!0);return;case"textarea":An("invalid",i),v=y=h=null;for(N in l)if(l.hasOwnProperty(N)&&(K=l[N],K!=null))switch(N){case"value":h=K;break;case"defaultValue":y=K;break;case"children":v=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(91));break;default:cr(i,a,N,K,l,null)}Ra(i,h,y,v);return;case"option":for(ue in l)l.hasOwnProperty(ue)&&(h=l[ue],h!=null)&&(ue==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":cr(i,a,ue,h,l,null));return;case"dialog":An("beforetoggle",i),An("toggle",i),An("cancel",i),An("close",i);break;case"iframe":case"object":An("load",i);break;case"video":case"audio":for(h=0;h<hp.length;h++)An(hp[h],i);break;case"image":An("error",i),An("load",i);break;case"details":An("toggle",i);break;case"embed":case"source":case"link":An("error",i),An("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Re in l)if(l.hasOwnProperty(Re)&&(h=l[Re],h!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:cr(i,a,Re,h,l,null)}return;default:if($o(a)){for(Fe in l)l.hasOwnProperty(Fe)&&(h=l[Fe],h!==void 0&&C2(i,a,Fe,h,l,void 0));return}}for(K in l)l.hasOwnProperty(K)&&(h=l[K],h!=null&&cr(i,a,K,h,l,null))}function g6(i,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,N=null,K=null,ue=null,Re=null,Fe=null;for(Me in l){var $e=l[Me];if(l.hasOwnProperty(Me)&&$e!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":ue=$e;default:h.hasOwnProperty(Me)||cr(i,a,Me,null,h,$e)}}for(var Oe in h){var Me=h[Oe];if($e=l[Oe],h.hasOwnProperty(Oe)&&(Me!=null||$e!=null))switch(Oe){case"type":v=Me;break;case"name":y=Me;break;case"checked":Re=Me;break;case"defaultChecked":Fe=Me;break;case"value":N=Me;break;case"defaultValue":K=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,a));break;default:Me!==$e&&cr(i,a,Oe,Me,h,$e)}}po(i,N,K,ue,Re,Fe,v,y);return;case"select":Me=N=K=Oe=null;for(v in l)if(ue=l[v],l.hasOwnProperty(v)&&ue!=null)switch(v){case"value":break;case"multiple":Me=ue;default:h.hasOwnProperty(v)||cr(i,a,v,null,h,ue)}for(y in h)if(v=h[y],ue=l[y],h.hasOwnProperty(y)&&(v!=null||ue!=null))switch(y){case"value":Oe=v;break;case"defaultValue":K=v;break;case"multiple":N=v;default:v!==ue&&cr(i,a,y,v,h,ue)}a=K,l=N,h=Me,Oe!=null?Ri(i,!!l,Oe,!1):!!h!=!!l&&(a!=null?Ri(i,!!l,a,!0):Ri(i,!!l,l?[]:"",!1));return;case"textarea":Me=Oe=null;for(K in l)if(y=l[K],l.hasOwnProperty(K)&&y!=null&&!h.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:cr(i,a,K,null,h,y)}for(N in h)if(y=h[N],v=l[N],h.hasOwnProperty(N)&&(y!=null||v!=null))switch(N){case"value":Oe=y;break;case"defaultValue":Me=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==v&&cr(i,a,N,y,h,v)}kl(i,Oe,Me);return;case"option":for(var gt in l)Oe=l[gt],l.hasOwnProperty(gt)&&Oe!=null&&!h.hasOwnProperty(gt)&&(gt==="selected"?i.selected=!1:cr(i,a,gt,null,h,Oe));for(ue in h)Oe=h[ue],Me=l[ue],h.hasOwnProperty(ue)&&Oe!==Me&&(Oe!=null||Me!=null)&&(ue==="selected"?i.selected=Oe&&typeof Oe!="function"&&typeof Oe!="symbol":cr(i,a,ue,Oe,h,Me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Gt in l)Oe=l[Gt],l.hasOwnProperty(Gt)&&Oe!=null&&!h.hasOwnProperty(Gt)&&cr(i,a,Gt,null,h,Oe);for(Re in h)if(Oe=h[Re],Me=l[Re],h.hasOwnProperty(Re)&&Oe!==Me&&(Oe!=null||Me!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(r(137,a));break;default:cr(i,a,Re,Oe,h,Me)}return;default:if($o(a)){for(var hr in l)Oe=l[hr],l.hasOwnProperty(hr)&&Oe!==void 0&&!h.hasOwnProperty(hr)&&C2(i,a,hr,void 0,h,Oe);for(Fe in h)Oe=h[Fe],Me=l[Fe],!h.hasOwnProperty(Fe)||Oe===Me||Oe===void 0&&Me===void 0||C2(i,a,Fe,Oe,h,Me);return}}for(var we in l)Oe=l[we],l.hasOwnProperty(we)&&Oe!=null&&!h.hasOwnProperty(we)&&cr(i,a,we,null,h,Oe);for($e in h)Oe=h[$e],Me=l[$e],!h.hasOwnProperty($e)||Oe===Me||Oe==null&&Me==null||cr(i,a,$e,Oe,h,Me)}function cw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function y6(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var y=l[h],v=y.transferSize,N=y.initiatorType,K=y.duration;if(v&&K&&cw(N)){for(N=0,K=y.responseEnd,h+=1;h<l.length;h++){var ue=l[h],Re=ue.startTime;if(Re>K)break;var Fe=ue.transferSize,$e=ue.initiatorType;Fe&&cw($e)&&(ue=ue.responseEnd,N+=Fe*(ue<K?1:(K-Re)/(ue-Re)))}if(--h,a+=8*(v+N)/(y.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var L2=null,k2=null;function _g(i){return i.nodeType===9?i:i.ownerDocument}function hw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fw(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function P2(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var D2=null;function _6(){var i=window.event;return i&&i.type==="popstate"?i===D2?!1:(D2=i,!0):(D2=null,!1)}var dw=typeof setTimeout=="function"?setTimeout:void 0,v6=typeof clearTimeout=="function"?clearTimeout:void 0,pw=typeof Promise=="function"?Promise:void 0,b6=typeof queueMicrotask=="function"?queueMicrotask:typeof pw<"u"?function(i){return pw.resolve(null).then(i).catch(w6)}:dw;function w6(i){setTimeout(function(){throw i})}function Qu(i){return i==="head"}function mw(i,a){var l=a,h=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(y),Af(a);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")dp(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,dp(l);for(var v=l.firstChild;v;){var N=v.nextSibling,K=v.nodeName;v[Gi]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=N}}else l==="body"&&dp(i.ownerDocument.body);l=y}while(l);Af(a)}function gw(i,a){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function O2(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":O2(l),xa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function A6(i,a,l,h){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Gi])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=lo(i.nextSibling),i===null)break}return null}function E6(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=lo(i.nextSibling),i===null))return null;return i}function yw(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=lo(i.nextSibling),i===null))return null;return i}function M2(i){return i.data==="$?"||i.data==="$~"}function V2(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function T6(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function lo(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var j2=null;function _w(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return lo(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function vw(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function bw(i,a,l){switch(a=_g(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function dp(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);xa(i)}var uo=new Map,ww=new Set;function vg(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var tu=pe.d;pe.d={f:S6,r:I6,D:x6,C:N6,L:R6,m:C6,X:k6,S:L6,M:P6};function S6(){var i=tu.f(),a=cg();return i||a}function I6(i){var a=Ni(i);a!==null&&a.tag===5&&a.type==="form"?j5(a):tu.r(i)}var vf=typeof document>"u"?null:document;function Aw(i,a,l){var h=vf;if(h&&typeof a=="string"&&a){var y=Lr(a);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),ww.has(y)||(ww.add(y),i={rel:i,crossOrigin:l,href:a},h.querySelector(y)===null&&(a=h.createElement("link"),bs(a,"link",i),br(a),h.head.appendChild(a)))}}function x6(i){tu.D(i),Aw("dns-prefetch",i,null)}function N6(i,a){tu.C(i,a),Aw("preconnect",i,a)}function R6(i,a,l){tu.L(i,a,l);var h=vf;if(h&&i&&a){var y='link[rel="preload"][as="'+Lr(a)+'"]';a==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+Lr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+Lr(l.imageSizes)+'"]')):y+='[href="'+Lr(i)+'"]';var v=y;switch(a){case"style":v=bf(i);break;case"script":v=wf(i)}uo.has(v)||(i=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),uo.set(v,i),h.querySelector(y)!==null||a==="style"&&h.querySelector(pp(v))||a==="script"&&h.querySelector(mp(v))||(a=h.createElement("link"),bs(a,"link",i),br(a),h.head.appendChild(a)))}}function C6(i,a){tu.m(i,a);var l=vf;if(l&&i){var h=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Lr(h)+'"][href="'+Lr(i)+'"]',v=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=wf(i)}if(!uo.has(v)&&(i=b({rel:"modulepreload",href:i},a),uo.set(v,i),l.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(mp(v)))return}h=l.createElement("link"),bs(h,"link",i),br(h),l.head.appendChild(h)}}}function L6(i,a,l){tu.S(i,a,l);var h=vf;if(h&&i){var y=Es(h).hoistableStyles,v=bf(i);a=a||"default";var N=y.get(v);if(!N){var K={loading:0,preload:null};if(N=h.querySelector(pp(v)))K.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":a},l),(l=uo.get(v))&&U2(i,l);var ue=N=h.createElement("link");br(ue),bs(ue,"link",i),ue._p=new Promise(function(Re,Fe){ue.onload=Re,ue.onerror=Fe}),ue.addEventListener("load",function(){K.loading|=1}),ue.addEventListener("error",function(){K.loading|=2}),K.loading|=4,bg(N,a,h)}N={type:"stylesheet",instance:N,count:1,state:K},y.set(v,N)}}}function k6(i,a){tu.X(i,a);var l=vf;if(l&&i){var h=Es(l).hoistableScripts,y=wf(i),v=h.get(y);v||(v=l.querySelector(mp(y)),v||(i=b({src:i,async:!0},a),(a=uo.get(y))&&F2(i,a),v=l.createElement("script"),br(v),bs(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(y,v))}}function P6(i,a){tu.M(i,a);var l=vf;if(l&&i){var h=Es(l).hoistableScripts,y=wf(i),v=h.get(y);v||(v=l.querySelector(mp(y)),v||(i=b({src:i,async:!0,type:"module"},a),(a=uo.get(y))&&F2(i,a),v=l.createElement("script"),br(v),bs(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(y,v))}}function Ew(i,a,l,h){var y=(y=ce.current)?vg(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=bf(l.href),l=Es(y).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=bf(l.href);var v=Es(y).hoistableStyles,N=v.get(i);if(N||(y=y.ownerDocument||y,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,N),(v=y.querySelector(pp(i)))&&!v._p&&(N.instance=v,N.state.loading=5),uo.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},uo.set(i,l),v||D6(y,i,l,N.state))),a&&h===null)throw Error(r(528,""));return N}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=wf(l),l=Es(y).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function bf(i){return'href="'+Lr(i)+'"'}function pp(i){return'link[rel="stylesheet"]['+i+"]"}function Tw(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function D6(i,a,l,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),bs(a,"link",l),br(a),i.head.appendChild(a))}function wf(i){return'[src="'+Lr(i)+'"]'}function mp(i){return"script[async]"+i}function Sw(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+Lr(l.href)+'"]');if(h)return a.instance=h,br(h),h;var y=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),br(h),bs(h,"style",y),bg(h,l.precedence,i),a.instance=h;case"stylesheet":y=bf(l.href);var v=i.querySelector(pp(y));if(v)return a.state.loading|=4,a.instance=v,br(v),v;h=Tw(l),(y=uo.get(y))&&U2(h,y),v=(i.ownerDocument||i).createElement("link"),br(v);var N=v;return N._p=new Promise(function(K,ue){N.onload=K,N.onerror=ue}),bs(v,"link",h),a.state.loading|=4,bg(v,l.precedence,i),a.instance=v;case"script":return v=wf(l.src),(y=i.querySelector(mp(v)))?(a.instance=y,br(y),y):(h=l,(y=uo.get(v))&&(h=b({},l),F2(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),br(y),bs(y,"link",h),i.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,bg(h,l.precedence,i));return a.instance}function bg(i,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,v=y,N=0;N<h.length;N++){var K=h[N];if(K.dataset.precedence===a)v=K;else if(v!==y)break}v?v.parentNode.insertBefore(i,v.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function U2(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function F2(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var wg=null;function Iw(i,a,l){if(wg===null){var h=new Map,y=wg=new Map;y.set(l,h)}else y=wg,h=y.get(l),h||(h=new Map,y.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var v=l[y];if(!(v[Gi]||v[jn]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var N=v.getAttribute(a)||"";N=i+N;var K=h.get(N);K?K.push(v):h.set(N,[v])}}return h}function xw(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function O6(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(i=a.disabled,typeof a.precedence=="string"&&i==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Nw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function M6(i,a,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=bf(h.href),v=a.querySelector(pp(y));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Ag.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=v,br(v);return}v=a.ownerDocument||a,h=Tw(h),(y=uo.get(y))&&U2(h,y),v=v.createElement("link"),br(v);var N=v;N._p=new Promise(function(K,ue){N.onload=K,N.onerror=ue}),bs(v,"link",h),l.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Ag.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var B2=0;function V6(i,a){return i.stylesheets&&i.count===0&&Tg(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&Tg(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+a);0<i.imgBytes&&B2===0&&(B2=62500*y6());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Tg(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>B2?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function Ag(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Eg=null;function Tg(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Eg=new Map,a.forEach(j6,i),Eg=null,Ag.call(i))}function j6(i,a){if(!(a.state.loading&4)){var l=Eg.get(i);if(l)var h=l.get(null);else{l=new Map,Eg.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var N=y[v];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(l.set(N.dataset.precedence,N),h=N)}h&&l.set(null,h)}y=a.instance,N=y.getAttribute("data-precedence"),v=l.get(N)||h,v===h&&l.set(null,y),l.set(N,y),this.count++,h=Ag.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),v?v.parentNode.insertBefore(y,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),a.state.loading|=4}}var gp={$$typeof:$,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function U6(i,a,l,h,y,v,N,K,ue){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function Rw(i,a,l,h,y,v,N,K,ue,Re,Fe,$e){return i=new U6(i,a,l,N,ue,Re,Fe,$e,K),a=1,v===!0&&(a|=24),v=Xi(3,null,null,a),i.current=v,v.stateNode=i,a=ju(),a.refCount++,i.pooledCache=a,a.refCount++,v.memoizedState={element:h,isDehydrated:l,cache:a},rt(v),i}function Cw(i){return i?(i=Pi,i):Pi}function Lw(i,a,l,h,y,v){y=Cw(y),h.context===null?h.context=y:h.pendingContext=y,h=Ht(a),h.payload={element:l},v=v===void 0?null:v,v!==null&&(h.callback=v),l=ln(i,h,a),l!==null&&(ga(l,i,a),zn(l,i,a))}function kw(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function q2(i,a){kw(i,a),(i=i.alternate)&&kw(i,a)}function Pw(i){if(i.tag===13||i.tag===31){var a=Io(i,67108864);a!==null&&ga(a,i,67108864),q2(i,67108864)}}function Dw(i){if(i.tag===13||i.tag===31){var a=Ua();a=Kn(a);var l=Io(i,a);l!==null&&ga(l,i,a),q2(i,a)}}var Sg=!0;function F6(i,a,l,h){var y=ae.T;ae.T=null;var v=pe.p;try{pe.p=2,z2(i,a,l,h)}finally{pe.p=v,ae.T=y}}function B6(i,a,l,h){var y=ae.T;ae.T=null;var v=pe.p;try{pe.p=8,z2(i,a,l,h)}finally{pe.p=v,ae.T=y}}function z2(i,a,l,h){if(Sg){var y=H2(h);if(y===null)R2(i,a,h,Ig,l),Mw(i,h);else if(z6(y,i,a,l,h))h.stopPropagation();else if(Mw(i,h),a&4&&-1<q6.indexOf(i)){for(;y!==null;){var v=Ni(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var N=Et(v.pendingLanes);if(N!==0){var K=v;for(K.pendingLanes|=2,K.entangledLanes|=2;N;){var ue=1<<31-en(N);K.entanglements[1]|=ue,N&=~ue}hl(v),(Gn&6)===0&&(lg=Zt()+500,cp(0))}}break;case 31:case 13:K=Io(v,2),K!==null&&ga(K,v,2),cg(),q2(v,2)}if(v=H2(h),v===null&&R2(i,a,h,Ig,l),v===y)break;y=v}y!==null&&h.stopPropagation()}else R2(i,a,h,null,l)}}function H2(i){return i=Wi(i),G2(i)}var Ig=null;function G2(i){if(Ig=null,i=ls(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===31){if(i=c(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Ig=i,null}function Ow(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rn()){case Kt:return 2;case cn:return 8;case tn:case wt:return 32;case Yt:return 268435456;default:return 32}default:return 32}}var K2=!1,Xu=null,Ju=null,Zu=null,yp=new Map,_p=new Map,ec=[],q6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mw(i,a){switch(i){case"focusin":case"focusout":Xu=null;break;case"dragenter":case"dragleave":Ju=null;break;case"mouseover":case"mouseout":Zu=null;break;case"pointerover":case"pointerout":yp.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":_p.delete(a.pointerId)}}function vp(i,a,l,h,y,v){return i===null||i.nativeEvent!==v?(i={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[y]},a!==null&&(a=Ni(a),a!==null&&Pw(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function z6(i,a,l,h,y){switch(a){case"focusin":return Xu=vp(Xu,i,a,l,h,y),!0;case"dragenter":return Ju=vp(Ju,i,a,l,h,y),!0;case"mouseover":return Zu=vp(Zu,i,a,l,h,y),!0;case"pointerover":var v=y.pointerId;return yp.set(v,vp(yp.get(v)||null,i,a,l,h,y)),!0;case"gotpointercapture":return v=y.pointerId,_p.set(v,vp(_p.get(v)||null,i,a,l,h,y)),!0}return!1}function Vw(i){var a=ls(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,xi(i.priority,function(){Dw(l)});return}}else if(a===31){if(a=c(l),a!==null){i.blockedOn=a,xi(i.priority,function(){Dw(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xg(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=H2(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);La=h,l.target.dispatchEvent(h),La=null}else return a=Ni(l),a!==null&&Pw(a),i.blockedOn=l,!1;a.shift()}return!0}function jw(i,a,l){xg(i)&&l.delete(a)}function H6(){K2=!1,Xu!==null&&xg(Xu)&&(Xu=null),Ju!==null&&xg(Ju)&&(Ju=null),Zu!==null&&xg(Zu)&&(Zu=null),yp.forEach(jw),_p.forEach(jw)}function Ng(i,a){i.blockedOn===a&&(i.blockedOn=null,K2||(K2=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,H6)))}var Rg=null;function Uw(i){Rg!==i&&(Rg=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Rg===i&&(Rg=null);for(var a=0;a<i.length;a+=3){var l=i[a],h=i[a+1],y=i[a+2];if(typeof h!="function"){if(G2(h||l)===null)continue;break}var v=Ni(l);v!==null&&(i.splice(a,3),a-=3,H0(v,{pending:!0,data:y,method:l.method,action:h},h,y))}}))}function Af(i){function a(ue){return Ng(ue,i)}Xu!==null&&Ng(Xu,i),Ju!==null&&Ng(Ju,i),Zu!==null&&Ng(Zu,i),yp.forEach(a),_p.forEach(a);for(var l=0;l<ec.length;l++){var h=ec[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<ec.length&&(l=ec[0],l.blockedOn===null);)Vw(l),l.blockedOn===null&&ec.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var y=l[h],v=l[h+1],N=y[Yn]||null;if(typeof v=="function")N||Uw(l);else if(N){var K=null;if(v&&v.hasAttribute("formAction")){if(y=v,N=v[Yn]||null)K=N.formAction;else if(G2(y)!==null)continue}else K=N.action;typeof K=="function"?l[h+1]=K:(l.splice(h,3),h-=3),Uw(l)}}}function Fw(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(N){return y=N})},focusReset:"manual",scroll:"manual"})}function a(){y!==null&&(y(),y=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),y!==null&&(y(),y=null)}}}function $2(i){this._internalRoot=i}Cg.prototype.render=$2.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,h=Ua();Lw(l,h,i,a,null,null)},Cg.prototype.unmount=$2.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Lw(i.current,2,null,i,null,null),cg(),a[Yr]=null}};function Cg(i){this._internalRoot=i}Cg.prototype.unstable_scheduleHydration=function(i){if(i){var a=Wr();i={blockedOn:null,target:i,priority:a};for(var l=0;l<ec.length&&a!==0&&a<ec[l].priority;l++);ec.splice(l,0,i),l===0&&Vw(i)}};var Bw=e.version;if(Bw!=="19.2.4")throw Error(r(527,Bw,"19.2.4"));pe.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var G6={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lg.isDisabled&&Lg.supportsFiber)try{nn=Lg.inject(G6),Dt=Lg}catch{}}return wp.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,h="",y=W5,v=Y5,N=Q5;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError)),a=Rw(i,1,!1,null,null,l,h,null,y,v,N,Fw),i[Yr]=a.current,N2(i),new $2(a)},wp.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var h=!1,y="",v=W5,N=Y5,K=Q5,ue=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(K=l.onRecoverableError),l.formState!==void 0&&(ue=l.formState)),a=Rw(i,1,!0,a,l??null,h,y,ue,v,N,K,Fw),a.context=Cw(null),l=a.current,h=Ua(),h=Kn(h),y=Ht(h),y.callback=null,ln(l,y,h),l=h,a.current.lanes=l,Ct(a,l),hl(a),i[Yr]=a.current,N2(i),new Cg(a)},wp.version="19.2.4",wp}var Xw;function tR(){if(Xw)return Q2.exports;Xw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Q2.exports=eR(),Q2.exports}var nR=tR();const rR="modulepreload",iR=function(n){return"/TWKT_employee/"+n},Jw={},dc=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");s=f(t.map(d=>{if(d=iR(d),d in Jw)return;Jw[d]=!0;const g=d.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${b}`))return;const E=document.createElement("link");if(E.rel=g?"stylesheet":rR,g||(E.as="script"),E.crossOrigin="",E.href=d,c&&E.setAttribute("nonce",c),document.head.appendChild(E),g)return new Promise((w,j)=>{E.addEventListener("load",w),E.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return s.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},sR=()=>{};var Zw={};const wS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},aR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],c=n[t++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},AS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,c=u?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,g=o>>2,b=(o&3)<<4|c>>4;let E=(c&15)<<2|d>>6,w=d&63;f||(w=64,u||(E=64)),r.push(t[g],t[b],t[E],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(wS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):aR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const b=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||c==null||d==null||b==null)throw new oR;const E=o<<2|c>>4;if(r.push(E),d!==64){const w=c<<4&240|d>>2;if(r.push(w),b!==64){const j=d<<6&192|b;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class oR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lR=function(n){const e=wS(n);return AS.encodeByteArray(e,!0)},y1=function(n){return lR(n).replace(/\./g,"")},ES=function(n){try{return AS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function TS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const uR=()=>TS().__FIREBASE_DEFAULTS__,cR=()=>{if(typeof process>"u"||typeof Zw>"u")return;const n=Zw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},hR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ES(n[1]);return e&&JSON.parse(e)},W1=()=>{try{return sR()||uR()||cR()||hR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},SS=n=>W1()?.emulatorHosts?.[n],IS=n=>{const e=SS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},xS=()=>W1()?.config,NS=n=>W1()?.[`_${n}`];class fR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Cc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Y1(n){return(await fetch(n,{credentials:"include"})).ok}function RS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[y1(JSON.stringify(t)),y1(JSON.stringify(u)),""].join(".")}const jp={};function dR(){const n={prod:[],emulator:[]};for(const e of Object.keys(jp))jp[e]?n.emulator.push(e):n.prod.push(e);return n}function pR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let eA=!1;function j_(n,e){if(typeof window>"u"||typeof document>"u"||!Cc(window.location.host)||jp[n]===e||jp[n]||eA)return;jp[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=dR().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function c(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function d(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{eA=!0,u()},E}function g(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=pR(r),w=t("text"),j=document.getElementById(w)||document.createElement("span"),V=t("learnmore"),B=document.getElementById(V)||document.createElement("a"),k=t("preprendIcon"),te=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const $=E.element;c($),g(B,V);const J=d();f(te,k),$.append(te,j,B,J),document.body.appendChild($)}o?(j.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Ui(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ui())}function CS(){const n=W1()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _R(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vR(){const n=Ui();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function LS(){return!CS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kS(){return!CS()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function PS(){try{return typeof indexedDB=="object"}catch{return!1}}function bR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const wR="FirebaseError";class xl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=wR,Object.setPrototypeOf(this,xl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vm.prototype.create)}}class vm{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?AR(o,r):"Error",c=`${this.serviceName}: ${u} (${s}).`;return new xl(s,c,r)}}function AR(n,e){return n.replace(ER,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const ER=/\{\$([^}]+)}/g;function TR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Fo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(tA(o)&&tA(u)){if(!Fo(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function tA(n){return n!==null&&typeof n=="object"}function vd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lp(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function kp(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function SR(n,e){const t=new IR(n,e);return t.subscribe.bind(t)}class IR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");xR(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=ey),s.error===void 0&&(s.error=ey),s.complete===void 0&&(s.complete=ey);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ey(){}function St(n){return n&&n._delegate?n._delegate:n}class bc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const rh="[DEFAULT]";class NR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new fR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CR(e))try{this.getOrInitializeService({instanceIdentifier:rh})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=rh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rh){return this.instances.has(e)}getOptions(e=rh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rh){return this.component?this.component.multipleInstances?e:rh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RR(n){return n===rh?void 0:n}function CR(n){return n.instantiationMode==="EAGER"}class LR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new NR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var In;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(In||(In={}));const kR={debug:In.DEBUG,verbose:In.VERBOSE,info:In.INFO,warn:In.WARN,error:In.ERROR,silent:In.SILENT},PR=In.INFO,DR={[In.DEBUG]:"log",[In.VERBOSE]:"log",[In.INFO]:"info",[In.WARN]:"warn",[In.ERROR]:"error"},OR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=DR[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class U_{constructor(e){this.name=e,this._logLevel=PR,this._logHandler=OR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in In))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,In.DEBUG,...e),this._logHandler(this,In.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,In.VERBOSE,...e),this._logHandler(this,In.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,In.INFO,...e),this._logHandler(this,In.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,In.WARN,...e),this._logHandler(this,In.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,In.ERROR,...e),this._logHandler(this,In.ERROR,...e)}}const MR=(n,e)=>e.some(t=>n instanceof t);let nA,rA;function VR(){return nA||(nA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jR(){return rA||(rA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DS=new WeakMap,zy=new WeakMap,OS=new WeakMap,ty=new WeakMap,F_=new WeakMap;function UR(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(pc(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&DS.set(t,n)}).catch(()=>{}),F_.set(e,n),e}function FR(n){if(zy.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});zy.set(n,e)}let Hy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return zy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||OS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function BR(n){Hy=n(Hy)}function qR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(ny(this),e,...t);return OS.set(r,e.sort?e.sort():[e]),pc(r)}:jR().includes(n)?function(...e){return n.apply(ny(this),e),pc(DS.get(this))}:function(...e){return pc(n.apply(ny(this),e))}}function zR(n){return typeof n=="function"?qR(n):(n instanceof IDBTransaction&&FR(n),MR(n,VR())?new Proxy(n,Hy):n)}function pc(n){if(n instanceof IDBRequest)return UR(n);if(ty.has(n))return ty.get(n);const e=zR(n);return e!==n&&(ty.set(n,e),F_.set(e,n)),e}const ny=n=>F_.get(n);function HR(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),c=pc(u);return r&&u.addEventListener("upgradeneeded",f=>{r(pc(u.result),f.oldVersion,f.newVersion,pc(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const GR=["get","getKey","getAll","getAllKeys","count"],KR=["put","add","delete","clear"],ry=new Map;function iA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ry.get(e))return ry.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=KR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||GR.includes(t)))return;const o=async function(u,...c){const f=this.transaction(u,s?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),s&&f.done]))[0]};return ry.set(e,o),o}BR(n=>({...n,get:(e,t,r)=>iA(e,t)||n.get(e,t,r),has:(e,t)=>!!iA(e,t)||n.has(e,t)}));class $R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(WR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function WR(n){return n.getComponent()?.type==="VERSION"}const Gy="@firebase/app",sA="0.14.8";const mu=new U_("@firebase/app"),YR="@firebase/app-compat",QR="@firebase/analytics-compat",XR="@firebase/analytics",JR="@firebase/app-check-compat",ZR="@firebase/app-check",eC="@firebase/auth",tC="@firebase/auth-compat",nC="@firebase/database",rC="@firebase/data-connect",iC="@firebase/database-compat",sC="@firebase/functions",aC="@firebase/functions-compat",oC="@firebase/installations",lC="@firebase/installations-compat",uC="@firebase/messaging",cC="@firebase/messaging-compat",hC="@firebase/performance",fC="@firebase/performance-compat",dC="@firebase/remote-config",pC="@firebase/remote-config-compat",mC="@firebase/storage",gC="@firebase/storage-compat",yC="@firebase/firestore",_C="@firebase/ai",vC="@firebase/firestore-compat",bC="firebase",wC="12.9.0";const _1="[DEFAULT]",AC={[Gy]:"fire-core",[YR]:"fire-core-compat",[XR]:"fire-analytics",[QR]:"fire-analytics-compat",[ZR]:"fire-app-check",[JR]:"fire-app-check-compat",[eC]:"fire-auth",[tC]:"fire-auth-compat",[nC]:"fire-rtdb",[rC]:"fire-data-connect",[iC]:"fire-rtdb-compat",[sC]:"fire-fn",[aC]:"fire-fn-compat",[oC]:"fire-iid",[lC]:"fire-iid-compat",[uC]:"fire-fcm",[cC]:"fire-fcm-compat",[hC]:"fire-perf",[fC]:"fire-perf-compat",[dC]:"fire-rc",[pC]:"fire-rc-compat",[mC]:"fire-gcs",[gC]:"fire-gcs-compat",[yC]:"fire-fst",[vC]:"fire-fst-compat",[_C]:"fire-vertex","fire-js":"fire-js",[bC]:"fire-js-all"};const v1=new Map,EC=new Map,Ky=new Map;function aA(n,e){try{n.container.addComponent(e)}catch(t){mu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function vh(n){const e=n.name;if(Ky.has(e))return mu.debug(`There were multiple attempts to register component ${e}.`),!1;Ky.set(e,n);for(const t of v1.values())aA(t,n);for(const t of EC.values())aA(t,n);return!0}function bd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function TC(n,e,t=_1){bd(n,e).clearInstance(t)}function jr(n){return n==null?!1:n.settings!==void 0}const SC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mc=new vm("app","Firebase",SC);class IC{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mc.create("app-deleted",{appName:this._name})}}const kh=wC;function MS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:_1,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw mc.create("bad-app-name",{appName:String(s)});if(t||(t=xS()),!t)throw mc.create("no-options");const o=v1.get(s);if(o){if(Fo(t,o.options)&&Fo(r,o.config))return o;throw mc.create("duplicate-app",{appName:s})}const u=new LR(s);for(const f of Ky.values())u.addComponent(f);const c=new IC(t,r,u);return v1.set(s,c),c}function B_(n=_1){const e=v1.get(n);if(!e&&n===_1&&xS())return MS();if(!e)throw mc.create("no-app",{appName:n});return e}function bl(n,e,t){let r=AC[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mu.warn(u.join(" "));return}vh(new bc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const xC="firebase-heartbeat-database",NC=1,em="firebase-heartbeat-store";let iy=null;function VS(){return iy||(iy=HR(xC,NC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(em)}catch(t){console.warn(t)}}}}).catch(n=>{throw mc.create("idb-open",{originalErrorMessage:n.message})})),iy}async function RC(n){try{const t=(await VS()).transaction(em),r=await t.objectStore(em).get(jS(n));return await t.done,r}catch(e){if(e instanceof xl)mu.warn(e.message);else{const t=mc.create("idb-get",{originalErrorMessage:e?.message});mu.warn(t.message)}}}async function oA(n,e){try{const r=(await VS()).transaction(em,"readwrite");await r.objectStore(em).put(e,jS(n)),await r.done}catch(t){if(t instanceof xl)mu.warn(t.message);else{const r=mc.create("idb-set",{originalErrorMessage:t?.message});mu.warn(r.message)}}}function jS(n){return`${n.name}!${n.options.appId}`}const CC=1024,LC=30;class kC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new DC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=lA();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>LC){const s=OC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mu.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=lA(),{heartbeatsToSend:t,unsentEntries:r}=PC(this._heartbeatsCache.heartbeats),s=y1(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return mu.warn(e),""}}}function lA(){return new Date().toISOString().substring(0,10)}function PC(n,e=CC){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),uA(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),uA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class DC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PS()?bR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await RC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return oA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return oA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function uA(n){return y1(JSON.stringify({version:2,heartbeats:n})).length}function OC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function MC(n){vh(new bc("platform-logger",e=>new $R(e),"PRIVATE")),vh(new bc("heartbeat",e=>new kC(e),"PRIVATE")),bl(Gy,sA,n),bl(Gy,sA,"esm2020"),bl("fire-js","")}MC("");const VC={PHONE:"phone",TOTP:"totp"},jC={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},UC={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},FC={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},BC={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function qC(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function US(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zC=qC,FS=US,BS=new vm("auth","Firebase",US()),HC={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_PASSWORD:"auth/missing-password",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type",INVALID_HOSTING_LINK_DOMAIN:"auth/invalid-hosting-link-domain"};const b1=new U_("@firebase/auth");function GC(n,...e){b1.logLevel<=In.WARN&&b1.warn(`Auth (${kh}): ${n}`,...e)}function Xg(n,...e){b1.logLevel<=In.ERROR&&b1.error(`Auth (${kh}): ${n}`,...e)}function Ea(n,...e){throw z_(n,...e)}function Ys(n,...e){return z_(n,...e)}function q_(n,e,t){const r={...FS(),[e]:t};return new vm("auth","Firebase",r).create(e,{appName:n.name})}function ss(n){return q_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wd(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ea(n,"argument-error"),q_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function z_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return BS.create(n,...e)}function et(n,e,...t){if(!n)throw z_(e,...t)}function gl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Xg(e),new Error(e)}function gu(n,e){n||gl(e)}function tm(){return typeof self<"u"&&self.location?.href||""}function H_(){return cA()==="http:"||cA()==="https:"}function cA(){return typeof self<"u"&&self.location?.protocol||null}function KC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H_()||yR()||"connection"in navigator)?navigator.onLine:!0}function $C(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class bm{constructor(e,t){this.shortDelay=e,this.longDelay=t,gu(t>e,"Short delay should be less than long delay!"),this.isMobile=mR()||_R()}get(){return KC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function G_(n,e){gu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class qS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const WC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const YC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QC=new bm(3e4,6e4);function Nr(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Rr(n,e,t,r,s={}){return zS(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const c=vd({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...o};return gR()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Cc(n.emulatorConfig.host)&&(d.credentials="include"),qS.fetch()(await HS(n,n.config.apiHost,t,c),d)})}async function zS(n,e,t){n._canInitEmulator=!1;const r={...WC,...e};try{const s=new JC(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Pp(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pp(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Pp(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Pp(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw q_(n,g,d);Ea(n,g)}}catch(s){if(s instanceof xl)throw s;Ea(n,"network-request-failed",{message:String(s)})}}async function wu(n,e,t,r,s={}){const o=await Rr(n,e,t,r,s);return"mfaPendingCredential"in o&&Ea(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function HS(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?G_(n.config,s):`${n.config.apiScheme}://${s}`;return YC.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function XC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ys(this.auth,"network-request-failed")),QC.get())})}}function Pp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Ys(n,e,r);return s.customData._tokenResponse=t,s}function hA(n){return n!==void 0&&n.getResponse!==void 0}function fA(n){return n!==void 0&&n.enterprise!==void 0}class GS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return XC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZC(n){return(await Rr(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function KS(n,e){return Rr(n,"GET","/v2/recaptchaConfig",Nr(n,e))}async function eL(n,e){return Rr(n,"POST","/v1/accounts:delete",e)}async function tL(n,e){return Rr(n,"POST","/v1/accounts:update",e)}async function w1(n,e){return Rr(n,"POST","/v1/accounts:lookup",e)}function Up(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function nL(n,e=!1){return St(n).getIdToken(e)}async function $S(n,e=!1){const t=St(n),r=await t.getIdToken(e),s=Q1(r);et(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o?.sign_in_provider;return{claims:s,token:r,authTime:Up(sy(s.auth_time)),issuedAtTime:Up(sy(s.iat)),expirationTime:Up(sy(s.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function sy(n){return Number(n)*1e3}function Q1(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Xg("JWT malformed, contained fewer than 3 sections"),null;try{const s=ES(t);return s?JSON.parse(s):(Xg("Failed to decode base64 JWT payload"),null)}catch(s){return Xg("Caught error parsing JWT payload as JSON",s?.toString()),null}}function dA(n){const e=Q1(n);return et(e,"internal-error"),et(typeof e.exp<"u","internal-error"),et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function yu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof xl&&rL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function rL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class iL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $y{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Up(this.lastLoginAt),this.creationTime=Up(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nm(n){const e=n.auth,t=await n.getIdToken(),r=await yu(n,w1(e,{idToken:t}));et(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?YS(s.providerUserInfo):[],u=sL(n.providerData,o),c=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!u?.length,d=c?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new $y(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function WS(n){const e=St(n);await nm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sL(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function YS(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function aL(n,e){const t=await zS(n,{},async()=>{const r=vd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await HS(n,s,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return n.emulatorConfig&&Cc(n.emulatorConfig.host)&&(f.credentials="include"),qS.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function oL(n,e){return Rr(n,"POST","/v2/accounts:revokeToken",Nr(n,e))}class Ff{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){et(e.idToken,"internal-error"),et(typeof e.idToken<"u","internal-error"),et(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){et(e.length!==0,"internal-error");const t=dA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await aL(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new Ff;return r&&(et(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(et(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(et(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ff,this.toJSON())}_performRefresh(){return gl("not implemented")}}function nc(n,e){et(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Mo{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new iL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $y(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await yu(this,this.stsTokenManager.getToken(this.auth,e));return et(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return $S(this,e)}reload(){return WS(this)}_assign(e){this!==e&&(et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Mo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await nm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jr(this.auth.app))return Promise.reject(ss(this.auth));const e=await this.getIdToken();return await yu(this,eL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,c=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:b,emailVerified:E,isAnonymous:w,providerData:j,stsTokenManager:V}=t;et(b&&V,e,"internal-error");const B=Ff.fromJSON(this.name,V);et(typeof b=="string",e,"internal-error"),nc(r,e.name),nc(s,e.name),et(typeof E=="boolean",e,"internal-error"),et(typeof w=="boolean",e,"internal-error"),nc(o,e.name),nc(u,e.name),nc(c,e.name),nc(f,e.name),nc(d,e.name),nc(g,e.name);const k=new Mo({uid:b,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:w,photoURL:u,phoneNumber:o,tenantId:c,stsTokenManager:B,createdAt:d,lastLoginAt:g});return j&&Array.isArray(j)&&(k.providerData=j.map(te=>({...te}))),f&&(k._redirectEventId=f),k}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ff;s.updateFromServerResponse(t);const o=new Mo({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await nm(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];et(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?YS(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!o?.length,c=new Ff;c.updateFromIdToken(r);const f=new Mo({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new $y(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const pA=new Map;function cu(n){gu(n instanceof Function,"Expected a class definition");let e=pA.get(n);return e?(gu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,pA.set(n,e),e)}class QS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}QS.type="NONE";const Wy=QS;function Jg(n,e,t){return`firebase:${n}:${e}:${t}`}class Bf{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Jg(this.userKey,s.apiKey,o),this.fullPersistenceKey=Jg("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await w1(this.auth,{idToken:e}).catch(()=>{});return t?Mo._fromGetAccountInfoResponse(this.auth,t,e):null}return Mo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Bf(cu(Wy),e,r);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||cu(Wy);const u=Jg(r,e.config.apiKey,e.name);let c=null;for(const d of t)try{const g=await d._get(u);if(g){let b;if(typeof g=="string"){const E=await w1(e,{idToken:g}).catch(()=>{});if(!E)break;b=await Mo._fromGetAccountInfoResponse(e,E,g)}else b=Mo._fromJSON(e,g);d!==o&&(c=b),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Bf(o,e,r):(o=f[0],c&&await o._set(u,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Bf(o,e,r))}}function mA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(e4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(n4(e))return"Blackberry";if(r4(e))return"Webos";if(JS(e))return"Safari";if((e.includes("chrome/")||ZS(e))&&!e.includes("edge/"))return"Chrome";if(t4(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function XS(n=Ui()){return/firefox\//i.test(n)}function JS(n=Ui()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZS(n=Ui()){return/crios\//i.test(n)}function e4(n=Ui()){return/iemobile/i.test(n)}function t4(n=Ui()){return/android/i.test(n)}function n4(n=Ui()){return/blackberry/i.test(n)}function r4(n=Ui()){return/webos/i.test(n)}function K_(n=Ui()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function lL(n=Ui()){return K_(n)&&!!window.navigator?.standalone}function uL(){return vR()&&document.documentMode===10}function i4(n=Ui()){return K_(n)||t4(n)||r4(n)||n4(n)||/windows phone/i.test(n)||e4(n)}function s4(n,e=[]){let t;switch(n){case"Browser":t=mA(Ui());break;case"Worker":t=`${mA(Ui())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${kh}/${r}`}class cL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,c)=>{try{const f=e(o);u(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function hL(n,e={}){return Rr(n,"GET","/v2/passwordPolicy",Nr(n,e))}const fL=6;class dL{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??fL,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class pL{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gA(this),this.idTokenSubscription=new gA(this),this.beforeStateQueue=new cL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=cu(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Bf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await w1(this,{idToken:e}),r=await Mo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(jr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$C()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jr(this.app))return Promise.reject(ss(this));const t=e?St(e):null;return t&&et(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jr(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jr(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hL(this),t=new dL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vm("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await oL(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&cu(e)||this._popupRedirectResolver;et(t,this,"argument-error"),this.redirectPersistenceManager=await Bf.create(this,[cu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ii(n){return St(n)}class gA{constructor(e){this.auth=e,this.observer=null,this.addObserver=SR(t=>this.observer=t)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mL(n){wm=n}function $_(n){return wm.loadJS(n)}function gL(){return wm.recaptchaV2Script}function yL(){return wm.recaptchaEnterpriseScript}function _L(){return wm.gapiScript}function a4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const vL=500,bL=6e4,kg=1e12;class wL{constructor(e){this.auth=e,this.counter=kg,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new TL(e,this.auth.name,t||{})),this.counter++,r}reset(e){const t=e||kg;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){const t=e||kg;return this._widgets.get(t)?.getResponse()||""}async execute(e){const t=e||kg;return this._widgets.get(t)?.execute(),""}}class AL{constructor(){this.enterprise=new EL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class EL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class TL{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;et(s,"argument-error",{appName:t}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=SL(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},bL)},vL))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function SL(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const IL="recaptcha-enterprise",Fp="NO_RECAPTCHA";class o4{constructor(e){this.type=IL,this.auth=ii(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,c)=>{KS(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new GS(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{c(f)})})}function s(o,u,c){const f=window.grecaptcha;fA(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(Fp)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AL().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(c=>{if(!t&&fA(window.grecaptcha))s(c,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=yL();f.length!==0&&(f+=c),$_(f).then(()=>{s(c,o,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})}}async function Ap(n,e,t,r=!1,s=!1){const o=new o4(n);let u;if(s)u=Fp;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function gc(n,e,t,r,s){if(s==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Ap(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Ap(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(o)});else if(s==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const o=await Ap(n,e,t);return r(n,o).catch(async u=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const c=await Ap(n,e,t,!1,!0);return r(n,c)}return Promise.reject(u)})}else{const o=await Ap(n,e,t,!1,!0);return r(n,o)}else return Promise.reject(s+" provider is not supported.")}async function l4(n){const e=ii(n),t=await KS(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new GS(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new o4(e).verify()}function u4(n,e){const t=bd(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Fo(o,e??{}))return s;Ea(s,"already-initialized")}return t.initialize({options:e})}function xL(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(cu);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function c4(n,e,t){const r=ii(n);et(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!t?.disableWarnings,o=h4(e),{host:u,port:c}=NL(e),f=c===null?"":`:${c}`,d={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),et(Fo(d,r.config.emulator)&&Fo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Cc(u)?(Y1(`${o}//${u}${f}`),j_("Auth",!0)):s||RL()}function h4(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function NL(n){const e=h4(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:yA(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:yA(u)}}}function yA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function RL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Ad{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gl("not implemented")}_getIdTokenResponse(e){return gl("not implemented")}_linkToIdToken(e,t){return gl("not implemented")}_getReauthenticationResolver(e){return gl("not implemented")}}async function f4(n,e){return Rr(n,"POST","/v1/accounts:resetPassword",Nr(n,e))}async function CL(n,e){return Rr(n,"POST","/v1/accounts:update",e)}async function LL(n,e){return Rr(n,"POST","/v1/accounts:signUp",e)}async function kL(n,e){return Rr(n,"POST","/v1/accounts:update",Nr(n,e))}async function PL(n,e){return wu(n,"POST","/v1/accounts:signInWithPassword",Nr(n,e))}async function X1(n,e){return Rr(n,"POST","/v1/accounts:sendOobCode",Nr(n,e))}async function DL(n,e){return X1(n,e)}async function OL(n,e){return X1(n,e)}async function ML(n,e){return X1(n,e)}async function VL(n,e){return X1(n,e)}async function jL(n,e){return wu(n,"POST","/v1/accounts:signInWithEmailLink",Nr(n,e))}async function UL(n,e){return wu(n,"POST","/v1/accounts:signInWithEmailLink",Nr(n,e))}class Qf extends Ad{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Qf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Qf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gc(e,t,"signInWithPassword",PL,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return jL(e,{email:this._email,oobCode:this._password});default:Ea(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gc(e,r,"signUpPassword",LL,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return UL(e,{idToken:t,email:this._email,oobCode:this._password});default:Ea(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function pu(n,e){return wu(n,"POST","/v1/accounts:signInWithIdp",Nr(n,e))}const FL="http://localhost";class El extends Ad{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new El(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ea("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=t;if(!r||!s)return null;const u=new El(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return pu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,pu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,pu(e,t)}buildRequest(){const e={requestUri:FL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vd(t)}return e}}async function _A(n,e){return Rr(n,"POST","/v1/accounts:sendVerificationCode",Nr(n,e))}async function BL(n,e){return wu(n,"POST","/v1/accounts:signInWithPhoneNumber",Nr(n,e))}async function qL(n,e){const t=await wu(n,"POST","/v1/accounts:signInWithPhoneNumber",Nr(n,e));if(t.temporaryProof)throw Pp(n,"account-exists-with-different-credential",t);return t}const zL={USER_NOT_FOUND:"user-not-found"};async function HL(n,e){const t={...e,operation:"REAUTH"};return wu(n,"POST","/v1/accounts:signInWithPhoneNumber",Nr(n,t),zL)}class yc extends Ad{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new yc({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new yc({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return BL(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return qL(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return HL(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:s}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:o}=e;return!r&&!t&&!s&&!o?null:new yc({verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:o})}}function GL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KL(n){const e=Lp(kp(n)).link,t=e?Lp(kp(e)).deep_link_id:null,r=Lp(kp(n)).deep_link_id;return(r?Lp(kp(r)).link:null)||r||t||e||n}class Ed{constructor(e){const t=Lp(kp(e)),r=t.apiKey??null,s=t.oobCode??null,o=GL(t.mode??null);et(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=KL(e);try{return new Ed(t)}catch{return null}}}function $L(n){return Ed.parseLink(n)}class Lc{constructor(){this.providerId=Lc.PROVIDER_ID}static credential(e,t){return Qf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Ed.parseLink(t);return et(r,"argument-error"),Qf._fromEmailAndCode(e,r.code,r.tenantId)}}Lc.PROVIDER_ID="password";Lc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Au{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Td extends Au{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Bp extends Td{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return et("providerId"in t&&"signInMethod"in t,"argument-error"),El._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return et(e.idToken||e.accessToken,"argument-error"),El._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Bp.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Bp.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:o,nonce:u,providerId:c}=e;if(!r&&!s&&!t&&!o||!c)return null;try{return new Bp(c)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}class su extends Td{constructor(){super("facebook.com")}static credential(e){return El._fromParams({providerId:su.PROVIDER_ID,signInMethod:su.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return su.credentialFromTaggedObject(e)}static credentialFromError(e){return su.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return su.credential(e.oauthAccessToken)}catch{return null}}}su.FACEBOOK_SIGN_IN_METHOD="facebook.com";su.PROVIDER_ID="facebook.com";class au extends Td{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return El._fromParams({providerId:au.PROVIDER_ID,signInMethod:au.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return au.credentialFromTaggedObject(e)}static credentialFromError(e){return au.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return au.credential(t,r)}catch{return null}}}au.GOOGLE_SIGN_IN_METHOD="google.com";au.PROVIDER_ID="google.com";class ou extends Td{constructor(){super("github.com")}static credential(e){return El._fromParams({providerId:ou.PROVIDER_ID,signInMethod:ou.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ou.credentialFromTaggedObject(e)}static credentialFromError(e){return ou.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ou.credential(e.oauthAccessToken)}catch{return null}}}ou.GITHUB_SIGN_IN_METHOD="github.com";ou.PROVIDER_ID="github.com";const WL="http://localhost";class rm extends Ad{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return pu(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,pu(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,pu(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,pendingToken:o}=t;return!r||!s||!o||r!==s?null:new rm(r,o)}static _create(e,t){return new rm(e,t)}buildRequest(){return{requestUri:WL,returnSecureToken:!0,pendingToken:this.pendingToken}}}const YL="saml.";class A1 extends Au{constructor(e){et(e.startsWith(YL),"argument-error"),super(e)}static credentialFromResult(e){return A1.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return A1.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=rm.fromJSON(e);return et(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return rm._create(r,t)}catch{return null}}}class lu extends Td{constructor(){super("twitter.com")}static credential(e,t){return El._fromParams({providerId:lu.PROVIDER_ID,signInMethod:lu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return lu.credentialFromTaggedObject(e)}static credentialFromError(e){return lu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return lu.credential(t,r)}catch{return null}}}lu.TWITTER_SIGN_IN_METHOD="twitter.com";lu.PROVIDER_ID="twitter.com";async function d4(n,e){return wu(n,"POST","/v1/accounts:signUp",Nr(n,e))}class co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await Mo._fromIdTokenResponse(e,r,s),u=vA(r);return new co({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=vA(r);return new co({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function vA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function QL(n){if(jr(n.app))return Promise.reject(ss(n));const e=ii(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new co({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await d4(e,{returnSecureToken:!0}),r=await co._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}class E1 extends xl{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,E1.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new E1(e,t,r,s)}}function p4(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?E1._fromErrorAndOperation(n,o,e,r):o})}function m4(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}async function XL(n,e){const t=St(n);await J1(!0,t,e);const{providerUserInfo:r}=await tL(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),s=m4(r||[]);return t.providerData=t.providerData.filter(o=>s.has(o.providerId)),s.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function W_(n,e,t=!1){const r=await yu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return co._forOperation(n,"link",r)}async function J1(n,e,t){await nm(e);const r=m4(e.providerData),s=n===!1?"provider-already-linked":"no-such-provider";et(r.has(t)===n,e.auth,s)}async function g4(n,e,t=!1){const{auth:r}=n;if(jr(r.app))return Promise.reject(ss(r));const s="reauthenticate";try{const o=await yu(n,p4(r,s,e,n),t);et(o.idToken,r,"internal-error");const u=Q1(o.idToken);et(u,r,"internal-error");const{sub:c}=u;return et(n.uid===c,r,"user-mismatch"),co._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ea(r,"user-mismatch"),o}}async function y4(n,e,t=!1){if(jr(n.app))return Promise.reject(ss(n));const r="signIn",s=await p4(n,r,e),o=await co._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function Z1(n,e){return y4(ii(n),e)}async function _4(n,e){const t=St(n);return await J1(!1,t,e.providerId),W_(t,e)}async function v4(n,e){return g4(St(n),e)}async function JL(n,e){return wu(n,"POST","/v1/accounts:signInWithCustomToken",Nr(n,e))}async function ZL(n,e){if(jr(n.app))return Promise.reject(ss(n));const t=ii(n),r=await JL(t,{token:e,returnSecureToken:!0}),s=await co._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(s.user),s}class Am{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Y_._fromServerResponse(e,t):"totpInfo"in t?Q_._fromServerResponse(e,t):Ea(e,"internal-error")}}class Y_ extends Am{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Y_(t)}}class Q_ extends Am{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Q_(t)}}function e0(n,e,t){et(t.url?.length>0,n,"invalid-continue-uri"),et(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),et(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(et(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(et(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}async function X_(n){const e=ii(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ek(n,e,t){const r=ii(n),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&e0(r,s,t),await gc(r,s,"getOobCode",OL,"EMAIL_PASSWORD_PROVIDER")}async function tk(n,e,t){await f4(St(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&X_(n),r})}async function nk(n,e){await kL(St(n),{oobCode:e})}async function b4(n,e){const t=St(n),r=await f4(t,{oobCode:e}),s=r.requestType;switch(et(s,t,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":et(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":et(r.mfaInfo,t,"internal-error");default:et(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=Am._fromServerResponse(ii(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:s}}async function rk(n,e){const{data:t}=await b4(St(n),e);return t.email}async function J_(n,e,t){if(jr(n.app))return Promise.reject(ss(n));const r=ii(n),u=await gc(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",d4,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&X_(n),f}),c=await co._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function w4(n,e,t){return jr(n.app)?Promise.reject(ss(n)):Z1(St(n),Lc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&X_(n),r})}async function ik(n,e,t){const r=ii(n),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,c){et(c.handleCodeInApp,r,"argument-error"),c&&e0(r,u,c)}o(s,t),await gc(r,s,"getOobCode",ML,"EMAIL_PASSWORD_PROVIDER")}function sk(n,e){return Ed.parseLink(e)?.operation==="EMAIL_SIGNIN"}async function ak(n,e,t){if(jr(n.app))return Promise.reject(ss(n));const r=St(n),s=Lc.credentialWithLink(e,t||tm());return et(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Z1(r,s)}async function ok(n,e){return Rr(n,"POST","/v1/accounts:createAuthUri",Nr(n,e))}async function lk(n,e){const t=H_()?tm():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:s}=await ok(St(n),r);return s||[]}async function uk(n,e){const t=St(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&e0(t.auth,s,e);const{email:o}=await DL(t.auth,s);o!==n.email&&await n.reload()}async function ck(n,e,t){const r=St(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&e0(r.auth,o,t);const{email:u}=await VL(r.auth,o);u!==n.email&&await n.reload()}async function hk(n,e){return Rr(n,"POST","/v1/accounts:update",e)}async function fk(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=St(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await yu(r,hk(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const c=r.providerData.find(({providerId:f})=>f==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function dk(n,e){const t=St(n);return jr(t.auth.app)?Promise.reject(ss(t.auth)):A4(t,e,null)}function pk(n,e){return A4(St(n),null,e)}async function A4(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await yu(n,CL(r,o));await n._updateTokensIfNecessary(u,!0)}function mk(n){if(!n)return null;const{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},r=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&n?.idToken){const s=Q1(n.idToken)?.firebase?.sign_in_provider;if(s){const o=s!=="anonymous"&&s!=="custom"?s:null;return new qf(r,o)}}if(!e)return null;switch(e){case"facebook.com":return new gk(r,t);case"github.com":return new yk(r,t);case"google.com":return new _k(r,t);case"twitter.com":return new vk(r,t,n.screenName||null);case"custom":case"anonymous":return new qf(r,null);default:return new qf(r,e,t)}}class qf{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class E4 extends qf{constructor(e,t,r,s){super(e,t,r),this.username=s}}class gk extends qf{constructor(e,t){super(e,"facebook.com",t)}}class yk extends E4{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}}class _k extends qf{constructor(e,t){super(e,"google.com",t)}}class vk extends E4{constructor(e,t,r){super(e,"twitter.com",t,r)}}function bk(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:mk(t)}function wk(n,e){return St(n).setPersistence(e)}function Ak(n){return l4(n)}async function Ek(n,e){return ii(n).validatePassword(e)}function T4(n,e,t,r){return St(n).onIdTokenChanged(e,t,r)}function S4(n,e,t){return St(n).beforeAuthStateChanged(e,t)}function I4(n,e,t,r){return St(n).onAuthStateChanged(e,t,r)}function Tk(n){St(n).useDeviceLanguage()}function Sk(n,e){return St(n).updateCurrentUser(e)}function x4(n){return St(n).signOut()}function Ik(n,e){return ii(n).revokeAccessToken(e)}async function xk(n){return St(n).delete()}class fh{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new fh("enroll",e,t)}static _fromMfaPendingCredential(e){return new fh("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return fh._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return fh._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Z_{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=ii(e),s=t.customData._serverResponse,o=(s.mfaInfo||[]).map(c=>Am._fromServerResponse(r,c));et(s.mfaPendingCredential,r,"internal-error");const u=fh._fromMfaPendingCredential(s.mfaPendingCredential);return new Z_(u,o,async c=>{const f=await c._process(r,u);delete s.mfaInfo,delete s.mfaPendingCredential;const d={...s,idToken:f.idToken,refreshToken:f.refreshToken};switch(t.operationType){case"signIn":const g=await co._fromIdTokenResponse(r,t.operationType,d);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return et(t.user,r,"internal-error"),co._forOperation(t.user,t.operationType,d);default:Ea(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function Nk(n,e){const t=St(n),r=e;return et(e.customData.operationType,t,"argument-error"),et(r.customData._serverResponse?.mfaPendingCredential,t,"argument-error"),Z_._fromError(t,r)}function bA(n,e){return Rr(n,"POST","/v2/accounts/mfaEnrollment:start",Nr(n,e))}function Rk(n,e){return Rr(n,"POST","/v2/accounts/mfaEnrollment:finalize",Nr(n,e))}function Ck(n,e){return Rr(n,"POST","/v2/accounts/mfaEnrollment:start",Nr(n,e))}function Lk(n,e){return Rr(n,"POST","/v2/accounts/mfaEnrollment:finalize",Nr(n,e))}function kk(n,e){return Rr(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Nr(n,e))}class ev{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Am._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new ev(e)}async getSession(){return fh._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,s=await this.getSession(),o=await yu(this.user,r._process(this.user.auth,s,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const s=await yu(this.user,kk(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const ay=new WeakMap;function Pk(n){const e=St(n);return ay.has(e)||ay.set(e,ev._fromUser(e)),ay.get(e)}const T1="__sak";class N4{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(T1,"1"),this.storage.removeItem(T1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Dk=1e3,Ok=10;class R4 extends N4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);uL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Ok):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Dk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}R4.type="LOCAL";const C4=R4;const Mk=1e3;function oy(n){const e=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),t=RegExp(`${e}=([^;]+)`);return document.cookie.match(t)?.[1]??null}function ly(n){return`${window.location.protocol==="http:"?"__dev_":"__HOST-"}FIREBASE_${n.split(":")[3]}`}class L4{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(typeof window===void 0)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){return typeof isSecureContext=="boolean"&&!isSecureContext||typeof navigator>"u"||typeof document>"u"?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=ly(e);return window.cookieStore?(await window.cookieStore.get(t))?.value:oy(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;const r=ly(e);document.cookie=`${r}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const r=ly(e);if(window.cookieStore){const c=(d=>{const g=d.changed.find(E=>E.name===r);g&&t(g.value),d.deleted.find(E=>E.name===r)&&t(null)}),f=()=>window.cookieStore.removeEventListener("change",c);return this.listenerUnsubscribes.set(t,f),window.cookieStore.addEventListener("change",c)}let s=oy(r);const o=setInterval(()=>{const c=oy(r);c!==s&&(t(c),s=c)},Mk),u=()=>clearInterval(o);this.listenerUnsubscribes.set(t,u)}_removeListener(e,t){const r=this.listenerUnsubscribes.get(t);r&&(r(),this.listenerUnsubscribes.delete(t))}}L4.type="COOKIE";const Vk=L4;class k4 extends N4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}k4.type="SESSION";const tv=k4;function jk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class t0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new t0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(u).map(async d=>d(t.origin,o)),f=await jk(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t0.receivers=[];function n0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class Uk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((c,f)=>{const d=n0("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(b){const E=b;if(E.data.eventId===d)switch(E.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Ti(){return window}function Fk(n){Ti().location.href=n}function nv(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function Bk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qk(){return navigator?.serviceWorker?.controller||null}function zk(){return nv()?self:null}const P4="firebaseLocalStorageDb",Hk=1,S1="firebaseLocalStorage",D4="fbase_key";class Em{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function r0(n,e){return n.transaction([S1],e?"readwrite":"readonly").objectStore(S1)}function Gk(){const n=indexedDB.deleteDatabase(P4);return new Em(n).toPromise()}function Yy(){const n=indexedDB.open(P4,Hk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(S1,{keyPath:D4})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(S1)?e(r):(r.close(),await Gk(),e(await Yy()))})})}async function wA(n,e,t){const r=r0(n,!0).put({[D4]:e,value:t});return new Em(r).toPromise()}async function Kk(n,e){const t=r0(n,!1).get(e),r=await new Em(t).toPromise();return r===void 0?null:r.value}function AA(n,e){const t=r0(n,!0).delete(e);return new Em(t).toPromise()}const $k=800,Wk=3;class O4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Wk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=t0._getInstance(zk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Bk(),!this.activeServiceWorker)return;this.sender=new Uk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yy();return await wA(e,T1,"1"),await AA(e,T1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>wA(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Kk(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>AA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=r0(s,!1).getAll();return new Em(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$k)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O4.type="LOCAL";const M4=O4;function EA(n,e){return Rr(n,"POST","/v2/accounts/mfaSignIn:start",Nr(n,e))}function Yk(n,e){return Rr(n,"POST","/v2/accounts/mfaSignIn:finalize",Nr(n,e))}function Qk(n,e){return Rr(n,"POST","/v2/accounts/mfaSignIn:finalize",Nr(n,e))}const uy=a4("rcb"),Xk=new bm(3e4,6e4);class Jk{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ti().grecaptcha?.render}load(e,t=""){return et(Zk(t),e,"argument-error"),this.shouldResolveImmediately(t)&&hA(Ti().grecaptcha)?Promise.resolve(Ti().grecaptcha):new Promise((r,s)=>{const o=Ti().setTimeout(()=>{s(Ys(e,"network-request-failed"))},Xk.get());Ti()[uy]=()=>{Ti().clearTimeout(o),delete Ti()[uy];const c=Ti().grecaptcha;if(!c||!hA(c)){s(Ys(e,"internal-error"));return}const f=c.render;c.render=(d,g)=>{const b=f(d,g);return this.counter++,b},this.hostLanguage=t,r(c)};const u=`${gL()}?${vd({onload:uy,render:"explicit",hl:t})}`;$_(u).catch(()=>{clearTimeout(o),s(Ys(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Ti().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Zk(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class e8{async load(e){return new wL(e)}clearedOneInstance(){}}const qp="recaptcha",t8={theme:"light",type:"image"};class n8{constructor(e,t,r={...t8}){this.parameters=r,this.type=qp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ii(e),this.isInvisible=this.parameters.size==="invisible",et(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof t=="string"?document.getElementById(t):t;et(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new e8:new Jk,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(s=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),s(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){et(!this.parameters.sitekey,this.auth,"argument-error"),et(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),et(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Ti()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){et(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){et(H_()&&!nv(),this.auth,"internal-error"),await r8(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await ZC(this.auth);et(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return et(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function r8(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}class rv{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=yc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function i8(n,e,t){if(jr(n.app))return Promise.reject(ss(n));const r=ii(n),s=await i0(r,e,St(t));return new rv(s,o=>Z1(r,o))}async function s8(n,e,t){const r=St(n);await J1(!1,r,"phone");const s=await i0(r.auth,e,St(t));return new rv(s,o=>_4(r,o))}async function a8(n,e,t){const r=St(n);if(jr(r.auth.app))return Promise.reject(ss(r.auth));const s=await i0(r.auth,e,St(t));return new rv(s,o=>v4(r,o))}async function i0(n,e,t){if(!n._getRecaptchaConfig())try{await l4(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const s=r.session;if("phoneNumber"in r){et(s.type==="enroll",n,"internal-error");const o={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await gc(n,o,"mfaSmsEnrollment",async(d,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===Fp){et(t?.type===qp,d,"argument-error");const b=await cy(d,g,t);return bA(d,b)}return bA(d,g)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneSessionInfo.sessionInfo}else{et(s.type==="signin",n,"internal-error");const o=r.multiFactorHint?.uid||r.multiFactorUid;et(o,n,"missing-multi-factor-info");const u={mfaPendingCredential:s.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await gc(n,u,"mfaSmsSignIn",async(g,b)=>{if(b.phoneSignInInfo.captchaResponse===Fp){et(t?.type===qp,g,"argument-error");const E=await cy(g,b,t);return EA(g,E)}return EA(g,b)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await gc(n,s,"sendVerificationCode",async(f,d)=>{if(d.captchaResponse===Fp){et(t?.type===qp,f,"argument-error");const g=await cy(f,d,t);return _A(f,g)}return _A(f,d)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t?._reset()}}async function o8(n,e){const t=St(n);if(jr(t.auth.app))return Promise.reject(ss(t.auth));await W_(t,e)}async function cy(n,e,t){et(t.type===qp,n,"argument-error");const r=await t.verify();et(typeof r=="string",n,"argument-error");const s={...e};if("phoneEnrollmentInfo"in s){const o=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.captchaResponse,c=s.phoneEnrollmentInfo.clientType,f=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:c,recaptchaVersion:f}}),s}else if("phoneSignInInfo"in s){const o=s.phoneSignInInfo.captchaResponse,u=s.phoneSignInInfo.clientType,c=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:c}}),s}else return Object.assign(s,{recaptchaToken:r}),s}class ph{constructor(e){this.providerId=ph.PROVIDER_ID,this.auth=ii(e)}verifyPhoneNumber(e,t){return i0(this.auth,e,St(t))}static credential(e,t){return yc._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ph.credentialFromTaggedObject(t)}static credentialFromError(e){return ph.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?yc._fromTokenResponse(t,r):null}}ph.PROVIDER_ID="phone";ph.PHONE_SIGN_IN_METHOD="phone";function Ph(n,e){return e?cu(e):(et(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class iv extends Ad{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return pu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return pu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function l8(n){return y4(n.auth,new iv(n),n.bypassAuthState)}function u8(n){const{auth:e,user:t}=n;return et(t,e,"internal-error"),g4(t,new iv(n),n.bypassAuthState)}async function c8(n){const{auth:e,user:t}=n;return et(t,e,"internal-error"),W_(t,new iv(n),n.bypassAuthState)}class V4{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l8;case"linkViaPopup":case"linkViaRedirect":return c8;case"reauthViaPopup":case"reauthViaRedirect":return u8;default:Ea(this.auth,"internal-error")}}resolve(e){gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const h8=new bm(2e3,1e4);async function f8(n,e,t){if(jr(n.app))return Promise.reject(Ys(n,"operation-not-supported-in-this-environment"));const r=ii(n);wd(n,e,Au);const s=Ph(r,t);return new hu(r,"signInViaPopup",e,s).executeNotNull()}async function d8(n,e,t){const r=St(n);if(jr(r.auth.app))return Promise.reject(Ys(r.auth,"operation-not-supported-in-this-environment"));wd(r.auth,e,Au);const s=Ph(r.auth,t);return new hu(r.auth,"reauthViaPopup",e,s,r).executeNotNull()}async function p8(n,e,t){const r=St(n);wd(r.auth,e,Au);const s=Ph(r.auth,t);return new hu(r.auth,"linkViaPopup",e,s,r).executeNotNull()}class hu extends V4{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,hu.currentPopupAction&&hu.currentPopupAction.cancel(),hu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return et(e,this.auth,"internal-error"),e}async onExecution(){gu(this.filter.length===1,"Popup operations only handle one event");const e=n0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ys(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ys(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ys(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h8.get())};e()}}hu.currentPopupAction=null;const m8="pendingRedirect",Zg=new Map;class g8 extends V4{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Zg.get(this.auth._key());if(!e){try{const r=await y8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Zg.set(this.auth._key(),e)}return this.bypassAuthState||Zg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y8(n,e){const t=U4(e),r=j4(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}async function sv(n,e){return j4(n)._set(U4(e),"true")}function _8(n,e){Zg.set(n._key(),e)}function j4(n){return cu(n._redirectPersistence)}function U4(n){return Jg(m8,n.config.apiKey,n.name)}function v8(n,e,t){return b8(n,e,t)}async function b8(n,e,t){if(jr(n.app))return Promise.reject(ss(n));const r=ii(n);wd(n,e,Au),await r._initializationPromise;const s=Ph(r,t);return await sv(s,r),s._openRedirect(r,e,"signInViaRedirect")}function w8(n,e,t){return A8(n,e,t)}async function A8(n,e,t){const r=St(n);if(wd(r.auth,e,Au),jr(r.auth.app))return Promise.reject(ss(r.auth));await r.auth._initializationPromise;const s=Ph(r.auth,t);await sv(s,r.auth);const o=await B4(r);return s._openRedirect(r.auth,e,"reauthViaRedirect",o)}function E8(n,e,t){return T8(n,e,t)}async function T8(n,e,t){const r=St(n);wd(r.auth,e,Au),await r.auth._initializationPromise;const s=Ph(r.auth,t);await J1(!1,r,e.providerId),await sv(s,r.auth);const o=await B4(r);return s._openRedirect(r.auth,e,"linkViaRedirect",o)}async function S8(n,e){return await ii(n)._initializationPromise,F4(n,e,!1)}async function F4(n,e,t=!1){if(jr(n.app))return Promise.reject(ss(n));const r=ii(n),s=Ph(r,e),u=await new g8(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function B4(n){const e=n0(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}const I8=600*1e3;class x8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N8(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!q4(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ys(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=I8&&this.cachedEventUids.clear(),this.cachedEventUids.has(TA(e))}saveEventToCache(e){this.cachedEventUids.add(TA(e)),this.lastProcessedEventTime=Date.now()}}function TA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function q4({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function N8(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q4(n);default:return!1}}async function R8(n,e={}){return Rr(n,"GET","/v1/projects",e)}const C8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L8=/^https?/;async function k8(n){if(n.config.emulator)return;const{authorizedDomains:e}=await R8(n);for(const t of e)try{if(P8(t))return}catch{}Ea(n,"unauthorized-domain")}function P8(n){const e=tm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!L8.test(t))return!1;if(C8.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const D8=new bm(3e4,6e4);function SA(){const n=Ti().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function O8(n){return new Promise((e,t)=>{function r(){SA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SA(),t(Ys(n,"network-request-failed"))},timeout:D8.get()})}if(Ti().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ti().gapi?.load)r();else{const s=a4("iframefcb");return Ti()[s]=()=>{gapi.load?r():t(Ys(n,"network-request-failed"))},$_(`${_L()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw e1=null,e})}let e1=null;function M8(n){return e1=e1||O8(n),e1}const V8=new bm(5e3,15e3),j8="__/auth/iframe",U8="emulator/auth/iframe",F8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},B8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function q8(n){const e=n.config;et(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?G_(e,U8):`https://${n.config.authDomain}/${j8}`,r={apiKey:e.apiKey,appName:n.name,v:kh},s=B8.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${vd(r).slice(1)}`}async function z8(n){const e=await M8(n),t=Ti().gapi;return et(t,n,"internal-error"),e.open({where:document.body,url:q8(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F8,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=Ys(n,"network-request-failed"),c=Ti().setTimeout(()=>{o(u)},V8.get());function f(){Ti().clearTimeout(c),s(r)}r.ping(f).then(f,()=>{o(u)})}))}const H8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G8=500,K8=600,$8="_blank",W8="http://localhost";class IA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y8(n,e,t,r=G8,s=K8){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...H8,width:r.toString(),height:s.toString(),top:o,left:u},d=Ui().toLowerCase();t&&(c=ZS(d)?$8:t),XS(d)&&(e=e||W8,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[w,j])=>`${E}${w}=${j},`,"");if(lL(d)&&c!=="_self")return Q8(e||"",c),new IA(null);const b=window.open(e||"",c,g);et(b,n,"popup-blocked");try{b.focus()}catch{}return new IA(b)}function Q8(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const X8="__/auth/handler",J8="emulator/auth/handler",Z8=encodeURIComponent("fac");async function xA(n,e,t,r,s,o){et(n.config.authDomain,n,"auth-domain-config-required"),et(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:kh,eventId:s};if(e instanceof Au){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",TR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,b]of Object.entries({}))u[g]=b}if(e instanceof Td){const g=e.getScopes().filter(b=>b!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),d=f?`#${Z8}=${encodeURIComponent(f)}`:"";return`${eP(n)}?${vd(c).slice(1)}${d}`}function eP({config:n}){return n.emulator?G_(n,J8):`https://${n.authDomain}/${X8}`}const hy="webStorageSupport";class tP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tv,this._completeRedirectFn=F4,this._overrideRedirectResult=_8}async _openPopup(e,t,r,s){gu(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await xA(e,t,r,tm(),s);return Y8(e,o,n0())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await xA(e,t,r,tm(),s);return Fk(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(gu(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await z8(e),r=new x8(e);return t.register("authEvent",s=>(et(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hy,{type:hy},s=>{const o=s?.[0]?.[hy];o!==void 0&&t(!!o),Ea(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=k8(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return i4()||JS()||K_()}}const z4=tP;class H4{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return gl("unexpected MultiFactorSessionType")}}}class av extends H4{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new av(e)}_finalizeEnroll(e,t,r){return Rk(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Yk(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class G4{constructor(){}static assertion(e){return av._fromCredential(e)}}G4.FACTOR_ID="phone";class K4{static assertionForEnrollment(e,t){return im._fromSecret(e,t)}static assertionForSignIn(e,t){return im._fromEnrollmentId(e,t)}static async generateSecret(e){const t=e;et(typeof t.user?.auth<"u","internal-error");const r=await Ck(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return s0._fromStartTotpMfaEnrollmentResponse(r,t.user.auth)}}K4.FACTOR_ID="totp";class im extends H4{constructor(e,t,r){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=r}static _fromSecret(e,t){return new im(t,void 0,e)}static _fromEnrollmentId(e,t){return new im(t,e)}async _finalizeEnroll(e,t,r){return et(typeof this.secret<"u",e,"argument-error"),Lk(e,{idToken:t,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){et(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const r={verificationCode:this.otp};return Qk(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}}class s0{constructor(e,t,r,s,o,u,c){this.sessionInfo=u,this.auth=c,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=r,this.codeIntervalSeconds=s,this.enrollmentCompletionDeadline=o}static _fromStartTotpMfaEnrollmentResponse(e,t){return new s0(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let r=!1;return(Pg(e)||Pg(t))&&(r=!0),r&&(Pg(e)&&(e=this.auth.currentUser?.email||"unknownuser"),Pg(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function Pg(n){return typeof n>"u"||n?.length===0}var NA="@firebase/auth",RA="1.12.0";class nP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iP(n){vh(new bc("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;et(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s4(n)},d=new pL(r,s,o,f);return xL(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),vh(new bc("auth-internal",e=>{const t=ii(e.getProvider("auth").getImmediate());return(r=>new nP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bl(NA,RA,rP(n)),bl(NA,RA,"esm2020")}const sP=300,aP=NS("authIdTokenMaxAge")||sP;let CA=null;const oP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>aP)return;const s=t?.token;CA!==s&&(CA=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ov(n=B_()){const e=bd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=u4(n,{popupRedirectResolver:z4,persistence:[M4,C4,tv]}),r=NS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=oP(o.toString());S4(t,u,()=>u(t.currentUser)),T4(t,c=>u(c))}}const s=SS("auth");return s&&c4(t,`http://${s}`),t}function lP(){return document.getElementsByTagName("head")?.[0]??document}mL({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=Ys("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",lP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iP("Browser");const uP=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeOperation:BC,ActionCodeURL:Ed,AuthCredential:Ad,AuthErrorCodes:HC,EmailAuthCredential:Qf,EmailAuthProvider:Lc,FacebookAuthProvider:su,FactorId:VC,GithubAuthProvider:ou,GoogleAuthProvider:au,OAuthCredential:El,OAuthProvider:Bp,OperationType:FC,PhoneAuthCredential:yc,PhoneAuthProvider:ph,PhoneMultiFactorGenerator:G4,ProviderId:jC,RecaptchaVerifier:n8,SAMLAuthProvider:A1,SignInMethod:UC,TotpMultiFactorGenerator:K4,TotpSecret:s0,TwitterAuthProvider:lu,applyActionCode:nk,beforeAuthStateChanged:S4,browserCookiePersistence:Vk,browserLocalPersistence:C4,browserPopupRedirectResolver:z4,browserSessionPersistence:tv,checkActionCode:b4,confirmPasswordReset:tk,connectAuthEmulator:c4,createUserWithEmailAndPassword:J_,debugErrorMap:zC,deleteUser:xk,fetchSignInMethodsForEmail:lk,getAdditionalUserInfo:bk,getAuth:ov,getIdToken:nL,getIdTokenResult:$S,getMultiFactorResolver:Nk,getRedirectResult:S8,inMemoryPersistence:Wy,indexedDBLocalPersistence:M4,initializeAuth:u4,initializeRecaptchaConfig:Ak,isSignInWithEmailLink:sk,linkWithCredential:_4,linkWithPhoneNumber:s8,linkWithPopup:p8,linkWithRedirect:E8,multiFactor:Pk,onAuthStateChanged:I4,onIdTokenChanged:T4,parseActionCodeURL:$L,prodErrorMap:FS,reauthenticateWithCredential:v4,reauthenticateWithPhoneNumber:a8,reauthenticateWithPopup:d8,reauthenticateWithRedirect:w8,reload:WS,revokeAccessToken:Ik,sendEmailVerification:uk,sendPasswordResetEmail:ek,sendSignInLinkToEmail:ik,setPersistence:wk,signInAnonymously:QL,signInWithCredential:Z1,signInWithCustomToken:ZL,signInWithEmailAndPassword:w4,signInWithEmailLink:ak,signInWithPhoneNumber:i8,signInWithPopup:f8,signInWithRedirect:v8,signOut:x4,unlink:XL,updateCurrentUser:Sk,updateEmail:dk,updatePassword:pk,updatePhoneNumber:o8,updateProfile:fk,useDeviceLanguage:Tk,validatePassword:Ek,verifyBeforeUpdateEmail:ck,verifyPasswordResetCode:rk},Symbol.toStringTag,{value:"Module"}));var LA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _c,$4;(function(){var n;function e(z,M){function C(){}C.prototype=M.prototype,z.F=M.prototype,z.prototype=new C,z.prototype.constructor=z,z.D=function(G,x,O){for(var R=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)R[oe-2]=arguments[oe];return M.prototype[x].apply(G,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(z,M,C){C||(C=0);const G=Array(16);if(typeof M=="string")for(var x=0;x<16;++x)G[x]=M.charCodeAt(C++)|M.charCodeAt(C++)<<8|M.charCodeAt(C++)<<16|M.charCodeAt(C++)<<24;else for(x=0;x<16;++x)G[x]=M[C++]|M[C++]<<8|M[C++]<<16|M[C++]<<24;M=z.g[0],C=z.g[1],x=z.g[2];let O=z.g[3],R;R=M+(O^C&(x^O))+G[0]+3614090360&4294967295,M=C+(R<<7&4294967295|R>>>25),R=O+(x^M&(C^x))+G[1]+3905402710&4294967295,O=M+(R<<12&4294967295|R>>>20),R=x+(C^O&(M^C))+G[2]+606105819&4294967295,x=O+(R<<17&4294967295|R>>>15),R=C+(M^x&(O^M))+G[3]+3250441966&4294967295,C=x+(R<<22&4294967295|R>>>10),R=M+(O^C&(x^O))+G[4]+4118548399&4294967295,M=C+(R<<7&4294967295|R>>>25),R=O+(x^M&(C^x))+G[5]+1200080426&4294967295,O=M+(R<<12&4294967295|R>>>20),R=x+(C^O&(M^C))+G[6]+2821735955&4294967295,x=O+(R<<17&4294967295|R>>>15),R=C+(M^x&(O^M))+G[7]+4249261313&4294967295,C=x+(R<<22&4294967295|R>>>10),R=M+(O^C&(x^O))+G[8]+1770035416&4294967295,M=C+(R<<7&4294967295|R>>>25),R=O+(x^M&(C^x))+G[9]+2336552879&4294967295,O=M+(R<<12&4294967295|R>>>20),R=x+(C^O&(M^C))+G[10]+4294925233&4294967295,x=O+(R<<17&4294967295|R>>>15),R=C+(M^x&(O^M))+G[11]+2304563134&4294967295,C=x+(R<<22&4294967295|R>>>10),R=M+(O^C&(x^O))+G[12]+1804603682&4294967295,M=C+(R<<7&4294967295|R>>>25),R=O+(x^M&(C^x))+G[13]+4254626195&4294967295,O=M+(R<<12&4294967295|R>>>20),R=x+(C^O&(M^C))+G[14]+2792965006&4294967295,x=O+(R<<17&4294967295|R>>>15),R=C+(M^x&(O^M))+G[15]+1236535329&4294967295,C=x+(R<<22&4294967295|R>>>10),R=M+(x^O&(C^x))+G[1]+4129170786&4294967295,M=C+(R<<5&4294967295|R>>>27),R=O+(C^x&(M^C))+G[6]+3225465664&4294967295,O=M+(R<<9&4294967295|R>>>23),R=x+(M^C&(O^M))+G[11]+643717713&4294967295,x=O+(R<<14&4294967295|R>>>18),R=C+(O^M&(x^O))+G[0]+3921069994&4294967295,C=x+(R<<20&4294967295|R>>>12),R=M+(x^O&(C^x))+G[5]+3593408605&4294967295,M=C+(R<<5&4294967295|R>>>27),R=O+(C^x&(M^C))+G[10]+38016083&4294967295,O=M+(R<<9&4294967295|R>>>23),R=x+(M^C&(O^M))+G[15]+3634488961&4294967295,x=O+(R<<14&4294967295|R>>>18),R=C+(O^M&(x^O))+G[4]+3889429448&4294967295,C=x+(R<<20&4294967295|R>>>12),R=M+(x^O&(C^x))+G[9]+568446438&4294967295,M=C+(R<<5&4294967295|R>>>27),R=O+(C^x&(M^C))+G[14]+3275163606&4294967295,O=M+(R<<9&4294967295|R>>>23),R=x+(M^C&(O^M))+G[3]+4107603335&4294967295,x=O+(R<<14&4294967295|R>>>18),R=C+(O^M&(x^O))+G[8]+1163531501&4294967295,C=x+(R<<20&4294967295|R>>>12),R=M+(x^O&(C^x))+G[13]+2850285829&4294967295,M=C+(R<<5&4294967295|R>>>27),R=O+(C^x&(M^C))+G[2]+4243563512&4294967295,O=M+(R<<9&4294967295|R>>>23),R=x+(M^C&(O^M))+G[7]+1735328473&4294967295,x=O+(R<<14&4294967295|R>>>18),R=C+(O^M&(x^O))+G[12]+2368359562&4294967295,C=x+(R<<20&4294967295|R>>>12),R=M+(C^x^O)+G[5]+4294588738&4294967295,M=C+(R<<4&4294967295|R>>>28),R=O+(M^C^x)+G[8]+2272392833&4294967295,O=M+(R<<11&4294967295|R>>>21),R=x+(O^M^C)+G[11]+1839030562&4294967295,x=O+(R<<16&4294967295|R>>>16),R=C+(x^O^M)+G[14]+4259657740&4294967295,C=x+(R<<23&4294967295|R>>>9),R=M+(C^x^O)+G[1]+2763975236&4294967295,M=C+(R<<4&4294967295|R>>>28),R=O+(M^C^x)+G[4]+1272893353&4294967295,O=M+(R<<11&4294967295|R>>>21),R=x+(O^M^C)+G[7]+4139469664&4294967295,x=O+(R<<16&4294967295|R>>>16),R=C+(x^O^M)+G[10]+3200236656&4294967295,C=x+(R<<23&4294967295|R>>>9),R=M+(C^x^O)+G[13]+681279174&4294967295,M=C+(R<<4&4294967295|R>>>28),R=O+(M^C^x)+G[0]+3936430074&4294967295,O=M+(R<<11&4294967295|R>>>21),R=x+(O^M^C)+G[3]+3572445317&4294967295,x=O+(R<<16&4294967295|R>>>16),R=C+(x^O^M)+G[6]+76029189&4294967295,C=x+(R<<23&4294967295|R>>>9),R=M+(C^x^O)+G[9]+3654602809&4294967295,M=C+(R<<4&4294967295|R>>>28),R=O+(M^C^x)+G[12]+3873151461&4294967295,O=M+(R<<11&4294967295|R>>>21),R=x+(O^M^C)+G[15]+530742520&4294967295,x=O+(R<<16&4294967295|R>>>16),R=C+(x^O^M)+G[2]+3299628645&4294967295,C=x+(R<<23&4294967295|R>>>9),R=M+(x^(C|~O))+G[0]+4096336452&4294967295,M=C+(R<<6&4294967295|R>>>26),R=O+(C^(M|~x))+G[7]+1126891415&4294967295,O=M+(R<<10&4294967295|R>>>22),R=x+(M^(O|~C))+G[14]+2878612391&4294967295,x=O+(R<<15&4294967295|R>>>17),R=C+(O^(x|~M))+G[5]+4237533241&4294967295,C=x+(R<<21&4294967295|R>>>11),R=M+(x^(C|~O))+G[12]+1700485571&4294967295,M=C+(R<<6&4294967295|R>>>26),R=O+(C^(M|~x))+G[3]+2399980690&4294967295,O=M+(R<<10&4294967295|R>>>22),R=x+(M^(O|~C))+G[10]+4293915773&4294967295,x=O+(R<<15&4294967295|R>>>17),R=C+(O^(x|~M))+G[1]+2240044497&4294967295,C=x+(R<<21&4294967295|R>>>11),R=M+(x^(C|~O))+G[8]+1873313359&4294967295,M=C+(R<<6&4294967295|R>>>26),R=O+(C^(M|~x))+G[15]+4264355552&4294967295,O=M+(R<<10&4294967295|R>>>22),R=x+(M^(O|~C))+G[6]+2734768916&4294967295,x=O+(R<<15&4294967295|R>>>17),R=C+(O^(x|~M))+G[13]+1309151649&4294967295,C=x+(R<<21&4294967295|R>>>11),R=M+(x^(C|~O))+G[4]+4149444226&4294967295,M=C+(R<<6&4294967295|R>>>26),R=O+(C^(M|~x))+G[11]+3174756917&4294967295,O=M+(R<<10&4294967295|R>>>22),R=x+(M^(O|~C))+G[2]+718787259&4294967295,x=O+(R<<15&4294967295|R>>>17),R=C+(O^(x|~M))+G[9]+3951481745&4294967295,z.g[0]=z.g[0]+M&4294967295,z.g[1]=z.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,z.g[2]=z.g[2]+x&4294967295,z.g[3]=z.g[3]+O&4294967295}r.prototype.v=function(z,M){M===void 0&&(M=z.length);const C=M-this.blockSize,G=this.C;let x=this.h,O=0;for(;O<M;){if(x==0)for(;O<=C;)s(this,z,O),O+=this.blockSize;if(typeof z=="string"){for(;O<M;)if(G[x++]=z.charCodeAt(O++),x==this.blockSize){s(this,G),x=0;break}}else for(;O<M;)if(G[x++]=z[O++],x==this.blockSize){s(this,G),x=0;break}}this.h=x,this.o+=M},r.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var M=1;M<z.length-8;++M)z[M]=0;M=this.o*8;for(var C=z.length-8;C<z.length;++C)z[C]=M&255,M/=256;for(this.v(z),z=Array(16),M=0,C=0;C<4;++C)for(let G=0;G<32;G+=8)z[M++]=this.g[C]>>>G&255;return z};function o(z,M){var C=c;return Object.prototype.hasOwnProperty.call(C,z)?C[z]:C[z]=M(z)}function u(z,M){this.h=M;const C=[];let G=!0;for(let x=z.length-1;x>=0;x--){const O=z[x]|0;G&&O==M||(C[x]=O,G=!1)}this.g=C}var c={};function f(z){return-128<=z&&z<128?o(z,function(M){return new u([M|0],M<0?-1:0)}):new u([z|0],z<0?-1:0)}function d(z){if(isNaN(z)||!isFinite(z))return b;if(z<0)return B(d(-z));const M=[];let C=1;for(let G=0;z>=C;G++)M[G]=z/C|0,C*=4294967296;return new u(M,0)}function g(z,M){if(z.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(z.charAt(0)=="-")return B(g(z.substring(1),M));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=d(Math.pow(M,8));let G=b;for(let O=0;O<z.length;O+=8){var x=Math.min(8,z.length-O);const R=parseInt(z.substring(O,O+x),M);x<8?(x=d(Math.pow(M,x)),G=G.j(x).add(d(R))):(G=G.j(C),G=G.add(d(R)))}return G}var b=f(0),E=f(1),w=f(16777216);n=u.prototype,n.m=function(){if(V(this))return-B(this).m();let z=0,M=1;for(let C=0;C<this.g.length;C++){const G=this.i(C);z+=(G>=0?G:4294967296+G)*M,M*=4294967296}return z},n.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(j(this))return"0";if(V(this))return"-"+B(this).toString(z);const M=d(Math.pow(z,6));var C=this;let G="";for(;;){const x=J(C,M).g;C=k(C,x.j(M));let O=((C.g.length>0?C.g[0]:C.h)>>>0).toString(z);if(C=x,j(C))return O+G;for(;O.length<6;)O="0"+O;G=O+G}},n.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function j(z){if(z.h!=0)return!1;for(let M=0;M<z.g.length;M++)if(z.g[M]!=0)return!1;return!0}function V(z){return z.h==-1}n.l=function(z){return z=k(this,z),V(z)?-1:j(z)?0:1};function B(z){const M=z.g.length,C=[];for(let G=0;G<M;G++)C[G]=~z.g[G];return new u(C,~z.h).add(E)}n.abs=function(){return V(this)?B(this):this},n.add=function(z){const M=Math.max(this.g.length,z.g.length),C=[];let G=0;for(let x=0;x<=M;x++){let O=G+(this.i(x)&65535)+(z.i(x)&65535),R=(O>>>16)+(this.i(x)>>>16)+(z.i(x)>>>16);G=R>>>16,O&=65535,R&=65535,C[x]=R<<16|O}return new u(C,C[C.length-1]&-2147483648?-1:0)};function k(z,M){return z.add(B(M))}n.j=function(z){if(j(this)||j(z))return b;if(V(this))return V(z)?B(this).j(B(z)):B(B(this).j(z));if(V(z))return B(this.j(B(z)));if(this.l(w)<0&&z.l(w)<0)return d(this.m()*z.m());const M=this.g.length+z.g.length,C=[];for(var G=0;G<2*M;G++)C[G]=0;for(G=0;G<this.g.length;G++)for(let x=0;x<z.g.length;x++){const O=this.i(G)>>>16,R=this.i(G)&65535,oe=z.i(x)>>>16,Ie=z.i(x)&65535;C[2*G+2*x]+=R*Ie,te(C,2*G+2*x),C[2*G+2*x+1]+=O*Ie,te(C,2*G+2*x+1),C[2*G+2*x+1]+=R*oe,te(C,2*G+2*x+1),C[2*G+2*x+2]+=O*oe,te(C,2*G+2*x+2)}for(z=0;z<M;z++)C[z]=C[2*z+1]<<16|C[2*z];for(z=M;z<2*M;z++)C[z]=0;return new u(C,0)};function te(z,M){for(;(z[M]&65535)!=z[M];)z[M+1]+=z[M]>>>16,z[M]&=65535,M++}function $(z,M){this.g=z,this.h=M}function J(z,M){if(j(M))throw Error("division by zero");if(j(z))return new $(b,b);if(V(z))return M=J(B(z),M),new $(B(M.g),B(M.h));if(V(M))return M=J(z,B(M)),new $(B(M.g),M.h);if(z.g.length>30){if(V(z)||V(M))throw Error("slowDivide_ only works with positive integers.");for(var C=E,G=M;G.l(z)<=0;)C=ge(C),G=ge(G);var x=ve(C,1),O=ve(G,1);for(G=ve(G,2),C=ve(C,2);!j(G);){var R=O.add(G);R.l(z)<=0&&(x=x.add(C),O=R),G=ve(G,1),C=ve(C,1)}return M=k(z,x.j(M)),new $(x,M)}for(x=b;z.l(M)>=0;){for(C=Math.max(1,Math.floor(z.m()/M.m())),G=Math.ceil(Math.log(C)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),O=d(C),R=O.j(M);V(R)||R.l(z)>0;)C-=G,O=d(C),R=O.j(M);j(O)&&(O=E),x=x.add(O),z=k(z,R)}return new $(x,z)}n.B=function(z){return J(this,z).h},n.and=function(z){const M=Math.max(this.g.length,z.g.length),C=[];for(let G=0;G<M;G++)C[G]=this.i(G)&z.i(G);return new u(C,this.h&z.h)},n.or=function(z){const M=Math.max(this.g.length,z.g.length),C=[];for(let G=0;G<M;G++)C[G]=this.i(G)|z.i(G);return new u(C,this.h|z.h)},n.xor=function(z){const M=Math.max(this.g.length,z.g.length),C=[];for(let G=0;G<M;G++)C[G]=this.i(G)^z.i(G);return new u(C,this.h^z.h)};function ge(z){const M=z.g.length+1,C=[];for(let G=0;G<M;G++)C[G]=z.i(G)<<1|z.i(G-1)>>>31;return new u(C,z.h)}function ve(z,M){const C=M>>5;M%=32;const G=z.g.length-C,x=[];for(let O=0;O<G;O++)x[O]=M>0?z.i(O+C)>>>M|z.i(O+C+1)<<32-M:z.i(O+C);return new u(x,z.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$4=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,_c=u}).apply(typeof LA<"u"?LA:typeof self<"u"?self:typeof window<"u"?window:{});var Dg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var W4,Dp,Y4,t1,Qy,Q4,X4,J4;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dg=="object"&&Dg];for(var S=0;S<m.length;++S){var L=m[S];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=t(this);function s(m,S){if(S)e:{var L=r;m=m.split(".");for(var Q=0;Q<m.length-1;Q++){var Ae=m[Q];if(!(Ae in L))break e;L=L[Ae]}m=m[m.length-1],Q=L[m],S=S(Q),S!=Q&&S!=null&&e(L,m,{configurable:!0,writable:!0,value:S})}}s("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(m){return m||function(S){var L=[],Q;for(Q in S)Object.prototype.hasOwnProperty.call(S,Q)&&L.push([Q,S[Q]]);return L}});var o=o||{},u=this||self;function c(m){var S=typeof m;return S=="object"&&m!=null||S=="function"}function f(m,S,L){return m.call.apply(m.bind,arguments)}function d(m,S,L){return d=f,d.apply(null,arguments)}function g(m,S){var L=Array.prototype.slice.call(arguments,1);return function(){var Q=L.slice();return Q.push.apply(Q,arguments),m.apply(this,Q)}}function b(m,S){function L(){}L.prototype=S.prototype,m.Z=S.prototype,m.prototype=new L,m.prototype.constructor=m,m.Ob=function(Q,Ae,Pe){for(var Ze=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)Ze[Wt-2]=arguments[Wt];return S.prototype[Ae].apply(Q,Ze)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function w(m){const S=m.length;if(S>0){const L=Array(S);for(let Q=0;Q<S;Q++)L[Q]=m[Q];return L}return[]}function j(m,S){for(let Q=1;Q<arguments.length;Q++){const Ae=arguments[Q];var L=typeof Ae;if(L=L!="object"?L:Ae?Array.isArray(Ae)?"array":L:"null",L=="array"||L=="object"&&typeof Ae.length=="number"){L=m.length||0;const Pe=Ae.length||0;m.length=L+Pe;for(let Ze=0;Ze<Pe;Ze++)m[L+Ze]=Ae[Ze]}else m.push(Ae)}}class V{constructor(S,L){this.i=S,this.j=L,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function B(m){u.setTimeout(()=>{throw m},0)}function k(){var m=z;let S=null;return m.g&&(S=m.g,m.g=m.g.next,m.g||(m.h=null),S.next=null),S}class te{constructor(){this.h=this.g=null}add(S,L){const Q=$.get();Q.set(S,L),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var $=new V(()=>new J,m=>m.reset());class J{constructor(){this.next=this.g=this.h=null}set(S,L){this.h=S,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,ve=!1,z=new te,M=()=>{const m=Promise.resolve(void 0);ge=()=>{m.then(C)}};function C(){for(var m;m=k();){try{m.h.call(m.g)}catch(L){B(L)}var S=$;S.j(m),S.h<100&&(S.h++,m.next=S.g,S.g=m)}ve=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(m,S){this.type=m,this.g=this.target=S,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,S=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const L=()=>{};u.addEventListener("test",L,S),u.removeEventListener("test",L,S)}catch{}return m})();function R(m){return/^[\s\xa0]*$/.test(m)}function oe(m,S){x.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,S)}b(oe,x),oe.prototype.init=function(m,S){const L=this.type=m.type,Q=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=S,S=m.relatedTarget,S||(L=="mouseover"?S=m.fromElement:L=="mouseout"&&(S=m.toElement)),this.relatedTarget=S,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),ae=0;function pe(m,S,L,Q,Ae){this.listener=m,this.proxy=null,this.src=S,this.type=L,this.capture=!!Q,this.ha=Ae,this.key=++ae,this.da=this.fa=!1}function fe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Le(m,S,L){for(const Q in m)S.call(L,m[Q],Q,m)}function Ke(m,S){for(const L in m)S.call(void 0,m[L],L,m)}function Z(m){const S={};for(const L in m)S[L]=m[L];return S}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(m,S){let L,Q;for(let Ae=1;Ae<arguments.length;Ae++){Q=arguments[Ae];for(L in Q)m[L]=Q[L];for(let Pe=0;Pe<P.length;Pe++)L=P[Pe],Object.prototype.hasOwnProperty.call(Q,L)&&(m[L]=Q[L])}}function ee(m){this.src=m,this.g={},this.h=0}ee.prototype.add=function(m,S,L,Q,Ae){const Pe=m.toString();m=this.g[Pe],m||(m=this.g[Pe]=[],this.h++);const Ze=ce(m,S,Q,Ae);return Ze>-1?(S=m[Ze],L||(S.fa=!1)):(S=new pe(S,this.src,Pe,!!Q,Ae),S.fa=L,m.push(S)),S};function le(m,S){const L=S.type;if(L in m.g){var Q=m.g[L],Ae=Array.prototype.indexOf.call(Q,S,void 0),Pe;(Pe=Ae>=0)&&Array.prototype.splice.call(Q,Ae,1),Pe&&(fe(S),m.g[L].length==0&&(delete m.g[L],m.h--))}}function ce(m,S,L,Q){for(let Ae=0;Ae<m.length;++Ae){const Pe=m[Ae];if(!Pe.da&&Pe.listener==S&&Pe.capture==!!L&&Pe.ha==Q)return Ae}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),De={};function ke(m,S,L,Q,Ae){if(Array.isArray(S)){for(let Pe=0;Pe<S.length;Pe++)ke(m,S[Pe],L,Q,Ae);return null}return L=Pt(L),m&&m[Ie]?m.J(S,L,c(Q)?!!Q.capture:!1,Ae):Be(m,S,L,!1,Q,Ae)}function Be(m,S,L,Q,Ae,Pe){if(!S)throw Error("Invalid event type");const Ze=c(Ae)?!!Ae.capture:!!Ae;let Wt=it(m);if(Wt||(m[ye]=Wt=new ee(m)),L=Wt.add(S,L,Q,Ze,Pe),L.proxy)return L;if(Q=Je(),L.proxy=Q,Q.src=m,Q.listener=L,m.addEventListener)O||(Ae=Ze),Ae===void 0&&(Ae=!1),m.addEventListener(S.toString(),Q,Ae);else if(m.attachEvent)m.attachEvent(pt(S.toString()),Q);else if(m.addListener&&m.removeListener)m.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Je(){function m(L){return S.call(m.src,m.listener,L)}const S=ne;return m}function ot(m,S,L,Q,Ae){if(Array.isArray(S))for(var Pe=0;Pe<S.length;Pe++)ot(m,S[Pe],L,Q,Ae);else Q=c(Q)?!!Q.capture:!!Q,L=Pt(L),m&&m[Ie]?(m=m.i,Pe=String(S).toString(),Pe in m.g&&(S=m.g[Pe],L=ce(S,L,Q,Ae),L>-1&&(fe(S[L]),Array.prototype.splice.call(S,L,1),S.length==0&&(delete m.g[Pe],m.h--)))):m&&(m=it(m))&&(S=m.g[S.toString()],m=-1,S&&(m=ce(S,L,Q,Ae)),(L=m>-1?S[m]:null)&&at(L))}function at(m){if(typeof m!="number"&&m&&!m.da){var S=m.src;if(S&&S[Ie])le(S.i,m);else{var L=m.type,Q=m.proxy;S.removeEventListener?S.removeEventListener(L,Q,m.capture):S.detachEvent?S.detachEvent(pt(L),Q):S.addListener&&S.removeListener&&S.removeListener(Q),(L=it(S))?(le(L,m),L.h==0&&(L.src=null,S[ye]=null)):fe(m)}}}function pt(m){return m in De?De[m]:De[m]="on"+m}function ne(m,S){if(m.da)m=!0;else{S=new oe(S,this);const L=m.listener,Q=m.ha||m.src;m.fa&&at(m),m=L.call(Q,S)}return m}function it(m){return m=m[ye],m instanceof ee?m:null}var Jt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Pt(m){return typeof m=="function"?m:(m[Jt]||(m[Jt]=function(S){return m.handleEvent(S)}),m[Jt])}function ze(){G.call(this),this.i=new ee(this),this.M=this,this.G=null}b(ze,G),ze.prototype[Ie]=!0,ze.prototype.removeEventListener=function(m,S,L,Q){ot(this,m,S,L,Q)};function ut(m,S){var L,Q=m.G;if(Q)for(L=[];Q;Q=Q.G)L.push(Q);if(m=m.M,Q=S.type||S,typeof S=="string")S=new x(S,m);else if(S instanceof x)S.target=S.target||m;else{var Ae=S;S=new x(Q,m),W(S,Ae)}Ae=!0;let Pe,Ze;if(L)for(Ze=L.length-1;Ze>=0;Ze--)Pe=S.g=L[Ze],Ae=lt(Pe,Q,!0,S)&&Ae;if(Pe=S.g=m,Ae=lt(Pe,Q,!0,S)&&Ae,Ae=lt(Pe,Q,!1,S)&&Ae,L)for(Ze=0;Ze<L.length;Ze++)Pe=S.g=L[Ze],Ae=lt(Pe,Q,!1,S)&&Ae}ze.prototype.N=function(){if(ze.Z.N.call(this),this.i){var m=this.i;for(const S in m.g){const L=m.g[S];for(let Q=0;Q<L.length;Q++)fe(L[Q]);delete m.g[S],m.h--}}this.G=null},ze.prototype.J=function(m,S,L,Q){return this.i.add(String(m),S,!1,L,Q)},ze.prototype.K=function(m,S,L,Q){return this.i.add(String(m),S,!0,L,Q)};function lt(m,S,L,Q){if(S=m.i.g[String(S)],!S)return!0;S=S.concat();let Ae=!0;for(let Pe=0;Pe<S.length;++Pe){const Ze=S[Pe];if(Ze&&!Ze.da&&Ze.capture==L){const Wt=Ze.listener,ar=Ze.ha||Ze.src;Ze.fa&&le(m.i,Ze),Ae=Wt.call(ar,Q)!==!1&&Ae}}return Ae&&!Q.defaultPrevented}function Ot(m,S){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:u.setTimeout(m,S||0)}function It(m){m.g=Ot(()=>{m.g=null,m.i&&(m.i=!1,It(m))},m.l);const S=m.h;m.h=null,m.m.apply(null,S)}class Zt extends G{constructor(S,L){super(),this.m=S,this.l=L,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:It(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rn(m){G.call(this),this.h=m,this.g={}}b(rn,G);var Kt=[];function cn(m){Le(m.g,function(S,L){this.g.hasOwnProperty(L)&&at(S)},m),m.g={}}rn.prototype.N=function(){rn.Z.N.call(this),cn(this)},rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tn=u.JSON.stringify,wt=u.JSON.parse,Yt=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function At(){}function _r(){}var nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Dt(){x.call(this,"d")}b(Dt,x);function zt(){x.call(this,"c")}b(zt,x);var en={},Rt=null;function Dn(){return Rt=Rt||new ze}en.Ia="serverreachability";function Bt(m){x.call(this,en.Ia,m)}b(Bt,x);function qt(m){const S=Dn();ut(S,new Bt(S))}en.STAT_EVENT="statevent";function Vn(m,S){x.call(this,en.STAT_EVENT,m),this.stat=S}b(Vn,x);function xt(m){const S=Dn();ut(S,new Vn(S,m))}en.Ja="timingevent";function Et(m,S){x.call(this,en.Ja,m),this.size=S}b(Et,x);function hn(m,S){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},S)}function Ii(){this.g=!0}Ii.prototype.ua=function(){this.g=!1};function mi(m,S,L,Q,Ae,Pe){m.info(function(){if(m.g)if(Pe){var Ze="",Wt=Pe.split("&");for(let dn=0;dn<Wt.length;dn++){var ar=Wt[dn].split("=");if(ar.length>1){const Fn=ar[0];ar=ar[1];const vi=Fn.split("_");Ze=vi.length>=2&&vi[1]=="type"?Ze+(Fn+"="+ar+"&"):Ze+(Fn+"=redacted&")}}}else Ze=null;else Ze=Pe;return"XMLHTTP REQ ("+Q+") [attempt "+Ae+"]: "+S+`
`+L+`
`+Ze})}function Qs(m,S,L,Q,Ae,Pe,Ze){m.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+Ae+"]: "+S+`
`+L+`
`+Pe+" "+Ze})}function si(m,S,L,Q){m.info(function(){return"XMLHTTP TEXT ("+S+"): "+Ia(m,L)+(Q?" "+Q:"")})}function Ct(m,S){m.info(function(){return"TIMEOUT: "+S})}Ii.prototype.info=function(){};function Ia(m,S){if(!m.g)return S;if(!S)return null;try{const Pe=JSON.parse(S);if(Pe){for(m=0;m<Pe.length;m++)if(Array.isArray(Pe[m])){var L=Pe[m];if(!(L.length<2)){var Q=L[1];if(Array.isArray(Q)&&!(Q.length<1)){var Ae=Q[0];if(Ae!="noop"&&Ae!="stop"&&Ae!="close")for(let Ze=1;Ze<Q.length;Ze++)Q[Ze]=""}}}}return tn(Pe)}catch{return S}}var os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zi;function Kn(){}b(Kn,At),Kn.prototype.g=function(){return new XMLHttpRequest},zi=new Kn;function ir(m){return encodeURIComponent(String(m))}function Wr(m){var S=1;m=m.split(":");const L=[];for(;S>0&&m.length;)L.push(m.shift()),S--;return m.length&&L.push(m.join(":")),L}function xi(m,S,L,Q){this.j=m,this.i=S,this.l=L,this.S=Q||1,this.V=new rn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gi}function gi(){this.i=null,this.g="",this.h=!1}var jn={},Yn={};function Yr(m,S,L){m.M=1,m.A=Ka(Cr(S)),m.u=L,m.R=!0,Hi(m,null)}function Hi(m,S){m.F=Date.now(),Gi(m),m.B=Cr(m.A);var L=m.B,Q=m.S;Array.isArray(Q)||(Q=[String(Q)]),$o(L.i,"t",Q),m.C=0,L=m.j.L,m.h=new gi,m.g=dt(m.j,L?S:null,!m.u),m.P>0&&(m.O=new Zt(d(m.Y,m,m.g),m.P)),S=m.V,L=m.g,Q=m.ba;var Ae="readystatechange";Array.isArray(Ae)||(Ae&&(Kt[0]=Ae.toString()),Ae=Kt);for(let Pe=0;Pe<Ae.length;Pe++){const Ze=ke(L,Ae[Pe],Q||S.handleEvent,!1,S.h||S);if(!Ze)break;S.g[Ze.key]=Ze}S=m.J?Z(m.J):{},m.u?(m.v||(m.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,S)):(m.v="GET",m.g.ea(m.B,m.v,null,S)),qt(),mi(m.i,m.v,m.B,m.l,m.S,m.u)}xi.prototype.ba=function(m){m=m.target;const S=this.O;S&&ds(m)==3?S.j():this.Y(m)},xi.prototype.Y=function(m){try{if(m==this.g)e:{const Wt=ds(this.g),ar=this.g.ya(),dn=this.g.ca();if(!(Wt<3)&&(Wt!=3||this.g&&(this.h.h||this.g.la()||qr(this.g)))){this.K||Wt!=4||ar==7||(ar==8||dn<=0?qt(3):qt(2)),ls(this);var S=this.g.ca();this.X=S;var L=As(this);if(this.o=S==200,Qs(this.i,this.v,this.B,this.l,this.S,Wt,S),this.o){if(this.U&&!this.L){t:{if(this.g){var Q,Ae=this.g;if((Q=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Q)){var Pe=Q;break t}}Pe=null}if(m=Pe)si(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Es(this,m);else{this.o=!1,this.m=3,xt(12),us(this),Ni(this);break e}}if(this.R){m=!0;let Fn;for(;!this.K&&this.C<L.length;)if(Fn=js(this,L),Fn==Yn){Wt==4&&(this.m=4,xt(14),m=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==jn){this.m=4,xt(15),si(this.i,this.l,L,"[Invalid Chunk]"),m=!1;break}else si(this.i,this.l,Fn,null),Es(this,Fn);if(Ga(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||L.length!=0||this.h.h||(this.m=1,xt(16),m=!1),this.o=this.o&&m,!m)si(this.i,this.l,L,"[Invalid Chunked Response]"),us(this),Ni(this);else if(L.length>0&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.aa&&!Ze.P&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Xo(Ze),Ze.P=!0,xt(11))}}else si(this.i,this.l,L,null),Es(this,L);Wt==4&&us(this),this.o&&!this.K&&(Wt==4?ie(this.j,this):(this.o=!1,Gi(this)))}else Xs(this.g),S==400&&L.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),us(this),Ni(this)}}}catch{}};function As(m){if(!Ga(m))return m.g.la();const S=qr(m.g);if(S==="")return"";let L="";const Q=S.length,Ae=ds(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return us(m),Ni(m),"";m.h.i=new u.TextDecoder}for(let Pe=0;Pe<Q;Pe++)m.h.h=!0,L+=m.h.i.decode(S[Pe],{stream:!(Ae&&Pe==Q-1)});return S.length=0,m.h.g+=L,m.C=0,m.h.g}function Ga(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function js(m,S){var L=m.C,Q=S.indexOf(`
`,L);return Q==-1?Yn:(L=Number(S.substring(L,Q)),isNaN(L)?jn:(Q+=1,Q+L>S.length?Yn:(S=S.slice(Q,Q+L),m.C=Q+L,S)))}xi.prototype.cancel=function(){this.K=!0,us(this)};function Gi(m){m.T=Date.now()+m.H,xa(m,m.H)}function xa(m,S){if(m.D!=null)throw Error("WatchDog timer not null");m.D=hn(d(m.aa,m),S)}function ls(m){m.D&&(u.clearTimeout(m.D),m.D=null)}xi.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Ct(this.i,this.B),this.M!=2&&(qt(),xt(17)),us(this),this.m=2,Ni(this)):xa(this,this.T-m)};function Ni(m){m.j.I==0||m.K||ie(m.j,m)}function us(m){ls(m);var S=m.O;S&&typeof S.dispose=="function"&&S.dispose(),m.O=null,cn(m.V),m.g&&(S=m.g,m.g=null,S.abort(),S.dispose())}function Es(m,S){try{var L=m.j;if(L.I!=0&&(L.g==m||Us(L.h,m))){if(!m.L&&Us(L.h,m)&&L.I==3){try{var Q=L.Ba.g.parse(S)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var Ae=Q;if(Ae[0]==0){e:if(!L.v){if(L.g)if(L.g.F+3e3<m.F)U(L),Zs(L);else break e;qs(L),xt(18)}}else L.xa=Ae[1],0<L.xa-L.K&&Ae[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=hn(d(L.Va,L),6e3));Ts(L.h)<=1&&L.ta&&(L.ta=void 0)}else be(L,11)}else if((m.L||L.g==m)&&U(L),!R(S))for(Ae=L.Ba.g.parse(S),S=0;S<Ae.length;S++){let dn=Ae[S];const Fn=dn[0];if(!(Fn<=L.K))if(L.K=Fn,dn=dn[1],L.I==2)if(dn[0]=="c"){L.M=dn[1],L.ba=dn[2];const vi=dn[3];vi!=null&&(L.ka=vi,L.j.info("VER="+L.ka));const Ci=dn[4];Ci!=null&&(L.za=Ci,L.j.info("SVER="+L.za));const Qn=dn[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(Q=1.5*Qn,L.O=Q,L.j.info("backChannelRequestTimeoutMs_="+Q)),Q=L;const Li=m.g;if(Li){const zs=Li.g?Li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var Pe=Q.h;Pe.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(Pe.j=Pe.l,Pe.g=new Set,Pe.h&&(fo(Pe,Pe.h),Pe.h=null))}if(Q.G){const Xa=Li.g?Li.g.getResponseHeader("X-HTTP-Session-Id"):null;Xa&&(Q.wa=Xa,En(Q.J,Q.G,Xa))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-m.F,L.j.info("Handshake RTT: "+L.T+"ms")),Q=L;var Ze=m;if(Q.na=Ye(Q,Q.L?Q.ba:null,Q.W),Ze.L){Go(Q.h,Ze);var Wt=Ze,ar=Q.O;ar&&(Wt.H=ar),Wt.D&&(ls(Wt),Gi(Wt)),Q.g=Ze}else Ml(Q);L.i.length>0&&Is(L)}else dn[0]!="stop"&&dn[0]!="close"||be(L,7);else L.I==3&&(dn[0]=="stop"||dn[0]=="close"?dn[0]=="stop"?be(L,7):Qa(L):dn[0]!="noop"&&L.l&&L.l.qa(dn),L.A=0)}}qt(4)}catch{}}var br=class{constructor(m,S){this.g=m,this.map=S}};function Ho(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ki(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Ts(m){return m.h?1:m.g?m.g.size:0}function Us(m,S){return m.h?m.h==S:m.g?m.g.has(S):!1}function fo(m,S){m.g?m.g.add(S):m.h=S}function Go(m,S){m.h&&m.h==S?m.h=null:m.g&&m.g.has(S)&&m.g.delete(S)}Ho.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ko(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let S=m.i;for(const L of m.g.values())S=S.concat(L.G);return S}return w(m.i)}var Cl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cs(m,S){if(m){m=m.split("&");for(let L=0;L<m.length;L++){const Q=m[L].indexOf("=");let Ae,Pe=null;Q>=0?(Ae=m[L].substring(0,Q),Pe=m[L].substring(Q+1)):Ae=m[L],S(Ae,Pe?decodeURIComponent(Pe.replace(/\+/g," ")):"")}}}function yi(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;m instanceof yi?(this.l=m.l,mn(this,m.j),this.o=m.o,this.g=m.g,Na(this,m.u),this.h=m.h,Ss(this,Wo(m.i)),this.m=m.m):m&&(S=String(m).match(Cl))?(this.l=!1,mn(this,S[1]||"",!0),this.o=Br(S[2]||""),this.g=Br(S[3]||"",!0),Na(this,S[4]),this.h=Br(S[5]||"",!0),Ss(this,S[6]||"",!0),this.m=Br(S[7]||"")):(this.l=!1,this.i=new Ra(null,this.l))}yi.prototype.toString=function(){const m=[];var S=this.j;S&&m.push(dr(S,po,!0),":");var L=this.g;return(L||S=="file")&&(m.push("//"),(S=this.o)&&m.push(dr(S,po,!0),"@"),m.push(ir(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&m.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&m.push("/"),m.push(dr(L,L.charAt(0)=="/"?Ll:xu,!0))),(L=this.i.toString())&&m.push("?",L),(L=this.m)&&m.push("#",dr(L,kl)),m.join("")},yi.prototype.resolve=function(m){const S=Cr(this);let L=!!m.j;L?mn(S,m.j):L=!!m.o,L?S.o=m.o:L=!!m.g,L?S.g=m.g:L=m.u!=null;var Q=m.h;if(L)Na(S,m.u);else if(L=!!m.h){if(Q.charAt(0)!="/")if(this.g&&!this.h)Q="/"+Q;else{var Ae=S.h.lastIndexOf("/");Ae!=-1&&(Q=S.h.slice(0,Ae+1)+Q)}if(Ae=Q,Ae==".."||Ae==".")Q="";else if(Ae.indexOf("./")!=-1||Ae.indexOf("/.")!=-1){Q=Ae.lastIndexOf("/",0)==0,Ae=Ae.split("/");const Pe=[];for(let Ze=0;Ze<Ae.length;){const Wt=Ae[Ze++];Wt=="."?Q&&Ze==Ae.length&&Pe.push(""):Wt==".."?((Pe.length>1||Pe.length==1&&Pe[0]!="")&&Pe.pop(),Q&&Ze==Ae.length&&Pe.push("")):(Pe.push(Wt),Q=!0)}Q=Pe.join("/")}else Q=Ae}return L?S.h=Q:L=m.i.toString()!=="",L?Ss(S,Wo(m.i)):L=!!m.m,L&&(S.m=m.m),S};function Cr(m){return new yi(m)}function mn(m,S,L){m.j=L?Br(S,!0):S,m.j&&(m.j=m.j.replace(/:$/,""))}function Na(m,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);m.u=S}else m.u=null}function Ss(m,S,L){S instanceof Ra?(m.i=S,$i(m.i,m.l)):(L||(S=dr(S,Ri)),m.i=new Ra(S,m.l))}function En(m,S,L){m.i.set(S,L)}function Ka(m){return En(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Br(m,S){return m?S?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function dr(m,S,L){return typeof m=="string"?(m=encodeURI(m).replace(S,Lr),L&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Lr(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var po=/[#\/\?@]/g,xu=/[#\?:]/g,Ll=/[#\?]/g,Ri=/[#\?@]/g,kl=/#/g;function Ra(m,S){this.h=this.g=null,this.i=m||null,this.j=!!S}function ai(m){m.g||(m.g=new Map,m.h=0,m.i&&cs(m.i,function(S,L){m.add(decodeURIComponent(S.replace(/\+/g," ")),L)}))}n=Ra.prototype,n.add=function(m,S){ai(this),this.i=null,m=Ca(this,m);let L=this.g.get(m);return L||this.g.set(m,L=[]),L.push(S),this.h+=1,this};function $a(m,S){ai(m),S=Ca(m,S),m.g.has(S)&&(m.i=null,m.h-=m.g.get(S).length,m.g.delete(S))}function Pl(m,S){return ai(m),S=Ca(m,S),m.g.has(S)}n.forEach=function(m,S){ai(this),this.g.forEach(function(L,Q){L.forEach(function(Ae){m.call(S,Ae,Q,this)},this)},this)};function Dl(m,S){ai(m);let L=[];if(typeof S=="string")Pl(m,S)&&(L=L.concat(m.g.get(Ca(m,S))));else for(m=Array.from(m.g.values()),S=0;S<m.length;S++)L=L.concat(m[S]);return L}n.set=function(m,S){return ai(this),this.i=null,m=Ca(this,m),Pl(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[S]),this.h+=1,this},n.get=function(m,S){return m?(m=Dl(this,m),m.length>0?String(m[0]):S):S};function $o(m,S,L){$a(m,S),L.length>0&&(m.i=null,m.g.set(Ca(m,S),w(L)),m.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],S=Array.from(this.g.keys());for(let Q=0;Q<S.length;Q++){var L=S[Q];const Ae=ir(L);L=Dl(this,L);for(let Pe=0;Pe<L.length;Pe++){let Ze=Ae;L[Pe]!==""&&(Ze+="="+ir(L[Pe])),m.push(Ze)}}return this.i=m.join("&")};function Wo(m){const S=new Ra;return S.i=m.i,m.g&&(S.g=new Map(m.g),S.h=m.h),S}function Ca(m,S){return S=String(S),m.j&&(S=S.toLowerCase()),S}function $i(m,S){S&&!m.j&&(ai(m),m.i=null,m.g.forEach(function(L,Q){const Ae=Q.toLowerCase();Q!=Ae&&($a(this,Q),$o(this,Ae,L))},m)),m.j=S}function Fs(m,S){const L=new Ii;if(u.Image){const Q=new Image;Q.onload=g(Wi,L,"TestLoadImage: loaded",!0,S,Q),Q.onerror=g(Wi,L,"TestLoadImage: error",!1,S,Q),Q.onabort=g(Wi,L,"TestLoadImage: abort",!1,S,Q),Q.ontimeout=g(Wi,L,"TestLoadImage: timeout",!1,S,Q),u.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=m}else S(!1)}function La(m,S){const L=new Ii,Q=new AbortController,Ae=setTimeout(()=>{Q.abort(),Wi(L,"TestPingServer: timeout",!1,S)},1e4);fetch(m,{signal:Q.signal}).then(Pe=>{clearTimeout(Ae),Pe.ok?Wi(L,"TestPingServer: ok",!0,S):Wi(L,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(Ae),Wi(L,"TestPingServer: error",!1,S)})}function Wi(m,S,L,Q,Ae){try{Ae&&(Ae.onload=null,Ae.onerror=null,Ae.onabort=null,Ae.ontimeout=null),Q(L)}catch{}}function Wa(){this.g=new Yt}function Mt(m){this.i=m.Sb||null,this.h=m.ab||!1}b(Mt,At),Mt.prototype.g=function(){return new mo(this.i,this.h)};function mo(m,S){ze.call(this),this.H=m,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(mo,ze),n=mo.prototype,n.open=function(m,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=S,this.readyState=1,oi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(S.body=m),(this.H||u).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ya(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var S=m.value?m.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!m.done}))&&(this.response=this.responseText+=S)}m.done?Ya(this):oi(this),this.readyState==3&&Yo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,Ya(this))},n.Na=function(m){this.g&&(this.response=m,Ya(this))},n.ga=function(){this.g&&Ya(this)};function Ya(m){m.readyState=4,m.l=null,m.j=null,m.B=null,oi(m)}n.setRequestHeader=function(m,S){this.A.append(m,S)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],S=this.h.entries();for(var L=S.next();!L.done;)L=L.value,m.push(L[0]+": "+L[1]),L=S.next();return m.join(`\r
`)};function oi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(mo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Qr(m){let S="";return Le(m,function(L,Q){S+=Q,S+=":",S+=L,S+=`\r
`}),S}function go(m,S,L){e:{for(Q in L){var Q=!1;break e}Q=!0}Q||(L=Qr(L),typeof m=="string"?L!=null&&ir(L):En(m,S,L))}function Un(m){ze.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Un,ze);var hs=/^https?$/i,yo=["POST","PUT"];n=Un.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,S,L,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);S=S?S.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zi.g(),this.g.onreadystatechange=E(d(this.Ca,this));try{this.B=!0,this.g.open(S,String(m),!0),this.B=!1}catch(Pe){Bs(this,Pe);return}if(m=L||"",L=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var Ae in Q)L.set(Ae,Q[Ae]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const Pe of Q.keys())L.set(Pe,Q.get(Pe));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(L.keys()).find(Pe=>Pe.toLowerCase()=="content-type"),Ae=u.FormData&&m instanceof u.FormData,!(Array.prototype.indexOf.call(yo,S,void 0)>=0)||Q||Ae||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pe,Ze]of L)this.g.setRequestHeader(Pe,Ze);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(Pe){Bs(this,Pe)}};function Bs(m,S){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=S,m.o=5,Ol(m),ka(m)}function Ol(m){m.A||(m.A=!0,ut(m,"complete"),ut(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,ut(this,"complete"),ut(this,"abort"),ka(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ka(this,!0)),Un.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?fs(this):this.Xa())},n.Xa=function(){fs(this)};function fs(m){if(m.h&&typeof o<"u"){if(m.v&&ds(m)==4)setTimeout(m.Ca.bind(m),0);else if(ut(m,"readystatechange"),ds(m)==4){m.h=!1;try{const Pe=m.ca();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var L;if(!(L=S)){var Q;if(Q=Pe===0){let Ze=String(m.D).match(Cl)[1]||null;!Ze&&u.self&&u.self.location&&(Ze=u.self.location.protocol.slice(0,-1)),Q=!hs.test(Ze?Ze.toLowerCase():"")}L=Q}if(L)ut(m,"complete"),ut(m,"success");else{m.o=6;try{var Ae=ds(m)>2?m.g.statusText:""}catch{Ae=""}m.l=Ae+" ["+m.ca()+"]",Ol(m)}}finally{ka(m)}}}}function ka(m,S){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const L=m.g;m.g=null,S||ut(m,"ready");try{L.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ds(m){return m.g?m.g.readyState:0}n.ca=function(){try{return ds(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var S=this.g.responseText;return m&&S.indexOf(m)==0&&(S=S.substring(m.length)),wt(S)}};function qr(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Xs(m){const S={};m=(m.g&&ds(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<m.length;Q++){if(R(m[Q]))continue;var L=Wr(m[Q]);const Ae=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Pe=S[Ae]||[];S[Ae]=Pe,Pe.push(L)}Ke(S,function(Q){return Q.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(m,S,L){return L&&L.internalChannelParams&&L.internalChannelParams[m]||S}function Js(m){this.za=0,this.i=[],this.j=new Ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,m),this.Za=_i("retryDelaySeedMs",1e4,m),this.Ta=_i("forwardChannelMaxRetries",2,m),this.va=_i("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(m&&m.concurrentRequestLimit),this.Ba=new Wa,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Js.prototype,n.ka=8,n.I=1,n.connect=function(m,S,L,Q){xt(0),this.W=m,this.H=S||{},L&&Q!==void 0&&(this.H.OSID=L,this.H.OAID=Q),this.F=this.X,this.J=Ye(this,null,this.W),Is(this)};function Qa(m){if(ea(m),m.I==3){var S=m.V++,L=Cr(m.J);if(En(L,"SID",m.M),En(L,"RID",S),En(L,"TYPE","terminate"),ps(m,L),S=new xi(m,m.j,S),S.M=2,S.A=Ka(Cr(L)),L=!1,u.navigator&&u.navigator.sendBeacon)try{L=u.navigator.sendBeacon(S.A.toString(),"")}catch{}!L&&u.Image&&(new Image().src=S.A,L=!0),L||(S.g=dt(S.j,null),S.g.ea(S.A)),S.F=Date.now(),Gi(S)}Ue(m)}function Zs(m){m.g&&(Xo(m),m.g.cancel(),m.g=null)}function ea(m){Zs(m),m.v&&(u.clearTimeout(m.v),m.v=null),U(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&u.clearTimeout(m.m),m.m=null)}function Is(m){if(!Ki(m.h)&&!m.m){m.m=!0;var S=m.Ea;ge||M(),ve||(ge(),ve=!0),z.add(S,m),m.D=0}}function _o(m,S){return Ts(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=S.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=hn(d(m.Ea,m,S),he(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Ae=new xi(this,this.j,m);let Pe=this.o;if(this.U&&(Pe?(Pe=Z(Pe),W(Pe,this.U)):Pe=this.U),this.u!==null||this.R||(Ae.J=Pe,Pe=null),this.S)e:{for(var S=0,L=0;L<this.i.length;L++){t:{var Q=this.i[L];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(S+=Q,S>4096){S=L;break e}if(S===4096||L===this.i.length-1){S=L+1;break e}}S=1e3}else S=1e3;S=ta(this,Ae,S),L=Cr(this.J),En(L,"RID",m),En(L,"CVER",22),this.G&&En(L,"X-HTTP-Session-Id",this.G),ps(this,L),Pe&&(this.R?S="headers="+ir(Qr(Pe))+"&"+S:this.u&&go(L,this.u,Pe)),fo(this.h,Ae),this.Ra&&En(L,"TYPE","init"),this.S?(En(L,"$req",S),En(L,"SID","null"),Ae.U=!0,Yr(Ae,L,null)):Yr(Ae,L,S),this.I=2}}else this.I==3&&(m?Qo(this,m):this.i.length==0||Ki(this.h)||Qo(this))};function Qo(m,S){var L;S?L=S.l:L=m.V++;const Q=Cr(m.J);En(Q,"SID",m.M),En(Q,"RID",L),En(Q,"AID",m.K),ps(m,Q),m.u&&m.o&&go(Q,m.u,m.o),L=new xi(m,m.j,L,m.D+1),m.u===null&&(L.J=m.o),S&&(m.i=S.G.concat(m.i)),S=ta(m,L,1e3),L.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),fo(m.h,L),Yr(L,Q,S)}function ps(m,S){m.H&&Le(m.H,function(L,Q){En(S,Q,L)}),m.l&&Le({},function(L,Q){En(S,Q,L)})}function ta(m,S,L){L=Math.min(m.i.length,L);const Q=m.l?d(m.l.Ka,m.l,m):null;e:{var Ae=m.i;let Wt=-1;for(;;){const ar=["count="+L];Wt==-1?L>0?(Wt=Ae[0].g,ar.push("ofs="+Wt)):Wt=0:ar.push("ofs="+Wt);let dn=!0;for(let Fn=0;Fn<L;Fn++){var Pe=Ae[Fn].g;const vi=Ae[Fn].map;if(Pe-=Wt,Pe<0)Wt=Math.max(0,Ae[Fn].g-100),dn=!1;else try{Pe="req"+Pe+"_"||"";try{var Ze=vi instanceof Map?vi:Object.entries(vi);for(const[Ci,Qn]of Ze){let Li=Qn;c(Qn)&&(Li=tn(Qn)),ar.push(Pe+Ci+"="+encodeURIComponent(Li))}}catch(Ci){throw ar.push(Pe+"type="+encodeURIComponent("_badmap")),Ci}}catch{Q&&Q(vi)}}if(dn){Ze=ar.join("&");break e}}Ze=void 0}return m=m.i.splice(0,L),S.G=m,Ze}function Ml(m){if(!m.g&&!m.v){m.Y=1;var S=m.Da;ge||M(),ve||(ge(),ve=!0),z.add(S,m),m.A=0}}function qs(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=hn(d(m.Da,m),he(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,A(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=hn(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Zs(this),A(this))};function Xo(m){m.B!=null&&(u.clearTimeout(m.B),m.B=null)}function A(m){m.g=new xi(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var S=Cr(m.na);En(S,"RID","rpc"),En(S,"SID",m.M),En(S,"AID",m.K),En(S,"CI",m.F?"0":"1"),!m.F&&m.ia&&En(S,"TO",m.ia),En(S,"TYPE","xmlhttp"),ps(m,S),m.u&&m.o&&go(S,m.u,m.o),m.O&&(m.g.H=m.O);var L=m.g;m=m.ba,L.M=1,L.A=Ka(Cr(S)),L.u=null,L.R=!0,Hi(L,m)}n.Va=function(){this.C!=null&&(this.C=null,Zs(this),qs(this),xt(19))};function U(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function ie(m,S){var L=null;if(m.g==S){U(m),Xo(m),m.g=null;var Q=2}else if(Us(m.h,S))L=S.G,Go(m.h,S),Q=1;else return;if(m.I!=0){if(S.o)if(Q==1){L=S.u?S.u.length:0,S=Date.now()-S.F;var Ae=m.D;Q=Dn(),ut(Q,new Et(Q,L)),Is(m)}else Ml(m);else if(Ae=S.m,Ae==3||Ae==0&&S.X>0||!(Q==1&&_o(m,S)||Q==2&&qs(m)))switch(L&&L.length>0&&(S=m.h,S.i=S.i.concat(L)),Ae){case 1:be(m,5);break;case 4:be(m,10);break;case 3:be(m,6);break;default:be(m,2)}}}function he(m,S){let L=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(L*=2),L*S}function be(m,S){if(m.j.info("Error code "+S),S==2){var L=d(m.bb,m),Q=m.Ua;const Ae=!Q;Q=new yi(Q||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||mn(Q,"https"),Ka(Q),Ae?Fs(Q.toString(),L):La(Q.toString(),L)}else xt(2);m.I=0,m.l&&m.l.pa(S),Ue(m),ea(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Ue(m){if(m.I=0,m.ja=[],m.l){const S=Ko(m.h);(S.length!=0||m.i.length!=0)&&(j(m.ja,S),j(m.ja,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.oa()}}function Ye(m,S,L){var Q=L instanceof yi?Cr(L):new yi(L);if(Q.g!="")S&&(Q.g=S+"."+Q.g),Na(Q,Q.u);else{var Ae=u.location;Q=Ae.protocol,S=S?S+"."+Ae.hostname:Ae.hostname,Ae=+Ae.port;const Pe=new yi(null);Q&&mn(Pe,Q),S&&(Pe.g=S),Ae&&Na(Pe,Ae),L&&(Pe.h=L),Q=Pe}return L=m.G,S=m.wa,L&&S&&En(Q,L,S),En(Q,"VER",m.ka),ps(m,Q),Q}function dt(m,S,L){if(S&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=m.Aa&&!m.ma?new Un(new Mt({ab:L})):new Un(m.ma),S.Fa(m.L),S}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yt(){}n=yt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function jt(){}jt.prototype.g=function(m,S){return new Lt(m,S)};function Lt(m,S){ze.call(this),this.g=new Js(S),this.l=m,this.h=S&&S.messageUrlParams||null,m=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(m?m["X-WebChannel-Content-Type"]=S.messageContentType:m={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(m?m["X-WebChannel-Client-Profile"]=S.sa:m={"X-WebChannel-Client-Profile":S.sa}),this.g.U=m,(m=S&&S.Qb)&&!R(m)&&(this.g.u=m),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!R(S)&&(this.g.G=S,m=this.h,m!==null&&S in m&&(m=this.h,S in m&&delete m[S])),this.j=new $n(this)}b(Lt,ze),Lt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){Qa(this.g)},Lt.prototype.o=function(m){var S=this.g;if(typeof m=="string"){var L={};L.__data__=m,m=L}else this.v&&(L={},L.__data__=tn(m),m=L);S.i.push(new br(S.Ya++,m)),S.I==3&&Is(S)},Lt.prototype.N=function(){this.g.l=null,delete this.j,Qa(this.g),delete this.g,Lt.Z.N.call(this)};function gn(m){Dt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var S=m.__sm__;if(S){e:{for(const L in S){m=L;break e}m=void 0}(this.i=m)&&(m=this.i,S=S!==null&&m in S?S[m]:void 0),this.data=S}else this.data=m}b(gn,Dt);function sr(){zt.call(this),this.status=1}b(sr,zt);function $n(m){this.g=m}b($n,yt),$n.prototype.ra=function(){ut(this.g,"a")},$n.prototype.qa=function(m){ut(this.g,new gn(m))},$n.prototype.pa=function(m){ut(this.g,new sr)},$n.prototype.oa=function(){ut(this.g,"b")},jt.prototype.createWebChannel=jt.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,J4=function(){return new jt},X4=function(){return Dn()},Q4=en,Qy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},os.NO_ERROR=0,os.TIMEOUT=8,os.HTTP_ERROR=6,t1=os,qi.COMPLETE="complete",Y4=qi,_r.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",ze.prototype.listen=ze.prototype.J,Dp=_r,Un.prototype.listenOnce=Un.prototype.K,Un.prototype.getLastError=Un.prototype.Ha,Un.prototype.getLastErrorCode=Un.prototype.ya,Un.prototype.getStatus=Un.prototype.ca,Un.prototype.getResponseJson=Un.prototype.La,Un.prototype.getResponseText=Un.prototype.la,Un.prototype.send=Un.prototype.ea,Un.prototype.setWithCredentials=Un.prototype.Fa,W4=Un}).apply(typeof Dg<"u"?Dg:typeof self<"u"?self:typeof window<"u"?window:{});class ns{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ns.UNAUTHENTICATED=new ns(null),ns.GOOGLE_CREDENTIALS=new ns("google-credentials-uid"),ns.FIRST_PARTY=new ns("first-party-uid"),ns.MOCK_USER=new ns("mock-user");let Sd="12.9.0";function cP(n){Sd=n}const wc=new U_("@firebase/firestore");function Pf(){return wc.logLevel}function hP(n){wc.setLogLevel(n)}function Qe(n,...e){if(wc.logLevel<=In.DEBUG){const t=e.map(lv);wc.debug(`Firestore (${Sd}): ${n}`,...t)}}function di(n,...e){if(wc.logLevel<=In.ERROR){const t=e.map(lv);wc.error(`Firestore (${Sd}): ${n}`,...t)}}function Ta(n,...e){if(wc.logLevel<=In.WARN){const t=e.map(lv);wc.warn(`Firestore (${Sd}): ${n}`,...t)}}function lv(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ct(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Z4(n,r,t)}function Z4(n,e,t){let r=`FIRESTORE (${Sd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw di(r),new Error(r)}function bt(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||Z4(e,s,r)}function fP(n,e){n||ct(57014,e)}function st(n,e){return n}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends xl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class as{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class eI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ns.UNAUTHENTICATED)))}shutdown(){}}class dP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class pP{constructor(e){this.t=e,this.currentUser=ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){bt(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new as;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new as,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},c=f=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new as)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string",31837,{l:r}),new eI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new ns(e)}}class mP{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ns.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class gP{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new mP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ns.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){bt(this.o===void 0,3512);const r=o=>{o.error!=null&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Qe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Xy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(bt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Xy(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class _P{getToken(){return Promise.resolve(new Xy(""))}invalidateToken(){}start(e,t){}shutdown(){}}function vP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class a0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=vP(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function $t(n,e){return n<e?-1:n>e?1:0}function Jy(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return fy(s)===fy(o)?$t(s,o):fy(s)?1:-1}return $t(n.length,e.length)}const bP=55296,wP=57343;function fy(n){const e=n.charCodeAt(0);return e>=bP&&e<=wP}function Xf(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}function nI(n){return n+"\0"}const Zy="__name__";class pl{constructor(e,t,r){t===void 0?t=0:t>e.length&&ct(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ct(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return pl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pl?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=pl.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return $t(e.length,t.length)}static compareSegments(e,t){const r=pl.isNumericId(e),s=pl.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?pl.extractNumericId(e).compare(pl.extractNumericId(t)):Jy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _c.fromString(e.substring(4,e.length-2))}}class _n extends pl{construct(e,t,r){return new _n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new _n(t)}static emptyPath(){return new _n([])}}const AP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ir extends pl{construct(e,t,r){return new Ir(e,t,r)}static isValidIdentifier(e){return AP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ir.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zy}static keyField(){return new Ir([Zy])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Ge(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ge(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(u=!u,s++):c!=="."||u?(r+=c,s++):(o(),s++)}if(o(),u)throw new Ge(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ir(t)}static emptyPath(){return new Ir([])}}class nt{constructor(e){this.path=e}static fromPath(e){return new nt(_n.fromString(e))}static fromName(e){return new nt(_n.fromString(e).popFirst(5))}static empty(){return new nt(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_n.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return _n.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new _n(e.slice()))}}function uv(n,e,t){if(!t)throw new Ge(Ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rI(n,e,t,r){if(e===!0&&r===!0)throw new Ge(Ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kA(n){if(!nt.isDocumentKey(n))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PA(n){if(nt.isDocumentKey(n))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function iI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function o0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ct(12329,{type:typeof n})}function vn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ge(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=o0(n);throw new Ge(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function sI(n,e){if(e<=0)throw new Ge(Ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function Si(n,e){const t={typeString:n};return e&&(t.value=e),t}function Dh(n,e){if(!iI(n))throw new Ge(Ce.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new Ge(Ce.INVALID_ARGUMENT,t);return!0}const DA=-62135596800,OA=1e6;class Wn{static now(){return Wn.fromMillis(Date.now())}static fromDate(e){return Wn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*OA);return new Wn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<DA)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OA}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dh(e,Wn._jsonSchema))return new Wn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-DA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wn._jsonSchemaVersion="firestore/timestamp/1.0",Wn._jsonSchema={type:Si("string",Wn._jsonSchemaVersion),seconds:Si("number"),nanoseconds:Si("number")};class Nt{static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new Wn(0,0))}static max(){return new Nt(new Wn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jf=-1;class Zf{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function e_(n){return n.fields.find((e=>e.kind===2))}function ih(n){return n.fields.filter((e=>e.kind!==2))}function EP(n,e){let t=$t(n.collectionGroup,e.collectionGroup);if(t!==0)return t;for(let r=0;r<Math.min(n.fields.length,e.fields.length);++r)if(t=TP(n.fields[r],e.fields[r]),t!==0)return t;return $t(n.fields.length,e.fields.length)}Zf.UNKNOWN_ID=-1;class mh{constructor(e,t){this.fieldPath=e,this.kind=t}}function TP(n,e){const t=Ir.comparator(n.fieldPath,e.fieldPath);return t!==0?t:$t(n.kind,e.kind)}class ed{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ed(0,Ha.min())}}function aI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Nt.fromTimestamp(r===1e9?new Wn(t+1,0):new Wn(t,r));return new Ha(s,nt.empty(),e)}function oI(n){return new Ha(n.readTime,n.key,Jf)}class Ha{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ha(Nt.min(),nt.empty(),Jf)}static max(){return new Ha(Nt.max(),nt.empty(),Jf)}}function cv(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=nt.comparator(n.documentKey,e.documentKey),t!==0?t:$t(n.largestBatchId,e.largestBatchId))}const lI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function kc(n){if(n.code!==Ce.FAILED_PRECONDITION||n.message!==lI)throw n;Qe("LocalStore","Unexpectedly lost primary lease")}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.reject(t)}static resolve(e){return new Te(((t,r)=>{t(e)}))}static reject(e){return new Te(((t,r)=>{r(e)}))}static waitFor(e){return new Te(((t,r)=>{let s=0,o=0,u=!1;e.forEach((c=>{++s,c.next((()=>{++o,u&&o===s&&t()}),(f=>r(f)))})),u=!0,o===s&&t()}))}static or(e){let t=Te.resolve(!1);for(const r of e)t=t.next((s=>s?Te.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new Te(((r,s)=>{const o=e.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((g=>{u[d]=g,++c,c===o&&r(u)}),(g=>s(g)))}}))}static doWhile(e,t){return new Te(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}const Ba="SimpleDb";class l0{static open(e,t,r,s){try{return new l0(t,e.transaction(s,r))}catch(o){throw new zp(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new as,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new zp(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=hv(r.target.error);this.S.reject(new zp(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Qe(Ba,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new IP(t)}}class wl{static delete(e){return Qe(Ba,"Removing database:",e),oh(TS().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!PS())return!1;if(wl.F())return!0;const e=Ui(),t=wl.M(e),r=0<t&&t<10,s=cI(e),o=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,wl.M(Ui())===12.2&&di("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(Qe(Ba,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const u=o.target.result;t(u)},s.onblocked=()=>{r(new zp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new Ge(Ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new Ge(Ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new zp(e,u))},s.onupgradeneeded=o=>{Qe(Ba,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.N.k(u,s.transaction,o.oldVersion,this.version).next((()=>{Qe(Ba,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,s){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(e);const c=l0.open(this.db,e,o?"readonly":"readwrite",r),f=s(c).next((d=>(c.C(),d))).catch((d=>(c.abort(d),Te.reject(d)))).toPromise();return f.catch((()=>{})),await c.D,f}catch(c){const f=c,d=f.name!=="FirebaseError"&&u<3;if(Qe(Ba,"Transaction failed with error:",f.message,"Retrying:",d),this.close(),!d)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function cI(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class SP{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return oh(this.U.delete())}}class zp extends Ge{constructor(e,t){super(Ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Pc(n){return n.name==="IndexedDbTransactionError"}class IP{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(Qe(Ba,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(Qe(Ba,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),oh(r)}add(e){return Qe(Ba,"ADD",this.store.name,e,e),oh(this.store.add(e))}get(e){return oh(this.store.get(e)).next((t=>(t===void 0&&(t=null),Qe(Ba,"GET",this.store.name,e,t),t)))}delete(e){return Qe(Ba,"DELETE",this.store.name,e),oh(this.store.delete(e))}count(){return Qe(Ba,"COUNT",this.store.name),oh(this.store.count())}H(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const o=s.getAll(r.range);return new Te(((u,c)=>{o.onerror=f=>{c(f.target.error)},o.onsuccess=f=>{u(f.target.result)}}))}{const o=this.cursor(r),u=[];return this.J(o,((c,f)=>{u.push(f)})).next((()=>u))}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new Te(((s,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{s(u.target.result)}}))}X(e,t){Qe(Ba,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const s=this.cursor(r);return this.J(s,((o,u,c)=>c.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.J(s,t)}te(e){const t=this.cursor({});return new Te(((r,s)=>{t.onerror=o=>{const u=hv(o.target.error);s(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next((c=>{c?u.continue():r()})):r()}}))}J(e,t){const r=[];return new Te(((s,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const c=u.target.result;if(!c)return void s();const f=new SP(c),d=t(c.primaryKey,c.value,f);if(d instanceof Te){const g=d.catch((b=>(f.done(),Te.reject(b))));r.push(g)}f.isDone?s():f.G===null?c.continue():c.continue(f.G)}})).next((()=>Te.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function oh(n){return new Te(((e,t)=>{n.onsuccess=r=>{const s=r.target.result;e(s)},n.onerror=r=>{const s=hv(r.target.error);t(s)}}))}let MA=!1;function hv(n){const e=wl.M(Ui());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ge("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return MA||(MA=!0,setTimeout((()=>{throw r}),0)),r}}return n}const Hp="IndexBackfiller";class xP{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){Qe(Hp,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();Qe(Hp,`Documents written: ${t}`)}catch(t){Pc(t)?Qe(Hp,"Ignoring IndexedDB error during index backfill: ",t):await kc(t)}await this.re(6e4)}))}}class NP{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let s=t,o=!0;return Te.doWhile((()=>o===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((u=>{if(u!==null&&!r.has(u))return Qe(Hp,`Processing collection: ${u}`),this.oe(e,u,s).next((c=>{s-=c,r.add(u)}));o=!1})))).next((()=>t-s))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next((o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next((()=>this._e(s,o))).next((c=>(Qe(Hp,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,t,c)))).next((()=>u.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((s,o)=>{const u=oI(o);cv(u,r)>0&&(r=u)})),new Ha(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class _a{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_a.ce=-1;const vc=-1;function Tm(n){return n==null}function sm(n){return n===0&&1/n==-1/0}function hI(n){return typeof n=="number"&&Number.isInteger(n)&&!sm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const I1="";function Ms(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=VA(e)),e=RP(n.get(t),e);return VA(e)}function RP(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case I1:t+="";break;default:t+=o}}return t}function VA(n){return n+I1+""}function yl(n){const e=n.length;if(bt(e>=2,64408,{path:n}),e===2)return bt(n.charAt(0)===I1&&n.charAt(1)==="",56145,{path:n}),_n.emptyPath();const t=e-2,r=[];let s="";for(let o=0;o<e;){const u=n.indexOf(I1,o);switch((u<0||u>t)&&ct(50515,{path:n}),n.charAt(u+1)){case"":const c=n.substring(o,u);let f;s.length===0?f=c:(s+=c,f=s,s=""),r.push(f);break;case"":s+=n.substring(o,u),s+="\0";break;case"":s+=n.substring(o,u+1);break;default:ct(61167,{path:n})}o=u+2}return new _n(r)}const sh="remoteDocuments",Sm="owner",Ef="owner",am="mutationQueues",CP="userId",Oo="mutations",jA="batchId",dh="userMutationsIndex",UA=["userId","batchId"];function n1(n,e){return[n,Ms(e)]}function fI(n,e,t){return[n,Ms(e),t]}const LP={},td="documentMutations",x1="remoteDocumentsV14",kP=["prefixPath","collectionGroup","readTime","documentId"],r1="documentKeyIndex",PP=["prefixPath","collectionGroup","documentId"],dI="collectionGroupIndex",DP=["collectionGroup","readTime","prefixPath","documentId"],om="remoteDocumentGlobal",t_="remoteDocumentGlobalKey",nd="targets",pI="queryTargetsIndex",OP=["canonicalId","targetId"],rd="targetDocuments",MP=["targetId","path"],fv="documentTargetsIndex",VP=["path","targetId"],N1="targetGlobalKey",gh="targetGlobal",lm="collectionParents",jP=["collectionId","parent"],id="clientMetadata",UP="clientId",u0="bundles",FP="bundleId",c0="namedQueries",BP="name",dv="indexConfiguration",qP="indexId",n_="collectionGroupIndex",zP="collectionGroup",Gp="indexState",HP=["indexId","uid"],mI="sequenceNumberIndex",GP=["uid","sequenceNumber"],Kp="indexEntries",KP=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gI="documentKeyIndex",$P=["indexId","uid","orderedDocumentKey"],h0="documentOverlays",WP=["userId","collectionPath","documentId"],r_="collectionPathOverlayIndex",YP=["userId","collectionPath","largestBatchId"],yI="collectionGroupOverlayIndex",QP=["userId","collectionGroup","largestBatchId"],pv="globals",XP="name",_I=[am,Oo,td,sh,nd,Sm,gh,rd,id,om,lm,u0,c0],JP=[..._I,h0],vI=[am,Oo,td,x1,nd,Sm,gh,rd,id,om,lm,u0,c0,h0],bI=vI,mv=[...bI,dv,Gp,Kp],ZP=mv,wI=[...mv,pv],eD=wI;class i_ extends uI{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Bi(n,e){const t=st(n);return wl.O(t.le,e)}function FA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Dc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function AI(n,e){const t=[];for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.push(e(n[r],r,n));return t}function EI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class vr{constructor(e,t){this.comparator=e,this.root=t||ws.EMPTY}insert(e,t){return new vr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ws.BLACK,null,null))}remove(e){return new vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ws.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Og(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Og(this.root,e,this.comparator,!1)}getReverseIterator(){return new Og(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Og(this.root,e,this.comparator,!0)}}class Og{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ws{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??ws.RED,this.left=s??ws.EMPTY,this.right=o??ws.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new ws(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ws.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return ws.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ws.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ws.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ct(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ct(27949);return e+(this.isRed()?0:1)}}ws.EMPTY=null,ws.RED=!0,ws.BLACK=!1;ws.EMPTY=new class{constructor(){this.size=0}get key(){throw ct(57766)}get value(){throw ct(16141)}get color(){throw ct(16727)}get left(){throw ct(29726)}get right(){throw ct(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new ws(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rr{constructor(e){this.comparator=e,this.data=new vr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new BA(this.data.getIterator())}getIteratorFrom(e){return new BA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new rr(this.comparator);return t.data=e,t}}class BA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Tf(n){return n.hasNext()?n.getNext():void 0}class va{constructor(e){this.fields=e,e.sort(Ir.comparator)}static empty(){return new va([])}unionWith(e){let t=new rr(Ir.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new va(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xf(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class TI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function tD(){return typeof atob<"u"}class $r{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new TI("Invalid base64 string: "+o):o}})(e);return new $r(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new $r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const nD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _u(n){if(bt(!!n,39018),typeof n=="string"){let e=0;const t=nD.exec(n);if(bt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vr(n.seconds),nanos:Vr(n.nanos)}}function Vr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function vu(n){return typeof n=="string"?$r.fromBase64String(n):$r.fromUint8Array(n)}const SI="server_timestamp",II="__type__",xI="__previous_value__",NI="__local_write_time__";function f0(n){return(n?.mapValue?.fields||{})[II]?.stringValue===SI}function d0(n){const e=n.mapValue.fields[xI];return f0(e)?d0(e):e}function um(n){const e=_u(n.mapValue.fields[NI].timestampValue);return new Wn(e.seconds,e.nanos)}class rD{constructor(e,t,r,s,o,u,c,f,d,g,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g,this.apiKey=b}}const cm="(default)";class Ac{constructor(e,t){this.projectId=e,this.database=t||cm}static empty(){return new Ac("","")}get isDefaultDatabase(){return this.database===cm}isEqual(e){return e instanceof Ac&&e.projectId===this.projectId&&e.database===this.database}}function iD(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Ge(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ac(n.options.projectId,e)}const gv="__type__",RI="__max__",cc={mapValue:{fields:{__type__:{stringValue:RI}}}},yv="__vector__",sd="value",i1={nullValue:"NULL_VALUE"};function Ec(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?f0(n)?4:CI(n)?9007199254740991:p0(n)?10:11:ct(28295,{value:n})}function Tl(n,e){if(n===e)return!0;const t=Ec(n);if(t!==Ec(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return um(n).isEqual(um(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=_u(s.timestampValue),c=_u(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return vu(s.bytesValue).isEqual(vu(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return Vr(s.geoPointValue.latitude)===Vr(o.geoPointValue.latitude)&&Vr(s.geoPointValue.longitude)===Vr(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Vr(s.integerValue)===Vr(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Vr(s.doubleValue),c=Vr(o.doubleValue);return u===c?sm(u)===sm(c):isNaN(u)&&isNaN(c)}return!1})(n,e);case 9:return Xf(n.arrayValue.values||[],e.arrayValue.values||[],Tl);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},c=o.mapValue.fields||{};if(FA(u)!==FA(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!Tl(u[f],c[f])))return!1;return!0})(n,e);default:return ct(52216,{left:n})}}function hm(n,e){return(n.values||[]).find((t=>Tl(t,e)))!==void 0}function Tc(n,e){if(n===e)return 0;const t=Ec(n),r=Ec(e);if(t!==r)return $t(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return $t(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const c=Vr(o.integerValue||o.doubleValue),f=Vr(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(n,e);case 3:return qA(n.timestampValue,e.timestampValue);case 4:return qA(um(n),um(e));case 5:return Jy(n.stringValue,e.stringValue);case 6:return(function(o,u){const c=vu(o),f=vu(u);return c.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const c=o.split("/"),f=u.split("/");for(let d=0;d<c.length&&d<f.length;d++){const g=$t(c[d],f[d]);if(g!==0)return g}return $t(c.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const c=$t(Vr(o.latitude),Vr(u.latitude));return c!==0?c:$t(Vr(o.longitude),Vr(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return zA(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const c=o.fields||{},f=u.fields||{},d=c[sd]?.arrayValue,g=f[sd]?.arrayValue,b=$t(d?.values?.length||0,g?.values?.length||0);return b!==0?b:zA(d,g)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===cc.mapValue&&u===cc.mapValue)return 0;if(o===cc.mapValue)return 1;if(u===cc.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let b=0;b<f.length&&b<g.length;++b){const E=Jy(f[b],g[b]);if(E!==0)return E;const w=Tc(c[f[b]],d[g[b]]);if(w!==0)return w}return $t(f.length,g.length)})(n.mapValue,e.mapValue);default:throw ct(23264,{he:t})}}function qA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return $t(n,e);const t=_u(n),r=_u(e),s=$t(t.seconds,r.seconds);return s!==0?s:$t(t.nanos,r.nanos)}function zA(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=Tc(t[s],r[s]);if(o)return o}return $t(t.length,r.length)}function ad(n){return s_(n)}function s_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=_u(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return vu(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return nt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=s_(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${s_(t.fields[u])}`;return s+"}"})(n.mapValue):ct(61005,{value:n})}function s1(n){switch(Ec(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=d0(n);return e?16+s1(e):16;case 5:return 2*n.stringValue.length;case 6:return vu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+s1(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Dc(r.fields,((o,u)=>{s+=o.length+s1(u)})),s})(n.mapValue);default:throw ct(13486,{value:n})}}function bh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function a_(n){return!!n&&"integerValue"in n}function fm(n){return!!n&&"arrayValue"in n}function HA(n){return!!n&&"nullValue"in n}function GA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function a1(n){return!!n&&"mapValue"in n}function p0(n){return(n?.mapValue?.fields||{})[gv]?.stringValue===yv}function $p(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Dc(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=$p(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$p(n.arrayValue.values[t]);return e}return{...n}}function CI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===RI}const LI={mapValue:{fields:{[gv]:{stringValue:yv},[sd]:{arrayValue:{}}}}};function sD(n){return"nullValue"in n?i1:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?bh(Ac.empty(),nt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?p0(n)?LI:{mapValue:{}}:ct(35942,{value:n})}function aD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?bh(Ac.empty(),nt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?LI:"mapValue"in n?p0(n)?{mapValue:{}}:cc:ct(61959,{value:n})}function KA(n,e){const t=Tc(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function $A(n,e){const t=Tc(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class is{constructor(e){this.value=e}static empty(){return new is({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!a1(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$p(t)}setAll(e){let t=Ir.emptyPath(),r={},s=[];e.forEach(((u,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=c.popLast()}u?r[c.lastSegment()]=$p(u):s.push(c.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());a1(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];a1(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Dc(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new is($p(this.value))}}function kI(n){const e=[];return Dc(n.fields,((t,r)=>{const s=new Ir([t]);if(a1(r)){const o=kI(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new va(e)}class Sr{constructor(e,t,r,s,o,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Sr(e,0,Nt.min(),Nt.min(),Nt.min(),is.empty(),0)}static newFoundDocument(e,t,r,s){return new Sr(e,1,t,Nt.min(),r,s,0)}static newNoDocument(e,t){return new Sr(e,2,t,Nt.min(),Nt.min(),is.empty(),0)}static newUnknownDocument(e,t){return new Sr(e,3,t,Nt.min(),Nt.min(),is.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=is.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sc{constructor(e,t){this.position=e,this.inclusive=t}}function WA(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=nt.comparator(nt.fromName(u.referenceValue),t.key):r=Tc(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function YA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Tl(n.position[t],e.position[t]))return!1;return!0}class dm{constructor(e,t="asc"){this.field=e,this.dir=t}}function oD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class PI{}class xn extends PI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new lD(e,t,r):t==="array-contains"?new hD(e,r):t==="in"?new UI(e,r):t==="not-in"?new fD(e,r):t==="array-contains-any"?new dD(e,r):new xn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new uD(e,r):new cD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Tc(t,this.value)):t!==null&&Ec(this.value)===Ec(t)&&this.matchesComparison(Tc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends PI{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new tr(e,t)}matches(e){return od(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function od(n){return n.op==="and"}function o_(n){return n.op==="or"}function _v(n){return DI(n)&&od(n)}function DI(n){for(const e of n.filters)if(e instanceof tr)return!1;return!0}function l_(n){if(n instanceof xn)return n.field.canonicalString()+n.op.toString()+ad(n.value);if(_v(n))return n.filters.map((e=>l_(e))).join(",");{const e=n.filters.map((t=>l_(t))).join(",");return`${n.op}(${e})`}}function OI(n,e){return n instanceof xn?(function(r,s){return s instanceof xn&&r.op===s.op&&r.field.isEqual(s.field)&&Tl(r.value,s.value)})(n,e):n instanceof tr?(function(r,s){return s instanceof tr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,u,c)=>o&&OI(u,s.filters[c])),!0):!1})(n,e):void ct(19439)}function MI(n,e){const t=n.filters.concat(e);return tr.create(t,n.op)}function VI(n){return n instanceof xn?(function(t){return`${t.field.canonicalString()} ${t.op} ${ad(t.value)}`})(n):n instanceof tr?(function(t){return t.op.toString()+" {"+t.getFilters().map(VI).join(" ,")+"}"})(n):"Filter"}class lD extends xn{constructor(e,t,r){super(e,t,r),this.key=nt.fromName(r.referenceValue)}matches(e){const t=nt.comparator(e.key,this.key);return this.matchesComparison(t)}}class uD extends xn{constructor(e,t){super(e,"in",t),this.keys=jI("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class cD extends xn{constructor(e,t){super(e,"not-in",t),this.keys=jI("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function jI(n,e){return(e.arrayValue?.values||[]).map((t=>nt.fromName(t.referenceValue)))}class hD extends xn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fm(t)&&hm(t.arrayValue,this.value)}}class UI extends xn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&hm(this.value.arrayValue,t)}}class fD extends xn{constructor(e,t){super(e,"not-in",t)}matches(e){if(hm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!hm(this.value.arrayValue,t)}}class dD extends xn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>hm(this.value.arrayValue,r)))}}class pD{constructor(e,t=null,r=[],s=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=c,this.Te=null}}function u_(n,e=null,t=[],r=[],s=null,o=null,u=null){return new pD(n,e,t,r,s,o,u)}function wh(n){const e=st(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>l_(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Tm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ad(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ad(r))).join(",")),e.Te=t}return e.Te}function Im(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!oD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!OI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!YA(n.startAt,e.startAt)&&YA(n.endAt,e.endAt)}function R1(n){return nt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function C1(n,e){return n.filters.filter((t=>t instanceof xn&&t.field.isEqual(e)))}function QA(n,e,t){let r=i1,s=!0;for(const o of C1(n,e)){let u=i1,c=!0;switch(o.op){case"<":case"<=":u=sD(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,c=!1;break;case"!=":case"not-in":u=i1}KA({value:r,inclusive:s},{value:u,inclusive:c})<0&&(r=u,s=c)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];KA({value:r,inclusive:s},{value:u,inclusive:t.inclusive})<0&&(r=u,s=t.inclusive);break}}return{value:r,inclusive:s}}function XA(n,e,t){let r=cc,s=!0;for(const o of C1(n,e)){let u=cc,c=!0;switch(o.op){case">=":case">":u=aD(o.value),c=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,c=!1;break;case"!=":case"not-in":u=cc}$A({value:r,inclusive:s},{value:u,inclusive:c})>0&&(r=u,s=c)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];$A({value:r,inclusive:s},{value:u,inclusive:t.inclusive})>0&&(r=u,s=t.inclusive);break}}return{value:r,inclusive:s}}class Eu{constructor(e,t=null,r=[],s=[],o=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function FI(n,e,t,r,s,o,u,c){return new Eu(n,e,t,r,s,o,u,c)}function Id(n){return new Eu(n)}function JA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mD(n){return nt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function vv(n){return n.collectionGroup!==null}function zf(n){const e=st(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new rr(Ir.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new dm(o,r))})),t.has(Ir.keyField().canonicalString())||e.Ie.push(new dm(Ir.keyField(),r))}return e.Ie}function Vs(n){const e=st(n);return e.Ee||(e.Ee=qI(e,zf(n))),e.Ee}function BI(n){const e=st(n);return e.Re||(e.Re=qI(e,n.explicitOrderBy)),e.Re}function qI(n,e){if(n.limitType==="F")return u_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new dm(s.field,o)}));const t=n.endAt?new Sc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Sc(n.startAt.position,n.startAt.inclusive):null;return u_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function c_(n,e){const t=n.filters.concat([e]);return new Eu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gD(n,e){const t=n.explicitOrderBy.concat([e]);return new Eu(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function L1(n,e,t){return new Eu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yD(n,e){return new Eu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,e,n.endAt)}function _D(n,e){return new Eu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,e)}function xm(n,e){return Im(Vs(n),Vs(e))&&n.limitType===e.limitType}function zI(n){return`${wh(Vs(n))}|lt:${n.limitType}`}function Df(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>VI(s))).join(", ")}]`),Tm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>ad(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>ad(s))).join(",")),`Target(${r})`})(Vs(n))}; limitType=${n.limitType})`}function Nm(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):nt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of zf(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,c,f){const d=WA(u,c,f);return u.inclusive?d<=0:d<0})(r.startAt,zf(r),s)||r.endAt&&!(function(u,c,f){const d=WA(u,c,f);return u.inclusive?d>=0:d>0})(r.endAt,zf(r),s))})(n,e)}function HI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GI(n){return(e,t)=>{let r=!1;for(const s of zf(n)){const o=vD(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function vD(n,e,t){const r=n.field.isKeyField()?nt.comparator(e.key,t.key):(function(o,u,c){const f=u.data.field(o),d=c.data.field(o);return f!==null&&d!==null?Tc(f,d):ct(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ct(19790,{direction:n.dir})}}class Tu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Dc(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return EI(this.inner)}size(){return this.innerSize}}const bD=new vr(nt.comparator);function ba(){return bD}const KI=new vr(nt.comparator);function Op(...n){let e=KI;for(const t of n)e=e.insert(t.key,t);return e}function $I(n){let e=KI;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function _l(){return Wp()}function WI(){return Wp()}function Wp(){return new Tu((n=>n.toString()),((n,e)=>n.isEqual(e)))}const wD=new vr(nt.comparator),AD=new rr(nt.comparator);function un(...n){let e=AD;for(const t of n)e=e.add(t);return e}const ED=new rr($t);function bv(){return ED}function wv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sm(e)?"-0":e}}function YI(n){return{integerValue:""+n}}function QI(n,e){return hI(e)?YI(e):wv(n,e)}class m0{constructor(){this._=void 0}}function TD(n,e,t){return n instanceof ld?(function(s,o){const u={fields:{[II]:{stringValue:SI},[NI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&f0(o)&&(o=d0(o)),o&&(u.fields[xI]=o),{mapValue:u}})(t,e):n instanceof Ah?JI(n,e):n instanceof Eh?ZI(n,e):(function(s,o){const u=XI(s,o),c=ZA(u)+ZA(s.Ae);return a_(u)&&a_(s.Ae)?YI(c):wv(s.serializer,c)})(n,e)}function SD(n,e,t){return n instanceof Ah?JI(n,e):n instanceof Eh?ZI(n,e):t}function XI(n,e){return n instanceof ud?(function(r){return a_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class ld extends m0{}class Ah extends m0{constructor(e){super(),this.elements=e}}function JI(n,e){const t=e3(e);for(const r of n.elements)t.some((s=>Tl(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Eh extends m0{constructor(e){super(),this.elements=e}}function ZI(n,e){let t=e3(e);for(const r of n.elements)t=t.filter((s=>!Tl(s,r)));return{arrayValue:{values:t}}}class ud extends m0{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ZA(n){return Vr(n.integerValue||n.doubleValue)}function e3(n){return fm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Rm{constructor(e,t){this.field=e,this.transform=t}}function ID(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Ah&&s instanceof Ah||r instanceof Eh&&s instanceof Eh?Xf(r.elements,s.elements,Tl):r instanceof ud&&s instanceof ud?Tl(r.Ae,s.Ae):r instanceof ld&&s instanceof ld})(n.transform,e.transform)}class xD{constructor(e,t){this.version=e,this.transformResults=t}}class Ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function o1(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class g0{}function t3(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Nd(n.key,Ur.none()):new xd(n.key,n.data,Ur.none());{const t=n.data,r=is.empty();let s=new rr(Ir.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new Su(n.key,r,new va(s.toArray()),Ur.none())}}function ND(n,e,t){n instanceof xd?(function(s,o,u){const c=s.value.clone(),f=tE(s.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Su?(function(s,o,u){if(!o1(s.precondition,o))return void o.convertToUnknownDocument(u.version);const c=tE(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(n3(s)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Yp(n,e,t,r){return n instanceof xd?(function(o,u,c,f){if(!o1(o.precondition,u))return c;const d=o.value.clone(),g=nE(o.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof Su?(function(o,u,c,f){if(!o1(o.precondition,u))return c;const d=nE(o.fieldTransforms,f,u),g=u.data;return g.setAll(n3(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(n,e,t,r):(function(o,u,c){return o1(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c})(n,e,t)}function RD(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=XI(r.transform,s||null);o!=null&&(t===null&&(t=is.empty()),t.set(r.field,o))}return t||null}function eE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Xf(r,s,((o,u)=>ID(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xd extends g0{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Su extends g0{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function n3(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function tE(n,e,t){const r=new Map;bt(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,c=e.data.field(o.field);r.set(o.field,SD(u,c,t[s]))}return r}function nE(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,TD(o,u,e))}return r}class Nd extends g0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Av extends g0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ev{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&ND(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Yp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Yp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=WI();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=t.has(s.key)?null:c;const f=t3(u,c);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Nt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),un())}isEqual(e){return this.batchId===e.batchId&&Xf(this.mutations,e.mutations,((t,r)=>eE(t,r)))&&Xf(this.baseMutations,e.baseMutations,((t,r)=>eE(t,r)))}}class Tv{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){bt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return wD})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new Tv(e,t,r,s)}}class Sv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class r3{constructor(e,t,r){this.alias=e,this.aggregateType=t,this.fieldPath=r}}class CD{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ei,Pn;function i3(n){switch(n){case Ce.OK:return ct(64938);case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0;default:return ct(15467,{code:n})}}function s3(n){if(n===void 0)return di("GRPC error has no .code"),Ce.UNKNOWN;switch(n){case Ei.OK:return Ce.OK;case Ei.CANCELLED:return Ce.CANCELLED;case Ei.UNKNOWN:return Ce.UNKNOWN;case Ei.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case Ei.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case Ei.INTERNAL:return Ce.INTERNAL;case Ei.UNAVAILABLE:return Ce.UNAVAILABLE;case Ei.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case Ei.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case Ei.NOT_FOUND:return Ce.NOT_FOUND;case Ei.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case Ei.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case Ei.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case Ei.ABORTED:return Ce.ABORTED;case Ei.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case Ei.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case Ei.DATA_LOSS:return Ce.DATA_LOSS;default:return ct(39323,{code:n})}}(Pn=Ei||(Ei={}))[Pn.OK=0]="OK",Pn[Pn.CANCELLED=1]="CANCELLED",Pn[Pn.UNKNOWN=2]="UNKNOWN",Pn[Pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pn[Pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pn[Pn.NOT_FOUND=5]="NOT_FOUND",Pn[Pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pn[Pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pn[Pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pn[Pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pn[Pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pn[Pn.ABORTED=10]="ABORTED",Pn[Pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pn[Pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pn[Pn.INTERNAL=13]="INTERNAL",Pn[Pn.UNAVAILABLE=14]="UNAVAILABLE",Pn[Pn.DATA_LOSS=15]="DATA_LOSS";let h_=null;function LD(n){if(h_)throw new Error("a TestingHooksSpi instance is already set");h_=n}function a3(){return new TextEncoder}const kD=new _c([4294967295,4294967295],0);function rE(n){const e=a3().encode(n),t=new $4;return t.update(e),new Uint8Array(t.digest())}function iE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _c([t,r],0),new _c([s,o],0)]}class Iv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Mp(`Invalid padding: ${t}`);if(r<0)throw new Mp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mp(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Mp(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=_c.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(_c.fromNumber(r)));return s.compare(kD)===1&&(s=new _c([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=rE(e),[r,s]=iE(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Iv(o,s,t);return r.forEach((c=>u.insert(c))),u}insert(e){if(this.ge===0)return;const t=rE(e),[r,s]=iE(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Mp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cm{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Lm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Cm(Nt.min(),s,new vr($t),ba(),un())}}class Lm{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Lm(r,t,un(),un(),un())}}class l1{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=s}}class o3{constructor(e,t){this.targetId=e,this.Ce=t}}class l3{constructor(e,t,r=$r.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class sE{constructor(){this.ve=0,this.Fe=aE(),this.Me=$r.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=un(),t=un(),r=un();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ct(38017,{changeType:o})}})),new Lm(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=aE()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,bt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class PD{constructor(e){this.Ge=e,this.ze=new Map,this.je=ba(),this.He=Mg(),this.Je=Mg(),this.Ze=new vr($t)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ct(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(R1(o))if(r===0){const u=new nt(o.path);this.et(t,u,Sr.newNoDocument(u,Nt.min()))}else bt(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const c=this.ut(e),f=c?this.ct(c,e,u):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}h_?.lt((function(g,b,E,w,j){const V={localCacheCount:g,existenceFilterCount:b.count,databaseId:E.database,projectId:E.projectId},B=b.unchangedNames;return B&&(V.bloomFilter={applied:j===0,hashCount:B?.hashCount??0,bitmapLength:B?.bits?.bitmap?.length??0,padding:B?.bits?.padding??0,mightContain:k=>w?.mightContain(k)??!1}),V})(u,e.Ce,this.Ge.ht(),c,f))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,c;try{u=vu(r).toUint8Array()}catch(f){if(f instanceof TI)return Ta("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Iv(u,s,o)}catch(f){return Ta(f instanceof Mp?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const u=this.Ge.ht(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const c=this.ot(u);if(c){if(o.current&&R1(c.target)){const f=new nt(c.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Sr.newNoDocument(f,e))}o.Be&&(t.set(u,o.ke()),o.Ke())}}));let r=un();this.Je.forEach(((o,u)=>{let c=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const s=new Cm(e,t,this.Ze,this.je,r);return this.je=ba(),this.He=Mg(),this.Je=Mg(),this.Ze=new vr($t),s}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new sE,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new rr($t),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new rr($t),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Qe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Mg(){return new vr(nt.comparator)}function aE(){return new vr(nt.comparator)}const DD={asc:"ASCENDING",desc:"DESCENDING"},OD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MD={and:"AND",or:"OR"};class VD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function f_(n,e){return n.useProto3Json||Tm(e)?e:{value:e}}function cd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function jD(n,e){return cd(n,e.toTimestamp())}function pi(n){return bt(!!n,49232),Nt.fromTimestamp((function(t){const r=_u(t);return new Wn(r.seconds,r.nanos)})(n))}function xv(n,e){return d_(n,e).canonicalString()}function d_(n,e){const t=(function(s){return new _n(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function c3(n){const e=_n.fromString(n);return bt(v3(e),10190,{key:e.toString()}),e}function pm(n,e){return xv(n.databaseId,e.path)}function Al(n,e){const t=c3(e);if(t.get(1)!==n.databaseId.projectId)throw new Ge(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ge(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new nt(d3(t))}function h3(n,e){return xv(n.databaseId,e)}function f3(n){const e=c3(n);return e.length===4?_n.emptyPath():d3(e)}function p_(n){return new _n(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function d3(n){return bt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function oE(n,e,t){return{name:pm(n,e),fields:t.value.mapValue.fields}}function y0(n,e,t){const r=Al(n,e.name),s=pi(e.updateTime),o=e.createTime?pi(e.createTime):Nt.min(),u=new is({mapValue:{fields:e.fields}}),c=Sr.newFoundDocument(r,s,o,u);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function UD(n,e){return"found"in e?(function(r,s){bt(!!s.found,43571),s.found.name,s.found.updateTime;const o=Al(r,s.found.name),u=pi(s.found.updateTime),c=s.found.createTime?pi(s.found.createTime):Nt.min(),f=new is({mapValue:{fields:s.found.fields}});return Sr.newFoundDocument(o,u,c,f)})(n,e):"missing"in e?(function(r,s){bt(!!s.missing,3894),bt(!!s.readTime,22933);const o=Al(r,s.missing),u=pi(s.readTime);return Sr.newNoDocument(o,u)})(n,e):ct(7234,{result:e})}function FD(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ct(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(d,g){return d.useProto3Json?(bt(g===void 0||typeof g=="string",58123),$r.fromBase64String(g||"")):(bt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),$r.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&(function(d){const g=d.code===void 0?Ce.UNKNOWN:s3(d.code);return new Ge(g,d.message||"")})(u);t=new l3(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Al(n,r.document.name),o=pi(r.document.updateTime),u=r.document.createTime?pi(r.document.createTime):Nt.min(),c=new is({mapValue:{fields:r.document.fields}}),f=Sr.newFoundDocument(s,o,u,c),d=r.targetIds||[],g=r.removedTargetIds||[];t=new l1(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Al(n,r.document),o=r.readTime?pi(r.readTime):Nt.min(),u=Sr.newNoDocument(s,o),c=r.removedTargetIds||[];t=new l1([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Al(n,r.document),o=r.removedTargetIds||[];t=new l1([],o,s,null)}else{if(!("filter"in e))return ct(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new CD(s,o),c=r.targetId;t=new o3(c,u)}}return t}function mm(n,e){let t;if(e instanceof xd)t={update:oE(n,e.key,e.value)};else if(e instanceof Nd)t={delete:pm(n,e.key)};else if(e instanceof Su)t={update:oE(n,e.key,e.data),updateMask:KD(e.fieldMask)};else{if(!(e instanceof Av))return ct(16599,{dt:e.type});t={verify:pm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const c=u.transform;if(c instanceof ld)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ah)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Eh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ud)return{fieldPath:u.field.canonicalString(),increment:c.Ae};throw ct(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:jD(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ct(27497)})(n,e.precondition)),t}function m_(n,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?Ur.updateTime(pi(o.updateTime)):o.exists!==void 0?Ur.exists(o.exists):Ur.none()})(e.currentDocument):Ur.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(u,c){let f=null;if("setToServerValue"in c)bt(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),f=new ld;else if("appendMissingElements"in c){const g=c.appendMissingElements.values||[];f=new Ah(g)}else if("removeAllFromArray"in c){const g=c.removeAllFromArray.values||[];f=new Eh(g)}else"increment"in c?f=new ud(u,c.increment):ct(16584,{proto:c});const d=Ir.fromServerFormat(c.fieldPath);return new Rm(d,f)})(n,s))):[];if(e.update){e.update.name;const s=Al(n,e.update.name),o=new is({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=(function(f){const d=f.fieldPaths||[];return new va(d.map((g=>Ir.fromServerFormat(g))))})(e.updateMask);return new Su(s,o,u,t,r)}return new xd(s,o,t,r)}if(e.delete){const s=Al(n,e.delete);return new Nd(s,t)}if(e.verify){const s=Al(n,e.verify);return new Av(s,t)}return ct(1463,{proto:e})}function BD(n,e){return n&&n.length>0?(bt(e!==void 0,14353),n.map((t=>(function(s,o){let u=s.updateTime?pi(s.updateTime):pi(o);return u.isEqual(Nt.min())&&(u=pi(o)),new xD(u,s.transformResults||[])})(t,e)))):[]}function p3(n,e){return{documents:[h3(n,e.path)]}}function _0(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=h3(n,s);const o=(function(d){if(d.length!==0)return _3(tr.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((g=>(function(E){return{field:lc(E.field),direction:zD(E.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=f_(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:s}}function m3(n,e,t,r){const{ft:s,parent:o}=_0(n,e),u={},c=[];let f=0;return t.forEach((d=>{const g=r?d.alias:"aggregate_"+f++;u[g]=d.alias,d.aggregateType==="count"?c.push({alias:g,count:{}}):d.aggregateType==="avg"?c.push({alias:g,avg:{field:lc(d.fieldPath)}}):d.aggregateType==="sum"&&c.push({alias:g,sum:{field:lc(d.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:c,structuredQuery:s.structuredQuery},parent:s.parent},gt:u,parent:o}}function g3(n){let e=f3(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){bt(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(b){const E=y3(b);return E instanceof tr&&_v(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(b){return b.map((E=>(function(j){return new dm(Of(j.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(E)))})(t.orderBy));let c=null;t.limit&&(c=(function(b){let E;return E=typeof b=="object"?b.value:b,Tm(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(b){const E=!!b.before,w=b.values||[];return new Sc(w,E)})(t.startAt));let d=null;return t.endAt&&(d=(function(b){const E=!b.before,w=b.values||[];return new Sc(w,E)})(t.endAt)),FI(e,s,u,o,c,"F",f,d)}function qD(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function y3(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Of(t.unaryFilter.field);return xn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Of(t.unaryFilter.field);return xn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Of(t.unaryFilter.field);return xn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Of(t.unaryFilter.field);return xn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ct(61313);default:return ct(60726)}})(n):n.fieldFilter!==void 0?(function(t){return xn.create(Of(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ct(58110);default:return ct(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return tr.create(t.compositeFilter.filters.map((r=>y3(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ct(1026)}})(t.compositeFilter.op))})(n):ct(30097,{filter:n})}function zD(n){return DD[n]}function HD(n){return OD[n]}function GD(n){return MD[n]}function lc(n){return{fieldPath:n.canonicalString()}}function Of(n){return Ir.fromServerFormat(n.fieldPath)}function _3(n){return n instanceof xn?(function(t){if(t.op==="=="){if(GA(t.value))return{unaryFilter:{field:lc(t.field),op:"IS_NAN"}};if(HA(t.value))return{unaryFilter:{field:lc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(GA(t.value))return{unaryFilter:{field:lc(t.field),op:"IS_NOT_NAN"}};if(HA(t.value))return{unaryFilter:{field:lc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lc(t.field),op:HD(t.op),value:t.value}}})(n):n instanceof tr?(function(t){const r=t.getFilters().map((s=>_3(s)));return r.length===1?r[0]:{compositeFilter:{op:GD(t.op),filters:r}}})(n):ct(54877,{filter:n})}function KD(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function v3(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function b3(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class fu{constructor(e,t,r,s,o=Nt.min(),u=Nt.min(),c=$r.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new fu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class w3{constructor(e){this.yt=e}}function $D(n,e){let t;if(e.document)t=y0(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=nt.fromSegments(e.noDocument.path),s=Sh(e.noDocument.readTime);t=Sr.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ct(56709);{const r=nt.fromSegments(e.unknownDocument.path),s=Sh(e.unknownDocument.version);t=Sr.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime((function(s){const o=new Wn(s[0],s[1]);return Nt.fromTimestamp(o)})(e.readTime)),t}function lE(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:k1(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,u){return{name:pm(o,u.key),fields:u.data.value.mapValue.fields,updateTime:cd(o,u.version.toTimestamp()),createTime:cd(o,u.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Th(e.version)};else{if(!e.isUnknownDocument())return ct(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Th(e.version)}}return r}function k1(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Th(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Sh(n){const e=new Wn(n.seconds,n.nanoseconds);return Nt.fromTimestamp(e)}function lh(n,e){const t=(e.baseMutations||[]).map((o=>m_(n.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const c=e.mutations[o+1];u.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>m_(n.yt,o))),s=Wn.fromMillis(e.localWriteTimeMs);return new Ev(e.batchId,s,t,r)}function Vp(n){const e=Sh(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Sh(n.lastLimboFreeSnapshotVersion):Nt.min();let r;return r=(function(o){return o.documents!==void 0})(n.query)?(function(o){const u=o.documents.length;return bt(u===1,1966,{count:u}),Vs(Id(f3(o.documents[0])))})(n.query):(function(o){return Vs(g3(o))})(n.query),new fu(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,$r.fromBase64String(n.resumeToken))}function A3(n,e){const t=Th(e.snapshotVersion),r=Th(e.lastLimboFreeSnapshotVersion);let s;s=R1(e.target)?p3(n.yt,e.target):_0(n.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wh(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function v0(n){const e=g3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?L1(e,e.limit,"L"):e}function dy(n,e){return new Sv(e.largestBatchId,m_(n.yt,e.overlayMutation))}function uE(n,e){const t=e.path.lastSegment();return[n,Ms(e.path.popLast()),t]}function cE(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Th(r.readTime),documentKey:Ms(r.documentKey.path),largestBatchId:r.largestBatchId}}class WD{getBundleMetadata(e,t){return hE(e).get(t).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:Sh(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,t){return hE(e).put((function(s){return{bundleId:s.id,createTime:Th(pi(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return fE(e).get(t).next((r=>{if(r)return(function(o){return{name:o.name,query:v0(o.bundledQuery),readTime:Sh(o.readTime)}})(r)}))}saveNamedQuery(e,t){return fE(e).put((function(s){return{name:s.name,readTime:Th(pi(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function hE(n){return Bi(n,u0)}function fE(n){return Bi(n,c0)}class b0{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new b0(e,r)}getOverlay(e,t){return Ep(e).get(uE(this.userId,t)).next((r=>r?dy(this.serializer,r):null))}getOverlays(e,t){const r=_l();return Te.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){const s=[];return r.forEach(((o,u)=>{const c=new Sv(t,u);s.push(this.bt(e,c))})),Te.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach((u=>s.add(Ms(u.getCollectionPath()))));const o=[];return s.forEach((u=>{const c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(Ep(e).X(r_,c))})),Te.waitFor(o)}getOverlaysForCollection(e,t,r){const s=_l(),o=Ms(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ep(e).H(r_,u).next((c=>{for(const f of c){const d=dy(this.serializer,f);s.set(d.getKey(),d)}return s}))}getOverlaysForCollectionGroup(e,t,r,s){const o=_l();let u;const c=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ep(e).ee({index:yI,range:c},((f,d,g)=>{const b=dy(this.serializer,d);o.size()<s||b.largestBatchId===u?(o.set(b.getKey(),b),u=b.largestBatchId):g.done()})).next((()=>o))}bt(e,t){return Ep(e).put((function(s,o,u){const[c,f,d]=uE(o,u.mutation.key);return{userId:o,collectionPath:f,documentId:d,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:mm(s.yt,u.mutation)}})(this.serializer,this.userId,t))}}function Ep(n){return Bi(n,h0)}class YD{St(e){return Bi(e,pv)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const r=t?.value;return r?$r.fromUint8Array(r):$r.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}class uh{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Vr(e.integerValue));else if("doubleValue"in e){const r=Vr(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),sm(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=_u(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(vu(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?CI(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):p0(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):ct(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const r=e.fields||{};this.Ft(t,55);for(const s of Object.keys(r))this.Ot(s,t),this.Ct(r[s],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const s=sd,o=r[s].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Vr(o)),this.Ot(s,t),this.Ct(r[s],t)}qt(e,t){const r=e.values||[];this.Ft(t,50);for(const s of r)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),nt.fromName(e).path.forEach((r=>{this.Ft(t,60),this.$t(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}uh.Wt=new uh;const Sf=255;function QD(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function dE(n){const e=64-(function(r){let s=0;for(let o=0;o<8;++o){const u=QD(255&r[o]);if(s+=u,u!==8)break}return s})(n);return Math.ceil(e/8)}class XD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ht(r.value),r=t.next();this.Jt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const s=t.codePointAt(0);this.Ht(240|s>>>18),this.Ht(128|63&s>>>12),this.Ht(128|63&s>>>6),this.Ht(128|63&s)}}this.Jt()}Yt(e){const t=this.en(e),r=dE(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),r=dE(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(Sf),this.sn(255)}_n(){this.an(Sf),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Sf?(this.sn(Sf),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Sf?(this.an(Sf),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class JD{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class ZD{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Tp{constructor(){this.cn=new XD,this.ascending=new JD(this.cn),this.descending=new ZD(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class ch{constructor(e,t,r,s){this.hn=e,this.Pn=t,this.Tn=r,this.In=s}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.In,0),t!==e?r.set([0],this.In.length):++r[r.length-1],new ch(this.hn,this.Pn,this.Tn,r)}Rn(e,t,r){return{indexId:this.hn,uid:e,arrayValue:u1(this.Tn),directionalValue:u1(this.In),orderedDocumentKey:u1(t),documentKey:r.path.toArray()}}An(e,t,r){const s=this.Rn(e,t,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function rc(n,e){let t=n.hn-e.hn;return t!==0?t:(t=pE(n.Tn,e.Tn),t!==0?t:(t=pE(n.In,e.In),t!==0?t:nt.comparator(n.Pn,e.Pn)))}function pE(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function u1(n){return kS()?(function(t){let r="";for(let s=0;s<t.length;s++)r+=String.fromCharCode(t[s]);return r})(n):n}function mE(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(n)}class gE{constructor(e){this.Vn=new rr(((t,r)=>Ir.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const r=t;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(bt(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=e_(e);if(t!==void 0&&!this.pn(t))return!1;const r=ih(e);let s=new Set,o=0,u=0;for(;o<r.length&&this.pn(r[o]);++o)s=s.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Vn.size>0){const c=this.Vn.getIterator().getNext();if(!s.has(c.field.canonicalString())){const f=r[o];if(!this.yn(c,f)||!this.wn(this.dn[u++],f))return!1}++o}for(;o<r.length;++o){const c=r[o];if(u>=this.dn.length||!this.wn(this.dn[u++],c))return!1}return!0}bn(){if(this.fn)return null;let e=new rr(Ir.comparator);const t=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new mh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new mh(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new mh(r.field,r.dir==="asc"?0:1)));return new Zf(Zf.UNKNOWN_ID,this.collectionId,t,ed.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function E3(n){if(bt(n instanceof xn||n instanceof tr,20012),n instanceof xn){if(n instanceof UI){const t=n.value.arrayValue?.values?.map((r=>xn.create(n.field,"==",r)))||[];return tr.create(t,"or")}return n}const e=n.filters.map((t=>E3(t)));return tr.create(e,n.op)}function eO(n){if(n.getFilters().length===0)return[];const e=__(E3(n));return bt(T3(e),7391),g_(e)||y_(e)?[e]:e.getFilters()}function g_(n){return n instanceof xn}function y_(n){return n instanceof tr&&_v(n)}function T3(n){return g_(n)||y_(n)||(function(t){if(t instanceof tr&&o_(t)){for(const r of t.getFilters())if(!g_(r)&&!y_(r))return!1;return!0}return!1})(n)}function __(n){if(bt(n instanceof xn||n instanceof tr,34018),n instanceof xn)return n;if(n.filters.length===1)return __(n.filters[0]);const e=n.filters.map((r=>__(r)));let t=tr.create(e,n.op);return t=P1(t),T3(t)?t:(bt(t instanceof tr,64498),bt(od(t),40251),bt(t.filters.length>1,57927),t.filters.reduce(((r,s)=>Nv(r,s))))}function Nv(n,e){let t;return bt(n instanceof xn||n instanceof tr,38388),bt(e instanceof xn||e instanceof tr,25473),t=n instanceof xn?e instanceof xn?(function(s,o){return tr.create([s,o],"and")})(n,e):yE(n,e):e instanceof xn?yE(e,n):(function(s,o){if(bt(s.filters.length>0&&o.filters.length>0,48005),od(s)&&od(o))return MI(s,o.getFilters());const u=o_(s)?s:o,c=o_(s)?o:s,f=u.filters.map((d=>Nv(d,c)));return tr.create(f,"or")})(n,e),P1(t)}function yE(n,e){if(od(e))return MI(e,n.getFilters());{const t=e.filters.map((r=>Nv(n,r)));return tr.create(t,"or")}}function P1(n){if(bt(n instanceof xn||n instanceof tr,11850),n instanceof xn)return n;const e=n.getFilters();if(e.length===1)return P1(e[0]);if(DI(n))return n;const t=e.map((s=>P1(s))),r=[];return t.forEach((s=>{s instanceof xn?r.push(s):s instanceof tr&&(s.op===n.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:tr.create(r,n.op)}class tO{constructor(){this.Sn=new Rv}addToCollectionParentIndex(e,t){return this.Sn.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getIndexType(e,t){return Te.resolve(0)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,t){return Te.resolve(Ha.min())}getMinOffsetFromCollectionGroup(e,t){return Te.resolve(Ha.min())}updateCollectionGroup(e,t,r){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class Rv{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new rr(_n.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new rr(_n.comparator)).toArray()}}const _E="IndexedDbIndexManager",Vg=new Uint8Array(0);class nO{constructor(e,t){this.databaseId=t,this.Dn=new Rv,this.Cn=new Tu((r=>wh(r)),((r,s)=>Im(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const o={collectionId:r,parent:Ms(s)};return vE(e).put(o)}return Te.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[nI(t),""],!1,!0);return vE(e).H(s).next((o=>{for(const u of o){if(u.collectionId!==t)break;r.push(yl(u.parent))}return r}))}addFieldIndex(e,t){const r=Sp(e),s=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(t);delete s.indexId;const o=r.add(s);if(t.indexState){const u=xf(e);return o.next((c=>{u.put(cE(c,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const r=Sp(e),s=xf(e),o=If(e);return r.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Sp(e),r=If(e),s=xf(e);return t.X().next((()=>r.X())).next((()=>s.X()))}createTargetIndexes(e,t){return Te.forEach(this.vn(t),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const o=new gE(r).bn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const r=If(e);let s=!0;const o=new Map;return Te.forEach(this.vn(t),(u=>this.Fn(e,u).next((c=>{s&&(s=!!c),o.set(u,c)})))).next((()=>{if(s){let u=un();const c=[];return Te.forEach(o,((f,d)=>{Qe(_E,`Using index ${(function($){return`id=${$.indexId}|cg=${$.collectionGroup}|f=${$.fields.map((J=>`${J.fieldPath}:${J.kind}`)).join(",")}`})(f)} to execute ${wh(t)}`);const g=(function($,J){const ge=e_(J);if(ge===void 0)return null;for(const ve of C1($,ge.fieldPath))switch(ve.op){case"array-contains-any":return ve.value.arrayValue.values||[];case"array-contains":return[ve.value]}return null})(d,f),b=(function($,J){const ge=new Map;for(const ve of ih(J))for(const z of C1($,ve.fieldPath))switch(z.op){case"==":case"in":ge.set(ve.fieldPath.canonicalString(),z.value);break;case"not-in":case"!=":return ge.set(ve.fieldPath.canonicalString(),z.value),Array.from(ge.values())}return null})(d,f),E=(function($,J){const ge=[];let ve=!0;for(const z of ih(J)){const M=z.kind===0?QA($,z.fieldPath,$.startAt):XA($,z.fieldPath,$.startAt);ge.push(M.value),ve&&(ve=M.inclusive)}return new Sc(ge,ve)})(d,f),w=(function($,J){const ge=[];let ve=!0;for(const z of ih(J)){const M=z.kind===0?XA($,z.fieldPath,$.endAt):QA($,z.fieldPath,$.endAt);ge.push(M.value),ve&&(ve=M.inclusive)}return new Sc(ge,ve)})(d,f),j=this.Mn(f,d,E),V=this.Mn(f,d,w),B=this.xn(f,d,b),k=this.On(f.indexId,g,j,E.inclusive,V,w.inclusive,B);return Te.forEach(k,(te=>r.Z(te,t.limit).next(($=>{$.forEach((J=>{const ge=nt.fromSegments(J.documentKey);u.has(ge)||(u=u.add(ge),c.push(ge))}))}))))})).next((()=>c))}return Te.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=eO(tr.create(e.filters,"and")).map((r=>u_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,r,s,o,u,c){const f=(t!=null?t.length:1)*Math.max(r.length,o.length),d=f/(t!=null?t.length:1),g=[];for(let b=0;b<f;++b){const E=t?this.Nn(t[b/d]):Vg,w=this.Bn(e,E,r[b%d],s),j=this.Ln(e,E,o[b%d],u),V=c.map((B=>this.Bn(e,E,B,!0)));g.push(...this.createRange(w,j,V))}return g}Bn(e,t,r,s){const o=new ch(e,nt.empty(),t,r);return s?o:o.En()}Ln(e,t,r,s){const o=new ch(e,nt.empty(),t,r);return s?o.En():o}Fn(e,t){const r=new gE(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((o=>{let u=null;for(const c of o)r.gn(c)&&(!u||c.fields.length>u.fields.length)&&(u=c);return u}))}getIndexType(e,t){let r=2;const s=this.vn(t);return Te.forEach(s,(o=>this.Fn(e,o).next((u=>{u?r!==0&&u.fields.length<(function(f){let d=new rr(Ir.comparator),g=!1;for(const b of f.filters)for(const E of b.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?g=!0:d=d.add(E.field));for(const b of f.orderBy)b.field.isKeyField()||(d=d.add(b.field));return d.size+(g?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(u){return u.limit!==null})(t)&&s.length>1&&r===2?1:r))}kn(e,t){const r=new Tp;for(const s of ih(e)){const o=t.data.field(s.fieldPath);if(o==null)return null;const u=r.ln(s.kind);uh.Wt.Dt(o,u)}return r.un()}Nn(e){const t=new Tp;return uh.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const r=new Tp;return uh.Wt.Dt(bh(this.databaseId,t),r.ln((function(o){const u=ih(o);return u.length===0?0:u[u.length-1].kind})(e))),r.un()}xn(e,t,r){if(r===null)return[];let s=[];s.push(new Tp);let o=0;for(const u of ih(e)){const c=r[o++];for(const f of s)if(this.qn(t,u.fieldPath)&&fm(c))s=this.Un(s,u,c);else{const d=f.ln(u.kind);uh.Wt.Dt(c,d)}}return this.$n(s)}Mn(e,t,r){return this.xn(e,t,r.position)}$n(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Un(e,t,r){const s=[...e],o=[];for(const u of r.arrayValue.values||[])for(const c of s){const f=new Tp;f.seed(c.un()),uh.Wt.Dt(u,f.ln(t.kind)),o.push(f)}return o}qn(e,t){return!!e.filters.find((r=>r instanceof xn&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=Sp(e),s=xf(e);return(t?r.H(n_,IDBKeyRange.bound(t,t)):r.H()).next((o=>{const u=[];return Te.forEach(o,(c=>s.get([c.indexId,this.uid]).next((f=>{u.push((function(g,b){const E=b?new ed(b.sequenceNumber,new Ha(Sh(b.readTime),new nt(yl(b.documentKey)),b.largestBatchId)):ed.empty(),w=g.fields.map((([j,V])=>new mh(Ir.fromServerFormat(j),V)));return new Zf(g.indexId,g.collectionGroup,w,E)})(c,f))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,s)=>{const o=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return o!==0?o:$t(r.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const s=Sp(e),o=xf(e);return this.Wn(e).next((u=>s.H(n_,IDBKeyRange.bound(t,t)).next((c=>Te.forEach(c,(f=>o.put(cE(f.indexId,this.uid,u,r))))))))}updateIndexEntries(e,t){const r=new Map;return Te.forEach(t,((s,o)=>{const u=r.get(s.collectionGroup);return(u?Te.resolve(u):this.getFieldIndexes(e,s.collectionGroup)).next((c=>(r.set(s.collectionGroup,c),Te.forEach(c,(f=>this.Qn(e,s,f).next((d=>{const g=this.Gn(o,f);return d.isEqual(g)?Te.resolve():this.zn(e,o,f,d,g)})))))))}))}jn(e,t,r,s){return If(e).put(s.Rn(this.uid,this.Kn(r,t.key),t.key))}Hn(e,t,r,s){return If(e).delete(s.An(this.uid,this.Kn(r,t.key),t.key))}Qn(e,t,r){const s=If(e);let o=new rr(rc);return s.ee({index:gI,range:IDBKeyRange.only([r.indexId,this.uid,u1(this.Kn(r,t))])},((u,c)=>{o=o.add(new ch(r.indexId,t,mE(c.arrayValue),mE(c.directionalValue)))})).next((()=>o))}Gn(e,t){let r=new rr(rc);const s=this.kn(t,e);if(s==null)return r;const o=e_(t);if(o!=null){const u=e.data.field(o.fieldPath);if(fm(u))for(const c of u.arrayValue.values||[])r=r.add(new ch(t.indexId,e.key,this.Nn(c),s))}else r=r.add(new ch(t.indexId,e.key,Vg,s));return r}zn(e,t,r,s,o){Qe(_E,"Updating index entries for document '%s'",t.key);const u=[];return(function(f,d,g,b,E){const w=f.getIterator(),j=d.getIterator();let V=Tf(w),B=Tf(j);for(;V||B;){let k=!1,te=!1;if(V&&B){const $=g(V,B);$<0?te=!0:$>0&&(k=!0)}else V!=null?te=!0:k=!0;k?(b(B),B=Tf(j)):te?(E(V),V=Tf(w)):(V=Tf(w),B=Tf(j))}})(s,o,rc,(c=>{u.push(this.jn(e,t,r,c))}),(c=>{u.push(this.Hn(e,t,r,c))})),Te.waitFor(u)}Wn(e){let t=1;return xf(e).ee({index:mI,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,o)=>{o.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((u,c)=>rc(u,c))).filter(((u,c,f)=>!c||rc(u,f[c-1])!==0));const s=[];s.push(e);for(const u of r){const c=rc(u,e),f=rc(u,t);if(c===0)s[0]=e.En();else if(c>0&&f<0)s.push(u),s.push(u.En());else if(f>0)break}s.push(t);const o=[];for(let u=0;u<s.length;u+=2){if(this.Jn(s[u],s[u+1]))return[];const c=s[u].An(this.uid,Vg,nt.empty()),f=s[u+1].An(this.uid,Vg,nt.empty());o.push(IDBKeyRange.bound(c,f))}return o}Jn(e,t){return rc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(bE)}getMinOffset(e,t){return Te.mapArray(this.vn(t),(r=>this.Fn(e,r).next((s=>s||ct(44426))))).next(bE)}}function vE(n){return Bi(n,lm)}function If(n){return Bi(n,Kp)}function Sp(n){return Bi(n,dv)}function xf(n){return Bi(n,Gp)}function bE(n){bt(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;cv(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new Ha(e.readTime,e.documentKey,t)}const wE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},S3=41943040;class Os{static withCacheSize(e){return new Os(e,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}function I3(n,e,t){const r=n.store(Oo),s=n.store(td),o=[],u=IDBKeyRange.only(t.batchId);let c=0;const f=r.ee({range:u},((g,b,E)=>(c++,E.delete())));o.push(f.next((()=>{bt(c===1,47070,{batchId:t.batchId})})));const d=[];for(const g of t.mutations){const b=fI(e,g.key.path,t.batchId);o.push(s.delete(b)),d.push(g.key)}return Te.waitFor(o).next((()=>d))}function D1(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ct(14731);e=n.noDocument}return JSON.stringify(e).length}Os.DEFAULT_COLLECTION_PERCENTILE=10,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Os.DEFAULT=new Os(S3,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Os.DISABLED=new Os(-1,0,0);class w0{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Zn={}}static wt(e,t,r,s){bt(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new w0(o,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ic(e).ee({index:dh,range:r},((s,o,u)=>{t=!1,u.done()})).next((()=>t))}addMutationBatch(e,t,r,s){const o=Mf(e),u=ic(e);return u.add({}).next((c=>{bt(typeof c=="number",49019);const f=new Ev(c,t,r,s),d=(function(w,j,V){const B=V.baseMutations.map((te=>mm(w.yt,te))),k=V.mutations.map((te=>mm(w.yt,te)));return{userId:j,batchId:V.batchId,localWriteTimeMs:V.localWriteTime.toMillis(),baseMutations:B,mutations:k}})(this.serializer,this.userId,f),g=[];let b=new rr(((E,w)=>$t(E.canonicalString(),w.canonicalString())));for(const E of s){const w=fI(this.userId,E.key.path,c);b=b.add(E.key.path.popLast()),g.push(u.put(d)),g.push(o.put(w,LP))}return b.forEach((E=>{g.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Zn[c]=f.keys()})),Te.waitFor(g).next((()=>f))}))}lookupMutationBatch(e,t){return ic(e).get(t).next((r=>r?(bt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),lh(this.serializer,r)):null))}Xn(e,t){return this.Zn[t]?Te.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const s=r.keys();return this.Zn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return ic(e).ee({index:dh,range:s},((u,c,f)=>{c.userId===this.userId&&(bt(c.batchId>=r,47524,{Yn:r}),o=lh(this.serializer,c)),f.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=vc;return ic(e).ee({index:dh,range:t,reverse:!0},((s,o,u)=>{r=o.batchId,u.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,vc],[this.userId,Number.POSITIVE_INFINITY]);return ic(e).H(dh,t).next((r=>r.map((s=>lh(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=n1(this.userId,t.path),s=IDBKeyRange.lowerBound(r),o=[];return Mf(e).ee({range:s},((u,c,f)=>{const[d,g,b]=u,E=yl(g);if(d===this.userId&&t.path.isEqual(E))return ic(e).get(b).next((w=>{if(!w)throw ct(61480,{er:u,batchId:b});bt(w.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:w.userId,batchId:b}),o.push(lh(this.serializer,w))}));f.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rr($t);const s=[];return t.forEach((o=>{const u=n1(this.userId,o.path),c=IDBKeyRange.lowerBound(u),f=Mf(e).ee({range:c},((d,g,b)=>{const[E,w,j]=d,V=yl(w);E===this.userId&&o.path.isEqual(V)?r=r.add(j):b.done()}));s.push(f)})),Te.waitFor(s).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,o=n1(this.userId,r),u=IDBKeyRange.lowerBound(o);let c=new rr($t);return Mf(e).ee({range:u},((f,d,g)=>{const[b,E,w]=f,j=yl(E);b===this.userId&&r.isPrefixOf(j)?j.length===s&&(c=c.add(w)):g.done()})).next((()=>this.tr(e,c)))}tr(e,t){const r=[],s=[];return t.forEach((o=>{s.push(ic(e).get(o).next((u=>{if(u===null)throw ct(35274,{batchId:o});bt(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),r.push(lh(this.serializer,u))})))})),Te.waitFor(s).next((()=>r))}removeMutationBatch(e,t){return I3(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),Te.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Te.resolve();const r=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),s=[];return Mf(e).ee({range:r},((o,u,c)=>{if(o[0]===this.userId){const f=yl(o[1]);s.push(f)}else c.done()})).next((()=>{bt(s.length===0,56720,{rr:s.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return x3(e,this.userId,t)}ir(e){return N3(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:vc,lastStreamToken:""}))}}function x3(n,e,t){const r=n1(e,t.path),s=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return Mf(n).ee({range:o,Y:!0},((c,f,d)=>{const[g,b,E]=c;g===e&&b===s&&(u=!0),d.done()})).next((()=>u))}function ic(n){return Bi(n,Oo)}function Mf(n){return Bi(n,td)}function N3(n){return Bi(n,am)}class Ih{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ih(0)}static ar(){return new Ih(-1)}}class rO{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const r=new Ih(t.highestTargetId);return t.highestTargetId=r.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>Nt.fromTimestamp(new Wn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.ur(e).next((s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.cr(e,s))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(t,r),this.cr(e,r))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Nf(e).delete(t.targetId))).next((()=>this.ur(e))).next((r=>(bt(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,t,r){let s=0;const o=[];return Nf(e).ee(((u,c)=>{const f=Vp(c);f.sequenceNumber<=t&&r.get(f.targetId)===null&&(s++,o.push(this.removeTargetData(e,f)))})).next((()=>Te.waitFor(o))).next((()=>s))}forEachTarget(e,t){return Nf(e).ee(((r,s)=>{const o=Vp(s);t(o)}))}ur(e){return AE(e).get(N1).next((t=>(bt(t!==null,2888),t)))}cr(e,t){return AE(e).put(N1,t)}lr(e,t){return Nf(e).put(A3(this.serializer,t))}hr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const r=wh(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Nf(e).ee({range:s,index:pI},((u,c,f)=>{const d=Vp(c);Im(t,d.target)&&(o=d,f.done())})).next((()=>o))}addMatchingKeys(e,t,r){const s=[],o=uc(e);return t.forEach((u=>{const c=Ms(u.path);s.push(o.put({targetId:r,path:c})),s.push(this.referenceDelegate.addReference(e,r,u))})),Te.waitFor(s)}removeMatchingKeys(e,t,r){const s=uc(e);return Te.forEach(t,(o=>{const u=Ms(o.path);return Te.waitFor([s.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,t){const r=uc(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=uc(e);let o=un();return s.ee({range:r,Y:!0},((u,c,f)=>{const d=yl(u[1]),g=new nt(d);o=o.add(g)})).next((()=>o))}containsKey(e,t){const r=Ms(t.path),s=IDBKeyRange.bound([r],[nI(r)],!1,!0);let o=0;return uc(e).ee({index:fv,Y:!0,range:s},(([u,c],f,d)=>{u!==0&&(o++,d.done())})).next((()=>o>0))}At(e,t){return Nf(e).get(t).next((r=>r?Vp(r):null))}}function Nf(n){return Bi(n,nd)}function AE(n){return Bi(n,gh)}function uc(n){return Bi(n,rd)}const EE="LruGarbageCollector",R3=1048576;function TE([n,e],[t,r]){const s=$t(n,t);return s===0?$t(e,r):s}class iO{constructor(e){this.Pr=e,this.buffer=new rr(TE),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();TE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class C3{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Qe(EE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Pc(t)?Qe(EE,"Ignoring IndexedDB error during garbage collection: ",t):await kc(t)}await this.Ar(3e5)}))}}class sO{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Te.resolve(_a.ce);const r=new iO(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Qe("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(wE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wE):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,s,o,u,c,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,u=Date.now(),this.nthSequenceNumber(e,s)))).next((b=>(r=b,c=Date.now(),this.removeTargets(e,r,t)))).next((b=>(o=b,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(d=Date.now(),Pf()<=In.DEBUG&&Qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${b} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:b}))))}}function L3(n,e){return new sO(n,e)}class aO{constructor(e,t){this.db=e,this.garbageCollector=L3(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((r,s)=>t(s)))}addReference(e,t,r){return jg(e,r)}removeReference(e,t,r){return jg(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return jg(e,t)}wr(e,t){return(function(s,o){let u=!1;return N3(s).te((c=>x3(s,c,o).next((f=>(f&&(u=!0),Te.resolve(!f)))))).next((()=>u))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.yr(e,((u,c)=>{if(c<=t){const f=this.wr(e,u).next((d=>{if(!d)return o++,r.getEntry(e,u).next((()=>(r.removeEntry(u,Nt.min()),uc(e).delete((function(b){return[0,Ms(b.path)]})(u)))))}));s.push(f)}})).next((()=>Te.waitFor(s))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return jg(e,t)}yr(e,t){const r=uc(e);let s,o=_a.ce;return r.ee({index:fv},(([u,c],{path:f,sequenceNumber:d})=>{u===0?(o!==_a.ce&&t(new nt(yl(s)),o),o=d,s=f):o=_a.ce})).next((()=>{o!==_a.ce&&t(new nt(yl(s)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jg(n,e){return uc(n).put((function(r,s){return{targetId:0,path:Ms(r.path),sequenceNumber:s}})(e,n.currentSequenceNumber))}class k3{constructor(){this.changes=new Tu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oO{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return nh(e).put(r)}removeEntry(e,t,r){return nh(e).delete((function(o,u){const c=o.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],k1(u),c[c.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.br(e,r))))}getEntry(e,t){let r=Sr.newInvalidDocument(t);return nh(e).ee({index:r1,range:IDBKeyRange.only(Ip(t))},((s,o)=>{r=this.Sr(t,o)})).next((()=>r))}Dr(e,t){let r={size:0,document:Sr.newInvalidDocument(t)};return nh(e).ee({index:r1,range:IDBKeyRange.only(Ip(t))},((s,o)=>{r={document:this.Sr(t,o),size:D1(o)}})).next((()=>r))}getEntries(e,t){let r=ba();return this.Cr(e,t,((s,o)=>{const u=this.Sr(s,o);r=r.insert(s,u)})).next((()=>r))}vr(e,t){let r=ba(),s=new vr(nt.comparator);return this.Cr(e,t,((o,u)=>{const c=this.Sr(o,u);r=r.insert(o,c),s=s.insert(o,D1(u))})).next((()=>({documents:r,Fr:s})))}Cr(e,t,r){if(t.isEmpty())return Te.resolve();let s=new rr(xE);t.forEach((f=>s=s.add(f)));const o=IDBKeyRange.bound(Ip(s.first()),Ip(s.last())),u=s.getIterator();let c=u.getNext();return nh(e).ee({index:r1,range:o},((f,d,g)=>{const b=nt.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;c&&xE(c,b)<0;)r(c,null),c=u.getNext();c&&c.isEqual(b)&&(r(c,d),c=u.hasNext()?u.getNext():null),c?g.j(Ip(c)):g.done()})).next((()=>{for(;c;)r(c,null),c=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(e,t,r,s,o){const u=t.path,c=[u.popLast().toArray(),u.lastSegment(),k1(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return nh(e).H(IDBKeyRange.bound(c,f,!0)).next((d=>{o?.incrementDocumentReadCount(d.length);let g=ba();for(const b of d){const E=this.Sr(nt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);E.isFoundDocument()&&(Nm(t,E)||s.has(E.key))&&(g=g.insert(E.key,E))}return g}))}getAllFromCollectionGroup(e,t,r,s){let o=ba();const u=IE(t,r),c=IE(t,Ha.max());return nh(e).ee({index:dI,range:IDBKeyRange.bound(u,c,!0)},((f,d,g)=>{const b=this.Sr(nt.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(b.key,b),o.size===s&&g.done()})).next((()=>o))}newChangeBuffer(e){return new lO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return SE(e).get(t_).next((t=>(bt(!!t,20021),t)))}br(e,t){return SE(e).put(t_,t)}Sr(e,t){if(t){const r=$D(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Nt.min())))return r}return Sr.newInvalidDocument(e)}}function P3(n){return new oO(n)}class lO extends k3{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new Tu((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const t=[];let r=0,s=new rr(((o,u)=>$t(o.canonicalString(),u.canonicalString())));return this.changes.forEach(((o,u)=>{const c=this.Or.get(o);if(t.push(this.Mr.removeEntry(e,o,c.readTime)),u.isValidDocument()){const f=lE(this.Mr.serializer,u);s=s.add(o.path.popLast());const d=D1(f);r+=d-c.size,t.push(this.Mr.addEntry(e,o,f))}else if(r-=c.size,this.trackRemovals){const f=lE(this.Mr.serializer,u.convertToNoDocument(Nt.min()));t.push(this.Mr.addEntry(e,o,f))}})),s.forEach((o=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Mr.updateMetadata(e,r)),Te.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((r=>(this.Or.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:r,Fr:s})=>(s.forEach(((o,u)=>{this.Or.set(o,{size:u,readTime:r.get(o).readTime})})),r)))}}function SE(n){return Bi(n,om)}function nh(n){return Bi(n,x1)}function Ip(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function IE(n,e){const t=e.documentKey.path.toArray();return[n,k1(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function xE(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(s=$t(t[o],r[o]),s)return s;return s=$t(t.length,r.length),s||(s=$t(t[t.length-2],r[r.length-2]),s||$t(t[t.length-1],r[r.length-1]))}class uO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class D3{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Yp(r.mutation,s,va.empty(),Wn.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,un()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=un()){const s=_l();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let u=Op();return o.forEach(((c,f)=>{u=u.insert(c,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=_l();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,un())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,c)=>{t.set(u,c)}))}))}computeViews(e,t,r,s){let o=ba();const u=Wp(),c=(function(){return Wp()})();return t.forEach(((f,d)=>{const g=r.get(d.key);s.has(d.key)&&(g===void 0||g.mutation instanceof Su)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Yp(g.mutation,d,g.mutation.getFieldMask(),Wn.now())):u.set(d.key,va.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,g)=>u.set(d,g))),t.forEach(((d,g)=>c.set(d,new uO(g,u.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=Wp();let s=new vr(((u,c)=>u-c)),o=un();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const c of u)c.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let g=r.get(f)||va.empty();g=c.applyToLocalView(d,g),r.set(f,g);const b=(s.get(c.batchId)||un()).add(f);s=s.insert(c.batchId,b)}))})).next((()=>{const u=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,g=f.value,b=WI();g.forEach((E=>{if(!o.has(E)){const w=t3(t.get(E),r.get(E));w!==null&&b.set(E,w),o=o.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,b))}return Te.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return mD(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):Te.resolve(_l());let c=Jf,f=o;return u.next((d=>Te.forEach(d,((g,b)=>(c<b.largestBatchId&&(c=b.largestBatchId),o.get(g)?Te.resolve():this.remoteDocumentCache.getEntry(e,g).next((E=>{f=f.insert(g,E)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,un()))).next((g=>({batchId:c,changes:$I(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nt(t)).next((r=>{let s=Op();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=Op();return this.indexManager.getCollectionParents(e,o).next((c=>Te.forEach(c,(f=>{const d=(function(b,E){return new Eu(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((g=>{g.forEach(((b,E)=>{u=u.insert(b,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((u=>{o.forEach(((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,Sr.newInvalidDocument(g)))}));let c=Op();return u.forEach(((f,d)=>{const g=o.get(f);g!==void 0&&Yp(g.mutation,d,va.empty(),Wn.now()),Nm(t,d)&&(c=c.insert(f,d))})),c}))}}class cO{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Te.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:pi(s.createTime)}})(t)),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:v0(s.bundledQuery),readTime:pi(s.readTime)}})(t)),Te.resolve()}}class hO{constructor(){this.overlays=new vr(nt.comparator),this.Lr=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=_l();return Te.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.bt(e,t,o)})),Te.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),Te.resolve()}getOverlaysForCollection(e,t,r){const s=_l(),o=t.length+1,u=new nt(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Te.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new vr(((d,g)=>d-g));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let g=o.get(d.largestBatchId);g===null&&(g=_l(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const c=_l(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,g)=>c.set(d,g))),!(c.size()>=s)););return Te.resolve(c)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Sv(t,r));let o=this.Lr.get(t);o===void 0&&(o=un(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}}class fO{constructor(){this.sessionToken=$r.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Te.resolve()}}class Cv{constructor(){this.kr=new rr(ts.Kr),this.qr=new rr(ts.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new ts(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new ts(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new nt(new _n([])),r=new ts(t,e),s=new ts(t,e+1),o=[];return this.qr.forEachInRange([r,s],(u=>{this.Wr(u),o.push(u.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new nt(new _n([])),r=new ts(t,e),s=new ts(t,e+1);let o=un();return this.qr.forEachInRange([r,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new ts(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ts{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return nt.comparator(e.key,t.key)||$t(e.Hr,t.Hr)}static Ur(e,t){return $t(e.Hr,t.Hr)||nt.comparator(e.key,t.key)}}class dO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new rr(ts.Kr)}checkEmpty(e){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Ev(o,t,r,s);this.mutationQueue.push(u);for(const c of s)this.Jr=this.Jr.add(new ts(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Te.resolve(u)}lookupMutationBatch(e,t){return Te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),o=s<0?0:s;return Te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?vc:this.Yn-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ts(t,0),s=new ts(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,s],(u=>{const c=this.Zr(u.Hr);o.push(c)})),Te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rr($t);return t.forEach((s=>{const o=new ts(s,0),u=new ts(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,u],(c=>{r=r.add(c.Hr)}))})),Te.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;nt.isDocumentKey(o)||(o=o.child(""));const u=new ts(new nt(o),0);let c=new rr($t);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(c=c.add(f.Hr)),!0)}),u),Te.resolve(this.Yr(c))}Yr(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){bt(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Te.forEach(t.mutations,(s=>{const o=new ts(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new ts(t,0),s=this.Jr.firstAfterOrEqual(r);return Te.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pO{constructor(e){this.ti=e,this.docs=(function(){return new vr(nt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Te.resolve(r?r.document.mutableCopy():Sr.newInvalidDocument(t))}getEntries(e,t){let r=ba();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Sr.newInvalidDocument(s))})),Te.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=ba();const u=t.path,c=new nt(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||cv(oI(g),r)<=0||(s.has(g.key)||Nm(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Te.resolve(o)}getAllFromCollectionGroup(e,t,r,s){ct(9500)}ni(e,t){return Te.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new mO(this)}getSize(e){return Te.resolve(this.size)}}class mO extends k3{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),Te.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class gO{constructor(e){this.persistence=e,this.ri=new Tu((t=>wh(t)),Im),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.ii=0,this.si=new Cv,this.targetCount=0,this.oi=Ih._r()}forEachTarget(e,t){return this.ri.forEach(((r,s)=>t(s))),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),Te.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Ih(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.lr(t),Te.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.ri.forEach(((u,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ri.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),Te.waitFor(o).next((()=>s))}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return Te.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),Te.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),Te.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return Te.resolve(r)}containsKey(e,t){return Te.resolve(this.si.containsKey(t))}}class Lv{constructor(e,t){this._i={},this.overlays={},this.ai=new _a(0),this.ui=!1,this.ui=!0,this.ci=new fO,this.referenceDelegate=e(this),this.li=new gO(this),this.indexManager=new tO,this.remoteDocumentCache=(function(s){return new pO(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new w3(t),this.Pi=new cO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new dO(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){Qe("MemoryPersistence","Starting transaction:",e);const s=new yO(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((o=>this.referenceDelegate.Ii(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,t){return Te.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class yO extends uI{constructor(e){super(),this.currentSequenceNumber=e}}class A0{constructor(e){this.persistence=e,this.Ri=new Cv,this.Ai=null}static Vi(e){return new A0(e)}get di(){if(this.Ai)return this.Ai;throw ct(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),Te.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Te.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.di,(r=>{const s=nt.fromPath(r);return this.mi(e,s).next((o=>{o||t.removeEntry(s,Nt.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Te.or([()=>Te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class O1{constructor(e,t){this.persistence=e,this.fi=new Tu((r=>Ms(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=L3(this,t)}static Vi(e,t){return new O1(e,t)}Ti(){}Ii(e){return Te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return Te.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((o=>o?Te.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ni(e,(u=>this.wr(e,u,t).next((c=>{c||(r++,o.removeEntry(u,Nt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),Te.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),Te.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Te.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=s1(e.data.value)),t}wr(e,t,r){return Te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return Te.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class _O{constructor(e){this.serializer=e}k(e,t,r,s){const o=new l0("createOrUpgrade",t);r<1&&s>=1&&((function(f){f.createObjectStore(Sm)})(e),(function(f){f.createObjectStore(am,{keyPath:CP}),f.createObjectStore(Oo,{keyPath:jA,autoIncrement:!0}).createIndex(dh,UA,{unique:!0}),f.createObjectStore(td)})(e),NE(e),(function(f){f.createObjectStore(sh)})(e));let u=Te.resolve();return r<3&&s>=3&&(r!==0&&((function(f){f.deleteObjectStore(rd),f.deleteObjectStore(nd),f.deleteObjectStore(gh)})(e),NE(e)),u=u.next((()=>(function(f){const d=f.store(gh),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return d.put(N1,g)})(o)))),r<4&&s>=4&&(r!==0&&(u=u.next((()=>(function(f,d){return d.store(Oo).H().next((b=>{f.deleteObjectStore(Oo),f.createObjectStore(Oo,{keyPath:jA,autoIncrement:!0}).createIndex(dh,UA,{unique:!0});const E=d.store(Oo),w=b.map((j=>E.put(j)));return Te.waitFor(w)}))})(e,o)))),u=u.next((()=>{(function(f){f.createObjectStore(id,{keyPath:UP})})(e)}))),r<5&&s>=5&&(u=u.next((()=>this.gi(o)))),r<6&&s>=6&&(u=u.next((()=>((function(f){f.createObjectStore(om)})(e),this.pi(o))))),r<7&&s>=7&&(u=u.next((()=>this.yi(o)))),r<8&&s>=8&&(u=u.next((()=>this.wi(e,o)))),r<9&&s>=9&&(u=u.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(u=u.next((()=>this.bi(o)))),r<11&&s>=11&&(u=u.next((()=>{(function(f){f.createObjectStore(u0,{keyPath:FP})})(e),(function(f){f.createObjectStore(c0,{keyPath:BP})})(e)}))),r<12&&s>=12&&(u=u.next((()=>{(function(f){const d=f.createObjectStore(h0,{keyPath:WP});d.createIndex(r_,YP,{unique:!1}),d.createIndex(yI,QP,{unique:!1})})(e)}))),r<13&&s>=13&&(u=u.next((()=>(function(f){const d=f.createObjectStore(x1,{keyPath:kP});d.createIndex(r1,PP),d.createIndex(dI,DP)})(e))).next((()=>this.Si(e,o))).next((()=>e.deleteObjectStore(sh)))),r<14&&s>=14&&(u=u.next((()=>this.Di(e,o)))),r<15&&s>=15&&(u=u.next((()=>(function(f){f.createObjectStore(dv,{keyPath:qP,autoIncrement:!0}).createIndex(n_,zP,{unique:!1}),f.createObjectStore(Gp,{keyPath:HP}).createIndex(mI,GP,{unique:!1}),f.createObjectStore(Kp,{keyPath:KP}).createIndex(gI,$P,{unique:!1})})(e)))),r<16&&s>=16&&(u=u.next((()=>{t.objectStore(Gp).clear()})).next((()=>{t.objectStore(Kp).clear()}))),r<17&&s>=17&&(u=u.next((()=>{(function(f){f.createObjectStore(pv,{keyPath:XP})})(e)}))),r<18&&s>=18&&kS()&&(u=u.next((()=>{t.objectStore(Gp).clear()})).next((()=>{t.objectStore(Kp).clear()}))),u}pi(e){let t=0;return e.store(sh).ee(((r,s)=>{t+=D1(s)})).next((()=>{const r={byteSize:t};return e.store(om).put(t_,r)}))}gi(e){const t=e.store(am),r=e.store(Oo);return t.H().next((s=>Te.forEach(s,(o=>{const u=IDBKeyRange.bound([o.userId,vc],[o.userId,o.lastAcknowledgedBatchId]);return r.H(dh,u).next((c=>Te.forEach(c,(f=>{bt(f.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const d=lh(this.serializer,f);return I3(e,o.userId,d).next((()=>{}))}))))}))))}yi(e){const t=e.store(rd),r=e.store(sh);return e.store(gh).get(N1).next((s=>{const o=[];return r.ee(((u,c)=>{const f=new _n(u),d=(function(b){return[0,Ms(b)]})(f);o.push(t.get(d).next((g=>g?Te.resolve():(b=>t.put({targetId:0,path:Ms(b),sequenceNumber:s.highestListenSequenceNumber}))(f))))})).next((()=>Te.waitFor(o)))}))}wi(e,t){e.createObjectStore(lm,{keyPath:jP});const r=t.store(lm),s=new Rv,o=u=>{if(s.add(u)){const c=u.lastSegment(),f=u.popLast();return r.put({collectionId:c,parent:Ms(f)})}};return t.store(sh).ee({Y:!0},((u,c)=>{const f=new _n(u);return o(f.popLast())})).next((()=>t.store(td).ee({Y:!0},(([u,c,f],d)=>{const g=yl(c);return o(g.popLast())}))))}bi(e){const t=e.store(nd);return t.ee(((r,s)=>{const o=Vp(s),u=A3(this.serializer,o);return t.put(u)}))}Si(e,t){const r=t.store(sh),s=[];return r.ee(((o,u)=>{const c=t.store(x1),f=(function(b){return b.document?new nt(_n.fromString(b.document.name).popFirst(5)):b.noDocument?nt.fromSegments(b.noDocument.path):b.unknownDocument?nt.fromSegments(b.unknownDocument.path):ct(36783)})(u).path.toArray(),d={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};s.push(c.put(d))})).next((()=>Te.waitFor(s)))}Di(e,t){const r=t.store(Oo),s=P3(this.serializer),o=new Lv(A0.Vi,this.serializer.yt);return r.H().next((u=>{const c=new Map;return u.forEach((f=>{let d=c.get(f.userId)??un();lh(this.serializer,f).keys().forEach((g=>d=d.add(g))),c.set(f.userId,d)})),Te.forEach(c,((f,d)=>{const g=new ns(d),b=b0.wt(this.serializer,g),E=o.getIndexManager(g),w=w0.wt(g,this.serializer,E,o.referenceDelegate);return new D3(s,w,b,E).recalculateAndSaveOverlaysForDocumentKeys(new i_(t,_a.ce),f).next()}))}))}}function NE(n){n.createObjectStore(rd,{keyPath:MP}).createIndex(fv,VP,{unique:!0}),n.createObjectStore(nd,{keyPath:"targetId"}).createIndex(pI,OP,{unique:!0}),n.createObjectStore(gh)}const sc="IndexedDbPersistence",py=18e5,my=5e3,gy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",O3="main";class kv{constructor(e,t,r,s,o,u,c,f,d,g,b=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ci=o,this.window=u,this.document=c,this.Fi=d,this.Mi=g,this.xi=b,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=E=>Promise.resolve(),!kv.v())throw new Ge(Ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new aO(this,s),this.Ki=t+O3,this.serializer=new w3(f),this.qi=new wl(this.Ki,this.xi,new _O(this.serializer)),this.ci=new YD,this.li=new rO(this.referenceDelegate,this.serializer),this.remoteDocumentCache=P3(this.serializer),this.Pi=new WD,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,g===!1&&di(sc,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ge(Ce.FAILED_PRECONDITION,gy);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new _a(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Ug(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(Pc(e))return Qe(sc,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Qe(sc,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return xp(e).get(Ef).next((t=>Te.resolve(this.Xi(t))))}Yi(e){return Ug(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,py)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=Bi(t,id);return r.H().next((s=>{const o=this.ns(s,py),u=s.filter((c=>o.indexOf(c)===-1));return Te.forEach(u,(c=>r.delete(c.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?Te.resolve(!0):xp(e).get(Ef).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,my)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new Ge(Ce.FAILED_PRECONDITION,gy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ug(e).H().next((r=>this.ns(r,my).find((s=>{if(this.clientId!==s.clientId){const o=!this.networkEnabled&&s.networkEnabled,u=!this.inForeground&&s.inForeground,c=this.networkEnabled===s.networkEnabled;if(o||u&&c)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&Qe(sc,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Sm,id],(e=>{const t=new i_(e,_a.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((r=>this.ts(r.updateTimeMs,t)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>Ug(e).H().next((t=>this.ns(t,py).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return w0.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new nO(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return b0.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,r){Qe(sc,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",o=(function(f){return f===18?eD:f===17?wI:f===16?ZP:f===15?mv:f===14?bI:f===13?vI:f===12?JP:f===11?_I:void ct(60245)})(this.xi);let u;return this.qi.runTransaction(e,s,o,(c=>(u=new i_(c,this.ai?this.ai.next():_a.ce),t==="readwrite-primary"?this.ji(u).next((f=>!!f||this.Hi(u))).next((f=>{if(!f)throw di(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new Ge(Ce.FAILED_PRECONDITION,lI);return r(u)})).next((f=>this.Zi(u).next((()=>f)))):this.Ps(u).next((()=>r(u)))))).then((c=>(u.raiseOnCommittedEvent(),c)))}Ps(e){return xp(e).get(Ef).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,my)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ge(Ce.FAILED_PRECONDITION,gy)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xp(e).put(Ef,t)}static v(){return wl.v()}Ji(e){const t=xp(e);return t.get(Ef).next((r=>this.Xi(r)?(Qe(sc,"Releasing primary lease."),t.delete(Ef)):Te.resolve()))}ts(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(di(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;LS()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const t=this.Ui?.getItem(this.rs(e))!==null;return Qe(sc,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return di(sc,"Failed to get zombied client id.",t),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){di("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xp(n){return Bi(n,Sm)}function Ug(n){return Bi(n,id)}function Pv(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Dv{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=s}static Es(e,t){let r=un(),s=un();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Dv(e,t.fromCache,r,s)}}class vO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class M3{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return LS()?8:cI(Ui())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.gs(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ps(e,t,s,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new vO;return this.ys(e,t,u).next((c=>{if(o.result=c,this.As)return this.ws(e,t,u,c.size)}))})).next((()=>o.result))}ws(e,t,r,s){return r.documentReadCount<this.Vs?(Pf()<=In.DEBUG&&Qe("QueryEngine","SDK will not create cache indexes for query:",Df(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Te.resolve()):(Pf()<=In.DEBUG&&Qe("QueryEngine","Query:",Df(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Pf()<=In.DEBUG&&Qe("QueryEngine","The SDK decides to create cache indexes for query:",Df(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vs(t))):Te.resolve())}gs(e,t){if(JA(t))return Te.resolve(null);let r=Vs(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=L1(t,null,"F"),r=Vs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=un(...o);return this.fs.getDocuments(e,u).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.bs(t,c);return this.Ss(t,d,u,f.readTime)?this.gs(e,L1(t,null,"F")):this.Ds(e,d,t,f)}))))})))))}ps(e,t,r,s){return JA(t)||s.isEqual(Nt.min())?Te.resolve(null):this.fs.getDocuments(e,r).next((o=>{const u=this.bs(t,o);return this.Ss(t,u,r,s)?Te.resolve(null):(Pf()<=In.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Df(t)),this.Ds(e,u,t,aI(s,Jf)).next((c=>c)))}))}bs(e,t){let r=new rr(GI(e));return t.forEach(((s,o)=>{Nm(e,o)&&(r=r.add(o))})),r}Ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ys(e,t,r){return Pf()<=In.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",Df(t)),this.fs.getDocumentsMatchingQuery(e,t,Ha.min(),r)}Ds(e,t,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const Ov="LocalStore",bO=3e8;class wO{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new vr($t),this.Fs=new Tu((o=>wh(o)),Im),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D3(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function V3(n,e,t,r){return new wO(n,e,t,r)}async function j3(n,e){const t=st(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],c=[];let f=un();for(const d of s){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){c.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:u,addedBatchIds:c})))}))}))}function AO(n,e){const t=st(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,g){const b=d.batch,E=b.keys();let w=Te.resolve();return E.forEach((j=>{w=w.next((()=>g.getEntry(f,j))).next((V=>{const B=d.docVersions.get(j);bt(B!==null,48541),V.version.compareTo(B)<0&&(b.applyToRemoteDocument(V,d),V.isValidDocument()&&(V.setReadTime(d.commitVersion),g.addEntry(V)))}))})),w.next((()=>c.mutationQueue.removeMutationBatch(f,b)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=un();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function U3(n){const e=st(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function EO(n,e){const t=st(n),r=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const c=[];e.targetChanges.forEach(((g,b)=>{const E=s.get(b);if(!E)return;c.push(t.li.removeMatchingKeys(o,g.removedDocuments,b).next((()=>t.li.addMatchingKeys(o,g.addedDocuments,b))));let w=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken($r.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,r)),s=s.insert(b,w),(function(V,B,k){return V.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=bO?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(E,w,g)&&c.push(t.li.updateTargetData(o,w))}));let f=ba(),d=un();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),c.push(F3(o,u,e.documentUpdates).next((g=>{f=g.Bs,d=g.Ls}))),!r.isEqual(Nt.min())){const g=t.li.getLastRemoteSnapshotVersion(o).next((b=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(g)}return Te.waitFor(c).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.vs=s,o)))}function F3(n,e,t){let r=un(),s=un();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let u=ba();return t.forEach(((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(Nt.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):Qe(Ov,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{Bs:u,Ls:s}}))}function TO(n,e){const t=st(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=vc),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function hd(n,e){const t=st(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.li.getTargetData(r,e).next((o=>o?(s=o,Te.resolve(s)):t.li.allocateTargetId(r).next((u=>(s=new fu(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function fd(n,e,t){const r=st(n),s=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Pc(u))throw u;Qe(Ov,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function M1(n,e,t){const r=st(n);let s=Nt.min(),o=un();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,g){const b=st(f),E=b.Fs.get(g);return E!==void 0?Te.resolve(b.vs.get(E)):b.li.getTargetData(d,g)})(r,u,Vs(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,c.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?s:Nt.min(),t?o:un()))).next((c=>(z3(r,HI(e),c),{documents:c,ks:o})))))}function B3(n,e){const t=st(n),r=st(t.li),s=t.vs.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",(o=>r.At(o,e).next((u=>u?u.target:null))))}function q3(n,e){const t=st(n),r=t.Ms.get(e)||Nt.min();return t.persistence.runTransaction("Get new document changes","readonly",(s=>t.xs.getAllFromCollectionGroup(s,e,aI(r,Jf),Number.MAX_SAFE_INTEGER))).then((s=>(z3(t,e,s),s)))}function z3(n,e,t){let r=n.Ms.get(e)||Nt.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(e,r)}async function SO(n,e,t,r){const s=st(n);let o=un(),u=ba();for(const d of t){const g=e.Ks(d.metadata.name);d.document&&(o=o.add(g));const b=e.qs(d);b.setReadTime(e.Us(d.metadata.readTime)),u=u.insert(g,b)}const c=s.xs.newChangeBuffer({trackRemovals:!0}),f=await hd(s,(function(g){return Vs(Id(_n.fromString(`__bundle__/docs/${g}`)))})(r));return s.persistence.runTransaction("Apply bundle documents","readwrite",(d=>F3(d,c,u).next((g=>(c.apply(d),g))).next((g=>s.li.removeMatchingKeysForTargetId(d,f.targetId).next((()=>s.li.addMatchingKeys(d,o,f.targetId))).next((()=>s.localDocuments.getLocalViewOfDocuments(d,g.Bs,g.Ls))).next((()=>g.Bs))))))}async function IO(n,e,t=un()){const r=await hd(n,Vs(v0(e.bundledQuery))),s=st(n);return s.persistence.runTransaction("Save named query","readwrite",(o=>{const u=pi(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return s.Pi.saveNamedQuery(o,e);const c=r.withResumeToken($r.EMPTY_BYTE_STRING,u);return s.vs=s.vs.insert(c.targetId,c),s.li.updateTargetData(o,c).next((()=>s.li.removeMatchingKeysForTargetId(o,r.targetId))).next((()=>s.li.addMatchingKeys(o,t,r.targetId))).next((()=>s.Pi.saveNamedQuery(o,e)))}))}const H3="firestore_clients";function RE(n,e){return`${H3}_${n}_${e}`}const G3="firestore_mutations";function CE(n,e,t){let r=`${G3}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const K3="firestore_targets";function yy(n,e){return`${K3}_${n}_${e}`}const ml="SharedClientState";class V1{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static $s(e,t,r){const s=JSON.parse(r);let o,u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string",u&&(o=new Ge(s.error.code,s.error.message))),u?new V1(e,t,s.state,o):(di(ml,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let s,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(s=new Ge(r.error.code,r.error.message))),o?new Qp(e,r.state,s):(di(ml,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class j1{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let s=typeof r=="object"&&r.activeTargetIds instanceof Array,o=bv();for(let u=0;s&&u<r.activeTargetIds.length;++u)s=hI(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return s?new j1(e,o):(di(ml,`Failed to parse client data for instance '${e}': ${t}`),null)}}class Mv{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Mv(t.clientId,t.onlineState):(di(ml,`Failed to parse online state: ${e}`),null)}}class v_{constructor(){this.activeTargetIds=bv()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _y{constructor(e,t,r,s,o){this.window=e,this.Ci=t,this.persistenceKey=r,this.zs=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new vr($t),this.started=!1,this.Zs=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Xs=RE(this.persistenceKey,this.zs),this.Ys=(function(f){return`firestore_sequence_number_${f}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new v_),this.eo=new RegExp(`^${H3}_${u}_([^_]*)$`),this.no=new RegExp(`^${G3}_${u}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${K3}_${u}_(\\d+)$`),this.io=(function(f){return`firestore_online_state_${f}`})(this.persistenceKey),this.so=(function(f){return`firestore_bundle_loaded_v2_${f}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const s=this.getItem(RE(this.persistenceKey,r));if(s){const o=j1.$s(r,s);o&&(this.Js=this.Js.insert(o.clientId,o))}}this.oo();const t=this.storage.getItem(this.io);if(t){const r=this._o(t);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let t=!1;return this.Js.forEach(((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,t,r){this.co(e,t,r),this.lo(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(yy(this.persistenceKey,e));if(s){const o=Qp.$s(e,s);o&&(r=o.state)}}return t&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(yy(this.persistenceKey,e))}updateQueryState(e,t,r){this.Po(e,t,r)}handleUserChange(e,t,r){t.forEach((s=>{this.lo(s)})),this.currentUser=e,r.forEach((s=>{this.addPendingMutation(s)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Qe(ml,"READ",e,t),t}setItem(e,t){Qe(ml,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){Qe(ml,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const t=e;if(t.storageArea===this.storage){if(Qe(ml,"EVENT",t.key,t.newValue),t.key===this.Xs)return void di("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.eo.test(t.key)){if(t.newValue==null){const r=this.Eo(t.key);return this.Ro(r,null)}{const r=this.Ao(t.key,t.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(t.key)){if(t.newValue!==null){const r=this.Vo(t.key,t.newValue);if(r)return this.mo(r)}}else if(this.ro.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(t.key===this.io){if(t.newValue!==null){const r=this._o(t.newValue);if(r)return this.ao(r)}}else if(t.key===this.Ys){const r=(function(o){let u=_a.ce;if(o!=null)try{const c=JSON.parse(o);bt(typeof c=="number",30636,{yo:o}),u=c}catch(c){di(ml,"Failed to read sequence number from WebStorage",c)}return u})(t.newValue);r!==_a.ce&&this.sequenceNumberHandler(r)}else if(t.key===this.so){const r=this.wo(t.newValue);await Promise.all(r.map((s=>this.syncEngine.bo(s))))}}}else this.Zs.push(t)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,t,r){const s=new V1(this.currentUser,e,t,r),o=CE(this.persistenceKey,this.currentUser,e);this.setItem(o,s.Ws())}lo(e){const t=CE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}To(e){const t={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(t))}Po(e,t,r){const s=yy(this.persistenceKey,e),o=new Qp(e,t,r);this.setItem(s,o.Ws())}Io(e){const t=JSON.stringify(Array.from(e));this.setItem(this.so,t)}Eo(e){const t=this.eo.exec(e);return t?t[1]:null}Ao(e,t){const r=this.Eo(e);return j1.$s(r,t)}Vo(e,t){const r=this.no.exec(e),s=Number(r[1]),o=r[2]!==void 0?r[2]:null;return V1.$s(new ns(o),s,t)}fo(e,t){const r=this.ro.exec(e),s=Number(r[1]);return Qp.$s(s,t)}_o(e){return Mv.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);Qe(ml,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,t){const r=t?this.Js.insert(e,t):this.Js.remove(e),s=this.uo(this.Js),o=this.uo(r),u=[],c=[];return o.forEach((f=>{s.has(f)||u.push(f)})),s.forEach((f=>{o.has(f)||c.push(f)})),this.syncEngine.Co(u,c).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let t=bv();return e.forEach(((r,s)=>{t=t.unionWith(s.activeTargetIds)})),t}}class $3{constructor(){this.vo=new v_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new v_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xO{Mo(e){}shutdown(){}}const LE="ConnectivityMonitor";class kE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Qe(LE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Qe(LE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fg=null;function b_(){return Fg===null?Fg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fg++,"0x"+Fg.toString(16)}const vy="RestConnection",NO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class RO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===cm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,o){const u=b_(),c=this.Qo(e,t.toUriEncodedString());Qe(vy,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,s,o);const{host:d}=new URL(c),g=Cc(d);return this.zo(e,c,f,r,g).then((b=>(Qe(vy,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Ta(vy,`RPC '${e}' ${u} failed with error: `,b,"url: ",c,"request:",r),b}))}jo(e,t,r,s,o,u){return this.Wo(e,t,r,s,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}Qo(e,t){const r=NO[e];let s=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class CO{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Cs="WebChannelConnection",Np=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class Hf extends RO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Hf.c_){const e=X4();Np(e,Q4.STAT_EVENT,(t=>{t.stat===Qy.PROXY?Qe(Cs,"STAT_EVENT: detected buffering proxy"):t.stat===Qy.NOPROXY&&Qe(Cs,"STAT_EVENT: detected no buffering proxy")})),Hf.c_=!0}}zo(e,t,r,s,o){const u=b_();return new Promise(((c,f)=>{const d=new W4;d.setWithCredentials(!0),d.listenOnce(Y4.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case t1.NO_ERROR:const b=d.getResponseJson();Qe(Cs,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),c(b);break;case t1.TIMEOUT:Qe(Cs,`RPC '${e}' ${u} timed out`),f(new Ge(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case t1.HTTP_ERROR:const E=d.getStatus();if(Qe(Cs,`RPC '${e}' ${u} failed with status:`,E,"response text:",d.getResponseText()),E>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const j=w?.error;if(j&&j.status&&j.message){const V=(function(k){const te=k.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(te)>=0?te:Ce.UNKNOWN})(j.status);f(new Ge(V,j.message))}else f(new Ge(Ce.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new Ge(Ce.UNAVAILABLE,"Connection failed."));break;default:ct(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Qe(Cs,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(s);Qe(Cs,`RPC '${e}' ${u} sending request:`,s),d.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=b_(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const d=o.join("");Qe(Cs,`Creating RPC '${e}' stream ${s}: ${d}`,c);const g=u.createWebChannel(d,c);this.I_(g);let b=!1,E=!1;const w=new CO({Ho:j=>{E?Qe(Cs,`Not sending because RPC '${e}' stream ${s} is closed:`,j):(b||(Qe(Cs,`Opening RPC '${e}' stream ${s} transport.`),g.open(),b=!0),Qe(Cs,`RPC '${e}' stream ${s} sending:`,j),g.send(j))},Jo:()=>g.close()});return Np(g,Dp.EventType.OPEN,(()=>{E||(Qe(Cs,`RPC '${e}' stream ${s} transport opened.`),w.i_())})),Np(g,Dp.EventType.CLOSE,(()=>{E||(E=!0,Qe(Cs,`RPC '${e}' stream ${s} transport closed`),w.o_(),this.E_(g))})),Np(g,Dp.EventType.ERROR,(j=>{E||(E=!0,Ta(Cs,`RPC '${e}' stream ${s} transport errored. Name:`,j.name,"Message:",j.message),w.o_(new Ge(Ce.UNAVAILABLE,"The operation could not be completed")))})),Np(g,Dp.EventType.MESSAGE,(j=>{if(!E){const V=j.data[0];bt(!!V,16349);const B=V,k=B?.error||B[0]?.error;if(k){Qe(Cs,`RPC '${e}' stream ${s} received error:`,k);const te=k.status;let $=(function(ve){const z=Ei[ve];if(z!==void 0)return s3(z)})(te),J=k.message;te==="NOT_FOUND"&&J.includes("database")&&J.includes("does not exist")&&J.includes(this.databaseId.database)&&Ta(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),$===void 0&&($=Ce.INTERNAL,J="Unknown error status: "+te+" with message "+k.message),E=!0,w.o_(new Ge($,J)),g.close()}else Qe(Cs,`RPC '${e}' stream ${s} received:`,V),w.__(V)}})),Hf.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return J4()}}function LO(n){return new Hf(n)}function W3(){return typeof window<"u"?window:null}function c1(){return typeof document<"u"?document:null}function Oh(n){return new VD(n,!0)}Hf.c_=!1;class Vv{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=s,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&Qe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const PE="PersistentStream";class Y3{constructor(e,t,r,s,o,u,c,f){this.Ci=e,this.b_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Vv(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ce.RESOURCE_EXHAUSTED?(di(t.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new Ge(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Qe(PE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Qe(PE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kO extends Y3{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=FD(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Nt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Nt.min():u.readTime?pi(u.readTime):Nt.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=p_(this.serializer),t.addTarget=(function(o,u){let c;const f=u.target;if(c=R1(f)?{documents:p3(o,f)}:{query:_0(o,f).ft},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=u3(o,u.resumeToken);const d=f_(o,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(Nt.min())>0){c.readTime=cd(o,u.snapshotVersion.toTimestamp());const d=f_(o,u.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=qD(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=p_(this.serializer),t.removeTarget=e,this.K_(t)}}class PO extends Y3{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=BD(e.writeResults,e.commitTime),r=pi(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=p_(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>mm(this.serializer,r)))};this.K_(t)}}class DO{}class OO extends DO{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Ge(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Wo(e,d_(t,r),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ge(Ce.UNKNOWN,o.toString())}))}jo(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.jo(e,d_(t,r),s,u,c,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ge(Ce.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function MO(n,e,t,r){return new OO(n,e,t,r)}class VO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(di(t),this.aa=!1):Qe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const xh="RemoteStore";class jO{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{Oc(this)&&(Qe(xh,"Restarting streams for network reachability change."),await(async function(f){const d=st(f);d.Ea.add(4),await Rd(d),d.Va.set("Unknown"),d.Ea.delete(4),await km(d)})(this))}))})),this.Va=new VO(r,s)}}async function km(n){if(Oc(n))for(const e of n.Ra)await e(!0)}async function Rd(n){for(const e of n.Ra)await e(!1)}function E0(n,e){const t=st(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Fv(t)?Uv(t):Ld(t).O_()&&jv(t,e))}function dd(n,e){const t=st(n),r=Ld(t);t.Ia.delete(e),r.O_()&&Q3(t,e),t.Ia.size===0&&(r.O_()?r.L_():Oc(t)&&t.Va.set("Unknown"))}function jv(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ld(n).Z_(e)}function Q3(n,e){n.da.$e(e),Ld(n).X_(e)}function Uv(n){n.da=new PD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ld(n).start(),n.Va.ua()}function Fv(n){return Oc(n)&&!Ld(n).x_()&&n.Ia.size>0}function Oc(n){return st(n).Ea.size===0}function X3(n){n.da=void 0}async function UO(n){n.Va.set("Online")}async function FO(n){n.Ia.forEach(((e,t)=>{jv(n,e)}))}async function BO(n,e){X3(n),Fv(n)?(n.Va.ha(e),Uv(n)):n.Va.set("Unknown")}async function qO(n,e,t){if(n.Va.set("Online"),e instanceof l3&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const c of o.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,u),s.Ia.delete(c),s.da.removeTarget(c))})(n,e)}catch(r){Qe(xh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await U1(n,r)}else if(e instanceof l1?n.da.Xe(e):e instanceof o3?n.da.st(e):n.da.tt(e),!t.isEqual(Nt.min()))try{const r=await U3(n.localStore);t.compareTo(r)>=0&&await(function(o,u){const c=o.da.Tt(u);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Ia.get(d);g&&o.Ia.set(d,g.withResumeToken(f.resumeToken,u))}})),c.targetMismatches.forEach(((f,d)=>{const g=o.Ia.get(f);if(!g)return;o.Ia.set(f,g.withResumeToken($r.EMPTY_BYTE_STRING,g.snapshotVersion)),Q3(o,f);const b=new fu(g.target,f,d,g.sequenceNumber);jv(o,b)})),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){Qe(xh,"Failed to raise snapshot:",r),await U1(n,r)}}async function U1(n,e,t){if(!Pc(e))throw e;n.Ea.add(1),await Rd(n),n.Va.set("Offline"),t||(t=()=>U3(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Qe(xh,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await km(n)}))}function J3(n,e){return e().catch((t=>U1(n,t,e)))}async function Cd(n){const e=st(n),t=Ic(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vc;for(;zO(e);)try{const s=await TO(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,HO(e,s)}catch(s){await U1(e,s)}Z3(e)&&ex(e)}function zO(n){return Oc(n)&&n.Ta.length<10}function HO(n,e){n.Ta.push(e);const t=Ic(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function Z3(n){return Oc(n)&&!Ic(n).x_()&&n.Ta.length>0}function ex(n){Ic(n).start()}async function GO(n){Ic(n).ra()}async function KO(n){const e=Ic(n);for(const t of n.Ta)e.ea(t.mutations)}async function $O(n,e,t){const r=n.Ta.shift(),s=Tv.from(r,e,t);await J3(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Cd(n)}async function WO(n,e){e&&Ic(n).Y_&&await(async function(r,s){if((function(u){return i3(u)&&u!==Ce.ABORTED})(s.code)){const o=r.Ta.shift();Ic(r).B_(),await J3(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Cd(r)}})(n,e),Z3(n)&&ex(n)}async function DE(n,e){const t=st(n);t.asyncQueue.verifyOperationInProgress(),Qe(xh,"RemoteStore received new credentials");const r=Oc(t);t.Ea.add(3),await Rd(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await km(t)}async function w_(n,e){const t=st(n);e?(t.Ea.delete(2),await km(t)):e||(t.Ea.add(2),await Rd(t),t.Va.set("Unknown"))}function Ld(n){return n.ma||(n.ma=(function(t,r,s){const o=st(t);return o.sa(),new kO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:UO.bind(null,n),Yo:FO.bind(null,n),t_:BO.bind(null,n),J_:qO.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Fv(n)?Uv(n):n.Va.set("Unknown")):(await n.ma.stop(),X3(n))}))),n.ma}function Ic(n){return n.fa||(n.fa=(function(t,r,s){const o=st(t);return o.sa(),new PO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:GO.bind(null,n),t_:WO.bind(null,n),ta:KO.bind(null,n),na:$O.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Cd(n)):(await n.fa.stop(),n.Ta.length>0&&(Qe(xh,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Bv{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,c=new Bv(e,t,u,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ge(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kd(n,e){if(di("AsyncQueue",`${e}: ${n}`),Pc(n))return new Ge(Ce.UNAVAILABLE,`${e}: ${n}`);throw n}class yh{static emptySet(e){return new yh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||nt.comparator(t.key,r.key):(t,r)=>nt.comparator(t.key,r.key),this.keyedMap=Op(),this.sortedSet=new vr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new yh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class OE{constructor(){this.ga=new vr(nt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ct(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Nh{constructor(e,t,r,s,o,u,c,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach((c=>{u.push({type:0,doc:c})})),new Nh(e,t,yh.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class YO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class QO{constructor(){this.queries=ME(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=st(t),o=s.queries;s.queries=ME(),o.forEach(((u,c)=>{for(const f of c.ba)f.onError(r)}))})(this,new Ge(Ce.ABORTED,"Firestore shutting down"))}}function ME(){return new Tu((n=>zI(n)),xm)}async function qv(n,e){const t=st(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.Sa()&&e.Da()&&(r=2):(o=new YO,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const c=kd(u,`Initialization of query '${Df(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Hv(t)}async function zv(n,e){const t=st(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.ba.indexOf(e);u>=0&&(o.ba.splice(u,1),o.ba.length===0?s=e.Da()?0:1:!o.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function XO(n,e){const t=st(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const c of u.ba)c.Fa(s)&&(r=!0);u.wa=s}}r&&Hv(t)}function JO(n,e,t){const r=st(n),s=r.queries.get(e);if(s)for(const o of s.ba)o.onError(t);r.queries.delete(e)}function Hv(n){n.Ca.forEach((e=>{e.next()}))}var A_,VE;(VE=A_||(A_={})).Ma="default",VE.Cache="cache";class Gv{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Nh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Nh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==A_.Cache}}class tx{constructor(e,t){this.qa=e,this.byteLength=t}Ua(){return"metadata"in this.qa}}class jE{constructor(e){this.serializer=e}Ks(e){return Al(this.serializer,e)}qs(e){return e.metadata.exists?y0(this.serializer,e.document,!1):Sr.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return pi(e)}}class Kv{constructor(e,t){this.$a=e,this.serializer=t,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=nx(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++t;const r=_n.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,r=new jE(this.serializer);for(const s of e)if(s.metadata.queries){const o=r.Ks(s.metadata.name);for(const u of s.metadata.queries){const c=(t.get(u)||un()).add(o);t.set(u,c)}}return t}async ja(e){const t=await SO(e,new jE(this.serializer),this.Qa,this.$a.id),r=this.za(this.documents);for(const s of this.Wa)await IO(e,s,r.get(s.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:t}}}function nx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class rx{constructor(e){this.key=e}}class ix{constructor(e){this.key=e}}class sx{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=un(),this.mutatedKeys=un(),this.eu=GI(e),this.tu=new yh(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new OE,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,b)=>{const E=s.get(g),w=Nm(this.query,b)?b:null,j=!!E&&this.mutatedKeys.has(E.key),V=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let B=!1;E&&w?E.data.isEqual(w.data)?j!==V&&(r.track({type:3,doc:w}),B=!0):this.su(E,w)||(r.track({type:2,doc:w}),B=!0,(f&&this.eu(w,f)>0||d&&this.eu(w,d)<0)&&(c=!0)):!E&&w?(r.track({type:0,doc:w}),B=!0):E&&!w&&(r.track({type:1,doc:E}),B=!0,(f||d)&&(c=!0)),B&&(w?(u=u.add(w),o=V?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Ss:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,b)=>(function(w,j){const V=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct(20277,{Vt:B})}};return V(w)-V(j)})(g.type,b.type)||this.eu(g.doc,b.doc))),this.ou(r),s=s??!1;const c=t&&!s?this._u():[],f=this.Ya.size===0&&this.current&&!s?1:0,d=f!==this.Xa;return this.Xa=f,u.length!==0||d?{snapshot:new Nh(this.query,e.tu,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=un(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new ix(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new rx(r))})),t}cu(e){this.Za=e.ks,this.Ya=un();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Nh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Mc="SyncEngine";class ZO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class e7{constructor(e){this.key=e,this.hu=!1}}class t7{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Tu((c=>zI(c)),xm),this.Iu=new Map,this.Eu=new Set,this.Ru=new vr(nt.comparator),this.Au=new Map,this.Vu=new Cv,this.du={},this.mu=new Map,this.fu=Ih.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function n7(n,e,t=!0){const r=T0(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await ax(r,e,t,!0),s}async function r7(n,e){const t=T0(n);await ax(t,e,!0,!1)}async function ax(n,e,t,r){const s=await hd(n.localStore,Vs(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await $v(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&E0(n.remoteStore,s),c}async function $v(n,e,t,r,s){n.pu=(b,E,w)=>(async function(V,B,k,te){let $=B.view.ru(k);$.Ss&&($=await M1(V.localStore,B.query,!1).then((({documents:z})=>B.view.ru(z,$))));const J=te&&te.targetChanges.get(B.targetId),ge=te&&te.targetMismatches.get(B.targetId)!=null,ve=B.view.applyChanges($,V.isPrimaryClient,J,ge);return E_(V,B.targetId,ve.au),ve.snapshot})(n,b,E,w);const o=await M1(n.localStore,e,!0),u=new sx(e,o.ks),c=u.ru(o.documents),f=Lm.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),d=u.applyChanges(c,n.isPrimaryClient,f);E_(n,t,d.au);const g=new ZO(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function i7(n,e,t){const r=st(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((u=>!xm(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await fd(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&dd(r.remoteStore,s.targetId),pd(r,s.targetId)})).catch(kc)):(pd(r,s.targetId),await fd(r.localStore,s.targetId,!0))}async function s7(n,e){const t=st(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),dd(t.remoteStore,r.targetId))}async function a7(n,e,t){const r=Xv(n);try{const s=await(function(u,c){const f=st(u),d=Wn.now(),g=c.reduce(((w,j)=>w.add(j.key)),un());let b,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let j=ba(),V=un();return f.xs.getEntries(w,g).next((B=>{j=B,j.forEach(((k,te)=>{te.isValidDocument()||(V=V.add(k))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,j))).next((B=>{b=B;const k=[];for(const te of c){const $=RD(te,b.get(te.key).overlayedDocument);$!=null&&k.push(new Su(te.key,$,kI($.value.mapValue),Ur.exists(!0)))}return f.mutationQueue.addMutationBatch(w,d,k,c)})).next((B=>{E=B;const k=B.applyToLocalDocumentSet(b,V);return f.documentOverlayCache.saveOverlays(w,B.batchId,k)}))})).then((()=>({batchId:E.batchId,changes:$I(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,c,f){let d=u.du[u.currentUser.toKey()];d||(d=new vr($t)),d=d.insert(c,f),u.du[u.currentUser.toKey()]=d})(r,s.batchId,t),await Iu(r,s.changes),await Cd(r.remoteStore)}catch(s){const o=kd(s,"Failed to persist write");t.reject(o)}}async function ox(n,e){const t=st(n);try{const r=await EO(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=t.Au.get(o);u&&(bt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?bt(u.hu,14607):s.removedDocuments.size>0&&(bt(u.hu,42227),u.hu=!1))})),await Iu(t,r,e)}catch(r){await kc(r)}}function UE(n,e,t){const r=st(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,u)=>{const c=u.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(u,c){const f=st(u);f.onlineState=c;let d=!1;f.queries.forEach(((g,b)=>{for(const E of b.ba)E.va(c)&&(d=!0)})),d&&Hv(f)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function o7(n,e,t){const r=st(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let u=new vr(nt.comparator);u=u.insert(o,Sr.newNoDocument(o,Nt.min()));const c=un().add(o),f=new Cm(Nt.min(),new Map,new vr($t),u,c);await ox(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(e),Qv(r)}else await fd(r.localStore,e,!1).then((()=>pd(r,e,t))).catch(kc)}async function l7(n,e){const t=st(n),r=e.batch.batchId;try{const s=await AO(t.localStore,e);Yv(t,r,null),Wv(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Iu(t,s)}catch(s){await kc(s)}}async function u7(n,e,t){const r=st(n);try{const s=await(function(u,c){const f=st(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return f.mutationQueue.lookupMutationBatch(d,c).next((b=>(bt(b!==null,37113),g=b.keys(),f.mutationQueue.removeMutationBatch(d,b)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>f.localDocuments.getDocuments(d,g)))}))})(r.localStore,e);Yv(r,e,t),Wv(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Iu(r,s)}catch(s){await kc(s)}}async function c7(n,e){const t=st(n);Oc(t.remoteStore)||Qe(Mc,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(u){const c=st(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f)))})(t.localStore);if(r===vc)return void e.resolve();const s=t.mu.get(r)||[];s.push(e),t.mu.set(r,s)}catch(r){const s=kd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}function Wv(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Yv(n,e,t){const r=st(n);let s=r.du[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function pd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||lx(n,r)}))}function lx(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(dd(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Qv(n))}function E_(n,e,t){for(const r of t)r instanceof rx?(n.Vu.addReference(r.key,e),h7(n,r)):r instanceof ix?(Qe(Mc,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||lx(n,r.key)):ct(19791,{wu:r})}function h7(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(Qe(Mc,"New document in limbo: "+t),n.Eu.add(r),Qv(n))}function Qv(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new nt(_n.fromString(e)),r=n.fu.next();n.Au.set(r,new e7(t)),n.Ru=n.Ru.insert(t,r),E0(n.remoteStore,new fu(Vs(Id(t.path)),r,"TargetPurposeLimboResolution",_a.ce))}}async function Iu(n,e,t){const r=st(n),s=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{u.push(r.pu(f,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const g=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){s.push(d);const g=Dv.Es(f.targetId,d);o.push(g)}})))})),await Promise.all(u),r.Pu.J_(s),await(async function(f,d){const g=st(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Te.forEach(d,(E=>Te.forEach(E.Ts,(w=>g.persistence.referenceDelegate.addReference(b,E.targetId,w))).next((()=>Te.forEach(E.Is,(w=>g.persistence.referenceDelegate.removeReference(b,E.targetId,w)))))))))}catch(b){if(!Pc(b))throw b;Qe(Ov,"Failed to update sequence numbers: "+b)}for(const b of d){const E=b.targetId;if(!b.fromCache){const w=g.vs.get(E),j=w.snapshotVersion,V=w.withLastLimboFreeSnapshotVersion(j);g.vs=g.vs.insert(E,V)}}})(r.localStore,o))}async function f7(n,e){const t=st(n);if(!t.currentUser.isEqual(e)){Qe(Mc,"User change. New user:",e.toKey());const r=await j3(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((c=>{c.forEach((f=>{f.reject(new Ge(Ce.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Iu(t,r.Ns)}}function d7(n,e){const t=st(n),r=t.Au.get(e);if(r&&r.hu)return un().add(r.key);{let s=un();const o=t.Iu.get(e);if(!o)return s;for(const u of o){const c=t.Tu.get(u);s=s.unionWith(c.view.nu)}return s}}async function p7(n,e){const t=st(n),r=await M1(t.localStore,e.query,!0),s=e.view.cu(r);return t.isPrimaryClient&&E_(t,e.targetId,s.au),s}async function m7(n,e){const t=st(n);return q3(t.localStore,e).then((r=>Iu(t,r)))}async function g7(n,e,t,r){const s=st(n),o=await(function(c,f){const d=st(c),g=st(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",(b=>g.Xn(b,f).next((E=>E?d.localDocuments.getDocuments(b,E):Te.resolve(null)))))})(s.localStore,e);o!==null?(t==="pending"?await Cd(s.remoteStore):t==="acknowledged"||t==="rejected"?(Yv(s,e,r||null),Wv(s,e),(function(c,f){st(st(c).mutationQueue).nr(f)})(s.localStore,e)):ct(6720,"Unknown batchState",{bu:t}),await Iu(s,o)):Qe(Mc,"Cannot apply mutation batch with id: "+e)}async function y7(n,e){const t=st(n);if(T0(t),Xv(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),s=await FE(t,r.toArray());t.gu=!0,await w_(t.remoteStore,!0);for(const o of s)E0(t.remoteStore,o)}else if(e===!1&&t.gu!==!1){const r=[];let s=Promise.resolve();t.Iu.forEach(((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):s=s.then((()=>(pd(t,u),fd(t.localStore,u,!0)))),dd(t.remoteStore,u)})),await s,await FE(t,r),(function(u){const c=st(u);c.Au.forEach(((f,d)=>{dd(c.remoteStore,d)})),c.Vu.zr(),c.Au=new Map,c.Ru=new vr(nt.comparator)})(t),t.gu=!1,await w_(t.remoteStore,!1)}}async function FE(n,e,t){const r=st(n),s=[],o=[];for(const u of e){let c;const f=r.Iu.get(u);if(f&&f.length!==0){c=await hd(r.localStore,Vs(f[0]));for(const d of f){const g=r.Tu.get(d),b=await p7(r,g);b.snapshot&&o.push(b.snapshot)}}else{const d=await B3(r.localStore,u);c=await hd(r.localStore,d),await $v(r,ux(d),u,!1,c.resumeToken)}s.push(c)}return r.Pu.J_(o),s}function ux(n){return FI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function _7(n){return(function(t){return st(st(t).persistence).hs()})(st(n).localStore)}async function v7(n,e,t,r){const s=st(n);if(s.gu)return void Qe(Mc,"Ignoring unexpected query state notification.");const o=s.Iu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await q3(s.localStore,HI(o[0])),c=Cm.createSynthesizedRemoteEventForCurrentChange(e,t==="current",$r.EMPTY_BYTE_STRING);await Iu(s,u,c);break}case"rejected":await fd(s.localStore,e,!0),pd(s,e,r);break;default:ct(64155,t)}}async function b7(n,e,t){const r=T0(n);if(r.gu){for(const s of e){if(r.Iu.has(s)&&r.sharedClientState.isActiveQueryTarget(s)){Qe(Mc,"Adding an already active target "+s);continue}const o=await B3(r.localStore,s),u=await hd(r.localStore,o);await $v(r,ux(o),u.targetId,!1,u.resumeToken),E0(r.remoteStore,u)}for(const s of t)r.Iu.has(s)&&await fd(r.localStore,s,!1).then((()=>{dd(r.remoteStore,s),pd(r,s)})).catch(kc)}}function T0(n){const e=st(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ox.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o7.bind(null,e),e.Pu.J_=XO.bind(null,e.eventManager),e.Pu.yu=JO.bind(null,e.eventManager),e}function Xv(n){const e=st(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u7.bind(null,e),e}function w7(n,e,t){const r=st(n);(async function(o,u,c){try{const f=await u.getMetadata();if(await(function(w,j){const V=st(w),B=pi(j.createTime);return V.persistence.runTransaction("hasNewerBundle","readonly",(k=>V.Pi.getBundleMetadata(k,j.id))).then((k=>!!k&&k.createTime.compareTo(B)>=0))})(o.localStore,f))return await u.close(),c._completeWith((function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}})(f)),Promise.resolve(new Set);c._updateProgress(nx(f));const d=new Kv(f,u.serializer);let g=await u.Su();for(;g;){const E=await d.Ga(g);E&&c._updateProgress(E),g=await u.Su()}const b=await d.ja(o.localStore);return await Iu(o,b.Ja,void 0),await(function(w,j){const V=st(w);return V.persistence.runTransaction("Save bundle","readwrite",(B=>V.Pi.saveBundleMetadata(B,j)))})(o.localStore,f),c._completeWith(b.progress),Promise.resolve(b.Ha)}catch(f){return Ta(Mc,`Loading bundle failed with ${f}`),c._failWith(f),Promise.resolve(new Set)}})(r,e,t).then((s=>{r.sharedClientState.notifyBundleLoaded(s)}))}class md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return V3(this.persistence,new M3,e.initialUser,this.serializer)}Cu(e){return new Lv(A0.Vi,this.serializer)}Du(e){return new $3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}md.provider={build:()=>new md};class Jv extends md{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){bt(this.persistence.referenceDelegate instanceof O1,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new C3(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Os.withCacheSize(this.cacheSizeBytes):Os.DEFAULT;return new Lv((r=>O1.Vi(r,t)),this.serializer)}}class Zv extends md{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await Xv(this.xu.syncEngine),await Cd(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return V3(this.persistence,new M3,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new C3(r,e.asyncQueue,t)}Mu(e,t){const r=new NP(t,this.persistence);return new xP(e.asyncQueue,r)}Cu(e){const t=Pv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Os.withCacheSize(this.cacheSizeBytes):Os.DEFAULT;return new kv(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,W3(),c1(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new $3}}class cx extends Zv{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof _y&&(this.sharedClientState.syncEngine={So:g7.bind(null,t),Do:v7.bind(null,t),Co:b7.bind(null,t),hs:_7.bind(null,t),bo:m7.bind(null,t)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await y7(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=W3();if(!_y.v(t))throw new Ge(Ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Pv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _y(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class xc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>UE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f7.bind(null,this.syncEngine),await w_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new QO})()}createDatastore(e){const t=Oh(e.databaseInfo.databaseId),r=LO(e.databaseInfo);return MO(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,u,c){return new jO(r,s,o,u,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>UE(this.syncEngine,t,0)),(function(){return kE.v()?new kE:new xO})())}createSyncEngine(e,t){return(function(s,o,u,c,f,d,g){const b=new t7(s,o,u,c,f,d);return g&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=st(t);Qe(xh,"RemoteStore shutting down."),r.Ea.add(5),await Rd(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xc.provider={build:()=>new xc};function BE(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class S0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class A7{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new as,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.Ua()?this.metadata.resolve(r.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.Ku();if(e===null)return null;const t=this.Lu.decode(e),r=Number(t);isNaN(r)&&this.qu(`length string (${t}) is not valid number`);const s=await this.Uu(r);return new tx(JSON.parse(s),e.length+r)}$u(){return this.buffer.findIndex((e=>e===123))}async Ku(){for(;this.$u()<0&&!await this.Wu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Wu(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class E7{constructor(e,t){this.bundleData=e,this.serializer=t,this.cursor=0,this.elements=[];let r=this.Su();if(!r||!r.Ua())throw new Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(r?.qa)}`);this.metadata=r;do r=this.Su(),r!==null&&this.elements.push(r);while(r!==null)}getMetadata(){return this.metadata}Qu(){return this.elements}Su(){if(this.cursor===this.bundleData.length)return null;const e=this.Ku(),t=this.Uu(e);return new tx(JSON.parse(t),e)}Uu(e){if(this.cursor+e>this.bundleData.length)throw new Ge(Ce.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}Ku(){const e=this.cursor;let t=this.cursor;for(;t<this.bundleData.length;){if(this.bundleData[t]==="{"){if(t===e)throw new Error("First character is a bracket and not a number");return this.cursor=t,Number(this.bundleData.slice(e,t))}t++}throw new Error("Reached the end of bundle when more is expected.")}}let T7=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ge(Ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(s,o){const u=st(s),c={documents:o.map((b=>pm(u.serializer,b)))},f=await u.jo("BatchGetDocuments",u.serializer.databaseId,_n.emptyPath(),c,o.length),d=new Map;f.forEach((b=>{const E=UD(u.serializer,b);d.set(E.key.toString(),E)}));const g=[];return o.forEach((b=>{const E=d.get(b.toString());bt(!!E,55234,{key:b}),g.push(E)})),g})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Nd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const s=nt.fromPath(r);this.mutations.push(new Av(s,this.precondition(s)))})),await(async function(r,s){const o=st(r),u={writes:s.map((c=>mm(o.serializer,c)))};await o.Wo("Commit",o.serializer.databaseId,_n.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ct(50498,{Gu:e.constructor.name});t=Nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ge(Ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Nt.min())?Ur.exists(!1):Ur.updateTime(t):Ur.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nt.min()))throw new Ge(Ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ur.updateTime(t)}return Ur.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class S7{constructor(e,t,r,s,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=o,this.zu=r.maxAttempts,this.M_=new Vv(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new T7(this.datastore),t=this.Ju(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((s=>{this.Zu(s)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const t=this.updateFunction(e);return!Tm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!i3(t)}return!1}}const Nc="FirestoreClient";class I7{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=s,this.user=ns.UNAUTHENTICATED,this.clientId=a0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{Qe(Nc,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(Qe(Nc,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=kd(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function by(n,e){n.asyncQueue.verifyOperationInProgress(),Qe(Nc,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await j3(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function qE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await e5(n);Qe(Nc,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>DE(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>DE(e.remoteStore,s))),n._onlineComponents=e}async function e5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Qe(Nc,"Using user provided OfflineComponentProvider");try{await by(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Ce.FAILED_PRECONDITION||s.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Ta("Error using user provided cache. Falling back to memory cache: "+t),await by(n,new md)}}else Qe(Nc,"Using default OfflineComponentProvider"),await by(n,new Jv(void 0));return n._offlineComponents}async function I0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Qe(Nc,"Using user provided OnlineComponentProvider"),await qE(n,n._uninitializedComponentsProvider._online)):(Qe(Nc,"Using default OnlineComponentProvider"),await qE(n,new xc))),n._onlineComponents}function hx(n){return e5(n).then((e=>e.persistence))}function Pd(n){return e5(n).then((e=>e.localStore))}function fx(n){return I0(n).then((e=>e.remoteStore))}function t5(n){return I0(n).then((e=>e.syncEngine))}function dx(n){return I0(n).then((e=>e.datastore))}async function gd(n){const e=await I0(n),t=e.eventManager;return t.onListen=n7.bind(null,e.syncEngine),t.onUnlisten=i7.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=r7.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=s7.bind(null,e.syncEngine),t}function x7(n){return n.asyncQueue.enqueue((async()=>{const e=await hx(n),t=await fx(n);return e.setNetworkEnabled(!0),(function(s){const o=st(s);return o.Ea.delete(0),km(o)})(t)}))}function N7(n){return n.asyncQueue.enqueue((async()=>{const e=await hx(n),t=await fx(n);return e.setNetworkEnabled(!1),(async function(s){const o=st(s);o.Ea.add(0),await Rd(o),o.Va.set("Offline")})(t)}))}function R7(n,e,t,r){const s=new S0(r),o=new Gv(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>qv(await gd(n),o))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>zv(await gd(n),o)))}}function C7(n,e){const t=new as;return n.asyncQueue.enqueueAndForget((async()=>(async function(s,o,u){try{const c=await(function(d,g){const b=st(d);return b.persistence.runTransaction("read document","readonly",(E=>b.localDocuments.getDocument(E,g)))})(s,o);c.isFoundDocument()?u.resolve(c):c.isNoDocument()?u.resolve(null):u.reject(new Ge(Ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const f=kd(c,`Failed to get document '${o} from cache`);u.reject(f)}})(await Pd(n),e,t))),t.promise}function px(n,e,t={}){const r=new as;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const g=new S0({next:E=>{g.Nu(),u.enqueueAndForget((()=>zv(o,b)));const w=E.docs.has(c);!w&&E.fromCache?d.reject(new Ge(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&f&&f.source==="server"?d.reject(new Ge(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(E)},error:E=>d.reject(E)}),b=new Gv(Id(c.path),g,{includeMetadataChanges:!0,Ka:!0});return qv(o,b)})(await gd(n),n.asyncQueue,e,t,r))),r.promise}function L7(n,e){const t=new as;return n.asyncQueue.enqueueAndForget((async()=>(async function(s,o,u){try{const c=await M1(s,o,!0),f=new sx(o,c.ks),d=f.ru(c.documents),g=f.applyChanges(d,!1);u.resolve(g.snapshot)}catch(c){const f=kd(c,`Failed to execute query '${o} against cache`);u.reject(f)}})(await Pd(n),e,t))),t.promise}function mx(n,e,t={}){const r=new as;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const g=new S0({next:E=>{g.Nu(),u.enqueueAndForget((()=>zv(o,b))),E.fromCache&&f.source==="server"?d.reject(new Ge(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(E)},error:E=>d.reject(E)}),b=new Gv(c,g,{includeMetadataChanges:!0,Ka:!0});return qv(o,b)})(await gd(n),n.asyncQueue,e,t,r))),r.promise}function k7(n,e,t){const r=new as;return n.asyncQueue.enqueueAndForget((async()=>{try{const s=await dx(n);r.resolve((async function(u,c,f){const d=st(u),{request:g,gt:b,parent:E}=m3(d.serializer,BI(c),f);d.connection.Ko||delete g.parent;const w=(await d.jo("RunAggregationQuery",d.serializer.databaseId,E,g,1)).filter((V=>!!V.result));bt(w.length===1,64727);const j=w[0].result?.aggregateFields;return Object.keys(j).reduce(((V,B)=>(V[b[B]]=j[B],V)),{})})(s,e,t))}catch(s){r.reject(s)}})),r.promise}function P7(n,e){const t=new as;return n.asyncQueue.enqueueAndForget((async()=>a7(await t5(n),e,t))),t.promise}function D7(n,e){const t=new S0(e);return n.asyncQueue.enqueueAndForget((async()=>(function(s,o){st(s).Ca.add(o),o.next()})(await gd(n),t))),()=>{t.Nu(),n.asyncQueue.enqueueAndForget((async()=>(function(s,o){st(s).Ca.delete(o)})(await gd(n),t)))}}function O7(n,e,t){const r=new as;return n.asyncQueue.enqueueAndForget((async()=>{const s=await dx(n);new S7(n.asyncQueue,s,t,e,r).ju()})),r.promise}function M7(n,e,t,r){const s=(function(u,c){let f;return f=typeof u=="string"?a3().encode(u):u,(function(g,b){return new A7(g,b)})((function(g,b){if(g instanceof Uint8Array)return BE(g,b);if(g instanceof ArrayBuffer)return BE(new Uint8Array(g),b);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(f),c)})(t,Oh(e));n.asyncQueue.enqueueAndForget((async()=>{w7(await t5(n),s,r)}))}function V7(n,e){return n.asyncQueue.enqueue((async()=>(function(r,s){const o=st(r);return o.persistence.runTransaction("Get named query","readonly",(u=>o.Pi.getNamedQuery(u,s)))})(await Pd(n),e)))}function gx(n,e){return(function(r,s){return new E7(r,s)})(n,e)}function j7(n,e){return n.asyncQueue.enqueue((async()=>(async function(r,s){const o=st(r),u=o.indexManager,c=[];return o.persistence.runTransaction("Configure indexes","readwrite",(f=>u.getFieldIndexes(f).next((d=>(function(b,E,w,j,V){b=[...b],E=[...E],b.sort(w),E.sort(w);const B=b.length,k=E.length;let te=0,$=0;for(;te<k&&$<B;){const J=w(b[$],E[te]);J<0?V(b[$++]):J>0?j(E[te++]):(te++,$++)}for(;te<k;)j(E[te++]);for(;$<B;)V(b[$++])})(d,s,EP,(g=>{c.push(u.addFieldIndex(f,g))}),(g=>{c.push(u.deleteFieldIndex(f,g))})))).next((()=>Te.waitFor(c)))))})(await Pd(n),e)))}function U7(n,e){return n.asyncQueue.enqueue((async()=>(function(r,s){st(r).Cs.As=s})(await Pd(n),e)))}function F7(n){return n.asyncQueue.enqueue((async()=>(function(t){const r=st(t),s=r.indexManager;return r.persistence.runTransaction("Delete All Indexes","readwrite",(o=>s.deleteAllFieldIndexes(o)))})(await Pd(n))))}function yx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const B7="ComponentProvider",zE=new Map;function q7(n,e,t,r,s){return new rD(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,yx(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const _x="firestore.googleapis.com",HE=!0;class GE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ge(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_x,this.ssl=HE}else this.host=e.host,this.ssl=e.ssl??HE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=S3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<R3)throw new Ge(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yx(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ge(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ge(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ge(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pm{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ge(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ge(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tI;switch(r.type){case"firstParty":return new gP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ge(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=zE.get(t);r&&(Qe(B7,"Removing Datastore"),zE.delete(t),r.terminate())})(this),Promise.resolve()}}function vx(n,e,t,r={}){n=vn(n,Pm);const s=Cc(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;s&&(Y1(`https://${c}`),j_("Firestore",!0)),o.host!==_x&&o.host!==c&&Ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:c,ssl:s,emulatorOptions:r};if(!Fo(f,u)&&(n._setSettings(f),r.mockUserToken)){let d,g;if(typeof r.mockUserToken=="string")d=r.mockUserToken,g=ns.MOCK_USER;else{d=RS(r.mockUserToken,n._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Ge(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ns(b)}n._authCredentials=new dP(new eI(d,g))}}class Fi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fi(this.firestore,e,this._query)}}class nr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nr(this.firestore,e,this._key)}toJSON(){return{type:nr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Dh(t,nr._jsonSchema))return new nr(e,r||null,new nt(_n.fromString(t.referencePath)))}}nr._jsonSchemaVersion="firestore/documentReference/1.0",nr._jsonSchema={type:Si("string",nr._jsonSchemaVersion),referencePath:Si("string")};class jo extends Fi{constructor(e,t,r){super(e,t,Id(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nr(this.firestore,null,new nt(e))}withConverter(e){return new jo(this.firestore,e,this._path)}}function Dd(n,e,...t){if(n=St(n),uv("collection","path",e),n instanceof Pm){const r=_n.fromString(e,...t);return PA(r),new jo(n,null,r)}{if(!(n instanceof nr||n instanceof jo))throw new Ge(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_n.fromString(e,...t));return PA(r),new jo(n.firestore,null,r)}}function z7(n,e){if(n=vn(n,Pm),uv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Fi(n,null,(function(r){return new Eu(_n.emptyPath(),r)})(e))}function Sl(n,e,...t){if(n=St(n),arguments.length===1&&(e=a0.newId()),uv("doc","path",e),n instanceof Pm){const r=_n.fromString(e,...t);return kA(r),new nr(n,null,new nt(r))}{if(!(n instanceof nr||n instanceof jo))throw new Ge(Ce.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_n.fromString(e,...t));return kA(r),new nr(n.firestore,n instanceof jo?n.converter:null,new nt(r))}}function H7(n,e){return n=St(n),e=St(e),(n instanceof nr||n instanceof jo)&&(e instanceof nr||e instanceof jo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function n5(n,e){return n=St(n),e=St(e),n instanceof Fi&&e instanceof Fi&&n.firestore===e.firestore&&xm(n._query,e._query)&&n.converter===e.converter}const KE="AsyncQueue";class $E{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Vv(this,"async_queue_retry"),this._c=()=>{const r=c1();r&&Qe(KE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=c1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=c1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new as;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Pc(e))throw e;Qe(KE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,di("INTERNAL UNHANDLED ERROR: ",WE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Bv.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&ct(47125,{Pc:WE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function WE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class bx{constructor(){this._progressObserver={},this._taskCompletionResolver=new as,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const G7=-1;class fr extends Pm{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new $E,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $E(e),this._firestoreClient=void 0,await e}}}function K7(n,e,t){t||(t=cm);const r=bd(n,"firestore");if(r.isInitialized(t)){const s=r.getImmediate({identifier:t}),o=r.getOptions(t);if(Fo(o,e))return s;throw new Ge(Ce.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Ge(Ce.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<R3)throw new Ge(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Cc(e.host)&&Y1(e.host),r.initialize({options:e,instanceIdentifier:t})}function x0(n,e){const t=typeof n=="object"?n:B_(),r=typeof n=="string"?n:e||cm,s=bd(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=IS("firestore");o&&vx(s,...o)}return s}function Fr(n){if(n._terminated)throw new Ge(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||wx(n),n._firestoreClient}function wx(n){const e=n._freezeSettings(),t=q7(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new I7(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}function $7(n,e){Ta("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return Ax(n,xc.provider,{build:r=>new Zv(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function W7(n){Ta("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();Ax(n,xc.provider,{build:t=>new cx(t,e.cacheSizeBytes)})}function Ax(n,e,t){if((n=vn(n,fr))._firestoreClient||n._terminated)throw new Ge(Ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new Ge(Ce.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},wx(n)}function Y7(n){if(n._initialized&&!n._terminated)throw new Ge(Ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new as;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!wl.v())return Promise.resolve();const s=r+O3;await wl.delete(s)})(Pv(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function Q7(n){return(function(t){const r=new as;return t.asyncQueue.enqueueAndForget((async()=>c7(await t5(t),r))),r.promise})(Fr(n=vn(n,fr)))}function X7(n){return x7(Fr(n=vn(n,fr)))}function J7(n){return N7(Fr(n=vn(n,fr)))}function Z7(n){return TC(n.app,"firestore",n._databaseId.database),n._delete()}function T_(n,e){const t=Fr(n=vn(n,fr)),r=new bx;return M7(t,n._databaseId,e,r),r}function Ex(n,e){return V7(Fr(n=vn(n,fr)),e).then((t=>t?new Fi(n,null,t.query):null))}class ya{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ya($r.fromBase64String(e))}catch(t){throw new Ge(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ya($r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ya._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dh(e,ya._jsonSchema))return ya.fromBase64String(e.bytes)}}ya._jsonSchemaVersion="firestore/bytes/1.0",ya._jsonSchema={type:Si("string",ya._jsonSchemaVersion),bytes:Si("string")};class Mh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ge(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function eM(){return new Mh(Zy)}class Vc{constructor(e){this._methodName=e}}class Uo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ge(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ge(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Uo._jsonSchemaVersion}}static fromJSON(e){if(Dh(e,Uo._jsonSchema))return new Uo(e.latitude,e.longitude)}}Uo._jsonSchemaVersion="firestore/geoPoint/1.0",Uo._jsonSchema={type:Si("string",Uo._jsonSchemaVersion),latitude:Si("number"),longitude:Si("number")};class za{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:za._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dh(e,za._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new za(e.vectorValues);throw new Ge(Ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}za._jsonSchemaVersion="firestore/vectorValue/1.0",za._jsonSchema={type:Si("string",za._jsonSchemaVersion),vectorValues:Si("object")};const tM=/^__.*__$/;class nM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Su(e,this.data,this.fieldMask,t,this.fieldTransforms):new xd(e,this.data,t,this.fieldTransforms)}}class Tx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Su(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Sx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct(40011,{dataSource:n})}}class N0{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new N0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return F1(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Sx(this.dataSource)&&tM.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class rM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Oh(e)}createContext(e,t,r,s=!1){return new N0({dataSource:e,methodName:t,targetDoc:r,path:Ir.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vh(n){const e=n._freezeSettings(),t=Oh(n._databaseId);return new rM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function R0(n,e,t,r,s,o={}){const u=n.createContext(o.merge||o.mergeFields?2:0,e,t,s);u5("Data must be an object, but it was:",u,r);const c=Nx(r,u);let f,d;if(o.merge)f=new va(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const b of o.mergeFields){const E=bu(e,b,t);if(!u.contains(E))throw new Ge(Ce.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Cx(g,E)||g.push(E)}f=new va(g),d=u.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,d=u.fieldTransforms;return new nM(new is(c),f,d)}class Dm extends Vc{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dm}}function Ix(n,e,t){return new N0({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class r5 extends Vc{_toFieldTransform(e){return new Rm(e.path,new ld)}isEqual(e){return e instanceof r5}}class i5 extends Vc{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=Ix(this,e,!0),r=this.Ac.map((o=>jh(o,t))),s=new Ah(r);return new Rm(e.path,s)}isEqual(e){return e instanceof i5&&Fo(this.Ac,e.Ac)}}class s5 extends Vc{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=Ix(this,e,!0),r=this.Ac.map((o=>jh(o,t))),s=new Eh(r);return new Rm(e.path,s)}isEqual(e){return e instanceof s5&&Fo(this.Ac,e.Ac)}}class a5 extends Vc{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new ud(e.serializer,QI(e.serializer,this.Vc));return new Rm(e.path,t)}isEqual(e){return e instanceof a5&&this.Vc===e.Vc}}function o5(n,e,t,r){const s=n.createContext(1,e,t);u5("Data must be an object, but it was:",s,r);const o=[],u=is.empty();Dc(r,((f,d)=>{const g=c5(e,f,t);d=St(d);const b=s.childContextForFieldPath(g);if(d instanceof Dm)o.push(g);else{const E=jh(d,b);E!=null&&(o.push(g),u.set(g,E))}}));const c=new va(o);return new Tx(u,c,s.fieldTransforms)}function l5(n,e,t,r,s,o){const u=n.createContext(1,e,t),c=[bu(e,r,t)],f=[s];if(o.length%2!=0)throw new Ge(Ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)c.push(bu(e,o[E])),f.push(o[E+1]);const d=[],g=is.empty();for(let E=c.length-1;E>=0;--E)if(!Cx(d,c[E])){const w=c[E];let j=f[E];j=St(j);const V=u.childContextForFieldPath(w);if(j instanceof Dm)d.push(w);else{const B=jh(j,V);B!=null&&(d.push(w),g.set(w,B))}}const b=new va(d);return new Tx(g,b,u.fieldTransforms)}function xx(n,e,t,r=!1){return jh(t,n.createContext(r?4:3,e))}function jh(n,e){if(Rx(n=St(n)))return u5("Unsupported field value:",e,n),Nx(n,e);if(n instanceof Vc)return(function(r,s){if(!Sx(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const o=[];let u=0;for(const c of r){let f=jh(c,s.childContextForArray(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QI(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Wn.fromDate(r);return{timestampValue:cd(s.serializer,o)}}if(r instanceof Wn){const o=new Wn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cd(s.serializer,o)}}if(r instanceof Uo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ya)return{bytesValue:u3(s.serializer,r._byteString)};if(r instanceof nr){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof za)return(function(u,c){const f=u instanceof za?u.toArray():u;return{mapValue:{fields:{[gv]:{stringValue:yv},[sd]:{arrayValue:{values:f.map((g=>{if(typeof g!="number")throw c.createError("VectorValues must only contain numeric values.");return wv(c.serializer,g)}))}}}}}})(r,s);if(b3(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${o0(r)}`)})(n,e)}function Nx(n,e){const t={};return EI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dc(n,((r,s)=>{const o=jh(s,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function Rx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Wn||n instanceof Uo||n instanceof ya||n instanceof nr||n instanceof Vc||n instanceof za||b3(n))}function u5(n,e,t){if(!Rx(t)||!iI(t)){const r=o0(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function bu(n,e,t){if((e=St(e))instanceof Mh)return e._internalPath;if(typeof e=="string")return c5(n,e);throw F1("Field path arguments must be of type string or ",n,!1,void 0,t)}const iM=new RegExp("[~\\*/\\[\\]]");function c5(n,e,t){if(e.search(iM)>=0)throw F1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Mh(...e.split("."))._internalPath}catch{throw F1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function F1(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new Ge(Ce.INVALID_ARGUMENT,c+n+f)}function Cx(n,e){return n.some((t=>t.isEqual(e)))}class h5{convertValue(e,t="none"){switch(Ec(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ct(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Dc(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[sd].arrayValue?.values?.map((r=>Vr(r.doubleValue)));return new za(t)}convertGeoPoint(e){return new Uo(Vr(e.latitude),Vr(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=d0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(um(e));default:return null}}convertTimestamp(e){const t=_u(e);return new Wn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=_n.fromString(e);bt(v3(r),9688,{name:e});const s=new Ac(r.get(1),r.get(3)),o=new nt(r.popFirst(5));return s.isEqual(t)||di(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class jc extends h5{constructor(e){super(),this.firestore=e}convertBytes(e){return new ya(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}}function sM(){return new Dm("deleteField")}function aM(){return new r5("serverTimestamp")}function oM(...n){return new i5("arrayUnion",n)}function lM(...n){return new s5("arrayRemove",n)}function uM(n){return new a5("increment",n)}function cM(n){return new za(n)}function hM(n){const e=Fr(vn(n.firestore,fr)),t=e._onlineComponents?.datastore.serializer;return t===void 0?null:_0(t,Vs(n._query)).ft}function fM(n,e){const t=AI(e,((o,u)=>new r3(u,o.aggregateType,o._internalFieldPath))),r=Fr(vn(n.firestore,fr)),s=r._onlineComponents?.datastore.serializer;return s===void 0?null:m3(s,BI(n._query),t,!0).request}const YE="@firebase/firestore",QE="4.11.0";function Gf(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class yd{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class Lx{constructor(e,t,r){this._userDataWriter=t,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new is({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class gm{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new nr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(bu("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dM extends gm{data(){return super.data()}}function kx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ge(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class f5{}class Od extends f5{}function d5(n,e,...t){let r=[];e instanceof f5&&r.push(e),r=r.concat(t),(function(o){const u=o.filter((f=>f instanceof Uh)).length,c=o.filter((f=>f instanceof Md)).length;if(u>1||u>0&&c>0)throw new Ge(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class Md extends Od{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Md(e,t,r)}_apply(e){const t=this._parse(e);return Dx(e._query,t),new Fi(e.firestore,e.converter,c_(e._query,t))}_parse(e){const t=Vh(e.firestore);return(function(o,u,c,f,d,g,b){let E;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Ge(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){JE(b,g);const j=[];for(const V of b)j.push(XE(f,o,V));E={arrayValue:{values:j}}}else E=XE(f,o,b)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||JE(b,g),E=xx(c,u,b,g==="in"||g==="not-in");return xn.create(d,g,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function pM(n,e,t){const r=e,s=bu("where",n);return Md._create(s,r,t)}class Uh extends f5{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Uh(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:tr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let u=s;const c=o.getFlattenedFilters();for(const f of c)Dx(u,f),u=c_(u,f)})(e._query,t),new Fi(e.firestore,e.converter,c_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mM(...n){return n.forEach((e=>Ox("or",e))),Uh._create("or",n)}function gM(...n){return n.forEach((e=>Ox("and",e))),Uh._create("and",n)}class C0 extends Od{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new C0(e,t)}_apply(e){const t=(function(s,o,u){if(s.startAt!==null)throw new Ge(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Ge(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dm(o,u)})(e._query,this._field,this._direction);return new Fi(e.firestore,e.converter,gD(e._query,t))}}function p5(n,e="asc"){const t=e,r=bu("orderBy",n);return C0._create(r,t)}class Om extends Od{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Om(e,t,r)}_apply(e){return new Fi(e.firestore,e.converter,L1(e._query,this._limit,this._limitType))}}function yM(n){return sI("limit",n),Om._create("limit",n,"F")}function _M(n){return sI("limitToLast",n),Om._create("limitToLast",n,"L")}class Mm extends Od{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Mm(e,t,r)}_apply(e){const t=Px(e,this.type,this._docOrFields,this._inclusive);return new Fi(e.firestore,e.converter,yD(e._query,t))}}function vM(...n){return Mm._create("startAt",n,!0)}function bM(...n){return Mm._create("startAfter",n,!1)}class Vm extends Od{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Vm(e,t,r)}_apply(e){const t=Px(e,this.type,this._docOrFields,this._inclusive);return new Fi(e.firestore,e.converter,_D(e._query,t))}}function wM(...n){return Vm._create("endBefore",n,!1)}function AM(...n){return Vm._create("endAt",n,!0)}function Px(n,e,t,r){if(t[0]=St(t[0]),t[0]instanceof gm)return(function(o,u,c,f,d){if(!f)throw new Ge(Ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const g=[];for(const b of zf(o))if(b.field.isKeyField())g.push(bh(u,f.key));else{const E=f.data.field(b.field);if(f0(E))throw new Ge(Ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const w=b.field.canonicalString();throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}g.push(E)}return new Sc(g,d)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Vh(n.firestore);return(function(u,c,f,d,g,b){const E=u.explicitOrderBy;if(g.length>E.length)throw new Ge(Ce.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let j=0;j<g.length;j++){const V=g[j];if(E[j].field.isKeyField()){if(typeof V!="string")throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof V}`);if(!vv(u)&&V.indexOf("/")!==-1)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${V}' contains a slash.`);const B=u.path.child(_n.fromString(V));if(!nt.isDocumentKey(B))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${B}' is not because it contains an odd number of segments.`);const k=new nt(B);w.push(bh(c,k))}else{const B=xx(f,d,V);w.push(B)}}return new Sc(w,b)})(n._query,n.firestore._databaseId,s,e,t,r)}}function XE(n,e,t){if(typeof(t=St(t))=="string"){if(t==="")throw new Ge(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vv(e)&&t.indexOf("/")!==-1)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(_n.fromString(t));if(!nt.isDocumentKey(r))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bh(n,new nt(r))}if(t instanceof nr)return bh(n,t._key);throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${o0(t)}.`)}function JE(n,e){if(!Array.isArray(n)||n.length===0)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Dx(n,e){const t=(function(s,o){for(const u of s)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ge(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ge(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Ox(n,e){if(!(e instanceof Md||e instanceof Uh))throw new Ge(Ce.INVALID_ARGUMENT,`Function ${n}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}function L0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class m5 extends h5{constructor(e){super(),this.firestore=e}convertBytes(e){return new ya(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}}function EM(n){return new yd("sum",bu("sum",n))}function TM(n){return new yd("avg",bu("average",n))}function Mx(){return new yd("count")}function SM(n,e){return n instanceof yd&&e instanceof yd&&n.aggregateType===e.aggregateType&&n._internalFieldPath?.canonicalString()===e._internalFieldPath?.canonicalString()}function IM(n,e){return n5(n.query,e.query)&&Fo(n.data(),e.data())}function xM(n){return Vx(n,{count:Mx()})}function Vx(n,e){const t=vn(n.firestore,fr),r=Fr(t),s=AI(e,((o,u)=>new r3(u,o.aggregateType,o._internalFieldPath)));return k7(r,n._query,s).then((o=>(function(c,f,d){const g=new jc(c);return new Lx(f,g,d)})(t,n,o)))}class NM{constructor(e){this.kind="memory",this._onlineComponentProvider=xc.provider,this._offlineComponentProvider=e?.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new Jv(void 0)}}toJSON(){return{kind:this.kind}}}class RM{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=jx(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class CM{constructor(){this.kind="memoryEager",this._offlineComponentProvider=md.provider}toJSON(){return{kind:this.kind}}}class LM{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new Jv(e)}}toJSON(){return{kind:this.kind}}}function kM(){return new CM}function PM(n){return new LM(n?.cacheSizeBytes)}function DM(n){return new NM(n)}function OM(n){return new RM(n)}class MM{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=xc.provider,this._offlineComponentProvider={build:t=>new Zv(t,e?.cacheSizeBytes,this.forceOwnership)}}}class VM{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=xc.provider,this._offlineComponentProvider={build:t=>new cx(t,e?.cacheSizeBytes)}}}function jx(n){return new MM(n?.forceOwnership)}function jM(){return new VM}const Ux="NOT SUPPORTED";class du{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wa extends gm{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(bu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(Ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=wa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}function UM(n,e,t){if(Dh(e,wa._jsonSchema)){if(e.bundle===Ux)throw new Ge(Ce.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=Oh(n._databaseId),s=gx(e.bundle,r),o=s.t(),u=new Kv(s.getMetadata(),r);for(const g of o)u.o(g);const c=u.documents;if(c.length!==1)throw new Ge(Ce.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${c.length} documents.`);const f=y0(r,c[0].document),d=new nt(_n.fromString(e.bundleName));return new wa(n,new m5(n),d,f,new du(!1,!1),t||null)}}wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",wa._jsonSchema={type:Si("string",wa._jsonSchemaVersion),bundleSource:Si("string","DocumentSnapshot"),bundleName:Si("string"),bundle:Si("string")};class Xp extends wa{data(e={}){return super.data(e)}}class Aa{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new du(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Xp(this._firestore,this._userDataWriter,r.key,r,new du(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ge(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((c=>{const f=new Xp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new du(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const f=new Xp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new du(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,g=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),g=u.indexOf(c.doc.key)),{type:BM(c.type),doc:f,oldIndex:d,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(Ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Aa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=a0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FM(n,e,t){if(Dh(e,Aa._jsonSchema)){if(e.bundle===Ux)throw new Ge(Ce.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=Oh(n._databaseId),s=gx(e.bundle,r),o=s.t(),u=new Kv(s.getMetadata(),r);for(const E of o)u.o(E);if(u.queries.length!==1)throw new Ge(Ce.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${u.queries.length} queries.`);const c=v0(u.queries[0].bundledQuery),f=u.documents;let d=new yh;f.map((E=>{const w=y0(r,E.document);d=d.add(w)}));const g=Nh.fromInitialDocuments(c,d,un(),!1,!1),b=new Fi(n,t||null,c);return new Aa(n,new m5(n),b,g)}}function BM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct(61501,{type:n})}}function qM(n,e){return n instanceof wa&&e instanceof wa?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Aa&&e instanceof Aa&&n._firestore===e._firestore&&n5(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}Aa._jsonSchemaVersion="firestore/querySnapshot/1.0",Aa._jsonSchema={type:Si("string",Aa._jsonSchemaVersion),bundleSource:Si("string","QuerySnapshot"),bundleName:Si("string"),bundle:Si("string")};const zM={maxAttempts:5};class Fx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Vh(e)}set(e,t,r){this._verifyNotCommitted();const s=hc(e,this._firestore),o=L0(s.converter,t,r),u=R0(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,Ur.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const o=hc(e,this._firestore);let u;return u=typeof(t=St(t))=="string"||t instanceof Mh?l5(this._dataReader,"WriteBatch.update",o._key,t,r,s):o5(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,Ur.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=hc(e,this._firestore);return this._mutations=this._mutations.concat(new Nd(t._key,Ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ge(Ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hc(n,e){if((n=St(n)).firestore!==e)throw new Ge(Ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class HM{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Vh(e)}get(e){const t=hc(e,this._firestore),r=new m5(this._firestore);return this._transaction.lookup([t._key]).then((s=>{if(!s||s.length!==1)return ct(24041);const o=s[0];if(o.isFoundDocument())return new gm(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new gm(this._firestore,r,t._key,null,t.converter);throw ct(18433,{doc:o})}))}set(e,t,r){const s=hc(e,this._firestore),o=L0(s.converter,t,r),u=R0(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,u),this}update(e,t,r,...s){const o=hc(e,this._firestore);let u;return u=typeof(t=St(t))=="string"||t instanceof Mh?l5(this._dataReader,"Transaction.update",o._key,t,r,s):o5(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=hc(e,this._firestore);return this._transaction.delete(t._key),this}}class Bx extends HM{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=hc(e,this._firestore),r=new jc(this._firestore);return super.get(e).then((s=>new wa(this._firestore,r,t._key,s._document,new du(!1,!1),t.converter)))}}function GM(n,e,t){n=vn(n,fr);const r={...zM,...t};(function(u){if(u.maxAttempts<1)throw new Ge(Ce.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const s=Fr(n);return O7(s,(o=>e(new Bx(n,o))),r)}function g5(n){n=vn(n,nr);const e=vn(n.firestore,fr),t=Fr(e);return px(t,n._key).then((r=>v5(e,n,r)))}function KM(n){n=vn(n,nr);const e=vn(n.firestore,fr),t=Fr(e),r=new jc(e);return C7(t,n._key).then((s=>new wa(e,r,n._key,s,new du(s!==null&&s.hasLocalMutations,!0),n.converter)))}function $M(n){n=vn(n,nr);const e=vn(n.firestore,fr),t=Fr(e);return px(t,n._key,{source:"server"}).then((r=>v5(e,n,r)))}function k0(n){n=vn(n,Fi);const e=vn(n.firestore,fr),t=Fr(e),r=new jc(e);return kx(n._query),mx(t,n._query).then((s=>new Aa(e,r,n,s)))}function WM(n){n=vn(n,Fi);const e=vn(n.firestore,fr),t=Fr(e),r=new jc(e);return L7(t,n._query).then((s=>new Aa(e,r,n,s)))}function YM(n){n=vn(n,Fi);const e=vn(n.firestore,fr),t=Fr(e),r=new jc(e);return mx(t,n._query,{source:"server"}).then((s=>new Aa(e,r,n,s)))}function y5(n,e,t){n=vn(n,nr);const r=vn(n.firestore,fr),s=L0(n.converter,e,t),o=Vh(r);return Vd(r,[R0(o,"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Ur.none())])}function P0(n,e,t,...r){n=vn(n,nr);const s=vn(n.firestore,fr),o=Vh(s);let u;return u=typeof(e=St(e))=="string"||e instanceof Mh?l5(o,"updateDoc",n._key,e,t,r):o5(o,"updateDoc",n._key,e),Vd(s,[u.toMutation(n._key,Ur.exists(!0))])}function qx(n){return Vd(vn(n.firestore,fr),[new Nd(n._key,Ur.none())])}function _5(n,e){const t=vn(n.firestore,fr),r=Sl(n),s=L0(n.converter,e),o=Vh(n.firestore);return Vd(t,[R0(o,"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Ur.exists(!1))]).then((()=>r))}function S_(n,...e){n=St(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Gf(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Gf(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,u,c;if(n instanceof nr)u=vn(n.firestore,fr),c=Id(n._key.path),o={next:d=>{e[r]&&e[r](v5(u,n,d))},error:e[r+1],complete:e[r+2]};else{const d=vn(n,Fi);u=vn(d.firestore,fr),c=d._query;const g=new jc(u);o={next:b=>{e[r]&&e[r](new Aa(u,g,d,b))},error:e[r+1],complete:e[r+2]},kx(n._query)}const f=Fr(u);return R7(f,c,s,o)}function QM(n,e,...t){const r=St(n),s=(function(f){const d={bundle:"",bundleName:"",bundleSource:""},g=["bundle","bundleName","bundleSource"];for(const b of g){if(!(b in f)){d.error=`snapshotJson missing required field: ${b}`;break}const E=f[b];if(typeof E!="string"){d.error=`snapshotJson field '${b}' must be a string.`;break}if(E.length===0){d.error=`snapshotJson field '${b}' cannot be an empty string.`;break}b==="bundle"?d.bundle=E:b==="bundleName"?d.bundleName=E:b==="bundleSource"&&(d.bundleSource=E)}return d})(e);if(s.error)throw new Ge(Ce.INVALID_ARGUMENT,s.error);let o,u=0;if(typeof t[u]!="object"||Gf(t[u])||(o=t[u++]),s.bundleSource==="QuerySnapshot"){let c=null;if(typeof t[u]=="object"&&Gf(t[u])){const f=t[u++];c={next:f.next,error:f.error,complete:f.complete}}else c={next:t[u++],error:t[u++],complete:t[u++]};return(function(d,g,b,E,w){let j,V=!1;return T_(d,g.bundle).then((()=>Ex(d,g.bundleName))).then((k=>{k&&!V&&(w&&k.withConverter(w),j=S_(k,b||{},E))})).catch((k=>(E.error&&E.error(k),()=>{}))),()=>{V||(V=!0,j&&j())}})(r,s,o,c,t[u])}if(s.bundleSource==="DocumentSnapshot"){let c=null;if(typeof t[u]=="object"&&Gf(t[u])){const f=t[u++];c={next:f.next,error:f.error,complete:f.complete}}else c={next:t[u++],error:t[u++],complete:t[u++]};return(function(d,g,b,E,w){let j,V=!1;return T_(d,g.bundle).then((()=>{if(!V){const k=new nr(d,w||null,nt.fromPath(g.bundleName));j=S_(k,b||{},E)}})).catch((k=>(E.error&&E.error(k),()=>{}))),()=>{V||(V=!0,j&&j())}})(r,s,o,c,t[u])}throw new Ge(Ce.INVALID_ARGUMENT,`unsupported bundle source: ${s.bundleSource}`)}function XM(n,e){n=vn(n,fr);const t=Fr(n),r=Gf(e)?e:{next:e};return D7(t,r)}function Vd(n,e){const t=Fr(n);return P7(t,e)}function v5(n,e,t){const r=t.docs.get(e._key),s=new jc(n);return new wa(n,s,e._key,r,new du(t.hasPendingWrites,t.fromCache),e.converter)}function JM(n){return n=vn(n,fr),Fr(n),new Fx(n,(e=>Vd(n,e)))}function ZM(n,e){n=vn(n,fr);const t=Fr(n);if(!t._uninitializedComponentsProvider||t._uninitializedComponentsProvider._offline.kind==="memory")return Ta("Cannot enable indexes when persistence is disabled"),Promise.resolve();const r=(function(o){const u=typeof o=="string"?(function(d){try{return JSON.parse(d)}catch(g){throw new Ge(Ce.INVALID_ARGUMENT,"Failed to parse JSON: "+g?.message)}})(o):o,c=[];if(Array.isArray(u.indexes))for(const f of u.indexes){const d=ZE(f,"collectionGroup"),g=[];if(Array.isArray(f.fields))for(const b of f.fields){const E=ZE(b,"fieldPath"),w=c5("setIndexConfiguration",E);b.arrayConfig==="CONTAINS"?g.push(new mh(w,2)):b.order==="ASCENDING"?g.push(new mh(w,0)):b.order==="DESCENDING"&&g.push(new mh(w,1))}c.push(new Zf(Zf.UNKNOWN_ID,d,g,ed.empty()))}return c})(e);return j7(t,r)}function ZE(n,e){if(typeof n[e]!="string")throw new Ge(Ce.INVALID_ARGUMENT,"Missing string value for: "+e);return n[e]}class zx{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function e9(n){n=vn(n,fr);const e=eT.get(n);if(e)return e;if(Fr(n)._uninitializedComponentsProvider?._offline.kind!=="persistent")return null;const r=new zx(n);return eT.set(n,r),r}function t9(n){Hx(n,!0)}function n9(n){Hx(n,!1)}function r9(n){const e=Fr(n._firestore);F7(e).then((t=>Qe("deleting all persistent cache indexes succeeded"))).catch((t=>Ta("deleting all persistent cache indexes failed",t)))}function Hx(n,e){const t=Fr(n._firestore);U7(t,e).then((r=>Qe(`setting persistent cache index auto creation isEnabled=${e} succeeded`))).catch((r=>Ta(`setting persistent cache index auto creation isEnabled=${e} failed`,r)))}const eT=new WeakMap;class i9{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return b5.instance.onExistenceFilterMismatch(e)}}class b5{constructor(){this.i=new Map}static get instance(){return Bg||(Bg=new b5,LD(Bg)),Bg}u(e){this.i.forEach((t=>t(e)))}onExistenceFilterMismatch(e){const t=Symbol(),r=this.i;return r.set(t,e),()=>r.delete(t)}}let Bg=null;(function(e,t=!0){cP(kh),vh(new bc("firestore",((r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new fr(new pP(r.getProvider("auth-internal")),new yP(u,r.getProvider("app-check-internal")),iD(u,s),u);return o={useFetchStreams:t,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),bl(YE,QE,e),bl(YE,QE,"esm2020")})();const B1=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:h5,AggregateField:yd,AggregateQuerySnapshot:Lx,Bytes:ya,CACHE_SIZE_UNLIMITED:G7,CollectionReference:jo,DocumentReference:nr,DocumentSnapshot:wa,FieldPath:Mh,FieldValue:Vc,Firestore:fr,FirestoreError:Ge,GeoPoint:Uo,LoadBundleTask:bx,PersistentCacheIndexManager:zx,Query:Fi,QueryCompositeFilterConstraint:Uh,QueryConstraint:Od,QueryDocumentSnapshot:Xp,QueryEndAtConstraint:Vm,QueryFieldFilterConstraint:Md,QueryLimitConstraint:Om,QueryOrderByConstraint:C0,QuerySnapshot:Aa,QueryStartAtConstraint:Mm,SnapshotMetadata:du,Timestamp:Wn,Transaction:Bx,VectorValue:za,WriteBatch:Fx,_AutoId:a0,_ByteString:$r,_DatabaseId:Ac,_DocumentKey:nt,_EmptyAppCheckTokenProvider:_P,_EmptyAuthCredentialsProvider:tI,_FieldPath:Ir,_TestingHooks:i9,_cast:vn,_debugAssert:fP,_internalAggregationQueryToProtoRunAggregationQueryRequest:fM,_internalQueryToProtoQueryTarget:hM,_isBase64Available:tD,_logWarn:Ta,_validateIsNotUsedTogether:rI,addDoc:_5,aggregateFieldEqual:SM,aggregateQuerySnapshotEqual:IM,and:gM,arrayRemove:lM,arrayUnion:oM,average:TM,clearIndexedDbPersistence:Y7,collection:Dd,collectionGroup:z7,connectFirestoreEmulator:vx,count:Mx,deleteAllPersistentCacheIndexes:r9,deleteDoc:qx,deleteField:sM,disableNetwork:J7,disablePersistentCacheIndexAutoCreation:n9,doc:Sl,documentId:eM,documentSnapshotFromJSON:UM,enableIndexedDbPersistence:$7,enableMultiTabIndexedDbPersistence:W7,enableNetwork:X7,enablePersistentCacheIndexAutoCreation:t9,endAt:AM,endBefore:wM,ensureFirestoreConfigured:Fr,executeWrite:Vd,getAggregateFromServer:Vx,getCountFromServer:xM,getDoc:g5,getDocFromCache:KM,getDocFromServer:$M,getDocs:k0,getDocsFromCache:WM,getDocsFromServer:YM,getFirestore:x0,getPersistentCacheIndexManager:e9,increment:uM,initializeFirestore:K7,limit:yM,limitToLast:_M,loadBundle:T_,memoryEagerGarbageCollector:kM,memoryLocalCache:DM,memoryLruGarbageCollector:PM,namedQuery:Ex,onSnapshot:S_,onSnapshotResume:QM,onSnapshotsInSync:XM,or:mM,orderBy:p5,persistentLocalCache:OM,persistentMultipleTabManager:jM,persistentSingleTabManager:jx,query:d5,queryEqual:n5,querySnapshotFromJSON:FM,refEqual:H7,runTransaction:GM,serverTimestamp:aM,setDoc:y5,setIndexConfiguration:ZM,setLogLevel:hP,snapshotEqual:qM,startAfter:bM,startAt:vM,sum:EM,terminate:Z7,updateDoc:P0,vector:cM,waitForPendingWrites:Q7,where:pM,writeBatch:JM},Symbol.toStringTag,{value:"Module"}));var s9="firebase",a9="12.9.0";bl(s9,a9,"app");const Gx="firebasestorage.googleapis.com",o9="storageBucket",l9=120*1e3,u9=600*1e3;class Nl extends xl{constructor(e,t,r=0){super(wy(e),`Firebase Storage: ${t} (${wy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nl.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Il;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Il||(Il={}));function wy(n){return"storage/"+n}function c9(){const n="An unknown error occurred, please check the error payload for server response.";return new Nl(Il.UNKNOWN,n)}function h9(){return new Nl(Il.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f9(){return new Nl(Il.CANCELED,"User canceled the upload/download.")}function d9(n){return new Nl(Il.INVALID_URL,"Invalid URL '"+n+"'.")}function p9(n){return new Nl(Il.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function tT(n){return new Nl(Il.INVALID_ARGUMENT,n)}function Kx(){return new Nl(Il.APP_DELETED,"The Firebase app was deleted.")}function m9(n){return new Nl(Il.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Vo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Vo.makeFromUrl(e,t)}catch{return new Vo(e,"")}if(r.path==="")return r;throw p9(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const u="(/(.*))?$",c=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function d(J){J.path_=decodeURIComponent(J.path)}const g="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",w=new RegExp(`^https?://${b}/${g}/b/${s}/o${E}`,"i"),j={bucket:1,path:3},V=t===Gx?"(?:storage.googleapis.com|storage.cloud.google.com)":t,B="([^?#]*)",k=new RegExp(`^https?://${V}/${s}/${B}`,"i"),$=[{regex:c,indices:f,postModify:o},{regex:w,indices:j,postModify:d},{regex:k,indices:{bucket:1,path:2},postModify:d}];for(let J=0;J<$.length;J++){const ge=$[J],ve=ge.regex.exec(e);if(ve){const z=ve[ge.indices.bucket];let M=ve[ge.indices.path];M||(M=""),r=new Vo(z,M),ge.postModify(r);break}}if(r==null)throw d9(e);return r}}class g9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function y9(n,e,t){let r=1,s=null,o=null,u=!1,c=0;function f(){return c===2}let d=!1;function g(...B){d||(d=!0,e.apply(null,B))}function b(B){s=setTimeout(()=>{s=null,n(w,f())},B)}function E(){o&&clearTimeout(o)}function w(B,...k){if(d){E();return}if(B){E(),g.call(null,B,...k);return}if(f()||u){E(),g.call(null,B,...k);return}r<64&&(r*=2);let $;c===1?(c=2,$=0):$=(r+Math.random())*1e3,b($)}let j=!1;function V(B){j||(j=!0,E(),!d&&(s!==null?(B||(c=2),clearTimeout(s),b(0)):B||(c=1)))}return b(0),o=setTimeout(()=>{u=!0,V(!0)},t),V}function _9(n){n(!1)}function v9(n){return n!==void 0}function nT(n,e,t,r){if(r<e)throw tT(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw tT(`Invalid value for '${n}'. Expected ${t} or less.`)}function b9(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var q1;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(q1||(q1={}));function w9(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}class A9{constructor(e,t,r,s,o,u,c,f,d,g,b,E=!0,w=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=c,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=g,this.connectionFactory_=b,this.retry=E,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,V)=>{this.resolve_=j,this.reject_=V,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new qg(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=c=>{const f=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const c=o.getErrorCode()===q1.NO_ERROR,f=o.getStatus();if(!c||w9(f,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===q1.ABORT;r(!1,new qg(!1,null,g));return}const d=this.successCodes_.indexOf(f)!==-1;r(!0,new qg(d,o))})},t=(r,s)=>{const o=this.resolve_,u=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(c,c.getResponse());v9(f)?o(f):o()}catch(f){u(f)}else if(c!==null){const f=c9();f.serverResponse=c.getErrorText(),this.errorCallback_?u(this.errorCallback_(c,f)):u(f)}else if(s.canceled){const f=this.appDelete_?Kx():f9();u(f)}else{const f=h9();u(f)}};this.canceled_?t(!1,new qg(!1,null,!0)):this.backoffId_=y9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qg{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function E9(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function T9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function S9(n,e){e&&(n["X-Firebase-GMPID"]=e)}function I9(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function x9(n,e,t,r,s,o,u=!0,c=!1){const f=b9(n.urlParams),d=n.url+f,g=Object.assign({},n.headers);return S9(g,e),E9(g,t),T9(g,o),I9(g,r),new A9(d,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u,c)}function N9(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function R9(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}class z1{constructor(e,t){this._service=e,t instanceof Vo?this._location=t:this._location=Vo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new z1(e,t)}get root(){const e=new Vo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return R9(this._location.path)}get storage(){return this._service}get parent(){const e=N9(this._location.path);if(e===null)return null;const t=new Vo(this._location.bucket,e);return new z1(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw m9(e)}}function rT(n,e){const t=e?.[o9];return t==null?null:Vo.makeFromBucketSpec(t,n)}function C9(n,e,t,r={}){n.host=`${e}:${t}`;const s=Cc(e);s&&(Y1(`https://${n.host}/b`),j_("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:RS(o,n.app.options.projectId))}class L9{constructor(e,t,r,s,o,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=Gx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=l9,this._maxUploadRetryTime=u9,this._requests=new Set,s!=null?this._bucket=Vo.makeFromBucketSpec(s,this._host):this._bucket=rT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vo.makeFromBucketSpec(this._url,e):this._bucket=rT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new z1(this,e)}_makeRequest(e,t,r,s,o=!0){if(this._deleted)return new g9(Kx());{const u=x9(e,this._appId,r,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const iT="@firebase/storage",sT="0.14.0";const $x="storage";function k9(n=B_(),e){n=St(n);const r=bd(n,$x).getImmediate({identifier:e}),s=IS("storage");return s&&P9(r,...s),r}function P9(n,e,t,r={}){C9(n,e,t,r)}function D9(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new L9(t,r,s,e,kh)}function O9(){vh(new bc($x,D9,"PUBLIC").setMultipleInstances(!0)),bl(iT,sT,""),bl(iT,sT,"esm2020")}O9();const M9={apiKey:"AIzaSyAxtqgI507-TarutOEsvtL3R6-TZppLSN0",authDomain:"twkt-91ddf.firebaseapp.com",projectId:"twkt-91ddf",storageBucket:"twkt-91ddf.firebasestorage.app",messagingSenderId:"754554349532",appId:"1:754554349532:web:f51bb0a8ee53446d309119",measurementId:"G-FKY3MFR4P9"},_d=MS(M9),uu=ov(_d),Ws=x0(_d);k9(_d);const w5=tt.createContext(void 0);function V9({children:n}){const[e,t]=tt.useState(null),[r,s]=tt.useState(!0),o=async d=>{try{const g=await g5(Sl(Ws,"users",d.uid));return g.exists()?{...g.data(),id:d.uid}:null}catch(g){return console.error("Error fetching user:",g),null}};tt.useEffect(()=>{const d=I4(uu,async g=>{if(g){const b=await o(g);b&&t(b)}else t(null);s(!1)});return()=>d()},[]);const u=async(d,g)=>{try{let b=d.trim();const{getDocs:E,collection:w,query:j,where:V}=await dc(async()=>{const{getDocs:ge,collection:ve,query:z,where:M}=await Promise.resolve().then(()=>B1);return{getDocs:ge,collection:ve,query:z,where:M}},void 0),B=w(Ws,"users"),k=j(B,V("username","==",d)),te=await E(k);te.empty?b.includes("@")||(b=`${b}@twkt.com`):b=te.docs[0].data().email,console.log("Login email:",b);const $=await w4(uu,b,g);let J=await o($.user);if(!J){const{setDoc:ge,doc:ve}=await dc(async()=>{const{setDoc:C,doc:G}=await Promise.resolve().then(()=>B1);return{setDoc:C,doc:G}},void 0),z={id:$.user.uid,username:b.replace("@twkt.com",""),password:"",email:b,name:$.user.displayName||b.split("@")[0],role:"employee",avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${b}`,department:""},M=ve(Ws,"users",$.user.uid);await ge(M,z),J=z}return t(J),{success:!0}}catch(b){return console.error("Login error:",b),b.code==="auth/invalid-email"||b.message?.includes("invalid-email")?{success:!1,error:""}:b.code==="auth/user-not-found"?{success:!1,error:""}:b.code==="auth/invalid-credential"||b.message?.includes("invalid-credential")?{success:!1,error:""}:b.code==="auth/wrong-password"?{success:!1,error:""}:b.code==="auth/too-many-requests"?{success:!1,error:""}:{success:!1,error:""+(b.message||b.code)}}},c=async()=>{await x4(uu),t(null)},f=async d=>{if(uu.currentUser)try{await P0(Sl(Ws,"users",uu.currentUser.uid),{name:d.name,email:d.email,department:d.department,employmentType:d.employmentType,signedContractAt:d.signedContractAt,contractStartDate:d.contractStartDate,avatar:d.avatar}),t(d)}catch(g){console.error("Error updating user:",g)}};return D.jsx(w5.Provider,{value:{user:e,loading:r,login:u,logout:c,updateUser:f},children:n})}function jm(){const n=tt.useContext(w5);if(!n)throw new Error("useAuth must be used within AuthProvider");return n}async function D0(){const{getDocs:n,collection:e}=await dc(async()=>{const{getDocs:t,collection:r}=await Promise.resolve().then(()=>B1);return{getDocs:t,collection:r}},void 0);try{return(await n(e(Ws,"users"))).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error getting users:",t),[]}}async function aT(n){const{setDoc:e,doc:t}=await dc(async()=>{const{setDoc:r,doc:s}=await Promise.resolve().then(()=>B1);return{setDoc:r,doc:s}},void 0);await e(t(Ws,"users",n.id),n)}function j9(){const[n,e]=tt.useState(""),[t,r]=tt.useState(""),[s,o]=tt.useState(""),[u,c]=tt.useState(!1),{login:f}=jm(),d=async g=>{if(g.preventDefault(),!n||!t){o("");return}c(!0),o(""),console.log("Attempting login with:",n);try{const b=await f(n,t);console.log("Login result:",b),b.success||o(b.error||"")}catch(b){console.error("Login exception:",b),o(": "+(b.message||b.code||""))}c(!1)};return D.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:D.jsx("div",{className:"w-full max-w-md",children:D.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[D.jsxs("div",{className:"text-center mb-8",children:[D.jsx("div",{className:"w-16 h-16 bg-primary rounded-xl flex items-center justify-center mx-auto mb-4",children:D.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),D.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),D.jsx("p",{className:"text-gray-500 mt-1",children:"AKSO Work Log System"})]}),D.jsxs("form",{onSubmit:d,className:"space-y-5",children:[s&&D.jsx("div",{className:"p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm",children:s}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),D.jsx("input",{type:"text",value:n,onChange:g=>e(g.target.value),placeholder:"",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),D.jsx("input",{type:"password",value:t,onChange:g=>r(g.target.value),placeholder:"",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),D.jsx("button",{type:"submit",disabled:u,className:"w-full py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50",children:u?"...":" "})]}),D.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[D.jsx("p",{className:"text-xs text-gray-500 mb-2 font-medium",children:" Firebase Authentication "}),D.jsxs("p",{className:"text-xs text-gray-400",children:["@twkt.com",D.jsx("br",{}),"admin@twkt.com"]})]})]})})})}async function U9(n,e){try{let r=(await k0(d5(Dd(Ws,"workLogs"),p5("createdAt","desc")))).docs.map(s=>({id:s.id,...s.data()}));return n&&!e&&(r=r.filter(s=>s.userId===n)),r}catch(t){return console.error("Error getting work logs:",t),[]}}async function F9(n){const e=await _5(Dd(Ws,"workLogs"),{...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});return{...n,id:e.id}}async function oT(n,e){await P0(Sl(Ws,"workLogs",n),{...e,updatedAt:new Date().toISOString()})}async function B9(n){await qx(Sl(Ws,"workLogs",n))}async function q9(n,e){try{let r=(await k0(d5(Dd(Ws,"tasks"),p5("createdAt","desc")))).docs.map(s=>({id:s.id,...s.data()}));return n&&!e&&(r=r.filter(s=>s.assignedTo.includes(n))),r}catch(t){return console.error("Error getting tasks:",t),[]}}async function z9(n){const e=await _5(Dd(Ws,"tasks"),{...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});return{...n,id:e.id}}async function H9(n,e){await P0(Sl(Ws,"tasks",n),{...e,updatedAt:new Date().toISOString()})}async function Wx(){try{const n=Sl(Ws,"contracts","main"),e=await g5(n);return e.exists()?e.data():null}catch(n){return console.error("Error getting contract:",n),null}}async function G9(n){await y5(Sl(Ws,"contracts","main"),n)}function lT({onClose:n,onSubmit:e,editingLog:t,initialData:r}){const s=t||r,[o,u]=tt.useState(""),[c,f]=tt.useState(""),[d,g]=tt.useState(""),[b,E]=tt.useState(""),[w,j]=tt.useState(""),[V,B]=tt.useState(""),[k,te]=tt.useState("pending"),[$,J]=tt.useState(!1);tt.useEffect(()=>{s?(u(s.date),f(s.task),g(s.response),E(s.completionDate),j(s.timeSpent),B(s.problems),te(s.status)):(u(new Date().toISOString().split("T")[0]),f(""),g(""),E(""),j(""),B(""),te("pending"))},[s]);const ge=async ve=>{ve.preventDefault(),J(!0),await e({date:o,task:c,response:d,completionDate:b,timeSpent:w,problems:V,status:k}),J(!1)};return D.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[D.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:n}),D.jsxs("div",{className:"relative bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[D.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b sticky top-0 bg-white",children:[D.jsx("h2",{className:"text-lg font-semibold",children:s?"":""}),D.jsx("button",{onClick:n,className:"p-1 text-gray-400 hover:text-gray-600",children:D.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),D.jsxs("form",{onSubmit:ge,className:"p-6 space-y-4",children:[D.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"date",value:o,onChange:ve=>u(ve.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsxs("select",{value:k,onChange:ve=>te(ve.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"pending",children:""}),D.jsx("option",{value:"processing",children:""}),D.jsx("option",{value:"completed",children:""})]})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("textarea",{value:c,onChange:ve=>f(ve.target.value),rows:3,placeholder:"...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("textarea",{value:d,onChange:ve=>g(ve.target.value),rows:2,placeholder:"...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"date",value:b,onChange:ve=>E(ve.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:w,onChange:ve=>j(ve.target.value),placeholder:"6",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("textarea",{value:V,onChange:ve=>B(ve.target.value),rows:2,placeholder:"...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[D.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg",children:""}),D.jsx("button",{type:"submit",disabled:$,className:"px-4 py-2 bg-primary text-white rounded-lg disabled:opacity-50",children:$?"...":""})]})]})]})]})}const K9={pending:"bg-yellow-100 text-yellow-700",processing:"bg-blue-100 text-blue-700",completed:"bg-green-100 text-green-700"},$9={pending:"",processing:"",completed:""};function W9({userId:n,isAdmin:e}){const[t,r]=tt.useState([]),[s,o]=tt.useState([]),[u,c]=tt.useState(!1),[f,d]=tt.useState(null),[g,b]=tt.useState(e?"":n),[E,w]=tt.useState(null),[j,V]=tt.useState(""),[B,k]=tt.useState(!0),te=tt.useCallback(async()=>{k(!0);const[R,oe]=await Promise.all([U9(n,e),D0()]);r(R),o(oe),k(!1)},[n,e]);tt.useEffect(()=>{te()},[te]);const $=new Date().toISOString().split("T")[0],J=t.some(R=>R.userId===n&&R.date===$),ge=e||!J,ve=async R=>{await F9({userId:n,...R}),await te(),c(!1)},z=async(R,oe)=>{await oT(R,oe),await te(),d(null)},M=async R=>{confirm("")&&(await B9(R),await te())},C=async()=>{!E||!j.trim()||(await oT(E.id,{supervisorReply:j,supervisorReplyAt:new Date().toISOString()}),await te(),w(null),V(""))},G=R=>s.find(oe=>oe.id===R)?.name||"",x=R=>s.find(oe=>oe.id===R)?.department||"",O=g?t.filter(R=>R.userId===g):t;return B?D.jsx("div",{className:"text-center py-12",children:D.jsx("p",{className:"text-gray-500",children:"..."})}):D.jsxs("div",{children:[D.jsxs("div",{className:"flex items-center justify-between mb-6",children:[D.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:""}),D.jsxs("div",{className:"flex gap-3",children:[e&&D.jsxs("select",{value:g,onChange:R=>b(R.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"",children:""}),s.filter(R=>R.role==="employee").map(R=>D.jsx("option",{value:R.id,children:R.name},R.id))]}),ge&&D.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:[D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),""]})]})]}),!ge&&!e&&D.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-yellow-700 text-sm",children:""}),O.length===0?D.jsx("div",{className:"text-center py-12 text-gray-500",children:D.jsx("p",{children:""})}):D.jsx("div",{className:"space-y-4",children:O.map(R=>D.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[D.jsxs("div",{className:"flex items-start justify-between mb-3",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${K9[R.status]}`,children:$9[R.status]}),D.jsx("span",{className:"text-sm text-gray-500",children:R.date}),e&&D.jsxs("span",{className:"text-sm text-gray-400",children:[" ",G(R.userId)," (",x(R.userId),")"]})]}),R.userId===n&&D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:()=>d(R),className:"text-sm text-blue-600 hover:underline",children:""}),D.jsx("button",{onClick:()=>M(R.id),className:"text-sm text-red-600 hover:underline",children:""})]})]}),D.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:R.task}),D.jsx("p",{className:"text-gray-600 text-sm mb-2",children:R.response}),D.jsxs("div",{className:"flex gap-4 text-sm text-gray-500 mb-3",children:[R.completionDate&&D.jsxs("span",{children:["",R.completionDate]}),R.timeSpent&&D.jsxs("span",{children:["",R.timeSpent]})]}),R.problems&&D.jsxs("div",{className:"p-3 bg-red-50 rounded-lg mb-3",children:[D.jsx("p",{className:"text-xs text-red-600 mb-1",children:""}),D.jsx("p",{className:"text-gray-700 text-sm",children:R.problems})]}),R.supervisorReply&&D.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg mb-3",children:[D.jsx("p",{className:"text-xs text-blue-600 mb-1",children:""}),D.jsx("p",{className:"text-gray-700 text-sm",children:R.supervisorReply})]}),e&&!R.supervisorReply&&D.jsx("div",{className:"border-t border-gray-100 pt-3 mt-3",children:E?.id===R.id?D.jsxs("div",{className:"space-y-2",children:[D.jsx("textarea",{value:j,onChange:oe=>V(oe.target.value),placeholder:"...",rows:2,className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-primary"}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:C,className:"px-3 py-1 bg-primary text-white rounded-lg text-sm",children:""}),D.jsx("button",{onClick:()=>{w(null),V("")},className:"px-3 py-1 text-gray-600 bg-gray-100 rounded-lg text-sm",children:""})]})]}):D.jsx("button",{onClick:()=>w(R),className:"text-sm text-primary hover:underline",children:""})})]},R.id))}),u&&D.jsx(lT,{onClose:()=>c(!1),onSubmit:ve}),f&&D.jsx(lT,{initialData:f,onClose:()=>d(null),onSubmit:R=>z(f.id,R)})]})}function er(n){"@babel/helpers - typeof";return er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},er(n)}var Bo=Uint8Array,qa=Uint16Array,A5=Int32Array,E5=new Bo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),T5=new Bo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),uT=new Bo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Yx=function(n,e){for(var t=new qa(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var s=new A5(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)s[o]=o-t[r]<<5|r;return{b:t,r:s}},Qx=Yx(E5,2),Y9=Qx.b,I_=Qx.r;Y9[28]=258,I_[258]=28;var Q9=Yx(T5,0),cT=Q9.r,x_=new qa(32768);for(var xr=0;xr<32768;++xr){var ac=(xr&43690)>>1|(xr&21845)<<1;ac=(ac&52428)>>2|(ac&13107)<<2,ac=(ac&61680)>>4|(ac&3855)<<4,x_[xr]=((ac&65280)>>8|(ac&255)<<8)>>1}var Jp=(function(n,e,t){for(var r=n.length,s=0,o=new qa(e);s<r;++s)n[s]&&++o[n[s]-1];var u=new qa(e);for(s=1;s<e;++s)u[s]=u[s-1]+o[s-1]<<1;var c;if(t){c=new qa(1<<e);var f=15-e;for(s=0;s<r;++s)if(n[s])for(var d=s<<4|n[s],g=e-n[s],b=u[n[s]-1]++<<g,E=b|(1<<g)-1;b<=E;++b)c[x_[b]>>f]=d}else for(c=new qa(r),s=0;s<r;++s)n[s]&&(c[s]=x_[u[n[s]-1]++]>>15-n[s]);return c}),Rh=new Bo(288);for(var xr=0;xr<144;++xr)Rh[xr]=8;for(var xr=144;xr<256;++xr)Rh[xr]=9;for(var xr=256;xr<280;++xr)Rh[xr]=7;for(var xr=280;xr<288;++xr)Rh[xr]=8;var H1=new Bo(32);for(var xr=0;xr<32;++xr)H1[xr]=5;var X9=Jp(Rh,9,0),J9=Jp(H1,5,0),Xx=function(n){return(n+7)/8|0},Z9=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Bo(n.subarray(e,t))},nu=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Rp=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Ay=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var s=t.length,o=t.slice();if(!s)return{t:Zx,l:0};if(s==1){var u=new Bo(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(ge,ve){return ge.f-ve.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,g=1,b=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};g!=s-1;)c=t[t[d].f<t[b].f?d++:b++],f=t[d!=g&&t[d].f<t[b].f?d++:b++],t[g++]={s:-1,f:c.f+f.f,l:c,r:f};for(var E=o[0].s,r=1;r<s;++r)o[r].s>E&&(E=o[r].s);var w=new qa(E+1),j=N_(t[g-1],w,0);if(j>e){var r=0,V=0,B=j-e,k=1<<B;for(o.sort(function(ve,z){return w[z.s]-w[ve.s]||ve.f-z.f});r<s;++r){var te=o[r].s;if(w[te]>e)V+=k-(1<<j-w[te]),w[te]=e;else break}for(V>>=B;V>0;){var $=o[r].s;w[$]<e?V-=1<<e-w[$]++-1:++r}for(;r>=0&&V;--r){var J=o[r].s;w[J]==e&&(--w[J],++V)}j=e}return{t:new Bo(w),l:j}},N_=function(n,e,t){return n.s==-1?Math.max(N_(n.l,e,t+1),N_(n.r,e,t+1)):e[n.s]=t},hT=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new qa(++e),r=0,s=n[0],o=1,u=function(f){t[r++]=f},c=1;c<=e;++c)if(n[c]==s&&c!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(s),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(s);o=1,s=n[c]}return{c:t.subarray(0,r),n:e}},Cp=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},Jx=function(n,e,t){var r=t.length,s=Xx(e+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<r;++o)n[s+o+4]=t[o];return(s+4+r)*8},fT=function(n,e,t,r,s,o,u,c,f,d,g){nu(e,g++,t),++s[256];for(var b=Ay(s,15),E=b.t,w=b.l,j=Ay(o,15),V=j.t,B=j.l,k=hT(E),te=k.c,$=k.n,J=hT(V),ge=J.c,ve=J.n,z=new qa(19),M=0;M<te.length;++M)++z[te[M]&31];for(var M=0;M<ge.length;++M)++z[ge[M]&31];for(var C=Ay(z,7),G=C.t,x=C.l,O=19;O>4&&!G[uT[O-1]];--O);var R=d+5<<3,oe=Cp(s,Rh)+Cp(o,H1)+u,Ie=Cp(s,E)+Cp(o,V)+u+14+3*O+Cp(z,G)+2*z[16]+3*z[17]+7*z[18];if(f>=0&&R<=oe&&R<=Ie)return Jx(e,g,n.subarray(f,f+d));var ae,pe,fe,Le;if(nu(e,g,1+(Ie<oe)),g+=2,Ie<oe){ae=Jp(E,w,0),pe=E,fe=Jp(V,B,0),Le=V;var Ke=Jp(G,x,0);nu(e,g,$-257),nu(e,g+5,ve-1),nu(e,g+10,O-4),g+=14;for(var M=0;M<O;++M)nu(e,g+3*M,G[uT[M]]);g+=3*O;for(var Z=[te,ge],P=0;P<2;++P)for(var W=Z[P],M=0;M<W.length;++M){var ee=W[M]&31;nu(e,g,Ke[ee]),g+=G[ee],ee>15&&(nu(e,g,W[M]>>5&127),g+=W[M]>>12)}}else ae=X9,pe=Rh,fe=J9,Le=H1;for(var M=0;M<c;++M){var le=r[M];if(le>255){var ee=le>>18&31;Rp(e,g,ae[ee+257]),g+=pe[ee+257],ee>7&&(nu(e,g,le>>23&31),g+=E5[ee]);var ce=le&31;Rp(e,g,fe[ce]),g+=Le[ce],ce>3&&(Rp(e,g,le>>5&8191),g+=T5[ce])}else Rp(e,g,ae[le]),g+=pe[le]}return Rp(e,g,ae[256]),g+pe[256]},eV=new A5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Zx=new Bo(0),tV=function(n,e,t,r,s,o){var u=o.z||n.length,c=new Bo(r+u+5*(1+Math.ceil(u/7e3))+s),f=c.subarray(r,c.length-s),d=o.l,g=(o.r||0)&7;if(e){g&&(f[0]=o.r>>3);for(var b=eV[e-1],E=b>>13,w=b&8191,j=(1<<t)-1,V=o.p||new qa(32768),B=o.h||new qa(j+1),k=Math.ceil(t/3),te=2*k,$=function(pt){return(n[pt]^n[pt+1]<<k^n[pt+2]<<te)&j},J=new A5(25e3),ge=new qa(288),ve=new qa(32),z=0,M=0,C=o.i||0,G=0,x=o.w||0,O=0;C+2<u;++C){var R=$(C),oe=C&32767,Ie=B[R];if(V[oe]=Ie,B[R]=oe,x<=C){var ae=u-C;if((z>7e3||G>24576)&&(ae>423||!d)){g=fT(n,f,0,J,ge,ve,M,G,O,C-O,g),G=z=M=0,O=C;for(var pe=0;pe<286;++pe)ge[pe]=0;for(var pe=0;pe<30;++pe)ve[pe]=0}var fe=2,Le=0,Ke=w,Z=oe-Ie&32767;if(ae>2&&R==$(C-Z))for(var P=Math.min(E,ae)-1,W=Math.min(32767,C),ee=Math.min(258,ae);Z<=W&&--Ke&&oe!=Ie;){if(n[C+fe]==n[C+fe-Z]){for(var le=0;le<ee&&n[C+le]==n[C+le-Z];++le);if(le>fe){if(fe=le,Le=Z,le>P)break;for(var ce=Math.min(Z,le-2),ye=0,pe=0;pe<ce;++pe){var De=C-Z+pe&32767,ke=V[De],Be=De-ke&32767;Be>ye&&(ye=Be,Ie=De)}}}oe=Ie,Ie=V[oe],Z+=oe-Ie&32767}if(Le){J[G++]=268435456|I_[fe]<<18|cT[Le];var Je=I_[fe]&31,ot=cT[Le]&31;M+=E5[Je]+T5[ot],++ge[257+Je],++ve[ot],x=C+fe,++z}else J[G++]=n[C],++ge[n[C]]}}for(C=Math.max(C,x);C<u;++C)J[G++]=n[C],++ge[n[C]];g=fT(n,f,d,J,ge,ve,M,G,O,C-O,g),d||(o.r=g&7|f[g/8|0]<<3,g-=7,o.h=B,o.p=V,o.i=C,o.w=x)}else{for(var C=o.w||0;C<u+d;C+=65535){var at=C+65535;at>=u&&(f[g/8|0]=d,at=u),g=Jx(f,g+1,n.subarray(C,at))}o.i=u}return Z9(c,0,r+Xx(g)+s)},eN=function(){var n=1,e=0;return{p:function(t){for(var r=n,s=e,o=t.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)s+=r+=t[u];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},nV=function(n,e,t,r,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new Bo(o.length+n.length);u.set(o),u.set(n,o.length),n=u,s.w=o.length}return tV(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,s)},tN=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},rV=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=eN();s.p(e.dictionary),tN(n,2,s.d())}};function R_(n,e){e||(e={});var t=eN();t.p(n);var r=nV(n,e,e.dictionary?6:2,4);return rV(r,e),tN(r,r.length-4,t.d()),r}var iV=typeof TextDecoder<"u"&&new TextDecoder,sV=0;try{iV.decode(Zx,{stream:!0}),sV=1}catch{}function aV(n){if(Array.isArray(n))return n}function oV(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,o,u,c=[],f=!0,d=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(g){d=!0,s=g}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw s}}return c}}function dT(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function lV(n,e){if(n){if(typeof n=="string")return dT(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?dT(n,e):void 0}}function uV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pT(n,e){return aV(n)||oV(n,e)||lV(n,e)||uV()}function mT(n,e="utf8"){return new TextDecoder(e).decode(n)}const cV=new TextEncoder;function hV(n){return cV.encode(n)}const fV=1024*8,dV=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),Ey={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class S5{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=fV,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,o=e.byteLength-s;let u=s;(ArrayBuffer.isView(e)||e instanceof S5)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=Ey[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+r);if(this.littleEndian===dV&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(s,s+r));c.reverse();const f=new Ey[t](c.buffer);return this.offset+=r,f.reverse(),f}const u=new Ey[t](o);return this.offset+=r,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return mT(this.readBytes(e))}decodeText(e=1,t="utf8"){return mT(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(hV(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function jd(n){let e=n.length;for(;--e>=0;)n[e]=0}const pV=3,mV=258,nN=29,gV=256,yV=gV+1+nN,rN=30,_V=512,vV=new Array((yV+2)*2);jd(vV);const bV=new Array(rN*2);jd(bV);const wV=new Array(_V);jd(wV);const AV=new Array(mV-pV+1);jd(AV);const EV=new Array(nN);jd(EV);const TV=new Array(rN);jd(TV);const SV=(n,e,t,r)=>{let s=n&65535|0,o=n>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do s=s+e[r++]|0,o=o+s|0;while(--u);s%=65521,o%=65521}return s|o<<16|0};var C_=SV;const IV=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},xV=new Uint32Array(IV()),NV=(n,e,t,r)=>{const s=xV,o=r+t;n^=-1;for(let u=r;u<o;u++)n=n>>>8^s[(n^e[u])&255];return n^-1};var fl=NV,L_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},iN={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const RV=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var CV=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)RV(t,r)&&(n[r]=t[r])}}return n},LV=n=>{let e=0;for(let r=0,s=n.length;r<s;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,s=0,o=n.length;r<o;r++){let u=n[r];t.set(u,s),s+=u.length}return t},sN={assign:CV,flattenChunks:LV};let aN=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{aN=!1}const ym=new Uint8Array(256);for(let n=0;n<256;n++)ym[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;ym[254]=ym[254]=1;var kV=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,s,o,u=n.length,c=0;for(s=0;s<u;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,s=0;o<c;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const PV=(n,e)=>{if(e<65534&&n.subarray&&aN)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var DV=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,s;const o=new Array(t*2);for(s=0,r=0;r<t;){let u=n[r++];if(u<128){o[s++]=u;continue}let c=ym[u];if(c>4){o[s++]=65533,r+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&r<t;)u=u<<6|n[r++]&63,c--;if(c>1){o[s++]=65533;continue}u<65536?o[s++]=u:(u-=65536,o[s++]=55296|u>>10&1023,o[s++]=56320|u&1023)}return PV(o,s)},OV=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+ym[n[t]]>e?t:e},k_={string2buf:kV,buf2string:DV,utf8border:OV};function MV(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var VV=MV;const zg=16209,jV=16191;var UV=function(e,t){let r,s,o,u,c,f,d,g,b,E,w,j,V,B,k,te,$,J,ge,ve,z,M,C,G;const x=e.state;r=e.next_in,C=e.input,s=r+(e.avail_in-5),o=e.next_out,G=e.output,u=o-(t-e.avail_out),c=o+(e.avail_out-257),f=x.dmax,d=x.wsize,g=x.whave,b=x.wnext,E=x.window,w=x.hold,j=x.bits,V=x.lencode,B=x.distcode,k=(1<<x.lenbits)-1,te=(1<<x.distbits)-1;e:do{j<15&&(w+=C[r++]<<j,j+=8,w+=C[r++]<<j,j+=8),$=V[w&k];t:for(;;){if(J=$>>>24,w>>>=J,j-=J,J=$>>>16&255,J===0)G[o++]=$&65535;else if(J&16){ge=$&65535,J&=15,J&&(j<J&&(w+=C[r++]<<j,j+=8),ge+=w&(1<<J)-1,w>>>=J,j-=J),j<15&&(w+=C[r++]<<j,j+=8,w+=C[r++]<<j,j+=8),$=B[w&te];n:for(;;){if(J=$>>>24,w>>>=J,j-=J,J=$>>>16&255,J&16){if(ve=$&65535,J&=15,j<J&&(w+=C[r++]<<j,j+=8,j<J&&(w+=C[r++]<<j,j+=8)),ve+=w&(1<<J)-1,ve>f){e.msg="invalid distance too far back",x.mode=zg;break e}if(w>>>=J,j-=J,J=o-u,ve>J){if(J=ve-J,J>g&&x.sane){e.msg="invalid distance too far back",x.mode=zg;break e}if(z=0,M=E,b===0){if(z+=d-J,J<ge){ge-=J;do G[o++]=E[z++];while(--J);z=o-ve,M=G}}else if(b<J){if(z+=d+b-J,J-=b,J<ge){ge-=J;do G[o++]=E[z++];while(--J);if(z=0,b<ge){J=b,ge-=J;do G[o++]=E[z++];while(--J);z=o-ve,M=G}}}else if(z+=b-J,J<ge){ge-=J;do G[o++]=E[z++];while(--J);z=o-ve,M=G}for(;ge>2;)G[o++]=M[z++],G[o++]=M[z++],G[o++]=M[z++],ge-=3;ge&&(G[o++]=M[z++],ge>1&&(G[o++]=M[z++]))}else{z=o-ve;do G[o++]=G[z++],G[o++]=G[z++],G[o++]=G[z++],ge-=3;while(ge>2);ge&&(G[o++]=G[z++],ge>1&&(G[o++]=G[z++]))}}else if((J&64)===0){$=B[($&65535)+(w&(1<<J)-1)];continue n}else{e.msg="invalid distance code",x.mode=zg;break e}break}}else if((J&64)===0){$=V[($&65535)+(w&(1<<J)-1)];continue t}else if(J&32){x.mode=jV;break e}else{e.msg="invalid literal/length code",x.mode=zg;break e}break}}while(r<s&&o<c);ge=j>>3,r-=ge,j-=ge<<3,w&=(1<<j)-1,e.next_in=r,e.next_out=o,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=o<c?257+(c-o):257-(o-c),x.hold=w,x.bits=j};const Rf=15,gT=852,yT=592,_T=0,Ty=1,vT=2,FV=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),BV=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),qV=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),zV=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),HV=(n,e,t,r,s,o,u,c)=>{const f=c.bits;let d=0,g=0,b=0,E=0,w=0,j=0,V=0,B=0,k=0,te=0,$,J,ge,ve,z,M=null,C;const G=new Uint16Array(Rf+1),x=new Uint16Array(Rf+1);let O=null,R,oe,Ie;for(d=0;d<=Rf;d++)G[d]=0;for(g=0;g<r;g++)G[e[t+g]]++;for(w=f,E=Rf;E>=1&&G[E]===0;E--);if(w>E&&(w=E),E===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,c.bits=1,0;for(b=1;b<E&&G[b]===0;b++);for(w<b&&(w=b),B=1,d=1;d<=Rf;d++)if(B<<=1,B-=G[d],B<0)return-1;if(B>0&&(n===_T||E!==1))return-1;for(x[1]=0,d=1;d<Rf;d++)x[d+1]=x[d]+G[d];for(g=0;g<r;g++)e[t+g]!==0&&(u[x[e[t+g]]++]=g);if(n===_T?(M=O=u,C=20):n===Ty?(M=FV,O=BV,C=257):(M=qV,O=zV,C=0),te=0,g=0,d=b,z=o,j=w,V=0,ge=-1,k=1<<w,ve=k-1,n===Ty&&k>gT||n===vT&&k>yT)return 1;for(;;){R=d-V,u[g]+1<C?(oe=0,Ie=u[g]):u[g]>=C?(oe=O[u[g]-C],Ie=M[u[g]-C]):(oe=96,Ie=0),$=1<<d-V,J=1<<j,b=J;do J-=$,s[z+(te>>V)+J]=R<<24|oe<<16|Ie|0;while(J!==0);for($=1<<d-1;te&$;)$>>=1;if($!==0?(te&=$-1,te+=$):te=0,g++,--G[d]===0){if(d===E)break;d=e[t+u[g]]}if(d>w&&(te&ve)!==ge){for(V===0&&(V=w),z+=b,j=d-V,B=1<<j;j+V<E&&(B-=G[j+V],!(B<=0));)j++,B<<=1;if(k+=1<<j,n===Ty&&k>gT||n===vT&&k>yT)return 1;ge=te&ve,s[ge]=w<<24|j<<16|z-o|0}}return te!==0&&(s[z+te]=d-V<<24|64<<16|0),c.bits=w,0};var Zp=HV;const GV=0,oN=1,lN=2,{Z_FINISH:bT,Z_BLOCK:KV,Z_TREES:Hg,Z_OK:Ch,Z_STREAM_END:$V,Z_NEED_DICT:WV,Z_STREAM_ERROR:ho,Z_DATA_ERROR:uN,Z_MEM_ERROR:cN,Z_BUF_ERROR:YV,Z_DEFLATED:wT}=iN,O0=16180,AT=16181,ET=16182,TT=16183,ST=16184,IT=16185,xT=16186,NT=16187,RT=16188,CT=16189,G1=16190,ru=16191,Sy=16192,LT=16193,Iy=16194,kT=16195,PT=16196,DT=16197,OT=16198,Gg=16199,Kg=16200,MT=16201,VT=16202,jT=16203,UT=16204,FT=16205,xy=16206,BT=16207,qT=16208,Mr=16209,hN=16210,fN=16211,QV=852,XV=592,JV=15,ZV=JV,zT=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function ej(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Fh=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<O0||e.mode>fN?1:0},dN=n=>{if(Fh(n))return ho;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=O0,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(QV),e.distcode=e.distdyn=new Int32Array(XV),e.sane=1,e.back=-1,Ch},pN=n=>{if(Fh(n))return ho;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,dN(n)},mN=(n,e)=>{let t;if(Fh(n))return ho;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ho:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,pN(n))},gN=(n,e)=>{if(!n)return ho;const t=new ej;n.state=t,t.strm=n,t.window=null,t.mode=O0;const r=mN(n,e);return r!==Ch&&(n.state=null),r},tj=n=>gN(n,ZV);let HT=!0,Ny,Ry;const nj=n=>{if(HT){Ny=new Int32Array(512),Ry=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Zp(oN,n.lens,0,288,Ny,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Zp(lN,n.lens,0,32,Ry,0,n.work,{bits:5}),HT=!1}n.lencode=Ny,n.lenbits=9,n.distcode=Ry,n.distbits=5},yN=(n,e,t,r)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>r&&(s=r),o.window.set(e.subarray(t-r,t-r+s),o.wnext),r-=s,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},rj=(n,e)=>{let t,r,s,o,u,c,f,d,g,b,E,w,j,V,B=0,k,te,$,J,ge,ve,z,M;const C=new Uint8Array(4);let G,x;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Fh(n)||!n.output||!n.input&&n.avail_in!==0)return ho;t=n.state,t.mode===ru&&(t.mode=Sy),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,g=t.bits,b=c,E=f,M=Ch;e:for(;;)switch(t.mode){case O0:if(t.wrap===0){t.mode=Sy;break}for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,C[0]=d&255,C[1]=d>>>8&255,t.check=fl(t.check,C,2,0),d=0,g=0,t.mode=AT;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Mr;break}if((d&15)!==wT){n.msg="unknown compression method",t.mode=Mr;break}if(d>>>=4,g-=4,z=(d&15)+8,t.wbits===0&&(t.wbits=z),z>15||z>t.wbits){n.msg="invalid window size",t.mode=Mr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?CT:ru,d=0,g=0;break;case AT:for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.flags=d,(t.flags&255)!==wT){n.msg="unknown compression method",t.mode=Mr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Mr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,t.check=fl(t.check,C,2,0)),d=0,g=0,t.mode=ET;case ET:for(;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,C[2]=d>>>16&255,C[3]=d>>>24&255,t.check=fl(t.check,C,4,0)),d=0,g=0,t.mode=TT;case TT:for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,t.check=fl(t.check,C,2,0)),d=0,g=0,t.mode=ST;case ST:if(t.flags&1024){for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,t.check=fl(t.check,C,2,0)),d=0,g=0}else t.head&&(t.head.extra=null);t.mode=IT;case IT:if(t.flags&1024&&(w=t.length,w>c&&(w=c),w&&(t.head&&(z=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+w),z)),t.flags&512&&t.wrap&4&&(t.check=fl(t.check,r,w,o)),c-=w,o+=w,t.length-=w),t.length))break e;t.length=0,t.mode=xT;case xT:if(t.flags&2048){if(c===0)break e;w=0;do z=r[o+w++],t.head&&z&&t.length<65536&&(t.head.name+=String.fromCharCode(z));while(z&&w<c);if(t.flags&512&&t.wrap&4&&(t.check=fl(t.check,r,w,o)),c-=w,o+=w,z)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=NT;case NT:if(t.flags&4096){if(c===0)break e;w=0;do z=r[o+w++],t.head&&z&&t.length<65536&&(t.head.comment+=String.fromCharCode(z));while(z&&w<c);if(t.flags&512&&t.wrap&4&&(t.check=fl(t.check,r,w,o)),c-=w,o+=w,z)break e}else t.head&&(t.head.comment=null);t.mode=RT;case RT:if(t.flags&512){for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Mr;break}d=0,g=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=ru;break;case CT:for(;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}n.adler=t.check=zT(d),d=0,g=0,t.mode=G1;case G1:if(t.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,WV;n.adler=t.check=1,t.mode=ru;case ru:if(e===KV||e===Hg)break e;case Sy:if(t.last){d>>>=g&7,g-=g&7,t.mode=xy;break}for(;g<3;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}switch(t.last=d&1,d>>>=1,g-=1,d&3){case 0:t.mode=LT;break;case 1:if(nj(t),t.mode=Gg,e===Hg){d>>>=2,g-=2;break e}break;case 2:t.mode=PT;break;case 3:n.msg="invalid block type",t.mode=Mr}d>>>=2,g-=2;break;case LT:for(d>>>=g&7,g-=g&7;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Mr;break}if(t.length=d&65535,d=0,g=0,t.mode=Iy,e===Hg)break e;case Iy:t.mode=kT;case kT:if(w=t.length,w){if(w>c&&(w=c),w>f&&(w=f),w===0)break e;s.set(r.subarray(o,o+w),u),c-=w,o+=w,f-=w,u+=w,t.length-=w;break}t.mode=ru;break;case PT:for(;g<14;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.nlen=(d&31)+257,d>>>=5,g-=5,t.ndist=(d&31)+1,d>>>=5,g-=5,t.ncode=(d&15)+4,d>>>=4,g-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Mr;break}t.have=0,t.mode=DT;case DT:for(;t.have<t.ncode;){for(;g<3;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.lens[O[t.have++]]=d&7,d>>>=3,g-=3}for(;t.have<19;)t.lens[O[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,G={bits:t.lenbits},M=Zp(GV,t.lens,0,19,t.lencode,0,t.work,G),t.lenbits=G.bits,M){n.msg="invalid code lengths set",t.mode=Mr;break}t.have=0,t.mode=OT;case OT:for(;t.have<t.nlen+t.ndist;){for(;B=t.lencode[d&(1<<t.lenbits)-1],k=B>>>24,te=B>>>16&255,$=B&65535,!(k<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if($<16)d>>>=k,g-=k,t.lens[t.have++]=$;else{if($===16){for(x=k+2;g<x;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(d>>>=k,g-=k,t.have===0){n.msg="invalid bit length repeat",t.mode=Mr;break}z=t.lens[t.have-1],w=3+(d&3),d>>>=2,g-=2}else if($===17){for(x=k+3;g<x;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=k,g-=k,z=0,w=3+(d&7),d>>>=3,g-=3}else{for(x=k+7;g<x;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=k,g-=k,z=0,w=11+(d&127),d>>>=7,g-=7}if(t.have+w>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Mr;break}for(;w--;)t.lens[t.have++]=z}}if(t.mode===Mr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Mr;break}if(t.lenbits=9,G={bits:t.lenbits},M=Zp(oN,t.lens,0,t.nlen,t.lencode,0,t.work,G),t.lenbits=G.bits,M){n.msg="invalid literal/lengths set",t.mode=Mr;break}if(t.distbits=6,t.distcode=t.distdyn,G={bits:t.distbits},M=Zp(lN,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,G),t.distbits=G.bits,M){n.msg="invalid distances set",t.mode=Mr;break}if(t.mode=Gg,e===Hg)break e;case Gg:t.mode=Kg;case Kg:if(c>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,UV(n,E),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,g=t.bits,t.mode===ru&&(t.back=-1);break}for(t.back=0;B=t.lencode[d&(1<<t.lenbits)-1],k=B>>>24,te=B>>>16&255,$=B&65535,!(k<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(te&&(te&240)===0){for(J=k,ge=te,ve=$;B=t.lencode[ve+((d&(1<<J+ge)-1)>>J)],k=B>>>24,te=B>>>16&255,$=B&65535,!(J+k<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=J,g-=J,t.back+=J}if(d>>>=k,g-=k,t.back+=k,t.length=$,te===0){t.mode=FT;break}if(te&32){t.back=-1,t.mode=ru;break}if(te&64){n.msg="invalid literal/length code",t.mode=Mr;break}t.extra=te&15,t.mode=MT;case MT:if(t.extra){for(x=t.extra;g<x;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=VT;case VT:for(;B=t.distcode[d&(1<<t.distbits)-1],k=B>>>24,te=B>>>16&255,$=B&65535,!(k<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if((te&240)===0){for(J=k,ge=te,ve=$;B=t.distcode[ve+((d&(1<<J+ge)-1)>>J)],k=B>>>24,te=B>>>16&255,$=B&65535,!(J+k<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=J,g-=J,t.back+=J}if(d>>>=k,g-=k,t.back+=k,te&64){n.msg="invalid distance code",t.mode=Mr;break}t.offset=$,t.extra=te&15,t.mode=jT;case jT:if(t.extra){for(x=t.extra;g<x;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Mr;break}t.mode=UT;case UT:if(f===0)break e;if(w=E-f,t.offset>w){if(w=t.offset-w,w>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Mr;break}w>t.wnext?(w-=t.wnext,j=t.wsize-w):j=t.wnext-w,w>t.length&&(w=t.length),V=t.window}else V=s,j=u-t.offset,w=t.length;w>f&&(w=f),f-=w,t.length-=w;do s[u++]=V[j++];while(--w);t.length===0&&(t.mode=Kg);break;case FT:if(f===0)break e;s[u++]=t.length,f--,t.mode=Kg;break;case xy:if(t.wrap){for(;g<32;){if(c===0)break e;c--,d|=r[o++]<<g,g+=8}if(E-=f,n.total_out+=E,t.total+=E,t.wrap&4&&E&&(n.adler=t.check=t.flags?fl(t.check,s,E,u-E):C_(t.check,s,E,u-E)),E=f,t.wrap&4&&(t.flags?d:zT(d))!==t.check){n.msg="incorrect data check",t.mode=Mr;break}d=0,g=0}t.mode=BT;case BT:if(t.wrap&&t.flags){for(;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Mr;break}d=0,g=0}t.mode=qT;case qT:M=$V;break e;case Mr:M=uN;break e;case hN:return cN;case fN:default:return ho}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,(t.wsize||E!==n.avail_out&&t.mode<Mr&&(t.mode<xy||e!==bT))&&yN(n,n.output,n.next_out,E-n.avail_out),b-=n.avail_in,E-=n.avail_out,n.total_in+=b,n.total_out+=E,t.total+=E,t.wrap&4&&E&&(n.adler=t.check=t.flags?fl(t.check,s,E,n.next_out-E):C_(t.check,s,E,n.next_out-E)),n.data_type=t.bits+(t.last?64:0)+(t.mode===ru?128:0)+(t.mode===Gg||t.mode===Iy?256:0),(b===0&&E===0||e===bT)&&M===Ch&&(M=YV),M},ij=n=>{if(Fh(n))return ho;let e=n.state;return e.window&&(e.window=null),n.state=null,Ch},sj=(n,e)=>{if(Fh(n))return ho;const t=n.state;return(t.wrap&2)===0?ho:(t.head=e,e.done=!1,Ch)},aj=(n,e)=>{const t=e.length;let r,s,o;return Fh(n)||(r=n.state,r.wrap!==0&&r.mode!==G1)?ho:r.mode===G1&&(s=1,s=C_(s,e,t,0),s!==r.check)?uN:(o=yN(n,e,t,t),o?(r.mode=hN,cN):(r.havedict=1,Ch))};var oj=pN,lj=mN,uj=dN,cj=tj,hj=gN,fj=rj,dj=ij,pj=sj,mj=aj,gj="pako inflate (from Nodeca project)",iu={inflateReset:oj,inflateReset2:lj,inflateResetKeep:uj,inflateInit:cj,inflateInit2:hj,inflate:fj,inflateEnd:dj,inflateGetHeader:pj,inflateSetDictionary:mj,inflateInfo:gj};function yj(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var _j=yj;const _N=Object.prototype.toString,{Z_NO_FLUSH:vj,Z_FINISH:bj,Z_OK:_m,Z_STREAM_END:Cy,Z_NEED_DICT:Ly,Z_STREAM_ERROR:wj,Z_DATA_ERROR:GT,Z_MEM_ERROR:Aj}=iN;function Um(n){this.options=sN.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new VV,this.strm.avail_out=0;let t=iu.inflateInit2(this.strm,e.windowBits);if(t!==_m)throw new Error(L_[t]);if(this.header=new _j,iu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=k_.string2buf(e.dictionary):_N.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=iu.inflateSetDictionary(this.strm,e.dictionary),t!==_m)))throw new Error(L_[t])}Um.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?bj:vj,_N.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=iu.inflate(t,u),o===Ly&&s&&(o=iu.inflateSetDictionary(t,s),o===_m?o=iu.inflate(t,u):o===GT&&(o=Ly));t.avail_in>0&&o===Cy&&t.state.wrap>0&&n[t.next_in]!==0;)iu.inflateReset(t),o=iu.inflate(t,u);switch(o){case wj:case GT:case Ly:case Aj:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===Cy))if(this.options.to==="string"){let f=k_.utf8border(t.output,t.next_out),d=t.next_out-f,g=k_.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(g)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===_m&&c===0)){if(o===Cy)return o=iu.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Um.prototype.onData=function(n){this.chunks.push(n)};Um.prototype.onEnd=function(n){n===_m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=sN.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Ej(n,e){const t=new Um(e);if(t.push(n),t.err)throw t.msg||L_[t.err];return t.result}var Tj=Um,Sj=Ej,Ij={Inflate:Tj,inflate:Sj};const{Inflate:xj,inflate:Nj}=Ij;var KT=xj,Rj=Nj;const vN=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;vN[n]=e}const $T=4294967295;function Cj(n,e,t){let r=n;for(let s=0;s<t;s++)r=vN[(r^e[s])&255]^r>>>8;return r}function Lj(n,e){return(Cj($T,n,e)^$T)>>>0}function WT(n,e,t){const r=n.readUint32(),s=Lj(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${s}`)}function bN(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function wN(n,e,t,r){let s=0;for(;s<r;s++)e[s]=n[s];for(;s<t;s++)e[s]=n[s]+e[s-r]&255}function AN(n,e,t,r){let s=0;if(t.length===0)for(;s<r;s++)e[s]=n[s];else for(;s<r;s++)e[s]=n[s]+t[s]&255}function EN(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-s]+t[o]>>1)&255}}function TN(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+kj(e[o-s],t[o],t[o-s])&255}}function kj(n,e,t){const r=n+e-t,s=Math.abs(r-n),o=Math.abs(r-e),u=Math.abs(r-t);return s<=o&&s<=u?n:o<=u?e:t}function Pj(n,e,t,r,s,o){switch(n){case 0:bN(e,t,s);break;case 1:wN(e,t,s,o);break;case 2:AN(e,t,r,s);break;case 3:EN(e,t,r,s,o);break;case 4:TN(e,t,r,s,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const Dj=new Uint16Array([255]),Oj=new Uint8Array(Dj.buffer),Mj=Oj[0]===255;function Vj(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*s,f=new Uint8Array(r*t*c);let d=0;for(let g=0;g<7;g++){const b=u[g],E=Math.ceil((t-b.x)/b.xStep),w=Math.ceil((r-b.y)/b.yStep);if(E<=0||w<=0)continue;const j=E*c,V=new Uint8Array(j);for(let B=0;B<w;B++){const k=e[d++],te=e.subarray(d,d+j);d+=j;const $=new Uint8Array(j);Pj(k,te,$,V,j,c),V.set($);for(let J=0;J<E;J++){const ge=b.x+J*b.xStep,ve=b.y+B*b.yStep;if(!(ge>=t||ve>=r))for(let z=0;z<c;z++)f[(ve*t+ge)*c+z]=$[J*c+z]}}}if(o===16){const g=new Uint16Array(f.buffer);if(Mj)for(let b=0;b<g.length;b++)g[b]=jj(g[b]);return g}else return f}function jj(n){return(n&255)<<8|n>>8&255}const Uj=new Uint16Array([255]),Fj=new Uint8Array(Uj.buffer),Bj=Fj[0]===255,qj=new Uint8Array(0);function YT(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,u=Math.ceil(o/8)*s,c=Math.ceil(o/8*s*t),f=new Uint8Array(r*c);let d=qj,g=0,b,E;for(let w=0;w<r;w++){switch(b=e.subarray(g+1,g+1+c),E=f.subarray(w*c,(w+1)*c),e[g]){case 0:bN(b,E,c);break;case 1:wN(b,E,c,u);break;case 2:AN(b,E,d,c);break;case 3:EN(b,E,d,c,u);break;case 4:TN(b,E,d,c,u);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}d=E,g+=c+1}if(o===16){const w=new Uint16Array(f.buffer);if(Bj)for(let j=0;j<w.length;j++)w[j]=zj(w[j]);return w}else return f}function zj(n){return(n&255)<<8|n>>8&255}const h1=Uint8Array.of(137,80,78,71,13,10,26,10);function QT(n){if(!Hj(n.readBytes(h1.length)))throw new Error("wrong PNG signature")}function Hj(n){if(n.length<h1.length)return!1;for(let e=0;e<h1.length;e++)if(n[e]!==h1[e])return!1;return!0}const Gj="tEXt",Kj=0,SN=new TextDecoder("latin1");function $j(n){if(Yj(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const Wj=/^[\u0000-\u00FF]*$/;function Yj(n){if(!Wj.test(n))throw new Error("invalid latin1 text")}function Qj(n,e,t){const r=IN(e);n[r]=Xj(e,t-r.length-1)}function IN(n){for(n.mark();n.readByte()!==Kj;);const e=n.offset;n.reset();const t=SN.decode(n.readBytes(e-n.offset-1));return n.skip(1),$j(t),t}function Xj(n,e){return SN.decode(n.readBytes(e))}const Fa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},ky={UNKNOWN:-1,DEFLATE:0},XT={UNKNOWN:-1,ADAPTIVE:0},Py={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},$g={NONE:0,BACKGROUND:1,PREVIOUS:2},Dy={SOURCE:0,OVER:1};class Jj extends S5{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new KT,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=ky.UNKNOWN,this._filterMethod=XT.UNKNOWN,this._interlaceMethod=Py.UNKNOWN,this._colorType=Fa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(QT(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(QT(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Gj:Qj(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?WT(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?WT(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Zj(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case Fa.GREYSCALE:r=1;break;case Fa.TRUECOLOUR:r=3;break;case Fa.INDEXED_COLOUR:r=1;break;case Fa.GREYSCALE_ALPHA:r=2;break;case Fa.TRUECOLOUR_ALPHA:r=4;break;case Fa.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==ky.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<t;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Fa.GREYSCALE:case Fa.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Fa.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Fa.UNKNOWN:case Fa.GREYSCALE_ALPHA:case Fa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=IN(this),r=this.readUint8();if(r!==ky.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:Rj(s)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=YT({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(r,s,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case $g.NONE:break;case $g.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const u=(s*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[u+c]=0}break;case $g.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,s=(o,u)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+u)*this._png.channels,f=(o*t.width+u)*this._png.channels;return{index:c,frameIndex:f}};switch(t.blendOp){case Dy.SOURCE:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=s(o,u);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[f+d]}break;case Dy.OVER:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=s(o,u);for(let d=0;d<this._png.channels;d++){const g=t.data[f+this._png.channels-1]/r,b=d%(this._png.channels-1)===0?1:t.data[f+d],E=Math.floor(g*b+(1-g)*e.data[c+d]);e.data[c+d]+=E}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==XT.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Py.NO_INTERLACE)this._png.data=YT({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Py.ADAM7)this._png.data=Vj({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:$g.NONE,blendOp:Dy.SOURCE,data:e}),this._inflator=new KT,this._writingDataChunks=!1}}function Zj(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var JT;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(JT||(JT={}));function eU(n,e){return new Jj(n,e).decode()}var Xt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Oy(){Xt.console&&typeof Xt.console.log=="function"&&Xt.console.log.apply(Xt.console,arguments)}var yr={log:Oy,warn:function(n){Xt.console&&(typeof Xt.console.warn=="function"?Xt.console.warn.apply(Xt.console,arguments):Oy.call(null,arguments))},error:function(n){Xt.console&&(typeof Xt.console.error=="function"?Xt.console.error.apply(Xt.console,arguments):Oy(n))}};function My(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){ah(r.response,e,t)},r.onerror=function(){yr.error("could not download file")},r.send()}function ZT(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Wg(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var ah=Xt.saveAs||((typeof window>"u"?"undefined":er(window))!=="object"||window!==Xt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Xt.URL||Xt.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?ZT(s.href)?My(n,e,t):Wg(s,s.target="_blank"):Wg(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Wg(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(ZT(n))My(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Wg(r)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:er(o)!=="object"&&(yr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return My(n,e,t);var s=n.type==="application/octet-stream",o=/constructor/i.test(Xt.HTMLElement)||Xt.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&(typeof FileReader>"u"?"undefined":er(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var g=c.result;g=u?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},c.readAsDataURL(n)}else{var f=Xt.URL||Xt.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function xN(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var s=t[r].re,o=t[r].process,u=s.exec(n);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var f1=Xt.atob.bind(Xt),eS=Xt.btoa.bind(Xt);function Vy(n,e){var t=n[0],r=n[1],s=n[2],o=n[3];t=Ls(t,r,s,o,e[0],7,-680876936),o=Ls(o,t,r,s,e[1],12,-389564586),s=Ls(s,o,t,r,e[2],17,606105819),r=Ls(r,s,o,t,e[3],22,-1044525330),t=Ls(t,r,s,o,e[4],7,-176418897),o=Ls(o,t,r,s,e[5],12,1200080426),s=Ls(s,o,t,r,e[6],17,-1473231341),r=Ls(r,s,o,t,e[7],22,-45705983),t=Ls(t,r,s,o,e[8],7,1770035416),o=Ls(o,t,r,s,e[9],12,-1958414417),s=Ls(s,o,t,r,e[10],17,-42063),r=Ls(r,s,o,t,e[11],22,-1990404162),t=Ls(t,r,s,o,e[12],7,1804603682),o=Ls(o,t,r,s,e[13],12,-40341101),s=Ls(s,o,t,r,e[14],17,-1502002290),t=ks(t,r=Ls(r,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=ks(o,t,r,s,e[6],9,-1069501632),s=ks(s,o,t,r,e[11],14,643717713),r=ks(r,s,o,t,e[0],20,-373897302),t=ks(t,r,s,o,e[5],5,-701558691),o=ks(o,t,r,s,e[10],9,38016083),s=ks(s,o,t,r,e[15],14,-660478335),r=ks(r,s,o,t,e[4],20,-405537848),t=ks(t,r,s,o,e[9],5,568446438),o=ks(o,t,r,s,e[14],9,-1019803690),s=ks(s,o,t,r,e[3],14,-187363961),r=ks(r,s,o,t,e[8],20,1163531501),t=ks(t,r,s,o,e[13],5,-1444681467),o=ks(o,t,r,s,e[2],9,-51403784),s=ks(s,o,t,r,e[7],14,1735328473),t=Ps(t,r=ks(r,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=Ps(o,t,r,s,e[8],11,-2022574463),s=Ps(s,o,t,r,e[11],16,1839030562),r=Ps(r,s,o,t,e[14],23,-35309556),t=Ps(t,r,s,o,e[1],4,-1530992060),o=Ps(o,t,r,s,e[4],11,1272893353),s=Ps(s,o,t,r,e[7],16,-155497632),r=Ps(r,s,o,t,e[10],23,-1094730640),t=Ps(t,r,s,o,e[13],4,681279174),o=Ps(o,t,r,s,e[0],11,-358537222),s=Ps(s,o,t,r,e[3],16,-722521979),r=Ps(r,s,o,t,e[6],23,76029189),t=Ps(t,r,s,o,e[9],4,-640364487),o=Ps(o,t,r,s,e[12],11,-421815835),s=Ps(s,o,t,r,e[15],16,530742520),t=Ds(t,r=Ps(r,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=Ds(o,t,r,s,e[7],10,1126891415),s=Ds(s,o,t,r,e[14],15,-1416354905),r=Ds(r,s,o,t,e[5],21,-57434055),t=Ds(t,r,s,o,e[12],6,1700485571),o=Ds(o,t,r,s,e[3],10,-1894986606),s=Ds(s,o,t,r,e[10],15,-1051523),r=Ds(r,s,o,t,e[1],21,-2054922799),t=Ds(t,r,s,o,e[8],6,1873313359),o=Ds(o,t,r,s,e[15],10,-30611744),s=Ds(s,o,t,r,e[6],15,-1560198380),r=Ds(r,s,o,t,e[13],21,1309151649),t=Ds(t,r,s,o,e[4],6,-145523070),o=Ds(o,t,r,s,e[11],10,-1120210379),s=Ds(s,o,t,r,e[2],15,718787259),r=Ds(r,s,o,t,e[9],21,-343485551),n[0]=fc(t,n[0]),n[1]=fc(r,n[1]),n[2]=fc(s,n[2]),n[3]=fc(o,n[3])}function M0(n,e,t,r,s,o){return e=fc(fc(e,n),fc(r,o)),fc(e<<s|e>>>32-s,t)}function Ls(n,e,t,r,s,o,u){return M0(e&t|~e&r,n,e,s,o,u)}function ks(n,e,t,r,s,o,u){return M0(e&r|t&~r,n,e,s,o,u)}function Ps(n,e,t,r,s,o,u){return M0(e^t^r,n,e,s,o,u)}function Ds(n,e,t,r,s,o,u){return M0(t^(e|~r),n,e,s,o,u)}function NN(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Vy(r,tU(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Vy(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,Vy(r,s),r}function tU(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var tS="0123456789abcdef".split("");function nU(n){for(var e="",t=0;t<4;t++)e+=tS[n>>8*t+4&15]+tS[n>>8*t&15];return e}function rU(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function P_(n){return NN(n).map(rU).join("")}var iU=(function(n){for(var e=0;e<n.length;e++)n[e]=nU(n[e]);return n.join("")})(NN("hello"))!="5d41402abc4b2a76b9719d911017c592";function fc(n,e){if(iU){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function D_(n,e){var t,r,s,o;if(n!==t){for(var u=(s=n,o=1+(256/n.length|0),new Array(o+1).join(s)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var g=c[f];d=(d+g+u.charCodeAt(f))%256,c[f]=c[d],c[d]=g}t=n,r=c}else c=r;var b=e.length,E=0,w=0,j="";for(f=0;f<b;f++)w=(w+(g=c[E=(E+1)%256]))%256,c[E]=c[w],c[w]=g,u=c[(c[E]+c[w])%256],j+=String.fromCharCode(e.charCodeAt(f)^u);return j}var nS={print:4,modify:8,copy:16,"annot-forms":32};function Vf(n,e,t,r){this.v=1,this.r=2;var s=192;n.forEach(function(c){if(nS.perm!==void 0)throw new Error("Invalid permission: "+c);s+=nS[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^s)),this.encryptionKey=P_(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=D_(this.encryptionKey,this.padding)}function jf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var s=n.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[r]}return e}function rS(n){if(er(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,s){if(s=s||!1,typeof t!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!s],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var u=e[t][o];try{u[0].apply(n,r)}catch(c){Xt.console&&yr.error("jsPDF PubSub Error",c.message,c)}u[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function K1(n){if(!(this instanceof K1))return new K1(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function RN(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function hh(n,e,t,r,s){if(!(this instanceof hh))return new hh(n,e,t,r,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,RN.call(this,r,s)}function Uf(n,e,t,r,s){if(!(this instanceof Uf))return new Uf(n,e,t,r,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,RN.call(this,r,s)}function kt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],u=[],c=1,f=16,d="S",g=null;er(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,s=n.format||s,o=n.compress||n.compressPdf||o,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),r=r||"mm",t=(""+(t||"P")).toLowerCase();var b=n.putOnlyUsedFonts||!1,E={},w={internal:{},__private__:{}};w.__private__.PubSub=rS;var j="1.3",V=w.__private__.getPdfVersion=function(){return j};w.__private__.setPdfVersion=function(A){j=A};var B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return B};var k=w.__private__.getPageFormat=function(A){return B[A]};s=s||"a4";var te="compat",$="advanced",J=te;function ge(){this.saveGraphicsState(),ne(new Ct(Yt,0,0,-Yt,0,qs()*Yt).toString()+" cm"),this.setFontSize(this.getFontSize()/Yt),d="n",J=$}function ve(){this.restoreGraphicsState(),d="S",J=te}var z=w.__private__.combineFontStyleAndFontWeight=function(A,U){if(A=="bold"&&U=="normal"||A=="bold"&&U==400||A=="normal"&&U=="italic"||A=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(A=U==400||U==="normal"?A==="italic"?"italic":"normal":U!=700&&U!=="bold"||A!=="normal"?(U==700?"bold":U)+""+A:"bold"),A};w.advancedAPI=function(A){var U=J===te;return U&&ge.call(this),typeof A!="function"||(A(this),U&&ve.call(this)),this},w.compatAPI=function(A){var U=J===$;return U&&ve.call(this),typeof A!="function"||(A(this),U&&ge.call(this)),this},w.isAdvancedAPI=function(){return J===$};var M,C=function(A){if(J!==$)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=w.roundToPrecision=w.__private__.roundToPrecision=function(A,U){var ie=e||U;if(isNaN(A)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ie).replace(/0+$/,"")};M=w.hpf=w.__private__.hpf=typeof f=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return G(A,f)}:f==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return G(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return G(A,16)};var x=w.f2=w.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return G(A,2)},O=w.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return G(A,3)},R=w.scale=w.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return J===te?A*Yt:J===$?A:void 0},oe=function(A){return R((function(U){return J===te?qs()-U:J===$?U:void 0})(A))};w.__private__.setPrecision=w.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var Ie,ae="00000000000000000000000000000000",pe=w.__private__.getFileId=function(){return ae},fe=w.__private__.setFileId=function(A){return ae=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(dr=new Vf(g.userPermissions,g.userPassword,g.ownerPassword,ae)),ae};w.setFileId=function(A){return fe(A),this},w.getFileId=function(){return pe()};var Le=w.__private__.convertDateToPDFDate=function(A){var U=A.getTimezoneOffset(),ie=U<0?"+":"-",he=Math.floor(Math.abs(U/60)),be=Math.abs(U%60),Ue=[ie,ee(he),"'",ee(be),"'"].join("");return["D:",A.getFullYear(),ee(A.getMonth()+1),ee(A.getDate()),ee(A.getHours()),ee(A.getMinutes()),ee(A.getSeconds()),Ue].join("")},Ke=w.__private__.convertPDFDateToDate=function(A){var U=parseInt(A.substr(2,4),10),ie=parseInt(A.substr(6,2),10)-1,he=parseInt(A.substr(8,2),10),be=parseInt(A.substr(10,2),10),Ue=parseInt(A.substr(12,2),10),Ye=parseInt(A.substr(14,2),10);return new Date(U,ie,he,be,Ue,Ye,0)},Z=w.__private__.setCreationDate=function(A){var U;if(A===void 0&&(A=new Date),A instanceof Date)U=Le(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=A}return Ie=U},P=w.__private__.getCreationDate=function(A){var U=Ie;return A==="jsDate"&&(U=Ke(Ie)),U};w.setCreationDate=function(A){return Z(A),this},w.getCreationDate=function(A){return P(A)};var W,ee=w.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},le=w.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},ce=0,ye=[],De=[],ke=0,Be=[],Je=[],ot=!1,at=De;w.__private__.setCustomOutputDestination=function(A){ot=!0,at=A};var pt=function(A){ot||(at=A)};w.__private__.resetCustomOutputDestination=function(){ot=!1,at=De};var ne=w.__private__.out=function(A){return A=A.toString(),ke+=A.length+1,at.push(A),at},it=w.__private__.write=function(A){return ne(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Jt=w.__private__.getArrayBuffer=function(A){for(var U=A.length,ie=new ArrayBuffer(U),he=new Uint8Array(ie);U--;)he[U]=A.charCodeAt(U);return ie},Pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return Pt};var ze=n.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(A){return ze=J===$?A/Yt:A,this};var ut,lt=w.__private__.getFontSize=w.getFontSize=function(){return J===te?ze:ze*Yt},Ot=n.R2L||!1;w.__private__.setR2L=w.setR2L=function(A){return Ot=A,this},w.__private__.getR2L=w.getR2L=function(){return Ot};var It,Zt=w.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))ut=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');ut=A}else ut=parseInt(A,10)};w.__private__.getZoomMode=function(){return ut};var rn,Kt=w.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');It=A};w.__private__.getPageMode=function(){return It};var cn=w.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');rn=A};w.__private__.getLayoutMode=function(){return rn},w.__private__.setDisplayMode=w.setDisplayMode=function(A,U,ie){return Zt(A),cn(U),Kt(ie),this};var tn={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(A){if(Object.keys(tn).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return tn[A]},w.__private__.getDocumentProperties=function(){return tn},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(A){for(var U in tn)tn.hasOwnProperty(U)&&A[U]&&(tn[U]=A[U]);return this},w.__private__.setDocumentProperty=function(A,U){if(Object.keys(tn).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return tn[A]=U};var wt,Yt,At,_r,nn,Dt={},zt={},en=[],Rt={},Dn={},Bt={},qt={},Vn=null,xt=0,Et=[],hn=new rS(w),Ii=n.hotfixes||[],mi={},Qs={},si=[],Ct=function A(U,ie,he,be,Ue,Ye){if(!(this instanceof A))return new A(U,ie,he,be,Ue,Ye);isNaN(U)&&(U=1),isNaN(ie)&&(ie=0),isNaN(he)&&(he=0),isNaN(be)&&(be=1),isNaN(Ue)&&(Ue=0),isNaN(Ye)&&(Ye=0),this._matrix=[U,ie,he,be,Ue,Ye]};Object.defineProperty(Ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ct.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(A)},Ct.prototype.multiply=function(A){var U=A.sx*this.sx+A.shy*this.shx,ie=A.sx*this.shy+A.shy*this.sy,he=A.shx*this.sx+A.sy*this.shx,be=A.shx*this.shy+A.sy*this.sy,Ue=A.tx*this.sx+A.ty*this.shx+this.tx,Ye=A.tx*this.shy+A.ty*this.sy+this.ty;return new Ct(U,ie,he,be,Ue,Ye)},Ct.prototype.decompose=function(){var A=this.sx,U=this.shy,ie=this.shx,he=this.sy,be=this.tx,Ue=this.ty,Ye=Math.sqrt(A*A+U*U),dt=(A/=Ye)*ie+(U/=Ye)*he;ie-=A*dt,he-=U*dt;var yt=Math.sqrt(ie*ie+he*he);return dt/=yt,A*(he/=yt)<U*(ie/=yt)&&(A=-A,U=-U,dt=-dt,Ye=-Ye),{scale:new Ct(Ye,0,0,yt,0,0),translate:new Ct(1,0,0,1,be,Ue),rotate:new Ct(A,U,-U,A,0,0),skew:new Ct(1,0,dt,1,0,0)}},Ct.prototype.toString=function(A){return this.join(" ")},Ct.prototype.inversed=function(){var A=this.sx,U=this.shy,ie=this.shx,he=this.sy,be=this.tx,Ue=this.ty,Ye=1/(A*he-U*ie),dt=he*Ye,yt=-U*Ye,jt=-ie*Ye,Lt=A*Ye;return new Ct(dt,yt,jt,Lt,-dt*be-jt*Ue,-yt*be-Lt*Ue)},Ct.prototype.applyToPoint=function(A){var U=A.x*this.sx+A.y*this.shx+this.tx,ie=A.x*this.shy+A.y*this.sy+this.ty;return new _i(U,ie)},Ct.prototype.applyToRectangle=function(A){var U=this.applyToPoint(A),ie=this.applyToPoint(new _i(A.x+A.w,A.y+A.h));return new Js(U.x,U.y,ie.x-U.x,ie.y-U.y)},Ct.prototype.clone=function(){var A=this.sx,U=this.shy,ie=this.shx,he=this.sy,be=this.tx,Ue=this.ty;return new Ct(A,U,ie,he,be,Ue)},w.Matrix=Ct;var Ia=w.matrixMult=function(A,U){return U.multiply(A)},os=new Ct(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=os;var qi=function(A,U){if(!Dn[A]){var ie=(U instanceof hh?"Sh":"P")+(Object.keys(Rt).length+1).toString(10);U.id=ie,Dn[A]=ie,Rt[ie]=U,hn.publish("addPattern",U)}};w.ShadingPattern=hh,w.TilingPattern=Uf,w.addShadingPattern=function(A,U){return C("addShadingPattern()"),qi(A,U),this},w.beginTilingPattern=function(A){C("beginTilingPattern()"),Zs(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},w.endTilingPattern=function(A,U){C("endTilingPattern()"),U.stream=Je[W].join(`
`),qi(A,U),hn.publish("endTilingPattern",U),si.pop().restore()};var zi,Kn=w.__private__.newObject=function(){var A=ir();return Wr(A,!0),A},ir=w.__private__.newObjectDeferred=function(){return ce++,ye[ce]=function(){return ke},ce},Wr=function(A,U){return U=typeof U=="boolean"&&U,ye[A]=ke,U&&ne(A+" 0 obj"),A},xi=w.__private__.newAdditionalObject=function(){var A={objId:ir(),content:""};return Be.push(A),A},gi=ir(),jn=ir(),Yn=w.__private__.decodeColorString=function(A){var U=A.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length!==5||U[4]!=="k"&&U[4]!=="K"||(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var ie=parseFloat(U[0]);U=[ie,ie,ie,"r"]}for(var he="#",be=0;be<3;be++)he+=("0"+Math.floor(255*parseFloat(U[be])).toString(16)).slice(-2);return he},Yr=w.__private__.encodeColorString=function(A){var U;typeof A=="string"&&(A={ch1:A});var ie=A.ch1,he=A.ch2,be=A.ch3,Ue=A.ch4,Ye=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var dt=new xN(ie);if(dt.ok)ie=dt.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var yt=parseInt(ie.substr(1),16);ie=yt>>16&255,he=yt>>8&255,be=255&yt}if(he===void 0||Ue===void 0&&ie===he&&he===be)U=typeof ie=="string"?ie+" "+Ye[0]:A.precision===2?x(ie/255)+" "+Ye[0]:O(ie/255)+" "+Ye[0];else if(Ue===void 0||er(Ue)==="object"){if(Ue&&!isNaN(Ue.a)&&Ue.a===0)return["1.","1.","1.",Ye[1]].join(" ");U=typeof ie=="string"?[ie,he,be,Ye[1]].join(" "):A.precision===2?[x(ie/255),x(he/255),x(be/255),Ye[1]].join(" "):[O(ie/255),O(he/255),O(be/255),Ye[1]].join(" ")}else U=typeof ie=="string"?[ie,he,be,Ue,Ye[2]].join(" "):A.precision===2?[x(ie),x(he),x(be),x(Ue),Ye[2]].join(" "):[O(ie),O(he),O(be),O(Ue),Ye[2]].join(" ");return U},Hi=w.__private__.getFilters=function(){return u},As=w.__private__.putStream=function(A){var U=(A=A||{}).data||"",ie=A.filters||Hi(),he=A.alreadyAppliedFilters||[],be=A.addLength1||!1,Ue=U.length,Ye=A.objectId,dt=function(S){return S};if(g!==null&&Ye===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(dt=dr.encryptor(Ye,0));var yt={};ie===!0&&(ie=["FlateEncode"]);var jt=A.additionalKeyValues||[],Lt=(yt=kt.API.processDataByFilters!==void 0?kt.API.processDataByFilters(U,ie):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(he)?he.join(" "):he.toString());if(yt.data.length!==0&&(jt.push({key:"Length",value:yt.data.length}),be===!0&&jt.push({key:"Length1",value:Ue})),Lt.length!=0)if(Lt.split("/").length-1==1)jt.push({key:"Filter",value:Lt});else{jt.push({key:"Filter",value:"["+Lt+"]"});for(var gn=0;gn<jt.length;gn+=1)if(jt[gn].key==="DecodeParms"){for(var sr=[],$n=0;$n<yt.reverseChain.split("/").length-1;$n+=1)sr.push("null");sr.push(jt[gn].value),jt[gn].value="["+sr.join(" ")+"]"}}ne("<<");for(var m=0;m<jt.length;m++)ne("/"+jt[m].key+" "+jt[m].value);ne(">>"),yt.data.length!==0&&(ne("stream"),ne(dt(yt.data)),ne("endstream"))},Ga=w.__private__.putPage=function(A){var U=A.number,ie=A.data,he=A.objId,be=A.contentsObjId;Wr(he,!0),ne("<</Type /Page"),ne("/Parent "+A.rootDictionaryObjId+" 0 R"),ne("/Resources "+A.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(M(A.mediaBox.bottomLeftX))+" "+parseFloat(M(A.mediaBox.bottomLeftY))+" "+M(A.mediaBox.topRightX)+" "+M(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&ne("/CropBox ["+M(A.cropBox.bottomLeftX)+" "+M(A.cropBox.bottomLeftY)+" "+M(A.cropBox.topRightX)+" "+M(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&ne("/BleedBox ["+M(A.bleedBox.bottomLeftX)+" "+M(A.bleedBox.bottomLeftY)+" "+M(A.bleedBox.topRightX)+" "+M(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&ne("/TrimBox ["+M(A.trimBox.bottomLeftX)+" "+M(A.trimBox.bottomLeftY)+" "+M(A.trimBox.topRightX)+" "+M(A.trimBox.topRightY)+"]"),A.artBox!==null&&ne("/ArtBox ["+M(A.artBox.bottomLeftX)+" "+M(A.artBox.bottomLeftY)+" "+M(A.artBox.topRightX)+" "+M(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&ne("/UserUnit "+A.userUnit),hn.publish("putPage",{objId:he,pageContext:Et[U],pageNumber:U,page:ie}),ne("/Contents "+be+" 0 R"),ne(">>"),ne("endobj");var Ue=ie.join(`
`);return J===$&&(Ue+=`
Q`),Wr(be,!0),As({data:Ue,filters:Hi(),objectId:be}),ne("endobj"),he},js=w.__private__.putPages=function(){var A,U,ie=[];for(A=1;A<=xt;A++)Et[A].objId=ir(),Et[A].contentsObjId=ir();for(A=1;A<=xt;A++)ie.push(Ga({number:A,data:Je[A],objId:Et[A].objId,contentsObjId:Et[A].contentsObjId,mediaBox:Et[A].mediaBox,cropBox:Et[A].cropBox,bleedBox:Et[A].bleedBox,trimBox:Et[A].trimBox,artBox:Et[A].artBox,userUnit:Et[A].userUnit,rootDictionaryObjId:gi,resourceDictionaryObjId:jn}));Wr(gi,!0),ne("<</Type /Pages");var he="/Kids [";for(U=0;U<xt;U++)he+=ie[U]+" 0 R ";ne(he+"]"),ne("/Count "+xt),ne(">>"),ne("endobj"),hn.publish("postPutPages")},Gi=function(A){hn.publish("putFont",{font:A,out:ne,newObject:Kn,putStream:As}),A.isAlreadyPutted!==!0&&(A.objectNumber=Kn(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+jf(A.postScriptName)),ne("/Subtype /Type1"),typeof A.encoding=="string"&&ne("/Encoding /"+A.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},xa=function(A){A.objectNumber=Kn();var U=[];U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Form"}),U.push({key:"BBox",value:"["+[M(A.x),M(A.y),M(A.x+A.width),M(A.y+A.height)].join(" ")+"]"}),U.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ie=A.pages[1].join(`
`);As({data:ie,additionalKeyValues:U,objectId:A.objectNumber}),ne("endobj")},ls=function(A,U){U||(U=21);var ie=Kn(),he=(function(Ye,dt){var yt,jt=[],Lt=1/(dt-1);for(yt=0;yt<1;yt+=Lt)jt.push(yt);if(jt.push(1),Ye[0].offset!=0){var gn={offset:0,color:Ye[0].color};Ye.unshift(gn)}if(Ye[Ye.length-1].offset!=1){var sr={offset:1,color:Ye[Ye.length-1].color};Ye.push(sr)}for(var $n="",m=0,S=0;S<jt.length;S++){for(yt=jt[S];yt>Ye[m+1].offset;)m++;var L=Ye[m].offset,Q=(yt-L)/(Ye[m+1].offset-L),Ae=Ye[m].color,Pe=Ye[m+1].color;$n+=le(Math.round((1-Q)*Ae[0]+Q*Pe[0]).toString(16))+le(Math.round((1-Q)*Ae[1]+Q*Pe[1]).toString(16))+le(Math.round((1-Q)*Ae[2]+Q*Pe[2]).toString(16))}return $n.trim()})(A.colors,U),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+U+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),As({data:he,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),ne("endobj"),A.objectNumber=Kn(),ne("<< /ShadingType "+A.type),ne("/ColorSpace /DeviceRGB");var Ue="/Coords ["+M(parseFloat(A.coords[0]))+" "+M(parseFloat(A.coords[1]))+" ";A.type===2?Ue+=M(parseFloat(A.coords[2]))+" "+M(parseFloat(A.coords[3])):Ue+=M(parseFloat(A.coords[2]))+" "+M(parseFloat(A.coords[3]))+" "+M(parseFloat(A.coords[4]))+" "+M(parseFloat(A.coords[5])),ne(Ue+="]"),A.matrix&&ne("/Matrix ["+A.matrix.toString()+"]"),ne("/Function "+ie+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Ni=function(A,U){var ie=ir(),he=Kn();U.push({resourcesOid:ie,objectOid:he}),A.objectNumber=he;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+A.boundingBox.map(M).join(" ")+"]"}),be.push({key:"XStep",value:M(A.xStep)}),be.push({key:"YStep",value:M(A.yStep)}),be.push({key:"Resources",value:ie+" 0 R"}),A.matrix&&be.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),As({data:A.stream,additionalKeyValues:be,objectId:A.objectNumber}),ne("endobj")},us=function(A){for(var U in A.objectNumber=Kn(),ne("<<"),A)switch(U){case"opacity":ne("/ca "+x(A[U]));break;case"stroke-opacity":ne("/CA "+x(A[U]))}ne(">>"),ne("endobj")},Es=function(A){Wr(A.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var U in ne("/Font <<"),Dt)Dt.hasOwnProperty(U)&&(b===!1||b===!0&&E.hasOwnProperty(U))&&ne("/"+U+" "+Dt[U].objectNumber+" 0 R");ne(">>")})(),(function(){if(Object.keys(Rt).length>0){for(var U in ne("/Shading <<"),Rt)Rt.hasOwnProperty(U)&&Rt[U]instanceof hh&&Rt[U].objectNumber>=0&&ne("/"+U+" "+Rt[U].objectNumber+" 0 R");hn.publish("putShadingPatternDict"),ne(">>")}})(),(function(U){if(Object.keys(Rt).length>0){for(var ie in ne("/Pattern <<"),Rt)Rt.hasOwnProperty(ie)&&Rt[ie]instanceof w.TilingPattern&&Rt[ie].objectNumber>=0&&Rt[ie].objectNumber<U&&ne("/"+ie+" "+Rt[ie].objectNumber+" 0 R");hn.publish("putTilingPatternDict"),ne(">>")}})(A.objectOid),(function(){if(Object.keys(Bt).length>0){var U;for(U in ne("/ExtGState <<"),Bt)Bt.hasOwnProperty(U)&&Bt[U].objectNumber>=0&&ne("/"+U+" "+Bt[U].objectNumber+" 0 R");hn.publish("putGStateDict"),ne(">>")}})(),(function(){for(var U in ne("/XObject <<"),mi)mi.hasOwnProperty(U)&&mi[U].objectNumber>=0&&ne("/"+U+" "+mi[U].objectNumber+" 0 R");hn.publish("putXobjectDict"),ne(">>")})(),ne(">>"),ne("endobj")},br=function(A){zt[A.fontName]=zt[A.fontName]||{},zt[A.fontName][A.fontStyle]=A.id},Ho=function(A,U,ie,he,be){var Ue={id:"F"+(Object.keys(Dt).length+1).toString(10),postScriptName:A,fontName:U,fontStyle:ie,encoding:he,isStandardFont:be||!1,metadata:{}};return hn.publish("addFont",{font:Ue,instance:this}),Dt[Ue.id]=Ue,br(Ue),Ue.id},Ki=w.__private__.pdfEscape=w.pdfEscape=function(A,U){return(function(ie,he){var be,Ue,Ye,dt,yt,jt,Lt,gn,sr;if(Ye=(he=he||{}).sourceEncoding||"Unicode",yt=he.outputEncoding,(he.autoencode||yt)&&Dt[wt].metadata&&Dt[wt].metadata[Ye]&&Dt[wt].metadata[Ye].encoding&&(dt=Dt[wt].metadata[Ye].encoding,!yt&&Dt[wt].encoding&&(yt=Dt[wt].encoding),!yt&&dt.codePages&&(yt=dt.codePages[0]),typeof yt=="string"&&(yt=dt[yt]),yt)){for(Lt=!1,jt=[],be=0,Ue=ie.length;be<Ue;be++)(gn=yt[ie.charCodeAt(be)])?jt.push(String.fromCharCode(gn)):jt.push(ie[be]),jt[be].charCodeAt(0)>>8&&(Lt=!0);ie=jt.join("")}for(be=ie.length;Lt===void 0&&be!==0;)ie.charCodeAt(be-1)>>8&&(Lt=!0),be--;if(!Lt)return ie;for(jt=he.noBOM?[]:[254,255],be=0,Ue=ie.length;be<Ue;be++){if((sr=(gn=ie.charCodeAt(be))>>8)>>8)throw new Error("Character at position "+be+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");jt.push(sr),jt.push(gn-(sr<<8))}return String.fromCharCode.apply(void 0,jt)})(A,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ts=w.__private__.beginPage=function(A){Je[++xt]=[],Et[xt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},Go(xt),pt(Je[W])},Us=function(A,U){var ie,he,be;switch(t=U||t,typeof A=="string"&&(ie=k(A.toLowerCase()),Array.isArray(ie)&&(he=ie[0],be=ie[1])),Array.isArray(A)&&(he=A[0]*Yt,be=A[1]*Yt),isNaN(he)&&(he=s[0],be=s[1]),(he>14400||be>14400)&&(yr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),he=Math.min(14400,he),be=Math.min(14400,be)),s=[he,be],t.substr(0,1)){case"l":be>he&&(s=[be,he]);break;case"p":he>be&&(s=[be,he])}Ts(s),Mt(Wi),ne(hs),ds!==0&&ne(ds+" J"),qr!==0&&ne(qr+" j"),hn.publish("addPage",{pageNumber:xt})},fo=function(A){A>0&&A<=xt&&(Je.splice(A,1),Et.splice(A,1),xt--,W>xt&&(W=xt),this.setPage(W))},Go=function(A){A>0&&A<=xt&&(W=A)},Ko=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Je.length-1},Cl=function(A,U,ie){var he,be=void 0;return ie=ie||{},A=A!==void 0?A:Dt[wt].fontName,U=U!==void 0?U:Dt[wt].fontStyle,he=A.toLowerCase(),zt[he]!==void 0&&zt[he][U]!==void 0?be=zt[he][U]:zt[A]!==void 0&&zt[A][U]!==void 0?be=zt[A][U]:ie.disableWarning===!1&&yr.warn("Unable to look up font label for font '"+A+"', '"+U+"'. Refer to getFontList() for available fonts."),be||ie.noFallback||(be=zt.times[U])==null&&(be=zt.times.normal),be},cs=w.__private__.putInfo=function(){var A=Kn(),U=function(he){return he};for(var ie in g!==null&&(U=dr.encryptor(A,0)),ne("<<"),ne("/Producer ("+Ki(U("jsPDF "+kt.version))+")"),tn)tn.hasOwnProperty(ie)&&tn[ie]&&ne("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+Ki(U(tn[ie]))+")");ne("/CreationDate ("+Ki(U(Ie))+")"),ne(">>"),ne("endobj")},yi=w.__private__.putCatalog=function(A){var U=(A=A||{}).rootDictionaryObjId||gi;switch(Kn(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+U+" 0 R"),ut||(ut="fullwidth"),ut){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+ut;ie.substr(ie.length-1)==="%"&&(ut=parseInt(ut)/100),typeof ut=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+x(ut)+"]")}switch(rn||(rn="continuous"),rn){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}It&&ne("/PageMode /"+It),hn.publish("putCatalog"),ne(">>"),ne("endobj")},Cr=w.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(ce+1)),ne("/Root "+ce+" 0 R"),ne("/Info "+(ce-1)+" 0 R"),g!==null&&ne("/Encrypt "+dr.oid+" 0 R"),ne("/ID [ <"+ae+"> <"+ae+"> ]"),ne(">>")},mn=w.__private__.putHeader=function(){ne("%PDF-"+j),ne("%")},Na=w.__private__.putXRef=function(){var A="0000000000";ne("xref"),ne("0 "+(ce+1)),ne("0000000000 65535 f ");for(var U=1;U<=ce;U++)typeof ye[U]=="function"?ne((A+ye[U]()).slice(-10)+" 00000 n "):ye[U]!==void 0?ne((A+ye[U]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},Ss=w.__private__.buildDocument=function(){var A;ce=0,ke=0,De=[],ye=[],Be=[],gi=ir(),jn=ir(),pt(De),hn.publish("buildDocument"),mn(),js(),(function(){hn.publish("putAdditionalObjects");for(var ie=0;ie<Be.length;ie++){var he=Be[ie];Wr(he.objId,!0),ne(he.content),ne("endobj")}hn.publish("postPutAdditionalObjects")})(),A=[],(function(){for(var ie in Dt)Dt.hasOwnProperty(ie)&&(b===!1||b===!0&&E.hasOwnProperty(ie))&&Gi(Dt[ie])})(),(function(){var ie;for(ie in Bt)Bt.hasOwnProperty(ie)&&us(Bt[ie])})(),(function(){for(var ie in mi)mi.hasOwnProperty(ie)&&xa(mi[ie])})(),(function(ie){var he;for(he in Rt)Rt.hasOwnProperty(he)&&(Rt[he]instanceof hh?ls(Rt[he]):Rt[he]instanceof Uf&&Ni(Rt[he],ie))})(A),hn.publish("putResources"),A.forEach(Es),Es({resourcesOid:jn,objectOid:Number.MAX_SAFE_INTEGER}),hn.publish("postPutResources"),g!==null&&(dr.oid=Kn(),ne("<<"),ne("/Filter /Standard"),ne("/V "+dr.v),ne("/R "+dr.r),ne("/U <"+dr.toHexString(dr.U)+">"),ne("/O <"+dr.toHexString(dr.O)+">"),ne("/P "+dr.P),ne(">>"),ne("endobj")),cs(),yi();var U=ke;return Na(),Cr(),ne("startxref"),ne(""+U),ne("%%EOF"),pt(Je[W]),De.join(`
`)},En=w.__private__.getBlob=function(A){return new Blob([Jt(A)],{type:"application/pdf"})},Ka=w.output=w.__private__.output=(zi=function(A,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",A){case void 0:return Ss();case"save":w.save(U.filename);break;case"arraybuffer":return Jt(Ss());case"blob":return En(Ss());case"bloburi":case"bloburl":if(Xt.URL!==void 0&&typeof Xt.URL.createObjectURL=="function")return Xt.URL&&Xt.URL.createObjectURL(En(Ss()))||void 0;yr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",he=Ss();try{ie=eS(he)}catch{ie=eS(unescape(encodeURIComponent(he)))}return"data:application/pdf;filename="+U.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Xt)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ue=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(be=U.pdfObjectUrl,Ue="");var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+Ue+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");<\/script></body></html>",dt=Xt.open();return dt!==null&&dt.document.write(Ye),dt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Xt)==="[object Window]"){var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',jt=Xt.open();if(jt!==null){jt.document.write(yt);var Lt=this;jt.document.documentElement.querySelector("#pdfViewer").onload=function(){jt.document.title=U.filename,jt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Lt.output("bloburl"))}}return jt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Xt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var gn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',sr=Xt.open();if(sr!==null&&(sr.document.write(gn),sr.document.title=U.filename),sr||typeof safari>"u")return sr;break;case"datauri":case"dataurl":return Xt.document.location.href=this.output("datauristring",U);default:return null}},zi.foo=function(){try{return zi.apply(this,arguments)}catch(ie){var A=ie.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var U="Error in function "+A.split(`
`)[0].split("<")[0]+": "+ie.message;if(!Xt.console)throw new Error(U);Xt.console.error(U,ie),Xt.alert&&alert(U)}},zi.foo.bar=zi,zi.foo),Br=function(A){return Array.isArray(Ii)===!0&&Ii.indexOf(A)>-1};switch(r){case"pt":Yt=1;break;case"mm":Yt=72/25.4;break;case"cm":Yt=72/2.54;break;case"in":Yt=72;break;case"px":Yt=Br("px_scaling")==1?.75:96/72;break;case"pc":case"em":Yt=12;break;case"ex":Yt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Yt=r}var dr=null;Z(),fe();var Lr=w.__private__.getPageInfo=w.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Et[A].objId,pageNumber:A,pageContext:Et[A]}},po=w.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in Et)if(Et[U].objId===A)break;return Lr(U)},xu=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:Et[W].objId,pageNumber:W,pageContext:Et[W]}};w.addPage=function(){return Us.apply(this,arguments),this},w.setPage=function(){return Go.apply(this,arguments),pt.call(this,Je[W]),this},w.insertPage=function(A){return this.addPage(),this.movePage(W,A),this},w.movePage=function(A,U){var ie,he;if(A>U){ie=Je[A],he=Et[A];for(var be=A;be>U;be--)Je[be]=Je[be-1],Et[be]=Et[be-1];Je[U]=ie,Et[U]=he,this.setPage(U)}else if(A<U){ie=Je[A],he=Et[A];for(var Ue=A;Ue<U;Ue++)Je[Ue]=Je[Ue+1],Et[Ue]=Et[Ue+1];Je[U]=ie,Et[U]=he,this.setPage(U)}return this},w.deletePage=function(){return fo.apply(this,arguments),this},w.__private__.text=w.text=function(A,U,ie,he,be){var Ue,Ye,dt,yt,jt,Lt,gn,sr,$n,m=(he=he||{}).scope||this;if(typeof A=="number"&&typeof U=="number"&&(typeof ie=="string"||Array.isArray(ie))){var S=ie;ie=U,U=A,A=S}if(arguments[3]instanceof Ct==0?(dt=arguments[4],yt=arguments[5],er(gn=arguments[3])==="object"&&gn!==null||(typeof dt=="string"&&(yt=dt,dt=null),typeof gn=="string"&&(yt=gn,gn=null),typeof gn=="number"&&(dt=gn,gn=null),he={flags:gn,angle:dt,align:yt})):(C("The transform parameter of text() with a Matrix value"),$n=be),isNaN(U)||isNaN(ie)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return m;var L,Q="",Ae=typeof he.lineHeightFactor=="number"?he.lineHeightFactor:La,Pe=m.internal.scaleFactor;function Ze(On){return On=On.split("	").join(Array(he.TabLen||9).join(" ")),Ki(On,gn)}function Wt(On){for(var Nn,or=On.concat(),Hr=[],io=or.length;io--;)typeof(Nn=or.shift())=="string"?Hr.push(Nn):Array.isArray(On)&&(Nn.length===1||Nn[1]===void 0&&Nn[2]===void 0)?Hr.push(Nn[0]):Hr.push([Nn[0],Nn[1],Nn[2]]);return Hr}function ar(On,Nn){var or;if(typeof On=="string")or=Nn(On)[0];else if(Array.isArray(On)){for(var Hr,io,Oa=On.concat(),jl=[],Bc=Oa.length;Bc--;)typeof(Hr=Oa.shift())=="string"?jl.push(Nn(Hr)[0]):Array.isArray(Hr)&&typeof Hr[0]=="string"&&(io=Nn(Hr[0],Hr[1],Hr[2]),jl.push([io[0],io[1],io[2]]));or=jl}return or}var dn=!1,Fn=!0;if(typeof A=="string")dn=!0;else if(Array.isArray(A)){var vi=A.concat();Ye=[];for(var Ci,Qn=vi.length;Qn--;)(typeof(Ci=vi.shift())!="string"||Array.isArray(Ci)&&typeof Ci[0]!="string")&&(Fn=!1);dn=Fn}if(dn===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Li=ze/m.internal.scaleFactor,zs=Li*(Ae-1);switch(he.baseline){case"bottom":ie-=zs;break;case"top":ie+=Li-zs;break;case"hanging":ie+=Li-2*zs;break;case"middle":ie+=Li/2-zs}if((Lt=he.maxWidth||0)>0&&(typeof A=="string"?A=m.splitTextToSize(A,Lt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(On,Nn){return On.concat(m.splitTextToSize(Nn,Lt))},[]))),Ue={text:A,x:U,y:ie,options:he,mutex:{pdfEscape:Ki,activeFontKey:wt,fonts:Dt,activeFontSize:ze}},hn.publish("preProcessText",Ue),A=Ue.text,dt=(he=Ue.options).angle,$n instanceof Ct==0&&dt&&typeof dt=="number"){dt*=Math.PI/180,he.rotationDirection===0&&(dt=-dt),J===$&&(dt=-dt);var Xa=Math.cos(dt),Ja=Math.sin(dt);$n=new Ct(Xa,Ja,-Ja,Xa,0,0)}else dt&&dt instanceof Ct&&($n=dt);J!==$||$n||($n=os),(jt=he.charSpace||fs)!==void 0&&(Q+=M(R(jt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(sr=he.horizontalScale)!==void 0&&(Q+=M(100*sr)+` Tz
`),he.lang;var ms=-1,vo=he.renderingMode!==void 0?he.renderingMode:he.stroke,Nu=m.internal.getCurrentPageInfo().pageContext;switch(vo){case 0:case!1:case"fill":ms=0;break;case 1:case!0:case"stroke":ms=1;break;case 2:case"fillThenStroke":ms=2;break;case 3:case"invisible":ms=3;break;case 4:case"fillAndAddForClipping":ms=4;break;case 5:case"strokeAndAddPathForClipping":ms=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ms=6;break;case 7:case"addToPathForClipping":ms=7}var Uc=Nu.usedRenderingMode!==void 0?Nu.usedRenderingMode:-1;ms!==-1?Q+=ms+` Tr
`:Uc!==-1&&(Q+=`0 Tr
`),ms!==-1&&(Nu.usedRenderingMode=ms),yt=he.align||"left";var Hs,Pa=ze*Ae,bo=m.internal.pageSize.getWidth(),Fc=Dt[wt];jt=he.charSpace||fs,Lt=he.maxWidth||0,gn=Object.assign({autoencode:!0,noBOM:!0},he.flags);var Da=[],Jo=function(On){return m.getStringUnitWidth(On,{font:Fc,charSpace:jt,fontSize:ze,doKerning:!1})*ze/Pe};if(Object.prototype.toString.call(A)==="[object Array]"){var xs;Ye=Wt(A),yt!=="left"&&(Hs=Ye.map(Jo));var gs,Za=0;if(yt==="right"){U-=Hs[0],A=[],Qn=Ye.length;for(var eo=0;eo<Qn;eo++)eo===0?(gs=oi(U),xs=Qr(ie)):(gs=R(Za-Hs[eo]),xs=-Pa),A.push([Ye[eo],gs,xs]),Za=Hs[eo]}else if(yt==="center"){U-=Hs[0]/2,A=[],Qn=Ye.length;for(var wo=0;wo<Qn;wo++)wo===0?(gs=oi(U),xs=Qr(ie)):(gs=R((Za-Hs[wo])/2),xs=-Pa),A.push([Ye[wo],gs,xs]),Za=Hs[wo]}else if(yt==="left"){A=[],Qn=Ye.length;for(var Ru=0;Ru<Qn;Ru++)A.push(Ye[Ru])}else if(yt==="justify"&&Fc.encoding==="Identity-H"){A=[],Qn=Ye.length,Lt=Lt!==0?Lt:bo;for(var Cu=0,zr=0;zr<Qn;zr++)if(xs=zr===0?Qr(ie):-Pa,gs=zr===0?oi(U):Cu,zr<Qn-1){var qh=R((Lt-Hs[zr])/(Ye[zr].split(" ").length-1)),to=Ye[zr].split(" ");A.push([to[0]+" ",gs,xs]),Cu=0;for(var no=1;no<to.length;no++){var ki=(Jo(to[no-1]+" "+to[no])-Jo(to[no]))*Pe+qh;no==to.length-1?A.push([to[no],ki,0]):A.push([to[no]+" ",ki,0]),Cu-=ki}}else A.push([Ye[zr],gs,xs]);A.push(["",Cu,0])}else{if(yt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Qn=Ye.length,Lt=Lt!==0?Lt:bo,zr=0;zr<Qn;zr++){xs=zr===0?Qr(ie):-Pa,gs=zr===0?oi(U):0;var Ao=Ye[zr].split(" ").length-1,Lu=Ao>0?(Lt-Hs[zr])/Ao:0;zr<Qn-1?Da.push(M(R(Lu))):Da.push(0),A.push([Ye[zr],gs,xs])}}}(typeof he.R2L=="boolean"?he.R2L:Ot)===!0&&(A=ar(A,function(On,Nn,or){return[On.split("").reverse().join(""),Nn,or]})),Ue={text:A,x:U,y:ie,options:he,mutex:{pdfEscape:Ki,activeFontKey:wt,fonts:Dt,activeFontSize:ze}},hn.publish("postProcessText",Ue),A=Ue.text,L=Ue.mutex.isHex||!1;var ku=Dt[wt].encoding;ku!=="WinAnsiEncoding"&&ku!=="StandardEncoding"||(A=ar(A,function(On,Nn,or){return[Ze(On),Nn,or]})),Ye=Wt(A),A=[];for(var Eo,To,ro,Vl=Array.isArray(Ye[0])?1:0,Gs="",So=function(On,Nn,or){var Hr="";return or instanceof Ct?(or=typeof he.angle=="number"?Ia(or,new Ct(1,0,0,1,On,Nn)):Ia(new Ct(1,0,0,1,On,Nn),or),J===$&&(or=Ia(new Ct(1,0,0,-1,0,0),or)),Hr=or.join(" ")+` Tm
`):Hr=M(On)+" "+M(Nn)+` Td
`,Hr},Yi=0;Yi<Ye.length;Yi++){switch(Gs="",Vl){case 1:ro=(L?"<":"(")+Ye[Yi][0]+(L?">":")"),Eo=parseFloat(Ye[Yi][1]),To=parseFloat(Ye[Yi][2]);break;case 0:ro=(L?"<":"(")+Ye[Yi]+(L?">":")"),Eo=oi(U),To=Qr(ie)}Da!==void 0&&Da[Yi]!==void 0&&(Gs=Da[Yi]+` Tw
`),Yi===0?A.push(Gs+So(Eo,To,$n)+ro):Vl===0?A.push(Gs+ro):Vl===1&&A.push(Gs+So(Eo,To,$n)+ro)}A=Vl===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var na=`BT
/`;return na+=wt+" "+ze+` Tf
`,na+=M(ze*Ae)+` TL
`,na+=Bs+`
`,na+=Q,na+=A,ne(na+="ET"),E[wt]=!0,m};var Ll=w.__private__.clip=w.clip=function(A){return ne(A==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return Ll("evenodd")},w.__private__.discardPath=w.discardPath=function(){return ne("n"),this};var Ri=w.__private__.isValidStyle=function(A){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(U=!0),U};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(A){return Ri(A)&&(d=A),this};var kl=w.__private__.getStyle=w.getStyle=function(A){var U=d;switch(A){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=A}return U},Ra=w.close=function(){return ne("h"),this};w.stroke=function(){return ne("S"),this},w.fill=function(A){return ai("f",A),this},w.fillEvenOdd=function(A){return ai("f*",A),this},w.fillStroke=function(A){return ai("B",A),this},w.fillStrokeEvenOdd=function(A){return ai("B*",A),this};var ai=function(A,U){er(U)==="object"?Dl(U,A):ne(A)},$a=function(A){A===null||J===$&&A===void 0||(A=kl(A),ne(A))};function Pl(A,U,ie,he,be){var Ue=new Uf(U||this.boundingBox,ie||this.xStep,he||this.yStep,this.gState,be||this.matrix);Ue.stream=this.stream;var Ye=A+"$$"+this.cloneIndex+++"$$";return qi(Ye,Ue),Ue}var Dl=function(A,U){var ie=Dn[A.key],he=Rt[ie];if(he instanceof hh)ne("q"),ne($o(U)),he.gState&&w.setGState(he.gState),ne(A.matrix.toString()+" cm"),ne("/"+ie+" sh"),ne("Q");else if(he instanceof Uf){var be=new Ct(1,0,0,-1,0,qs());A.matrix&&(be=be.multiply(A.matrix||os),ie=Pl.call(he,A.key,A.boundingBox,A.xStep,A.yStep,be).id),ne("q"),ne("/Pattern cs"),ne("/"+ie+" scn"),he.gState&&w.setGState(he.gState),ne(U),ne("Q")}},$o=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Wo=w.moveTo=function(A,U){return ne(M(R(A))+" "+M(oe(U))+" m"),this},Ca=w.lineTo=function(A,U){return ne(M(R(A))+" "+M(oe(U))+" l"),this},$i=w.curveTo=function(A,U,ie,he,be,Ue){return ne([M(R(A)),M(oe(U)),M(R(ie)),M(oe(he)),M(R(be)),M(oe(Ue)),"c"].join(" ")),this};w.__private__.line=w.line=function(A,U,ie,he,be){if(isNaN(A)||isNaN(U)||isNaN(ie)||isNaN(he)||!Ri(be))throw new Error("Invalid arguments passed to jsPDF.line");return J===te?this.lines([[ie-A,he-U]],A,U,[1,1],be||"S"):this.lines([[ie-A,he-U]],A,U,[1,1]).stroke()},w.__private__.lines=w.lines=function(A,U,ie,he,be,Ue){var Ye,dt,yt,jt,Lt,gn,sr,$n,m,S,L,Q;if(typeof A=="number"&&(Q=ie,ie=U,U=A,A=Q),he=he||[1,1],Ue=Ue||!1,isNaN(U)||isNaN(ie)||!Array.isArray(A)||!Array.isArray(he)||!Ri(be)||typeof Ue!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wo(U,ie),Ye=he[0],dt=he[1],jt=A.length,S=U,L=ie,yt=0;yt<jt;yt++)(Lt=A[yt]).length===2?(S=Lt[0]*Ye+S,L=Lt[1]*dt+L,Ca(S,L)):(gn=Lt[0]*Ye+S,sr=Lt[1]*dt+L,$n=Lt[2]*Ye+S,m=Lt[3]*dt+L,S=Lt[4]*Ye+S,L=Lt[5]*dt+L,$i(gn,sr,$n,m,S,L));return Ue&&Ra(),$a(be),this},w.path=function(A){for(var U=0;U<A.length;U++){var ie=A[U],he=ie.c;switch(ie.op){case"m":Wo(he[0],he[1]);break;case"l":Ca(he[0],he[1]);break;case"c":$i.apply(this,he);break;case"h":Ra()}}return this},w.__private__.rect=w.rect=function(A,U,ie,he,be){if(isNaN(A)||isNaN(U)||isNaN(ie)||isNaN(he)||!Ri(be))throw new Error("Invalid arguments passed to jsPDF.rect");return J===te&&(he=-he),ne([M(R(A)),M(oe(U)),M(R(ie)),M(R(he)),"re"].join(" ")),$a(be),this},w.__private__.triangle=w.triangle=function(A,U,ie,he,be,Ue,Ye){if(isNaN(A)||isNaN(U)||isNaN(ie)||isNaN(he)||isNaN(be)||isNaN(Ue)||!Ri(Ye))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-A,he-U],[be-ie,Ue-he],[A-be,U-Ue]],A,U,[1,1],Ye,!0),this},w.__private__.roundedRect=w.roundedRect=function(A,U,ie,he,be,Ue,Ye){if(isNaN(A)||isNaN(U)||isNaN(ie)||isNaN(he)||isNaN(be)||isNaN(Ue)||!Ri(Ye))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var dt=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*ie),Ue=Math.min(Ue,.5*he),this.lines([[ie-2*be,0],[be*dt,0,be,Ue-Ue*dt,be,Ue],[0,he-2*Ue],[0,Ue*dt,-be*dt,Ue,-be,Ue],[2*be-ie,0],[-be*dt,0,-be,-Ue*dt,-be,-Ue],[0,2*Ue-he],[0,-Ue*dt,be*dt,-Ue,be,-Ue]],A+be,U,[1,1],Ye,!0),this},w.__private__.ellipse=w.ellipse=function(A,U,ie,he,be){if(isNaN(A)||isNaN(U)||isNaN(ie)||isNaN(he)||!Ri(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ue=4/3*(Math.SQRT2-1)*ie,Ye=4/3*(Math.SQRT2-1)*he;return Wo(A+ie,U),$i(A+ie,U-Ye,A+Ue,U-he,A,U-he),$i(A-Ue,U-he,A-ie,U-Ye,A-ie,U),$i(A-ie,U+Ye,A-Ue,U+he,A,U+he),$i(A+Ue,U+he,A+ie,U+Ye,A+ie,U),$a(be),this},w.__private__.circle=w.circle=function(A,U,ie,he){if(isNaN(A)||isNaN(U)||isNaN(ie)||!Ri(he))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,U,ie,ie,he)},w.setFont=function(A,U,ie){return ie&&(U=z(U,ie)),wt=Cl(A,U,{disableWarning:!1}),this};var Fs=w.__private__.getFont=w.getFont=function(){return Dt[Cl.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var A,U,ie={};for(A in zt)if(zt.hasOwnProperty(A))for(U in ie[A]=[],zt[A])zt[A].hasOwnProperty(U)&&ie[A].push(U);return ie},w.addFont=function(A,U,ie,he,be){var Ue=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ue.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&Ue.indexOf(arguments[3])==-1&&(ie=z(ie,he)),Ho.call(this,A,U,ie,be=be||"Identity-H")};var La,Wi=n.lineWidth||.200025,Wa=w.__private__.getLineWidth=w.getLineWidth=function(){return Wi},Mt=w.__private__.setLineWidth=w.setLineWidth=function(A){return Wi=A,ne(M(R(A))+" w"),this};w.__private__.setLineDash=kt.API.setLineDash=kt.API.setLineDashPattern=function(A,U){if(A=A||[],U=U||0,isNaN(U)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ie){return M(R(ie))}).join(" "),U=M(R(U)),ne("["+A+"] "+U+" d"),this};var mo=w.__private__.getLineHeight=w.getLineHeight=function(){return ze*La};w.__private__.getLineHeight=w.getLineHeight=function(){return ze*La};var Yo=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(La=A),this},Ya=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return La};Yo(n.lineHeight);var oi=w.__private__.getHorizontalCoordinate=function(A){return R(A)},Qr=w.__private__.getVerticalCoordinate=function(A){return J===$?A:Et[W].mediaBox.topRightY-Et[W].mediaBox.bottomLeftY-R(A)},go=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(A){return M(oi(A))},Un=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(A){return M(Qr(A))},hs=n.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Yn(hs)},w.__private__.setStrokeColor=w.setDrawColor=function(A,U,ie,he){return hs=Yr({ch1:A,ch2:U,ch3:ie,ch4:he,pdfColorType:"draw",precision:2}),ne(hs),this};var yo=n.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Yn(yo)},w.__private__.setFillColor=w.setFillColor=function(A,U,ie,he){return yo=Yr({ch1:A,ch2:U,ch3:ie,ch4:he,pdfColorType:"fill",precision:2}),ne(yo),this};var Bs=n.textColor||"0 g",Ol=w.__private__.getTextColor=w.getTextColor=function(){return Yn(Bs)};w.__private__.setTextColor=w.setTextColor=function(A,U,ie,he){return Bs=Yr({ch1:A,ch2:U,ch3:ie,ch4:he,pdfColorType:"text",precision:3}),this};var fs=n.charSpace,ka=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(fs||0)};w.__private__.setCharSpace=w.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return fs=A,this};var ds=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(A){var U=w.CapJoinStyles[A];if(U===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ds=U,ne(U+" J"),this};var qr=0;w.__private__.setLineJoin=w.setLineJoin=function(A){var U=w.CapJoinStyles[A];if(U===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qr=U,ne(U+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(M(R(A))+" M"),this},w.GState=K1,w.setGState=function(A){(A=typeof A=="string"?Bt[qt[A]]:Xs(null,A)).equals(Vn)||(ne("/"+A.id+" gs"),Vn=A)};var Xs=function(A,U){if(!A||!qt[A]){var ie=!1;for(var he in Bt)if(Bt.hasOwnProperty(he)&&Bt[he].equals(U)){ie=!0;break}if(ie)U=Bt[he];else{var be="GS"+(Object.keys(Bt).length+1).toString(10);Bt[be]=U,U.id=be}return A&&(qt[A]=U.id),hn.publish("addGState",U),U}};w.addGState=function(A,U){return Xs(A,U),this},w.saveGraphicsState=function(){return ne("q"),en.push({key:wt,size:ze,color:Bs}),this},w.restoreGraphicsState=function(){ne("Q");var A=en.pop();return wt=A.key,ze=A.size,Bs=A.color,Vn=null,this},w.setCurrentTransformationMatrix=function(A){return ne(A.toString()+" cm"),this},w.comment=function(A){return ne("#"+A),this};var _i=function(A,U){var ie=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Ue){isNaN(Ue)||(ie=parseFloat(Ue))}});var he=U||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return he},set:function(Ue){isNaN(Ue)||(he=parseFloat(Ue))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(Ue){be=Ue.toString()}}),this},Js=function(A,U,ie,he){_i.call(this,A,U),this.type="rect";var be=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function(Ye){isNaN(Ye)||(be=parseFloat(Ye))}});var Ue=he||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ue},set:function(Ye){isNaN(Ye)||(Ue=parseFloat(Ye))}}),this},Qa=function(){this.page=xt,this.currentPage=W,this.pages=Je.slice(0),this.pagesContext=Et.slice(0),this.x=At,this.y=_r,this.matrix=nn,this.width=Is(W),this.height=Qo(W),this.outputDestination=at,this.id="",this.objectNumber=-1};Qa.prototype.restore=function(){xt=this.page,W=this.currentPage,Et=this.pagesContext,Je=this.pages,At=this.x,_r=this.y,nn=this.matrix,_o(W,this.width),ps(W,this.height),at=this.outputDestination};var Zs=function(A,U,ie,he,be){si.push(new Qa),xt=W=0,Je=[],At=A,_r=U,nn=be,Ts([ie,he])};for(var ea in w.beginFormObject=function(A,U,ie,he,be){return Zs(A,U,ie,he,be),this},w.endFormObject=function(A){return(function(U){if(Qs[U])si.pop().restore();else{var ie=new Qa,he="Xo"+(Object.keys(mi).length+1).toString(10);ie.id=he,Qs[U]=he,mi[he]=ie,hn.publish("addFormObject",ie),si.pop().restore()}})(A),this},w.doFormObject=function(A,U){var ie=mi[Qs[A]];return ne("q"),ne(U.toString()+" cm"),ne("/"+ie.id+" Do"),ne("Q"),this},w.getFormObject=function(A){var U=mi[Qs[A]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},w.save=function(A,U){return A=A||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(ah(En(Ss()),A),typeof ah.unload=="function"&&Xt.setTimeout&&setTimeout(ah.unload,911),this):new Promise(function(ie,he){try{var be=ah(En(Ss()),A);typeof ah.unload=="function"&&Xt.setTimeout&&setTimeout(ah.unload,911),ie(be)}catch(Ue){he(Ue.message)}})},kt.API)kt.API.hasOwnProperty(ea)&&(ea==="events"&&kt.API.events.length?(function(A,U){var ie,he,be;for(be=U.length-1;be!==-1;be--)ie=U[be][0],he=U[be][1],A.subscribe.apply(A,[ie].concat(typeof he=="function"?[he]:he))})(hn,kt.API.events):w[ea]=kt.API[ea]);function Is(A){return Et[A].mediaBox.topRightX-Et[A].mediaBox.bottomLeftX}function _o(A,U){Et[A].mediaBox.topRightX=U+Et[A].mediaBox.bottomLeftX}function Qo(A){return Et[A].mediaBox.topRightY-Et[A].mediaBox.bottomLeftY}function ps(A,U){Et[A].mediaBox.topRightY=U+Et[A].mediaBox.bottomLeftY}var ta=w.getPageWidth=function(A){return Is(A=A||W)/Yt},Ml=w.setPageWidth=function(A,U){_o(A,U*Yt)},qs=w.getPageHeight=function(A){return Qo(A=A||W)/Yt},Xo=w.setPageHeight=function(A,U){ps(A,U*Yt)};return w.internal={pdfEscape:Ki,getStyle:kl,getFont:Fs,getFontSize:lt,getCharSpace:ka,getTextColor:Ol,getLineHeight:mo,getLineHeightFactor:Ya,getLineWidth:Wa,write:it,getHorizontalCoordinate:oi,getVerticalCoordinate:Qr,getCoordinateString:go,getVerticalCoordinateString:Un,collections:{},newObject:Kn,newAdditionalObject:xi,newObjectDeferred:ir,newObjectDeferredBegin:Wr,getFilters:Hi,putStream:As,events:hn,scaleFactor:Yt,pageSize:{getWidth:function(){return ta(W)},setWidth:function(A){Ml(W,A)},getHeight:function(){return qs(W)},setHeight:function(A){Xo(W,A)}},encryptionOptions:g,encryption:dr,getEncryptor:function(A){return g!==null?dr.encryptor(A,0):function(U){return U}},output:Ka,getNumberOfPages:Ko,get pages(){return Je},out:ne,f2:x,f3:O,getPageInfo:Lr,getPageInfoByObjId:po,getCurrentPageInfo:xu,getPDFVersion:V,Point:_i,Rectangle:Js,Matrix:Ct,hasHotfix:Br},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return ta(W)},set:function(A){Ml(W,A)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return qs(W)},set:function(A){Xo(W,A)},enumerable:!0,configurable:!0}),(function(A){for(var U=0,ie=Pt.length;U<ie;U++){var he=Ho.call(this,A[U][0],A[U][1],A[U][2],Pt[U][3],!0);b===!1&&(E[he]=!0);var be=A[U][0].split("-");br({id:he,fontName:be[0],fontStyle:be[1]||""})}hn.publish("addFonts",{fonts:Dt,dictionary:zt})}).call(w,Pt),wt="F1",Us(s,t),hn.publish("initialized"),w}Vf.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Vf.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Vf.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Vf.prototype.processOwnerPassword=function(n,e){return D_(P_(e).substr(0,5),n)},Vf.prototype.encryptor=function(n,e){var t=P_(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return D_(t,r)}},K1.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||er(n)!==er(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},kt.API={events:[]},kt.version="4.2.0";var ri=kt.API,I5=1,Bh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Lh=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},on=function(n){return n.toFixed(2)},oc=function(n){return n.toFixed(5)};ri.__acroform__={};var Sa=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},iS=function(n){return n*I5},dl=function(n){var e=new LN,t=vt.internal.getHeight(n)||0,r=vt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(on(r)),Number(on(t))],e},sU=ri.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},aU=ri.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},oU=ri.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},ci=ri.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return oU(n,e-1)},hi=ri.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return sU(n,e-1)},fi=ri.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return aU(n,e-1)},lU=ri.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=n[0],o=n[1],u=n[2],c=n[3],f={};return f.lowerLeft_X=t(s)||0,f.lowerLeft_Y=r(o+c)||0,f.upperRight_X=t(s+u)||0,f.upperRight_Y=r(o)||0,[Number(on(f.lowerLeft_X)),Number(on(f.lowerLeft_Y)),Number(on(f.upperRight_X)),Number(on(f.upperRight_Y))]},uU=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=O_(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+on(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=dl(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},O_=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(x){return x.split(`
`)}):s.map(function(x){return[x]});var o=t,u=vt.internal.getHeight(n)||0;u=u<0?-u:u;var c=vt.internal.getWidth(n)||0;c=c<0?-c:c;var f=function(x,O,R){if(x+1<s.length){var oe=O+" "+s[x+1][0];return Yg(oe,n,R).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,g,b=Yg("3",n,o).height,E=n.multiline?u-o:(u-b)/2,w=E+=2,j=0,V=0,B=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Yg(e,n,o=12).width+", FieldWidth:"+c+`
`;break}for(var k="",te=0,$=0;$<s.length;$++)if(s.hasOwnProperty($)){var J=!1;if(s[$].length!==1&&B!==s[$].length-1){if((b+2)*(te+2)+2>u)continue e;k+=s[$][B],J=!0,V=$,$--}else{k=(k+=s[$][B]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var ge=parseInt($),ve=f(ge,k,o),z=$>=s.length-1;if(ve&&!z){k+=" ",B=0;continue}if(ve||z){if(z)V=ge;else if(n.multiline&&(b+2)*(te+2)+2>u)continue e}else{if(!n.multiline||(b+2)*(te+2)+2>u)continue e;V=ge}}for(var M="",C=j;C<=V;C++){var G=s[C];if(n.multiline){if(C===V){M+=G[B]+" ",B=(B+1)%G.length;continue}if(C===j){M+=G[G.length-1]+" ";continue}}M+=G[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,g=Yg(M,n,o).width,n.textAlign){case"right":d=c-g-2;break;case"center":d=(c-g)/2;break;default:d=2}e+=on(d)+" "+on(w)+` Td
`,e+="("+Bh(M)+`) Tj
`,e+=-on(d)+` 0 Td
`,w=-(o+2),g=0,j=J?V:V+1,te++,k=""}break}return r.text=e,r.fontSize=o,r},Yg=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},cU={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hU=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},fU=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(qo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(cU)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");I5=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new kN,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&hU(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,s){var o=!r;for(var u in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var c=r[u],f=[],d=c.Rect;if(c.Rect&&(c.Rect=lU(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=vt.createDefaultAppearanceStream(c),er(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var g=uU(c);f.push({key:"AP",value:"<</N "+g+">>"}),s.internal.acroformPlugin.xForms.push(g)}if(c.appearanceStreamContent){var b="";for(var E in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(E)){var w=c.appearanceStreamContent[E];if(b+="/"+E+" ",b+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var u in w)if(w.hasOwnProperty(u)){var j=w[u];typeof j=="function"&&(j=j.call(s,c)),b+="/"+u+" "+j+" ",s.internal.acroformPlugin.xForms.indexOf(j)>=0||s.internal.acroformPlugin.xForms.push(j)}}else typeof(j=w)=="function"&&(j=j.call(s,c)),b+="/"+u+" "+j,s.internal.acroformPlugin.xForms.indexOf(j)>=0||s.internal.acroformPlugin.xForms.push(j);b+=">>"}f.push({key:"AP",value:`<<
`+b+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:c.objId}),s.internal.out("endobj")}o&&(function(V,B){for(var k in V)if(V.hasOwnProperty(k)){var te=k,$=V[k];B.internal.newObjectDeferredBegin($.objId,!0),er($)==="object"&&typeof $.putStream=="function"&&$.putStream(),delete V[te]}})(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},CN=ri.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(u){return u};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),er(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)==="/"?s+="/"+Lh(n[o].substr(1)):(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),s+="("+Bh(r(n[o].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},jy=function(n,e,t){var r=function(s){return s};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Bh(r(n))+")"},vl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};vl.prototype.toString=function(){return this.objId+" 0 R"},vl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},vl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:CN(s,this.objId,this.scope)}):s instanceof vl?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var LN=function(){vl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Sa(LN,vl);var kN=function(){vl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Bh(t(n))+")"}},set:function(t){n=t}})};Sa(kN,vl);var qo=function n(){vl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');e=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ci(e,3)},set:function(k){k?this.F=hi(e,3):this.F=fi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');t=k}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(k){r=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(k){r[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(k){r[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(k){r[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(k){r[3]=k}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof $1)return;o="FieldObject"+n.FieldNum++}var k=function(te){return te};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+Bh(k(o))+")"},set:function(k){o=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(k){o=k}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(k){u=k}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(k){c=k}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(k){f=k}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/I5:d},set:function(k){d=k}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(k){g=k}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof $1||this instanceof _h))return jy(b,this.objId,this.scope)},set:function(k){k=k.toString(),b=k}});var E=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof rs==0?jy(E,this.objId,this.scope):E},set:function(k){k=k.toString(),E=this instanceof rs==0?k.substr(0,1)==="("?Cf(k.substr(1,k.length-2)):Cf(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof rs==1?Cf(E.substr(1,E.length-1)):E},set:function(k){k=k.toString(),E=this instanceof rs==1?"/"+Lh(k):k}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof rs==0?jy(w,this.objId,this.scope):w},set:function(k){k=k.toString(),w=this instanceof rs==0?k.substr(0,1)==="("?Cf(k.substr(1,k.length-2)):Cf(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof rs==1?Cf(w.substr(1,w.length-1)):w},set:function(k){k=k.toString(),w=this instanceof rs==1?"/"+Lh(k):k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,V=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return V},set:function(k){k=!!k,V=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(k){j=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,1)},set:function(k){k?this.Ff=hi(this.Ff,1):this.Ff=fi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,2)},set:function(k){k?this.Ff=hi(this.Ff,2):this.Ff=fi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,3)},set:function(k){k?this.Ff=hi(this.Ff,3):this.Ff=fi(this.Ff,3)}});var B=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(B!==null)return B},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');B=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(B){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:B=2;break;case"center":case 1:B=1;break;default:B=0}}})};Sa(qo,vl);var Kf=function(){qo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return CN(e,this.objId,this.scope)},set:function(t){var r,s;s=[],typeof(r=t)=="string"&&(s=(function(o,u,c){c||(c=1);for(var f,d=[];f=u.exec(o);)d.push(f[c]);return d})(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,18)},set:function(t){t?this.Ff=hi(this.Ff,18):this.Ff=fi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=hi(this.Ff,19):this.Ff=fi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,20)},set:function(t){t?(this.Ff=hi(this.Ff,20),e.sort()):this.Ff=fi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,22)},set:function(t){t?this.Ff=hi(this.Ff,22):this.Ff=fi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,23)},set:function(t){t?this.Ff=hi(this.Ff,23):this.Ff=fi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,27)},set:function(t){t?this.Ff=hi(this.Ff,27):this.Ff=fi(this.Ff,27)}}),this.hasAppearanceStream=!1};Sa(Kf,qo);var $f=function(){Kf.call(this),this.fontName="helvetica",this.combo=!1};Sa($f,Kf);var Wf=function(){$f.call(this),this.combo=!0};Sa(Wf,$f);var d1=function(){Wf.call(this),this.edit=!0};Sa(d1,Wf);var rs=function(){qo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,15)},set:function(t){t?this.Ff=hi(this.Ff,15):this.Ff=fi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,16)},set:function(t){t?this.Ff=hi(this.Ff,16):this.Ff=fi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,17)},set:function(t){t?this.Ff=hi(this.Ff,17):this.Ff=fi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,26)},set:function(t){t?this.Ff=hi(this.Ff,26):this.Ff=fi(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+Bh(t(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){er(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){var r=t==null?"":t.toString();r.substr(0,1)==="/"&&(r=r.substr(1)),n="/"+Lh(r)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+Lh(t)}})};Sa(rs,qo);var p1=function(){rs.call(this),this.pushButton=!0};Sa(p1,rs);var Yf=function(){rs.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Sa(Yf,rs);var $1=function(){var n,e;qo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),r)u.push("/"+o+" ("+Bh(s(r[o]))+")");return u.push(">>"),u.join(`
`)},set:function(s){er(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){var o=s==null?"":s.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),t="/"+Lh(o)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){var o=s==null?"":s.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),t="/"+Lh(o)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Sa($1,qo),Yf.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Yf.prototype.createOption=function(n){var e=new $1;return e.Parent=this,e.optionName=n,this.Kids.push(e),dU.call(this.scope,e),e};var m1=function(){rs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=vt.CheckBox.createAppearanceStream()};Sa(m1,rs);var _h=function(){qo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,13)},set:function(e){e?this.Ff=hi(this.Ff,13):this.Ff=fi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,21)},set:function(e){e?this.Ff=hi(this.Ff,21):this.Ff=fi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,23)},set:function(e){e?this.Ff=hi(this.Ff,23):this.Ff=fi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,24)},set:function(e){e?this.Ff=hi(this.Ff,24):this.Ff=fi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,25)},set:function(e){e?this.Ff=hi(this.Ff,25):this.Ff=fi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,26)},set:function(e){e?this.Ff=hi(this.Ff,26):this.Ff=fi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Sa(_h,qo);var g1=function(){_h.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ci(this.Ff,14)},set:function(n){n?this.Ff=hi(this.Ff,14):this.Ff=fi(this.Ff,14)}}),this.password=!0};Sa(g1,_h);var vt={CheckBox:{createAppearanceStream:function(){return{N:{On:vt.CheckBox.YesNormal},D:{On:vt.CheckBox.YesPushDown,Off:vt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=dl(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=O_(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+on(vt.internal.getWidth(n))+" "+on(vt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+on(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=dl(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],o=vt.internal.getHeight(n),u=vt.internal.getWidth(n),c=O_(n,n.caption);return s.push("1 g"),s.push("0 0 "+on(u)+" "+on(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+on(u-1)+" "+on(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+on(c.fontSize)+" Tf "+r),s.push(c.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=dl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+on(vt.internal.getWidth(n))+" "+on(vt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:vt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=vt.RadioButton.Circle.YesNormal,e.D[n]=vt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=dl(n);e.scope=n.scope;var t=[],r=vt.internal.getWidth(n)<=vt.internal.getHeight(n)?vt.internal.getWidth(n)/4:vt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=vt.internal.Bezier_C,o=Number((r*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+oc(vt.internal.getWidth(n)/2)+" "+oc(vt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=dl(n);e.scope=n.scope;var t=[],r=vt.internal.getWidth(n)<=vt.internal.getHeight(n)?vt.internal.getWidth(n)/4:vt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*vt.internal.Bezier_C).toFixed(5)),u=Number((r*vt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+oc(vt.internal.getWidth(n)/2)+" "+oc(vt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+oc(vt.internal.getWidth(n)/2)+" "+oc(vt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),t.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),t.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),t.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=dl(n);e.scope=n.scope;var t=[],r=vt.internal.getWidth(n)<=vt.internal.getHeight(n)?vt.internal.getWidth(n)/4:vt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*vt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+oc(vt.internal.getWidth(n)/2)+" "+oc(vt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:vt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=vt.RadioButton.Cross.YesNormal,e.D[n]=vt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=dl(n);e.scope=n.scope;var t=[],r=vt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+on(vt.internal.getWidth(n)-2)+" "+on(vt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(on(r.x1.x)+" "+on(r.x1.y)+" m"),t.push(on(r.x2.x)+" "+on(r.x2.y)+" l"),t.push(on(r.x4.x)+" "+on(r.x4.y)+" m"),t.push(on(r.x3.x)+" "+on(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=dl(n);e.scope=n.scope;var t=vt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+on(vt.internal.getWidth(n))+" "+on(vt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+on(vt.internal.getWidth(n)-2)+" "+on(vt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(on(t.x1.x)+" "+on(t.x1.y)+" m"),r.push(on(t.x2.x)+" "+on(t.x2.y)+" l"),r.push(on(t.x4.x)+" "+on(t.x4.y)+" m"),r.push(on(t.x3.x)+" "+on(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=dl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+on(vt.internal.getWidth(n))+" "+on(vt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};vt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=vt.internal.getWidth(n),t=vt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},vt.internal.getWidth=function(n){var e=0;return er(n)==="object"&&(e=iS(n.Rect[2])),e},vt.internal.getHeight=function(n){var e=0;return er(n)==="object"&&(e=iS(n.Rect[3])),e};var dU=ri.addField=function(n){if(fU(this,n),!(n instanceof qo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};ri.AcroFormChoiceField=Kf,ri.AcroFormListBox=$f,ri.AcroFormComboBox=Wf,ri.AcroFormEditBox=d1,ri.AcroFormButton=rs,ri.AcroFormPushButton=p1,ri.AcroFormRadioButton=Yf,ri.AcroFormCheckBox=m1,ri.AcroFormTextField=_h,ri.AcroFormPasswordField=g1,ri.AcroFormAppearance=vt,ri.AcroForm={ChoiceField:Kf,ListBox:$f,ComboBox:Wf,EditBox:d1,Button:rs,PushButton:p1,RadioButton:Yf,CheckBox:m1,TextField:_h,PasswordField:g1,Appearance:vt},kt.AcroForm={ChoiceField:Kf,ListBox:$f,ComboBox:Wf,EditBox:d1,Button:rs,PushButton:p1,RadioButton:Yf,CheckBox:m1,TextField:_h,PasswordField:g1,Appearance:vt};kt.AcroForm;function PN(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(x,O){var R,oe,Ie,ae,pe,fe=t;if((O=O||t)==="RGBA"||x.data!==void 0&&x.data instanceof Uint8ClampedArray&&"height"in x&&"width"in x)return"RGBA";if(ve(x))for(pe in r)for(Ie=r[pe],R=0;R<Ie.length;R+=1){for(ae=!0,oe=0;oe<Ie[R].length;oe+=1)if(Ie[R][oe]!==void 0&&Ie[R][oe]!==x[oe]){ae=!1;break}if(ae===!0){fe=pe;break}}else for(pe in r)for(Ie=r[pe],R=0;R<Ie.length;R+=1){for(ae=!0,oe=0;oe<Ie[R].length;oe+=1)if(Ie[R][oe]!==void 0&&Ie[R][oe]!==x.charCodeAt(oe)){ae=!1;break}if(ae===!0){fe=pe;break}}return fe===t&&O!==t&&(fe=O),fe},o=function x(O){for(var R=this.internal.write,oe=this.internal.putStream,Ie=(0,this.internal.getFilters)();Ie.indexOf("FlateEncode")!==-1;)Ie.splice(Ie.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:O.width}),ae.push({key:"Height",value:O.height}),O.colorSpace===k.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===k.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var pe="",fe=0,Le=O.transparency.length;fe<Le;fe++)pe+=O.transparency[fe]+" "+O.transparency[fe]+" ";ae.push({key:"Mask",value:"["+pe+"]"})}O.sMask!==void 0&&ae.push({key:"SMask",value:O.objectId+1+" 0 R"});var Ke=O.filter!==void 0?["/"+O.filter]:void 0;if(oe({data:O.data,additionalKeyValues:ae,alreadyAppliedFilters:Ke,objectId:O.objectId}),R("endobj"),"sMask"in O&&O.sMask!==void 0){var Z,P=(Z=O.sMaskBitsPerComponent)!==null&&Z!==void 0?Z:O.bitsPerComponent,W={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:O.sMask};"filter"in O&&(W.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(O.width),W.filter=O.filter),x.call(this,W)}if(O.colorSpace===k.INDEXED){var ee=this.internal.newObject();oe({data:M(new Uint8Array(O.palette)),objectId:ee}),R("endobj")}},u=function(){var x=this.internal.collections[e+"images"];for(var O in x)o.call(this,x[O])},c=function(){var x,O=this.internal.collections[e+"images"],R=this.internal.write;for(var oe in O)R("/I"+(x=O[oe]).index,x.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var x=this.internal.collections[e+"images"];return f.call(this),x},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},b=function(x){return typeof n["process"+x.toUpperCase()]=="function"},E=function(x){return er(x)==="object"&&x.nodeType===1},w=function(x,O){if(x.nodeName==="IMG"&&x.hasAttribute("src")){var R=""+x.getAttribute("src");if(R.indexOf("data:image/")===0)return f1(unescape(R).split("base64,").pop());var oe=n.loadFile(R,!0);if(oe!==void 0)return oe}if(x.nodeName==="CANVAS"){if(x.width===0||x.height===0)throw new Error("Given canvas must have data. Canvas width: "+x.width+", height: "+x.height);var Ie;switch(O){case"PNG":Ie="image/png";break;case"WEBP":Ie="image/webp";break;default:Ie="image/jpeg"}return f1(x.toDataURL(Ie,1).split("base64,").pop())}},j=function(x){var O=this.internal.collections[e+"images"];if(O){for(var R in O)if(x===O[R].alias)return O[R]}},V=function(x,O,R){return x||O||(x=-96,O=-96),x<0&&(x=-1*R.width*72/x/this.internal.scaleFactor),O<0&&(O=-1*R.height*72/O/this.internal.scaleFactor),x===0&&(x=O*R.width/R.height),O===0&&(O=x*R.height/R.width),[x,O]},B=function(x,O,R,oe,Ie,ae){var pe=V.call(this,R,oe,Ie),fe=this.internal.getCoordinateString,Le=this.internal.getVerticalCoordinateString,Ke=d.call(this);if(R=pe[0],oe=pe[1],Ke[Ie.index]=Ie,ae){ae*=Math.PI/180;var Z=Math.cos(ae),P=Math.sin(ae),W=function(le){return le.toFixed(4)},ee=[W(Z),W(P),W(-1*P),W(Z),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,fe(x),Le(O+oe),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([fe(R),"0","0",fe(oe),"0","0","cm"].join(" "))):this.internal.write([fe(R),"0","0",fe(oe),fe(x),Le(O+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ie.index+" Do"),this.internal.write("Q")},k=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var te=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},$=n.__addimage__.sHashCode=function(x){var O,R,oe=0;if(typeof x=="string")for(R=x.length,O=0;O<R;O++)oe=(oe<<5)-oe+x.charCodeAt(O),oe|=0;else if(ve(x))for(R=x.byteLength/2,O=0;O<R;O++)oe=(oe<<5)-oe+x[O],oe|=0;return oe},J=n.__addimage__.validateStringAsBase64=function(x){(x=x||"").toString().trim();var O=!0;return x.length===0&&(O=!1),x.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(x.substr(0,x.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(x.substr(-2))===!1&&(O=!1),O},ge=n.__addimage__.extractImageFromDataUrl=function(x){if(x==null||!(x=x.trim()).startsWith("data:"))return null;var O=x.indexOf(",");return O<0?null:x.substring(0,O).trim().endsWith("base64")?x.substring(O+1):null};n.__addimage__.isArrayBuffer=function(x){return x instanceof ArrayBuffer};var ve=n.__addimage__.isArrayBufferView=function(x){return x instanceof Int8Array||x instanceof Uint8Array||x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array},z=n.__addimage__.binaryStringToUint8Array=function(x){for(var O=x.length,R=new Uint8Array(O),oe=0;oe<O;oe++)R[oe]=x.charCodeAt(oe);return R},M=n.__addimage__.arrayBufferToBinaryString=function(x){for(var O="",R=ve(x)?x:new Uint8Array(x),oe=0;oe<R.length;oe+=8192)O+=String.fromCharCode.apply(null,R.subarray(oe,oe+8192));return O};n.addImage=function(){var x,O,R,oe,Ie,ae,pe,fe,Le;if(typeof arguments[1]=="number"?(O=t,R=arguments[1],oe=arguments[2],Ie=arguments[3],ae=arguments[4],pe=arguments[5],fe=arguments[6],Le=arguments[7]):(O=arguments[1],R=arguments[2],oe=arguments[3],Ie=arguments[4],ae=arguments[5],pe=arguments[6],fe=arguments[7],Le=arguments[8]),er(x=arguments[0])==="object"&&!E(x)&&"imageData"in x){var Ke=x;x=Ke.imageData,O=Ke.format||O||t,R=Ke.x||R||0,oe=Ke.y||oe||0,Ie=Ke.w||Ke.width||Ie,ae=Ke.h||Ke.height||ae,pe=Ke.alias||pe,fe=Ke.compression||fe,Le=Ke.rotation||Ke.angle||Le}var Z=this.internal.getFilters();if(fe===void 0&&Z.indexOf("FlateEncode")!==-1&&(fe="SLOW"),isNaN(R)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var P=C.call(this,x,O,pe,fe);return B.call(this,R,oe,Ie,ae,P,Le),this};var C=function(x,O,R,oe){var Ie,ae,pe;if(typeof x=="string"&&s(x)===t){x=unescape(x);var fe=G(x,!1);(fe!==""||(fe=n.loadFile(x,!0))!==void 0)&&(x=fe)}if(E(x)&&(x=w(x,O)),O=s(x,O),!b(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((pe=R)==null||pe.length===0)&&(R=(function(Le){return typeof Le=="string"||ve(Le)?$(Le):ve(Le.data)?$(Le.data):null})(x)),(Ie=j.call(this,R))||(x instanceof Uint8Array||O==="RGBA"||(ae=x,x=z(x)),Ie=this["process"+O.toUpperCase()](x,g.call(this),R,(function(Le){return Le&&typeof Le=="string"&&(Le=Le.toUpperCase()),Le in n.image_compression?Le:te.NONE})(oe),ae)),!Ie)throw new Error("An unknown error occurred whilst processing the image.");return Ie},G=n.__addimage__.convertBase64ToBinaryString=function(x,O){O=typeof O!="boolean"||O;var R,oe="";if(typeof x=="string"){var Ie;R=(Ie=ge(x))!==null&&Ie!==void 0?Ie:x;try{oe=f1(R)}catch(ae){if(O)throw J(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};n.getImageProperties=function(x){var O,R,oe="";if(E(x)&&(x=w(x)),typeof x=="string"&&s(x)===t&&((oe=G(x,!1))===""&&(oe=n.loadFile(x)||""),x=oe),R=s(x),!b(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(x instanceof Uint8Array||(x=z(x)),!(O=this["process"+R.toUpperCase()](x)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=R,O}})(kt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};kt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,s,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,g=!1,b=0;b<d.length&&!g;b++)switch((r=d[b]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var E=0;E<d.length;E++){r=d[E];var w=this.internal.pdfEscape,j=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var V=this.internal.newAdditionalObject(),B=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(V.objId),te=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+w(k(r.contents))+")",o+=" /Popup "+B.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+w(k(te))+") >>",V.content=o;var $=V.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+$,r.open&&(o+=" /Open true"),o+=" >>",B.content=o,this.internal.write(V.objId,"0 R",B.objId,"0 R");break;case"freetext":s="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var J=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+w(j(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+J+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var ge=this.annotations._nameMap[r.options.name];r.options.pageNumber=ge.page,r.options.top=ge.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+w(j(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var ve=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+ve+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,s,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+s),h:d(r+o)},options:u,type:"link"})},n.textWithLink=function(t,r,s,o){var u,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var g=this.splitTextToSize(t,c).length;u=Math.ceil(d*g)}else c=f,u=d;return this.text(t,r,s,o),s+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,s-d,c,u,o),f},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(kt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(V){return e[V.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(V){return typeof V=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(V)},c=n.__arabicParser__.isArabicEndLetter=function(V){return u(V)&&o(V)&&e[V.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(V){return u(V)&&s.indexOf(V.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(V){return u(V)&&o(V)&&e[V.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(V){return u(V)&&o(V)&&e[V.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(V){return u(V)&&o(V)&&e[V.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(V){return u(V)&&o(V)&&e[V.charCodeAt(0)].length==4},b=n.__arabicParser__.resolveLigatures=function(V){var B=0,k=t,te="",$=0;for(B=0;B<V.length;B+=1)k[V.charCodeAt(B)]!==void 0?($++,typeof(k=k[V.charCodeAt(B)])=="number"&&(te+=String.fromCharCode(k),k=t,$=0),B===V.length-1&&(k=t,te+=V.charAt(B-($-1)),B-=$-1,$=0)):(k=t,te+=V.charAt(B-$),B-=$,$=0);return te};n.__arabicParser__.isArabicDiacritic=function(V){return V!==void 0&&r[V.charCodeAt(0)]!==void 0};var E=n.__arabicParser__.getCorrectForm=function(V,B,k){return u(V)?o(V)===!1?-1:!d(V)||!u(B)&&!u(k)||!u(k)&&c(B)||c(V)&&!u(B)||c(V)&&f(B)||c(V)&&c(B)?0:g(V)&&u(B)&&!c(B)&&u(k)&&d(k)?3:c(V)||!u(k)?1:2:-1},w=function(V){var B=0,k=0,te=0,$="",J="",ge="",ve=(V=V||"").split("\\s+"),z=[];for(B=0;B<ve.length;B+=1){for(z.push(""),k=0;k<ve[B].length;k+=1)$=ve[B][k],J=ve[B][k-1],ge=ve[B][k+1],u($)?(te=E($,J,ge),z[B]+=te!==-1?String.fromCharCode(e[$.charCodeAt(0)][te]):$):z[B]+=$;z[B]=b(z[B])}return z.join(" ")},j=n.__arabicParser__.processArabic=n.processArabic=function(){var V,B=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(B)){var te=0;for(k=[],te=0;te<B.length;te+=1)Array.isArray(B[te])?k.push([w(B[te][0]),B[te][1],B[te][2]]):k.push([w(B[te])]);V=k}else V=w(B);return typeof arguments[0]=="string"?V:(arguments[0].text=V,arguments[0])};n.events.push(["preProcessText",j])})(kt.API),kt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var s;if((t=t||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(kt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(V){f=V}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(V){d=V}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(V){g=V}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(V){b=V}});var E=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return E},set:function(V){E=V}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(V){w=V}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(V){j=V}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var g=(d=d||{}).fontSize||this.getFontSize(),b=d.font||this.getFont(),E=d.scaleFactor||this.internal.scaleFactor,w=0,j=0,V=0,B=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var k=d.maxWidth;k>0?typeof f=="string"?f=this.splitTextToSize(f,k):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function($,J){return $.concat(B.splitTextToSize(J,k))},[])):f=Array.isArray(f)?f:[f];for(var te=0;te<f.length;te++)w<(V=this.getStringUnitWidth(f[te],{font:b})*g)&&(w=V);return w!==0&&(j=f.length),{w:w/=E,h:Math.max((j*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/E,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,b=this.internal.__cell__.margins||e,E=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=b.top,w&&E&&(this.printHeaderRow(f.lineNumber,!0),f.y+=E[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-g,f.y+g,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+g,{align:"center",baseline:"top",maxWidth:f.width-g-g}):this.text(f.text,f.x+g,f.y+g,{align:"left",baseline:"top",maxWidth:f.width-g-g})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,g,b,E){if(r.call(this),!g)throw new Error("No data for PDF table.");var w,j,V,B,k=[],te=[],$=[],J={},ge={},ve=[],z=[],M=(E=E||{}).autoSize||!1,C=E.printHeaders!==!1,G=E.css&&E.css["font-size"]!==void 0?16*E.css["font-size"]:E.fontSize||12,x=E.margins||Object.assign({width:this.getPageWidth()},e),O=typeof E.padding=="number"?E.padding:3,R=E.headerBackgroundColor||"#c8c8c8",oe=E.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=x,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=oe,this.setFontSize(G),b==null)te=k=Object.keys(g[0]),$=k.map(function(){return"left"});else if(Array.isArray(b)&&er(b[0])==="object")for(k=b.map(function(Ke){return Ke.name}),te=b.map(function(Ke){return Ke.prompt||Ke.name||""}),$=b.map(function(Ke){return Ke.align||"left"}),w=0;w<b.length;w+=1)ge[b[w].name]=.7499990551181103*b[w].width;else Array.isArray(b)&&typeof b[0]=="string"&&(te=k=b,$=k.map(function(){return"left"}));if(M||Array.isArray(b)&&typeof b[0]=="string")for(w=0;w<k.length;w+=1){for(J[B=k[w]]=g.map(function(Ke){return Ke[B]}),this.setFont(void 0,"bold"),ve.push(this.getTextDimensions(te[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=J[B],this.setFont(void 0,"normal"),V=0;V<j.length;V+=1)ve.push(this.getTextDimensions(j[V],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ge[B]=Math.max.apply(null,ve)+O+O,ve=[]}if(C){var Ie={};for(w=0;w<k.length;w+=1)Ie[k[w]]={},Ie[k[w]].text=te[w],Ie[k[w]].align=$[w];var ae=c.call(this,Ie,ge);z=k.map(function(Ke){return new o(f,d,ge[Ke],ae,Ie[Ke].text,void 0,Ie[Ke].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var pe=b.reduce(function(Ke,Z){return Ke[Z.name]=Z.align,Ke},{});for(w=0;w<g.length;w+=1){"rowStart"in E&&E.rowStart instanceof Function&&E.rowStart({row:w,data:g[w]},this);var fe=c.call(this,g[w],ge);for(V=0;V<k.length;V+=1){var Le=g[w][k[V]];"cellStart"in E&&E.cellStart instanceof Function&&E.cellStart({row:w,col:V,data:Le},this),u.call(this,new o(f,d,ge[k[V]],fe,Le,w+2,pe[k[V]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var g=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,E=this.internal.scaleFactor;return Object.keys(f).map(function(w){var j=f[w];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,d[w]-g-g)},this).map(function(w){return this.getLineHeightFactor()*w.length*b/E+g+g},this).reduce(function(w,j){return Math.max(w,j)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var E=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){g=this.internal.__cell__.tableHeaderRow[w].clone(),d&&(g.y=this.internal.__cell__.margins.top||0,E.push(g)),g.lineNumber=f;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,g),this.setTextColor(j)}E.length>0&&this.setTableHeaderRow(E),this.setFont(void 0,"normal"),t=!1}})(kt.API);var DN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ON=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],M_=PN(ON),MN=[100,200,300,400,500,600,700,800,900],pU=PN(MN);function Uy(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return DN[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),s=(function(o){return typeof M_[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,r].join(" ")}}}function sS(n,e,t,r){var s;for(s=t;s>=0&&s<e.length;s+=r)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=r)if(n[e[s]])return n[e[s]]}var mU={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},aS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function oS(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function lS(n){return n.trimLeft()}function gU(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function yU(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Lf,Qg,uS,cS,hS,Fy=["times"];function fS(n,e,t,r,s){var o=4,u=pS;switch(s){case kt.API.image_compression.FAST:o=1,u=dS;break;case kt.API.image_compression.MEDIUM:o=6,u=mS;break;case kt.API.image_compression.SLOW:o=9,u=gS}n=(function(f,d,g,b){for(var E,w=f.length/d,j=new Uint8Array(f.length+w),V=[_U,dS,pS,mS,gS],B=0;B<w;B+=1){var k=B*d,te=f.subarray(k,k+d);if(b)j.set(b(te,g,E),k+B);else{for(var $=V.length,J=[],ge=0;ge<$;ge+=1)J[ge]=V[ge](te,g,E);var ve=bU(J.concat());j.set(J[ve],k+B)}E=te}return j})(n,e,Math.ceil(t*r/8),u);var c=R_(n,{level:o});return kt.API.__addimage__.arrayBufferToBinaryString(c)}function _U(n){var e=Array.apply([],n);return e.unshift(0),e}function dS(n,e){var t=n.length,r=[];r[0]=1;for(var s=0;s<t;s+=1){var o=n[s-e]||0;r[s+1]=n[s]-o+256&255}return r}function pS(n,e,t){var r=n.length,s=[];s[0]=2;for(var o=0;o<r;o+=1){var u=t&&t[o]||0;s[o+1]=n[o]-u+256&255}return s}function mS(n,e,t){var r=n.length,s=[];s[0]=3;for(var o=0;o<r;o+=1){var u=n[o-e]||0,c=t&&t[o]||0;s[o+1]=n[o]+256-(u+c>>>1)&255}return s}function gS(n,e,t){var r=n.length,s=[];s[0]=4;for(var o=0;o<r;o+=1){var u=vU(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);s[o+1]=n[o]-u+256&255}return s}function vU(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),s=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=s&&r<=o?n:s<=o?e:t}function bU(n){var e=n.map(function(t){return t.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function By(n,e,t){var r=e*t,s=Math.floor(r/8),o=16-(r-8*s+t),u=(1<<t)-1;return VN(n,s)>>o&u}function yS(n,e,t,r){var s=t*r,o=Math.floor(s/8),u=16-(s-8*o+r),c=(1<<r)-1,f=(e&c)<<u;(function(d,g,b){if(g+1<d.byteLength)d.setUint16(g,b,!1);else{var E=b>>8&255;d.setUint8(g,E)}})(n,o,VN(n,o)&~(c<<u)&65535|f)}function VN(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function wU(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,s=n[e++],o=s>>7,u=1<<1+(7&s);n[e++],n[e++];var c=null,f=null;o&&(c=e,f=u,e+=3*u);var d=!0,g=[],b=0,E=null,w=0,j=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,j=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((x=n[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var V=n[e++];b=n[e++]|n[e++]<<8,E=n[e++],1&V||(E=null),w=V>>2&7,e++;break;case 254:for(;;){if(!((x=n[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var B=n[e++]|n[e++]<<8,k=n[e++]|n[e++]<<8,te=n[e++]|n[e++]<<8,$=n[e++]|n[e++]<<8,J=n[e++],ge=J>>6&1,ve=1<<1+(7&J),z=c,M=f,C=!1;J>>7&&(C=!0,z=e,M=ve,e+=3*ve);var G=e;for(e++;;){var x;if(!((x=n[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}g.push({x:B,y:k,width:te,height:$,has_local_palette:C,palette_offset:z,palette_size:M,data_offset:G,data_length:e-G,transparent_index:E,interlaced:!!ge,delay:b,disposal:w});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return j},this.frameInfo=function(O){if(O<0||O>=g.length)throw new Error("Frame index out of range.");return g[O]},this.decodeAndBlitFrameBGRA=function(O,R){var oe=this.frameInfo(O),Ie=oe.width*oe.height;if(Ie>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ae=new Uint8Array(Ie);_S(n,oe.data_offset,ae,Ie);var pe=oe.palette_offset,fe=oe.transparent_index;fe===null&&(fe=256);var Le=oe.width,Ke=t-Le,Z=Le,P=4*(oe.y*t+oe.x),W=4*((oe.y+oe.height)*t+oe.x),ee=P,le=4*Ke;oe.interlaced===!0&&(le+=4*t*7);for(var ce=8,ye=0,De=ae.length;ye<De;++ye){var ke=ae[ye];if(Z===0&&(Z=Le,(ee+=le)>=W&&(le=4*Ke+4*t*(ce-1),ee=P+(Le+Ke)*(ce<<1),ce>>=1)),ke===fe)ee+=4;else{var Be=n[pe+3*ke],Je=n[pe+3*ke+1],ot=n[pe+3*ke+2];R[ee++]=ot,R[ee++]=Je,R[ee++]=Be,R[ee++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(O,R){var oe=this.frameInfo(O),Ie=oe.width*oe.height;if(Ie>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ae=new Uint8Array(Ie);_S(n,oe.data_offset,ae,Ie);var pe=oe.palette_offset,fe=oe.transparent_index;fe===null&&(fe=256);var Le=oe.width,Ke=t-Le,Z=Le,P=4*(oe.y*t+oe.x),W=4*((oe.y+oe.height)*t+oe.x),ee=P,le=4*Ke;oe.interlaced===!0&&(le+=4*t*7);for(var ce=8,ye=0,De=ae.length;ye<De;++ye){var ke=ae[ye];if(Z===0&&(Z=Le,(ee+=le)>=W&&(le=4*Ke+4*t*(ce-1),ee=P+(Le+Ke)*(ce<<1),ce>>=1)),ke===fe)ee+=4;else{var Be=n[pe+3*ke],Je=n[pe+3*ke+1],ot=n[pe+3*ke+2];R[ee++]=Be,R[ee++]=Je,R[ee++]=ot,R[ee++]=255}--Z}}}function _S(n,e,t,r){for(var s=n[e++],o=1<<s,u=o+1,c=u+1,f=s+1,d=(1<<f)-1,g=0,b=0,E=0,w=n[e++],j=new Int32Array(4096),V=null;;){for(;g<16&&w!==0;)b|=n[e++]<<g,g+=8,w===1?w=n[e++]:--w;if(g<f)break;var B=b&d;if(b>>=f,g-=f,B!==o){if(B===u)break;for(var k=B<c?B:V,te=0,$=k;$>o;)$=j[$]>>8,++te;var J=$;if(E+te+(k!==B?1:0)>r)return void yr.log("Warning, gif stream longer than expected.");t[E++]=J;var ge=E+=te;for(k!==B&&(t[E++]=J),$=k;te--;)$=j[$],t[--ge]=255&$,$>>=8;V!==null&&c<4096&&(j[c++]=V<<8|J,c>=d+1&&f<12&&(++f,d=d<<1|1)),V=B}else c=u+1,d=(1<<(f=s+1))-1,V=null}return E!==r&&yr.log("Warning, gif stream shorter than expected."),t}function qy(n){var e,t,r,s,o,u=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),g=new Array(64),b=new Array(65535),E=new Array(65535),w=new Array(64),j=new Array(64),V=[],B=0,k=7,te=new Array(64),$=new Array(64),J=new Array(64),ge=new Array(256),ve=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],x=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(P,W){for(var ee=0,le=0,ce=new Array,ye=1;ye<=16;ye++){for(var De=1;De<=P[ye];De++)ce[W[le]]=[],ce[W[le]][0]=ee,ce[W[le]][1]=ye,le++,ee++;ee*=2}return ce}function pe(P){for(var W=P[0],ee=P[1]-1;ee>=0;)W&1<<ee&&(B|=1<<k),ee--,--k<0&&(B==255?(fe(255),fe(0)):fe(B),k=7,B=0)}function fe(P){V.push(P)}function Le(P){fe(P>>8&255),fe(255&P)}function Ke(P,W,ee,le,ce){for(var ye,De=ce[0],ke=ce[240],Be=(function(ze,ut){var lt,Ot,It,Zt,rn,Kt,cn,tn,wt,Yt,At=0;for(wt=0;wt<8;++wt){lt=ze[At],Ot=ze[At+1],It=ze[At+2],Zt=ze[At+3],rn=ze[At+4],Kt=ze[At+5],cn=ze[At+6];var _r=lt+(tn=ze[At+7]),nn=lt-tn,Dt=Ot+cn,zt=Ot-cn,en=It+Kt,Rt=It-Kt,Dn=Zt+rn,Bt=Zt-rn,qt=_r+Dn,Vn=_r-Dn,xt=Dt+en,Et=Dt-en;ze[At]=qt+xt,ze[At+4]=qt-xt;var hn=.707106781*(Et+Vn);ze[At+2]=Vn+hn,ze[At+6]=Vn-hn;var Ii=.382683433*((qt=Bt+Rt)-(Et=zt+nn)),mi=.5411961*qt+Ii,Qs=1.306562965*Et+Ii,si=.707106781*(xt=Rt+zt),Ct=nn+si,Ia=nn-si;ze[At+5]=Ia+mi,ze[At+3]=Ia-mi,ze[At+1]=Ct+Qs,ze[At+7]=Ct-Qs,At+=8}for(At=0,wt=0;wt<8;++wt){lt=ze[At],Ot=ze[At+8],It=ze[At+16],Zt=ze[At+24],rn=ze[At+32],Kt=ze[At+40],cn=ze[At+48];var os=lt+(tn=ze[At+56]),qi=lt-tn,zi=Ot+cn,Kn=Ot-cn,ir=It+Kt,Wr=It-Kt,xi=Zt+rn,gi=Zt-rn,jn=os+xi,Yn=os-xi,Yr=zi+ir,Hi=zi-ir;ze[At]=jn+Yr,ze[At+32]=jn-Yr;var As=.707106781*(Hi+Yn);ze[At+16]=Yn+As,ze[At+48]=Yn-As;var Ga=.382683433*((jn=gi+Wr)-(Hi=Kn+qi)),js=.5411961*jn+Ga,Gi=1.306562965*Hi+Ga,xa=.707106781*(Yr=Wr+Kn),ls=qi+xa,Ni=qi-xa;ze[At+40]=Ni+js,ze[At+24]=Ni-js,ze[At+8]=ls+Gi,ze[At+56]=ls-Gi,At++}for(wt=0;wt<64;++wt)Yt=ze[wt]*ut[wt],w[wt]=Yt>0?Yt+.5|0:Yt-.5|0;return w})(P,W),Je=0;Je<64;++Je)j[z[Je]]=Be[Je];var ot=j[0]-ee;ee=j[0],ot==0?pe(le[0]):(pe(le[E[ye=32767+ot]]),pe(b[ye]));for(var at=63;at>0&&j[at]==0;)at--;if(at==0)return pe(De),ee;for(var pt,ne=1;ne<=at;){for(var it=ne;j[ne]==0&&ne<=at;)++ne;var Jt=ne-it;if(Jt>=16){pt=Jt>>4;for(var Pt=1;Pt<=pt;++Pt)pe(ke);Jt&=15}ye=32767+j[ne],pe(ce[(Jt<<4)+E[ye]]),pe(b[ye]),ne++}return at!=63&&pe(De),ee}function Z(P){P=Math.min(Math.max(P,1),100),o!=P&&((function(W){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var ce=u((ee[le]*W+50)/100);ce=Math.min(Math.max(ce,1),255),c[z[le]]=ce}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],De=0;De<64;De++){var ke=u((ye[De]*W+50)/100);ke=Math.min(Math.max(ke,1),255),f[z[De]]=ke}for(var Be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Je=0,ot=0;ot<8;ot++)for(var at=0;at<8;at++)d[Je]=1/(c[z[Je]]*Be[ot]*Be[at]*8),g[Je]=1/(f[z[Je]]*Be[ot]*Be[at]*8),Je++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),o=P)}this.encode=function(P,W){W&&Z(W),V=new Array,B=0,k=7,Le(65496),Le(65504),Le(16),fe(74),fe(70),fe(73),fe(70),fe(0),fe(1),fe(1),fe(0),Le(1),Le(1),fe(0),fe(0),(function(){Le(65499),Le(132),fe(0);for(var Ot=0;Ot<64;Ot++)fe(c[Ot]);fe(1);for(var It=0;It<64;It++)fe(f[It])})(),(function(Ot,It){Le(65472),Le(17),fe(8),Le(It),Le(Ot),fe(3),fe(1),fe(17),fe(0),fe(2),fe(17),fe(1),fe(3),fe(17),fe(1)})(P.width,P.height),(function(){Le(65476),Le(418),fe(0);for(var Ot=0;Ot<16;Ot++)fe(M[Ot+1]);for(var It=0;It<=11;It++)fe(C[It]);fe(16);for(var Zt=0;Zt<16;Zt++)fe(G[Zt+1]);for(var rn=0;rn<=161;rn++)fe(x[rn]);fe(1);for(var Kt=0;Kt<16;Kt++)fe(O[Kt+1]);for(var cn=0;cn<=11;cn++)fe(R[cn]);fe(17);for(var tn=0;tn<16;tn++)fe(oe[tn+1]);for(var wt=0;wt<=161;wt++)fe(Ie[wt])})(),Le(65498),Le(12),fe(3),fe(1),fe(0),fe(2),fe(17),fe(3),fe(17),fe(0),fe(63),fe(0);var ee=0,le=0,ce=0;B=0,k=7,this.encode.displayName="_encode_";for(var ye,De,ke,Be,Je,ot,at,pt,ne,it=P.data,Jt=P.width,Pt=P.height,ze=4*Jt,ut=0;ut<Pt;){for(ye=0;ye<ze;){for(Je=ze*ut+ye,at=-1,pt=0,ne=0;ne<64;ne++)ot=Je+(pt=ne>>3)*ze+(at=4*(7&ne)),ut+pt>=Pt&&(ot-=ze*(ut+1+pt-Pt)),ye+at>=ze&&(ot-=ye+at-ze+4),De=it[ot++],ke=it[ot++],Be=it[ot++],te[ne]=(ve[De]+ve[ke+256|0]+ve[Be+512|0]>>16)-128,$[ne]=(ve[De+768|0]+ve[ke+1024|0]+ve[Be+1280|0]>>16)-128,J[ne]=(ve[De+1280|0]+ve[ke+1536|0]+ve[Be+1792|0]>>16)-128;ee=Ke(te,d,ee,e,r),le=Ke($,g,le,t,s),ce=Ke(J,g,ce,t,s),ye+=32}ut+=8}if(k>=0){var lt=[];lt[1]=k+1,lt[0]=(1<<k+1)-1,pe(lt)}return Le(65497),new Uint8Array(V)},n=n||50,(function(){for(var P=String.fromCharCode,W=0;W<256;W++)ge[W]=P(W)})(),e=ae(M,C),t=ae(O,R),r=ae(G,x),s=ae(oe,Ie),(function(){for(var P=1,W=2,ee=1;ee<=15;ee++){for(var le=P;le<W;le++)E[32767+le]=ee,b[32767+le]=[],b[32767+le][1]=ee,b[32767+le][0]=le;for(var ce=-(W-1);ce<=-P;ce++)E[32767+ce]=ee,b[32767+ce]=[],b[32767+ce][1]=ee,b[32767+ce][0]=W-1+ce;P<<=1,W<<=1}})(),(function(){for(var P=0;P<256;P++)ve[P]=19595*P,ve[P+256|0]=38470*P,ve[P+512|0]=7471*P+32768,ve[P+768|0]=-11059*P,ve[P+1024|0]=-21709*P,ve[P+1280|0]=32768*P+8421375,ve[P+1536|0]=-27439*P,ve[P+1792|0]=-5329*P})(),Z(n)}function Do(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vS(n){function e(C){if(!C)throw Error("assert :P")}function t(C,G,x){for(var O=0;4>O;O++)if(C[G+O]!=x.charCodeAt(O))return!0;return!1}function r(C,G,x,O,R){for(var oe=0;oe<R;oe++)C[G+oe]=x[O+oe]}function s(C,G,x,O){for(var R=0;R<O;R++)C[G+R]=x}function o(C){return new Int32Array(C)}function u(C,G){for(var x=[],O=0;O<C;O++)x.push(new G);return x}function c(C,G){var x=[];return(function O(R,oe,Ie){for(var ae=Ie[oe],pe=0;pe<ae&&(R.push(Ie.length>oe+1?[]:new G),!(Ie.length<oe+1));pe++)O(R[pe],oe+1,Ie)})(x,0,C),x}var f=function(){var C=this;function G(p,_){for(var T=1<<_-1>>>0;p&T;)T>>>=1;return T?(p&T-1)+T:p}function x(p,_,T,I,F){e(!(I%T));do p[_+(I-=T)]=F;while(0<I)}function O(p,_,T,I,F){if(e(2328>=F),512>=F)var q=o(512);else if((q=o(F))==null)return 0;return(function(H,Y,X,se,de,xe){var re,_e,Ee=Y,je=1<<X,Se=o(16),Ve=o(16);for(e(de!=0),e(se!=null),e(H!=null),e(0<X),_e=0;_e<de;++_e){if(15<se[_e])return 0;++Se[se[_e]]}if(Se[0]==de)return 0;for(Ve[1]=0,re=1;15>re;++re){if(Se[re]>1<<re)return 0;Ve[re+1]=Ve[re]+Se[re]}for(_e=0;_e<de;++_e)re=se[_e],0<se[_e]&&(xe[Ve[re]++]=_e);if(Ve[15]==1)return(se=new R).g=0,se.value=xe[0],x(H,Ee,1,je,se),je;var qe,Xe=-1,We=je-1,_t=0,ht=1,Qt=1,mt=1<<X;for(_e=0,re=1,de=2;re<=X;++re,de<<=1){if(ht+=Qt<<=1,0>(Qt-=Se[re]))return 0;for(;0<Se[re];--Se[re])(se=new R).g=re,se.value=xe[_e++],x(H,Ee+_t,de,mt,se),_t=G(_t,re)}for(re=X+1,de=2;15>=re;++re,de<<=1){if(ht+=Qt<<=1,0>(Qt-=Se[re]))return 0;for(;0<Se[re];--Se[re]){if(se=new R,(_t&We)!=Xe){for(Ee+=mt,qe=1<<(Xe=re)-X;15>Xe&&!(0>=(qe-=Se[Xe]));)++Xe,qe<<=1;je+=mt=1<<(qe=Xe-X),H[Y+(Xe=_t&We)].g=qe+X,H[Y+Xe].value=Ee-Y-Xe}se.g=re-X,se.value=xe[_e++],x(H,Ee+(_t>>X),de,mt,se),_t=G(_t,re)}}return ht!=2*Ve[15]-1?0:je})(p,_,T,I,F,q)}function R(){this.value=this.g=0}function oe(){this.value=this.g=0}function Ie(){this.G=u(5,R),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Jo,oe)}function ae(p,_,T,I){e(p!=null),e(_!=null),e(2147483648>I),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=_,p.pa=T,p.Jd=_,p.Yc=T+I,p.Zc=4<=I?T+I-4+1:T,De(p)}function pe(p,_){for(var T=0;0<_--;)T|=Be(p,128)<<_;return T}function fe(p,_){var T=pe(p,_);return ke(p)?-T:T}function Le(p,_,T,I){var F,q=0;for(e(p!=null),e(_!=null),e(4294967288>I),p.Sb=I,p.Ra=0,p.u=0,p.h=0,4<I&&(I=4),F=0;F<I;++F)q+=_[T+F]<<8*F;p.Ra=q,p.bb=I,p.oa=_,p.pa=T}function Ke(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Za-8>>>0,++p.bb,p.u-=8;le(p)&&(p.h=1,p.u=0)}function Z(p,_){if(e(0<=_),!p.h&&_<=gs){var T=ee(p)&xs[_];return p.u+=_,Ke(p),T}return p.h=1,p.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(p){return p.Ra>>>(p.u&Za-1)>>>0}function le(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Za}function ce(p,_){p.u=_,p.h=le(p)}function ye(p){p.u>=eo&&(e(p.u>=eo),Ke(p))}function De(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ke(p){return pe(p,1)}function Be(p,_){var T=p.Ca;0>p.b&&De(p);var I=p.b,F=T*_>>>8,q=(p.I>>>I>F)+0;for(q?(T-=F,p.I-=F+1<<I>>>0):T=F+1,I=T,F=0;256<=I;)F+=8,I>>=8;return I=7^F+wo[I],p.b-=I,p.Ca=(T<<I)-1,q}function Je(p,_,T){p[_+0]=T>>24&255,p[_+1]=T>>16&255,p[_+2]=T>>8&255,p[_+3]=255&T}function ot(p,_){return p[_+0]|p[_+1]<<8}function at(p,_){return ot(p,_)|p[_+2]<<16}function pt(p,_){return ot(p,_)|ot(p,_+2)<<16}function ne(p,_){var T=1<<_;return e(p!=null),e(0<_),p.X=o(T),p.X==null?0:(p.Mb=32-_,p.Xa=_,1)}function it(p,_){e(p!=null),e(_!=null),e(p.Xa==_.Xa),r(_.X,0,p.X,0,1<<_.Xa)}function Jt(){this.X=[],this.Xa=this.Mb=0}function Pt(p,_,T,I){e(T!=null),e(I!=null);var F=T[0],q=I[0];return F==0&&(F=(p*q+_/2)/_),q==0&&(q=(_*F+p/2)/p),0>=F||0>=q?0:(T[0]=F,I[0]=q,1)}function ze(p,_){return p+(1<<_)-1>>>_}function ut(p,_){return((4278255360&p)+(4278255360&_)>>>0&4278255360)+((16711935&p)+(16711935&_)>>>0&16711935)>>>0}function lt(p,_){C[_]=function(T,I,F,q,H,Y,X){var se;for(se=0;se<H;++se){var de=C[p](Y[X+se-1],F,q+se);Y[X+se]=ut(T[I+se],de)}}}function Ot(){this.ud=this.hd=this.jd=0}function It(p,_){return((4278124286&(p^_))>>>1)+(p&_)>>>0}function Zt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function rn(p,_){return Zt(p+(p-_+.5>>1))}function Kt(p,_,T){return Math.abs(_-T)-Math.abs(p-T)}function cn(p,_,T,I,F,q,H){for(I=q[H-1],T=0;T<F;++T)q[H+T]=I=ut(p[_+T],I)}function tn(p,_,T,I,F){var q;for(q=0;q<T;++q){var H=p[_+q],Y=H>>8&255,X=16711935&(X=(X=16711935&H)+((Y<<16)+Y));I[F+q]=(4278255360&H)+X>>>0}}function wt(p,_){_.jd=255&p,_.hd=p>>8&255,_.ud=p>>16&255}function Yt(p,_,T,I,F,q){var H;for(H=0;H<I;++H){var Y=_[T+H],X=Y>>>8,se=Y,de=255&(de=(de=Y>>>16)+((p.jd<<24>>24)*(X<<24>>24)>>>5));se=255&(se=(se+=(p.hd<<24>>24)*(X<<24>>24)>>>5)+((p.ud<<24>>24)*(de<<24>>24)>>>5)),F[q+H]=(4278255360&Y)+(de<<16)+se}}function At(p,_,T,I,F){C[_]=function(q,H,Y,X,se,de,xe,re,_e){for(X=xe;X<re;++X)for(xe=0;xe<_e;++xe)se[de++]=F(Y[I(q[H++])])},C[p]=function(q,H,Y,X,se,de,xe){var re=8>>q.b,_e=q.Ea,Ee=q.K[0],je=q.w;if(8>re)for(q=(1<<q.b)-1,je=(1<<re)-1;H<Y;++H){var Se,Ve=0;for(Se=0;Se<_e;++Se)Se&q||(Ve=I(X[se++])),de[xe++]=F(Ee[Ve&je]),Ve>>=re}else C["VP8LMapColor"+T](X,se,Ee,je,de,xe,H,Y,_e)}}function _r(p,_,T,I,F){for(T=_+T;_<T;){var q=p[_++];I[F++]=q>>16&255,I[F++]=q>>8&255,I[F++]=255&q}}function nn(p,_,T,I,F){for(T=_+T;_<T;){var q=p[_++];I[F++]=q>>16&255,I[F++]=q>>8&255,I[F++]=255&q,I[F++]=q>>24&255}}function Dt(p,_,T,I,F){for(T=_+T;_<T;){var q=(H=p[_++])>>16&240|H>>12&15,H=240&H|H>>28&15;I[F++]=q,I[F++]=H}}function zt(p,_,T,I,F){for(T=_+T;_<T;){var q=(H=p[_++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;I[F++]=q,I[F++]=H}}function en(p,_,T,I,F){for(T=_+T;_<T;){var q=p[_++];I[F++]=255&q,I[F++]=q>>8&255,I[F++]=q>>16&255}}function Rt(p,_,T,I,F,q){if(q==0)for(T=_+T;_<T;)Je(I,((q=p[_++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),F+=32;else r(I,F,p,_,T)}function Dn(p,_){C[_][0]=C[p+"0"],C[_][1]=C[p+"1"],C[_][2]=C[p+"2"],C[_][3]=C[p+"3"],C[_][4]=C[p+"4"],C[_][5]=C[p+"5"],C[_][6]=C[p+"6"],C[_][7]=C[p+"7"],C[_][8]=C[p+"8"],C[_][9]=C[p+"9"],C[_][10]=C[p+"10"],C[_][11]=C[p+"11"],C[_][12]=C[p+"12"],C[_][13]=C[p+"13"],C[_][14]=C[p+"0"],C[_][15]=C[p+"0"]}function Bt(p){return p==$c||p==$h||p==Du||p==Wh}function qt(){this.eb=[],this.size=this.A=this.fb=0}function Vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function xt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new qt,this.f.kb=new Vn,this.sd=null}function Et(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function hn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ii(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function mi(p,_){var T=p.T,I=_.ba.f.RGBA,F=I.eb,q=I.fb+p.ka*I.A,H=Oi[_.ba.S],Y=p.y,X=p.O,se=p.f,de=p.N,xe=p.ea,re=p.W,_e=_.cc,Ee=_.dc,je=_.Mc,Se=_.Nc,Ve=p.ka,qe=p.ka+p.T,Xe=p.U,We=Xe+1>>1;for(Ve==0?H(Y,X,null,null,se,de,xe,re,se,de,xe,re,F,q,null,null,Xe):(H(_.ec,_.fc,Y,X,_e,Ee,je,Se,se,de,xe,re,F,q-I.A,F,q,Xe),++T);Ve+2<qe;Ve+=2)_e=se,Ee=de,je=xe,Se=re,de+=p.Rc,re+=p.Rc,q+=2*I.A,H(Y,(X+=2*p.fa)-p.fa,Y,X,_e,Ee,je,Se,se,de,xe,re,F,q-I.A,F,q,Xe);return X+=p.fa,p.j+qe<p.o?(r(_.ec,_.fc,Y,X,Xe),r(_.cc,_.dc,se,de,We),r(_.Mc,_.Nc,xe,re,We),T--):1&qe||H(Y,X,null,null,se,de,xe,re,se,de,xe,re,F,q+I.A,null,null,Xe),T}function Qs(p,_,T){var I=p.F,F=[p.J];if(I!=null){var q=p.U,H=_.ba.S,Y=H==Kc||H==Du;_=_.ba.f.RGBA;var X=[0],se=p.ka;X[0]=p.T,p.Kb&&(se==0?--X[0]:(--se,F[0]-=p.width),p.j+p.ka+p.T==p.o&&(X[0]=p.o-p.j-se));var de=_.eb;se=_.fb+se*_.A,p=qc(I,F[0],p.width,q,X,de,se+(Y?0:3),_.A),e(T==X),p&&Bt(H)&&Ul(de,se,Y,q,X,_.A)}return 0}function si(p){var _=p.ma,T=_.ba.S,I=11>T,F=T==Xi||T==ia||T==Kc||T==Pu||T==12||Bt(T);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!bo(_.Oa,p,F?11:12))return 0;if(F&&Bt(T)&&Wt(),p.da)alert("todo:use_scaling");else{if(I){if(_.Ib=Ii,p.Kb){if(T=p.U+1>>1,_.memory=o(p.U+2*T),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+p.U,_.Mc=_.cc,_.Nc=_.dc+T,_.Ib=mi,Wt()}}else alert("todo:EmitYUV");F&&(_.Jb=Qs,I&&Pe())}if(I&&!sl){for(p=0;256>p;++p)Mi[p]=89858*(p-128)+Vu>>ca,V0[p]=-22014*(p-128)+Vu,Gm[p]=-45773*(p-128),Zh[p]=113618*(p-128)+Vu>>ca;for(p=zl;p<il;++p)_=76283*(p-16)+Vu>>ca,j0[p-zl]=cs(_,255),U0[p-zl]=cs(_+8>>4,15);sl=1}return 1}function Ct(p){var _=p.ma,T=p.U,I=p.T;return e(!(1&p.ka)),0>=T||0>=I?0:(T=_.Ib(p,_),_.Jb!=null&&_.Jb(p,_,T),_.Dc+=T,1)}function Ia(p){p.ma.memory=null}function os(p,_,T,I){return Z(p,8)!=47?0:(_[0]=Z(p,14)+1,T[0]=Z(p,14)+1,I[0]=Z(p,1),Z(p,3)!=0?0:!p.h)}function qi(p,_){if(4>p)return p+1;var T=p-2>>1;return(2+(1&p)<<T)+Z(_,T)+1}function zi(p,_){return 120<_?_-120:1<=(T=((T=aa[_-1])>>4)*p+(8-(15&T)))?T:1;var T}function Kn(p,_,T){var I=ee(T),F=p[_+=255&I].g-8;return 0<F&&(ce(T,T.u+8),I=ee(T),_+=p[_].value,_+=I&(1<<F)-1),ce(T,T.u+p[_].g),p[_].value}function ir(p,_,T){return T.g+=p.g,T.value+=p.value<<_>>>0,e(8>=T.g),p.g}function Wr(p,_,T){var I=p.xc;return e((_=I==0?0:p.vc[p.md*(T>>I)+(_>>I)])<p.Wb),p.Ya[_]}function xi(p,_,T,I){var F=p.ab,q=p.c*_,H=p.C;_=H+_;var Y=T,X=I;for(I=p.Ta,T=p.Ua;0<F--;){var se=p.gc[F],de=H,xe=_,re=Y,_e=X,Ee=(X=I,Y=T,se.Ea);switch(e(de<xe),e(xe<=se.nc),se.hc){case 2:zr(re,_e,(xe-de)*Ee,X,Y);break;case 0:var je=de,Se=xe,Ve=X,qe=Y,Xe=(mt=se).Ea;je==0&&(Ru(re,_e,null,null,1,Ve,qe),cn(re,_e+1,0,0,Xe-1,Ve,qe+1),_e+=Xe,qe+=Xe,++je);for(var We=1<<mt.b,_t=We-1,ht=ze(Xe,mt.b),Qt=mt.K,mt=mt.w+(je>>mt.b)*ht;je<Se;){var yn=Qt,mr=mt,sn=1;for(Cu(re,_e,Ve,qe-Xe,1,Ve,qe);sn<Xe;){var ft=(sn&~_t)+We;ft>Xe&&(ft=Xe),(0,Ao[yn[mr++]>>8&15])(re,_e+ +sn,Ve,qe+sn-Xe,ft-sn,Ve,qe+sn),sn=ft}_e+=Xe,qe+=Xe,++je&_t||(mt+=ht)}xe!=se.nc&&r(X,Y-Ee,X,Y+(xe-de-1)*Ee,Ee);break;case 1:for(Ee=re,Se=_e,Xe=(re=se.Ea)-(qe=re&~(Ve=(_e=1<<se.b)-1)),je=ze(re,se.b),We=se.K,se=se.w+(de>>se.b)*je;de<xe;){for(_t=We,ht=se,Qt=new Ot,mt=Se+qe,yn=Se+re;Se<mt;)wt(_t[ht++],Qt),Lu(Qt,Ee,Se,_e,X,Y),Se+=_e,Y+=_e;Se<yn&&(wt(_t[ht++],Qt),Lu(Qt,Ee,Se,Xe,X,Y),Se+=Xe,Y+=Xe),++de&Ve||(se+=je)}break;case 3:if(re==X&&_e==Y&&0<se.b){for(Se=X,re=Ee=Y+(xe-de)*Ee-(qe=(xe-de)*ze(se.Ea,se.b)),_e=X,Ve=Y,je=[],qe=(Xe=qe)-1;0<=qe;--qe)je[qe]=_e[Ve+qe];for(qe=Xe-1;0<=qe;--qe)Se[re+qe]=je[qe];qh(se,de,xe,X,Ee,X,Y)}else qh(se,de,xe,re,_e,X,Y)}Y=I,X=T}X!=T&&r(I,T,Y,X,q)}function gi(p,_){var T=p.V,I=p.Ba+p.c*p.C,F=_-p.C;if(e(_<=p.l.o),e(16>=F),0<F){var q=p.l,H=p.Ta,Y=p.Ua,X=q.width;if(xi(p,F,T,I),F=Y=[Y],e((T=p.C)<(I=_)),e(q.v<q.va),I>q.o&&(I=q.o),T<q.j){var se=q.j-T;T=q.j,F[0]+=se*X}if(T>=I?T=0:(F[0]+=4*q.v,q.ka=T-q.j,q.U=q.va-q.v,q.T=I-T,T=1),T){if(Y=Y[0],11>(T=p.ca).S){var de=T.f.RGBA,xe=(I=T.S,F=q.U,q=q.T,se=de.eb,de.A),re=q;for(de=de.fb+p.Ma*de.A;0<re--;){var _e=H,Ee=Y,je=F,Se=se,Ve=de;switch(I){case Gh:ku(_e,Ee,je,Se,Ve);break;case Xi:Eo(_e,Ee,je,Se,Ve);break;case $c:Eo(_e,Ee,je,Se,Ve),Ul(Se,Ve,0,je,1,0);break;case Kh:Vl(_e,Ee,je,Se,Ve);break;case ia:Rt(_e,Ee,je,Se,Ve,1);break;case $h:Rt(_e,Ee,je,Se,Ve,1),Ul(Se,Ve,0,je,1,0);break;case Kc:Rt(_e,Ee,je,Se,Ve,0);break;case Du:Rt(_e,Ee,je,Se,Ve,0),Ul(Se,Ve,1,je,1,0);break;case Pu:To(_e,Ee,je,Se,Ve);break;case Wh:To(_e,Ee,je,Se,Ve),ra(Se,Ve,je,1,0);break;case Zo:ro(_e,Ee,je,Se,Ve);break;default:e(0)}Y+=X,de+=xe}p.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=T.height)}}p.C=_,e(p.C<=p.i)}function jn(p){var _;if(0<p.ua)return 0;for(_=0;_<p.Wb;++_){var T=p.Ya[_].G,I=p.Ya[_].H;if(0<T[1][I[1]+0].g||0<T[2][I[2]+0].g||0<T[3][I[3]+0].g)return 0}return 1}function Yn(p,_,T,I,F,q){if(p.Z!=0){var H=p.qd,Y=p.rd;for(e(xo[p.Z]!=null);_<T;++_)xo[p.Z](H,Y,I,F,I,F,q),H=I,Y=F,F+=q;p.qd=H,p.rd=Y}}function Yr(p,_){var T=p.l.ma,I=T.Z==0||T.Z==1?p.l.j:p.C;if(I=p.C<I?I:p.C,e(_<=p.l.o),_>I){var F=p.l.width,q=T.ca,H=T.tb+F*I,Y=p.V,X=p.Ba+p.c*I,se=p.gc;e(p.ab==1),e(se[0].hc==3),no(se[0],I,_,Y,X,q,H),Yn(T,I,_,q,H,F)}p.C=p.Ma=_}function Hi(p,_,T,I,F,q,H){var Y=p.$/I,X=p.$%I,se=p.m,de=p.s,xe=T+p.$,re=xe;F=T+I*F;var _e=T+I*q,Ee=280+de.ua,je=p.Pb?Y:16777216,Se=0<de.ua?de.Wa:null,Ve=de.wc,qe=xe<_e?Wr(de,X,Y):null;e(p.C<q),e(_e<=F);var Xe=!1;e:for(;;){for(;Xe||xe<_e;){var We=0;if(Y>=je){var _t=xe-T;e((je=p).Pb),je.wd=je.m,je.xd=_t,0<je.s.ua&&it(je.s.Wa,je.s.vb),je=Y+el}if(X&Ve||(qe=Wr(de,X,Y)),e(qe!=null),qe.Qb&&(_[xe]=qe.qb,Xe=!0),!Xe)if(ye(se),qe.jc){We=se,_t=_;var ht=xe,Qt=qe.pd[ee(We)&Jo-1];e(qe.jc),256>Qt.g?(ce(We,We.u+Qt.g),_t[ht]=Qt.value,We=0):(ce(We,We.u+Qt.g-256),e(256<=Qt.value),We=Qt.value),We==0&&(Xe=!0)}else We=Kn(qe.G[0],qe.H[0],se);if(se.h)break;if(Xe||256>We){if(!Xe)if(qe.nd)_[xe]=(qe.qb|We<<8)>>>0;else{if(ye(se),Xe=Kn(qe.G[1],qe.H[1],se),ye(se),_t=Kn(qe.G[2],qe.H[2],se),ht=Kn(qe.G[3],qe.H[3],se),se.h)break;_[xe]=(ht<<24|Xe<<16|We<<8|_t)>>>0}if(Xe=!1,++xe,++X>=I&&(X=0,++Y,H!=null&&Y<=q&&!(Y%16)&&H(p,Y),Se!=null))for(;re<xe;)We=_[re++],Se.X[(506832829*We&4294967295)>>>Se.Mb]=We}else if(280>We){if(We=qi(We-256,se),_t=Kn(qe.G[4],qe.H[4],se),ye(se),_t=zi(I,_t=qi(_t,se)),se.h)break;if(xe-T<_t||F-xe<We)break e;for(ht=0;ht<We;++ht)_[xe+ht]=_[xe+ht-_t];for(xe+=We,X+=We;X>=I;)X-=I,++Y,H!=null&&Y<=q&&!(Y%16)&&H(p,Y);if(e(xe<=F),X&Ve&&(qe=Wr(de,X,Y)),Se!=null)for(;re<xe;)We=_[re++],Se.X[(506832829*We&4294967295)>>>Se.Mb]=We}else{if(!(We<Ee))break e;for(Xe=We-280,e(Se!=null);re<xe;)We=_[re++],Se.X[(506832829*We&4294967295)>>>Se.Mb]=We;We=xe,e(!(Xe>>>(_t=Se).Xa)),_[We]=_t.X[Xe],Xe=!0}Xe||e(se.h==le(se))}if(p.Pb&&se.h&&xe<F)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&it(p.s.vb,p.s.Wa);else{if(se.h)break e;H?.(p,Y>q?q:Y),p.a=0,p.$=xe-T}return 1}return p.a=3,0}function As(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var _=p.Wa;_!=null&&(_.X=null),p.vb=null,e(p!=null)}function Ga(){var p=new jt;return p==null?null:(p.a=0,p.xb=zd,Dn("Predictor","VP8LPredictors"),Dn("Predictor","VP8LPredictors_C"),Dn("PredictorAdd","VP8LPredictorsAdd"),Dn("PredictorAdd","VP8LPredictorsAdd_C"),zr=tn,Lu=Yt,ku=_r,Eo=nn,To=Dt,ro=zt,Vl=en,C.VP8LMapColor32b=to,C.VP8LMapColor8b=ki,p)}function js(p,_,T,I,F){var q=1,H=[p],Y=[_],X=I.m,se=I.s,de=null,xe=0;e:for(;;){if(T)for(;q&&Z(X,1);){var re=H,_e=Y,Ee=I,je=1,Se=Ee.m,Ve=Ee.gc[Ee.ab],qe=Z(Se,2);if(Ee.Oc&1<<qe)q=0;else{switch(Ee.Oc|=1<<qe,Ve.hc=qe,Ve.Ea=re[0],Ve.nc=_e[0],Ve.K=[null],++Ee.ab,e(4>=Ee.ab),qe){case 0:case 1:Ve.b=Z(Se,3)+2,je=js(ze(Ve.Ea,Ve.b),ze(Ve.nc,Ve.b),0,Ee,Ve.K),Ve.K=Ve.K[0];break;case 3:var Xe,We=Z(Se,8)+1,_t=16<We?0:4<We?1:2<We?2:3;if(re[0]=ze(Ve.Ea,_t),Ve.b=_t,Xe=je=js(We,1,0,Ee,Ve.K)){var ht,Qt=We,mt=Ve,yn=1<<(8>>mt.b),mr=o(yn);if(mr==null)Xe=0;else{var sn=mt.K[0],ft=mt.w;for(mr[0]=mt.K[0][0],ht=1;ht<1*Qt;++ht)mr[ht]=ut(sn[ft+ht],mr[ht-1]);for(;ht<4*yn;++ht)mr[ht]=0;mt.K[0]=null,mt.K[0]=mr,Xe=1}}je=Xe;break;case 2:break;default:e(0)}q=je}}if(H=H[0],Y=Y[0],q&&Z(X,1)&&!(q=1<=(xe=Z(X,4))&&11>=xe)){I.a=3;break e}var rt;if(rt=q)t:{var wr,Ht,ln,zn=I,li=H,Vi=Y,lr=xe,Xr=T,Ji=zn.m,Jr=zn.s,pn=[null],Cn=1,Ar=0,Mn=oa[lr];n:for(;;){if(Xr&&Z(Ji,1)){var ui=Z(Ji,3)+2,Er=ze(li,ui),Ln=ze(Vi,ui),Kr=Er*Ln;if(!js(Er,Ln,0,zn,pn))break n;for(pn=pn[0],Jr.xc=ui,wr=0;wr<Kr;++wr){var Hn=pn[wr]>>8&65535;pn[wr]=Hn,Hn>=Cn&&(Cn=Hn+1)}}if(Ji.h)break n;for(Ht=0;5>Ht;++Ht){var Zr=Bl[Ht];!Ht&&0<lr&&(Zr+=1<<lr),Ar<Zr&&(Ar=Zr)}var ei=u(Cn*Mn,R),Xn=Cn,Rn=u(Xn,Ie);if(Rn==null)var Zi=null;else e(65536>=Xn),Zi=Rn;var Pr=o(Ar);if(Zi==null||Pr==null||ei==null){zn.a=1;break n}var Vt=ei;for(wr=ln=0;wr<Cn;++wr){var Ut=Zi[wr],kn=Ut.G,Ns=Ut.H,ha=0,_s=1,ti=0;for(Ht=0;5>Ht;++Ht){Zr=Bl[Ht],kn[Ht]=Vt,Ns[Ht]=ln,!Ht&&0<lr&&(Zr+=1<<lr);i:{var al,ol=Zr,tf=zn,ur=Pr,Gd=Vt,Kd=ln,nf=0,No=tf.m,F0=Z(No,1);if(s(ur,0,0,ol),F0){var $d=Z(No,1)+1,Wd=Z(No,1),rf=Z(No,Wd==0?1:8);ur[rf]=1,$d==2&&(ur[rf=Z(No,8)]=1);var bi=1}else{var Dr=o(19),Xc=Z(No,4)+4;if(19<Xc){tf.a=3;var ll=0;break i}for(al=0;al<Xc;++al)Dr[Wc[al]]=Z(No,3);var Uu=void 0,Hl=void 0,ao=tf,sf=Dr,Fu=ol,af=ur,of=0,Ro=ao.m,Yd=8,Qd=u(128,R);r:for(;O(Qd,0,7,sf,19);){if(Z(Ro,1)){var Km=2+2*Z(Ro,3);if((Uu=2+Z(Ro,Km))>Fu)break r}else Uu=Fu;for(Hl=0;Hl<Fu&&Uu--;){ye(Ro);var Xd=Qd[0+(127&ee(Ro))];ce(Ro,Ro.u+Xd.g);var ul=Xd.value;if(16>ul)af[Hl++]=ul,ul!=0&&(Yd=ul);else{var $m=ul==16,Wm=ul-16,Ym=Ou[Wm],Jd=Z(Ro,sa[Wm])+Ym;if(Hl+Jd>Fu)break r;for(var Qm=$m?Yd:0;0<Jd--;)af[Hl++]=Qm}}of=1;break r}of||(ao.a=3),bi=of}(bi=bi&&!No.h)&&(nf=O(Gd,Kd,8,ur,ol)),bi&&nf!=0?ll=nf:(tf.a=3,ll=0)}if(ll==0)break n;if(_s&&Yh[Ht]==1&&(_s=Vt[ln].g==0),ha+=Vt[ln].g,ln+=ll,3>=Ht){var Gl,lf=Pr[0];for(Gl=1;Gl<Zr;++Gl)Pr[Gl]>lf&&(lf=Pr[Gl]);ti+=lf}}if(Ut.nd=_s,Ut.Qb=0,_s&&(Ut.qb=(kn[3][Ns[3]+0].value<<24|kn[1][Ns[1]+0].value<<16|kn[2][Ns[2]+0].value)>>>0,ha==0&&256>kn[0][Ns[0]+0].value&&(Ut.Qb=1,Ut.qb+=kn[0][Ns[0]+0].value<<8)),Ut.jc=!Ut.Qb&&6>ti,Ut.jc){var Jc,oo=Ut;for(Jc=0;Jc<Jo;++Jc){var Co=Jc,Lo=oo.pd[Co],uf=oo.G[0][oo.H[0]+Co];256<=uf.value?(Lo.g=uf.g+256,Lo.value=uf.value):(Lo.g=0,Lo.value=0,Co>>=ir(uf,8,Lo),Co>>=ir(oo.G[1][oo.H[1]+Co],16,Lo),Co>>=ir(oo.G[2][oo.H[2]+Co],0,Lo),ir(oo.G[3][oo.H[3]+Co],24,Lo))}}}Jr.vc=pn,Jr.Wb=Cn,Jr.Ya=Zi,Jr.yc=ei,rt=1;break t}rt=0}if(!(q=rt)){I.a=3;break e}if(0<xe){if(se.ua=1<<xe,!ne(se.Wa,xe)){I.a=1,q=0;break e}}else se.ua=0;var cf=I,Kl=H,Xm=Y,Bu=cf.s,qu=Bu.xc;if(cf.c=Kl,cf.i=Xm,Bu.md=ze(Kl,qu),Bu.wc=qu==0?-1:(1<<qu)-1,T){I.xb=tl;break e}if((de=o(H*Y))==null){I.a=1,q=0;break e}q=(q=Hi(I,de,0,H,Y,Y,null))&&!X.h;break e}return q?(F!=null?F[0]=de:(e(de==null),e(T)),I.$=0,T||As(se)):As(se),q}function Gi(p,_){var T=p.c*p.i,I=T+_+16*_;return e(p.c<=_),p.V=o(I),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+T+_,1)}function xa(p,_){var T=p.C,I=_-T,F=p.V,q=p.Ba+p.c*T;for(e(_<=p.l.o);0<I;){var H=16<I?16:I,Y=p.l.ma,X=p.l.width,se=X*H,de=Y.ca,xe=Y.tb+X*T,re=p.Ta,_e=p.Ua;xi(p,H,F,q),Ks(re,_e,de,xe,se),Yn(Y,T,T+H,de,xe,X),I-=H,F+=H*p.c,T+=H}e(T==_),p.C=p.Ma=_}function ls(){this.ub=this.yd=this.td=this.Rb=0}function Ni(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function us(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Es(){this.Yb=(function(){var p=[];return(function _(T,I,F){for(var q=F[I],H=0;H<q&&(T.push(F.length>I+1?[]:0),!(F.length<I+1));H++)_(T[H],I+1,F)})(p,0,[3,11]),p})()}function br(){this.jb=o(3),this.Wc=c([4,8],Es),this.Xc=c([4,17],Es)}function Ho(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ki(){this.ld=this.La=this.dd=this.tc=0}function Ts(){this.Na=this.la=0}function Us(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fo(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Go(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ki),this.Y=0,this.ya=Array(new fo),this.aa=0,this.l=new yi}function Ko(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Cl(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new ls,this.Kc=new Ni,this.ed=new Ho,this.Qa=new us,this.Ic=this.$c=this.Aa=0,this.D=new Go,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,P),this.ia=0,this.pb=u(4,Us),this.Pa=new br,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ko),this.Hd=0,this.rb=Array(new Ts),this.sb=0,this.wa=Array(new Ki),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fo),this.L=this.aa=0,this.gd=c([4,2],Ki),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function cs(p,_){return 0>p?0:p>_?_:p}function yi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Cr(){var p=new Cl;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,$s||($s=En)),p}function mn(p,_,T){return p.a==0&&(p.a=_,p.sc=T,p.cb=0),0}function Na(p,_,T){return 3<=T&&p[_+0]==157&&p[_+1]==1&&p[_+2]==42}function Ss(p,_){if(p==null)return 0;if(p.a=0,p.sc="OK",_==null)return mn(p,2,"null VP8Io passed to VP8GetHeaders()");var T=_.data,I=_.w,F=_.ha;if(4>F)return mn(p,7,"Truncated header.");var q=T[I+0]|T[I+1]<<8|T[I+2]<<16,H=p.Od;if(H.Rb=!(1&q),H.td=q>>1&7,H.yd=q>>4&1,H.ub=q>>5,3<H.td)return mn(p,3,"Incorrect keyframe parameters.");if(!H.yd)return mn(p,4,"Frame not displayable.");I+=3,F-=3;var Y=p.Kc;if(H.Rb){if(7>F)return mn(p,7,"cannot parse picture header");if(!Na(T,I,F))return mn(p,3,"Bad code word");Y.c=16383&(T[I+4]<<8|T[I+3]),Y.Td=T[I+4]>>6,Y.i=16383&(T[I+6]<<8|T[I+5]),Y.Ud=T[I+6]>>6,I+=7,F-=7,p.za=Y.c+15>>4,p.Ub=Y.i+15>>4,_.width=Y.c,_.height=Y.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,s((q=p.Pa).jb,0,255,q.jb.length),e((q=p.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,s(q.Zb,0,0,q.Zb.length),s(q.Lb,0,0,q.Lb)}if(H.ub>F)return mn(p,7,"bad partition length");ae(q=p.m,T,I,H.ub),I+=H.ub,F-=H.ub,H.Rb&&(Y.Ld=ke(q),Y.Kd=ke(q)),Y=p.Qa;var X,se=p.Pa;if(e(q!=null),e(Y!=null),Y.Cb=ke(q),Y.Cb){if(Y.Bb=ke(q),ke(q)){for(Y.Fb=ke(q),X=0;4>X;++X)Y.Zb[X]=ke(q)?fe(q,7):0;for(X=0;4>X;++X)Y.Lb[X]=ke(q)?fe(q,6):0}if(Y.Bb)for(X=0;3>X;++X)se.jb[X]=ke(q)?pe(q,8):255}else Y.Bb=0;if(q.Ka)return mn(p,3,"cannot parse segment header");if((Y=p.ed).zd=ke(q),Y.Tb=pe(q,6),Y.wb=pe(q,3),Y.Pc=ke(q),Y.Pc&&ke(q)){for(se=0;4>se;++se)ke(q)&&(Y.vd[se]=fe(q,6));for(se=0;4>se;++se)ke(q)&&(Y.od[se]=fe(q,6))}if(p.L=Y.Tb==0?0:Y.zd?1:2,q.Ka)return mn(p,3,"cannot parse filter header");var de=F;if(F=X=I,I=X+de,Y=de,p.Xb=(1<<pe(p.m,2))-1,de<3*(se=p.Xb))T=7;else{for(X+=3*se,Y-=3*se,de=0;de<se;++de){var xe=T[F+0]|T[F+1]<<8|T[F+2]<<16;xe>Y&&(xe=Y),ae(p.Jc[+de],T,X,xe),X+=xe,Y-=xe,F+=3}ae(p.Jc[+se],T,X,Y),T=X<I?0:5}if(T!=0)return mn(p,T,"cannot parse partitions");for(T=pe(X=p.m,7),F=ke(X)?fe(X,4):0,I=ke(X)?fe(X,4):0,Y=ke(X)?fe(X,4):0,se=ke(X)?fe(X,4):0,X=ke(X)?fe(X,4):0,de=p.Qa,xe=0;4>xe;++xe){if(de.Cb){var re=de.Zb[xe];de.Fb||(re+=T)}else{if(0<xe){p.pb[xe]=p.pb[0];continue}re=T}var _e=p.pb[xe];_e.Sc[0]=la[cs(re+F,127)],_e.Sc[1]=ua[cs(re+0,127)],_e.Eb[0]=2*la[cs(re+I,127)],_e.Eb[1]=101581*ua[cs(re+Y,127)]>>16,8>_e.Eb[1]&&(_e.Eb[1]=8),_e.Qc[0]=la[cs(re+se,117)],_e.Qc[1]=ua[cs(re+X,127)],_e.lc=re+X}if(!H.Rb)return mn(p,4,"Not a key frame.");for(ke(q),H=p.Pa,T=0;4>T;++T){for(F=0;8>F;++F)for(I=0;3>I;++I)for(Y=0;11>Y;++Y)se=Be(q,pr[T][F][I][Y])?pe(q,8):Hm[T][F][I][Y],H.Wc[T][F].Yb[I][Y]=se;for(F=0;17>F;++F)H.Xc[T][F]=H.Wc[T][bn[F]]}return p.kc=ke(q),p.kc&&(p.Bd=pe(q,8)),p.cb=1}function En(p,_,T,I,F,q,H){var Y=_[F].Yb[T];for(T=0;16>F;++F){if(!Be(p,Y[T+0]))return F;for(;!Be(p,Y[T+1]);)if(Y=_[++F].Yb[0],T=0,F==16)return 16;var X=_[F+1].Yb;if(Be(p,Y[T+2])){var se=p,de=0;if(Be(se,(re=Y)[(xe=T)+3]))if(Be(se,re[xe+6])){for(Y=0,xe=2*(de=Be(se,re[xe+8]))+(re=Be(se,re[xe+9+de])),de=0,re=zm[xe];re[Y];++Y)de+=de+Be(se,re[Y]);de+=3+(8<<xe)}else Be(se,re[xe+7])?(de=7+2*Be(se,165),de+=Be(se,145)):de=5+Be(se,159);else de=Be(se,re[xe+4])?3+Be(se,re[xe+5]):2;Y=X[2]}else de=1,Y=X[1];X=H+qd[F],0>(se=p).b&&De(se);var xe,re=se.b,_e=(xe=se.Ca>>1)-(se.I>>re)>>31;--se.b,se.Ca+=_e,se.Ca|=1,se.I-=(xe+1&_e)<<re,q[X]=((de^_e)-_e)*I[(0<F)+0]}return 16}function Ka(p){var _=p.rb[p.sb-1];_.la=0,_.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function Br(p,_,T,I,F){F=p[_+T+32*I]+(F>>3),p[_+T+32*I]=-256&F?0>F?0:255:F}function dr(p,_,T,I,F,q){Br(p,_,0,T,I+F),Br(p,_,1,T,I+q),Br(p,_,2,T,I-q),Br(p,_,3,T,I-F)}function Lr(p){return(20091*p>>16)+p}function po(p,_,T,I){var F,q=0,H=o(16);for(F=0;4>F;++F){var Y=p[_+0]+p[_+8],X=p[_+0]-p[_+8],se=(35468*p[_+4]>>16)-Lr(p[_+12]),de=Lr(p[_+4])+(35468*p[_+12]>>16);H[q+0]=Y+de,H[q+1]=X+se,H[q+2]=X-se,H[q+3]=Y-de,q+=4,_++}for(F=q=0;4>F;++F)Y=(p=H[q+0]+4)+H[q+8],X=p-H[q+8],se=(35468*H[q+4]>>16)-Lr(H[q+12]),Br(T,I,0,0,Y+(de=Lr(H[q+4])+(35468*H[q+12]>>16))),Br(T,I,1,0,X+se),Br(T,I,2,0,X-se),Br(T,I,3,0,Y-de),q++,I+=32}function xu(p,_,T,I){var F=p[_+0]+4,q=35468*p[_+4]>>16,H=Lr(p[_+4]),Y=35468*p[_+1]>>16;dr(T,I,0,F+H,p=Lr(p[_+1]),Y),dr(T,I,1,F+q,p,Y),dr(T,I,2,F-q,p,Y),dr(T,I,3,F-H,p,Y)}function Ll(p,_,T,I,F){po(p,_,T,I),F&&po(p,_+16,T,I+4)}function Ri(p,_,T,I){So(p,_+0,T,I,1),So(p,_+32,T,I+128,1)}function kl(p,_,T,I){var F;for(p=p[_+0]+4,F=0;4>F;++F)for(_=0;4>_;++_)Br(T,I,_,F,p)}function Ra(p,_,T,I){p[_+0]&&On(p,_+0,T,I),p[_+16]&&On(p,_+16,T,I+4),p[_+32]&&On(p,_+32,T,I+128),p[_+48]&&On(p,_+48,T,I+128+4)}function ai(p,_,T,I){var F,q=o(16);for(F=0;4>F;++F){var H=p[_+0+F]+p[_+12+F],Y=p[_+4+F]+p[_+8+F],X=p[_+4+F]-p[_+8+F],se=p[_+0+F]-p[_+12+F];q[0+F]=H+Y,q[8+F]=H-Y,q[4+F]=se+X,q[12+F]=se-X}for(F=0;4>F;++F)H=(p=q[0+4*F]+3)+q[3+4*F],Y=q[1+4*F]+q[2+4*F],X=q[1+4*F]-q[2+4*F],se=p-q[3+4*F],T[I+0]=H+Y>>3,T[I+16]=se+X>>3,T[I+32]=H-Y>>3,T[I+48]=se-X>>3,I+=64}function $a(p,_,T){var I,F=_-32,q=Qi,H=255-p[F-1];for(I=0;I<T;++I){var Y,X=q,se=H+p[_-1];for(Y=0;Y<T;++Y)p[_+Y]=X[se+p[F+Y]];_+=32}}function Pl(p,_){$a(p,_,4)}function Dl(p,_){$a(p,_,8)}function $o(p,_){$a(p,_,16)}function Wo(p,_){var T;for(T=0;16>T;++T)r(p,_+32*T,p,_-32,16)}function Ca(p,_){var T;for(T=16;0<T;--T)s(p,_,p[_-1],16),_+=32}function $i(p,_,T){var I;for(I=0;16>I;++I)s(_,T+32*I,p,16)}function Fs(p,_){var T,I=16;for(T=0;16>T;++T)I+=p[_-1+32*T]+p[_+T-32];$i(I>>5,p,_)}function La(p,_){var T,I=8;for(T=0;16>T;++T)I+=p[_-1+32*T];$i(I>>4,p,_)}function Wi(p,_){var T,I=8;for(T=0;16>T;++T)I+=p[_+T-32];$i(I>>4,p,_)}function Wa(p,_){$i(128,p,_)}function Mt(p,_,T){return p+2*_+T+2>>2}function mo(p,_){var T,I=_-32;for(I=new Uint8Array([Mt(p[I-1],p[I+0],p[I+1]),Mt(p[I+0],p[I+1],p[I+2]),Mt(p[I+1],p[I+2],p[I+3]),Mt(p[I+2],p[I+3],p[I+4])]),T=0;4>T;++T)r(p,_+32*T,I,0,I.length)}function Yo(p,_){var T=p[_-1],I=p[_-1+32],F=p[_-1+64],q=p[_-1+96];Je(p,_+0,16843009*Mt(p[_-1-32],T,I)),Je(p,_+32,16843009*Mt(T,I,F)),Je(p,_+64,16843009*Mt(I,F,q)),Je(p,_+96,16843009*Mt(F,q,q))}function Ya(p,_){var T,I=4;for(T=0;4>T;++T)I+=p[_+T-32]+p[_-1+32*T];for(I>>=3,T=0;4>T;++T)s(p,_+32*T,I,4)}function oi(p,_){var T=p[_-1+0],I=p[_-1+32],F=p[_-1+64],q=p[_-1-32],H=p[_+0-32],Y=p[_+1-32],X=p[_+2-32],se=p[_+3-32];p[_+0+96]=Mt(I,F,p[_-1+96]),p[_+1+96]=p[_+0+64]=Mt(T,I,F),p[_+2+96]=p[_+1+64]=p[_+0+32]=Mt(q,T,I),p[_+3+96]=p[_+2+64]=p[_+1+32]=p[_+0+0]=Mt(H,q,T),p[_+3+64]=p[_+2+32]=p[_+1+0]=Mt(Y,H,q),p[_+3+32]=p[_+2+0]=Mt(X,Y,H),p[_+3+0]=Mt(se,X,Y)}function Qr(p,_){var T=p[_+1-32],I=p[_+2-32],F=p[_+3-32],q=p[_+4-32],H=p[_+5-32],Y=p[_+6-32],X=p[_+7-32];p[_+0+0]=Mt(p[_+0-32],T,I),p[_+1+0]=p[_+0+32]=Mt(T,I,F),p[_+2+0]=p[_+1+32]=p[_+0+64]=Mt(I,F,q),p[_+3+0]=p[_+2+32]=p[_+1+64]=p[_+0+96]=Mt(F,q,H),p[_+3+32]=p[_+2+64]=p[_+1+96]=Mt(q,H,Y),p[_+3+64]=p[_+2+96]=Mt(H,Y,X),p[_+3+96]=Mt(Y,X,X)}function go(p,_){var T=p[_-1+0],I=p[_-1+32],F=p[_-1+64],q=p[_-1-32],H=p[_+0-32],Y=p[_+1-32],X=p[_+2-32],se=p[_+3-32];p[_+0+0]=p[_+1+64]=q+H+1>>1,p[_+1+0]=p[_+2+64]=H+Y+1>>1,p[_+2+0]=p[_+3+64]=Y+X+1>>1,p[_+3+0]=X+se+1>>1,p[_+0+96]=Mt(F,I,T),p[_+0+64]=Mt(I,T,q),p[_+0+32]=p[_+1+96]=Mt(T,q,H),p[_+1+32]=p[_+2+96]=Mt(q,H,Y),p[_+2+32]=p[_+3+96]=Mt(H,Y,X),p[_+3+32]=Mt(Y,X,se)}function Un(p,_){var T=p[_+0-32],I=p[_+1-32],F=p[_+2-32],q=p[_+3-32],H=p[_+4-32],Y=p[_+5-32],X=p[_+6-32],se=p[_+7-32];p[_+0+0]=T+I+1>>1,p[_+1+0]=p[_+0+64]=I+F+1>>1,p[_+2+0]=p[_+1+64]=F+q+1>>1,p[_+3+0]=p[_+2+64]=q+H+1>>1,p[_+0+32]=Mt(T,I,F),p[_+1+32]=p[_+0+96]=Mt(I,F,q),p[_+2+32]=p[_+1+96]=Mt(F,q,H),p[_+3+32]=p[_+2+96]=Mt(q,H,Y),p[_+3+64]=Mt(H,Y,X),p[_+3+96]=Mt(Y,X,se)}function hs(p,_){var T=p[_-1+0],I=p[_-1+32],F=p[_-1+64],q=p[_-1+96];p[_+0+0]=T+I+1>>1,p[_+2+0]=p[_+0+32]=I+F+1>>1,p[_+2+32]=p[_+0+64]=F+q+1>>1,p[_+1+0]=Mt(T,I,F),p[_+3+0]=p[_+1+32]=Mt(I,F,q),p[_+3+32]=p[_+1+64]=Mt(F,q,q),p[_+3+64]=p[_+2+64]=p[_+0+96]=p[_+1+96]=p[_+2+96]=p[_+3+96]=q}function yo(p,_){var T=p[_-1+0],I=p[_-1+32],F=p[_-1+64],q=p[_-1+96],H=p[_-1-32],Y=p[_+0-32],X=p[_+1-32],se=p[_+2-32];p[_+0+0]=p[_+2+32]=T+H+1>>1,p[_+0+32]=p[_+2+64]=I+T+1>>1,p[_+0+64]=p[_+2+96]=F+I+1>>1,p[_+0+96]=q+F+1>>1,p[_+3+0]=Mt(Y,X,se),p[_+2+0]=Mt(H,Y,X),p[_+1+0]=p[_+3+32]=Mt(T,H,Y),p[_+1+32]=p[_+3+64]=Mt(I,T,H),p[_+1+64]=p[_+3+96]=Mt(F,I,T),p[_+1+96]=Mt(q,F,I)}function Bs(p,_){var T;for(T=0;8>T;++T)r(p,_+32*T,p,_-32,8)}function Ol(p,_){var T;for(T=0;8>T;++T)s(p,_,p[_-1],8),_+=32}function fs(p,_,T){var I;for(I=0;8>I;++I)s(_,T+32*I,p,8)}function ka(p,_){var T,I=8;for(T=0;8>T;++T)I+=p[_+T-32]+p[_-1+32*T];fs(I>>4,p,_)}function ds(p,_){var T,I=4;for(T=0;8>T;++T)I+=p[_+T-32];fs(I>>3,p,_)}function qr(p,_){var T,I=4;for(T=0;8>T;++T)I+=p[_-1+32*T];fs(I>>3,p,_)}function Xs(p,_){fs(128,p,_)}function _i(p,_,T){var I=p[_-T],F=p[_+0],q=3*(F-I)+Io[1020+p[_-2*T]-p[_+T]],H=Gc[112+(q+4>>3)];p[_-T]=Qi[255+I+Gc[112+(q+3>>3)]],p[_+0]=Qi[255+F-H]}function Js(p,_,T,I){var F=p[_+0],q=p[_+T];return Pi[255+p[_-2*T]-p[_-T]]>I||Pi[255+q-F]>I}function Qa(p,_,T,I){return 4*Pi[255+p[_-T]-p[_+0]]+Pi[255+p[_-2*T]-p[_+T]]<=I}function Zs(p,_,T,I,F){var q=p[_-3*T],H=p[_-2*T],Y=p[_-T],X=p[_+0],se=p[_+T],de=p[_+2*T],xe=p[_+3*T];return 4*Pi[255+Y-X]+Pi[255+H-se]>I?0:Pi[255+p[_-4*T]-q]<=F&&Pi[255+q-H]<=F&&Pi[255+H-Y]<=F&&Pi[255+xe-de]<=F&&Pi[255+de-se]<=F&&Pi[255+se-X]<=F}function ea(p,_,T,I){var F=2*I+1;for(I=0;16>I;++I)Qa(p,_+I,T,F)&&_i(p,_+I,T)}function Is(p,_,T,I){var F=2*I+1;for(I=0;16>I;++I)Qa(p,_+I*T,1,F)&&_i(p,_+I*T,1)}function _o(p,_,T,I){var F;for(F=3;0<F;--F)ea(p,_+=4*T,T,I)}function Qo(p,_,T,I){var F;for(F=3;0<F;--F)Is(p,_+=4,T,I)}function ps(p,_,T,I,F,q,H,Y){for(q=2*q+1;0<F--;){if(Zs(p,_,T,q,H))if(Js(p,_,T,Y))_i(p,_,T);else{var X=p,se=_,de=T,xe=X[se-2*de],re=X[se-de],_e=X[se+0],Ee=X[se+de],je=X[se+2*de],Se=27*(qe=Io[1020+3*(_e-re)+Io[1020+xe-Ee]])+63>>7,Ve=18*qe+63>>7,qe=9*qe+63>>7;X[se-3*de]=Qi[255+X[se-3*de]+qe],X[se-2*de]=Qi[255+xe+Ve],X[se-de]=Qi[255+re+Se],X[se+0]=Qi[255+_e-Se],X[se+de]=Qi[255+Ee-Ve],X[se+2*de]=Qi[255+je-qe]}_+=I}}function ta(p,_,T,I,F,q,H,Y){for(q=2*q+1;0<F--;){if(Zs(p,_,T,q,H))if(Js(p,_,T,Y))_i(p,_,T);else{var X=p,se=_,de=T,xe=X[se-de],re=X[se+0],_e=X[se+de],Ee=Gc[112+(4+(je=3*(re-xe))>>3)],je=Gc[112+(je+3>>3)],Se=Ee+1>>1;X[se-2*de]=Qi[255+X[se-2*de]+Se],X[se-de]=Qi[255+xe+je],X[se+0]=Qi[255+re-Ee],X[se+de]=Qi[255+_e-Se]}_+=I}}function Ml(p,_,T,I,F,q){ps(p,_,T,1,16,I,F,q)}function qs(p,_,T,I,F,q){ps(p,_,1,T,16,I,F,q)}function Xo(p,_,T,I,F,q){var H;for(H=3;0<H;--H)ta(p,_+=4*T,T,1,16,I,F,q)}function A(p,_,T,I,F,q){var H;for(H=3;0<H;--H)ta(p,_+=4,1,T,16,I,F,q)}function U(p,_,T,I,F,q,H,Y){ps(p,_,F,1,8,q,H,Y),ps(T,I,F,1,8,q,H,Y)}function ie(p,_,T,I,F,q,H,Y){ps(p,_,1,F,8,q,H,Y),ps(T,I,1,F,8,q,H,Y)}function he(p,_,T,I,F,q,H,Y){ta(p,_+4*F,F,1,8,q,H,Y),ta(T,I+4*F,F,1,8,q,H,Y)}function be(p,_,T,I,F,q,H,Y){ta(p,_+4,1,F,8,q,H,Y),ta(T,I+4,1,F,8,q,H,Y)}function Ue(){this.ba=new xt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new hn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ye(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function dt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function yt(){this.ua=0,this.Wa=new Jt,this.vb=new Jt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ie,this.yc=new R}function jt(){this.xb=this.a=0,this.l=new yi,this.ca=new xt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new yt,this.ab=0,this.gc=u(4,dt),this.Oc=0}function Lt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new yi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function gn(p,_,T,I,F,q,H){for(p=p==null?0:p[_+0],_=0;_<H;++_)F[q+_]=p+T[I+_]&255,p=F[q+_]}function sr(p,_,T,I,F,q,H){var Y;if(p==null)gn(null,null,T,I,F,q,H);else for(Y=0;Y<H;++Y)F[q+Y]=p[_+Y]+T[I+Y]&255}function $n(p,_,T,I,F,q,H){if(p==null)gn(null,null,T,I,F,q,H);else{var Y,X=p[_+0],se=X,de=X;for(Y=0;Y<H;++Y)se=de+(X=p[_+Y])-se,de=T[I+Y]+(-256&se?0>se?0:255:se)&255,se=X,F[q+Y]=de}}function m(p,_,T,I){var F=_.width,q=_.o;if(e(p!=null&&_!=null),0>T||0>=I||T+I>q)return null;if(!p.Cc){if(p.ga==null){var H;if(p.ga=new Lt,(H=p.ga==null)||(H=_.width*_.o,e(p.Gb.length==0),p.Gb=o(H),p.Uc=0,p.Gb==null?H=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,H=1),H=!H),!H){H=p.ga;var Y=p.Fa,X=p.P,se=p.qc,de=p.mb,xe=p.nb,re=X+1,_e=se-1,Ee=H.l;if(e(Y!=null&&de!=null&&_!=null),xo[0]=null,xo[1]=gn,xo[2]=sr,xo[3]=$n,H.ca=de,H.tb=xe,H.c=_.width,H.i=_.height,e(0<H.c&&0<H.i),1>=se)_=0;else if(H.$a=3&Y[X+0],H.Z=Y[X+0]>>2&3,H.Lc=Y[X+0]>>4&3,X=Y[X+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||X)_=0;else if(Ee.put=Ct,Ee.ac=si,Ee.bc=Ia,Ee.ma=H,Ee.width=_.width,Ee.height=_.height,Ee.Da=_.Da,Ee.v=_.v,Ee.va=_.va,Ee.j=_.j,Ee.o=_.o,H.$a)e:{e(H.$a==1),_=Ga();t:for(;;){if(_==null){_=0;break e}if(e(H!=null),H.mc=_,_.c=H.c,_.i=H.i,_.l=H.l,_.l.ma=H,_.l.width=H.c,_.l.height=H.i,_.a=0,Le(_.m,Y,re,_e),!js(H.c,H.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&jn(_.s)?(H.ic=1,Y=_.c*_.i,_.Ta=null,_.Ua=0,_.V=o(Y),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(H.ic=0,_=Gi(_,H.c)),!_))break t;_=1;break e}H.mc=null,_=0}else _=_e>=H.c*H.i;H=!_}if(H)return null;p.ga.Lc!=1?p.Ga=0:I=q-T}e(p.ga!=null),e(T+I<=q);e:{if(_=(Y=p.ga).c,q=Y.l.o,Y.$a==0){if(re=p.rc,_e=p.Vc,Ee=p.Fa,X=p.P+1+T*_,se=p.mb,de=p.nb+T*_,e(X<=p.P+p.qc),Y.Z!=0)for(e(xo[Y.Z]!=null),H=0;H<I;++H)xo[Y.Z](re,_e,Ee,X,se,de,_),re=se,_e=de,de+=_,X+=_;else for(H=0;H<I;++H)r(se,de,Ee,X,_),re=se,_e=de,de+=_,X+=_;p.rc=re,p.Vc=_e}else{if(e(Y.mc!=null),_=T+I,e((H=Y.mc)!=null),e(_<=H.i),H.C>=_)_=1;else if(Y.ic||Pe(),Y.ic){Y=H.V,re=H.Ba,_e=H.c;var je=H.i,Se=(Ee=1,X=H.$/_e,se=H.$%_e,de=H.m,xe=H.s,H.$),Ve=_e*je,qe=_e*_,Xe=xe.wc,We=Se<qe?Wr(xe,se,X):null;e(Se<=Ve),e(_<=je),e(jn(xe));t:for(;;){for(;!de.h&&Se<qe;){if(se&Xe||(We=Wr(xe,se,X)),e(We!=null),ye(de),256>(je=Kn(We.G[0],We.H[0],de)))Y[re+Se]=je,++Se,++se>=_e&&(se=0,++X<=_&&!(X%16)&&Yr(H,X));else{if(!(280>je)){Ee=0;break t}je=qi(je-256,de);var _t,ht=Kn(We.G[4],We.H[4],de);if(ye(de),!(Se>=(ht=zi(_e,ht=qi(ht,de)))&&Ve-Se>=je)){Ee=0;break t}for(_t=0;_t<je;++_t)Y[re+Se+_t]=Y[re+Se+_t-ht];for(Se+=je,se+=je;se>=_e;)se-=_e,++X<=_&&!(X%16)&&Yr(H,X);Se<qe&&se&Xe&&(We=Wr(xe,se,X))}e(de.h==le(de))}Yr(H,X>_?_:X);break t}!Ee||de.h&&Se<Ve?(Ee=0,H.a=de.h?5:3):H.$=Se,_=Ee}else _=Hi(H,H.V,H.Ba,H.c,H.i,_,xa);if(!_){I=0;break e}}T+I>=q&&(p.Cc=1),I=1}if(!I)return null;if(p.Cc&&((I=p.ga)!=null&&(I.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+T*F}function S(p,_,T,I,F,q){for(;0<F--;){var H,Y=p,X=_+(T?1:0),se=p,de=_+(T?0:3);for(H=0;H<I;++H){var xe=se[de+4*H];xe!=255&&(xe*=32897,Y[X+4*H+0]=Y[X+4*H+0]*xe>>23,Y[X+4*H+1]=Y[X+4*H+1]*xe>>23,Y[X+4*H+2]=Y[X+4*H+2]*xe>>23)}_+=q}}function L(p,_,T,I,F){for(;0<I--;){var q;for(q=0;q<T;++q){var H=p[_+2*q+0],Y=15&(se=p[_+2*q+1]),X=4369*Y,se=(240&se|se>>4)*X>>16;p[_+2*q+0]=(240&H|H>>4)*X>>16&240|(15&H|H<<4)*X>>16>>4&15,p[_+2*q+1]=240&se|Y}_+=F}}function Q(p,_,T,I,F,q,H,Y){var X,se,de=255;for(se=0;se<F;++se){for(X=0;X<I;++X){var xe=p[_+X];q[H+4*X]=xe,de&=xe}_+=T,H+=Y}return de!=255}function Ae(p,_,T,I,F){var q;for(q=0;q<F;++q)T[I+q]=p[_+q]>>8}function Pe(){Ul=S,ra=L,qc=Q,Ks=Ae}function Ze(p,_,T){C[p]=function(I,F,q,H,Y,X,se,de,xe,re,_e,Ee,je,Se,Ve,qe,Xe){var We,_t=Xe-1>>1,ht=Y[X+0]|se[de+0]<<16,Qt=xe[re+0]|_e[Ee+0]<<16;e(I!=null);var mt=3*ht+Qt+131074>>2;for(_(I[F+0],255&mt,mt>>16,je,Se),q!=null&&(mt=3*Qt+ht+131074>>2,_(q[H+0],255&mt,mt>>16,Ve,qe)),We=1;We<=_t;++We){var yn=Y[X+We]|se[de+We]<<16,mr=xe[re+We]|_e[Ee+We]<<16,sn=ht+yn+Qt+mr+524296,ft=sn+2*(yn+Qt)>>3;mt=ft+ht>>1,ht=(sn=sn+2*(ht+mr)>>3)+yn>>1,_(I[F+2*We-1],255&mt,mt>>16,je,Se+(2*We-1)*T),_(I[F+2*We-0],255&ht,ht>>16,je,Se+(2*We-0)*T),q!=null&&(mt=sn+Qt>>1,ht=ft+mr>>1,_(q[H+2*We-1],255&mt,mt>>16,Ve,qe+(2*We-1)*T),_(q[H+2*We+0],255&ht,ht>>16,Ve,qe+(2*We+0)*T)),ht=yn,Qt=mr}1&Xe||(mt=3*ht+Qt+131074>>2,_(I[F+Xe-1],255&mt,mt>>16,je,Se+(Xe-1)*T),q!=null&&(mt=3*Qt+ht+131074>>2,_(q[H+Xe-1],255&mt,mt>>16,Ve,qe+(Xe-1)*T)))}}function Wt(){Oi[Gh]=ql,Oi[Xi]=Mu,Oi[Kh]=Hd,Oi[ia]=Xh,Oi[Kc]=nl,Oi[Pu]=so,Oi[Zo]=rl,Oi[$c]=Mu,Oi[$h]=Xh,Oi[Du]=nl,Oi[Wh]=so}function ar(p){return p&-16384?0>p?0:255:p>>Jh}function dn(p,_){return ar((19077*p>>8)+(26149*_>>8)-14234)}function Fn(p,_,T){return ar((19077*p>>8)-(6419*_>>8)-(13320*T>>8)+8708)}function vi(p,_){return ar((19077*p>>8)+(33050*_>>8)-17685)}function Ci(p,_,T,I,F){I[F+0]=dn(p,T),I[F+1]=Fn(p,_,T),I[F+2]=vi(p,_)}function Qn(p,_,T,I,F){I[F+0]=vi(p,_),I[F+1]=Fn(p,_,T),I[F+2]=dn(p,T)}function Li(p,_,T,I,F){var q=Fn(p,_,T);_=q<<3&224|vi(p,_)>>3,I[F+0]=248&dn(p,T)|q>>5,I[F+1]=_}function zs(p,_,T,I,F){var q=240&vi(p,_)|15;I[F+0]=240&dn(p,T)|Fn(p,_,T)>>4,I[F+1]=q}function Xa(p,_,T,I,F){I[F+0]=255,Ci(p,_,T,I,F+1)}function Ja(p,_,T,I,F){Qn(p,_,T,I,F),I[F+3]=255}function ms(p,_,T,I,F){Ci(p,_,T,I,F),I[F+3]=255}function vo(p,_,T){C[p]=function(I,F,q,H,Y,X,se,de,xe){for(var re=de+(-2&xe)*T;de!=re;)_(I[F+0],q[H+0],Y[X+0],se,de),_(I[F+1],q[H+0],Y[X+0],se,de+T),F+=2,++H,++X,de+=2*T;1&xe&&_(I[F+0],q[H+0],Y[X+0],se,de)}}function Nu(p,_,T){return T==0?p==0?_==0?6:5:_==0?4:0:T}function Uc(p,_,T,I,F){switch(p>>>30){case 3:So(_,T,I,F,0);break;case 2:Yi(_,T,I,F);break;case 1:On(_,T,I,F)}}function Hs(p,_){var T,I,F=_.M,q=_.Nb,H=p.oc,Y=p.pc+40,X=p.oc,se=p.pc+584,de=p.oc,xe=p.pc+600;for(T=0;16>T;++T)H[Y+32*T-1]=129;for(T=0;8>T;++T)X[se+32*T-1]=129,de[xe+32*T-1]=129;for(0<F?H[Y-1-32]=X[se-1-32]=de[xe-1-32]=129:(s(H,Y-32-1,127,21),s(X,se-32-1,127,9),s(de,xe-32-1,127,9)),I=0;I<p.za;++I){var re=_.ya[_.aa+I];if(0<I){for(T=-1;16>T;++T)r(H,Y+32*T-4,H,Y+32*T+12,4);for(T=-1;8>T;++T)r(X,se+32*T-4,X,se+32*T+4,4),r(de,xe+32*T-4,de,xe+32*T+4,4)}var _e=p.Gd,Ee=p.Hd+I,je=re.ad,Se=re.Hc;if(0<F&&(r(H,Y-32,_e[Ee].y,0,16),r(X,se-32,_e[Ee].f,0,8),r(de,xe-32,_e[Ee].ea,0,8)),re.Za){var Ve=H,qe=Y-32+16;for(0<F&&(I>=p.za-1?s(Ve,qe,_e[Ee].y[15],4):r(Ve,qe,_e[Ee+1].y,0,4)),T=0;4>T;T++)Ve[qe+128+T]=Ve[qe+256+T]=Ve[qe+384+T]=Ve[qe+0+T];for(T=0;16>T;++T,Se<<=2)Ve=H,qe=Y+Gr[T],kr[re.Ob[T]](Ve,qe),Uc(Se,je,16*+T,Ve,qe)}else if(Ve=Nu(I,F,re.Ob[0]),ys[Ve](H,Y),Se!=0)for(T=0;16>T;++T,Se<<=2)Uc(Se,je,16*+T,H,Y+Gr[T]);for(T=re.Gc,Ve=Nu(I,F,re.Dd),Ma[Ve](X,se),Ma[Ve](de,xe),Se=je,Ve=X,qe=se,255&(re=0|T)&&(170&re?na(Se,256,Ve,qe):Nn(Se,256,Ve,qe)),re=de,Se=xe,255&(T>>=8)&&(170&T?na(je,320,re,Se):Nn(je,320,re,Se)),F<p.Ub-1&&(r(_e[Ee].y,0,H,Y+480,16),r(_e[Ee].f,0,X,se+224,8),r(_e[Ee].ea,0,de,xe+224,8)),T=8*q*p.B,_e=p.sa,Ee=p.ta+16*I+16*q*p.R,je=p.qa,re=p.ra+8*I+T,Se=p.Ha,Ve=p.Ia+8*I+T,T=0;16>T;++T)r(_e,Ee+T*p.R,H,Y+32*T,16);for(T=0;8>T;++T)r(je,re+T*p.B,X,se+32*T,8),r(Se,Ve+T*p.B,de,xe+32*T,8)}}function Pa(p,_,T,I,F,q,H,Y,X){var se=[0],de=[0],xe=0,re=X!=null?X.kd:0,_e=X??new Ye;if(p==null||12>T)return 7;_e.data=p,_e.w=_,_e.ha=T,_=[_],T=[T],_e.gb=[_e.gb];e:{var Ee=_,je=T,Se=_e.gb;if(e(p!=null),e(je!=null),e(Se!=null),Se[0]=0,12<=je[0]&&!t(p,Ee[0],"RIFF")){if(t(p,Ee[0]+8,"WEBP")){Se=3;break e}var Ve=pt(p,Ee[0]+4);if(12>Ve||4294967286<Ve){Se=3;break e}if(re&&Ve>je[0]-8){Se=7;break e}Se[0]=Ve,Ee[0]+=12,je[0]-=12}Se=0}if(Se!=0)return Se;for(Ve=0<_e.gb[0],T=T[0];;){e:{var qe=p;je=_,Se=T;var Xe=se,We=de,_t=Ee=[0];if((mt=xe=[xe])[0]=0,8>Se[0])Se=7;else{if(!t(qe,je[0],"VP8X")){if(pt(qe,je[0]+4)!=10){Se=3;break e}if(18>Se[0]){Se=7;break e}var ht=pt(qe,je[0]+8),Qt=1+at(qe,je[0]+12);if(2147483648<=Qt*(qe=1+at(qe,je[0]+15))){Se=3;break e}_t!=null&&(_t[0]=ht),Xe!=null&&(Xe[0]=Qt),We!=null&&(We[0]=qe),je[0]+=18,Se[0]-=18,mt[0]=1}Se=0}}if(xe=xe[0],Ee=Ee[0],Se!=0)return Se;if(je=!!(2&Ee),!Ve&&xe)return 3;if(q!=null&&(q[0]=!!(16&Ee)),H!=null&&(H[0]=je),Y!=null&&(Y[0]=0),H=se[0],Ee=de[0],xe&&je&&X==null){Se=0;break}if(4>T){Se=7;break}if(Ve&&xe||!Ve&&!xe&&!t(p,_[0],"ALPH")){T=[T],_e.na=[_e.na],_e.P=[_e.P],_e.Sa=[_e.Sa];e:{ht=p,Se=_,Ve=T;var mt=_e.gb;Xe=_e.na,We=_e.P,_t=_e.Sa,Qt=22,e(ht!=null),e(Ve!=null),qe=Se[0];var yn=Ve[0];for(e(Xe!=null),e(_t!=null),Xe[0]=null,We[0]=null,_t[0]=0;;){if(Se[0]=qe,Ve[0]=yn,8>yn){Se=7;break e}var mr=pt(ht,qe+4);if(4294967286<mr){Se=3;break e}var sn=8+mr+1&-2;if(Qt+=sn,0<mt&&Qt>mt){Se=3;break e}if(!t(ht,qe,"VP8 ")||!t(ht,qe,"VP8L")){Se=0;break e}if(yn[0]<sn){Se=7;break e}t(ht,qe,"ALPH")||(Xe[0]=ht,We[0]=qe+8,_t[0]=mr),qe+=sn,yn-=sn}}if(T=T[0],_e.na=_e.na[0],_e.P=_e.P[0],_e.Sa=_e.Sa[0],Se!=0)break}T=[T],_e.Ja=[_e.Ja],_e.xa=[_e.xa];e:if(mt=p,Se=_,Ve=T,Xe=_e.gb[0],We=_e.Ja,_t=_e.xa,ht=Se[0],qe=!t(mt,ht,"VP8 "),Qt=!t(mt,ht,"VP8L"),e(mt!=null),e(Ve!=null),e(We!=null),e(_t!=null),8>Ve[0])Se=7;else{if(qe||Qt){if(mt=pt(mt,ht+4),12<=Xe&&mt>Xe-12){Se=3;break e}if(re&&mt>Ve[0]-8){Se=7;break e}We[0]=mt,Se[0]+=8,Ve[0]-=8,_t[0]=Qt}else _t[0]=5<=Ve[0]&&mt[ht+0]==47&&!(mt[ht+4]>>5),We[0]=Ve[0];Se=0}if(T=T[0],_e.Ja=_e.Ja[0],_e.xa=_e.xa[0],_=_[0],Se!=0)break;if(4294967286<_e.Ja)return 3;if(Y==null||je||(Y[0]=_e.xa?2:1),H=[H],Ee=[Ee],_e.xa){if(5>T){Se=7;break}Y=H,re=Ee,je=q,p==null||5>T?p=0:5<=T&&p[_+0]==47&&!(p[_+4]>>5)?(Ve=[0],mt=[0],Xe=[0],Le(We=new W,p,_,T),os(We,Ve,mt,Xe)?(Y!=null&&(Y[0]=Ve[0]),re!=null&&(re[0]=mt[0]),je!=null&&(je[0]=Xe[0]),p=1):p=0):p=0}else{if(10>T){Se=7;break}Y=Ee,p==null||10>T||!Na(p,_+3,T-3)?p=0:(re=p[_+0]|p[_+1]<<8|p[_+2]<<16,je=16383&(p[_+7]<<8|p[_+6]),p=16383&(p[_+9]<<8|p[_+8]),1&re||3<(re>>1&7)||!(re>>4&1)||re>>5>=_e.Ja||!je||!p?p=0:(H&&(H[0]=je),Y&&(Y[0]=p),p=1))}if(!p||(H=H[0],Ee=Ee[0],xe&&(se[0]!=H||de[0]!=Ee)))return 3;X!=null&&(X[0]=_e,X.offset=_-X.w,e(4294967286>_-X.w),e(X.offset==X.ha-T));break}return Se==0||Se==7&&xe&&X==null?(q!=null&&(q[0]|=_e.na!=null&&0<_e.na.length),I!=null&&(I[0]=H),F!=null&&(F[0]=Ee),0):Se}function bo(p,_,T){var I=_.width,F=_.height,q=0,H=0,Y=I,X=F;if(_.Da=p!=null&&0<p.Da,_.Da&&(Y=p.cd,X=p.bd,q=p.v,H=p.j,11>T||(q&=-2,H&=-2),0>q||0>H||0>=Y||0>=X||q+Y>I||H+X>F))return 0;if(_.v=q,_.j=H,_.va=q+Y,_.o=H+X,_.U=Y,_.T=X,_.da=p!=null&&0<p.da,_.da){if(!Pt(Y,X,T=[p.ib],q=[p.hb]))return 0;_.ib=T[0],_.hb=q[0]}return _.ob=p!=null&&p.ob,_.Kb=p==null||!p.Sd,_.da&&(_.ob=_.ib<3*I/4&&_.hb<3*F/4,_.Kb=0),1}function Fc(p){if(p==null)return 2;if(11>p.S){var _=p.f.RGBA;_.fb+=(p.height-1)*_.A,_.A=-_.A}else _=p.f.kb,p=p.height,_.O+=(p-1)*_.fa,_.fa=-_.fa,_.N+=(p-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(p-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(p-1)*_.lb,_.lb=-_.lb);return 0}function Da(p,_,T,I){if(I==null||0>=p||0>=_)return 2;if(T!=null){if(T.Da){var F=T.cd,q=T.bd,H=-2&T.v,Y=-2&T.j;if(0>H||0>Y||0>=F||0>=q||H+F>p||Y+q>_)return 2;p=F,_=q}if(T.da){if(!Pt(p,_,F=[T.ib],q=[T.hb]))return 2;p=F[0],_=q[0]}}I.width=p,I.height=_;e:{var X=I.width,se=I.height;if(p=I.S,0>=X||0>=se||!(p>=Gh&&13>p))p=2;else{if(0>=I.Rd&&I.sd==null){H=q=F=_=0;var de=(Y=X*ef[p])*se;if(11>p||(q=(se+1)/2*(_=(X+1)/2),p==12&&(H=(F=X)*se)),(se=o(de+2*q+H))==null){p=1;break e}I.sd=se,11>p?((X=I.f.RGBA).eb=se,X.fb=0,X.A=Y,X.size=de):((X=I.f.kb).y=se,X.O=0,X.fa=Y,X.Fd=de,X.f=se,X.N=0+de,X.Ab=_,X.Cd=q,X.ea=se,X.W=0+de+q,X.Db=_,X.Ed=q,p==12&&(X.F=se,X.J=0+de+2*q),X.Tc=H,X.lb=F)}if(_=1,F=I.S,q=I.width,H=I.height,F>=Gh&&13>F)if(11>F)p=I.f.RGBA,_&=(Y=Math.abs(p.A))*(H-1)+q<=p.size,_&=Y>=q*ef[F],_&=p.eb!=null;else{p=I.f.kb,Y=(q+1)/2,de=(H+1)/2,X=Math.abs(p.fa),se=Math.abs(p.Ab);var xe=Math.abs(p.Db),re=Math.abs(p.lb),_e=re*(H-1)+q;_&=X*(H-1)+q<=p.Fd,_&=se*(de-1)+Y<=p.Cd,_=(_&=xe*(de-1)+Y<=p.Ed)&X>=q&se>=Y&xe>=Y,_&=p.y!=null,_&=p.f!=null,_&=p.ea!=null,F==12&&(_&=re>=q,_&=_e<=p.Tc,_&=p.F!=null)}else _=0;p=_?0:2}}return p!=0||T!=null&&T.fd&&(p=Fc(I)),p}var Jo=64,xs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gs=24,Za=32,eo=8,wo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];lt("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(p){return p},C.Predictor2=function(p,_,T){return _[T+0]},C.Predictor3=function(p,_,T){return _[T+1]},C.Predictor4=function(p,_,T){return _[T-1]},C.Predictor5=function(p,_,T){return It(It(p,_[T+1]),_[T+0])},C.Predictor6=function(p,_,T){return It(p,_[T-1])},C.Predictor7=function(p,_,T){return It(p,_[T+0])},C.Predictor8=function(p,_,T){return It(_[T-1],_[T+0])},C.Predictor9=function(p,_,T){return It(_[T+0],_[T+1])},C.Predictor10=function(p,_,T){return It(It(p,_[T-1]),It(_[T+0],_[T+1]))},C.Predictor11=function(p,_,T){var I=_[T+0];return 0>=Kt(I>>24&255,p>>24&255,(_=_[T-1])>>24&255)+Kt(I>>16&255,p>>16&255,_>>16&255)+Kt(I>>8&255,p>>8&255,_>>8&255)+Kt(255&I,255&p,255&_)?I:p},C.Predictor12=function(p,_,T){var I=_[T+0];return(Zt((p>>24&255)+(I>>24&255)-((_=_[T-1])>>24&255))<<24|Zt((p>>16&255)+(I>>16&255)-(_>>16&255))<<16|Zt((p>>8&255)+(I>>8&255)-(_>>8&255))<<8|Zt((255&p)+(255&I)-(255&_)))>>>0},C.Predictor13=function(p,_,T){var I=_[T-1];return(rn((p=It(p,_[T+0]))>>24&255,I>>24&255)<<24|rn(p>>16&255,I>>16&255)<<16|rn(p>>8&255,I>>8&255)<<8|rn(255&p,255&I))>>>0};var Ru=C.PredictorAdd0;C.PredictorAdd1=cn,lt("Predictor2","PredictorAdd2"),lt("Predictor3","PredictorAdd3"),lt("Predictor4","PredictorAdd4"),lt("Predictor5","PredictorAdd5"),lt("Predictor6","PredictorAdd6"),lt("Predictor7","PredictorAdd7"),lt("Predictor8","PredictorAdd8"),lt("Predictor9","PredictorAdd9"),lt("Predictor10","PredictorAdd10"),lt("Predictor11","PredictorAdd11"),lt("Predictor12","PredictorAdd12"),lt("Predictor13","PredictorAdd13");var Cu=C.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var zr,qh=C.ColorIndexInverseTransform,to=C.MapARGB,no=C.VP8LColorIndexInverseTransformAlpha,ki=C.MapAlpha,Ao=C.VP8LPredictorsAdd=[];Ao.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var Lu,ku,Eo,To,ro,Vl,Gs,So,Yi,na,On,Nn,or,Hr,io,Oa,jl,Bc,Ud,Fm,Bm,qm,Fd,Bd,Ul,ra,qc,Ks,Fl=o(511),zh=o(2041),zc=o(225),Hc=o(767),Hh=0,Io=zh,Gc=zc,Qi=Hc,Pi=Fl,Gh=0,Xi=1,Kh=2,ia=3,Kc=4,Pu=5,Zo=6,$c=7,$h=8,Du=9,Wh=10,sa=[2,3,7],Ou=[3,3,11],Bl=[280,256,256,256,40],Yh=[0,1,1,1,0],Wc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],aa=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],oa=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],el=8,la=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ua=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],$s=null,zm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],qd=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Qh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Hm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Di=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],pr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],bn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ys=[],kr=[],Ma=[],tl=1,zd=2,xo=[],Oi=[];Ze("UpsampleRgbLinePair",Ci,3),Ze("UpsampleBgrLinePair",Qn,3),Ze("UpsampleRgbaLinePair",ms,4),Ze("UpsampleBgraLinePair",Ja,4),Ze("UpsampleArgbLinePair",Xa,4),Ze("UpsampleRgba4444LinePair",zs,2),Ze("UpsampleRgb565LinePair",Li,2);var ql=C.UpsampleRgbLinePair,Hd=C.UpsampleBgrLinePair,Mu=C.UpsampleRgbaLinePair,Xh=C.UpsampleBgraLinePair,nl=C.UpsampleArgbLinePair,so=C.UpsampleRgba4444LinePair,rl=C.UpsampleRgb565LinePair,ca=16,Vu=1<<ca-1,zl=-227,il=482,Jh=6,sl=0,Mi=o(256),Zh=o(256),Gm=o(256),V0=o(256),j0=o(il-zl),U0=o(il-zl);vo("YuvToRgbRow",Ci,3),vo("YuvToBgrRow",Qn,3),vo("YuvToRgbaRow",ms,4),vo("YuvToBgraRow",Ja,4),vo("YuvToArgbRow",Xa,4),vo("YuvToRgba4444Row",zs,2),vo("YuvToRgb565Row",Li,2);var Gr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ju=[0,2,8],Yc=[8,7,6,4,4,2,2,2,1,1,1,1],Qc=1;this.WebPDecodeRGBA=function(p,_,T,I,F){var q=Xi,H=new Ue,Y=new xt;H.ba=Y,Y.S=q,Y.width=[Y.width],Y.height=[Y.height];var X=Y.width,se=Y.height,de=new Et;if(de==null||p==null)var xe=2;else e(de!=null),xe=Pa(p,_,T,de.width,de.height,de.Pd,de.Qd,de.format,null);if(xe!=0?X=0:(X!=null&&(X[0]=de.width[0]),se!=null&&(se[0]=de.height[0]),X=1),X){Y.width=Y.width[0],Y.height=Y.height[0],I!=null&&(I[0]=Y.width),F!=null&&(F[0]=Y.height);e:{if(I=new yi,(F=new Ye).data=p,F.w=_,F.ha=T,F.kd=1,_=[0],e(F!=null),((p=Pa(F.data,F.w,F.ha,null,null,null,_,null,F))==0||p==7)&&_[0]&&(p=4),(_=p)==0){if(e(H!=null),I.data=F.data,I.w=F.w+F.offset,I.ha=F.ha-F.offset,I.put=Ct,I.ac=si,I.bc=Ia,I.ma=H,F.xa){if((p=Ga())==null){H=1;break e}if((function(re,_e){var Ee=[0],je=[0],Se=[0];t:for(;;){if(re==null)return 0;if(_e==null)return re.a=2,0;if(re.l=_e,re.a=0,Le(re.m,_e.data,_e.w,_e.ha),!os(re.m,Ee,je,Se)){re.a=3;break t}if(re.xb=zd,_e.width=Ee[0],_e.height=je[0],!js(Ee[0],je[0],1,re,null))break t;return 1}return e(re.a!=0),0})(p,I)){if(I=(_=Da(I.width,I.height,H.Oa,H.ba))==0){t:{I=p;n:for(;;){if(I==null){I=0;break t}if(e(I.s.yc!=null),e(I.s.Ya!=null),e(0<I.s.Wb),e((T=I.l)!=null),e((F=T.ma)!=null),I.xb!=0){if(I.ca=F.ba,I.tb=F.tb,e(I.ca!=null),!bo(F.Oa,T,ia)){I.a=2;break n}if(!Gi(I,T.width)||T.da)break n;if((T.da||Bt(I.ca.S))&&Pe(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&Pe()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!ne(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!Hi(I,I.V,I.Ba,I.c,I.i,T.o,gi))break n;F.Dc=I.Ma,I=1;break t}e(I.a!=0),I=0}I=!I}I&&(_=p.a)}else _=p.a}else{if((p=new Cr)==null){H=1;break e}if(p.Fa=F.na,p.P=F.P,p.qc=F.Sa,Ss(p,I)){if((_=Da(I.width,I.height,H.Oa,H.ba))==0){if(p.Aa=0,T=H.Oa,e((F=p)!=null),T!=null){if(0<(X=0>(X=T.Md)?0:100<X?255:255*X/100)){for(se=de=0;4>se;++se)12>(xe=F.pb[se]).lc&&(xe.ia=X*Yc[0>xe.lc?0:xe.lc]>>3),de|=xe.ia;de&&(alert("todo:VP8InitRandom"),F.ia=1)}F.Ga=T.Id,100<F.Ga?F.Ga=100:0>F.Ga&&(F.Ga=0)}(function(re,_e){if(re==null)return 0;if(_e==null)return mn(re,2,"NULL VP8Io parameter in VP8Decode().");if(!re.cb&&!Ss(re,_e))return 0;if(e(re.cb),_e.ac==null||_e.ac(_e)){_e.ob&&(re.L=0);var Ee=ju[re.L];if(re.L==2?(re.yb=0,re.zb=0):(re.yb=_e.v-Ee>>4,re.zb=_e.j-Ee>>4,0>re.yb&&(re.yb=0),0>re.zb&&(re.zb=0)),re.Va=_e.o+15+Ee>>4,re.Hb=_e.va+15+Ee>>4,re.Hb>re.za&&(re.Hb=re.za),re.Va>re.Ub&&(re.Va=re.Ub),0<re.L){var je=re.ed;for(Ee=0;4>Ee;++Ee){var Se;if(re.Qa.Cb){var Ve=re.Qa.Lb[Ee];re.Qa.Fb||(Ve+=je.Tb)}else Ve=je.Tb;for(Se=0;1>=Se;++Se){var qe=re.gd[Ee][Se],Xe=Ve;if(je.Pc&&(Xe+=je.vd[0],Se&&(Xe+=je.od[0])),0<(Xe=0>Xe?0:63<Xe?63:Xe)){var We=Xe;0<je.wb&&(We=4<je.wb?We>>2:We>>1)>9-je.wb&&(We=9-je.wb),1>We&&(We=1),qe.dd=We,qe.tc=2*Xe+We,qe.ld=40<=Xe?2:15<=Xe?1:0}else qe.tc=0;qe.La=Se}}}Ee=0}else mn(re,6,"Frame setup failed"),Ee=re.a;if(Ee=Ee==0){if(Ee){re.$c=0,0<re.Aa||(re.Ic=Qc);t:{Ee=re.Ic,je=4*(We=re.za);var _t=32*We,ht=We+1,Qt=0<re.L?We*(0<re.Aa?2:1):0,mt=(re.Aa==2?2:1)*We;if((qe=je+832+(Se=3*(16*Ee+ju[re.L])/2*_t)+(Ve=re.Fa!=null&&0<re.Fa.length?re.Kc.c*re.Kc.i:0))!=qe)Ee=0;else{if(qe>re.Vb){if(re.Vb=0,re.Ec=o(qe),re.Fc=0,re.Ec==null){Ee=mn(re,1,"no memory during frame initialization.");break t}re.Vb=qe}qe=re.Ec,Xe=re.Fc,re.Ac=qe,re.Bc=Xe,Xe+=je,re.Gd=u(_t,Ko),re.Hd=0,re.rb=u(ht+1,Ts),re.sb=1,re.wa=Qt?u(Qt,Ki):null,re.Y=0,re.D.Nb=0,re.D.wa=re.wa,re.D.Y=re.Y,0<re.Aa&&(re.D.Y+=We),e(!0),re.oc=qe,re.pc=Xe,Xe+=832,re.ya=u(mt,fo),re.aa=0,re.D.ya=re.ya,re.D.aa=re.aa,re.Aa==2&&(re.D.aa+=We),re.R=16*We,re.B=8*We,We=(_t=ju[re.L])*re.R,_t=_t/2*re.B,re.sa=qe,re.ta=Xe+We,re.qa=re.sa,re.ra=re.ta+16*Ee*re.R+_t,re.Ha=re.qa,re.Ia=re.ra+8*Ee*re.B+_t,re.$c=0,Xe+=Se,re.mb=Ve?qe:null,re.nb=Ve?Xe:null,e(Xe+Ve<=re.Fc+re.Vb),Ka(re),s(re.Ac,re.Bc,0,je),Ee=1}}if(Ee){if(_e.ka=0,_e.y=re.sa,_e.O=re.ta,_e.f=re.qa,_e.N=re.ra,_e.ea=re.Ha,_e.Vd=re.Ia,_e.fa=re.R,_e.Rc=re.B,_e.F=null,_e.J=0,!Hh){for(Ee=-255;255>=Ee;++Ee)Fl[255+Ee]=0>Ee?-Ee:Ee;for(Ee=-1020;1020>=Ee;++Ee)zh[1020+Ee]=-128>Ee?-128:127<Ee?127:Ee;for(Ee=-112;112>=Ee;++Ee)zc[112+Ee]=-16>Ee?-16:15<Ee?15:Ee;for(Ee=-255;510>=Ee;++Ee)Hc[255+Ee]=0>Ee?0:255<Ee?255:Ee;Hh=1}Gs=ai,So=Ll,na=Ri,On=kl,Nn=Ra,Yi=xu,or=Ml,Hr=qs,io=U,Oa=ie,jl=Xo,Bc=A,Ud=he,Fm=be,Bm=ea,qm=Is,Fd=_o,Bd=Qo,kr[0]=Ya,kr[1]=Pl,kr[2]=mo,kr[3]=Yo,kr[4]=oi,kr[5]=go,kr[6]=Qr,kr[7]=Un,kr[8]=yo,kr[9]=hs,ys[0]=Fs,ys[1]=$o,ys[2]=Wo,ys[3]=Ca,ys[4]=La,ys[5]=Wi,ys[6]=Wa,Ma[0]=ka,Ma[1]=Dl,Ma[2]=Bs,Ma[3]=Ol,Ma[4]=qr,Ma[5]=ds,Ma[6]=Xs,Ee=1}else Ee=0}Ee&&(Ee=(function(yn,mr){for(yn.M=0;yn.M<yn.Va;++yn.M){var sn,ft=yn.Jc[yn.M&yn.Xb],rt=yn.m,wr=yn;for(sn=0;sn<wr.za;++sn){var Ht=rt,ln=wr,zn=ln.Ac,li=ln.Bc+4*sn,Vi=ln.zc,lr=ln.ya[ln.aa+sn];if(ln.Qa.Bb?lr.$b=Be(Ht,ln.Pa.jb[0])?2+Be(Ht,ln.Pa.jb[2]):Be(Ht,ln.Pa.jb[1]):lr.$b=0,ln.kc&&(lr.Ad=Be(Ht,ln.Bd)),lr.Za=!Be(Ht,145)+0,lr.Za){var Xr=lr.Ob,Ji=0;for(ln=0;4>ln;++ln){var Jr,pn=Vi[0+ln];for(Jr=0;4>Jr;++Jr){pn=Di[zn[li+Jr]][pn];for(var Cn=Qh[Be(Ht,pn[0])];0<Cn;)Cn=Qh[2*Cn+Be(Ht,pn[Cn])];pn=-Cn,zn[li+Jr]=pn}r(Xr,Ji,zn,li,4),Ji+=4,Vi[0+ln]=pn}}else pn=Be(Ht,156)?Be(Ht,128)?1:3:Be(Ht,163)?2:0,lr.Ob[0]=pn,s(zn,li,pn,4),s(Vi,0,pn,4);lr.Dd=Be(Ht,142)?Be(Ht,114)?Be(Ht,183)?1:3:2:0}if(wr.m.Ka)return mn(yn,7,"Premature end-of-partition0 encountered.");for(;yn.ja<yn.za;++yn.ja){if(wr=ft,Ht=(rt=yn).rb[rt.sb-1],zn=rt.rb[rt.sb+rt.ja],sn=rt.ya[rt.aa+rt.ja],li=rt.kc?sn.Ad:0)Ht.la=zn.la=0,sn.Za||(Ht.Na=zn.Na=0),sn.Hc=0,sn.Gc=0,sn.ia=0;else{var Ar,Mn;if(Ht=zn,zn=wr,li=rt.Pa.Xc,Vi=rt.ya[rt.aa+rt.ja],lr=rt.pb[Vi.$b],ln=Vi.ad,Xr=0,Ji=rt.rb[rt.sb-1],pn=Jr=0,s(ln,Xr,0,384),Vi.Za)var ui=0,Er=li[3];else{Cn=o(16);var Ln=Ht.Na+Ji.Na;if(Ln=$s(zn,li[1],Ln,lr.Eb,0,Cn,0),Ht.Na=Ji.Na=(0<Ln)+0,1<Ln)Gs(Cn,0,ln,Xr);else{var Kr=Cn[0]+3>>3;for(Cn=0;256>Cn;Cn+=16)ln[Xr+Cn]=Kr}ui=1,Er=li[0]}var Hn=15&Ht.la,Zr=15&Ji.la;for(Cn=0;4>Cn;++Cn){var ei=1&Zr;for(Kr=Mn=0;4>Kr;++Kr)Hn=Hn>>1|(ei=(Ln=$s(zn,Er,Ln=ei+(1&Hn),lr.Sc,ui,ln,Xr))>ui)<<7,Mn=Mn<<2|(3<Ln?3:1<Ln?2:ln[Xr+0]!=0),Xr+=16;Hn>>=4,Zr=Zr>>1|ei<<7,Jr=(Jr<<8|Mn)>>>0}for(Er=Hn,ui=Zr>>4,Ar=0;4>Ar;Ar+=2){for(Mn=0,Hn=Ht.la>>4+Ar,Zr=Ji.la>>4+Ar,Cn=0;2>Cn;++Cn){for(ei=1&Zr,Kr=0;2>Kr;++Kr)Ln=ei+(1&Hn),Hn=Hn>>1|(ei=0<(Ln=$s(zn,li[2],Ln,lr.Qc,0,ln,Xr)))<<3,Mn=Mn<<2|(3<Ln?3:1<Ln?2:ln[Xr+0]!=0),Xr+=16;Hn>>=2,Zr=Zr>>1|ei<<5}pn|=Mn<<4*Ar,Er|=Hn<<4<<Ar,ui|=(240&Zr)<<Ar}Ht.la=Er,Ji.la=ui,Vi.Hc=Jr,Vi.Gc=pn,Vi.ia=43690&pn?0:lr.ia,li=!(Jr|pn)}if(0<rt.L&&(rt.wa[rt.Y+rt.ja]=rt.gd[sn.$b][sn.Za],rt.wa[rt.Y+rt.ja].La|=!li),wr.Ka)return mn(yn,7,"Premature end-of-file encountered.")}if(Ka(yn),rt=mr,wr=1,sn=(ft=yn).D,Ht=0<ft.L&&ft.M>=ft.zb&&ft.M<=ft.Va,ft.Aa==0)t:{if(sn.M=ft.M,sn.uc=Ht,Hs(ft,sn),wr=1,sn=(Mn=ft.D).Nb,Ht=(pn=ju[ft.L])*ft.R,zn=pn/2*ft.B,Cn=16*sn*ft.R,Kr=8*sn*ft.B,li=ft.sa,Vi=ft.ta-Ht+Cn,lr=ft.qa,ln=ft.ra-zn+Kr,Xr=ft.Ha,Ji=ft.Ia-zn+Kr,Zr=(Hn=Mn.M)==0,Jr=Hn>=ft.Va-1,ft.Aa==2&&Hs(ft,Mn),Mn.uc)for(ei=(Ln=ft).D.M,e(Ln.D.uc),Mn=Ln.yb;Mn<Ln.Hb;++Mn){ui=Mn,Er=ei;var Xn=(Rn=(ti=Ln).D).Nb;Ar=ti.R;var Rn=Rn.wa[Rn.Y+ui],Zi=ti.sa,Pr=ti.ta+16*Xn*Ar+16*ui,Vt=Rn.dd,Ut=Rn.tc;if(Ut!=0)if(e(3<=Ut),ti.L==1)0<ui&&qm(Zi,Pr,Ar,Ut+4),Rn.La&&Bd(Zi,Pr,Ar,Ut),0<Er&&Bm(Zi,Pr,Ar,Ut+4),Rn.La&&Fd(Zi,Pr,Ar,Ut);else{var kn=ti.B,Ns=ti.qa,ha=ti.ra+8*Xn*kn+8*ui,_s=ti.Ha,ti=ti.Ia+8*Xn*kn+8*ui;Xn=Rn.ld,0<ui&&(Hr(Zi,Pr,Ar,Ut+4,Vt,Xn),Oa(Ns,ha,_s,ti,kn,Ut+4,Vt,Xn)),Rn.La&&(Bc(Zi,Pr,Ar,Ut,Vt,Xn),Fm(Ns,ha,_s,ti,kn,Ut,Vt,Xn)),0<Er&&(or(Zi,Pr,Ar,Ut+4,Vt,Xn),io(Ns,ha,_s,ti,kn,Ut+4,Vt,Xn)),Rn.La&&(jl(Zi,Pr,Ar,Ut,Vt,Xn),Ud(Ns,ha,_s,ti,kn,Ut,Vt,Xn))}}if(ft.ia&&alert("todo:DitherRow"),rt.put!=null){if(Mn=16*Hn,Hn=16*(Hn+1),Zr?(rt.y=ft.sa,rt.O=ft.ta+Cn,rt.f=ft.qa,rt.N=ft.ra+Kr,rt.ea=ft.Ha,rt.W=ft.Ia+Kr):(Mn-=pn,rt.y=li,rt.O=Vi,rt.f=lr,rt.N=ln,rt.ea=Xr,rt.W=Ji),Jr||(Hn-=pn),Hn>rt.o&&(Hn=rt.o),rt.F=null,rt.J=null,ft.Fa!=null&&0<ft.Fa.length&&Mn<Hn&&(rt.J=m(ft,rt,Mn,Hn-Mn),rt.F=ft.mb,rt.F==null&&rt.F.length==0)){wr=mn(ft,3,"Could not decode alpha data.");break t}Mn<rt.j&&(pn=rt.j-Mn,Mn=rt.j,e(!(1&pn)),rt.O+=ft.R*pn,rt.N+=ft.B*(pn>>1),rt.W+=ft.B*(pn>>1),rt.F!=null&&(rt.J+=rt.width*pn)),Mn<Hn&&(rt.O+=rt.v,rt.N+=rt.v>>1,rt.W+=rt.v>>1,rt.F!=null&&(rt.J+=rt.v),rt.ka=Mn-rt.j,rt.U=rt.va-rt.v,rt.T=Hn-Mn,wr=rt.put(rt))}sn+1!=ft.Ic||Jr||(r(ft.sa,ft.ta-Ht,li,Vi+16*ft.R,Ht),r(ft.qa,ft.ra-zn,lr,ln+8*ft.B,zn),r(ft.Ha,ft.Ia-zn,Xr,Ji+8*ft.B,zn))}if(!wr)return mn(yn,6,"Output aborted.")}return 1})(re,_e)),_e.bc!=null&&_e.bc(_e),Ee&=1}return Ee?(re.cb=0,Ee):0})(p,I)||(_=p.a)}}else _=p.a}_==0&&H.Oa!=null&&H.Oa.fd&&(_=Fc(H.ba))}H=_}q=H!=0?null:11>q?Y.f.RGBA.eb:Y.f.kb.y}else q=null;return q};var ef=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(C,G){for(var x="",O=0;O<4;O++)x+=String.fromCharCode(C[G++]);return x}function g(C,G){return C[G+0]|C[G+1]<<8}function b(C,G){return(C[G+0]|C[G+1]<<8|C[G+2]<<16)>>>0}function E(C,G){return(C[G+0]|C[G+1]<<8|C[G+2]<<16|C[G+3]<<24)>>>0}new f;var w=[0],j=[0],V=[],B=new f,k=n,te=(function(C,G){var x={},O=0,R=!1,oe=0,Ie=0;if(x.frames=[],!(function(P,W){for(var ee=0;ee<4;ee++)if(P[W+ee]!="RIFF".charCodeAt(ee))return!0;return!1})(C,G)){for(E(C,G+=4),G+=8;G<C.length;){var ae=d(C,G),pe=E(C,G+=4);G+=4;var fe=pe+(1&pe);switch(ae){case"VP8 ":case"VP8L":x.frames[O]===void 0&&(x.frames[O]={}),(Z=x.frames[O]).src_off=R?Ie:G-8,Z.src_size=oe+pe+8,O++,R&&(R=!1,oe=0,Ie=0);break;case"VP8X":(Z=x.header={}).feature_flags=C[G];var Le=G+4;Z.canvas_width=1+b(C,Le),Le+=3,Z.canvas_height=1+b(C,Le),Le+=3;break;case"ALPH":R=!0,oe=fe+8,Ie=G-8;break;case"ANIM":(Z=x.header).bgcolor=E(C,G),Le=G+4,Z.loop_count=g(C,Le),Le+=2;break;case"ANMF":var Ke,Z;(Z=x.frames[O]={}).offset_x=2*b(C,G),G+=3,Z.offset_y=2*b(C,G),G+=3,Z.width=1+b(C,G),G+=3,Z.height=1+b(C,G),G+=3,Z.duration=b(C,G),G+=3,Ke=C[G++],Z.dispose=1&Ke,Z.blend=Ke>>1&1}ae!="ANMF"&&(G+=fe)}return x}})(k,0);te.response=k,te.rgbaoutput=!0,te.dataurl=!1;var $=te.header?te.header:null,J=te.frames?te.frames:null;if($){$.loop_counter=$.loop_count,w=[$.canvas_height],j=[$.canvas_width];for(var ge=0;ge<J.length&&J[ge].blend!=0;ge++);}var ve=J[0],z=B.WebPDecodeRGBA(k,ve.src_off,ve.src_size,j,w);ve.rgba=z,ve.imgwidth=j[0],ve.imgheight=w[0];for(var M=0;M<j[0]*w[0]*4;M++)V[M]=z[M];return this.width=j,this.height=w,this.data=V,this}function AU(){var n,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));n=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function EU(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var e,t,r,s,o,u,c,f,d,g=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new f,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new u,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new u,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new b(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new g}]);var b=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=P;Object.defineProperty(this,"pdf",{get:function(){return W}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(ne){ee=!!ne}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(ne){le=!!ne}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(ne){isNaN(ne)||(ce=ne)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(ne){isNaN(ne)||(ye=ne)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ne){var it;typeof ne=="number"?it=[ne,ne,ne,ne]:((it=new Array(4))[0]=ne[0],it[1]=ne.length>=2?ne[1]:it[0],it[2]=ne.length>=3?ne[2]:it[0],it[3]=ne.length>=4?ne[3]:it[1]),d.margin=it}});var De=!1;Object.defineProperty(this,"autoPaging",{get:function(){return De},set:function(ne){De=ne}});var ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return ke},set:function(ne){ke=ne}});var Be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Be},set:function(ne){Be=ne}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ne){ne instanceof g&&(d=ne)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ne){d.path=ne}});var Je=[];Object.defineProperty(this,"ctxStack",{get:function(){return Je},set:function(ne){Je=ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ne){var it;it=E(ne),this.ctx.fillStyle=it.style,this.ctx.isFillTransparent=it.a===0,this.ctx.fillOpacity=it.a,this.pdf.setFillColor(it.r,it.g,it.b,{a:it.a}),this.pdf.setTextColor(it.r,it.g,it.b,{a:it.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ne){var it=E(ne);this.ctx.strokeStyle=it.style,this.ctx.isStrokeTransparent=it.a===0,this.ctx.strokeOpacity=it.a,it.a===0?this.pdf.setDrawColor(255,255,255):(it.a,this.pdf.setDrawColor(it.r,it.g,it.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ne){["butt","round","square"].indexOf(ne)!==-1&&(this.ctx.lineCap=ne,this.pdf.setLineCap(ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ne){isNaN(ne)||(this.ctx.lineWidth=ne,this.pdf.setLineWidth(ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ne){["bevel","round","miter"].indexOf(ne)!==-1&&(this.ctx.lineJoin=ne,this.pdf.setLineJoin(ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ne){isNaN(ne)||(this.ctx.miterLimit=ne,this.pdf.setMiterLimit(ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ne){this.ctx.textBaseline=ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ne){["right","end","center","left","start"].indexOf(ne)!==-1&&(this.ctx.textAlign=ne)}});var ot=null,at=null,pt=null;Object.defineProperty(this,"fontFaces",{get:function(){return pt},set:function(ne){ot=null,at=null,pt=ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ne){var it;if(this.ctx.font=ne,(it=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ne))!==null){var Jt=it[1];it[2];var Pt=it[3],ze=it[4];it[5];var ut=it[6],lt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ze)[2];ze=Math.floor(lt==="px"?parseFloat(ze)*this.pdf.internal.scaleFactor:lt==="em"?parseFloat(ze)*this.pdf.getFontSize():parseFloat(ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ze);var Ot=(function(At){var _r,nn,Dt=[],zt=At.trim();if(zt==="")return Fy;if(zt in aS)return[aS[zt]];for(;zt!=="";){switch(nn=null,_r=(zt=lS(zt)).charAt(0)){case'"':case"'":nn=gU(zt.substring(1),_r);break;default:nn=yU(zt)}if(nn===null||(Dt.push(nn[0]),(zt=lS(nn[1]))!==""&&zt.charAt(0)!==","))return Fy;zt=zt.replace(/^,/,"")}return Dt})(ut);if(this.fontFaces){var It=(function(At,_r){var nn=At.getFontList(),Dt=JSON.stringify(nn);if(ot===null||at!==Dt){var zt=(function(en){var Rt=[];return Object.keys(en).forEach(function(Dn){en[Dn].forEach(function(Bt){var qt=null;switch(Bt){case"bold":qt={family:Dn,weight:"bold"};break;case"italic":qt={family:Dn,style:"italic"};break;case"bolditalic":qt={family:Dn,weight:"bold",style:"italic"};break;case"":case"normal":qt={family:Dn}}qt!==null&&(qt.ref={name:Dn,style:Bt},Rt.push(qt))})}),Rt})(nn);ot=(function(en){for(var Rt={},Dn=0;Dn<en.length;++Dn){var Bt=Uy(en[Dn]),qt=Bt.family,Vn=Bt.stretch,xt=Bt.style,Et=Bt.weight;Rt[qt]=Rt[qt]||{},Rt[qt][Vn]=Rt[qt][Vn]||{},Rt[qt][Vn][xt]=Rt[qt][Vn][xt]||{},Rt[qt][Vn][xt][Et]=Bt}return Rt})(zt.concat(_r)),at=Dt}return ot})(this.pdf,this.fontFaces),Zt=Ot.map(function(At){return{family:At,stretch:"normal",weight:Pt,style:Jt}}),rn=(function(At,_r,nn){for(var Dt=(nn=nn||{}).defaultFontFamily||"times",zt=Object.assign({},mU,nn.genericFontFamilies||{}),en=null,Rt=null,Dn=0;Dn<_r.length;++Dn)if(zt[(en=Uy(_r[Dn])).family]&&(en.family=zt[en.family]),At.hasOwnProperty(en.family)){Rt=At[en.family];break}if(!(Rt=Rt||At[Dt]))throw new Error("Could not find a font-family for the rule '"+oS(en)+"' and default family '"+Dt+"'.");if(Rt=(function(Bt,qt){if(qt[Bt])return qt[Bt];var Vn=M_[Bt],xt=Vn<=M_.normal?-1:1,Et=sS(qt,ON,Vn,xt);if(!Et)throw new Error("Could not find a matching font-stretch value for "+Bt);return Et})(en.stretch,Rt),Rt=(function(Bt,qt){if(qt[Bt])return qt[Bt];for(var Vn=DN[Bt],xt=0;xt<Vn.length;++xt)if(qt[Vn[xt]])return qt[Vn[xt]];throw new Error("Could not find a matching font-style for "+Bt)})(en.style,Rt),!(Rt=(function(Bt,qt){if(qt[Bt])return qt[Bt];if(Bt===400&&qt[500])return qt[500];if(Bt===500&&qt[400])return qt[400];var Vn=pU[Bt],xt=sS(qt,MN,Vn,Bt<400?-1:1);if(!xt)throw new Error("Could not find a matching font-weight for value "+Bt);return xt})(en.weight,Rt)))throw new Error("Failed to resolve a font for the rule '"+oS(en)+"'.");return Rt})(It,Zt);this.pdf.setFont(rn.ref.name,rn.ref.style)}else{var Kt="";(Pt==="bold"||parseInt(Pt,10)>=700||Jt==="bold")&&(Kt="bold"),Jt==="italic"&&(Kt+="italic"),Kt.length===0&&(Kt="normal");for(var cn="",tn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},wt=0;wt<Ot.length;wt++){if(this.pdf.internal.getFont(Ot[wt],Kt,{noFallback:!0,disableWarning:!0})!==void 0){cn=Ot[wt];break}if(Kt==="bolditalic"&&this.pdf.internal.getFont(Ot[wt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)cn=Ot[wt],Kt="bold";else if(this.pdf.internal.getFont(Ot[wt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){cn=Ot[wt],Kt="normal";break}}if(cn===""){for(var Yt=0;Yt<Ot.length;Yt++)if(tn[Ot[Yt]]){cn=tn[Ot[Yt]];break}}cn=cn===""?"Times":cn,this.pdf.setFont(cn,Kt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ne){this.ctx.globalCompositeOperation=ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ne){this.ctx.globalAlpha=ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ne){this.ctx.lineDashOffset=ne,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ne){this.ctx.lineDash=ne,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ne){this.ctx.ignoreClearRect=!!ne}})};b.prototype.setLineDash=function(P){this.lineDash=P},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){J.call(this,"fill",!1)},b.prototype.stroke=function(){J.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(P,W){if(isNaN(P)||isNaN(W))throw yr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new u(P,W));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new u(P,W)},b.prototype.closePath=function(){var P=new u(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&er(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){P=new u(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(P.x,P.y)},b.prototype.lineTo=function(P,W){if(isNaN(P)||isNaN(W))throw yr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new u(P,W));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new u(ee.x,ee.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),J.call(this,null,!0)},b.prototype.quadraticCurveTo=function(P,W,ee,le){if(isNaN(ee)||isNaN(le)||isNaN(P)||isNaN(W))throw yr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new u(ee,le)),ye=this.ctx.transform.applyToPoint(new u(P,W));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new u(ce.x,ce.y)},b.prototype.bezierCurveTo=function(P,W,ee,le,ce,ye){if(isNaN(ce)||isNaN(ye)||isNaN(P)||isNaN(W)||isNaN(ee)||isNaN(le))throw yr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var De=this.ctx.transform.applyToPoint(new u(ce,ye)),ke=this.ctx.transform.applyToPoint(new u(P,W)),Be=this.ctx.transform.applyToPoint(new u(ee,le));this.path.push({type:"bct",x1:ke.x,y1:ke.y,x2:Be.x,y2:Be.y,x:De.x,y:De.y}),this.ctx.lastPoint=new u(De.x,De.y)},b.prototype.arc=function(P,W,ee,le,ce,ye){if(isNaN(P)||isNaN(W)||isNaN(ee)||isNaN(le)||isNaN(ce))throw yr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var De=this.ctx.transform.applyToPoint(new u(P,W));P=De.x,W=De.y;var ke=this.ctx.transform.applyToPoint(new u(0,ee)),Be=this.ctx.transform.applyToPoint(new u(0,0));ee=Math.sqrt(Math.pow(ke.x-Be.x,2)+Math.pow(ke.y-Be.y,2))}Math.abs(ce-le)>=2*Math.PI&&(le=0,ce=2*Math.PI),this.path.push({type:"arc",x:P,y:W,radius:ee,startAngle:le,endAngle:ce,counterclockwise:ye})},b.prototype.arcTo=function(P,W,ee,le,ce){throw new Error("arcTo not implemented.")},b.prototype.rect=function(P,W,ee,le){if(isNaN(P)||isNaN(W)||isNaN(ee)||isNaN(le))throw yr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,W),this.lineTo(P+ee,W),this.lineTo(P+ee,W+le),this.lineTo(P,W+le),this.lineTo(P,W),this.lineTo(P+ee,W),this.lineTo(P,W)},b.prototype.fillRect=function(P,W,ee,le){if(isNaN(P)||isNaN(W)||isNaN(ee)||isNaN(le))throw yr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,W,ee,le),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},b.prototype.strokeRect=function(P,W,ee,le){if(isNaN(P)||isNaN(W)||isNaN(ee)||isNaN(le))throw yr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(P,W,ee,le),this.stroke())},b.prototype.clearRect=function(P,W,ee,le){if(isNaN(P)||isNaN(W)||isNaN(ee)||isNaN(le))throw yr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,W,ee,le))},b.prototype.save=function(P){P=typeof P!="boolean"||P;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},b.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(W),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var E=function(P){var W,ee,le,ce;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))W=0,ee=0,le=0,ce=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(ye!==null)W=parseInt(ye[1]),ee=parseInt(ye[2]),le=parseInt(ye[3]),ce=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)W=parseInt(ye[1]),ee=parseInt(ye[2]),le=parseInt(ye[3]),ce=parseFloat(ye[4]);else{if(ce=1,typeof P=="string"&&P.charAt(0)!=="#"){var De=new xN(P);P=De.ok?De.toHex():"#000000"}P.length===4?(W=P.substring(1,2),W+=W,ee=P.substring(2,3),ee+=ee,le=P.substring(3,4),le+=le):(W=P.substring(1,3),ee=P.substring(3,5),le=P.substring(5,7)),W=parseInt(W,16),ee=parseInt(ee,16),le=parseInt(le,16)}}return{r:W,g:ee,b:le,a:ce,style:P}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(P,W,ee,le){if(isNaN(W)||isNaN(ee)||typeof P!="string")throw yr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!w.call(this)){var ce=fe(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;O.call(this,{text:P,x:W,y:ee,scale:ye,angle:ce,align:this.textAlign,maxWidth:le})}},b.prototype.strokeText=function(P,W,ee,le){if(isNaN(W)||isNaN(ee)||typeof P!="string")throw yr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){le=isNaN(le)?void 0:le;var ce=fe(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;O.call(this,{text:P,x:W,y:ee,scale:ye,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:le})}},b.prototype.measureText=function(P){if(typeof P!="string")throw yr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,ee=this.pdf.internal.scaleFactor,le=W.internal.getFontSize(),ce=W.getStringUnitWidth(P)*le/W.internal.scaleFactor;return new function(ye){var De=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return De}}),this}({width:ce*=Math.round(96*ee/72*1e4)/1e4})},b.prototype.scale=function(P,W){if(isNaN(P)||isNaN(W))throw yr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new f(P,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},b.prototype.rotate=function(P){if(isNaN(P))throw yr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new f(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},b.prototype.translate=function(P,W){if(isNaN(P)||isNaN(W))throw yr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new f(1,0,0,1,P,W);this.ctx.transform=this.ctx.transform.multiply(ee)},b.prototype.transform=function(P,W,ee,le,ce,ye){if(isNaN(P)||isNaN(W)||isNaN(ee)||isNaN(le)||isNaN(ce)||isNaN(ye))throw yr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var De=new f(P,W,ee,le,ce,ye);this.ctx.transform=this.ctx.transform.multiply(De)},b.prototype.setTransform=function(P,W,ee,le,ce,ye){P=isNaN(P)?1:P,W=isNaN(W)?0:W,ee=isNaN(ee)?0:ee,le=isNaN(le)?1:le,ce=isNaN(ce)?0:ce,ye=isNaN(ye)?0:ye,this.ctx.transform=new f(P,W,ee,le,ce,ye)};var V=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(P,W,ee,le,ce,ye,De,ke,Be){var Je=this.pdf.getImageProperties(P),ot=1,at=1,pt=1,ne=1;le!==void 0&&ke!==void 0&&(pt=ke/le,ne=Be/ce,ot=Je.width/le*ke/le,at=Je.height/ce*Be/ce),ye===void 0&&(ye=W,De=ee,W=0,ee=0),le!==void 0&&ke===void 0&&(ke=le,Be=ce),le===void 0&&ke===void 0&&(ke=Je.width,Be=Je.height);var it=this.ctx.transform.decompose(),Jt=fe(it.rotate.shx),Pt=new f,ze=(Pt=(Pt=(Pt=Pt.multiply(it.translate)).multiply(it.skew)).multiply(it.scale)).applyToRectangle(new c(ye-W*pt,De-ee*ne,le*ot,ce*at));if(this.autoPaging){for(var ut,lt=B.call(this,ze),Ot=[],It=0;It<lt.length;It+=1)Ot.indexOf(lt[It])===-1&&Ot.push(lt[It]);$(Ot);for(var Zt=Ot[0],rn=Ot[Ot.length-1],Kt=Zt;Kt<rn+1;Kt++){this.pdf.setPage(Kt);var cn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tn=Kt===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=Kt===1?0:wt+(Kt-2)*Yt;if(this.ctx.clip_path.length!==0){var _r=this.path;ut=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(ut,this.posX+this.margin[3],-At+tn+this.ctx.prevPageLastElemOffset),ge.call(this,"fill",!0),this.path=_r}var nn=JSON.parse(JSON.stringify(ze));nn=te([nn],this.posX+this.margin[3],-At+tn+this.ctx.prevPageLastElemOffset)[0];var Dt=(Kt>Zt||Kt<rn)&&V.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],cn,Yt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",nn.x,nn.y,nn.w,nn.h,null,null,Jt),Dt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(P,"JPEG",ze.x,ze.y,ze.w,ze.h,null,null,Jt)};var B=function(P,W,ee){var le=[];W=W||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":le.push(Math.floor((P.y+ce)/ee)+1);break;case"arc":le.push(Math.floor((P.y+ce-P.radius)/ee)+1),le.push(Math.floor((P.y+ce+P.radius)/ee)+1);break;case"qct":var ye=Le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);le.push(Math.floor((ye.y+ce)/ee)+1),le.push(Math.floor((ye.y+ye.h+ce)/ee)+1);break;case"bct":var De=Ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);le.push(Math.floor((De.y+ce)/ee)+1),le.push(Math.floor((De.y+De.h+ce)/ee)+1);break;case"rect":le.push(Math.floor((P.y+ce)/ee)+1),le.push(Math.floor((P.y+P.h+ce)/ee)+1)}for(var ke=0;ke<le.length;ke+=1)for(;this.pdf.internal.getNumberOfPages()<le[ke];)k.call(this);return le},k=function(){var P=this.fillStyle,W=this.strokeStyle,ee=this.font,le=this.lineCap,ce=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=W,this.font=ee,this.lineCap=le,this.lineWidth=ce,this.lineJoin=ye},te=function(P,W,ee){for(var le=0;le<P.length;le++)switch(P[le].type){case"bct":P[le].x2+=W,P[le].y2+=ee;case"qct":P[le].x1+=W,P[le].y1+=ee;default:P[le].x+=W,P[le].y+=ee}return P},$=function(P){return P.sort(function(W,ee){return W-ee})},J=function(P,W){var ee=this.fillStyle,le=this.strokeStyle,ce=this.lineCap,ye=this.lineWidth,De=Math.abs(ye*this.ctx.transform.scaleX),ke=this.lineJoin;if(this.autoPaging){for(var Be,Je,ot=JSON.parse(JSON.stringify(this.path)),at=JSON.parse(JSON.stringify(this.path)),pt=[],ne=0;ne<at.length;ne++)if(at[ne].x!==void 0)for(var it=B.call(this,at[ne]),Jt=0;Jt<it.length;Jt+=1)pt.indexOf(it[Jt])===-1&&pt.push(it[Jt]);for(var Pt=0;Pt<pt.length;Pt++)for(;this.pdf.internal.getNumberOfPages()<pt[Pt];)k.call(this);$(pt);for(var ze=pt[0],ut=pt[pt.length-1],lt=ze;lt<ut+1;lt++){this.pdf.setPage(lt),this.fillStyle=ee,this.strokeStyle=le,this.lineCap=ce,this.lineWidth=De,this.lineJoin=ke;var Ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=lt===1?this.posY+this.margin[0]:this.margin[0],Zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Kt=lt===1?0:Zt+(lt-2)*rn;if(this.ctx.clip_path.length!==0){var cn=this.path;Be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(Be,this.posX+this.margin[3],-Kt+It+this.ctx.prevPageLastElemOffset),ge.call(this,P,!0),this.path=cn}if(Je=JSON.parse(JSON.stringify(ot)),this.path=te(Je,this.posX+this.margin[3],-Kt+It+this.ctx.prevPageLastElemOffset),W===!1||lt===0){var tn=(lt>ze||lt<ut)&&V.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ot,rn,null).clip().discardPath()),ge.call(this,P,W),tn&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=ot}else this.lineWidth=De,ge.call(this,P,W),this.lineWidth=ye},ge=function(P,W){if((P!=="stroke"||W||!j.call(this))&&(P==="stroke"||W||!w.call(this))){for(var ee,le,ce=[],ye=this.path,De=0;De<ye.length;De++){var ke=ye[De];switch(ke.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:ke,deltas:[],abs:[]});break;case"lt":var Be=ce.length;if(ye[De-1]&&!isNaN(ye[De-1].x)&&(ee=[ke.x-ye[De-1].x,ke.y-ye[De-1].y],Be>0)){for(;Be>=0;Be--)if(ce[Be-1].close!==!0&&ce[Be-1].begin!==!0){ce[Be-1].deltas.push(ee),ce[Be-1].abs.push(ke);break}}break;case"bct":ee=[ke.x1-ye[De-1].x,ke.y1-ye[De-1].y,ke.x2-ye[De-1].x,ke.y2-ye[De-1].y,ke.x-ye[De-1].x,ke.y-ye[De-1].y],ce[ce.length-1].deltas.push(ee);break;case"qct":var Je=ye[De-1].x+2/3*(ke.x1-ye[De-1].x),ot=ye[De-1].y+2/3*(ke.y1-ye[De-1].y),at=ke.x+2/3*(ke.x1-ke.x),pt=ke.y+2/3*(ke.y1-ke.y),ne=ke.x,it=ke.y;ee=[Je-ye[De-1].x,ot-ye[De-1].y,at-ye[De-1].x,pt-ye[De-1].y,ne-ye[De-1].x,it-ye[De-1].y],ce[ce.length-1].deltas.push(ee);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(ke)}}le=W?null:P==="stroke"?"stroke":"fill";for(var Jt=!1,Pt=0;Pt<ce.length;Pt++)if(ce[Pt].arc)for(var ze=ce[Pt].abs,ut=0;ut<ze.length;ut++){var lt=ze[ut];lt.type==="arc"?M.call(this,lt.x,lt.y,lt.radius,lt.startAngle,lt.endAngle,lt.counterclockwise,void 0,W,!Jt):R.call(this,lt.x,lt.y),Jt=!0}else if(ce[Pt].close===!0)this.pdf.internal.out("h"),Jt=!1;else if(ce[Pt].begin!==!0){var Ot=ce[Pt].start.x,It=ce[Pt].start.y;oe.call(this,ce[Pt].deltas,Ot,It),Jt=!0}le&&C.call(this,le),W&&G.call(this)}},ve=function(P){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-ee;case"top":return P+W-ee;case"hanging":return P+W-2*ee;case"middle":return P+W/2-ee;default:return P}},z=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(W,ee){this.colorStops.push([W,ee])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(P,W,ee,le,ce,ye,De,ke,Be){for(var Je=ae.call(this,ee,le,ce,ye),ot=0;ot<Je.length;ot++){var at=Je[ot];ot===0&&(Be?x.call(this,at.x1+P,at.y1+W):R.call(this,at.x1+P,at.y1+W)),Ie.call(this,P,W,at.x2,at.y2,at.x3,at.y3,at.x4,at.y4)}ke?G.call(this):C.call(this,De)},C=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},x=function(P,W){this.pdf.internal.out(t(P)+" "+r(W)+" m")},O=function(P){var W;switch(P.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var ee,le,ce,ye=this.pdf.getTextDimensions(P.text),De=ve.call(this,P.y),ke=z.call(this,De)-ye.h,Be=this.ctx.transform.applyToPoint(new u(P.x,De));if(this.autoPaging){var Je=this.ctx.transform.decompose(),ot=new f;ot=(ot=(ot=ot.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale);for(var at=this.ctx.transform.applyToRectangle(new c(P.x,De,ye.w,ye.h)),pt=ot.applyToRectangle(new c(P.x,ke,ye.w,ye.h)),ne=B.call(this,pt),it=[],Jt=0;Jt<ne.length;Jt+=1)it.indexOf(ne[Jt])===-1&&it.push(ne[Jt]);$(it);for(var Pt=it[0],ze=it[it.length-1],ut=Pt;ut<ze+1;ut++){this.pdf.setPage(ut);var lt=ut===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[2],Zt=It-this.margin[0],rn=this.pdf.internal.pageSize.width-this.margin[1],Kt=rn-this.margin[3],cn=ut===1?0:Ot+(ut-2)*Zt;if(this.ctx.clip_path.length!==0){var tn=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=te(ee,this.posX+this.margin[3],-1*cn+lt),ge.call(this,"fill",!0),this.path=tn}var wt=te([JSON.parse(JSON.stringify(pt))],this.posX+this.margin[3],-cn+lt+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*P.scale),ce=this.lineWidth,this.lineWidth=ce*P.scale);var Yt=this.autoPaging!=="text";if(Yt||wt.y+wt.h<=It){if(Yt||wt.y>=lt&&wt.x<=rn){var At=Yt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||rn-wt.x)[0],_r=te([JSON.parse(JSON.stringify(at))],this.posX+this.margin[3],-cn+lt+this.ctx.prevPageLastElemOffset)[0],nn=Yt&&(ut>Pt||ut<ze)&&V.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Kt,Zt,null).clip().discardPath()),this.pdf.text(At,_r.x,_r.y,{angle:P.angle,align:W,renderingMode:P.renderingMode}),nn&&this.pdf.restoreGraphicsState()}}else wt.y<It&&(this.ctx.prevPageLastElemOffset+=It-wt.y);P.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ce)}}else P.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*P.scale),ce=this.lineWidth,this.lineWidth=ce*P.scale),this.pdf.text(P.text,Be.x+this.posX,Be.y+this.posY,{angle:P.angle,align:W,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ce)},R=function(P,W,ee,le){ee=ee||0,le=le||0,this.pdf.internal.out(t(P+ee)+" "+r(W+le)+" l")},oe=function(P,W,ee){return this.pdf.lines(P,W,ee,null,null)},Ie=function(P,W,ee,le,ce,ye,De,ke){this.pdf.internal.out([e(s(ee+P)),e(o(le+W)),e(s(ce+P)),e(o(ye+W)),e(s(De+P)),e(o(ke+W)),"c"].join(" "))},ae=function(P,W,ee,le){for(var ce=2*Math.PI,ye=Math.PI/2;W>ee;)W-=ce;var De=Math.abs(ee-W);De<ce&&le&&(De=ce-De);for(var ke=[],Be=le?-1:1,Je=W;De>1e-5;){var ot=Je+Be*Math.min(De,ye);ke.push(pe.call(this,P,Je,ot)),De-=Math.abs(ot-Je),Je=ot}return ke},pe=function(P,W,ee){var le=(ee-W)/2,ce=P*Math.cos(le),ye=P*Math.sin(le),De=ce,ke=-ye,Be=De*De+ke*ke,Je=Be+De*ce+ke*ye,ot=4/3*(Math.sqrt(2*Be*Je)-Je)/(De*ye-ke*ce),at=De-ot*ke,pt=ke+ot*De,ne=at,it=-pt,Jt=le+W,Pt=Math.cos(Jt),ze=Math.sin(Jt);return{x1:P*Math.cos(W),y1:P*Math.sin(W),x2:at*Pt-pt*ze,y2:at*ze+pt*Pt,x3:ne*Pt-it*ze,y3:ne*ze+it*Pt,x4:P*Math.cos(ee),y4:P*Math.sin(ee)}},fe=function(P){return 180*P/Math.PI},Le=function(P,W,ee,le,ce,ye){var De=P+.5*(ee-P),ke=W+.5*(le-W),Be=ce+.5*(ee-ce),Je=ye+.5*(le-ye),ot=Math.min(P,ce,De,Be),at=Math.max(P,ce,De,Be),pt=Math.min(W,ye,ke,Je),ne=Math.max(W,ye,ke,Je);return new c(ot,pt,at-ot,ne-pt)},Ke=function(P,W,ee,le,ce,ye,De,ke){var Be,Je,ot,at,pt,ne,it,Jt,Pt,ze,ut,lt,Ot,It,Zt=ee-P,rn=le-W,Kt=ce-ee,cn=ye-le,tn=De-ce,wt=ke-ye;for(Je=0;Je<41;Je++)Pt=(it=(ot=P+(Be=Je/40)*Zt)+Be*((pt=ee+Be*Kt)-ot))+Be*(pt+Be*(ce+Be*tn-pt)-it),ze=(Jt=(at=W+Be*rn)+Be*((ne=le+Be*cn)-at))+Be*(ne+Be*(ye+Be*wt-ne)-Jt),Je==0?(ut=Pt,lt=ze,Ot=Pt,It=ze):(ut=Math.min(ut,Pt),lt=Math.min(lt,ze),Ot=Math.max(Ot,Pt),It=Math.max(It,ze));return new c(Math.round(ut),Math.round(lt),Math.round(Ot-ut),Math.round(It-lt))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,W,ee=(P=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:W}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(kt.API),(function(n){var e=function(u){var c,f,d,g,b,E,w,j,V,B;for(f=[],d=0,g=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;g>d;d+=4)(b=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(E=(b=((b=((b=((b=(b-(B=b%85))/85)-(V=b%85))/85)-(j=b%85))/85)-(w=b%85))/85)%85,f.push(E+33,w+33,j+33,V+33,B+33)):f.push(122);return(function(k,te){for(var $=te;$>0;$--)k.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(u){var c,f,d,g,b,E=String,w="length",j=255,V="charCodeAt",B="slice",k="replace";for(u[B](-2),u=u[B](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),d=[],g=0,b=(u+=c="uuuuu"[B](u[w]%5||5))[w];b>g;g+=5)f=52200625*(u[V](g)-33)+614125*(u[V](g+1)-33)+7225*(u[V](g+2)-33)+85*(u[V](g+3)-33)+(u[V](g+4)-33),d.push(j&f>>24,j&f>>16,j&f>>8,j&f);return(function(te,$){for(var J=$;J>0;J--)te.pop()})(d,c[w]),E.fromCharCode.apply(E,d)},r=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var c=new Uint8Array(u.length),f=u.length;f--;)c[f]=u.charCodeAt(f);return(c=R_(c)).reduce(function(d,g){return d+String.fromCharCode(g)},"")};n.processDataByFilters=function(u,c){var f=0,d=u||"",g=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:g.reverse().join(" ")}}})(kt.API),(function(n){n.loadFile=function(e,t,r){return(function(s,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,d,g){var b=new XMLHttpRequest,E=0,w=function(j){var V=j.length,B=[],k=String.fromCharCode;for(E=0;E<V;E+=1)B.push(k(255&j.charCodeAt(E)));return B.join("")};if(b.open("GET",f,!d),b.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(b.onload=function(){b.status===200?g(w(this.responseText)):g(void 0)}),b.send(null),d&&b.status===200)return w(b.responseText)})(s,o,u)}catch{}return c})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(kt.API),(function(n){function e(){return(Xt.html2canvas?Promise.resolve(Xt.html2canvas):dc(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(Xt.DOMPurify?Promise.resolve(Xt.DOMPurify):dc(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var f=er(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(c,f){var d=document.createElement(c);for(var g in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[g]=f.style[g];return d},o=function c(f,d){for(var g=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),b=f.firstChild;b;b=b.nextSibling)d!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||g.appendChild(c(b,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(g.width=f.width,g.height=f.height,g.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(g.value=f.value),g.addEventListener("load",function(){g.scrollTop=f.scrollTop,g.scrollLeft=f.scrollLeft},!0)),g},u=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),g=c.convert(Promise.resolve(),d);return(g=g.setProgress(1,c,1,[c])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,f){return c.__proto__=f||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,g=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,E=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete E.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=g,g)for(var w=0;w<g.length;++w){var j=g[w],V=j.src.find(function(B){return B.format==="truetype"});V&&d.addFont(V.url,j.ref.name,j.ref.style)}return E.windowHeight=E.windowHeight||0,E.windowHeight=E.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):E.windowHeight,d.context2d.save(!0),f(this.prop.container,E)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},u.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(r(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(c,f){return this.then(function(){var d=c in u.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},u.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function f(d,g){return Math.floor(d*g/72*96)}return this.then(function(){(c=c||kt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,f,d,g){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,f,d,g){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,g?this.progress.stack.concat(g):null)},u.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(g,b){return d.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(E){return d.updateProgress(null,g),E}).then(g,b).then(function(E){return d.updateProgress(1),E})})},u.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var g=this;c&&(c=c.bind(g)),f&&(f=f.bind(g));var b=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:u.convert(Object.assign({},g),Promise.prototype),E=d.call(b,c,f);return u.convert(E,g.__proto__)},u.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},u.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return u.convert(f,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,kt.getPageSize=function(c,f,d){if(er(c)==="object"){var g=c;c=g.orientation,f=g.unit||f,d=g.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var b,E=(""+d).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+f}var j,V=0,B=0;if(w.hasOwnProperty(E))V=w[E][1]/b,B=w[E][0]/b;else try{V=d[1],B=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",B>V&&(j=B,B=V,V=j);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",V>B&&(j=B,B=V,V=j)}return{width:B,height:V,unit:f,k:b,orientation:c}},n.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Uy):null;var d=new u(f);return f.worker?d:d.from(c).doCallback()}})(kt.API),kt.API.addJS=function(n){var e,t,r=(function(s){for(var o="",u=0;u<s.length;u++){var c=s[u];if(c==="("||c===")"){for(var f=0,d=u-1;d>=0&&s[d]==="\\";d--)f++;o+=f%2==0?"\\"+c:c}else o+=c}return o})(n);return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var u=s[o],c=r.exec(u);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,g=[];for(o=0;o<d;o++){var b=t.internal.newObject();g.push(b);var E=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+E.objId+" 0 R /XYZ null null null]>> endobj")}var w=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<g.length;o++)t.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+w+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,o){var u={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var u=r.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])})(kt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,s,o,u,c){var f,d=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(b){for(var E,w=256*b.charCodeAt(4)+b.charCodeAt(5),j=b.length,V={width:0,height:0,numcomponents:1},B=4;B<j;B+=2){if(B+=w,e.indexOf(b.charCodeAt(B+1))!==-1){E=256*b.charCodeAt(B+5)+b.charCodeAt(B+6),V={width:256*b.charCodeAt(B+7)+b.charCodeAt(B+8),height:E,numcomponents:b.charCodeAt(B+9)};break}w=256*b.charCodeAt(B+2)+b.charCodeAt(B+3)}return V})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}g={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:s}}return g}})(kt.API),kt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,o=eU(n,{checkCrc:!0}),u=o.width,c=o.height,f=o.channels,d=o.palette,g=o.depth;s=d&&f===1?(function(M){for(var C=M.width,G=M.height,x=M.data,O=M.palette,R=M.depth,oe=!1,Ie=[],ae=[],pe=void 0,fe=!1,Le=0,Ke=0;Ke<O.length;Ke++){var Z=pT(O[Ke],4),P=Z[0],W=Z[1],ee=Z[2],le=Z[3];Ie.push(P,W,ee),le!=null&&(le===0?(Le++,ae.length<1&&ae.push(Ke)):le<255&&(fe=!0))}if(fe||Le>1){oe=!0,ae=void 0;var ce=C*G;pe=new Uint8Array(ce);for(var ye=new DataView(x.buffer),De=0;De<ce;De++){var ke=By(ye,De,R),Be=pT(O[ke],4)[3];pe[De]=Be}}else Le===0&&(ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:oe?8:void 0,colorBytes:x,alphaBytes:pe,needSMask:oe,palette:Ie,mask:ae}})(o):f===2||f===4?(function(M){for(var C=M.data,G=M.width,x=M.height,O=M.channels,R=M.depth,oe=O===2?"DeviceGray":"DeviceRGB",Ie=O-1,ae=G*x,pe=Ie,fe=ae*pe,Le=1*ae,Ke=Math.ceil(fe*R/8),Z=Math.ceil(Le*R/8),P=new Uint8Array(Ke),W=new Uint8Array(Z),ee=new DataView(C.buffer),le=new DataView(P.buffer),ce=new DataView(W.buffer),ye=!1,De=0;De<ae;De++){for(var ke=De*O,Be=0;Be<pe;Be++)yS(le,By(ee,ke+Be,R),De*pe+Be,R);var Je=By(ee,ke+pe,R);Je<(1<<R)-1&&(ye=!0),yS(ce,Je,1*De,R)}return{colorSpace:oe,colorsPerPixel:Ie,sMaskBitsPerComponent:ye?R:void 0,colorBytes:P,alphaBytes:W,needSMask:ye}})(o):(function(M){var C=M.data,G=M.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:C instanceof Uint16Array?(function(x){for(var O=x.length,R=new Uint8Array(2*O),oe=new DataView(R.buffer,R.byteOffset,R.byteLength),Ie=0;Ie<O;Ie++)oe.setUint16(2*Ie,x[Ie],!1);return R})(C):C,needSMask:!1}})(o);var b,E,w,j=s,V=j.colorSpace,B=j.colorsPerPixel,k=j.sMaskBitsPerComponent,te=j.colorBytes,$=j.alphaBytes,J=j.needSMask,ge=j.palette,ve=j.mask,z=null;return r!==kt.API.image_compression.NONE&&typeof R_=="function"?(z=(function(M){var C;switch(M){case kt.API.image_compression.FAST:C=11;break;case kt.API.image_compression.MEDIUM:C=13;break;case kt.API.image_compression.SLOW:C=14;break;default:C=12}return C})(r),b=this.decode.FLATE_DECODE,E="/Predictor ".concat(z," /Colors ").concat(B," /BitsPerComponent ").concat(g," /Columns ").concat(u),n=fS(te,Math.ceil(u*B*g/8),B,g,r),J&&(w=fS($,Math.ceil(u*k/8),1,k,r))):(b=void 0,E=void 0,n=te,J&&(w=$)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:t,data:n,index:e,filter:b,decodeParameters:E,transparency:ve,palette:ge,sMask:w,predictor:z,width:u,height:c,bitsPerComponent:g,sMaskBitsPerComponent:k,colorSpace:V}}},(function(n){n.processGIF89A=function(e,t,r,s){var o=new wU(e),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:c},g=new qy(100).encode(d,100);return n.processJPEG.call(this,g,t,r,s)},n.processGIF87A=n.processGIF89A})(kt.API),Do.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Do.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[n]()}catch(t){yr.log("bit decode error:"+t)}},Do.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}t!==0&&(this.pos+=4-t)}},Do.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*s*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*s+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},Do.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(s<this.palette.length){var u=this.palette[s];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},Do.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,g=r*this.width*4+4*s;this.data[g]=f,this.data[g+1]=c,this.data[g+2]=u,this.data[g+3]=d}this.pos+=n}},Do.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,f=(u>>5&t)/t*255|0,d=(u>>11)/e*255|0,g=s*this.width*4+4*o;this.data[g]=d,this.data[g+1]=f,this.data[g+2]=c,this.data[g+3]=255}this.pos+=n}},Do.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},Do.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=r,this.data[c+3]=u}},Do.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,s){var o=new Do(e,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new qy(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(kt.API),vS.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,s){var o=new vS(e),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new qy(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(kt.API),kt.API.processRGBA=function(n,e,t){for(var r=n.data,s=r.length,o=new Uint8Array(s/4*3),u=new Uint8Array(s/4),c=0,f=0,d=0;d<s;d+=4){var g=r[d],b=r[d+1],E=r[d+2],w=r[d+3];o[c++]=g,o[c++]=b,o[c++]=E,u[f++]=w}var j=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:j,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},kt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Lf=kt.API,Qg=Lf.getCharWidthsArray=function(n,e){var t,r,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:s.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:s.metadata.Unicode.kerning,g=d.fof?d.fof:1,b=e.doKerning!==!1,E=0,w=n.length,j=0,V=c[0]||f,B=[];for(t=0;t<w;t++)r=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?B.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+u*(1e3/o)||0)/1e3):(E=b&&er(d[r])==="object"&&!isNaN(parseInt(d[r][j],10))?d[r][j]/g:0,B.push((c[r]||V)/f+E)),j=r;return B},uS=Lf.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Lf.processArabic&&(n=Lf.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,s)/t:Qg.apply(this,arguments).reduce(function(o,u){return o+u},0)},cS=function(n,e,t,r){for(var s=[],o=0,u=n.length,c=0;o!==u&&c+e[o]<t;)c+=e[o],o++;s.push(n.slice(0,o));var f=o;for(c=0;o!==u;)c+e[o]>r&&(s.push(n.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&s.push(n.slice(f,o)),s},hS=function(n,e,t){t||(t={});var r,s,o,u,c,f,d,g=[],b=[g],E=t.textIndent||0,w=0,j=0,V=n.split(" "),B=Qg.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?V[0].length+2:t.lineIndent||0){var k=Array(f).join(" "),te=[];V.map(function(J){(J=J.split(/\s*\n/)).length>1?te=te.concat(J.map(function(ge,ve){return(ve&&ge.length?`
`:"")+ge})):te.push(J[0])}),V=te,f=uS.apply(this,[k,t])}for(o=0,u=V.length;o<u;o++){var $=0;if(r=V[o],f&&r[0]==`
`&&(r=r.substr(1),$=1),E+w+(j=(s=Qg.apply(this,[r,t])).reduce(function(J,ge){return J+ge},0))>e||$){if(j>e){for(c=cS.apply(this,[r,s,e-(E+w),e]),g.push(c.shift()),g=[c.pop()];c.length;)b.push([c.shift()]);j=s.slice(r.length-(g[0]?g[0].length:0)).reduce(function(J,ge){return J+ge},0)}else g=[r];b.push(g),E=j+f,w=B}else g.push(r),E+=w+j,w=B}return d=f?function(J,ge){return(ge?k:"")+J.join(" ")}:function(J){return J.join(" ")},b.map(d)},Lf.splitTextToSize=function(n,e,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var b=this.internal.getFont(g.fontName,g.fontStyle),E="Unicode";return b.metadata[E]?{widths:b.metadata[E].widths||{0:1},kerning:b.metadata[E].kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=r.length;c<f;c++)d=d.concat(hS.apply(this,[r[c],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},s={},o=0;o<16;o++)r[t[o]]=e[o],s[e[o]]=t[o];var u=function(E){return"0x"+parseInt(E,10).toString(16)},c=n.__fontmetrics__.compress=function(E){var w,j,V,B,k=["{"];for(var te in E){if(w=E[te],isNaN(parseInt(te,10))?j="'"+te+"'":(te=parseInt(te,10),j=(j=u(te).slice(2)).slice(0,-1)+s[j.slice(-1)]),typeof w=="number")w<0?(V=u(w).slice(3),B="-"):(V=u(w).slice(2),B=""),V=B+V.slice(0,-1)+s[V.slice(-1)];else{if(er(w)!=="object")throw new Error("Don't know what to do with value type "+er(w)+".");V=c(w)}k.push(j+V)}return k.push("}"),k.join("")},f=n.__fontmetrics__.uncompress=function(E){if(typeof E!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,j,V,B,k={},te=1,$=k,J=[],ge="",ve="",z=E.length-1,M=1;M<z;M+=1)(B=E[M])=="'"?w?(V=w.join(""),w=void 0):w=[]:w?w.push(B):B=="{"?(J.push([$,V]),$={},V=void 0):B=="}"?((j=J.pop())[0][j[1]]=$,V=void 0,$=j[0]):B=="-"?te=-1:V===void 0?r.hasOwnProperty(B)?(ge+=r[B],V=parseInt(ge,16)*te,te=1,ge=""):ge+=B:r.hasOwnProperty(B)?(ve+=r[B],$[V]=parseInt(ve,16)*te,te=1,V=void 0,ve=""):ve+=B;return k},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},b={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(E){var w=E.font,j=b.Unicode[w.postScriptName];j&&(w.metadata.Unicode={},w.metadata.Unicode.widths=j.widths,w.metadata.Unicode.kerning=j.kerning);var V=g.Unicode[w.postScriptName];V&&(w.metadata.Unicode.encoding=V,w.encoding=V.codePages[0])}])})(kt.API),(function(n){var e=function(t){for(var r=t.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=t.charCodeAt(o);return s};n.API.events.push(["addFont",function(t){var r=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(f1(c)),u.metadata=n.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,r)}}])})(kt),kt.API.addSvgAsImage=function(n,e,t,r,s,o,u,c){if(isNaN(e)||isNaN(t))throw yr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw yr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return(Xt.canvg?Promise.resolve(Xt.canvg):dc(()=>import("./index.es-C2dtwp-o.js"),[])).catch(function(E){return Promise.reject(new Error("Could not load canvg: "+E))}).then(function(E){return E.default?E.default:E}).then(function(E){return E.fromString(d,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(g)}).then(function(){b.addImage(f.toDataURL("image/jpeg",1),e,t,r,s,u,c)})},kt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,t);return this},kt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,s,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],d=0,g=0,b=0;function E(j,V){var B,k=!1;for(B=0;B<j.length;B+=1)j[B]===V&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var w=c.length;for(b=0;b<w;b+=1)t[c[b]].value=t[c[b]].defaultValue,t[c[b]].explicitSet=!1}if(er(n)==="object"){for(s in n)if(o=n[s],E(c,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&E(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(g=0;g<o[d].length;g+=1)typeof o[d][g]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[s].value="["+f.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,V=[];for(j in t)t[j].explicitSet===!0&&(t[j].type==="name"?V.push("/"+j+" /"+t[j].value):V.push("/"+j+" "+t[j].value));V.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+V.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},kt.API.addMetadata=function(n,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",EU),this.internal.events.subscribe("postPutResources",AU)),this},(function(n){var e=n.API,t=e.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],g=[""],b=0,E=o.length;b<E;++b){if(c=u.metadata.characterToGlyph(o.charCodeAt(b)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(b),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return g.join("");c=c.toString(16),g.push(d[4-c.length],c)}return g.join("")},r=function(o){var u,c,f,d,g,b,E;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],b=0,E=(c=Object.keys(o).sort(function(w,j){return w-j})).length;b<E;b++)u=c[b],f.length>=100&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,g=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var b=c.metadata.Unicode.widths,E=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),w="",j=0;j<E.length;j++)w+=String.fromCharCode(E[j]);var V=d();g({data:w,addLength1:!0,objectId:V}),f("endobj");var B=d();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:B}),f("endobj");var k=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+jf(c.fontName)),f("/FontFile2 "+V+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var te=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+jf(c.fontName)),f("/FontDescriptor "+k+" 0 R"),f("/W "+n.API.PDFObject.convert(b)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+B+" 0 R"),f("/BaseFont /"+jf(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+te+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,g=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var b=c.metadata.rawData,E="",w=0;w<b.length;w++)E+=String.fromCharCode(b[w]);var j=d();g({data:E,addLength1:!0,objectId:j}),f("endobj");var V=d();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:V}),f("endobj");var B=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+j+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+jf(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var k=0;k<c.metadata.hmtx.widths.length;k++)c.metadata.hmtx.widths[k]=parseInt(c.metadata.hmtx.widths[k]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+V+" 0 R/BaseFont/"+jf(c.fontName)+"/FontDescriptor "+B+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var s=function(o){var u,c=o.text||"",f=o.x,d=o.y,g=o.options||{},b=o.mutex||{},E=b.pdfEscape,w=b.activeFontKey,j=b.fonts,V=w,B="",k=0,te="",$=j[V].encoding;if(j[V].encoding!=="Identity-H")return{text:c,x:f,y:d,options:g,mutex:b};for(te=c,V=w,Array.isArray(c)&&(te=c[0]),k=0;k<te.length;k+=1)j[V].metadata.hasOwnProperty("cmap")&&(u=j[V].metadata.cmap.unicode.codeMap[te[k].charCodeAt(0)]),u||te[k].charCodeAt(0)<256&&j[V].metadata.hasOwnProperty("Unicode")?B+=te[k]:B+="";var J="";return parseInt(V.slice(1))<14||$==="WinAnsiEncoding"?J=E(B,V).split("").map(function(ge){return ge.charCodeAt(0).toString(16)}).join(""):$==="Identity-H"&&(J=t(B,j[V])),b.isHex=!0,{text:J,x:f,y:d,options:g,mutex:b}};e.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?c.push([s(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):c.push(s(Object.assign({},f,{text:u[d]})).text);o.text=c}else o.text=s(Object.assign({},f,{text:u})).text}])})(kt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(kt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,o,u,c,f,d,g,b=e,E=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},V={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},B=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),te=!1,$=0;this.__bidiEngine__={};var J=function(x){var O=x.charCodeAt(),R=O>>8,oe=V[R];return oe!==void 0?b[256*oe+(255&O)]:R===252||R===253?"AL":k.test(R)?"L":R===8?"R":"N"},ge=function(x){for(var O,R=0;R<x.length;R++){if((O=J(x.charAt(R)))==="L")return!1;if(O==="R")return!0}return!1},ve=function(x,O,R,oe){var Ie,ae,pe,fe,Le=O[oe];switch(Le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":te=!1;break;case"N":case"AN":break;case"EN":te&&(Le="AN");break;case"AL":te=!0,Le="R";break;case"WS":case"BN":Le="N";break;case"CS":oe<1||oe+1>=O.length||(Ie=R[oe-1])!=="EN"&&Ie!=="AN"||(ae=O[oe+1])!=="EN"&&ae!=="AN"?Le="N":te&&(ae="AN"),Le=ae===Ie?ae:"N";break;case"ES":Le=(Ie=oe>0?R[oe-1]:"B")==="EN"&&oe+1<O.length&&O[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&R[oe-1]==="EN"){Le="EN";break}if(te){Le="N";break}for(pe=oe+1,fe=O.length;pe<fe&&O[pe]==="ET";)pe++;Le=pe<fe&&O[pe]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(fe=O.length,pe=oe+1;pe<fe&&O[pe]==="NSM";)pe++;if(pe<fe){var Ke=x[oe],Z=Ke>=1425&&Ke<=2303||Ke===64286;if(Ie=O[pe],Z&&(Ie==="R"||Ie==="AL")){Le="R";break}}}Le=oe<1||(Ie=O[oe-1])==="B"?"N":R[oe-1];break;case"B":te=!1,s=!0,Le=$;break;case"S":o=!0,Le="N"}return Le},z=function(x,O,R){var oe=x.split("");return R&&M(oe,R,{hiLevel:$}),oe.reverse(),O&&O.reverse(),oe.join("")},M=function(x,O,R){var oe,Ie,ae,pe,fe,Le=-1,Ke=x.length,Z=0,P=[],W=$?w:E,ee=[];for(te=!1,s=!1,o=!1,Ie=0;Ie<Ke;Ie++)ee[Ie]=J(x[Ie]);for(ae=0;ae<Ke;ae++){if(fe=Z,P[ae]=ve(x,ee,P,ae),oe=240&(Z=W[fe][j[P[ae]]]),Z&=15,O[ae]=pe=W[Z][5],oe>0)if(oe===16){for(Ie=Le;Ie<ae;Ie++)O[Ie]=1;Le=-1}else Le=-1;if(W[Z][6])Le===-1&&(Le=ae);else if(Le>-1){for(Ie=Le;Ie<ae;Ie++)O[Ie]=pe;Le=-1}ee[ae]==="B"&&(O[ae]=0),R.hiLevel|=pe}o&&(function(le,ce,ye){for(var De=0;De<ye;De++)if(le[De]==="S"){ce[De]=$;for(var ke=De-1;ke>=0&&le[ke]==="WS";ke--)ce[ke]=$}})(ee,O,Ke)},C=function(x,O,R,oe,Ie){if(!(Ie.hiLevel<x)){if(x===1&&$===1&&!s)return O.reverse(),void(R&&R.reverse());for(var ae,pe,fe,Le,Ke=O.length,Z=0;Z<Ke;){if(oe[Z]>=x){for(fe=Z+1;fe<Ke&&oe[fe]>=x;)fe++;for(Le=Z,pe=fe-1;Le<pe;Le++,pe--)ae=O[Le],O[Le]=O[pe],O[pe]=ae,R&&(ae=R[Le],R[Le]=R[pe],R[pe]=ae);Z=fe}Z++}}},G=function(x,O,R){var oe=x.split(""),Ie={hiLevel:$};return R||(R=[]),M(oe,R,Ie),(function(ae,pe,fe){if(fe.hiLevel!==0&&g)for(var Le,Ke=0;Ke<ae.length;Ke++)pe[Ke]===1&&(Le=B.indexOf(ae[Ke]))>=0&&(ae[Ke]=B[Le+1])})(oe,R,Ie),C(2,oe,O,R,Ie),C(1,oe,O,R,Ie),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(x,O,R){if((function(Ie,ae){if(ae)for(var pe=0;pe<Ie.length;pe++)ae[pe]=pe;c===void 0&&(c=ge(Ie)),d===void 0&&(d=ge(Ie))})(x,O),u||!f||d)if(u&&f&&c^d)$=c?1:0,x=z(x,O,R);else if(!u&&f&&d)$=c?1:0,x=G(x,O,R),x=z(x,O);else if(!u||c||f||d){if(u&&!f&&c^d)x=z(x,O),c?($=0,x=G(x,O,R)):($=1,x=G(x,O,R),x=z(x,O));else if(u&&c&&!f&&d)$=1,x=G(x,O,R),x=z(x,O);else if(!u&&!f&&c^d){var oe=g;c?($=1,x=G(x,O,R),$=0,g=!1,x=G(x,O,R),g=oe):($=0,x=G(x,O,R),x=z(x,O),$=1,g=!1,x=G(x,O,R),g=oe,x=z(x,O))}}else $=0,x=G(x,O,R);else $=c?1:0,x=G(x,O,R);return x},this.__bidiEngine__.setOptions=function(x){x&&(u=x.isInputVisual,f=x.isOutputVisual,c=x.isInputRtl,d=x.isOutputRtl,g=x.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(u=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?u.push([t.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):u.push([t.doBidiReorder(s[c])]);r.text=u}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(kt),kt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Rc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new jU(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new TU(this.contents),this.head=new IU(this),this.name=new LU(this),this.cmap=new jN(this),this.toUnicode={},this.hhea=new xU(this),this.maxp=new kU(this),this.hmtx=new PU(this),this.post=new RU(this),this.os2=new NU(this),this.loca=new VU(this),this.glyf=new DU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.bbox).length;u<c;u++)e=f[u],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var s,o,u,c;for(u=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)s=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return u*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var zo,Rc=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,s;for(s=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,s,o,u,c,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*s+16777216*o+65536*u+256*c+f},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,s,o;for(o=[],r=0,s=e.length;r<s;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),TU=(function(){var n;function e(t){var r,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,s,o,u,c,f,d,g,b,E,w,j,V;for(V in w=Object.keys(t).length,f=Math.log(2),b=16*Math.floor(Math.log(w)/f),u=Math.floor(b/f),g=16*w-b,(s=new Rc).writeInt(this.scalarType),s.writeShort(w),s.writeShort(b),s.writeShort(u),s.writeShort(g),o=16*w,d=s.pos+o,c=null,j=[],t)for(E=t[V],s.writeString(V),s.writeInt(n(E)),s.writeInt(d),s.writeInt(E.length),j=j.concat(E),V==="head"&&(c=d),d+=E.length;d%4;)j.push(0),d++;return s.write(j),r=2981146554-n(s.data),s.pos=c+8,s.writeUInt32(r),s.data},n=function(t){var r,s,o,u;for(t=UN.call(t);t.length%4;)t.push(0);for(o=new Rc(t),s=0,r=0,u=t.length;r<u;r=r+=4)s+=o.readUInt32();return 4294967295&s},e})(),SU={}.hasOwnProperty,Rl=function(n,e){for(var t in e)SU.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};zo=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var IU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Rl(n,zo),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Rc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),bS=(function(){function n(e,t){var r,s,o,u,c,f,d,g,b,E,w,j,V,B,k,te,$;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),b=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(w=e.readUInt16(),E=w/2,e.pos+=6,o=(function(){var J,ge;for(ge=[],f=J=0;0<=E?J<E:J>E;f=0<=E?++J:--J)ge.push(e.readUInt16());return ge})(),e.pos+=2,V=(function(){var J,ge;for(ge=[],f=J=0;0<=E?J<E:J>E;f=0<=E?++J:--J)ge.push(e.readUInt16());return ge})(),d=(function(){var J,ge;for(ge=[],f=J=0;0<=E?J<E:J>E;f=0<=E?++J:--J)ge.push(e.readUInt16());return ge})(),g=(function(){var J,ge;for(ge=[],f=J=0;0<=E?J<E:J>E;f=0<=E?++J:--J)ge.push(e.readUInt16());return ge})(),s=(this.length-e.pos+this.offset)/2,c=(function(){var J,ge;for(ge=[],f=J=0;0<=s?J<s:J>s;f=0<=s?++J:--J)ge.push(e.readUInt16());return ge})(),f=k=0,$=o.length;k<$;f=++k)for(B=o[f],r=te=j=V[f];j<=B?te<=B:te>=B;r=j<=B?++te:--te)g[f]===0?u=r+d[f]:(u=c[g[f]/2+(r-j)-(E-f)]||0)!==0&&(u+=d[f]),this.codeMap[r]=65535&u}e.pos=b}return n.encode=function(e,t){var r,s,o,u,c,f,d,g,b,E,w,j,V,B,k,te,$,J,ge,ve,z,M,C,G,x,O,R,oe,Ie,ae,pe,fe,Le,Ke,Z,P,W,ee,le,ce,ye,De,ke,Be,Je,ot;switch(oe=new Rc,u=Object.keys(e).sort(function(at,pt){return at-pt}),t){case"macroman":for(V=0,B=(function(){var at=[];for(j=0;j<256;++j)at.push(0);return at})(),te={0:0},o={},Ie=0,Le=u.length;Ie<Le;Ie++)te[ke=e[s=u[Ie]]]==null&&(te[ke]=++V),o[s]={old:e[s],new:te[e[s]]},B[s]=te[e[s]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(B),{charMap:o,subtable:oe.data,maxGlyphID:V+1};case"unicode":for(O=[],b=[],$=0,te={},r={},k=d=null,ae=0,Ke=u.length;ae<Ke;ae++)te[ge=e[s=u[ae]]]==null&&(te[ge]=++$),r[s]={old:ge,new:te[ge]},c=te[ge]-s,k!=null&&c===d||(k&&b.push(k),O.push(s),d=c),k=s;for(k&&b.push(k),b.push(65535),O.push(65535),G=2*(C=O.length),M=2*Math.pow(Math.log(C)/Math.LN2,2),E=Math.log(M/2)/Math.LN2,z=2*C-M,f=[],ve=[],w=[],j=pe=0,Z=O.length;pe<Z;j=++pe){if(x=O[j],g=b[j],x===65535){f.push(0),ve.push(0);break}if(x-(R=r[x].new)>=32768)for(f.push(0),ve.push(2*(w.length+C-j)),s=fe=x;x<=g?fe<=g:fe>=g;s=x<=g?++fe:--fe)w.push(r[s].new);else f.push(R-x),ve.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*C+2*w.length),oe.writeUInt16(0),oe.writeUInt16(G),oe.writeUInt16(M),oe.writeUInt16(E),oe.writeUInt16(z),ye=0,P=b.length;ye<P;ye++)s=b[ye],oe.writeUInt16(s);for(oe.writeUInt16(0),De=0,W=O.length;De<W;De++)s=O[De],oe.writeUInt16(s);for(Be=0,ee=f.length;Be<ee;Be++)c=f[Be],oe.writeUInt16(c);for(Je=0,le=ve.length;Je<le;Je++)J=ve[Je],oe.writeUInt16(J);for(ot=0,ce=w.length;ot<ce;ot++)V=w[ot],oe.writeUInt16(V);return{charMap:r,subtable:oe.data,maxGlyphID:$+1}}},n})(),jN=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Rl(n,zo),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)t=new bS(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,s;return t==null&&(t="macroman"),r=bS.encode(e,t),(s=new Rc).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},n})(),xU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Rl(n,zo),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),NU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Rl(n,zo),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),RU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Rl(n,zo),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(e.readUInt32());return f}).call(this)}},n})(),CU=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},LU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Rl(n,zo),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,s,o,u,c,f,d,g,b,E;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=g=0,b=r.length;g<b;o=++g)s=r[o],e.pos=s.offset,d=e.readString(s.length),u=new CU(d,s),f[E=s.nameID]==null&&(f[E]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),kU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Rl(n,zo),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),PU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Rl(n,zo),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,s,o,u,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,g;for(g=[],t=d=0;0<=s?d<s:d>s;t=0<=s?++d:--d)g.push(e.readInt16());return g})(),this.widths=(function(){var d,g,b,E;for(E=[],d=0,g=(b=this.metrics).length;d<g;d++)o=b[d],E.push(o.advance);return E}).call(this),r=this.widths[this.widths.length-1],f=[],t=u=0;0<=s?u<s:u>s;t=0<=s?++u:--u)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),UN=[].slice,DU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Rl(n,zo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,s,o,u,c,f,d,g,b;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,u=(c=new Rc(t.read(s))).readShort(),d=c.readShort(),b=c.readShort(),f=c.readShort(),g=c.readShort(),this.cache[e]=u===-1?new MU(c,d,b,f,g):new OU(c,u,d,b,f,g),this.cache[e]))},n.prototype.encode=function(e,t,r){var s,o,u,c,f;for(u=[],o=[],c=0,f=t.length;c<f;c++)s=e[t[c]],o.push(u.length),s&&(u=u.concat(s.encode(r)));return o.push(u.length),{table:u,offsets:o}},n})(),OU=(function(){function n(e,t,r,s,o,u){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),MU=(function(){function n(e,t,r,s,o){var u,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Rc(UN.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),VU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Rl(n,zo),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<r.length;++u)if(r[u]=s,o<t.length&&t[o]==u){++o,r[u]=s;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(s+=f)}for(var d=new Array(4*r.length),g=0;g<r.length;++g)d[4*g+3]=255&r[g],d[4*g+2]=(65280&r[g])>>8,d[4*g+1]=(16711680&r[g])>>16,d[4*g]=(4278190080&r[g])>>24;return d},n})(),jU=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=s[r];return e},n.prototype.glyphsFor=function(e){var t,r,s,o,u,c,f;for(s={},u=0,c=e.length;u<c;u++)s[o=e[u]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(r=s[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],s[o]=r;return s},n.prototype.encode=function(e,t){var r,s,o,u,c,f,d,g,b,E,w,j,V,B,k;for(s in r=jN.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),w={0:0},k=r.charMap)w[(f=k[s]).old]=f.new;for(j in E=r.maxGlyphID,u)j in w||(w[j]=E++);return g=(function(te){var $,J;for($ in J={},te)J[te[$]]=$;return J})(w),b=Object.keys(g).sort(function(te,$){return te-$}),V=(function(){var te,$,J;for(J=[],te=0,$=b.length;te<$;te++)c=b[te],J.push(g[c]);return J})(),o=this.font.glyf.encode(u,V,w),d=this.font.loca.encode(o.offsets,V),B={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(B["OS/2"]=this.font.os2.raw()),this.font.directory.encode(B)},n})();kt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,s,o,u;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)r=t[c],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)u=t[s],o.push("/"+s+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+t},e})();function UU(n,e){const t=new kt,r=t.internal.pageSize.getWidth(),s=20,o=r-s*2;let u=20;t.setFontSize(18),t.text("",r/2,u,{align:"center"}),u+=15,t.setFontSize(10),t.text(`${e.version} | ${e.updatedAt.split("T")[0]}`,r/2,u,{align:"center"}),u+=15,t.setFontSize(11);const f=t.splitTextToSize("",o);t.text(f,s,u),u+=f.length*6+2;const d=n.name||"__________",g=n.employmentType||"__________",b=n.contractStartDate||"__________",E=n.signedContractAt?new Date(n.signedContractAt).toLocaleDateString("zh-TW"):"__________";t.text(`${d}`,s,u),u+=10,t.text(` ${b}  ${g}`,s,u),u+=15,t.text("",s,u),u+=15;const w=e.content.replace(/<[^>]+>/g,"").split(`
`);for(const V of w)if(V.trim()){const B=t.splitTextToSize(V,o);for(const k of B)u>270&&(t.addPage(),u=20),t.text(k,s,u),u+=6;u+=2}u+=10,t.setFontSize(12),t.text("",s,u),u+=10,t.text(`${d}`,s,u),u+=10,t.text(`${E}`,s,u);const j=`_${d}_${E}.pdf`;t.save(j)}function FU(){const[n,e]=tt.useState(null),[t,r]=tt.useState([]),[s,o]=tt.useState(!1),[u,c]=tt.useState(""),[f,d]=tt.useState(!0),g=tt.useCallback(async()=>{d(!0);const[w,j]=await Promise.all([Wx(),D0()]);e(w),r(j),d(!1)},[]);tt.useEffect(()=>{g()},[g]);const b=async()=>{if(!n)return;const w={...n,content:u,version:n.version+1,updatedAt:new Date().toISOString()};await G9(w),e(w),o(!1),alert("v"+w.version)},E=t.filter(w=>w.role==="employee");return f?D.jsx("div",{className:"text-center py-12",children:D.jsx("p",{className:"text-gray-500",children:"..."})}):D.jsxs("div",{className:"space-y-6",children:[D.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[D.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[D.jsxs("div",{children:[D.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),D.jsxs("p",{className:"text-sm text-gray-500",children:[" ",n?.version," | ",n?.updatedAt?.split("T")[0]||"-"]})]}),s?D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:()=>{c(n?.content||""),o(!1)},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:""}),D.jsx("button",{onClick:b,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:""})]}):D.jsx("button",{onClick:()=>{c(n?.content||""),o(!0)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:""})]}),D.jsx("div",{className:"p-6",children:s?D.jsx("textarea",{value:u,onChange:w=>c(w.target.value),className:"w-full h-64 px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary font-mono text-sm"}):D.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:n?.content||""}})})]}),D.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[D.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[D.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),D.jsx("p",{className:"text-sm text-gray-500",children:""})]}),D.jsx("div",{className:"p-6",children:D.jsx("div",{className:"overflow-x-auto",children:D.jsxs("table",{className:"w-full",children:[D.jsx("thead",{children:D.jsxs("tr",{className:"border-b border-gray-200",children:[D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:"PDF"})]})}),D.jsx("tbody",{children:E.map(w=>D.jsxs("tr",{className:"border-b border-gray-100",children:[D.jsx("td",{className:"py-3 px-4",children:D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("img",{src:w.avatar,alt:w.name,className:"w-8 h-8 rounded-full bg-gray-200"}),D.jsx("span",{className:"font-medium text-gray-900",children:w.name})]})}),D.jsx("td",{className:"py-3 px-4 text-gray-600",children:w.department}),D.jsx("td",{className:"py-3 px-4",children:w.signedContractAt?D.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[D.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),""]}):D.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:[D.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),""]})}),D.jsx("td",{className:"py-3 px-4 text-gray-600 text-sm",children:w.signedContractAt?new Date(w.signedContractAt).toLocaleString("zh-TW"):"-"}),D.jsx("td",{className:"py-3 px-4",children:w.signedContractAt&&n?D.jsxs("button",{onClick:()=>UU(w,n),className:"inline-flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-white bg-red-500 rounded-lg hover:bg-red-600",children:[D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),""]}):"-"})]},w.id))})]})})})]})]})}const BU=["/","","","/"];function qU(){const[n,e]=tt.useState(null),{user:t,updateUser:r}=jm(),[s,o]=tt.useState(!1),[u,c]=tt.useState(!1),[f,d]=tt.useState(!0),[g,b]=tt.useState(""),[E,w]=tt.useState(""),[j,V]=tt.useState(!0),B=tt.useCallback(async()=>{V(!0);const $=await Wx();e($),o(!!t?.signedContractAt),b(t?.employmentType||""),w(t?.contractStartDate||""),V(!1)},[t]);tt.useEffect(()=>{B()},[B]);const k=async()=>{if(!t||!g||!E)return;const $=new Date().toISOString(),J={...t,signedContractAt:$,employmentType:g,contractStartDate:E};await r(J),o(!0)},te=()=>{if(!n)return"";let $=n.content;if(t?.name&&($=$.replace(" : ",` : <span class="highlight">${t.name}</span>`)),t?.name&&($=$.replace("<strong></strong>____________",`<strong></strong><span class="highlight">${t.name}</span>`)),g&&($=$.replace(" ____________",` <span class="highlight">${g}</span>`)),E&&($=$.replace("   ",` <span class="highlight">${E}</span> `)),s||u){const J=new Date().toLocaleDateString("zh-TW"),ge="   ",ve=$.indexOf(ge);ve!==-1&&($=$.slice(0,ve)+`<span class="highlight">${J}</span>`+$.slice(ve+ge.length))}return $};return j||!n?null:D.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[D.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-yellow-50",children:D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),D.jsx("span",{className:"font-medium text-yellow-800",children:""})]})}),!s&&D.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-blue-50 space-y-4",children:[D.jsxs("div",{children:[D.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[D.jsx("span",{className:"text-red-500",children:"*"})," "]}),D.jsx("input",{type:"date",value:E,onChange:$=>w($.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[D.jsx("span",{className:"text-red-500",children:"*"})," "]}),D.jsx("div",{className:"grid grid-cols-2 gap-2",children:BU.map($=>D.jsxs("label",{className:`flex items-center gap-2 p-3 rounded-lg border cursor-pointer transition-colors ${g===$?"border-primary bg-primary/10 text-primary":"border-gray-200 hover:border-gray-300"}`,children:[D.jsx("input",{type:"radio",name:"employmentType",value:$,checked:g===$,onChange:J=>b(J.target.value),className:"w-4 h-4 text-primary"}),D.jsx("span",{className:"text-sm",children:$})]},$))})]})]}),f&&D.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:D.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:te()}})}),s&&D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"mx-6 mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:D.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[D.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),D.jsxs("span",{className:"font-medium",children:[" ",new Date(t?.signedContractAt||"").toLocaleString("zh-TW")," ",t?.employmentType&&`${t.employmentType}`]})]})}),D.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:D.jsx("button",{onClick:()=>d(!f),className:"text-sm text-primary hover:underline",children:f?"":""})})]}),!s&&D.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:[D.jsxs("label",{className:"flex items-center gap-3 mb-4",children:[D.jsx("input",{type:"checkbox",checked:u,onChange:$=>c($.target.checked),className:"w-4 h-4 text-primary"}),D.jsx("span",{className:"text-sm text-gray-600",children:""})]}),D.jsx("button",{onClick:k,disabled:!u||!g||!E,className:"w-full py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]})}const zU={pending:"bg-yellow-100 text-yellow-700",processing:"bg-blue-100 text-blue-700",completed:"bg-green-100 text-green-700"},HU={pending:"",processing:"",completed:""};function GU({userId:n,userName:e,isAdmin:t}){const[r,s]=tt.useState([]),[o,u]=tt.useState([]),[c,f]=tt.useState(!1),[d,g]=tt.useState("all"),[b,E]=tt.useState(!0),w=tt.useCallback(async()=>{E(!0);const[$,J]=await Promise.all([q9(n,t),D0()]);s($),u(J),E(!1)},[n,t]);tt.useEffect(()=>{w()},[w]);const j=async $=>{await z9($),await w(),f(!1)},V=async($,J)=>{await H9($,J),await w()},B=$=>$.map(J=>o.find(ge=>ge.id===J)?.name||"").join(""),te=[...d==="my"?r.filter($=>$.assignedTo.includes(n)):r].sort(($,J)=>new Date(J.createdAt).getTime()-new Date($.createdAt).getTime());return b?D.jsx("div",{className:"text-center py-12",children:D.jsx("p",{className:"text-gray-500",children:"..."})}):D.jsxs("div",{children:[D.jsxs("div",{className:"flex items-center justify-between mb-6",children:[D.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:""}),D.jsxs("div",{className:"flex gap-3",children:[D.jsxs("select",{value:d,onChange:$=>g($.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"all",children:""}),D.jsx("option",{value:"my",children:""})]}),t&&D.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:[D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),""]})]})]}),te.length===0?D.jsx("div",{className:"text-center py-12 text-gray-500",children:D.jsx("p",{children:""})}):D.jsx("div",{className:"space-y-4",children:te.map($=>D.jsx(KU,{task:$,isAdmin:t,currentUserId:n,currentUserName:e,onUpdate:V,getUserName:B},$.id))}),c&&D.jsx($U,{users:o.filter($=>$.role==="employee"),onClose:()=>f(!1),onSubmit:j})]})}function KU({task:n,isAdmin:e,currentUserId:t,currentUserName:r,onUpdate:s,getUserName:o}){const[u,c]=tt.useState(!1),[f,d]=tt.useState(n.response),[g,b]=tt.useState(n.completionDate),E=e||n.assignedTo.includes(t),w=async()=>{await s(n.id,{response:f,responseBy:r,completionDate:g,status:f?"processing":n.status}),c(!1)};return D.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[D.jsxs("div",{className:"flex items-start justify-between mb-3",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${zU[n.status]}`,children:HU[n.status]}),D.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${n.source==="client"?"bg-purple-100 text-purple-700":n.source==="vendor"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"}`,children:n.source==="client"?"":n.source==="vendor"?"":n.source})]}),D.jsx("span",{className:"text-sm text-gray-400",children:new Date(n.createdAt).toLocaleDateString("zh-TW")})]}),D.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:n.title}),D.jsx("p",{className:"text-gray-600 text-sm mb-3",children:n.description}),(n.attachment||n.attachmentFile)&&D.jsxs("div",{className:"flex flex-col gap-2 text-sm text-gray-500 mb-3",children:[n.attachmentFile&&D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),D.jsx("a",{href:n.attachmentFile.url||n.attachmentFile.data,download:n.attachmentFile.name,className:"text-blue-600 hover:underline",children:n.attachmentFile.name}),D.jsxs("span",{className:"text-xs text-gray-400",children:["(",(n.attachmentFile.size/1024).toFixed(1)," KB)"]})]}),n.attachment&&D.jsxs("div",{className:"text-gray-500",children:["",n.attachment]})]}),D.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[D.jsxs("span",{children:["",D.jsx("span",{className:"font-medium text-gray-700",children:o(n.assignedTo)})]}),n.completionDate&&D.jsxs("span",{children:["",D.jsx("span",{className:"font-medium text-gray-700",children:n.completionDate})]})]}),n.response&&D.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg mb-3",children:[D.jsxs("p",{className:"text-xs text-gray-400 mb-1",children:[" - ",n.responseBy]}),D.jsx("p",{className:"text-gray-700 text-sm",children:n.response})]}),E&&D.jsx("div",{className:"border-t border-gray-100 pt-3 mt-3",children:u?D.jsxs("div",{className:"space-y-3",children:[D.jsx("textarea",{value:f,onChange:j=>d(j.target.value),placeholder:"...",rows:2,className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-primary"}),D.jsxs("div",{className:"flex gap-3",children:[D.jsx("input",{type:"date",value:g,onChange:j=>b(j.target.value),className:"px-3 py-1.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-primary"}),D.jsxs("select",{value:n.status,onChange:j=>s(n.id,{status:j.target.value}),className:"px-3 py-1.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"pending",children:""}),D.jsx("option",{value:"processing",children:""}),D.jsx("option",{value:"completed",children:""})]}),D.jsx("button",{onClick:w,className:"px-3 py-1.5 bg-primary text-white rounded-lg text-sm hover:bg-primary-dark",children:""})]})]}):D.jsx("button",{onClick:()=>c(!0),className:"text-sm text-primary hover:underline",children:""})})]})}function $U({users:n,onClose:e,onSubmit:t}){const[r,s]=tt.useState(""),[o,u]=tt.useState(""),[c,f]=tt.useState("client"),[d,g]=tt.useState(""),[b,E]=tt.useState(!1),[w,j]=tt.useState(""),[V,B]=tt.useState(null),[k,te]=tt.useState([]),[$,J]=tt.useState(!1),ge=async C=>{if(C.preventDefault(),!r||!o||k.length===0)return;J(!0),await t({title:r,description:o,source:b?d:c,attachment:w,attachmentFile:V||void 0,assignedTo:k,response:"",completionDate:"",status:"pending"}),J(!1)},ve=C=>{const G=C.target.files?.[0];if(!G)return;const x=2*1024*1024;if(G.size>x){alert(" 2MB");return}const O=new FileReader;O.onload=()=>{B({name:G.name,size:G.size,type:G.type,data:O.result})},O.readAsDataURL(G)},z=()=>{B(null)},M=C=>{te(G=>G.includes(C)?G.filter(x=>x!==C):[...G,C])};return D.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[D.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:e}),D.jsxs("div",{className:"relative bg-white rounded-xl w-full max-w-lg",children:[D.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[D.jsx("h2",{className:"text-lg font-semibold",children:""}),D.jsx("button",{onClick:e,className:"p-1 text-gray-400 hover:text-gray-600",children:D.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),D.jsxs("form",{onSubmit:ge,className:"p-6 space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:r,onChange:C=>s(C.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("textarea",{value:o,onChange:C=>u(C.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),b?D.jsx("input",{type:"text",value:d,onChange:C=>g(C.target.value),placeholder:"",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"}):D.jsxs("select",{value:c,onChange:C=>f(C.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"client",children:""}),D.jsx("option",{value:"vendor",children:""})]}),D.jsx("button",{type:"button",onClick:()=>E(!b),className:"text-xs text-primary mt-1 hover:underline",children:b?"":""})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"file",onChange:ve,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary text-sm"}),V&&D.jsxs("div",{className:"mt-2 flex items-center justify-between bg-gray-50 px-3 py-2 rounded-lg",children:[D.jsx("span",{className:"text-sm text-gray-600 truncate",children:V.name}),D.jsx("button",{type:"button",onClick:z,className:"text-red-500 text-sm hover:underline",children:""})]})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:w,onChange:C=>j(C.target.value),placeholder:"Email",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("div",{className:"grid grid-cols-2 gap-2 border border-gray-200 rounded-lg p-3 max-h-40 overflow-y-auto",children:n.map(C=>D.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[D.jsx("input",{type:"checkbox",checked:k.includes(C.id),onChange:()=>M(C.id),className:"w-4 h-4 text-primary rounded"}),D.jsxs("span",{className:"text-sm",children:[C.name," (",C.department,")"]})]},C.id))})]}),D.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[D.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg",children:""}),D.jsx("button",{type:"submit",disabled:$,className:"px-4 py-2 bg-primary text-white rounded-lg disabled:opacity-50",children:$?"...":""})]})]})]})]})}const WU=["","","","","","",""],YU=["/","","","/"];function QU(){const e=tt.useContext(w5)?.user,[t,r]=tt.useState([]),[s,o]=tt.useState(!0),[u,c]=tt.useState(!1),[f,d]=tt.useState(!1),[g,b]=tt.useState(null),[E,w]=tt.useState({username:"",password:"",email:"",name:"",department:"",employmentType:""}),j=tt.useCallback(async()=>{o(!0);const k=await D0();r(k.filter(te=>te.role==="employee")),o(!1)},[]);tt.useEffect(()=>{j()},[j]);const V=async()=>{if(!E.username||!E.password||!E.name||!E.email){alert("");return}if(!E.email.includes("@")){alert("");return}if(E.password.length<6){alert(" 6 ");return}c(!0);try{let k;const te=e,$=uu.currentUser?.uid;if(console.log("Current auth state:",$),console.log("Creating user with email:",E.email),g){const J={...g,username:E.username,password:E.password,email:E.email,name:E.name,department:E.department,employmentType:E.employmentType};await aT(J),k=g.id}else{k=(await J_(uu,E.email,E.password)).user.uid,console.log("Firebase Auth user created:",k);const ge={id:k,username:E.username,password:E.password,email:E.email,name:E.name,role:"employee",avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${E.username}`,department:E.department,employmentType:E.employmentType};await aT(ge),console.log("Firestore user saved"),$&&te&&(await uu.signOut(),setTimeout(async()=>{const{signInWithEmailAndPassword:ve}=await dc(async()=>{const{signInWithEmailAndPassword:M}=await Promise.resolve().then(()=>uP);return{signInWithEmailAndPassword:M}},void 0),z=te.email||te.username+"@twkt.com";await ve(uu,z,te.password||"admin123"),console.log("Admin re-logged in")},100))}await j(),d(!1),b(null),w({username:"",password:"",email:"",name:"",department:"",employmentType:""}),alert(g?"":"")}catch(k){console.error("Error creating user:",k),console.error("Error code:",k.code),console.error("Error message:",k.message),k.code==="auth/email-already-in-use"?alert(""):k.code==="auth/weak-password"?alert(" 6 "):k.code==="auth/invalid-email"?alert(""):k.code==="auth/operation-not-allowed"?alert("/ Firebase Console "):alert(""+(k.message||k.code))}finally{c(!1)}},B=k=>{b(k),w({username:k.username,password:k.password,email:k.email||"",name:k.name,department:k.department,employmentType:k.employmentType||""}),d(!0)};return s?D.jsx("div",{className:"text-center py-12",children:D.jsx("p",{className:"text-gray-500",children:"..."})}):D.jsxs("div",{className:"space-y-6",children:[D.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[D.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[D.jsxs("div",{children:[D.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),D.jsx("p",{className:"text-sm text-gray-500",children:""})]}),D.jsx("button",{onClick:()=>{b(null),w({username:"",password:"",email:"",name:"",department:"",employmentType:""}),d(!0)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:"+ "})]}),D.jsx("div",{className:"p-6",children:D.jsxs("table",{className:"w-full",children:[D.jsx("thead",{children:D.jsxs("tr",{className:"border-b border-gray-200",children:[D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""})]})}),D.jsx("tbody",{children:t.map(k=>D.jsxs("tr",{className:"border-b border-gray-100",children:[D.jsx("td",{className:"py-3 px-4",children:D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("img",{src:k.avatar,alt:k.name,className:"w-8 h-8 rounded-full bg-gray-200"}),D.jsx("span",{className:"font-medium text-gray-900",children:k.name})]})}),D.jsx("td",{className:"py-3 px-4 text-gray-600",children:k.email||"-"}),D.jsx("td",{className:"py-3 px-4 text-gray-600",children:k.username}),D.jsx("td",{className:"py-3 px-4 text-gray-600",children:k.department}),D.jsx("td",{className:"py-3 px-4 text-gray-600",children:k.employmentType||"-"}),D.jsx("td",{className:"py-3 px-4",children:k.signedContractAt?D.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:""}):D.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:""})}),D.jsx("td",{className:"py-3 px-4",children:D.jsx("div",{className:"flex gap-2",children:D.jsx("button",{onClick:()=>B(k),className:"px-3 py-1 text-xs text-blue-600 hover:bg-blue-50 rounded",children:""})})})]},k.id))})]})})]}),f&&D.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:D.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[D.jsx("h3",{className:"text-lg font-semibold mb-4",children:g?"":""}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{children:[D.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",D.jsx("span",{className:"text-red-500",children:"*"})]}),D.jsx("input",{type:"text",value:E.name,onChange:k=>w({...E,name:k.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",D.jsx("span",{className:"text-red-500",children:"*"})]}),D.jsx("input",{type:"email",value:E.email,onChange:k=>w({...E,email:k.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",D.jsx("span",{className:"text-red-500",children:"*"})]}),D.jsx("input",{type:"text",value:E.username,onChange:k=>w({...E,username:k.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",D.jsx("span",{className:"text-red-500",children:"*"})]}),D.jsx("input",{type:"text",value:E.password,onChange:k=>w({...E,password:k.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("select",{value:E.department,onChange:k=>w({...E,department:k.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:WU.map(k=>D.jsx("option",{value:k,children:k},k))})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("select",{value:E.employmentType,onChange:k=>w({...E,employmentType:k.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:YU.map(k=>D.jsx("option",{value:k,children:k},k))})]})]}),D.jsxs("div",{className:"flex gap-3 mt-6",children:[D.jsx("button",{onClick:()=>{d(!1),b(null)},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:""}),D.jsx("button",{onClick:V,disabled:u,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark disabled:bg-gray-400",children:u?"...":g?"":""})]})]})})]})}function XU(){const{user:n,updateUser:e}=jm(),[t,r]=tt.useState(n?.name||""),[s,o]=tt.useState(""),[u,c]=tt.useState(""),[f,d]=tt.useState("");if(tt.useEffect(()=>{n?.name&&r(n.name)},[n]),!n)return null;const g=b=>{if(b.preventDefault(),d(""),!t.trim()){d("");return}if(s&&s.length<6){d("6");return}if(s!==u){d("");return}const E={...n,name:t.trim(),...s?{password:s}:{}};e(E),o(""),c(""),d("")};return D.jsx("div",{className:"max-w-md mx-auto",children:D.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[D.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:""}),D.jsxs("form",{onSubmit:g,className:"space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:n.username,disabled:!0,className:"w-full px-4 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-500"}),D.jsx("p",{className:"text-xs text-gray-400 mt-1",children:""})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:t,onChange:b=>r(b.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"password",value:s,onChange:b=>o(b.target.value),placeholder:"",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"password",value:u,onChange:b=>c(b.target.value),placeholder:"",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),f&&D.jsx("p",{className:`text-sm ${f===""?"text-green-600":"text-red-600"}`,children:f}),D.jsx("button",{type:"submit",className:"w-full py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:""})]})]})})}function JU(){const{user:n,logout:e}=jm(),[t,r]=tt.useState("worklog");if(!n)return null;const s=n.role==="admin";return D.jsxs("div",{className:"min-h-screen bg-gray-50",children:[D.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:D.jsxs("div",{className:"flex items-center justify-between px-6 py-3",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:D.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),D.jsx("span",{className:"font-semibold text-gray-900",children:""})]}),D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("img",{src:n.avatar,alt:n.name,className:"w-8 h-8 rounded-full bg-gray-200"}),D.jsxs("div",{className:"text-right",children:[D.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.name}),D.jsx("p",{className:"text-xs text-gray-500",children:s?"":""})]})]}),D.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",title:"",children:D.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})}),D.jsx("nav",{className:"bg-white border-b border-gray-200",children:D.jsxs("div",{className:"flex px-6 gap-1",children:[D.jsx(kf,{active:t==="worklog",onClick:()=>r("worklog"),icon:D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),children:""}),s?D.jsx(kf,{active:t==="contract",onClick:()=>r("contract"),icon:D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),children:""}):D.jsx(kf,{active:t==="contract",onClick:()=>r("contract"),icon:D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),children:""}),D.jsx(kf,{active:t==="tasks",onClick:()=>r("tasks"),icon:D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),children:""}),s&&D.jsx(kf,{active:t==="employees",onClick:()=>r("employees"),icon:D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),children:""}),D.jsx(kf,{active:t==="settings",onClick:()=>r("settings"),icon:D.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),children:""})]})}),D.jsxs("main",{className:"max-w-5xl mx-auto px-6 py-8",children:[t==="worklog"&&D.jsx(W9,{userId:n.id,isAdmin:s}),t==="contract"&&(s?D.jsx(FU,{}):D.jsx(qU,{})),t==="tasks"&&D.jsx(GU,{userId:n.id,userName:n.name,isAdmin:s}),t==="employees"&&s&&D.jsx(QU,{}),t==="settings"&&D.jsx(XU,{})]})]})}function kf({active:n,onClick:e,children:t,icon:r}){return D.jsxs("button",{onClick:e,className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${n?"text-primary border-primary":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"}`,children:[r,t]})}function ZU(){const[n,e]=tt.useState(""),[t,r]=tt.useState(""),[s,o]=tt.useState(""),[u,c]=tt.useState(""),[f,d]=tt.useState("employee"),[g,b]=tt.useState(""),[E,w]=tt.useState(""),[j,V]=tt.useState(!1),B=async k=>{k.preventDefault(),b(""),w(""),V(!0);try{const te=ov(_d),$=x0(_d),J=await J_(te,`${n}@twkt.com`,t);await y5(Sl($,"users",J.user.uid),{id:J.user.uid,username:n,name:s,role:f,department:u,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${n}`,employmentType:"",signedContractAt:null,contractStartDate:null,createdAt:new Date().toISOString()}),w(` ${s} (${f==="admin"?"":""}) `),e(""),r(""),o("")}catch(te){console.error("Error:",te),te.code==="auth/email-already-in-use"?b(""):te.code==="auth/weak-password"?b("6"):b(": "+te.message)}V(!1)};return D.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:D.jsx("div",{className:"w-full max-w-md",children:D.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[D.jsxs("div",{className:"text-center mb-8",children:[D.jsx("div",{className:"w-16 h-16 bg-primary rounded-xl flex items-center justify-center mx-auto mb-4",children:D.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),D.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),D.jsx("p",{className:"text-gray-500 mt-1",children:""})]}),E&&D.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 text-green-600 rounded-lg text-sm",children:E}),g&&D.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm",children:g}),D.jsxs("form",{onSubmit:B,className:"space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:s,onChange:k=>o(k.target.value),placeholder:"",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:n,onChange:k=>e(k.target.value),placeholder:" @twkt.com",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"password",value:t,onChange:k=>r(k.target.value),placeholder:"6",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0,minLength:6})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsxs("select",{value:u,onChange:k=>c(k.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"",children:""}),D.jsx("option",{value:"",children:""}),D.jsx("option",{value:"",children:""}),D.jsx("option",{value:"",children:""}),D.jsx("option",{value:"",children:""})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsxs("select",{value:f,onChange:k=>d(k.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"employee",children:""}),D.jsx("option",{value:"admin",children:""})]})]}),D.jsx("button",{type:"submit",disabled:j,className:"w-full py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50",children:j?"...":""})]}),D.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:D.jsxs("p",{className:"text-xs text-gray-500",children:["",D.jsx("br",{}),""]})})]})})})}function eF(){const{user:n,loading:e}=jm(),[t,r]=tt.useState(!1),[s,o]=tt.useState(!0);return tt.useEffect(()=>{(async()=>{try{const c=x0(_d);(await k0(Dd(c,"users"))).empty&&r(!0)}catch(c){console.error("Error checking users:",c)}o(!1)})()},[]),s?D.jsx("div",{className:"min-h-screen flex items-center justify-center",children:D.jsx("div",{className:"text-gray-500",children:"..."})}):t?D.jsx(ZU,{}):e?D.jsx("div",{className:"min-h-screen flex items-center justify-center",children:D.jsx("div",{className:"text-gray-500",children:"..."})}):n?D.jsx(JU,{}):D.jsx(j9,{})}function tF(){return D.jsx(V9,{children:D.jsx(eF,{})})}nR.createRoot(document.getElementById("root")).render(D.jsx(tt.StrictMode,{children:D.jsx(tF,{})}));export{er as _};
