(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var _2={exports:{}},ip={};var Qb;function II(){if(Qb)return ip;Qb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return ip.Fragment=e,ip.jsx=t,ip.jsxs=t,ip}var Xb;function NI(){return Xb||(Xb=1,_2.exports=II()),_2.exports}var D=NI(),v2={exports:{}},sn={};var Jb;function RI(){if(Jb)return sn;Jb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),E=Symbol.iterator;function b(J){return J===null||typeof J!="object"?null:(J=E&&J[E]||J["@@iterator"],typeof J=="function"?J:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,B={};function U(J,k,$){this.props=J,this.context=k,this.refs=B,this.updater=$||V}U.prototype.isReactComponent={},U.prototype.setState=function(J,k){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,k,"setState")},U.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function ne(){}ne.prototype=U.prototype;function Y(J,k,$){this.props=J,this.context=k,this.refs=B,this.updater=$||V}var ee=Y.prototype=new ne;ee.constructor=Y,M(ee,U.prototype),ee.isPureReactComponent=!0;var ge=Array.isArray;function be(){}var H={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function C(J,k,$){var Z=$.ref;return{$$typeof:n,type:J,key:k,ref:Z!==void 0?Z:null,props:$}}function G(J,k){return C(J.type,k,J.props)}function I(J){return typeof J=="object"&&J!==null&&J.$$typeof===n}function P(J){var k={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function($){return k[$]})}var R=/\/+/g;function oe(J,k){return typeof J=="object"&&J!==null&&J.key!=null?P(""+J.key):k.toString(36)}function Te(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(be,be):(J.status="pending",J.then(function(k){J.status==="pending"&&(J.status="fulfilled",J.value=k)},function(k){J.status==="pending"&&(J.status="rejected",J.reason=k)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function ae(J,k,$,Z,le){var ce=typeof J;(ce==="undefined"||ce==="boolean")&&(J=null);var ye=!1;if(J===null)ye=!0;else switch(ce){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(J.$$typeof){case n:case e:ye=!0;break;case g:return ye=J._init,ae(ye(J._payload),k,$,Z,le)}}if(ye)return le=le(J),ye=Z===""?"."+oe(J,0):Z,ge(le)?($="",ye!=null&&($=ye.replace(R,"$&/")+"/"),ae(le,k,$,"",function(Be){return Be})):le!=null&&(I(le)&&(le=G(le,$+(le.key==null||J&&J.key===le.key?"":(""+le.key).replace(R,"$&/")+"/")+ye)),k.push(le)),1;ye=0;var Pe=Z===""?".":Z+":";if(ge(J))for(var ke=0;ke<J.length;ke++)Z=J[ke],ce=Pe+oe(Z,ke),ye+=ae(Z,k,$,ce,le);else if(ke=b(J),typeof ke=="function")for(J=ke.call(J),ke=0;!(Z=J.next()).done;)Z=Z.value,ce=Pe+oe(Z,ke++),ye+=ae(Z,k,$,ce,le);else if(ce==="object"){if(typeof J.then=="function")return ae(Te(J),k,$,Z,le);throw k=String(J),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return ye}function pe(J,k,$){if(J==null)return J;var Z=[],le=0;return ae(J,Z,"","",function(ce){return k.call($,ce,le++)}),Z}function fe(J){if(J._status===-1){var k=J._result;k=k(),k.then(function($){(J._status===0||J._status===-1)&&(J._status=1,J._result=$)},function($){(J._status===0||J._status===-1)&&(J._status=2,J._result=$)}),J._status===-1&&(J._status=0,J._result=k)}if(J._status===1)return J._result.default;throw J._result}var Le=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)},Ke={map:pe,forEach:function(J,k,$){pe(J,function(){k.apply(this,arguments)},$)},count:function(J){var k=0;return pe(J,function(){k++}),k},toArray:function(J){return pe(J,function(k){return k})||[]},only:function(J){if(!I(J))throw Error("React.Children.only expected to receive a single React element child.");return J}};return sn.Activity=w,sn.Children=Ke,sn.Component=U,sn.Fragment=t,sn.Profiler=s,sn.PureComponent=Y,sn.StrictMode=r,sn.Suspense=f,sn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,sn.__COMPILER_RUNTIME={__proto__:null,c:function(J){return H.H.useMemoCache(J)}},sn.cache=function(J){return function(){return J.apply(null,arguments)}},sn.cacheSignal=function(){return null},sn.cloneElement=function(J,k,$){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var Z=M({},J.props),le=J.key;if(k!=null)for(ce in k.key!==void 0&&(le=""+k.key),k)!O.call(k,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&k.ref===void 0||(Z[ce]=k[ce]);var ce=arguments.length-2;if(ce===1)Z.children=$;else if(1<ce){for(var ye=Array(ce),Pe=0;Pe<ce;Pe++)ye[Pe]=arguments[Pe+2];Z.children=ye}return C(J.type,le,Z)},sn.createContext=function(J){return J={$$typeof:u,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:o,_context:J},J},sn.createElement=function(J,k,$){var Z,le={},ce=null;if(k!=null)for(Z in k.key!==void 0&&(ce=""+k.key),k)O.call(k,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(le[Z]=k[Z]);var ye=arguments.length-2;if(ye===1)le.children=$;else if(1<ye){for(var Pe=Array(ye),ke=0;ke<ye;ke++)Pe[ke]=arguments[ke+2];le.children=Pe}if(J&&J.defaultProps)for(Z in ye=J.defaultProps,ye)le[Z]===void 0&&(le[Z]=ye[Z]);return C(J,ce,le)},sn.createRef=function(){return{current:null}},sn.forwardRef=function(J){return{$$typeof:c,render:J}},sn.isValidElement=I,sn.lazy=function(J){return{$$typeof:g,_payload:{_status:-1,_result:J},_init:fe}},sn.memo=function(J,k){return{$$typeof:d,type:J,compare:k===void 0?null:k}},sn.startTransition=function(J){var k=H.T,$={};H.T=$;try{var Z=J(),le=H.S;le!==null&&le($,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(be,Le)}catch(ce){Le(ce)}finally{k!==null&&$.types!==null&&(k.types=$.types),H.T=k}},sn.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},sn.use=function(J){return H.H.use(J)},sn.useActionState=function(J,k,$){return H.H.useActionState(J,k,$)},sn.useCallback=function(J,k){return H.H.useCallback(J,k)},sn.useContext=function(J){return H.H.useContext(J)},sn.useDebugValue=function(){},sn.useDeferredValue=function(J,k){return H.H.useDeferredValue(J,k)},sn.useEffect=function(J,k){return H.H.useEffect(J,k)},sn.useEffectEvent=function(J){return H.H.useEffectEvent(J)},sn.useId=function(){return H.H.useId()},sn.useImperativeHandle=function(J,k,$){return H.H.useImperativeHandle(J,k,$)},sn.useInsertionEffect=function(J,k){return H.H.useInsertionEffect(J,k)},sn.useLayoutEffect=function(J,k){return H.H.useLayoutEffect(J,k)},sn.useMemo=function(J,k){return H.H.useMemo(J,k)},sn.useOptimistic=function(J,k){return H.H.useOptimistic(J,k)},sn.useReducer=function(J,k,$){return H.H.useReducer(J,k,$)},sn.useRef=function(J){return H.H.useRef(J)},sn.useState=function(J){return H.H.useState(J)},sn.useSyncExternalStore=function(J,k,$){return H.H.useSyncExternalStore(J,k,$)},sn.useTransition=function(){return H.H.useTransition()},sn.version="19.2.4",sn}var Zb;function r_(){return Zb||(Zb=1,v2.exports=RI()),v2.exports}var et=r_(),b2={exports:{}},sp={},w2={exports:{}},A2={};var ew;function CI(){return ew||(ew=1,(function(n){function e(ae,pe){var fe=ae.length;ae.push(pe);e:for(;0<fe;){var Le=fe-1>>>1,Ke=ae[Le];if(0<s(Ke,pe))ae[Le]=pe,ae[fe]=Ke,fe=Le;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var pe=ae[0],fe=ae.pop();if(fe!==pe){ae[0]=fe;e:for(var Le=0,Ke=ae.length,J=Ke>>>1;Le<J;){var k=2*(Le+1)-1,$=ae[k],Z=k+1,le=ae[Z];if(0>s($,fe))Z<Ke&&0>s(le,$)?(ae[Le]=le,ae[Z]=fe,Le=Z):(ae[Le]=$,ae[k]=fe,Le=k);else if(Z<Ke&&0>s(le,fe))ae[Le]=le,ae[Z]=fe,Le=Z;else break e}}return pe}function s(ae,pe){var fe=ae.sortIndex-pe.sortIndex;return fe!==0?fe:ae.id-pe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],d=[],g=1,w=null,E=3,b=!1,V=!1,M=!1,B=!1,U=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ee(ae){for(var pe=t(d);pe!==null;){if(pe.callback===null)r(d);else if(pe.startTime<=ae)r(d),pe.sortIndex=pe.expirationTime,e(f,pe);else break;pe=t(d)}}function ge(ae){if(M=!1,ee(ae),!V)if(t(f)!==null)V=!0,be||(be=!0,P());else{var pe=t(d);pe!==null&&Te(ge,pe.startTime-ae)}}var be=!1,H=-1,O=5,C=-1;function G(){return B?!0:!(n.unstable_now()-C<O)}function I(){if(B=!1,be){var ae=n.unstable_now();C=ae;var pe=!0;try{e:{V=!1,M&&(M=!1,ne(H),H=-1),b=!0;var fe=E;try{t:{for(ee(ae),w=t(f);w!==null&&!(w.expirationTime>ae&&G());){var Le=w.callback;if(typeof Le=="function"){w.callback=null,E=w.priorityLevel;var Ke=Le(w.expirationTime<=ae);if(ae=n.unstable_now(),typeof Ke=="function"){w.callback=Ke,ee(ae),pe=!0;break t}w===t(f)&&r(f),ee(ae)}else r(f);w=t(f)}if(w!==null)pe=!0;else{var J=t(d);J!==null&&Te(ge,J.startTime-ae),pe=!1}}break e}finally{w=null,E=fe,b=!1}pe=void 0}}finally{pe?P():be=!1}}}var P;if(typeof Y=="function")P=function(){Y(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,oe=R.port2;R.port1.onmessage=I,P=function(){oe.postMessage(null)}}else P=function(){U(I,0)};function Te(ae,pe){H=U(function(){ae(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(ae){switch(E){case 1:case 2:case 3:var pe=3;break;default:pe=E}var fe=E;E=pe;try{return ae()}finally{E=fe}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(ae,pe){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var fe=E;E=ae;try{return pe()}finally{E=fe}},n.unstable_scheduleCallback=function(ae,pe,fe){var Le=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Le+fe:Le):fe=Le,ae){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=fe+Ke,ae={id:g++,callback:pe,priorityLevel:ae,startTime:fe,expirationTime:Ke,sortIndex:-1},fe>Le?(ae.sortIndex=fe,e(d,ae),t(f)===null&&ae===t(d)&&(M?(ne(H),H=-1):M=!0,Te(ge,fe-Le))):(ae.sortIndex=Ke,e(f,ae),V||b||(V=!0,be||(be=!0,P()))),ae},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(ae){var pe=E;return function(){var fe=E;E=pe;try{return ae.apply(this,arguments)}finally{E=fe}}}})(A2)),A2}var tw;function LI(){return tw||(tw=1,w2.exports=CI()),w2.exports}var E2={exports:{}},Es={};var nw;function kI(){if(nw)return Es;nw=1;var n=r_();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:w==null?null:""+w,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Es.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Es.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,g)},Es.flushSync=function(f){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=g,r.d.f()}},Es.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Es.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Es.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,w=c(g,d.crossOrigin),E=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:w,integrity:E,fetchPriority:b}):g==="script"&&r.d.X(f,{crossOrigin:w,integrity:E,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Es.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Es.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,w=c(g,d.crossOrigin);r.d.L(f,g,{crossOrigin:w,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Es.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Es.requestFormReset=function(f){r.d.r(f)},Es.unstable_batchedUpdates=function(f,d){return f(d)},Es.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},Es.useFormStatus=function(){return u.H.useHostTransitionStatus()},Es.version="19.2.4",Es}var rw;function DI(){if(rw)return E2.exports;rw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),E2.exports=kI(),E2.exports}var iw;function PI(){if(iw)return sp;iw=1;var n=LI(),e=r_(),t=DI();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,h=a;;){var y=l.return;if(y===null)break;var v=y.alternate;if(v===null){if(h=y.return,h!==null){l=h;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===l)return f(y),i;if(v===h)return f(y),a;v=v.sibling}throw Error(r(188))}if(l.return!==h.return)l=y,h=v;else{for(var N=!1,K=y.child;K;){if(K===l){N=!0,l=y,h=v;break}if(K===h){N=!0,h=y,l=v;break}K=K.sibling}if(!N){for(K=v.child;K;){if(K===l){N=!0,l=v,h=y;break}if(K===h){N=!0,h=v,l=y;break}K=K.sibling}if(!N)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var w=Object.assign,E=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function P(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var R=Symbol.for("react.client.reference");function oe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===R?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case U:return"Profiler";case B:return"StrictMode";case ge:return"Suspense";case be:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case V:return"Portal";case Y:return i.displayName||"Context";case ne:return(i._context.displayName||"Context")+".Consumer";case ee:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case H:return a=i.displayName||null,a!==null?a:oe(i.type)||"Memo";case O:a=i._payload,i=i._init;try{return oe(i(a))}catch{}}return null}var Te=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Le=[],Ke=-1;function J(i){return{current:i}}function k(i){0>Ke||(i.current=Le[Ke],Le[Ke]=null,Ke--)}function $(i,a){Ke++,Le[Ke]=i.current,i.current=a}var Z=J(null),le=J(null),ce=J(null),ye=J(null);function Pe(i,a){switch($(ce,a),$(le,i),$(Z,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?vb(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=vb(a),i=bb(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}k(Z),$(Z,i)}function ke(){k(Z),k(le),k(ce)}function Be(i){i.memoizedState!==null&&$(ye,i);var a=Z.current,l=bb(a,i.type);a!==l&&($(le,i),$(Z,l))}function Je(i){le.current===i&&(k(Z),k(le)),ye.current===i&&(k(ye),ep._currentValue=fe)}var at,st;function dt(i){if(at===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);at=a&&a[1]||"",st=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+at+i+st}var te=!1;function rt(i,a){if(!i||te)return"";te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var $e=function(){throw Error()};if(Object.defineProperty($e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($e,[])}catch(Me){var Oe=Me}Reflect.construct(i,[],$e)}else{try{$e.call()}catch(Me){Oe=Me}i.call($e.prototype)}}else{try{throw Error()}catch(Me){Oe=Me}($e=i())&&typeof $e.catch=="function"&&$e.catch(function(){})}}catch(Me){if(Me&&Oe&&typeof Me.stack=="string")return[Me.stack,Oe.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),N=v[0],K=v[1];if(N&&K){var ue=N.split(`
`),Re=K.split(`
`);for(y=h=0;h<ue.length&&!ue[h].includes("DetermineComponentFrameRoot");)h++;for(;y<Re.length&&!Re[y].includes("DetermineComponentFrameRoot");)y++;if(h===ue.length||y===Re.length)for(h=ue.length-1,y=Re.length-1;1<=h&&0<=y&&ue[h]!==Re[y];)y--;for(;1<=h&&0<=y;h--,y--)if(ue[h]!==Re[y]){if(h!==1||y!==1)do if(h--,y--,0>y||ue[h]!==Re[y]){var Fe=`
`+ue[h].replace(" at new "," at ");return i.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",i.displayName)),Fe}while(1<=h&&0<=y);break}}}finally{te=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?dt(l):""}function Xt(i,a){switch(i.tag){case 26:case 27:case 5:return dt(i.type);case 16:return dt("Lazy");case 13:return i.child!==a&&a!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return rt(i.type,!1);case 11:return rt(i.type.render,!1);case 1:return rt(i.type,!0);case 31:return dt("Activity");default:return""}}function Lt(i){try{var a="",l=null;do a+=Xt(i,l),l=i,i=i.return;while(i);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var ze=Object.prototype.hasOwnProperty,lt=n.unstable_scheduleCallback,ot=n.unstable_cancelCallback,Dt=n.unstable_shouldYield,St=n.unstable_requestPaint,Jt=n.unstable_now,nn=n.unstable_getCurrentPriorityLevel,Ht=n.unstable_ImmediatePriority,un=n.unstable_UserBlockingPriority,en=n.unstable_NormalPriority,bt=n.unstable_LowPriority,Wt=n.unstable_IdlePriority,wt=n.log,_r=n.unstable_setDisableYieldValue,tn=null,kt=null;function Bt(i){if(typeof wt=="function"&&_r(i),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(tn,i)}catch{}}var Zt=Math.clz32?Math.clz32:Ut,It=Math.log,Dn=Math.LN2;function Ut(i){return i>>>=0,i===0?32:31-(It(i)/Dn|0)|0}var Ft=256,Mn=262144,xt=4194304;function At(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function cn(i,a,l){var h=i.pendingLanes;if(h===0)return 0;var y=0,v=i.suspendedLanes,N=i.pingedLanes;i=i.warmLanes;var K=h&134217727;return K!==0?(h=K&~v,h!==0?y=At(h):(N&=K,N!==0?y=At(N):l||(l=K&~i,l!==0&&(y=At(l))))):(K=h&~v,K!==0?y=At(K):N!==0?y=At(N):l||(l=h&~i,l!==0&&(y=At(l)))),y===0?0:a!==0&&a!==y&&(a&v)===0&&(v=y&-y,l=a&-a,v>=l||v===32&&(l&4194048)!==0)?a:y}function wi(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function hi(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qs(){var i=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),i}function ti(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Nt(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function _a(i,a,l,h,y,v){var N=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var K=i.entanglements,ue=i.expirationTimes,Re=i.hiddenUpdates;for(l=N&~l;0<l;){var Fe=31-Zt(l),$e=1<<Fe;K[Fe]=0,ue[Fe]=-1;var Oe=Re[Fe];if(Oe!==null)for(Re[Fe]=null,Fe=0;Fe<Oe.length;Fe++){var Me=Oe[Fe];Me!==null&&(Me.lane&=-536870913)}l&=~$e}h!==0&&ts(i,h,0),v!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=v&~(N&~a))}function ts(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-Zt(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function Vi(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var h=31-Zt(l),y=1<<h;y&a|i[h]&a&&(i[h]|=a),l&=~y}}function ji(i,a){var l=a&-a;return l=(l&42)!==0?1:Gn(l),(l&(i.suspendedLanes|a))!==0?0:l}function Gn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ir(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Gr(){var i=pe.p;return i!==0?i:(i=window.event,i===void 0?32:zb(i.type))}function Ai(i,a){var l=pe.p;try{return pe.p=i,a()}finally{pe.p=l}}var fi=Math.random().toString(36).slice(2),Vn="__reactFiber$"+fi,Wn="__reactProps$"+fi,Kr="__reactContainer$"+fi,Ui="__reactEvents$"+fi,gs="__reactListeners$"+fi,ja="__reactHandles$"+fi,ks="__reactResources$"+fi,Fi="__reactMarker$"+fi;function va(i){delete i[Vn],delete i[Wn],delete i[Ui],delete i[gs],delete i[ja]}function ns(i){var a=i[Vn];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Kr]||l[Vn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=Ib(i);i!==null;){if(l=i[Vn])return l;i=Ib(i)}return a}i=l,l=i.parentNode}return null}function Ei(i){if(i=i[Vn]||i[Kr]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function rs(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function ys(i){var a=i[ks];return a||(a=i[ks]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function br(i){i[Fi]=!0}var Vo=new Set,Bi={};function _s(i,a){Ds(i,a),Ds(i+"Capture",a)}function Ds(i,a){for(Bi[i]=a,i=0;i<a.length;i++)Vo.add(a[i])}var io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},Uo={};function El(i){return ze.call(Uo,i)?!0:ze.call(jo,i)?!1:io.test(i)?Uo[i]=!0:(jo[i]=!0,!1)}function is(i,a,l){if(El(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function di(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Nr(i,a,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+h)}}function pn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ba(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function vs(i,a,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,v=h.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(N){l=""+N,v.call(this,N)}}),Object.defineProperty(i,a,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(N){l=""+N},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function An(i){if(!i._valueTracker){var a=ba(i)?"checked":"value";i._valueTracker=vs(i,a,""+i[a])}}function Ua(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return i&&(h=ba(i)?i.checked?"true":"false":i.value),i=h,i!==l?(a.setValue(i),!0):!1}function jr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var dr=/[\n"\\]/g;function Rr(i){return i.replace(dr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function so(i,a,l,h,y,v,N,K){i.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.type=N:i.removeAttribute("type"),a!=null?N==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+pn(a)):i.value!==""+pn(a)&&(i.value=""+pn(a)):N!=="submit"&&N!=="reset"||i.removeAttribute("value"),a!=null?Sl(i,N,pn(a)):l!=null?Sl(i,N,pn(l)):h!=null&&i.removeAttribute("value"),y==null&&v!=null&&(i.defaultChecked=!!v),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?i.name=""+pn(K):i.removeAttribute("name")}function fu(i,a,l,h,y,v,N,K){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),a!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||a!=null)){An(i);return}l=l!=null?""+pn(l):"",a=a!=null?""+pn(a):l,K||a===i.value||(i.value=a),i.defaultValue=a}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=K?i.checked:!!h,i.defaultChecked=!!h,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.name=N),An(i)}function Sl(i,a,l){a==="number"&&jr(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Si(i,a,l,h){if(i=i.options,a){a={};for(var y=0;y<l.length;y++)a["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=a.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&h&&(i[l].defaultSelected=!0)}else{for(l=""+pn(l),a=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function xl(i,a,l){if(a!=null&&(a=""+pn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+pn(l):""}function wa(i,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(r(92));if(Te(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=pn(a),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),An(i)}function ni(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Fa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(i,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,l):typeof l!="number"||l===0||Fa.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function Il(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in a)h=a[y],a.hasOwnProperty(y)&&l[y]!==h&&Tl(i,y,h)}else for(var v in a)a.hasOwnProperty(v)&&Tl(i,v,a[v])}function Fo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Aa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qi(i){return Aa.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ps(){}var Ea=null;function zi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ba=null,Pt=null;function ao(i){var a=Ei(i);if(a&&(i=a.stateNode)){var l=i[Wn]||null;e:switch(i=a.stateNode,a.type){case"input":if(so(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Rr(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==i&&h.form===i.form){var y=h[Wn]||null;if(!y)throw Error(r(90));so(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===i.form&&Ua(h)}break e;case"textarea":xl(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Si(i,!!l.multiple,a,!1)}}}var qo=!1;function qa(i,a,l){if(qo)return i(a,l);qo=!0;try{var h=i(a);return h}finally{if(qo=!1,(Ba!==null||Pt!==null)&&(zm(),Ba&&(a=Ba,i=Pt,Pt=Ba=null,ao(a),i)))for(a=0;a<i.length;a++)ao(i[a])}}function ri(i,a){var l=i.stateNode;if(l===null)return null;var h=l[Wn]||null;if(h===null)return null;l=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oo=!1;if($r)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){oo=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{oo=!1}var ss=null,lo=null,Os=null;function Nl(){if(Os)return Os;var i,a=lo,l=a.length,h,y="value"in ss?ss.value:ss.textContent,v=y.length;for(i=0;i<l&&a[i]===y[i];i++);var N=l-i;for(h=1;h<=N&&a[l-h]===y[v-h];h++);return Os=y.slice(i,1<h?1-h:void 0)}function as(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Sa(){return!0}function os(){return!1}function Ur(i){function a(l,h,y,v,N){this._reactName=l,this._targetInst=y,this.type=h,this.nativeEvent=v,this.target=N,this.currentTarget=null;for(var K in i)i.hasOwnProperty(K)&&(l=i[K],this[K]=l?l(v):v[K]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Sa:os,this.isPropagationStopped=os,this}return w(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Sa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Sa)},persist:function(){},isPersistent:Sa}),a}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=Ur(zs),Hs=w({},zs,{view:0,detail:0}),za=Ur(Hs),Gs,Ks,bs,uo=w({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==bs&&(bs&&i.type==="mousemove"?(Gs=i.screenX-bs.screenX,Ks=i.screenY-bs.screenY):Ks=Gs=0,bs=i),Gs)},movementY:function(i){return"movementY"in i?i.movementY:Ks}}),zo=Ur(uo),ls=w({},uo,{dataTransfer:0}),$s=Ur(ls),Rl=w({},Hs,{relatedTarget:0}),Ms=Ur(Rl),Ho=w({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),A=Ur(Ho),j=w({},zs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ie=Ur(j),he=w({},zs,{data:0}),ve=Ur(he),Ue={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ye={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ft={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gt(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=ft[i])?!!a[i]:!1}function Mt(){return gt}var Rt=w({},Hs,{key:function(i){if(i.key){var a=Ue[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=as(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ye[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mt,charCode:function(i){return i.type==="keypress"?as(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?as(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),mn=Ur(Rt),sr=w({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kn=Ur(sr),m=w({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mt}),x=Ur(m),L=w({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q=Ur(L),Ae=w({},uo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),De=Ur(Ae),Ze=w({},zs,{newState:0,oldState:0}),$t=Ur(Ze),ar=[9,13,27,32],fn=$r&&"CompositionEvent"in window,Un=null;$r&&"documentMode"in document&&(Un=document.documentMode);var mi=$r&&"TextEvent"in window&&!Un,xi=$r&&(!fn||Un&&8<Un&&11>=Un),Yn=" ",Ti=!1;function Vs(i,a){switch(i){case"keyup":return ar.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ha(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ga=!1;function us(i,a){switch(i){case"compositionend":return Ha(a);case"keypress":return a.which!==32?null:(Ti=!0,Yn);case"textInput":return i=a.data,i===Yn&&Ti?null:i;default:return null}}function co(i,a){if(Ga)return i==="compositionend"||!fn&&Vs(i,a)?(i=Nl(),Os=lo=ss=null,Ga=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return xi&&a.locale!=="ko"?null:a.data;default:return null}}var du={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tc(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!du[i.type]:a==="textarea"}function js(i,a,l,h){Ba?Pt?Pt.push(h):Pt=[h]:Ba=h,a=Qm(a,"onChange"),0<a.length&&(l=new pi("onChange","change",null,l,h),i.push({event:l,listeners:a}))}var xa=null,ho=null;function Ic(i){db(i,0)}function Ta(i){var a=rs(i);if(Ua(a))return i}function Go(i,a){if(i==="change")return a}var ws=!1;if($r){var cs;if($r){var Ka="oninput"in document;if(!Ka){var $a=document.createElement("div");$a.setAttribute("oninput","return;"),Ka=typeof $a.oninput=="function"}cs=Ka}else cs=!1;ws=cs&&(!document.documentMode||9<document.documentMode)}function fo(){xa&&(xa.detachEvent("onpropertychange",pu),ho=xa=null)}function pu(i){if(i.propertyName==="value"&&Ta(ho)){var a=[];js(a,ho,i,zi(i)),qa(Ic,a)}}function mu(i,a,l){i==="focusin"?(fo(),xa=a,ho=l,xa.attachEvent("onpropertychange",pu)):i==="focusout"&&fo()}function Fr(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ta(ho)}function Rh(i,a){if(i==="click")return Ta(a)}function Wa(i,a){if(i==="input"||i==="change")return Ta(a)}function Ya(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Ii=typeof Object.is=="function"?Object.is:Ya;function po(i,a){if(Ii(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var y=l[h];if(!ze.call(a,y)||!Ii(i[y],a[y]))return!1}return!0}function gu(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function yu(i,a){var l=gu(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=a&&h>=a)return{node:l,offset:a-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=gu(l)}}function mo(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?mo(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function go(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=jr(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=jr(i.document)}return a}function Qa(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var Cl=$r&&"documentMode"in document&&11>=document.documentMode,Us=null,yo=null,Hi=null,Ws=!1;function Pn(i,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ws||Us==null||Us!==jr(h)||(h=Us,"selectionStart"in h&&Qa(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Hi&&po(Hi,h)||(Hi=h,h=Qm(yo,"onSelect"),0<h.length&&(a=new pi("onSelect","select",null,a,l),i.push({event:a,listeners:h}),a.target=Us)))}function In(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var or={animationend:In("Animation","AnimationEnd"),animationiteration:In("Animation","AnimationIteration"),animationstart:In("Animation","AnimationStart"),transitionrun:In("Transition","TransitionRun"),transitionstart:In("Transition","TransitionStart"),transitioncancel:In("Transition","TransitionCancel"),transitionend:In("Transition","TransitionEnd")},Br={},Xa={};$r&&(Xa=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);function Ia(i){if(Br[i])return Br[i];if(!or[i])return i;var a=or[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Xa)return Br[i]=a[l];return i}var Ll=Ia("animationend"),Nc=Ia("animationiteration"),Ed=Ia("animationstart"),vm=Ia("transitionrun"),bm=Ia("transitionstart"),wm=Ia("transitioncancel"),Sd=Ia("transitionend"),xd=new Map,kl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kl.push("scrollEnd");function Ys(i,a){xd.set(i,a),_s(a,[i])}var Rc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Fs=[],Dl=0,Ch=0;function Cc(){for(var i=Dl,a=Ch=Dl=0;a<i;){var l=Fs[a];Fs[a++]=null;var h=Fs[a];Fs[a++]=null;var y=Fs[a];Fs[a++]=null;var v=Fs[a];if(Fs[a++]=null,h!==null&&y!==null){var N=h.pending;N===null?y.next=y:(y.next=N.next,N.next=y),h.pending=y}v!==0&&kc(l,y,v)}}function Lc(i,a,l,h){Fs[Dl++]=i,Fs[Dl++]=a,Fs[Dl++]=l,Fs[Dl++]=h,Ch|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Lh(i,a,l,h){return Lc(i,a,l,h),Gi(i)}function _o(i,a){return Lc(i,null,null,a),Gi(i)}function kc(i,a,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var y=!1,v=i.return;v!==null;)v.childLanes|=l,h=v.alternate,h!==null&&(h.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(y=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,y&&a!==null&&(y=31-Zt(l),i=v.hiddenUpdates,h=i[y],h===null?i[y]=[a]:h.push(a),a.lane=l|536870912),v):null}function Gi(i){if(50<$d)throw $d=0,q0=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Ni={};function kh(i,a,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ki(i,a,l,h){return new kh(i,a,l,h)}function Dh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Qs(i,a){var l=i.alternate;return l===null?(l=Ki(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Dc(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function _u(i,a,l,h,y,v){var N=0;if(h=i,typeof i=="function")Dh(i)&&(N=1);else if(typeof i=="string")N=mI(i,l,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=Ki(31,l,a,y),i.elementType=C,i.lanes=v,i;case M:return Ko(l.children,y,v,a);case B:N=8,y|=24;break;case U:return i=Ki(12,l,a,y|2),i.elementType=U,i.lanes=v,i;case ge:return i=Ki(13,l,a,y),i.elementType=ge,i.lanes=v,i;case be:return i=Ki(19,l,a,y),i.elementType=be,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:N=10;break e;case ne:N=9;break e;case ee:N=11;break e;case H:N=14;break e;case O:N=16,h=null;break e}N=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return a=Ki(N,l,a,y),a.elementType=i,a.type=h,a.lanes=v,a}function Ko(i,a,l,h){return i=Ki(7,i,h,a),i.lanes=l,i}function Pc(i,a,l){return i=Ki(6,i,null,a),i.lanes=l,i}function Ph(i){var a=Ki(18,null,null,0);return a.stateNode=i,a}function vu(i,a,l){return a=Ki(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Oh=new WeakMap;function Xs(i,a){if(typeof i=="object"&&i!==null){var l=Oh.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Lt(a)},Oh.set(i,a),a)}return{value:i,source:a,stack:Lt(a)}}var bu=[],Pl=0,Mh=null,Oc=0,Js=[],Zs=0,$o=null,ea=1,ta="";function Bs(i,a){bu[Pl++]=Oc,bu[Pl++]=Mh,Mh=i,Oc=a}function Am(i,a,l){Js[Zs++]=ea,Js[Zs++]=ta,Js[Zs++]=$o,$o=i;var h=ea;i=ta;var y=32-Zt(h)-1;h&=~(1<<y),l+=1;var v=32-Zt(a)+y;if(30<v){var N=y-y%5;v=(h&(1<<N)-1).toString(32),h>>=N,y-=N,ea=1<<32-Zt(a)+y|l<<y|h,ta=v+i}else ea=1<<v|l<<y|h,ta=i}function Td(i){i.return!==null&&(Bs(i,1),Am(i,1,0))}function Vh(i){for(;i===Mh;)Mh=bu[--Pl],bu[Pl]=null,Oc=bu[--Pl],bu[Pl]=null;for(;i===$o;)$o=Js[--Zs],Js[Zs]=null,ta=Js[--Zs],Js[Zs]=null,ea=Js[--Zs],Js[Zs]=null}function Em(i,a){Js[Zs++]=ea,Js[Zs++]=ta,Js[Zs++]=$o,ea=a.id,ta=a.overflow,$o=i}var Ri=null,pr=null,vn=!1,hs=null,Cr=!1,Na=Error(r(519));function Wo(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wu(Xs(a,i)),Na}function Id(i){var a=i.stateNode,l=i.type,h=i.memoizedProps;switch(a[Vn]=i,a[Wn]=h,l){case"dialog":wn("cancel",a),wn("close",a);break;case"iframe":case"object":case"embed":wn("load",a);break;case"video":case"audio":for(l=0;l<Yd.length;l++)wn(Yd[l],a);break;case"source":wn("error",a);break;case"img":case"image":case"link":wn("error",a),wn("load",a);break;case"details":wn("toggle",a);break;case"input":wn("invalid",a),fu(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":wn("invalid",a);break;case"textarea":wn("invalid",a),wa(a,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||yb(a.textContent,l)?(h.popover!=null&&(wn("beforetoggle",a),wn("toggle",a)),h.onScroll!=null&&wn("scroll",a),h.onScrollEnd!=null&&wn("scrollend",a),h.onClick!=null&&(a.onclick=Ps),a=!0):a=!1,a||Wo(i,!0)}function vo(i){for(Ri=i.return;Ri;)switch(Ri.tag){case 5:case 31:case 13:Cr=!1;return;case 27:case 3:Cr=!0;return;default:Ri=Ri.return}}function Ci(i){if(i!==Ri)return!1;if(!vn)return vo(i),vn=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||r2(i.type,i.memoizedProps)),l=!l),l&&pr&&Wo(i),vo(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));pr=Tb(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));pr=Tb(i)}else a===27?(a=pr,Ou(i.type)?(i=l2,l2=null,pr=i):pr=a):pr=Ri?to(i.stateNode.nextSibling):null;return!0}function Ol(){pr=Ri=null,vn=!1}function Nd(){var i=hs;return i!==null&&(oa===null?oa=i:oa.push.apply(oa,i),hs=null),i}function wu(i){hs===null?hs=[i]:hs.push(i)}var jh=J(null),Yo=null,Ja=null;function Qo(i,a,l){$(jh,a._currentValue),a._currentValue=l}function na(i){i._currentValue=jh.current,k(jh)}function Au(i,a,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===l)break;i=i.return}}function Ml(i,a,l,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var v=y.dependencies;if(v!==null){var N=y.child;v=v.firstContext;e:for(;v!==null;){var K=v;v=y;for(var ue=0;ue<a.length;ue++)if(K.context===a[ue]){v.lanes|=l,K=v.alternate,K!==null&&(K.lanes|=l),Au(v.return,l,i),h||(N=null);break e}v=K.next}}else if(y.tag===18){if(N=y.return,N===null)throw Error(r(341));N.lanes|=l,v=N.alternate,v!==null&&(v.lanes|=l),Au(N,l,i),N=null}else N=y.child;if(N!==null)N.return=y;else for(N=y;N!==null;){if(N===i){N=null;break}if(y=N.sibling,y!==null){y.return=N.return,N=y;break}N=N.return}y=N}}function Xo(i,a,l,h){i=null;for(var y=a,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var N=y.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var K=y.type;Ii(y.pendingProps.value,N.value)||(i!==null?i.push(K):i=[K])}}else if(y===ye.current){if(N=y.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(ep):i=[ep])}y=y.return}i!==null&&Ml(a,i,l,h),a.flags|=262144}function Uh(i){for(i=i.firstContext;i!==null;){if(!Ii(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Jo(i){Yo=i,Ja=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Li(i){return Sm(Yo,i)}function Fh(i,a){return Yo===null&&Jo(i),Sm(i,a)}function Sm(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ja===null){if(i===null)throw Error(r(308));Ja=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Ja=Ja.next=a;return l}var o0=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},l0=n.unstable_scheduleCallback,u0=n.unstable_NormalPriority,qr={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eu(){return{controller:new o0,data:new Map,refCount:0}}function Mc(i){i.refCount--,i.refCount===0&&l0(u0,function(){i.controller.abort()})}var Vc=null,Bh=0,p=0,_=null;function S(i,a){if(Vc===null){var l=Vc=[];Bh=0,p=W0(),_={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Bh++,a.then(T,T),a}function T(){if(--Bh===0&&Vc!==null){_!==null&&(_.status="fulfilled");var i=Vc;Vc=null,p=0,_=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function F(i,a){var l=[],h={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var y=0;y<l.length;y++)(0,l[y])(a)},function(y){for(h.status="rejected",h.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),h}var q=ae.S;ae.S=function(i,a){Bv=Jt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&S(i,a),q!==null&&q(i,a)};var z=J(null);function W(){var i=z.current;return i!==null?i:gr.pooledCache}function X(i,a){a===null?$(z,z.current):$(z,a.pool)}function se(){var i=W();return i===null?null:{parent:qr._currentValue,pool:i}}var de=Error(r(460)),Ie=Error(r(474)),re=Error(r(542)),_e={then:function(){}};function Ee(i){return i=i.status,i==="fulfilled"||i==="rejected"}function je(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Ps,Ps),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Xe(i),i;default:if(typeof a.status=="string")a.then(Ps,Ps);else{if(i=gr,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=h}},function(h){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Xe(i),i}throw Ve=a,de}}function xe(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ve=l,de):l}}var Ve=null;function qe(){if(Ve===null)throw Error(r(459));var i=Ve;return Ve=null,i}function Xe(i){if(i===de||i===re)throw Error(r(483))}var We=null,yt=0;function ct(i){var a=yt;return yt+=1,We===null&&(We=[]),je(We,i,a)}function Yt(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function pt(i,a){throw a.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function gn(i){function a(we,me){if(i){var Ne=we.deletions;Ne===null?(we.deletions=[me],we.flags|=16):Ne.push(me)}}function l(we,me){if(!i)return null;for(;me!==null;)a(we,me),me=me.sibling;return null}function h(we){for(var me=new Map;we!==null;)we.key!==null?me.set(we.key,we):me.set(we.index,we),we=we.sibling;return me}function y(we,me){return we=Qs(we,me),we.index=0,we.sibling=null,we}function v(we,me,Ne){return we.index=Ne,i?(Ne=we.alternate,Ne!==null?(Ne=Ne.index,Ne<me?(we.flags|=67108866,me):Ne):(we.flags|=67108866,me)):(we.flags|=1048576,me)}function N(we){return i&&we.alternate===null&&(we.flags|=67108866),we}function K(we,me,Ne,He){return me===null||me.tag!==6?(me=Pc(Ne,we.mode,He),me.return=we,me):(me=y(me,Ne),me.return=we,me)}function ue(we,me,Ne,He){var jt=Ne.type;return jt===M?Fe(we,me,Ne.props.children,He,Ne.key):me!==null&&(me.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===O&&xe(jt)===me.type)?(me=y(me,Ne.props),Yt(me,Ne),me.return=we,me):(me=_u(Ne.type,Ne.key,Ne.props,null,we.mode,He),Yt(me,Ne),me.return=we,me)}function Re(we,me,Ne,He){return me===null||me.tag!==4||me.stateNode.containerInfo!==Ne.containerInfo||me.stateNode.implementation!==Ne.implementation?(me=vu(Ne,we.mode,He),me.return=we,me):(me=y(me,Ne.children||[]),me.return=we,me)}function Fe(we,me,Ne,He,jt){return me===null||me.tag!==7?(me=Ko(Ne,we.mode,He,jt),me.return=we,me):(me=y(me,Ne),me.return=we,me)}function $e(we,me,Ne){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=Pc(""+me,we.mode,Ne),me.return=we,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case b:return Ne=_u(me.type,me.key,me.props,null,we.mode,Ne),Yt(Ne,me),Ne.return=we,Ne;case V:return me=vu(me,we.mode,Ne),me.return=we,me;case O:return me=xe(me),$e(we,me,Ne)}if(Te(me)||P(me))return me=Ko(me,we.mode,Ne,null),me.return=we,me;if(typeof me.then=="function")return $e(we,ct(me),Ne);if(me.$$typeof===Y)return $e(we,Fh(we,me),Ne);pt(we,me)}return null}function Oe(we,me,Ne,He){var jt=me!==null?me.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return jt!==null?null:K(we,me,""+Ne,He);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case b:return Ne.key===jt?ue(we,me,Ne,He):null;case V:return Ne.key===jt?Re(we,me,Ne,He):null;case O:return Ne=xe(Ne),Oe(we,me,Ne,He)}if(Te(Ne)||P(Ne))return jt!==null?null:Fe(we,me,Ne,He,null);if(typeof Ne.then=="function")return Oe(we,me,ct(Ne),He);if(Ne.$$typeof===Y)return Oe(we,me,Fh(we,Ne),He);pt(we,Ne)}return null}function Me(we,me,Ne,He,jt){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return we=we.get(Ne)||null,K(me,we,""+He,jt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case b:return we=we.get(He.key===null?Ne:He.key)||null,ue(me,we,He,jt);case V:return we=we.get(He.key===null?Ne:He.key)||null,Re(me,we,He,jt);case O:return He=xe(He),Me(we,me,Ne,He,jt)}if(Te(He)||P(He))return we=we.get(Ne)||null,Fe(me,we,He,jt,null);if(typeof He.then=="function")return Me(we,me,Ne,ct(He),jt);if(He.$$typeof===Y)return Me(we,me,Ne,Fh(me,He),jt);pt(me,He)}return null}function mt(we,me,Ne,He){for(var jt=null,Fn=null,Et=me,hn=me=0,Sn=null;Et!==null&&hn<Ne.length;hn++){Et.index>hn?(Sn=Et,Et=null):Sn=Et.sibling;var Bn=Oe(we,Et,Ne[hn],He);if(Bn===null){Et===null&&(Et=Sn);break}i&&Et&&Bn.alternate===null&&a(we,Et),me=v(Bn,me,hn),Fn===null?jt=Bn:Fn.sibling=Bn,Fn=Bn,Et=Sn}if(hn===Ne.length)return l(we,Et),vn&&Bs(we,hn),jt;if(Et===null){for(;hn<Ne.length;hn++)Et=$e(we,Ne[hn],He),Et!==null&&(me=v(Et,me,hn),Fn===null?jt=Et:Fn.sibling=Et,Fn=Et);return vn&&Bs(we,hn),jt}for(Et=h(Et);hn<Ne.length;hn++)Sn=Me(Et,we,hn,Ne[hn],He),Sn!==null&&(i&&Sn.alternate!==null&&Et.delete(Sn.key===null?hn:Sn.key),me=v(Sn,me,hn),Fn===null?jt=Sn:Fn.sibling=Sn,Fn=Sn);return i&&Et.forEach(function(Fu){return a(we,Fu)}),vn&&Bs(we,hn),jt}function zt(we,me,Ne,He){if(Ne==null)throw Error(r(151));for(var jt=null,Fn=null,Et=me,hn=me=0,Sn=null,Bn=Ne.next();Et!==null&&!Bn.done;hn++,Bn=Ne.next()){Et.index>hn?(Sn=Et,Et=null):Sn=Et.sibling;var Fu=Oe(we,Et,Bn.value,He);if(Fu===null){Et===null&&(Et=Sn);break}i&&Et&&Fu.alternate===null&&a(we,Et),me=v(Fu,me,hn),Fn===null?jt=Fu:Fn.sibling=Fu,Fn=Fu,Et=Sn}if(Bn.done)return l(we,Et),vn&&Bs(we,hn),jt;if(Et===null){for(;!Bn.done;hn++,Bn=Ne.next())Bn=$e(we,Bn.value,He),Bn!==null&&(me=v(Bn,me,hn),Fn===null?jt=Bn:Fn.sibling=Bn,Fn=Bn);return vn&&Bs(we,hn),jt}for(Et=h(Et);!Bn.done;hn++,Bn=Ne.next())Bn=Me(Et,we,hn,Bn.value,He),Bn!==null&&(i&&Bn.alternate!==null&&Et.delete(Bn.key===null?hn:Bn.key),me=v(Bn,me,hn),Fn===null?jt=Bn:Fn.sibling=Bn,Fn=Bn);return i&&Et.forEach(function(TI){return a(we,TI)}),vn&&Bs(we,hn),jt}function hr(we,me,Ne,He){if(typeof Ne=="object"&&Ne!==null&&Ne.type===M&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case b:e:{for(var jt=Ne.key;me!==null;){if(me.key===jt){if(jt=Ne.type,jt===M){if(me.tag===7){l(we,me.sibling),He=y(me,Ne.props.children),He.return=we,we=He;break e}}else if(me.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===O&&xe(jt)===me.type){l(we,me.sibling),He=y(me,Ne.props),Yt(He,Ne),He.return=we,we=He;break e}l(we,me);break}else a(we,me);me=me.sibling}Ne.type===M?(He=Ko(Ne.props.children,we.mode,He,Ne.key),He.return=we,we=He):(He=_u(Ne.type,Ne.key,Ne.props,null,we.mode,He),Yt(He,Ne),He.return=we,we=He)}return N(we);case V:e:{for(jt=Ne.key;me!==null;){if(me.key===jt)if(me.tag===4&&me.stateNode.containerInfo===Ne.containerInfo&&me.stateNode.implementation===Ne.implementation){l(we,me.sibling),He=y(me,Ne.children||[]),He.return=we,we=He;break e}else{l(we,me);break}else a(we,me);me=me.sibling}He=vu(Ne,we.mode,He),He.return=we,we=He}return N(we);case O:return Ne=xe(Ne),hr(we,me,Ne,He)}if(Te(Ne))return mt(we,me,Ne,He);if(P(Ne)){if(jt=P(Ne),typeof jt!="function")throw Error(r(150));return Ne=jt.call(Ne),zt(we,me,Ne,He)}if(typeof Ne.then=="function")return hr(we,me,ct(Ne),He);if(Ne.$$typeof===Y)return hr(we,me,Fh(we,Ne),He);pt(we,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,me!==null&&me.tag===6?(l(we,me.sibling),He=y(me,Ne),He.return=we,we=He):(l(we,me),He=Pc(Ne,we.mode,He),He.return=we,we=He),N(we)):l(we,me)}return function(we,me,Ne,He){try{yt=0;var jt=hr(we,me,Ne,He);return We=null,jt}catch(Et){if(Et===de||Et===re)throw Et;var Fn=Ki(29,Et,null,we.mode);return Fn.lanes=He,Fn.return=we,Fn}}}var mr=gn(!0),rn=gn(!1),ht=!1;function nt(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wr(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function qt(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function on(i,a,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Hn&2)!==0){var y=h.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),h.pending=a,a=Gi(i),kc(i,null,l),a}return Lc(i,h,a,l),Gi(i)}function qn(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,Vi(i,l)}}function ii(i,a){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var y=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var N={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?y=v=N:v=v.next=N,l=l.next}while(l!==null);v===null?y=v=a:v=v.next=a}else y=v=a;l={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var ki=!1;function lr(){if(ki){var i=_;if(i!==null)throw i}}function Wr(i,a,l,h){ki=!1;var y=i.updateQueue;ht=!1;var v=y.firstBaseUpdate,N=y.lastBaseUpdate,K=y.shared.pending;if(K!==null){y.shared.pending=null;var ue=K,Re=ue.next;ue.next=null,N===null?v=Re:N.next=Re,N=ue;var Fe=i.alternate;Fe!==null&&(Fe=Fe.updateQueue,K=Fe.lastBaseUpdate,K!==N&&(K===null?Fe.firstBaseUpdate=Re:K.next=Re,Fe.lastBaseUpdate=ue))}if(v!==null){var $e=y.baseState;N=0,Fe=Re=ue=null,K=v;do{var Oe=K.lane&-536870913,Me=Oe!==K.lane;if(Me?(En&Oe)===Oe:(h&Oe)===Oe){Oe!==0&&Oe===p&&(ki=!0),Fe!==null&&(Fe=Fe.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var mt=i,zt=K;Oe=a;var hr=l;switch(zt.tag){case 1:if(mt=zt.payload,typeof mt=="function"){$e=mt.call(hr,$e,Oe);break e}$e=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=zt.payload,Oe=typeof mt=="function"?mt.call(hr,$e,Oe):mt,Oe==null)break e;$e=w({},$e,Oe);break e;case 2:ht=!0}}Oe=K.callback,Oe!==null&&(i.flags|=64,Me&&(i.flags|=8192),Me=y.callbacks,Me===null?y.callbacks=[Oe]:Me.push(Oe))}else Me={lane:Oe,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Fe===null?(Re=Fe=Me,ue=$e):Fe=Fe.next=Me,N|=Oe;if(K=K.next,K===null){if(K=y.shared.pending,K===null)break;Me=K,K=Me.next,Me.next=null,y.lastBaseUpdate=Me,y.shared.pending=null}}while(!0);Fe===null&&(ue=$e),y.baseState=ue,y.firstBaseUpdate=Re,y.lastBaseUpdate=Fe,v===null&&(y.shared.lanes=0),Cu|=N,i.lanes=N,i.memoizedState=$e}}function $i(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Yr(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)$i(l[i],a)}var dn=J(null),Rn=J(0);function Ar(i,a){i=Kl,$(Rn,i),$(dn,a),Kl=i|a.baseLanes}function On(){$(Rn,Kl),$(dn,dn.current)}function si(){Kl=Rn.current,k(dn),k(Rn)}var Er=J(null),Cn=null;function zr(i){var a=i.alternate;$(Nn,Nn.current&1),$(Er,i),Cn===null&&(a===null||dn.current!==null||a.memoizedState!==null)&&(Cn=i)}function zn(i){$(Nn,Nn.current),$(Er,i),Cn===null&&(Cn=i)}function Qr(i){i.tag===22?($(Nn,Nn.current),$(Er,i),Cn===null&&(Cn=i)):Xr()}function Xr(){$(Nn,Nn.current),$(Er,Er.current)}function Qn(i){k(Er),Cn===i&&(Cn=null),k(Nn)}var Nn=J(0);function Wi(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||a2(l)||o2(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Lr=0,Ot=null,Vt=null,Ln=null,As=!1,ra=!1,fs=!1,Jr=0,Zo=0,el=null,qh=0;function ur(){throw Error(r(321))}function Rd(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Ii(i[l],a[l]))return!1;return!0}function Cd(i,a,l,h,y,v){return Lr=v,Ot=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ae.H=i===null||i.memoizedState===null?J5:y0,fs=!1,v=l(h,y),fs=!1,ra&&(v=bo(a,l,h,y)),zh(i),v}function zh(i){ae.H=jd;var a=Vt!==null&&Vt.next!==null;if(Lr=0,Ln=Vt=Ot=null,As=!1,Zo=0,el=null,a)throw Error(r(300));i===null||yi||(i=i.dependencies,i!==null&&Uh(i)&&(yi=!0))}function bo(i,a,l,h){Ot=i;var y=0;do{if(ra&&(el=null),Zo=0,ra=!1,25<=y)throw Error(r(301));if(y+=1,Ln=Vt=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}ae.H=Z5,v=a(l,h)}while(ra);return v}function c0(){var i=ae.H,a=i.useState()[0];return a=typeof a.then=="function"?tl(a):a,i=i.useState()[0],(Vt!==null?Vt.memoizedState:null)!==i&&(Ot.flags|=1024),a}function Ld(){var i=Jr!==0;return Jr=0,i}function kd(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Hh(i){if(As){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}As=!1}Lr=0,Ln=Vt=Ot=null,ra=!1,Zo=Jr=0,el=null}function gi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?Ot.memoizedState=Ln=i:Ln=Ln.next=i,Ln}function kr(){if(Vt===null){var i=Ot.alternate;i=i!==null?i.memoizedState:null}else i=Vt.next;var a=Ln===null?Ot.memoizedState:Ln.next;if(a!==null)Ln=a,Vt=i;else{if(i===null)throw Ot.alternate===null?Error(r(467)):Error(r(310));Vt=i,i={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Ln===null?Ot.memoizedState=Ln=i:Ln=Ln.next=i}return Ln}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(i){var a=Zo;return Zo+=1,el===null&&(el=[]),i=je(el,i,a),a=Ot,(Ln===null?a.memoizedState:Ln.next)===null&&(a=a.alternate,ae.H=a===null||a.memoizedState===null?J5:y0),i}function Su(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return tl(i);if(i.$$typeof===Y)return Li(i)}throw Error(r(438,String(i)))}function Vl(i){var a=null,l=Ot.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=Ot.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=jc(),Ot.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),h=0;h<i;h++)l[h]=G;return a.index++,l}function Za(i,a){return typeof a=="function"?a(i):a}function Gh(i){var a=kr();return xu(a,Vt,i)}function xu(i,a,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var y=i.baseQueue,v=h.pending;if(v!==null){if(y!==null){var N=y.next;y.next=v.next,v.next=N}a.baseQueue=y=v,h.pending=null}if(v=i.baseState,y===null)i.memoizedState=v;else{a=y.next;var K=N=null,ue=null,Re=a,Fe=!1;do{var $e=Re.lane&-536870913;if($e!==Re.lane?(En&$e)===$e:(Lr&$e)===$e){var Oe=Re.revertLane;if(Oe===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),$e===p&&(Fe=!0);else if((Lr&Oe)===Oe){Re=Re.next,Oe===p&&(Fe=!0);continue}else $e={lane:0,revertLane:Re.revertLane,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},ue===null?(K=ue=$e,N=v):ue=ue.next=$e,Ot.lanes|=Oe,Cu|=Oe;$e=Re.action,fs&&l(v,$e),v=Re.hasEagerState?Re.eagerState:l(v,$e)}else Oe={lane:$e,revertLane:Re.revertLane,gesture:Re.gesture,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},ue===null?(K=ue=Oe,N=v):ue=ue.next=Oe,Ot.lanes|=$e,Cu|=$e;Re=Re.next}while(Re!==null&&Re!==a);if(ue===null?N=v:ue.next=K,!Ii(v,i.memoizedState)&&(yi=!0,Fe&&(l=_,l!==null)))throw l;i.memoizedState=v,i.baseState=N,i.baseQueue=ue,h.lastRenderedState=v}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Kh(i){var a=kr(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,y=l.pending,v=a.memoizedState;if(y!==null){l.pending=null;var N=y=y.next;do v=i(v,N.action),N=N.next;while(N!==y);Ii(v,a.memoizedState)||(yi=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),l.lastRenderedState=v}return[v,h]}function $h(i,a,l){var h=Ot,y=kr(),v=vn;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=a();var N=!Ii((Vt||y).memoizedState,l);if(N&&(y.memoizedState=l,yi=!0),y=y.queue,h0(Pd.bind(null,h,y,i),[i]),y.getSnapshot!==a||N||Ln!==null&&Ln.memoizedState.tag&1){if(h.flags|=2048,Ul(9,{destroy:void 0},Dd.bind(null,h,y,l,a),null),gr===null)throw Error(r(349));v||(Lr&127)!==0||wo(h,a,l)}return l}function wo(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Ot.updateQueue,a===null?(a=jc(),Ot.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function Dd(i,a,l,h){a.value=l,a.getSnapshot=h,xm(a)&&Od(i)}function Pd(i,a,l){return l(function(){xm(a)&&Od(i)})}function xm(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Ii(i,l)}catch{return!0}}function Od(i){var a=_o(i,2);a!==null&&la(a,i,2)}function nl(i){var a=gi();if(typeof i=="function"){var l=i;if(i=l(),fs){Bt(!0);try{l()}finally{Bt(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:i},a}function Tm(i,a,l,h){return i.baseState=l,xu(i,Vt,typeof h=="function"?h:Za)}function Im(i,a,l,h,y){if(Lm(i))throw Error(r(485));if(i=a.action,i!==null){var v={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){v.listeners.push(N)}};ae.T!==null?l(!0):v.isTransition=!1,h(v),l=a.pending,l===null?(v.next=a.pending=v,Nm(a,v)):(v.next=l.next,a.pending=l.next=v)}}function Nm(i,a){var l=a.action,h=a.payload,y=i.state;if(a.isTransition){var v=ae.T,N={};ae.T=N;try{var K=l(y,h),ue=ae.S;ue!==null&&ue(N,K),Md(i,a,K)}catch(Re){jl(i,a,Re)}finally{v!==null&&N.types!==null&&(v.types=N.types),ae.T=v}}else try{v=l(y,h),Md(i,a,v)}catch(Re){jl(i,a,Re)}}function Md(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Rm(i,a,h)},function(h){return jl(i,a,h)}):Rm(i,a,l)}function Rm(i,a,l){a.status="fulfilled",a.value=l,Wh(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,Nm(i,l)))}function jl(i,a,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,Wh(a),a=a.next;while(a!==h)}i.action=null}function Wh(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Uc(i,a){return a}function eo(i,a){if(vn){var l=gr.formState;if(l!==null){e:{var h=Ot;if(vn){if(pr){t:{for(var y=pr,v=Cr;y.nodeType!==8;){if(!v){y=null;break t}if(y=to(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){pr=to(y.nextSibling),h=y.data==="F!";break e}}Wo(h)}h=!1}h&&(a=l[0])}}return l=gi(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:a},l.queue=h,l=Y5.bind(null,Ot,h),h.dispatch=l,h=nl(!1),v=g0.bind(null,Ot,!1,h.queue),h=gi(),y={state:a,dispatch:null,action:i,pending:null},h.queue=y,l=Im.bind(null,Ot,y,v,l),y.dispatch=l,h.memoizedState=i,[a,l,!1]}function Ao(i){var a=kr();return Eo(a,Vt,i)}function Eo(i,a,l){if(a=xu(i,a,Uc)[0],i=Gh(Za)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=tl(a)}catch(N){throw N===de?re:N}else h=a;a=kr();var y=a.queue,v=y.dispatch;return l!==a.memoizedState&&(Ot.flags|=2048,Ul(9,{destroy:void 0},Yh.bind(null,y,l),null)),[h,v,i]}function Yh(i,a){i.action=a}function Qh(i){var a=kr(),l=Vt;if(l!==null)return Eo(a,l,i);kr(),a=a.memoizedState,l=kr();var h=l.queue.dispatch;return l.memoizedState=i,[a,h,!1]}function Ul(i,a,l,h){return i={tag:i,create:l,deps:h,inst:a,next:null},a=Ot.updateQueue,a===null&&(a=jc(),Ot.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,a.lastEffect=i),i}function Cm(){return kr().memoizedState}function Tu(i,a,l,h){var y=gi();Ot.flags|=i,y.memoizedState=Ul(1|a,{destroy:void 0},l,h===void 0?null:h)}function Iu(i,a,l,h){var y=kr();h=h===void 0?null:h;var v=y.memoizedState.inst;Vt!==null&&h!==null&&Rd(h,Vt.memoizedState.deps)?y.memoizedState=Ul(a,v,l,h):(Ot.flags|=i,y.memoizedState=Ul(1|a,v,l,h))}function O5(i,a){Tu(8390656,8,i,a)}function h0(i,a){Iu(2048,8,i,a)}function b6(i){Ot.flags|=4;var a=Ot.updateQueue;if(a===null)a=jc(),Ot.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function M5(i){var a=kr().memoizedState;return b6({ref:a,nextImpl:i}),function(){if((Hn&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function V5(i,a){return Iu(4,2,i,a)}function j5(i,a){return Iu(4,4,i,a)}function U5(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function F5(i,a,l){l=l!=null?l.concat([i]):null,Iu(4,4,U5.bind(null,a,i),l)}function f0(){}function B5(i,a){var l=kr();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&Rd(a,h[1])?h[0]:(l.memoizedState=[i,a],i)}function q5(i,a){var l=kr();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&Rd(a,h[1]))return h[0];if(h=i(),fs){Bt(!0);try{i()}finally{Bt(!1)}}return l.memoizedState=[h,a],h}function d0(i,a,l){return l===void 0||(Lr&1073741824)!==0&&(En&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=zv(),Ot.lanes|=i,Cu|=i,l)}function z5(i,a,l,h){return Ii(l,a)?l:dn.current!==null?(i=d0(i,l,h),Ii(i,a)||(yi=!0),i):(Lr&42)===0||(Lr&1073741824)!==0&&(En&261930)===0?(yi=!0,i.memoizedState=l):(i=zv(),Ot.lanes|=i,Cu|=i,a)}function H5(i,a,l,h,y){var v=pe.p;pe.p=v!==0&&8>v?v:8;var N=ae.T,K={};ae.T=K,g0(i,!1,a,l);try{var ue=y(),Re=ae.S;if(Re!==null&&Re(K,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Fe=F(ue,h);Vd(i,a,Fe,La(i))}else Vd(i,a,h,La(i))}catch($e){Vd(i,a,{then:function(){},status:"rejected",reason:$e},La())}finally{pe.p=v,N!==null&&K.types!==null&&(N.types=K.types),ae.T=N}}function w6(){}function p0(i,a,l,h){if(i.tag!==5)throw Error(r(476));var y=G5(i).queue;H5(i,y,a,fe,l===null?w6:function(){return K5(i),l(h)})}function G5(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:fe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function K5(i){var a=G5(i);a.next===null&&(a=i.alternate.memoizedState),Vd(i,a.next.queue,{},La())}function m0(){return Li(ep)}function $5(){return kr().memoizedState}function W5(){return kr().memoizedState}function A6(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=La();i=qt(l);var h=on(a,i,l);h!==null&&(la(h,a,l),qn(h,a,l)),a={cache:Eu()},i.payload=a;return}a=a.return}}function E6(i,a,l){var h=La();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Lm(i)?Q5(a,l):(l=Lh(i,a,l,h),l!==null&&(la(l,i,h),X5(l,a,h)))}function Y5(i,a,l){var h=La();Vd(i,a,l,h)}function Vd(i,a,l,h){var y={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Lm(i))Q5(a,y);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var N=a.lastRenderedState,K=v(N,l);if(y.hasEagerState=!0,y.eagerState=K,Ii(K,N))return Lc(i,a,y,0),gr===null&&Cc(),!1}catch{}if(l=Lh(i,a,y,h),l!==null)return la(l,i,h),X5(l,a,h),!0}return!1}function g0(i,a,l,h){if(h={lane:2,revertLane:W0(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Lm(i)){if(a)throw Error(r(479))}else a=Lh(i,l,h,2),a!==null&&la(a,i,2)}function Lm(i){var a=i.alternate;return i===Ot||a!==null&&a===Ot}function Q5(i,a){ra=As=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function X5(i,a,l){if((l&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,Vi(i,l)}}var jd={readContext:Li,use:Su,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useInsertionEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useSyncExternalStore:ur,useId:ur,useHostTransitionStatus:ur,useFormState:ur,useActionState:ur,useOptimistic:ur,useMemoCache:ur,useCacheRefresh:ur};jd.useEffectEvent=ur;var J5={readContext:Li,use:Su,useCallback:function(i,a){return gi().memoizedState=[i,a===void 0?null:a],i},useContext:Li,useEffect:O5,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,Tu(4194308,4,U5.bind(null,a,i),l)},useLayoutEffect:function(i,a){return Tu(4194308,4,i,a)},useInsertionEffect:function(i,a){Tu(4,2,i,a)},useMemo:function(i,a){var l=gi();a=a===void 0?null:a;var h=i();if(fs){Bt(!0);try{i()}finally{Bt(!1)}}return l.memoizedState=[h,a],h},useReducer:function(i,a,l){var h=gi();if(l!==void 0){var y=l(a);if(fs){Bt(!0);try{l(a)}finally{Bt(!1)}}}else y=a;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=E6.bind(null,Ot,i),[h.memoizedState,i]},useRef:function(i){var a=gi();return i={current:i},a.memoizedState=i},useState:function(i){i=nl(i);var a=i.queue,l=Y5.bind(null,Ot,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:f0,useDeferredValue:function(i,a){var l=gi();return d0(l,i,a)},useTransition:function(){var i=nl(!1);return i=H5.bind(null,Ot,i.queue,!0,!1),gi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var h=Ot,y=gi();if(vn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),gr===null)throw Error(r(349));(En&127)!==0||wo(h,a,l)}y.memoizedState=l;var v={value:l,getSnapshot:a};return y.queue=v,O5(Pd.bind(null,h,v,i),[i]),h.flags|=2048,Ul(9,{destroy:void 0},Dd.bind(null,h,v,l,a),null),l},useId:function(){var i=gi(),a=gr.identifierPrefix;if(vn){var l=ta,h=ea;l=(h&~(1<<32-Zt(h)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Jr++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=qh++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:m0,useFormState:eo,useActionState:eo,useOptimistic:function(i){var a=gi();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=g0.bind(null,Ot,!0,l),l.dispatch=a,[i,a]},useMemoCache:Vl,useCacheRefresh:function(){return gi().memoizedState=A6.bind(null,Ot)},useEffectEvent:function(i){var a=gi(),l={impl:i};return a.memoizedState=l,function(){if((Hn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},y0={readContext:Li,use:Su,useCallback:B5,useContext:Li,useEffect:h0,useImperativeHandle:F5,useInsertionEffect:V5,useLayoutEffect:j5,useMemo:q5,useReducer:Gh,useRef:Cm,useState:function(){return Gh(Za)},useDebugValue:f0,useDeferredValue:function(i,a){var l=kr();return z5(l,Vt.memoizedState,i,a)},useTransition:function(){var i=Gh(Za)[0],a=kr().memoizedState;return[typeof i=="boolean"?i:tl(i),a]},useSyncExternalStore:$h,useId:$5,useHostTransitionStatus:m0,useFormState:Ao,useActionState:Ao,useOptimistic:function(i,a){var l=kr();return Tm(l,Vt,i,a)},useMemoCache:Vl,useCacheRefresh:W5};y0.useEffectEvent=M5;var Z5={readContext:Li,use:Su,useCallback:B5,useContext:Li,useEffect:h0,useImperativeHandle:F5,useInsertionEffect:V5,useLayoutEffect:j5,useMemo:q5,useReducer:Kh,useRef:Cm,useState:function(){return Kh(Za)},useDebugValue:f0,useDeferredValue:function(i,a){var l=kr();return Vt===null?d0(l,i,a):z5(l,Vt.memoizedState,i,a)},useTransition:function(){var i=Kh(Za)[0],a=kr().memoizedState;return[typeof i=="boolean"?i:tl(i),a]},useSyncExternalStore:$h,useId:$5,useHostTransitionStatus:m0,useFormState:Qh,useActionState:Qh,useOptimistic:function(i,a){var l=kr();return Vt!==null?Tm(l,Vt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Vl,useCacheRefresh:W5};Z5.useEffectEvent=M5;function _0(i,a,l,h){a=i.memoizedState,l=l(h,a),l=l==null?a:w({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var v0={enqueueSetState:function(i,a,l){i=i._reactInternals;var h=La(),y=qt(h);y.payload=a,l!=null&&(y.callback=l),a=on(i,y,h),a!==null&&(la(a,i,h),qn(a,i,h))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var h=La(),y=qt(h);y.tag=1,y.payload=a,l!=null&&(y.callback=l),a=on(i,y,h),a!==null&&(la(a,i,h),qn(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=La(),h=qt(l);h.tag=2,a!=null&&(h.callback=a),a=on(i,h,l),a!==null&&(la(a,i,l),qn(a,i,l))}};function ev(i,a,l,h,y,v,N){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,N):a.prototype&&a.prototype.isPureReactComponent?!po(l,h)||!po(y,v):!0}function tv(i,a,l,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==i&&v0.enqueueReplaceState(a,a.state,null)}function Fc(i,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(i=i.defaultProps){l===a&&(l=w({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function nv(i){Rc(i)}function rv(i){console.error(i)}function iv(i){Rc(i)}function km(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function sv(i,a,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function b0(i,a,l){return l=qt(l),l.tag=3,l.payload={element:null},l.callback=function(){km(i,a)},l}function av(i){return i=qt(i),i.tag=3,i}function ov(i,a,l,h){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var v=h.value;i.payload=function(){return y(v)},i.callback=function(){sv(a,l,h)}}var N=l.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(i.callback=function(){sv(a,l,h),typeof y!="function"&&(Lu===null?Lu=new Set([this]):Lu.add(this));var K=h.stack;this.componentDidCatch(h.value,{componentStack:K!==null?K:""})})}function S6(i,a,l,h,y){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&Xo(a,l,y,!0),l=Er.current,l!==null){switch(l.tag){case 31:case 13:return Cn===null?Hm():l.alternate===null&&Zr===0&&(Zr=3),l.flags&=-257,l.flags|=65536,l.lanes=y,h===_e?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),G0(i,h,y)),!1;case 22:return l.flags|=65536,h===_e?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),G0(i,h,y)),!1}throw Error(r(435,l.tag))}return G0(i,h,y),Hm(),!1}if(vn)return a=Er.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,h!==Na&&(i=Error(r(422),{cause:h}),wu(Xs(i,l)))):(h!==Na&&(a=Error(r(423),{cause:h}),wu(Xs(a,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=Xs(h,l),y=b0(i.stateNode,h,y),ii(i,y),Zr!==4&&(Zr=2)),!1;var v=Error(r(520),{cause:h});if(v=Xs(v,l),Kd===null?Kd=[v]:Kd.push(v),Zr!==4&&(Zr=2),a===null)return!0;h=Xs(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=b0(l.stateNode,h,i),ii(l,i),!1;case 1:if(a=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Lu===null||!Lu.has(v))))return l.flags|=65536,y&=-y,l.lanes|=y,y=av(y),ov(y,i,l,h),ii(l,y),!1}l=l.return}while(l!==null);return!1}var w0=Error(r(461)),yi=!1;function ds(i,a,l,h){a.child=i===null?rn(a,null,l,h):mr(a,i.child,l,h)}function lv(i,a,l,h,y){l=l.render;var v=a.ref;if("ref"in h){var N={};for(var K in h)K!=="ref"&&(N[K]=h[K])}else N=h;return Jo(a),h=Cd(i,a,l,N,v,y),K=Ld(),i!==null&&!yi?(kd(i,a,y),Fl(i,a,y)):(vn&&K&&Td(a),a.flags|=1,ds(i,a,h,y),a.child)}function uv(i,a,l,h,y){if(i===null){var v=l.type;return typeof v=="function"&&!Dh(v)&&v.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=v,cv(i,a,v,h,y)):(i=_u(l.type,null,h,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(v=i.child,!R0(i,y)){var N=v.memoizedProps;if(l=l.compare,l=l!==null?l:po,l(N,h)&&i.ref===a.ref)return Fl(i,a,y)}return a.flags|=1,i=Qs(v,h),i.ref=a.ref,i.return=a,a.child=i}function cv(i,a,l,h,y){if(i!==null){var v=i.memoizedProps;if(po(v,h)&&i.ref===a.ref)if(yi=!1,a.pendingProps=h=v,R0(i,y))(i.flags&131072)!==0&&(yi=!0);else return a.lanes=i.lanes,Fl(i,a,y)}return A0(i,a,l,h,y)}function hv(i,a,l,h){var y=h.children,v=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,i!==null){for(h=a.child=i.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~v}else h=0,a.child=null;return fv(i,a,v,l,h)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&X(a,v!==null?v.cachePool:null),v!==null?Ar(a,v):On(),Qr(a);else return h=a.lanes=536870912,fv(i,a,v!==null?v.baseLanes|l:l,l,h)}else v!==null?(X(a,v.cachePool),Ar(a,v),Xr(),a.memoizedState=null):(i!==null&&X(a,null),On(),Xr());return ds(i,a,y,l),a.child}function Ud(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function fv(i,a,l,h,y){var v=W();return v=v===null?null:{parent:qr._currentValue,pool:v},a.memoizedState={baseLanes:l,cachePool:v},i!==null&&X(a,null),On(),Qr(a),i!==null&&Xo(i,a,h,!0),a.childLanes=y,null}function Dm(i,a){return a=Om({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function dv(i,a,l){return mr(a,i.child,null,l),i=Dm(a,a.pendingProps),i.flags|=2,Qn(a),a.memoizedState=null,i}function x6(i,a,l){var h=a.pendingProps,y=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(vn){if(h.mode==="hidden")return i=Dm(a,h),a.lanes=536870912,Ud(null,i);if(zn(a),(i=pr)?(i=xb(i,Cr),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:$o!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},l=Ph(i),l.return=a,a.child=l,Ri=a,pr=null)):i=null,i===null)throw Wo(a);return a.lanes=536870912,null}return Dm(a,h)}var v=i.memoizedState;if(v!==null){var N=v.dehydrated;if(zn(a),y)if(a.flags&256)a.flags&=-257,a=dv(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(yi||Xo(i,a,l,!1),y=(l&i.childLanes)!==0,yi||y){if(h=gr,h!==null&&(N=ji(h,l),N!==0&&N!==v.retryLane))throw v.retryLane=N,_o(i,N),la(h,i,N),w0;Hm(),a=dv(i,a,l)}else i=v.treeContext,pr=to(N.nextSibling),Ri=a,vn=!0,hs=null,Cr=!1,i!==null&&Em(a,i),a=Dm(a,h),a.flags|=4096;return a}return i=Qs(i.child,{mode:h.mode,children:h.children}),i.ref=a.ref,a.child=i,i.return=a,i}function Pm(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function A0(i,a,l,h,y){return Jo(a),l=Cd(i,a,l,h,void 0,y),h=Ld(),i!==null&&!yi?(kd(i,a,y),Fl(i,a,y)):(vn&&h&&Td(a),a.flags|=1,ds(i,a,l,y),a.child)}function pv(i,a,l,h,y,v){return Jo(a),a.updateQueue=null,l=bo(a,h,l,y),zh(i),h=Ld(),i!==null&&!yi?(kd(i,a,v),Fl(i,a,v)):(vn&&h&&Td(a),a.flags|=1,ds(i,a,l,v),a.child)}function mv(i,a,l,h,y){if(Jo(a),a.stateNode===null){var v=Ni,N=l.contextType;typeof N=="object"&&N!==null&&(v=Li(N)),v=new l(h,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=v0,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=h,v.state=a.memoizedState,v.refs={},nt(a),N=l.contextType,v.context=typeof N=="object"&&N!==null?Li(N):Ni,v.state=a.memoizedState,N=l.getDerivedStateFromProps,typeof N=="function"&&(_0(a,l,N,h),v.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(N=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),N!==v.state&&v0.enqueueReplaceState(v,v.state,null),Wr(a,h,v,y),lr(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){v=a.stateNode;var K=a.memoizedProps,ue=Fc(l,K);v.props=ue;var Re=v.context,Fe=l.contextType;N=Ni,typeof Fe=="object"&&Fe!==null&&(N=Li(Fe));var $e=l.getDerivedStateFromProps;Fe=typeof $e=="function"||typeof v.getSnapshotBeforeUpdate=="function",K=a.pendingProps!==K,Fe||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(K||Re!==N)&&tv(a,v,h,N),ht=!1;var Oe=a.memoizedState;v.state=Oe,Wr(a,h,v,y),lr(),Re=a.memoizedState,K||Oe!==Re||ht?(typeof $e=="function"&&(_0(a,l,$e,h),Re=a.memoizedState),(ue=ht||ev(a,l,ue,h,Oe,Re,N))?(Fe||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Re),v.props=h,v.state=Re,v.context=N,h=ue):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{v=a.stateNode,wr(i,a),N=a.memoizedProps,Fe=Fc(l,N),v.props=Fe,$e=a.pendingProps,Oe=v.context,Re=l.contextType,ue=Ni,typeof Re=="object"&&Re!==null&&(ue=Li(Re)),K=l.getDerivedStateFromProps,(Re=typeof K=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N!==$e||Oe!==ue)&&tv(a,v,h,ue),ht=!1,Oe=a.memoizedState,v.state=Oe,Wr(a,h,v,y),lr();var Me=a.memoizedState;N!==$e||Oe!==Me||ht||i!==null&&i.dependencies!==null&&Uh(i.dependencies)?(typeof K=="function"&&(_0(a,l,K,h),Me=a.memoizedState),(Fe=ht||ev(a,l,Fe,h,Oe,Me,ue)||i!==null&&i.dependencies!==null&&Uh(i.dependencies))?(Re||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,Me,ue),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,Me,ue)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||N===i.memoizedProps&&Oe===i.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&Oe===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Me),v.props=h,v.state=Me,v.context=ue,h=Fe):(typeof v.componentDidUpdate!="function"||N===i.memoizedProps&&Oe===i.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&Oe===i.memoizedState||(a.flags|=1024),h=!1)}return v=h,Pm(i,a),h=(a.flags&128)!==0,v||h?(v=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,i!==null&&h?(a.child=mr(a,i.child,null,y),a.child=mr(a,null,l,y)):ds(i,a,l,y),a.memoizedState=v.state,i=a.child):i=Fl(i,a,y),i}function gv(i,a,l,h){return Ol(),a.flags|=256,ds(i,a,l,h),a.child}var E0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function S0(i){return{baseLanes:i,cachePool:se()}}function x0(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Ca),i}function yv(i,a,l){var h=a.pendingProps,y=!1,v=(a.flags&128)!==0,N;if((N=v)||(N=i!==null&&i.memoizedState===null?!1:(Nn.current&2)!==0),N&&(y=!0,a.flags&=-129),N=(a.flags&32)!==0,a.flags&=-33,i===null){if(vn){if(y?zr(a):Xr(),(i=pr)?(i=xb(i,Cr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:$o!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},l=Ph(i),l.return=a,a.child=l,Ri=a,pr=null)):i=null,i===null)throw Wo(a);return o2(i)?a.lanes=32:a.lanes=536870912,null}var K=h.children;return h=h.fallback,y?(Xr(),y=a.mode,K=Om({mode:"hidden",children:K},y),h=Ko(h,y,l,null),K.return=a,h.return=a,K.sibling=h,a.child=K,h=a.child,h.memoizedState=S0(l),h.childLanes=x0(i,N,l),a.memoizedState=E0,Ud(null,h)):(zr(a),T0(a,K))}var ue=i.memoizedState;if(ue!==null&&(K=ue.dehydrated,K!==null)){if(v)a.flags&256?(zr(a),a.flags&=-257,a=I0(i,a,l)):a.memoizedState!==null?(Xr(),a.child=i.child,a.flags|=128,a=null):(Xr(),K=h.fallback,y=a.mode,h=Om({mode:"visible",children:h.children},y),K=Ko(K,y,l,null),K.flags|=2,h.return=a,K.return=a,h.sibling=K,a.child=h,mr(a,i.child,null,l),h=a.child,h.memoizedState=S0(l),h.childLanes=x0(i,N,l),a.memoizedState=E0,a=Ud(null,h));else if(zr(a),o2(K)){if(N=K.nextSibling&&K.nextSibling.dataset,N)var Re=N.dgst;N=Re,h=Error(r(419)),h.stack="",h.digest=N,wu({value:h,source:null,stack:null}),a=I0(i,a,l)}else if(yi||Xo(i,a,l,!1),N=(l&i.childLanes)!==0,yi||N){if(N=gr,N!==null&&(h=ji(N,l),h!==0&&h!==ue.retryLane))throw ue.retryLane=h,_o(i,h),la(N,i,h),w0;a2(K)||Hm(),a=I0(i,a,l)}else a2(K)?(a.flags|=192,a.child=i.child,a=null):(i=ue.treeContext,pr=to(K.nextSibling),Ri=a,vn=!0,hs=null,Cr=!1,i!==null&&Em(a,i),a=T0(a,h.children),a.flags|=4096);return a}return y?(Xr(),K=h.fallback,y=a.mode,ue=i.child,Re=ue.sibling,h=Qs(ue,{mode:"hidden",children:h.children}),h.subtreeFlags=ue.subtreeFlags&65011712,Re!==null?K=Qs(Re,K):(K=Ko(K,y,l,null),K.flags|=2),K.return=a,h.return=a,h.sibling=K,a.child=h,Ud(null,h),h=a.child,K=i.child.memoizedState,K===null?K=S0(l):(y=K.cachePool,y!==null?(ue=qr._currentValue,y=y.parent!==ue?{parent:ue,pool:ue}:y):y=se(),K={baseLanes:K.baseLanes|l,cachePool:y}),h.memoizedState=K,h.childLanes=x0(i,N,l),a.memoizedState=E0,Ud(i.child,h)):(zr(a),l=i.child,i=l.sibling,l=Qs(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,i!==null&&(N=a.deletions,N===null?(a.deletions=[i],a.flags|=16):N.push(i)),a.child=l,a.memoizedState=null,l)}function T0(i,a){return a=Om({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Om(i,a){return i=Ki(22,i,null,a),i.lanes=0,i}function I0(i,a,l){return mr(a,i.child,null,l),i=T0(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function _v(i,a,l){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),Au(i.return,a,l)}function N0(i,a,l,h,y,v){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:y,treeForkCount:v}:(N.isBackwards=a,N.rendering=null,N.renderingStartTime=0,N.last=h,N.tail=l,N.tailMode=y,N.treeForkCount=v)}function vv(i,a,l){var h=a.pendingProps,y=h.revealOrder,v=h.tail;h=h.children;var N=Nn.current,K=(N&2)!==0;if(K?(N=N&1|2,a.flags|=128):N&=1,$(Nn,N),ds(i,a,h,l),h=vn?Oc:0,!K&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&_v(i,l,a);else if(i.tag===19)_v(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=a.child,y=null;l!==null;)i=l.alternate,i!==null&&Wi(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=a.child,a.child=null):(y=l.sibling,l.sibling=null),N0(a,!1,y,l,v,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&Wi(i)===null){a.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}N0(a,!0,l,null,v,h);break;case"together":N0(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Fl(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),Cu|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Xo(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Qs(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Qs(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function R0(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Uh(i)))}function T6(i,a,l){switch(a.tag){case 3:Pe(a,a.stateNode.containerInfo),Qo(a,qr,i.memoizedState.cache),Ol();break;case 27:case 5:Be(a);break;case 4:Pe(a,a.stateNode.containerInfo);break;case 10:Qo(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,zn(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(zr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?yv(i,a,l):(zr(a),i=Fl(i,a,l),i!==null?i.sibling:null);zr(a);break;case 19:var y=(i.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(Xo(i,a,l,!1),h=(l&a.childLanes)!==0),y){if(h)return vv(i,a,l);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),$(Nn,Nn.current),h)break;return null;case 22:return a.lanes=0,hv(i,a,l,a.pendingProps);case 24:Qo(a,qr,i.memoizedState.cache)}return Fl(i,a,l)}function bv(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)yi=!0;else{if(!R0(i,l)&&(a.flags&128)===0)return yi=!1,T6(i,a,l);yi=(i.flags&131072)!==0}else yi=!1,vn&&(a.flags&1048576)!==0&&Am(a,Oc,a.index);switch(a.lanes=0,a.tag){case 16:e:{var h=a.pendingProps;if(i=xe(a.elementType),a.type=i,typeof i=="function")Dh(i)?(h=Fc(i,h),a.tag=1,a=mv(null,a,i,h,l)):(a.tag=0,a=A0(null,a,i,h,l));else{if(i!=null){var y=i.$$typeof;if(y===ee){a.tag=11,a=lv(null,a,i,h,l);break e}else if(y===H){a.tag=14,a=uv(null,a,i,h,l);break e}}throw a=oe(i)||i,Error(r(306,a,""))}}return a;case 0:return A0(i,a,a.type,a.pendingProps,l);case 1:return h=a.type,y=Fc(h,a.pendingProps),mv(i,a,h,y,l);case 3:e:{if(Pe(a,a.stateNode.containerInfo),i===null)throw Error(r(387));h=a.pendingProps;var v=a.memoizedState;y=v.element,wr(i,a),Wr(a,h,null,l);var N=a.memoizedState;if(h=N.cache,Qo(a,qr,h),h!==v.cache&&Ml(a,[qr],l,!0),lr(),h=N.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:N.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=gv(i,a,h,l);break e}else if(h!==y){y=Xs(Error(r(424)),a),wu(y),a=gv(i,a,h,l);break e}else for(i=a.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,pr=to(i.firstChild),Ri=a,vn=!0,hs=null,Cr=!0,l=rn(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ol(),h===y){a=Fl(i,a,l);break e}ds(i,a,h,l)}a=a.child}return a;case 26:return Pm(i,a),i===null?(l=Lb(a.type,null,a.pendingProps,null))?a.memoizedState=l:vn||(l=a.type,i=a.pendingProps,h=Xm(ce.current).createElement(l),h[Vn]=a,h[Wn]=i,ps(h,l,i),br(h),a.stateNode=h):a.memoizedState=Lb(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Be(a),i===null&&vn&&(h=a.stateNode=Nb(a.type,a.pendingProps,ce.current),Ri=a,Cr=!0,y=pr,Ou(a.type)?(l2=y,pr=to(h.firstChild)):pr=y),ds(i,a,a.pendingProps.children,l),Pm(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&vn&&((y=h=pr)&&(h=nI(h,a.type,a.pendingProps,Cr),h!==null?(a.stateNode=h,Ri=a,pr=to(h.firstChild),Cr=!1,y=!0):y=!1),y||Wo(a)),Be(a),y=a.type,v=a.pendingProps,N=i!==null?i.memoizedProps:null,h=v.children,r2(y,v)?h=null:N!==null&&r2(y,N)&&(a.flags|=32),a.memoizedState!==null&&(y=Cd(i,a,c0,null,null,l),ep._currentValue=y),Pm(i,a),ds(i,a,h,l),a.child;case 6:return i===null&&vn&&((i=l=pr)&&(l=rI(l,a.pendingProps,Cr),l!==null?(a.stateNode=l,Ri=a,pr=null,i=!0):i=!1),i||Wo(a)),null;case 13:return yv(i,a,l);case 4:return Pe(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=mr(a,null,h,l):ds(i,a,h,l),a.child;case 11:return lv(i,a,a.type,a.pendingProps,l);case 7:return ds(i,a,a.pendingProps,l),a.child;case 8:return ds(i,a,a.pendingProps.children,l),a.child;case 12:return ds(i,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,Qo(a,a.type,h.value),ds(i,a,h.children,l),a.child;case 9:return y=a.type._context,h=a.pendingProps.children,Jo(a),y=Li(y),h=h(y),a.flags|=1,ds(i,a,h,l),a.child;case 14:return uv(i,a,a.type,a.pendingProps,l);case 15:return cv(i,a,a.type,a.pendingProps,l);case 19:return vv(i,a,l);case 31:return x6(i,a,l);case 22:return hv(i,a,l,a.pendingProps);case 24:return Jo(a),h=Li(qr),i===null?(y=W(),y===null&&(y=gr,v=Eu(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=l),y=v),a.memoizedState={parent:h,cache:y},nt(a),Qo(a,qr,y)):((i.lanes&l)!==0&&(wr(i,a),Wr(a,null,null,l),lr()),y=i.memoizedState,v=a.memoizedState,y.parent!==h?(y={parent:h,cache:h},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),Qo(a,qr,h)):(h=v.cache,Qo(a,qr,h),h!==y.cache&&Ml(a,[qr],l,!0))),ds(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Bl(i){i.flags|=4}function C0(i,a,l,h,y){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if($v())i.flags|=8192;else throw Ve=_e,Ie}else i.flags&=-16777217}function wv(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Mb(a))if($v())i.flags|=8192;else throw Ve=_e,Ie}function Mm(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?qs():536870912,i.lanes|=a,ef|=a)}function Fd(i,a){if(!vn)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Sr(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(a)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=l,a}function I6(i,a,l){var h=a.pendingProps;switch(Vh(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sr(a),null;case 1:return Sr(a),null;case 3:return l=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),na(qr),ke(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Ci(a)?Bl(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Nd())),Sr(a),null;case 26:var y=a.type,v=a.memoizedState;return i===null?(Bl(a),v!==null?(Sr(a),wv(a,v)):(Sr(a),C0(a,y,null,h,l))):v?v!==i.memoizedState?(Bl(a),Sr(a),wv(a,v)):(Sr(a),a.flags&=-16777217):(i=i.memoizedProps,i!==h&&Bl(a),Sr(a),C0(a,y,i,h,l)),null;case 27:if(Je(a),l=ce.current,y=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Bl(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Sr(a),null}i=Z.current,Ci(a)?Id(a):(i=Nb(y,h,l),a.stateNode=i,Bl(a))}return Sr(a),null;case 5:if(Je(a),y=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Bl(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Sr(a),null}if(v=Z.current,Ci(a))Id(a);else{var N=Xm(ce.current);switch(v){case 1:v=N.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:v=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":v=N.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":v=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":v=N.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof h.is=="string"?N.createElement("select",{is:h.is}):N.createElement("select"),h.multiple?v.multiple=!0:h.size&&(v.size=h.size);break;default:v=typeof h.is=="string"?N.createElement(y,{is:h.is}):N.createElement(y)}}v[Vn]=a,v[Wn]=h;e:for(N=a.child;N!==null;){if(N.tag===5||N.tag===6)v.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===a)break e;for(;N.sibling===null;){if(N.return===null||N.return===a)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}a.stateNode=v;e:switch(ps(v,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Bl(a)}}return Sr(a),C0(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&Bl(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(i=ce.current,Ci(a)){if(i=a.stateNode,l=a.memoizedProps,h=null,y=Ri,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[Vn]=a,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||yb(i.nodeValue,l)),i||Wo(a,!0)}else i=Xm(i).createTextNode(h),i[Vn]=a,a.stateNode=i}return Sr(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(h=Ci(a),l!==null){if(i===null){if(!h)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Vn]=a}else Ol(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Sr(a),i=!1}else l=Nd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(Qn(a),a):(Qn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Sr(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Ci(a),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Vn]=a}else Ol(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Sr(a),y=!1}else y=Nd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Qn(a),a):(Qn(a),null)}return Qn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=a.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),v=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==y&&(h.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),Mm(a,a.updateQueue),Sr(a),null);case 4:return ke(),i===null&&J0(a.stateNode.containerInfo),Sr(a),null;case 10:return na(a.type),Sr(a),null;case 19:if(k(Nn),h=a.memoizedState,h===null)return Sr(a),null;if(y=(a.flags&128)!==0,v=h.rendering,v===null)if(y)Fd(h,!1);else{if(Zr!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(v=Wi(i),v!==null){for(a.flags|=128,Fd(h,!1),i=v.updateQueue,a.updateQueue=i,Mm(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)Dc(l,i),l=l.sibling;return $(Nn,Nn.current&1|2),vn&&Bs(a,h.treeForkCount),a.child}i=i.sibling}h.tail!==null&&Jt()>Bm&&(a.flags|=128,y=!0,Fd(h,!1),a.lanes=4194304)}else{if(!y)if(i=Wi(v),i!==null){if(a.flags|=128,y=!0,i=i.updateQueue,a.updateQueue=i,Mm(a,i),Fd(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!vn)return Sr(a),null}else 2*Jt()-h.renderingStartTime>Bm&&l!==536870912&&(a.flags|=128,y=!0,Fd(h,!1),a.lanes=4194304);h.isBackwards?(v.sibling=a.child,a.child=v):(i=h.last,i!==null?i.sibling=v:a.child=v,h.last=v)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Jt(),i.sibling=null,l=Nn.current,$(Nn,y?l&1|2:l&1),vn&&Bs(a,h.treeForkCount),i):(Sr(a),null);case 22:case 23:return Qn(a),si(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(Sr(a),a.subtreeFlags&6&&(a.flags|=8192)):Sr(a),l=a.updateQueue,l!==null&&Mm(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),i!==null&&k(z),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),na(qr),Sr(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function N6(i,a){switch(Vh(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return na(qr),ke(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Je(a),null;case 31:if(a.memoizedState!==null){if(Qn(a),a.alternate===null)throw Error(r(340));Ol()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Qn(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ol()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return k(Nn),null;case 4:return ke(),null;case 10:return na(a.type),null;case 22:case 23:return Qn(a),si(),i!==null&&k(z),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return na(qr),null;case 25:return null;default:return null}}function Av(i,a){switch(Vh(a),a.tag){case 3:na(qr),ke();break;case 26:case 27:case 5:Je(a);break;case 4:ke();break;case 31:a.memoizedState!==null&&Qn(a);break;case 13:Qn(a);break;case 19:k(Nn);break;case 10:na(a.type);break;case 22:case 23:Qn(a),si(),i!==null&&k(z);break;case 24:na(qr)}}function Bd(i,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var y=h.next;l=y;do{if((l.tag&i)===i){h=void 0;var v=l.create,N=l.inst;h=v(),N.destroy=h}l=l.next}while(l!==y)}}catch(K){Jn(a,a.return,K)}}function Nu(i,a,l){try{var h=a.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var v=y.next;h=v;do{if((h.tag&i)===i){var N=h.inst,K=N.destroy;if(K!==void 0){N.destroy=void 0,y=a;var ue=l,Re=K;try{Re()}catch(Fe){Jn(y,ue,Fe)}}}h=h.next}while(h!==v)}}catch(Fe){Jn(a,a.return,Fe)}}function Ev(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Yr(a,l)}catch(h){Jn(i,i.return,h)}}}function Sv(i,a,l){l.props=Fc(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Jn(i,a,h)}}function qd(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(y){Jn(i,a,y)}}function rl(i,a){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(y){Jn(i,a,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){Jn(i,a,y)}else l.current=null}function xv(i){var a=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(y){Jn(i,i.return,y)}}function L0(i,a,l){try{var h=i.stateNode;Q6(h,i.type,l,a),h[Wn]=a}catch(y){Jn(i,i.return,y)}}function Tv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ou(i.type)||i.tag===4}function k0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ou(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function D0(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Ps));else if(h!==4&&(h===27&&Ou(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(D0(i,a,l),i=i.sibling;i!==null;)D0(i,a,l),i=i.sibling}function Vm(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(h!==4&&(h===27&&Ou(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Vm(i,a,l),i=i.sibling;i!==null;)Vm(i,a,l),i=i.sibling}function Iv(i){var a=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);ps(a,h,l),a[Vn]=i,a[Wn]=l}catch(v){Jn(i,i.return,v)}}var ql=!1,_i=!1,P0=!1,Nv=typeof WeakSet=="function"?WeakSet:Set,Yi=null;function R6(i,a){if(i=i.containerInfo,t2=ig,i=go(i),Qa(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var y=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var N=0,K=-1,ue=-1,Re=0,Fe=0,$e=i,Oe=null;t:for(;;){for(var Me;$e!==l||y!==0&&$e.nodeType!==3||(K=N+y),$e!==v||h!==0&&$e.nodeType!==3||(ue=N+h),$e.nodeType===3&&(N+=$e.nodeValue.length),(Me=$e.firstChild)!==null;)Oe=$e,$e=Me;for(;;){if($e===i)break t;if(Oe===l&&++Re===y&&(K=N),Oe===v&&++Fe===h&&(ue=N),(Me=$e.nextSibling)!==null)break;$e=Oe,Oe=$e.parentNode}$e=Me}l=K===-1||ue===-1?null:{start:K,end:ue}}else l=null}l=l||{start:0,end:0}}else l=null;for(n2={focusedElem:i,selectionRange:l},ig=!1,Yi=a;Yi!==null;)if(a=Yi,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Yi=i;else for(;Yi!==null;){switch(a=Yi,v=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=a,y=v.memoizedProps,v=v.memoizedState,h=l.stateNode;try{var mt=Fc(l.type,y);i=h.getSnapshotBeforeUpdate(mt,v),h.__reactInternalSnapshotBeforeUpdate=i}catch(zt){Jn(l,l.return,zt)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)s2(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":s2(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Yi=i;break}Yi=a.return}}function Rv(i,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Hl(i,l),h&4&&Bd(5,l);break;case 1:if(Hl(i,l),h&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(N){Jn(l,l.return,N)}else{var y=Fc(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(y,a,i.__reactInternalSnapshotBeforeUpdate)}catch(N){Jn(l,l.return,N)}}h&64&&Ev(l),h&512&&qd(l,l.return);break;case 3:if(Hl(i,l),h&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Yr(i,a)}catch(N){Jn(l,l.return,N)}}break;case 27:a===null&&h&4&&Iv(l);case 26:case 5:Hl(i,l),a===null&&h&4&&xv(l),h&512&&qd(l,l.return);break;case 12:Hl(i,l);break;case 31:Hl(i,l),h&4&&kv(i,l);break;case 13:Hl(i,l),h&4&&Dv(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=j6.bind(null,l),iI(i,l))));break;case 22:if(h=l.memoizedState!==null||ql,!h){a=a!==null&&a.memoizedState!==null||_i,y=ql;var v=_i;ql=h,(_i=a)&&!v?Gl(i,l,(l.subtreeFlags&8772)!==0):Hl(i,l),ql=y,_i=v}break;case 30:break;default:Hl(i,l)}}function Cv(i){var a=i.alternate;a!==null&&(i.alternate=null,Cv(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&va(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Dr=null,ia=!1;function zl(i,a,l){for(l=l.child;l!==null;)Lv(i,a,l),l=l.sibling}function Lv(i,a,l){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(tn,l)}catch{}switch(l.tag){case 26:_i||rl(l,a),zl(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:_i||rl(l,a);var h=Dr,y=ia;Ou(l.type)&&(Dr=l.stateNode,ia=!1),zl(i,a,l),Xd(l.stateNode),Dr=h,ia=y;break;case 5:_i||rl(l,a);case 6:if(h=Dr,y=ia,Dr=null,zl(i,a,l),Dr=h,ia=y,Dr!==null)if(ia)try{(Dr.nodeType===9?Dr.body:Dr.nodeName==="HTML"?Dr.ownerDocument.body:Dr).removeChild(l.stateNode)}catch(v){Jn(l,a,v)}else try{Dr.removeChild(l.stateNode)}catch(v){Jn(l,a,v)}break;case 18:Dr!==null&&(ia?(i=Dr,Eb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),uf(i)):Eb(Dr,l.stateNode));break;case 4:h=Dr,y=ia,Dr=l.stateNode.containerInfo,ia=!0,zl(i,a,l),Dr=h,ia=y;break;case 0:case 11:case 14:case 15:Nu(2,l,a),_i||Nu(4,l,a),zl(i,a,l);break;case 1:_i||(rl(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&Sv(l,a,h)),zl(i,a,l);break;case 21:zl(i,a,l);break;case 22:_i=(h=_i)||l.memoizedState!==null,zl(i,a,l),_i=h;break;default:zl(i,a,l)}}function kv(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{uf(i)}catch(l){Jn(a,a.return,l)}}}function Dv(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{uf(i)}catch(l){Jn(a,a.return,l)}}function C6(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new Nv),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new Nv),a;default:throw Error(r(435,i.tag))}}function jm(i,a){var l=C6(i);a.forEach(function(h){if(!l.has(h)){l.add(h);var y=U6.bind(null,i,h);h.then(y,y)}})}function sa(i,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var y=l[h],v=i,N=a,K=N;e:for(;K!==null;){switch(K.tag){case 27:if(Ou(K.type)){Dr=K.stateNode,ia=!1;break e}break;case 5:Dr=K.stateNode,ia=!1;break e;case 3:case 4:Dr=K.stateNode.containerInfo,ia=!0;break e}K=K.return}if(Dr===null)throw Error(r(160));Lv(v,N,y),Dr=null,ia=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Pv(a,i),a=a.sibling}var So=null;function Pv(i,a){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:sa(a,i),aa(i),h&4&&(Nu(3,i,i.return),Bd(3,i),Nu(5,i,i.return));break;case 1:sa(a,i),aa(i),h&512&&(_i||l===null||rl(l,l.return)),h&64&&ql&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var y=So;if(sa(a,i),aa(i),h&512&&(_i||l===null||rl(l,l.return)),h&4){var v=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":v=y.getElementsByTagName("title")[0],(!v||v[Fi]||v[Vn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(h),y.head.insertBefore(v,y.querySelector("head > title"))),ps(v,h,l),v[Vn]=i,br(v),h=v;break e;case"link":var N=Pb("link","href",y).get(h+(l.href||""));if(N){for(var K=0;K<N.length;K++)if(v=N[K],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){N.splice(K,1);break t}}v=y.createElement(h),ps(v,h,l),y.head.appendChild(v);break;case"meta":if(N=Pb("meta","content",y).get(h+(l.content||""))){for(K=0;K<N.length;K++)if(v=N[K],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){N.splice(K,1);break t}}v=y.createElement(h),ps(v,h,l),y.head.appendChild(v);break;default:throw Error(r(468,h))}v[Vn]=i,br(v),h=v}i.stateNode=h}else Ob(y,i.type,i.stateNode);else i.stateNode=Db(y,h,i.memoizedProps);else v!==h?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,h===null?Ob(y,i.type,i.stateNode):Db(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&L0(i,i.memoizedProps,l.memoizedProps)}break;case 27:sa(a,i),aa(i),h&512&&(_i||l===null||rl(l,l.return)),l!==null&&h&4&&L0(i,i.memoizedProps,l.memoizedProps);break;case 5:if(sa(a,i),aa(i),h&512&&(_i||l===null||rl(l,l.return)),i.flags&32){y=i.stateNode;try{ni(y,"")}catch(mt){Jn(i,i.return,mt)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,L0(i,y,l!==null?l.memoizedProps:y)),h&1024&&(P0=!0);break;case 6:if(sa(a,i),aa(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(mt){Jn(i,i.return,mt)}}break;case 3:if(eg=null,y=So,So=Jm(a.containerInfo),sa(a,i),So=y,aa(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{uf(a.containerInfo)}catch(mt){Jn(i,i.return,mt)}P0&&(P0=!1,Ov(i));break;case 4:h=So,So=Jm(i.stateNode.containerInfo),sa(a,i),aa(i),So=h;break;case 12:sa(a,i),aa(i);break;case 31:sa(a,i),aa(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,jm(i,h)));break;case 13:sa(a,i),aa(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Fm=Jt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,jm(i,h)));break;case 22:y=i.memoizedState!==null;var ue=l!==null&&l.memoizedState!==null,Re=ql,Fe=_i;if(ql=Re||y,_i=Fe||ue,sa(a,i),_i=Fe,ql=Re,aa(i),h&8192)e:for(a=i.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(l===null||ue||ql||_i||Bc(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){ue=l=a;try{if(v=ue.stateNode,y)N=v.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{K=ue.stateNode;var $e=ue.memoizedProps.style,Oe=$e!=null&&$e.hasOwnProperty("display")?$e.display:null;K.style.display=Oe==null||typeof Oe=="boolean"?"":(""+Oe).trim()}}catch(mt){Jn(ue,ue.return,mt)}}}else if(a.tag===6){if(l===null){ue=a;try{ue.stateNode.nodeValue=y?"":ue.memoizedProps}catch(mt){Jn(ue,ue.return,mt)}}}else if(a.tag===18){if(l===null){ue=a;try{var Me=ue.stateNode;y?Sb(Me,!0):Sb(ue.stateNode,!1)}catch(mt){Jn(ue,ue.return,mt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,jm(i,l))));break;case 19:sa(a,i),aa(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,jm(i,h)));break;case 30:break;case 21:break;default:sa(a,i),aa(i)}}function aa(i){var a=i.flags;if(a&2){try{for(var l,h=i.return;h!==null;){if(Tv(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var y=l.stateNode,v=k0(i);Vm(i,v,y);break;case 5:var N=l.stateNode;l.flags&32&&(ni(N,""),l.flags&=-33);var K=k0(i);Vm(i,K,N);break;case 3:case 4:var ue=l.stateNode.containerInfo,Re=k0(i);D0(i,Re,ue);break;default:throw Error(r(161))}}catch(Fe){Jn(i,i.return,Fe)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Ov(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Ov(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Hl(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Rv(i,a.alternate,a),a=a.sibling}function Bc(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Nu(4,a,a.return),Bc(a);break;case 1:rl(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Sv(a,a.return,l),Bc(a);break;case 27:Xd(a.stateNode);case 26:case 5:rl(a,a.return),Bc(a);break;case 22:a.memoizedState===null&&Bc(a);break;case 30:Bc(a);break;default:Bc(a)}i=i.sibling}}function Gl(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,y=i,v=a,N=v.flags;switch(v.tag){case 0:case 11:case 15:Gl(y,v,l),Bd(4,v);break;case 1:if(Gl(y,v,l),h=v,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Re){Jn(h,h.return,Re)}if(h=v,y=h.updateQueue,y!==null){var K=h.stateNode;try{var ue=y.shared.hiddenCallbacks;if(ue!==null)for(y.shared.hiddenCallbacks=null,y=0;y<ue.length;y++)$i(ue[y],K)}catch(Re){Jn(h,h.return,Re)}}l&&N&64&&Ev(v),qd(v,v.return);break;case 27:Iv(v);case 26:case 5:Gl(y,v,l),l&&h===null&&N&4&&xv(v),qd(v,v.return);break;case 12:Gl(y,v,l);break;case 31:Gl(y,v,l),l&&N&4&&kv(y,v);break;case 13:Gl(y,v,l),l&&N&4&&Dv(y,v);break;case 22:v.memoizedState===null&&Gl(y,v,l),qd(v,v.return);break;case 30:break;default:Gl(y,v,l)}a=a.sibling}}function O0(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Mc(l))}function M0(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Mc(i))}function xo(i,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Mv(i,a,l,h),a=a.sibling}function Mv(i,a,l,h){var y=a.flags;switch(a.tag){case 0:case 11:case 15:xo(i,a,l,h),y&2048&&Bd(9,a);break;case 1:xo(i,a,l,h);break;case 3:xo(i,a,l,h),y&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Mc(i)));break;case 12:if(y&2048){xo(i,a,l,h),i=a.stateNode;try{var v=a.memoizedProps,N=v.id,K=v.onPostCommit;typeof K=="function"&&K(N,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ue){Jn(a,a.return,ue)}}else xo(i,a,l,h);break;case 31:xo(i,a,l,h);break;case 13:xo(i,a,l,h);break;case 23:break;case 22:v=a.stateNode,N=a.alternate,a.memoizedState!==null?v._visibility&2?xo(i,a,l,h):zd(i,a):v._visibility&2?xo(i,a,l,h):(v._visibility|=2,Xh(i,a,l,h,(a.subtreeFlags&10256)!==0||!1)),y&2048&&O0(N,a);break;case 24:xo(i,a,l,h),y&2048&&M0(a.alternate,a);break;default:xo(i,a,l,h)}}function Xh(i,a,l,h,y){for(y=y&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var v=i,N=a,K=l,ue=h,Re=N.flags;switch(N.tag){case 0:case 11:case 15:Xh(v,N,K,ue,y),Bd(8,N);break;case 23:break;case 22:var Fe=N.stateNode;N.memoizedState!==null?Fe._visibility&2?Xh(v,N,K,ue,y):zd(v,N):(Fe._visibility|=2,Xh(v,N,K,ue,y)),y&&Re&2048&&O0(N.alternate,N);break;case 24:Xh(v,N,K,ue,y),y&&Re&2048&&M0(N.alternate,N);break;default:Xh(v,N,K,ue,y)}a=a.sibling}}function zd(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,h=a,y=h.flags;switch(h.tag){case 22:zd(l,h),y&2048&&O0(h.alternate,h);break;case 24:zd(l,h),y&2048&&M0(h.alternate,h);break;default:zd(l,h)}a=a.sibling}}var Hd=8192;function Jh(i,a,l){if(i.subtreeFlags&Hd)for(i=i.child;i!==null;)Vv(i,a,l),i=i.sibling}function Vv(i,a,l){switch(i.tag){case 26:Jh(i,a,l),i.flags&Hd&&i.memoizedState!==null&&gI(l,So,i.memoizedState,i.memoizedProps);break;case 5:Jh(i,a,l);break;case 3:case 4:var h=So;So=Jm(i.stateNode.containerInfo),Jh(i,a,l),So=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Hd,Hd=16777216,Jh(i,a,l),Hd=h):Jh(i,a,l));break;default:Jh(i,a,l)}}function jv(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Gd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];Yi=h,Fv(h,i)}jv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Uv(i),i=i.sibling}function Uv(i){switch(i.tag){case 0:case 11:case 15:Gd(i),i.flags&2048&&Nu(9,i,i.return);break;case 3:Gd(i);break;case 12:Gd(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Um(i)):Gd(i);break;default:Gd(i)}}function Um(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];Yi=h,Fv(h,i)}jv(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Nu(8,a,a.return),Um(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Um(a));break;default:Um(a)}i=i.sibling}}function Fv(i,a){for(;Yi!==null;){var l=Yi;switch(l.tag){case 0:case 11:case 15:Nu(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Mc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Yi=h;else e:for(l=i;Yi!==null;){h=Yi;var y=h.sibling,v=h.return;if(Cv(h),h===l){Yi=null;break e}if(y!==null){y.return=v,Yi=y;break e}Yi=v}}}var L6={getCacheForType:function(i){var a=Li(qr),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return Li(qr).controller.signal}},k6=typeof WeakMap=="function"?WeakMap:Map,Hn=0,gr=null,bn=null,En=0,Xn=0,Ra=null,Ru=!1,Zh=!1,V0=!1,Kl=0,Zr=0,Cu=0,qc=0,j0=0,Ca=0,ef=0,Kd=null,oa=null,U0=!1,Fm=0,Bv=0,Bm=1/0,qm=null,Lu=null,Di=0,ku=null,tf=null,$l=0,F0=0,B0=null,qv=null,$d=0,q0=null;function La(){return(Hn&2)!==0&&En!==0?En&-En:ae.T!==null?W0():Gr()}function zv(){if(Ca===0)if((En&536870912)===0||vn){var i=Mn;Mn<<=1,(Mn&3932160)===0&&(Mn=262144),Ca=i}else Ca=536870912;return i=Er.current,i!==null&&(i.flags|=32),Ca}function la(i,a,l){(i===gr&&(Xn===2||Xn===9)||i.cancelPendingCommit!==null)&&(nf(i,0),Du(i,En,Ca,!1)),Nt(i,l),((Hn&2)===0||i!==gr)&&(i===gr&&((Hn&2)===0&&(qc|=l),Zr===4&&Du(i,En,Ca,!1)),il(i))}function Hv(i,a,l){if((Hn&6)!==0)throw Error(r(327));var h=!l&&(a&127)===0&&(a&i.expiredLanes)===0||wi(i,a),y=h?O6(i,a):H0(i,a,!0),v=h;do{if(y===0){Zh&&!h&&Du(i,a,0,!1);break}else{if(l=i.current.alternate,v&&!D6(l)){y=H0(i,a,!1),v=!1;continue}if(y===2){if(v=a,i.errorRecoveryDisabledLanes&v)var N=0;else N=i.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){a=N;e:{var K=i;y=Kd;var ue=K.current.memoizedState.isDehydrated;if(ue&&(nf(K,N).flags|=256),N=H0(K,N,!1),N!==2){if(V0&&!ue){K.errorRecoveryDisabledLanes|=v,qc|=v,y=4;break e}v=oa,oa=y,v!==null&&(oa===null?oa=v:oa.push.apply(oa,v))}y=N}if(v=!1,y!==2)continue}}if(y===1){nf(i,0),Du(i,a,0,!0);break}e:{switch(h=i,v=y,v){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Du(h,a,Ca,!Ru);break e;case 2:oa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(y=Fm+300-Jt(),10<y)){if(Du(h,a,Ca,!Ru),cn(h,0,!0)!==0)break e;$l=a,h.timeoutHandle=wb(Gv.bind(null,h,l,oa,qm,U0,a,Ca,qc,ef,Ru,v,"Throttled",-0,0),y);break e}Gv(h,l,oa,qm,U0,a,Ca,qc,ef,Ru,v,null,-0,0)}}break}while(!0);il(i)}function Gv(i,a,l,h,y,v,N,K,ue,Re,Fe,$e,Oe,Me){if(i.timeoutHandle=-1,$e=a.subtreeFlags,$e&8192||($e&16785408)===16785408){$e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ps},Vv(a,v,$e);var mt=(v&62914560)===v?Fm-Jt():(v&4194048)===v?Bv-Jt():0;if(mt=yI($e,mt),mt!==null){$l=v,i.cancelPendingCommit=mt(Zv.bind(null,i,a,v,l,h,y,N,K,ue,Fe,$e,null,Oe,Me)),Du(i,v,N,!Re);return}}Zv(i,a,v,l,h,y,N,K,ue)}function D6(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var y=l[h],v=y.getSnapshot;y=y.value;try{if(!Ii(v(),y))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Du(i,a,l,h){a&=~j0,a&=~qc,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var y=a;0<y;){var v=31-Zt(y),N=1<<v;h[v]=-1,y&=~N}l!==0&&ts(i,l,a)}function zm(){return(Hn&6)===0?(Wd(0),!1):!0}function z0(){if(bn!==null){if(Xn===0)var i=bn.return;else i=bn,Ja=Yo=null,Hh(i),We=null,yt=0,i=bn;for(;i!==null;)Av(i.alternate,i),i=i.return;bn=null}}function nf(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,Z6(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),$l=0,z0(),gr=i,bn=l=Qs(i.current,null),En=a,Xn=0,Ra=null,Ru=!1,Zh=wi(i,a),V0=!1,ef=Ca=j0=qc=Cu=Zr=0,oa=Kd=null,U0=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var y=31-Zt(h),v=1<<y;a|=i[y],h&=~v}return Kl=a,Cc(),l}function Kv(i,a){Ot=null,ae.H=jd,a===de||a===re?(a=qe(),Xn=3):a===Ie?(a=qe(),Xn=4):Xn=a===w0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ra=a,bn===null&&(Zr=1,km(i,Xs(a,i.current)))}function $v(){var i=Er.current;return i===null?!0:(En&4194048)===En?Cn===null:(En&62914560)===En||(En&536870912)!==0?i===Cn:!1}function Wv(){var i=ae.H;return ae.H=jd,i===null?jd:i}function Yv(){var i=ae.A;return ae.A=L6,i}function Hm(){Zr=4,Ru||(En&4194048)!==En&&Er.current!==null||(Zh=!0),(Cu&134217727)===0&&(qc&134217727)===0||gr===null||Du(gr,En,Ca,!1)}function H0(i,a,l){var h=Hn;Hn|=2;var y=Wv(),v=Yv();(gr!==i||En!==a)&&(qm=null,nf(i,a)),a=!1;var N=Zr;e:do try{if(Xn!==0&&bn!==null){var K=bn,ue=Ra;switch(Xn){case 8:z0(),N=6;break e;case 3:case 2:case 9:case 6:Er.current===null&&(a=!0);var Re=Xn;if(Xn=0,Ra=null,rf(i,K,ue,Re),l&&Zh){N=0;break e}break;default:Re=Xn,Xn=0,Ra=null,rf(i,K,ue,Re)}}P6(),N=Zr;break}catch(Fe){Kv(i,Fe)}while(!0);return a&&i.shellSuspendCounter++,Ja=Yo=null,Hn=h,ae.H=y,ae.A=v,bn===null&&(gr=null,En=0,Cc()),N}function P6(){for(;bn!==null;)Qv(bn)}function O6(i,a){var l=Hn;Hn|=2;var h=Wv(),y=Yv();gr!==i||En!==a?(qm=null,Bm=Jt()+500,nf(i,a)):Zh=wi(i,a);e:do try{if(Xn!==0&&bn!==null){a=bn;var v=Ra;t:switch(Xn){case 1:Xn=0,Ra=null,rf(i,a,v,1);break;case 2:case 9:if(Ee(v)){Xn=0,Ra=null,Xv(a);break}a=function(){Xn!==2&&Xn!==9||gr!==i||(Xn=7),il(i)},v.then(a,a);break e;case 3:Xn=7;break e;case 4:Xn=5;break e;case 7:Ee(v)?(Xn=0,Ra=null,Xv(a)):(Xn=0,Ra=null,rf(i,a,v,7));break;case 5:var N=null;switch(bn.tag){case 26:N=bn.memoizedState;case 5:case 27:var K=bn;if(N?Mb(N):K.stateNode.complete){Xn=0,Ra=null;var ue=K.sibling;if(ue!==null)bn=ue;else{var Re=K.return;Re!==null?(bn=Re,Gm(Re)):bn=null}break t}}Xn=0,Ra=null,rf(i,a,v,5);break;case 6:Xn=0,Ra=null,rf(i,a,v,6);break;case 8:z0(),Zr=6;break e;default:throw Error(r(462))}}M6();break}catch(Fe){Kv(i,Fe)}while(!0);return Ja=Yo=null,ae.H=h,ae.A=y,Hn=l,bn!==null?0:(gr=null,En=0,Cc(),Zr)}function M6(){for(;bn!==null&&!Dt();)Qv(bn)}function Qv(i){var a=bv(i.alternate,i,Kl);i.memoizedProps=i.pendingProps,a===null?Gm(i):bn=a}function Xv(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=pv(l,a,a.pendingProps,a.type,void 0,En);break;case 11:a=pv(l,a,a.pendingProps,a.type.render,a.ref,En);break;case 5:Hh(a);default:Av(l,a),a=bn=Dc(a,Kl),a=bv(l,a,Kl)}i.memoizedProps=i.pendingProps,a===null?Gm(i):bn=a}function rf(i,a,l,h){Ja=Yo=null,Hh(a),We=null,yt=0;var y=a.return;try{if(S6(i,y,a,l,En)){Zr=1,km(i,Xs(l,i.current)),bn=null;return}}catch(v){if(y!==null)throw bn=y,v;Zr=1,km(i,Xs(l,i.current)),bn=null;return}a.flags&32768?(vn||h===1?i=!0:Zh||(En&536870912)!==0?i=!1:(Ru=i=!0,(h===2||h===9||h===3||h===6)&&(h=Er.current,h!==null&&h.tag===13&&(h.flags|=16384))),Jv(a,i)):Gm(a)}function Gm(i){var a=i;do{if((a.flags&32768)!==0){Jv(a,Ru);return}i=a.return;var l=I6(a.alternate,a,Kl);if(l!==null){bn=l;return}if(a=a.sibling,a!==null){bn=a;return}bn=a=i}while(a!==null);Zr===0&&(Zr=5)}function Jv(i,a){do{var l=N6(i.alternate,i);if(l!==null){l.flags&=32767,bn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){bn=i;return}bn=i=l}while(i!==null);Zr=6,bn=null}function Zv(i,a,l,h,y,v,N,K,ue){i.cancelPendingCommit=null;do Km();while(Di!==0);if((Hn&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(v=a.lanes|a.childLanes,v|=Ch,_a(i,l,v,N,K,ue),i===gr&&(bn=gr=null,En=0),tf=a,ku=i,$l=l,F0=v,B0=y,qv=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,F6(en,function(){return ib(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=ae.T,ae.T=null,y=pe.p,pe.p=2,N=Hn,Hn|=4;try{R6(i,a,l)}finally{Hn=N,pe.p=y,ae.T=h}}Di=1,eb(),tb(),nb()}}function eb(){if(Di===1){Di=0;var i=ku,a=tf,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=ae.T,ae.T=null;var h=pe.p;pe.p=2;var y=Hn;Hn|=4;try{Pv(a,i);var v=n2,N=go(i.containerInfo),K=v.focusedElem,ue=v.selectionRange;if(N!==K&&K&&K.ownerDocument&&mo(K.ownerDocument.documentElement,K)){if(ue!==null&&Qa(K)){var Re=ue.start,Fe=ue.end;if(Fe===void 0&&(Fe=Re),"selectionStart"in K)K.selectionStart=Re,K.selectionEnd=Math.min(Fe,K.value.length);else{var $e=K.ownerDocument||document,Oe=$e&&$e.defaultView||window;if(Oe.getSelection){var Me=Oe.getSelection(),mt=K.textContent.length,zt=Math.min(ue.start,mt),hr=ue.end===void 0?zt:Math.min(ue.end,mt);!Me.extend&&zt>hr&&(N=hr,hr=zt,zt=N);var we=yu(K,zt),me=yu(K,hr);if(we&&me&&(Me.rangeCount!==1||Me.anchorNode!==we.node||Me.anchorOffset!==we.offset||Me.focusNode!==me.node||Me.focusOffset!==me.offset)){var Ne=$e.createRange();Ne.setStart(we.node,we.offset),Me.removeAllRanges(),zt>hr?(Me.addRange(Ne),Me.extend(me.node,me.offset)):(Ne.setEnd(me.node,me.offset),Me.addRange(Ne))}}}}for($e=[],Me=K;Me=Me.parentNode;)Me.nodeType===1&&$e.push({element:Me,left:Me.scrollLeft,top:Me.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<$e.length;K++){var He=$e[K];He.element.scrollLeft=He.left,He.element.scrollTop=He.top}}ig=!!t2,n2=t2=null}finally{Hn=y,pe.p=h,ae.T=l}}i.current=a,Di=2}}function tb(){if(Di===2){Di=0;var i=ku,a=tf,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=ae.T,ae.T=null;var h=pe.p;pe.p=2;var y=Hn;Hn|=4;try{Rv(i,a.alternate,a)}finally{Hn=y,pe.p=h,ae.T=l}}Di=3}}function nb(){if(Di===4||Di===3){Di=0,St();var i=ku,a=tf,l=$l,h=qv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Di=5:(Di=0,tf=ku=null,rb(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Lu=null),ir(l),a=a.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(tn,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=ae.T,y=pe.p,pe.p=2,ae.T=null;try{for(var v=i.onRecoverableError,N=0;N<h.length;N++){var K=h[N];v(K.value,{componentStack:K.stack})}}finally{ae.T=a,pe.p=y}}($l&3)!==0&&Km(),il(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===q0?$d++:($d=0,q0=i):$d=0,Wd(0)}}function rb(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Mc(a)))}function Km(){return eb(),tb(),nb(),ib()}function ib(){if(Di!==5)return!1;var i=ku,a=F0;F0=0;var l=ir($l),h=ae.T,y=pe.p;try{pe.p=32>l?32:l,ae.T=null,l=B0,B0=null;var v=ku,N=$l;if(Di=0,tf=ku=null,$l=0,(Hn&6)!==0)throw Error(r(331));var K=Hn;if(Hn|=4,Uv(v.current),Mv(v,v.current,N,l),Hn=K,Wd(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(tn,v)}catch{}return!0}finally{pe.p=y,ae.T=h,rb(i,a)}}function sb(i,a,l){a=Xs(l,a),a=b0(i.stateNode,a,2),i=on(i,a,2),i!==null&&(Nt(i,2),il(i))}function Jn(i,a,l){if(i.tag===3)sb(i,i,l);else for(;a!==null;){if(a.tag===3){sb(a,i,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Lu===null||!Lu.has(h))){i=Xs(l,i),l=av(2),h=on(a,l,2),h!==null&&(ov(l,h,a,i),Nt(h,2),il(h));break}}a=a.return}}function G0(i,a,l){var h=i.pingCache;if(h===null){h=i.pingCache=new k6;var y=new Set;h.set(a,y)}else y=h.get(a),y===void 0&&(y=new Set,h.set(a,y));y.has(l)||(V0=!0,y.add(l),i=V6.bind(null,i,a,l),a.then(i,i))}function V6(i,a,l){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,gr===i&&(En&l)===l&&(Zr===4||Zr===3&&(En&62914560)===En&&300>Jt()-Fm?(Hn&2)===0&&nf(i,0):j0|=l,ef===En&&(ef=0)),il(i)}function ab(i,a){a===0&&(a=qs()),i=_o(i,a),i!==null&&(Nt(i,a),il(i))}function j6(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),ab(i,l)}function U6(i,a){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),ab(i,l)}function F6(i,a){return lt(i,a)}var $m=null,sf=null,K0=!1,Wm=!1,$0=!1,Pu=0;function il(i){i!==sf&&i.next===null&&(sf===null?$m=sf=i:sf=sf.next=i),Wm=!0,K0||(K0=!0,q6())}function Wd(i,a){if(!$0&&Wm){$0=!0;do for(var l=!1,h=$m;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var v=0;else{var N=h.suspendedLanes,K=h.pingedLanes;v=(1<<31-Zt(42|i)+1)-1,v&=y&~(N&~K),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,cb(h,v))}else v=En,v=cn(h,h===gr?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||wi(h,v)||(l=!0,cb(h,v));h=h.next}while(l);$0=!1}}function B6(){ob()}function ob(){Wm=K0=!1;var i=0;Pu!==0&&J6()&&(i=Pu);for(var a=Jt(),l=null,h=$m;h!==null;){var y=h.next,v=lb(h,a);v===0?(h.next=null,l===null?$m=y:l.next=y,y===null&&(sf=l)):(l=h,(i!==0||(v&3)!==0)&&(Wm=!0)),h=y}Di!==0&&Di!==5||Wd(i),Pu!==0&&(Pu=0)}function lb(i,a){for(var l=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var N=31-Zt(v),K=1<<N,ue=y[N];ue===-1?((K&l)===0||(K&h)!==0)&&(y[N]=hi(K,a)):ue<=a&&(i.expiredLanes|=K),v&=~K}if(a=gr,l=En,l=cn(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===a&&(Xn===2||Xn===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&ot(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||wi(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(h!==null&&ot(h),ir(l)){case 2:case 8:l=un;break;case 32:l=en;break;case 268435456:l=Wt;break;default:l=en}return h=ub.bind(null,i),l=lt(l,h),i.callbackPriority=a,i.callbackNode=l,a}return h!==null&&h!==null&&ot(h),i.callbackPriority=2,i.callbackNode=null,2}function ub(i,a){if(Di!==0&&Di!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Km()&&i.callbackNode!==l)return null;var h=En;return h=cn(i,i===gr?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Hv(i,h,a),lb(i,Jt()),i.callbackNode!=null&&i.callbackNode===l?ub.bind(null,i):null)}function cb(i,a){if(Km())return null;Hv(i,a,!0)}function q6(){eI(function(){(Hn&6)!==0?lt(Ht,B6):ob()})}function W0(){if(Pu===0){var i=p;i===0&&(i=Ft,Ft<<=1,(Ft&261888)===0&&(Ft=256)),Pu=i}return Pu}function hb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:qi(""+i)}function fb(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function z6(i,a,l,h,y){if(a==="submit"&&l&&l.stateNode===y){var v=hb((y[Wn]||null).action),N=h.submitter;N&&(a=(a=N[Wn]||null)?hb(a.formAction):N.getAttribute("formAction"),a!==null&&(v=a,N=null));var K=new pi("action","action",null,h,y);i.push({event:K,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Pu!==0){var ue=N?fb(y,N):new FormData(y);p0(l,{pending:!0,data:ue,method:y.method,action:v},null,ue)}}else typeof v=="function"&&(K.preventDefault(),ue=N?fb(y,N):new FormData(y),p0(l,{pending:!0,data:ue,method:y.method,action:v},v,ue))},currentTarget:y}]})}}for(var Y0=0;Y0<kl.length;Y0++){var Q0=kl[Y0],H6=Q0.toLowerCase(),G6=Q0[0].toUpperCase()+Q0.slice(1);Ys(H6,"on"+G6)}Ys(Ll,"onAnimationEnd"),Ys(Nc,"onAnimationIteration"),Ys(Ed,"onAnimationStart"),Ys("dblclick","onDoubleClick"),Ys("focusin","onFocus"),Ys("focusout","onBlur"),Ys(vm,"onTransitionRun"),Ys(bm,"onTransitionStart"),Ys(wm,"onTransitionCancel"),Ys(Sd,"onTransitionEnd"),Ds("onMouseEnter",["mouseout","mouseover"]),Ds("onMouseLeave",["mouseout","mouseover"]),Ds("onPointerEnter",["pointerout","pointerover"]),Ds("onPointerLeave",["pointerout","pointerover"]),_s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_s("onBeforeInput",["compositionend","keypress","textInput","paste"]),_s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yd));function db(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],y=h.event;h=h.listeners;e:{var v=void 0;if(a)for(var N=h.length-1;0<=N;N--){var K=h[N],ue=K.instance,Re=K.currentTarget;if(K=K.listener,ue!==v&&y.isPropagationStopped())break e;v=K,y.currentTarget=Re;try{v(y)}catch(Fe){Rc(Fe)}y.currentTarget=null,v=ue}else for(N=0;N<h.length;N++){if(K=h[N],ue=K.instance,Re=K.currentTarget,K=K.listener,ue!==v&&y.isPropagationStopped())break e;v=K,y.currentTarget=Re;try{v(y)}catch(Fe){Rc(Fe)}y.currentTarget=null,v=ue}}}}function wn(i,a){var l=a[Ui];l===void 0&&(l=a[Ui]=new Set);var h=i+"__bubble";l.has(h)||(pb(a,i,2,!1),l.add(h))}function X0(i,a,l){var h=0;a&&(h|=4),pb(l,i,h,a)}var Ym="_reactListening"+Math.random().toString(36).slice(2);function J0(i){if(!i[Ym]){i[Ym]=!0,Vo.forEach(function(l){l!=="selectionchange"&&(K6.has(l)||X0(l,!1,i),X0(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Ym]||(a[Ym]=!0,X0("selectionchange",!1,a))}}function pb(i,a,l,h){switch(zb(a)){case 2:var y=bI;break;case 8:y=wI;break;default:y=d2}l=y.bind(null,a,l,i),y=void 0,!oo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(a,l,{capture:!0,passive:y}):i.addEventListener(a,l,!0):y!==void 0?i.addEventListener(a,l,{passive:y}):i.addEventListener(a,l,!1)}function Z0(i,a,l,h,y){var v=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var N=h.tag;if(N===3||N===4){var K=h.stateNode.containerInfo;if(K===y)break;if(N===4)for(N=h.return;N!==null;){var ue=N.tag;if((ue===3||ue===4)&&N.stateNode.containerInfo===y)return;N=N.return}for(;K!==null;){if(N=ns(K),N===null)return;if(ue=N.tag,ue===5||ue===6||ue===26||ue===27){h=v=N;continue e}K=K.parentNode}}h=h.return}qa(function(){var Re=v,Fe=zi(l),$e=[];e:{var Oe=xd.get(i);if(Oe!==void 0){var Me=pi,mt=i;switch(i){case"keypress":if(as(l)===0)break e;case"keydown":case"keyup":Me=mn;break;case"focusin":mt="focus",Me=Ms;break;case"focusout":mt="blur",Me=Ms;break;case"beforeblur":case"afterblur":Me=Ms;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=$s;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=x;break;case Ll:case Nc:case Ed:Me=A;break;case Sd:Me=Q;break;case"scroll":case"scrollend":Me=za;break;case"wheel":Me=De;break;case"copy":case"cut":case"paste":Me=ie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=Kn;break;case"toggle":case"beforetoggle":Me=$t}var zt=(a&4)!==0,hr=!zt&&(i==="scroll"||i==="scrollend"),we=zt?Oe!==null?Oe+"Capture":null:Oe;zt=[];for(var me=Re,Ne;me!==null;){var He=me;if(Ne=He.stateNode,He=He.tag,He!==5&&He!==26&&He!==27||Ne===null||we===null||(He=ri(me,we),He!=null&&zt.push(Qd(me,He,Ne))),hr)break;me=me.return}0<zt.length&&(Oe=new Me(Oe,mt,null,l,Fe),$e.push({event:Oe,listeners:zt}))}}if((a&7)===0){e:{if(Oe=i==="mouseover"||i==="pointerover",Me=i==="mouseout"||i==="pointerout",Oe&&l!==Ea&&(mt=l.relatedTarget||l.fromElement)&&(ns(mt)||mt[Kr]))break e;if((Me||Oe)&&(Oe=Fe.window===Fe?Fe:(Oe=Fe.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,Me?(mt=l.relatedTarget||l.toElement,Me=Re,mt=mt?ns(mt):null,mt!==null&&(hr=o(mt),zt=mt.tag,mt!==hr||zt!==5&&zt!==27&&zt!==6)&&(mt=null)):(Me=null,mt=Re),Me!==mt)){if(zt=zo,He="onMouseLeave",we="onMouseEnter",me="mouse",(i==="pointerout"||i==="pointerover")&&(zt=Kn,He="onPointerLeave",we="onPointerEnter",me="pointer"),hr=Me==null?Oe:rs(Me),Ne=mt==null?Oe:rs(mt),Oe=new zt(He,me+"leave",Me,l,Fe),Oe.target=hr,Oe.relatedTarget=Ne,He=null,ns(Fe)===Re&&(zt=new zt(we,me+"enter",mt,l,Fe),zt.target=Ne,zt.relatedTarget=hr,He=zt),hr=He,Me&&mt)t:{for(zt=$6,we=Me,me=mt,Ne=0,He=we;He;He=zt(He))Ne++;He=0;for(var jt=me;jt;jt=zt(jt))He++;for(;0<Ne-He;)we=zt(we),Ne--;for(;0<He-Ne;)me=zt(me),He--;for(;Ne--;){if(we===me||me!==null&&we===me.alternate){zt=we;break t}we=zt(we),me=zt(me)}zt=null}else zt=null;Me!==null&&mb($e,Oe,Me,zt,!1),mt!==null&&hr!==null&&mb($e,hr,mt,zt,!0)}}e:{if(Oe=Re?rs(Re):window,Me=Oe.nodeName&&Oe.nodeName.toLowerCase(),Me==="select"||Me==="input"&&Oe.type==="file")var Fn=Go;else if(Tc(Oe))if(ws)Fn=Wa;else{Fn=Fr;var Et=mu}else Me=Oe.nodeName,!Me||Me.toLowerCase()!=="input"||Oe.type!=="checkbox"&&Oe.type!=="radio"?Re&&Fo(Re.elementType)&&(Fn=Go):Fn=Rh;if(Fn&&(Fn=Fn(i,Re))){js($e,Fn,l,Fe);break e}Et&&Et(i,Oe,Re),i==="focusout"&&Re&&Oe.type==="number"&&Re.memoizedProps.value!=null&&Sl(Oe,"number",Oe.value)}switch(Et=Re?rs(Re):window,i){case"focusin":(Tc(Et)||Et.contentEditable==="true")&&(Us=Et,yo=Re,Hi=null);break;case"focusout":Hi=yo=Us=null;break;case"mousedown":Ws=!0;break;case"contextmenu":case"mouseup":case"dragend":Ws=!1,Pn($e,l,Fe);break;case"selectionchange":if(Cl)break;case"keydown":case"keyup":Pn($e,l,Fe)}var hn;if(fn)e:{switch(i){case"compositionstart":var Sn="onCompositionStart";break e;case"compositionend":Sn="onCompositionEnd";break e;case"compositionupdate":Sn="onCompositionUpdate";break e}Sn=void 0}else Ga?Vs(i,l)&&(Sn="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Sn="onCompositionStart");Sn&&(xi&&l.locale!=="ko"&&(Ga||Sn!=="onCompositionStart"?Sn==="onCompositionEnd"&&Ga&&(hn=Nl()):(ss=Fe,lo="value"in ss?ss.value:ss.textContent,Ga=!0)),Et=Qm(Re,Sn),0<Et.length&&(Sn=new ve(Sn,i,null,l,Fe),$e.push({event:Sn,listeners:Et}),hn?Sn.data=hn:(hn=Ha(l),hn!==null&&(Sn.data=hn)))),(hn=mi?us(i,l):co(i,l))&&(Sn=Qm(Re,"onBeforeInput"),0<Sn.length&&(Et=new ve("onBeforeInput","beforeinput",null,l,Fe),$e.push({event:Et,listeners:Sn}),Et.data=hn)),z6($e,i,Re,l,Fe)}db($e,a)})}function Qd(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Qm(i,a){for(var l=a+"Capture",h=[];i!==null;){var y=i,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=ri(i,l),y!=null&&h.unshift(Qd(i,y,v)),y=ri(i,a),y!=null&&h.push(Qd(i,y,v))),i.tag===3)return h;i=i.return}return[]}function $6(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function mb(i,a,l,h,y){for(var v=a._reactName,N=[];l!==null&&l!==h;){var K=l,ue=K.alternate,Re=K.stateNode;if(K=K.tag,ue!==null&&ue===h)break;K!==5&&K!==26&&K!==27||Re===null||(ue=Re,y?(Re=ri(l,v),Re!=null&&N.unshift(Qd(l,Re,ue))):y||(Re=ri(l,v),Re!=null&&N.push(Qd(l,Re,ue)))),l=l.return}N.length!==0&&i.push({event:a,listeners:N})}var W6=/\r\n?/g,Y6=/\u0000|\uFFFD/g;function gb(i){return(typeof i=="string"?i:""+i).replace(W6,`
`).replace(Y6,"")}function yb(i,a){return a=gb(a),gb(i)===a}function cr(i,a,l,h,y,v){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||ni(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&ni(i,""+h);break;case"className":di(i,"class",h);break;case"tabIndex":di(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":di(i,l,h);break;case"style":Il(i,h,v);break;case"data":if(a!=="object"){di(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=qi(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(a!=="input"&&cr(i,a,"name",y.name,y,null),cr(i,a,"formEncType",y.formEncType,y,null),cr(i,a,"formMethod",y.formMethod,y,null),cr(i,a,"formTarget",y.formTarget,y,null)):(cr(i,a,"encType",y.encType,y,null),cr(i,a,"method",y.method,y,null),cr(i,a,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=qi(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Ps);break;case"onScroll":h!=null&&wn("scroll",i);break;case"onScrollEnd":h!=null&&wn("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=qi(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":wn("beforetoggle",i),wn("toggle",i),is(i,"popover",h);break;case"xlinkActuate":Nr(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Nr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Nr(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Nr(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Nr(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Nr(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Nr(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Nr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Nr(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":is(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Bo.get(l)||l,is(i,l,h))}}function e2(i,a,l,h,y,v){switch(l){case"style":Il(i,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?ni(i,h):(typeof h=="number"||typeof h=="bigint")&&ni(i,""+h);break;case"onScroll":h!=null&&wn("scroll",i);break;case"onScrollEnd":h!=null&&wn("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Ps);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bi.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),a=l.slice(2,y?l.length-7:void 0),v=i[Wn]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(a,v,y),typeof h=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,h,y);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):is(i,l,h)}}}function ps(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wn("error",i),wn("load",i);var h=!1,y=!1,v;for(v in l)if(l.hasOwnProperty(v)){var N=l[v];if(N!=null)switch(v){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:cr(i,a,v,N,l,null)}}y&&cr(i,a,"srcSet",l.srcSet,l,null),h&&cr(i,a,"src",l.src,l,null);return;case"input":wn("invalid",i);var K=v=N=y=null,ue=null,Re=null;for(h in l)if(l.hasOwnProperty(h)){var Fe=l[h];if(Fe!=null)switch(h){case"name":y=Fe;break;case"type":N=Fe;break;case"checked":ue=Fe;break;case"defaultChecked":Re=Fe;break;case"value":v=Fe;break;case"defaultValue":K=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,a));break;default:cr(i,a,h,Fe,l,null)}}fu(i,v,K,ue,Re,N,y,!1);return;case"select":wn("invalid",i),h=N=v=null;for(y in l)if(l.hasOwnProperty(y)&&(K=l[y],K!=null))switch(y){case"value":v=K;break;case"defaultValue":N=K;break;case"multiple":h=K;default:cr(i,a,y,K,l,null)}a=v,l=N,i.multiple=!!h,a!=null?Si(i,!!h,a,!1):l!=null&&Si(i,!!h,l,!0);return;case"textarea":wn("invalid",i),v=y=h=null;for(N in l)if(l.hasOwnProperty(N)&&(K=l[N],K!=null))switch(N){case"value":h=K;break;case"defaultValue":y=K;break;case"children":v=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(91));break;default:cr(i,a,N,K,l,null)}wa(i,h,y,v);return;case"option":for(ue in l)l.hasOwnProperty(ue)&&(h=l[ue],h!=null)&&(ue==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":cr(i,a,ue,h,l,null));return;case"dialog":wn("beforetoggle",i),wn("toggle",i),wn("cancel",i),wn("close",i);break;case"iframe":case"object":wn("load",i);break;case"video":case"audio":for(h=0;h<Yd.length;h++)wn(Yd[h],i);break;case"image":wn("error",i),wn("load",i);break;case"details":wn("toggle",i);break;case"embed":case"source":case"link":wn("error",i),wn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Re in l)if(l.hasOwnProperty(Re)&&(h=l[Re],h!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:cr(i,a,Re,h,l,null)}return;default:if(Fo(a)){for(Fe in l)l.hasOwnProperty(Fe)&&(h=l[Fe],h!==void 0&&e2(i,a,Fe,h,l,void 0));return}}for(K in l)l.hasOwnProperty(K)&&(h=l[K],h!=null&&cr(i,a,K,h,l,null))}function Q6(i,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,N=null,K=null,ue=null,Re=null,Fe=null;for(Me in l){var $e=l[Me];if(l.hasOwnProperty(Me)&&$e!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":ue=$e;default:h.hasOwnProperty(Me)||cr(i,a,Me,null,h,$e)}}for(var Oe in h){var Me=h[Oe];if($e=l[Oe],h.hasOwnProperty(Oe)&&(Me!=null||$e!=null))switch(Oe){case"type":v=Me;break;case"name":y=Me;break;case"checked":Re=Me;break;case"defaultChecked":Fe=Me;break;case"value":N=Me;break;case"defaultValue":K=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,a));break;default:Me!==$e&&cr(i,a,Oe,Me,h,$e)}}so(i,N,K,ue,Re,Fe,v,y);return;case"select":Me=N=K=Oe=null;for(v in l)if(ue=l[v],l.hasOwnProperty(v)&&ue!=null)switch(v){case"value":break;case"multiple":Me=ue;default:h.hasOwnProperty(v)||cr(i,a,v,null,h,ue)}for(y in h)if(v=h[y],ue=l[y],h.hasOwnProperty(y)&&(v!=null||ue!=null))switch(y){case"value":Oe=v;break;case"defaultValue":K=v;break;case"multiple":N=v;default:v!==ue&&cr(i,a,y,v,h,ue)}a=K,l=N,h=Me,Oe!=null?Si(i,!!l,Oe,!1):!!h!=!!l&&(a!=null?Si(i,!!l,a,!0):Si(i,!!l,l?[]:"",!1));return;case"textarea":Me=Oe=null;for(K in l)if(y=l[K],l.hasOwnProperty(K)&&y!=null&&!h.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:cr(i,a,K,null,h,y)}for(N in h)if(y=h[N],v=l[N],h.hasOwnProperty(N)&&(y!=null||v!=null))switch(N){case"value":Oe=y;break;case"defaultValue":Me=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==v&&cr(i,a,N,y,h,v)}xl(i,Oe,Me);return;case"option":for(var mt in l)Oe=l[mt],l.hasOwnProperty(mt)&&Oe!=null&&!h.hasOwnProperty(mt)&&(mt==="selected"?i.selected=!1:cr(i,a,mt,null,h,Oe));for(ue in h)Oe=h[ue],Me=l[ue],h.hasOwnProperty(ue)&&Oe!==Me&&(Oe!=null||Me!=null)&&(ue==="selected"?i.selected=Oe&&typeof Oe!="function"&&typeof Oe!="symbol":cr(i,a,ue,Oe,h,Me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in l)Oe=l[zt],l.hasOwnProperty(zt)&&Oe!=null&&!h.hasOwnProperty(zt)&&cr(i,a,zt,null,h,Oe);for(Re in h)if(Oe=h[Re],Me=l[Re],h.hasOwnProperty(Re)&&Oe!==Me&&(Oe!=null||Me!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(r(137,a));break;default:cr(i,a,Re,Oe,h,Me)}return;default:if(Fo(a)){for(var hr in l)Oe=l[hr],l.hasOwnProperty(hr)&&Oe!==void 0&&!h.hasOwnProperty(hr)&&e2(i,a,hr,void 0,h,Oe);for(Fe in h)Oe=h[Fe],Me=l[Fe],!h.hasOwnProperty(Fe)||Oe===Me||Oe===void 0&&Me===void 0||e2(i,a,Fe,Oe,h,Me);return}}for(var we in l)Oe=l[we],l.hasOwnProperty(we)&&Oe!=null&&!h.hasOwnProperty(we)&&cr(i,a,we,null,h,Oe);for($e in h)Oe=h[$e],Me=l[$e],!h.hasOwnProperty($e)||Oe===Me||Oe==null&&Me==null||cr(i,a,$e,Oe,h,Me)}function _b(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function X6(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var y=l[h],v=y.transferSize,N=y.initiatorType,K=y.duration;if(v&&K&&_b(N)){for(N=0,K=y.responseEnd,h+=1;h<l.length;h++){var ue=l[h],Re=ue.startTime;if(Re>K)break;var Fe=ue.transferSize,$e=ue.initiatorType;Fe&&_b($e)&&(ue=ue.responseEnd,N+=Fe*(ue<K?1:(K-Re)/(ue-Re)))}if(--h,a+=8*(v+N)/(y.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var t2=null,n2=null;function Xm(i){return i.nodeType===9?i:i.ownerDocument}function vb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bb(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function r2(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var i2=null;function J6(){var i=window.event;return i&&i.type==="popstate"?i===i2?!1:(i2=i,!0):(i2=null,!1)}var wb=typeof setTimeout=="function"?setTimeout:void 0,Z6=typeof clearTimeout=="function"?clearTimeout:void 0,Ab=typeof Promise=="function"?Promise:void 0,eI=typeof queueMicrotask=="function"?queueMicrotask:typeof Ab<"u"?function(i){return Ab.resolve(null).then(i).catch(tI)}:wb;function tI(i){setTimeout(function(){throw i})}function Ou(i){return i==="head"}function Eb(i,a){var l=a,h=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(y),uf(a);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")Xd(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Xd(l);for(var v=l.firstChild;v;){var N=v.nextSibling,K=v.nodeName;v[Fi]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=N}}else l==="body"&&Xd(i.ownerDocument.body);l=y}while(l);uf(a)}function Sb(i,a){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function s2(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":s2(l),va(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function nI(i,a,l,h){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Fi])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=to(i.nextSibling),i===null)break}return null}function rI(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=to(i.nextSibling),i===null))return null;return i}function xb(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=to(i.nextSibling),i===null))return null;return i}function a2(i){return i.data==="$?"||i.data==="$~"}function o2(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function iI(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function to(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var l2=null;function Tb(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return to(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function Ib(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function Nb(i,a,l){switch(a=Xm(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Xd(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);va(i)}var no=new Map,Rb=new Set;function Jm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Wl=pe.d;pe.d={f:sI,r:aI,D:oI,C:lI,L:uI,m:cI,X:fI,S:hI,M:dI};function sI(){var i=Wl.f(),a=zm();return i||a}function aI(i){var a=Ei(i);a!==null&&a.tag===5&&a.type==="form"?K5(a):Wl.r(i)}var af=typeof document>"u"?null:document;function Cb(i,a,l){var h=af;if(h&&typeof a=="string"&&a){var y=Rr(a);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),Rb.has(y)||(Rb.add(y),i={rel:i,crossOrigin:l,href:a},h.querySelector(y)===null&&(a=h.createElement("link"),ps(a,"link",i),br(a),h.head.appendChild(a)))}}function oI(i){Wl.D(i),Cb("dns-prefetch",i,null)}function lI(i,a){Wl.C(i,a),Cb("preconnect",i,a)}function uI(i,a,l){Wl.L(i,a,l);var h=af;if(h&&i&&a){var y='link[rel="preload"][as="'+Rr(a)+'"]';a==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+Rr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+Rr(l.imageSizes)+'"]')):y+='[href="'+Rr(i)+'"]';var v=y;switch(a){case"style":v=of(i);break;case"script":v=lf(i)}no.has(v)||(i=w({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),no.set(v,i),h.querySelector(y)!==null||a==="style"&&h.querySelector(Jd(v))||a==="script"&&h.querySelector(Zd(v))||(a=h.createElement("link"),ps(a,"link",i),br(a),h.head.appendChild(a)))}}function cI(i,a){Wl.m(i,a);var l=af;if(l&&i){var h=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Rr(h)+'"][href="'+Rr(i)+'"]',v=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=lf(i)}if(!no.has(v)&&(i=w({rel:"modulepreload",href:i},a),no.set(v,i),l.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Zd(v)))return}h=l.createElement("link"),ps(h,"link",i),br(h),l.head.appendChild(h)}}}function hI(i,a,l){Wl.S(i,a,l);var h=af;if(h&&i){var y=ys(h).hoistableStyles,v=of(i);a=a||"default";var N=y.get(v);if(!N){var K={loading:0,preload:null};if(N=h.querySelector(Jd(v)))K.loading=5;else{i=w({rel:"stylesheet",href:i,"data-precedence":a},l),(l=no.get(v))&&u2(i,l);var ue=N=h.createElement("link");br(ue),ps(ue,"link",i),ue._p=new Promise(function(Re,Fe){ue.onload=Re,ue.onerror=Fe}),ue.addEventListener("load",function(){K.loading|=1}),ue.addEventListener("error",function(){K.loading|=2}),K.loading|=4,Zm(N,a,h)}N={type:"stylesheet",instance:N,count:1,state:K},y.set(v,N)}}}function fI(i,a){Wl.X(i,a);var l=af;if(l&&i){var h=ys(l).hoistableScripts,y=lf(i),v=h.get(y);v||(v=l.querySelector(Zd(y)),v||(i=w({src:i,async:!0},a),(a=no.get(y))&&c2(i,a),v=l.createElement("script"),br(v),ps(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(y,v))}}function dI(i,a){Wl.M(i,a);var l=af;if(l&&i){var h=ys(l).hoistableScripts,y=lf(i),v=h.get(y);v||(v=l.querySelector(Zd(y)),v||(i=w({src:i,async:!0,type:"module"},a),(a=no.get(y))&&c2(i,a),v=l.createElement("script"),br(v),ps(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(y,v))}}function Lb(i,a,l,h){var y=(y=ce.current)?Jm(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=of(l.href),l=ys(y).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=of(l.href);var v=ys(y).hoistableStyles,N=v.get(i);if(N||(y=y.ownerDocument||y,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,N),(v=y.querySelector(Jd(i)))&&!v._p&&(N.instance=v,N.state.loading=5),no.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},no.set(i,l),v||pI(y,i,l,N.state))),a&&h===null)throw Error(r(528,""));return N}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=lf(l),l=ys(y).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function of(i){return'href="'+Rr(i)+'"'}function Jd(i){return'link[rel="stylesheet"]['+i+"]"}function kb(i){return w({},i,{"data-precedence":i.precedence,precedence:null})}function pI(i,a,l,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),ps(a,"link",l),br(a),i.head.appendChild(a))}function lf(i){return'[src="'+Rr(i)+'"]'}function Zd(i){return"script[async]"+i}function Db(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+Rr(l.href)+'"]');if(h)return a.instance=h,br(h),h;var y=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),br(h),ps(h,"style",y),Zm(h,l.precedence,i),a.instance=h;case"stylesheet":y=of(l.href);var v=i.querySelector(Jd(y));if(v)return a.state.loading|=4,a.instance=v,br(v),v;h=kb(l),(y=no.get(y))&&u2(h,y),v=(i.ownerDocument||i).createElement("link"),br(v);var N=v;return N._p=new Promise(function(K,ue){N.onload=K,N.onerror=ue}),ps(v,"link",h),a.state.loading|=4,Zm(v,l.precedence,i),a.instance=v;case"script":return v=lf(l.src),(y=i.querySelector(Zd(v)))?(a.instance=y,br(y),y):(h=l,(y=no.get(v))&&(h=w({},l),c2(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),br(y),ps(y,"link",h),i.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Zm(h,l.precedence,i));return a.instance}function Zm(i,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,v=y,N=0;N<h.length;N++){var K=h[N];if(K.dataset.precedence===a)v=K;else if(v!==y)break}v?v.parentNode.insertBefore(i,v.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function u2(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function c2(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var eg=null;function Pb(i,a,l){if(eg===null){var h=new Map,y=eg=new Map;y.set(l,h)}else y=eg,h=y.get(l),h||(h=new Map,y.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var v=l[y];if(!(v[Fi]||v[Vn]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var N=v.getAttribute(a)||"";N=i+N;var K=h.get(N);K?K.push(v):h.set(N,[v])}}return h}function Ob(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function mI(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(i=a.disabled,typeof a.precedence=="string"&&i==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Mb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function gI(i,a,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=of(h.href),v=a.querySelector(Jd(y));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=tg.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=v,br(v);return}v=a.ownerDocument||a,h=kb(h),(y=no.get(y))&&u2(h,y),v=v.createElement("link"),br(v);var N=v;N._p=new Promise(function(K,ue){N.onload=K,N.onerror=ue}),ps(v,"link",h),l.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=tg.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var h2=0;function yI(i,a){return i.stylesheets&&i.count===0&&rg(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&rg(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+a);0<i.imgBytes&&h2===0&&(h2=62500*X6());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&rg(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>h2?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function tg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ng=null;function rg(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ng=new Map,a.forEach(_I,i),ng=null,tg.call(i))}function _I(i,a){if(!(a.state.loading&4)){var l=ng.get(i);if(l)var h=l.get(null);else{l=new Map,ng.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var N=y[v];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(l.set(N.dataset.precedence,N),h=N)}h&&l.set(null,h)}y=a.instance,N=y.getAttribute("data-precedence"),v=l.get(N)||h,v===h&&l.set(null,y),l.set(N,y),this.count++,h=tg.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),v?v.parentNode.insertBefore(y,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),a.state.loading|=4}}var ep={$$typeof:Y,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function vI(i,a,l,h,y,v,N,K,ue){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function Vb(i,a,l,h,y,v,N,K,ue,Re,Fe,$e){return i=new vI(i,a,l,N,ue,Re,Fe,$e,K),a=1,v===!0&&(a|=24),v=Ki(3,null,null,a),i.current=v,v.stateNode=i,a=Eu(),a.refCount++,i.pooledCache=a,a.refCount++,v.memoizedState={element:h,isDehydrated:l,cache:a},nt(v),i}function jb(i){return i?(i=Ni,i):Ni}function Ub(i,a,l,h,y,v){y=jb(y),h.context===null?h.context=y:h.pendingContext=y,h=qt(a),h.payload={element:l},v=v===void 0?null:v,v!==null&&(h.callback=v),l=on(i,h,a),l!==null&&(la(l,i,a),qn(l,i,a))}function Fb(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function f2(i,a){Fb(i,a),(i=i.alternate)&&Fb(i,a)}function Bb(i){if(i.tag===13||i.tag===31){var a=_o(i,67108864);a!==null&&la(a,i,67108864),f2(i,67108864)}}function qb(i){if(i.tag===13||i.tag===31){var a=La();a=Gn(a);var l=_o(i,a);l!==null&&la(l,i,a),f2(i,a)}}var ig=!0;function bI(i,a,l,h){var y=ae.T;ae.T=null;var v=pe.p;try{pe.p=2,d2(i,a,l,h)}finally{pe.p=v,ae.T=y}}function wI(i,a,l,h){var y=ae.T;ae.T=null;var v=pe.p;try{pe.p=8,d2(i,a,l,h)}finally{pe.p=v,ae.T=y}}function d2(i,a,l,h){if(ig){var y=p2(h);if(y===null)Z0(i,a,h,sg,l),Hb(i,h);else if(EI(y,i,a,l,h))h.stopPropagation();else if(Hb(i,h),a&4&&-1<AI.indexOf(i)){for(;y!==null;){var v=Ei(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var N=At(v.pendingLanes);if(N!==0){var K=v;for(K.pendingLanes|=2,K.entangledLanes|=2;N;){var ue=1<<31-Zt(N);K.entanglements[1]|=ue,N&=~ue}il(v),(Hn&6)===0&&(Bm=Jt()+500,Wd(0))}}break;case 31:case 13:K=_o(v,2),K!==null&&la(K,v,2),zm(),f2(v,2)}if(v=p2(h),v===null&&Z0(i,a,h,sg,l),v===y)break;y=v}y!==null&&h.stopPropagation()}else Z0(i,a,h,null,l)}}function p2(i){return i=zi(i),m2(i)}var sg=null;function m2(i){if(sg=null,i=ns(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===31){if(i=c(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return sg=i,null}function zb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nn()){case Ht:return 2;case un:return 8;case en:case bt:return 32;case Wt:return 268435456;default:return 32}default:return 32}}var g2=!1,Mu=null,Vu=null,ju=null,tp=new Map,np=new Map,Uu=[],AI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hb(i,a){switch(i){case"focusin":case"focusout":Mu=null;break;case"dragenter":case"dragleave":Vu=null;break;case"mouseover":case"mouseout":ju=null;break;case"pointerover":case"pointerout":tp.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":np.delete(a.pointerId)}}function rp(i,a,l,h,y,v){return i===null||i.nativeEvent!==v?(i={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[y]},a!==null&&(a=Ei(a),a!==null&&Bb(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function EI(i,a,l,h,y){switch(a){case"focusin":return Mu=rp(Mu,i,a,l,h,y),!0;case"dragenter":return Vu=rp(Vu,i,a,l,h,y),!0;case"mouseover":return ju=rp(ju,i,a,l,h,y),!0;case"pointerover":var v=y.pointerId;return tp.set(v,rp(tp.get(v)||null,i,a,l,h,y)),!0;case"gotpointercapture":return v=y.pointerId,np.set(v,rp(np.get(v)||null,i,a,l,h,y)),!0}return!1}function Gb(i){var a=ns(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,Ai(i.priority,function(){qb(l)});return}}else if(a===31){if(a=c(l),a!==null){i.blockedOn=a,Ai(i.priority,function(){qb(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ag(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=p2(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Ea=h,l.target.dispatchEvent(h),Ea=null}else return a=Ei(l),a!==null&&Bb(a),i.blockedOn=l,!1;a.shift()}return!0}function Kb(i,a,l){ag(i)&&l.delete(a)}function SI(){g2=!1,Mu!==null&&ag(Mu)&&(Mu=null),Vu!==null&&ag(Vu)&&(Vu=null),ju!==null&&ag(ju)&&(ju=null),tp.forEach(Kb),np.forEach(Kb)}function og(i,a){i.blockedOn===a&&(i.blockedOn=null,g2||(g2=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,SI)))}var lg=null;function $b(i){lg!==i&&(lg=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){lg===i&&(lg=null);for(var a=0;a<i.length;a+=3){var l=i[a],h=i[a+1],y=i[a+2];if(typeof h!="function"){if(m2(h||l)===null)continue;break}var v=Ei(l);v!==null&&(i.splice(a,3),a-=3,p0(v,{pending:!0,data:y,method:l.method,action:h},h,y))}}))}function uf(i){function a(ue){return og(ue,i)}Mu!==null&&og(Mu,i),Vu!==null&&og(Vu,i),ju!==null&&og(ju,i),tp.forEach(a),np.forEach(a);for(var l=0;l<Uu.length;l++){var h=Uu[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Uu.length&&(l=Uu[0],l.blockedOn===null);)Gb(l),l.blockedOn===null&&Uu.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var y=l[h],v=l[h+1],N=y[Wn]||null;if(typeof v=="function")N||$b(l);else if(N){var K=null;if(v&&v.hasAttribute("formAction")){if(y=v,N=v[Wn]||null)K=N.formAction;else if(m2(y)!==null)continue}else K=N.action;typeof K=="function"?l[h+1]=K:(l.splice(h,3),h-=3),$b(l)}}}function Wb(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(N){return y=N})},focusReset:"manual",scroll:"manual"})}function a(){y!==null&&(y(),y=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),y!==null&&(y(),y=null)}}}function y2(i){this._internalRoot=i}ug.prototype.render=y2.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,h=La();Ub(l,h,i,a,null,null)},ug.prototype.unmount=y2.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Ub(i.current,2,null,i,null,null),zm(),a[Kr]=null}};function ug(i){this._internalRoot=i}ug.prototype.unstable_scheduleHydration=function(i){if(i){var a=Gr();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Uu.length&&a!==0&&a<Uu[l].priority;l++);Uu.splice(l,0,i),l===0&&Gb(i)}};var Yb=e.version;if(Yb!=="19.2.4")throw Error(r(527,Yb,"19.2.4"));pe.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var xI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cg.isDisabled&&cg.supportsFiber)try{tn=cg.inject(xI),kt=cg}catch{}}return sp.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,h="",y=nv,v=rv,N=iv;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError)),a=Vb(i,1,!1,null,null,l,h,null,y,v,N,Wb),i[Kr]=a.current,J0(i),new y2(a)},sp.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var h=!1,y="",v=nv,N=rv,K=iv,ue=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(K=l.onRecoverableError),l.formState!==void 0&&(ue=l.formState)),a=Vb(i,1,!0,a,l??null,h,y,ue,v,N,K,Wb),a.context=jb(null),l=a.current,h=La(),h=Gn(h),y=qt(h),y.callback=null,on(l,y,h),l=h,a.current.lanes=l,Nt(a,l),il(a),i[Kr]=a.current,J0(i),new ug(a)},sp.version="19.2.4",sp}var sw;function OI(){if(sw)return b2.exports;sw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),b2.exports=PI(),b2.exports}var MI=OI();const VI="modulepreload",jI=function(n){return"/TWKT_employee/"+n},aw={},Nf=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");s=f(t.map(d=>{if(d=jI(d),d in aw)return;aw[d]=!0;const g=d.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${w}`))return;const E=document.createElement("link");if(E.rel=g?"stylesheet":VI,g||(E.as="script"),E.crossOrigin="",E.href=d,c&&E.setAttribute("nonce",c),document.head.appendChild(E),g)return new Promise((b,V)=>{E.addEventListener("load",b),E.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return s.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},UI=()=>{};var ow={};const IE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},FI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],c=n[t++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},NE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,c=u?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,g=o>>2,w=(o&3)<<4|c>>4;let E=(c&15)<<2|d>>6,b=d&63;f||(b=64,u||(E=64)),r.push(t[g],t[w],t[E],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(IE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):FI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||c==null||d==null||w==null)throw new BI;const E=o<<2|c>>4;if(r.push(E),d!==64){const b=c<<4&240|d>>2;if(r.push(b),w!==64){const V=d<<6&192|w;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class BI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qI=function(n){const e=IE(n);return NE.encodeByteArray(e,!0)},Yg=function(n){return qI(n).replace(/\./g,"")},RE=function(n){try{return NE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function CE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zI=()=>CE().__FIREBASE_DEFAULTS__,HI=()=>{if(typeof process>"u"||typeof ow>"u")return;const n=ow.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},GI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&RE(n[1]);return e&&JSON.parse(e)},x1=()=>{try{return UI()||zI()||HI()||GI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},LE=n=>x1()?.emulatorHosts?.[n],kE=n=>{const e=LE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},DE=()=>x1()?.config,PE=n=>x1()?.[`_${n}`];class KI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function gc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function T1(n){return(await fetch(n,{credentials:"include"})).ok}function OE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Yg(JSON.stringify(t)),Yg(JSON.stringify(u)),""].join(".")}const wp={};function $I(){const n={prod:[],emulator:[]};for(const e of Object.keys(wp))wp[e]?n.emulator.push(e):n.prod.push(e);return n}function WI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let lw=!1;function i_(n,e){if(typeof window>"u"||typeof document>"u"||!gc(window.location.host)||wp[n]===e||wp[n]||lw)return;wp[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=$I().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function c(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,b){E.setAttribute("width","24"),E.setAttribute("id",b),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function d(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{lw=!0,u()},E}function g(E,b){E.setAttribute("id",b),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=WI(r),b=t("text"),V=document.getElementById(b)||document.createElement("span"),M=t("learnmore"),B=document.getElementById(M)||document.createElement("a"),U=t("preprendIcon"),ne=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Y=E.element;c(Y),g(B,M);const ee=d();f(ne,U),Y.append(ne,V,B,ee),document.body.appendChild(Y)}o?(V.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Pi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pi())}function ME(){const n=x1()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function JI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZI(){const n=Pi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function VE(){return!ME()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jE(){return!ME()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function UE(){try{return typeof indexedDB=="object"}catch{return!1}}function eN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const tN="FirebaseError";class bl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=tN,Object.setPrototypeOf(this,bl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xp.prototype.create)}}class Xp{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?nN(o,r):"Error",c=`${this.serviceName}: ${u} (${s}).`;return new bl(s,c,r)}}function nN(n,e){return n.replace(rN,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const rN=/\{\$([^}]+)}/g;function iN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ko(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(uw(o)&&uw(u)){if(!ko(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function uw(n){return n!==null&&typeof n=="object"}function Jp(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mp(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function gp(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function sN(n,e){const t=new aN(n,e);return t.subscribe.bind(t)}class aN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");oN(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=S2),s.error===void 0&&(s.error=S2),s.complete===void 0&&(s.complete=S2);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function S2(){}function rr(n){return n&&n._delegate?n._delegate:n}class ac{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Hc="[DEFAULT]";class lN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new KI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cN(e))try{this.getOrInitializeService({instanceIdentifier:Hc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Hc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hc){return this.instances.has(e)}getOptions(e=Hc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uN(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hc){return this.component?this.component.multipleInstances?e:Hc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uN(n){return n===Hc?void 0:n}function cN(n){return n.instantiationMode==="EAGER"}class hN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var xn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(xn||(xn={}));const fN={debug:xn.DEBUG,verbose:xn.VERBOSE,info:xn.INFO,warn:xn.WARN,error:xn.ERROR,silent:xn.SILENT},dN=xn.INFO,pN={[xn.DEBUG]:"log",[xn.VERBOSE]:"log",[xn.INFO]:"info",[xn.WARN]:"warn",[xn.ERROR]:"error"},mN=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=pN[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class s_{constructor(e){this.name=e,this._logLevel=dN,this._logHandler=mN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xn.DEBUG,...e),this._logHandler(this,xn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xn.VERBOSE,...e),this._logHandler(this,xn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xn.INFO,...e),this._logHandler(this,xn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xn.WARN,...e),this._logHandler(this,xn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xn.ERROR,...e),this._logHandler(this,xn.ERROR,...e)}}const gN=(n,e)=>e.some(t=>n instanceof t);let cw,hw;function yN(){return cw||(cw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _N(){return hw||(hw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FE=new WeakMap,ly=new WeakMap,BE=new WeakMap,x2=new WeakMap,a_=new WeakMap;function vN(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(nc(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&FE.set(t,n)}).catch(()=>{}),a_.set(e,n),e}function bN(n){if(ly.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});ly.set(n,e)}let uy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ly.get(n);if(e==="objectStoreNames")return n.objectStoreNames||BE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return nc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function wN(n){uy=n(uy)}function AN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(T2(this),e,...t);return BE.set(r,e.sort?e.sort():[e]),nc(r)}:_N().includes(n)?function(...e){return n.apply(T2(this),e),nc(FE.get(this))}:function(...e){return nc(n.apply(T2(this),e))}}function EN(n){return typeof n=="function"?AN(n):(n instanceof IDBTransaction&&bN(n),gN(n,yN())?new Proxy(n,uy):n)}function nc(n){if(n instanceof IDBRequest)return vN(n);if(x2.has(n))return x2.get(n);const e=EN(n);return e!==n&&(x2.set(n,e),a_.set(e,n)),e}const T2=n=>a_.get(n);function SN(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),c=nc(u);return r&&u.addEventListener("upgradeneeded",f=>{r(nc(u.result),f.oldVersion,f.newVersion,nc(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const xN=["get","getKey","getAll","getAllKeys","count"],TN=["put","add","delete","clear"],I2=new Map;function fw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(I2.get(e))return I2.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=TN.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||xN.includes(t)))return;const o=async function(u,...c){const f=this.transaction(u,s?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),s&&f.done]))[0]};return I2.set(e,o),o}wN(n=>({...n,get:(e,t,r)=>fw(e,t)||n.get(e,t,r),has:(e,t)=>!!fw(e,t)||n.has(e,t)}));class IN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(NN(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function NN(n){return n.getComponent()?.type==="VERSION"}const cy="@firebase/app",dw="0.14.8";const ru=new s_("@firebase/app"),RN="@firebase/app-compat",CN="@firebase/analytics-compat",LN="@firebase/analytics",kN="@firebase/app-check-compat",DN="@firebase/app-check",PN="@firebase/auth",ON="@firebase/auth-compat",MN="@firebase/database",VN="@firebase/data-connect",jN="@firebase/database-compat",UN="@firebase/functions",FN="@firebase/functions-compat",BN="@firebase/installations",qN="@firebase/installations-compat",zN="@firebase/messaging",HN="@firebase/messaging-compat",GN="@firebase/performance",KN="@firebase/performance-compat",$N="@firebase/remote-config",WN="@firebase/remote-config-compat",YN="@firebase/storage",QN="@firebase/storage-compat",XN="@firebase/firestore",JN="@firebase/ai",ZN="@firebase/firestore-compat",eR="firebase",tR="12.9.0";const Qg="[DEFAULT]",nR={[cy]:"fire-core",[RN]:"fire-core-compat",[LN]:"fire-analytics",[CN]:"fire-analytics-compat",[DN]:"fire-app-check",[kN]:"fire-app-check-compat",[PN]:"fire-auth",[ON]:"fire-auth-compat",[MN]:"fire-rtdb",[VN]:"fire-data-connect",[jN]:"fire-rtdb-compat",[UN]:"fire-fn",[FN]:"fire-fn-compat",[BN]:"fire-iid",[qN]:"fire-iid-compat",[zN]:"fire-fcm",[HN]:"fire-fcm-compat",[GN]:"fire-perf",[KN]:"fire-perf-compat",[$N]:"fire-rc",[WN]:"fire-rc-compat",[YN]:"fire-gcs",[QN]:"fire-gcs-compat",[XN]:"fire-fst",[ZN]:"fire-fst-compat",[JN]:"fire-vertex","fire-js":"fire-js",[eR]:"fire-js-all"};const Xg=new Map,rR=new Map,hy=new Map;function pw(n,e){try{n.container.addComponent(e)}catch(t){ru.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ih(n){const e=n.name;if(hy.has(e))return ru.debug(`There were multiple attempts to register component ${e}.`),!1;hy.set(e,n);for(const t of Xg.values())pw(t,n);for(const t of rR.values())pw(t,n);return!0}function od(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function iR(n,e,t=Qg){od(n,e).clearInstance(t)}function Pa(n){return n==null?!1:n.settings!==void 0}const sR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rc=new Xp("app","Firebase",sR);class aR{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ac("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rc.create("app-deleted",{appName:this._name})}}const vh=tR;function qE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Qg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw rc.create("bad-app-name",{appName:String(s)});if(t||(t=DE()),!t)throw rc.create("no-options");const o=Xg.get(s);if(o){if(ko(t,o.options)&&ko(r,o.config))return o;throw rc.create("duplicate-app",{appName:s})}const u=new hN(s);for(const f of hy.values())u.addComponent(f);const c=new aR(t,r,u);return Xg.set(s,c),c}function o_(n=Qg){const e=Xg.get(n);if(!e&&n===Qg&&DE())return qE();if(!e)throw rc.create("no-app",{appName:n});return e}function fl(n,e,t){let r=nR[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ru.warn(u.join(" "));return}ih(new ac(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const oR="firebase-heartbeat-database",lR=1,Pp="firebase-heartbeat-store";let N2=null;function zE(){return N2||(N2=SN(oR,lR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pp)}catch(t){console.warn(t)}}}}).catch(n=>{throw rc.create("idb-open",{originalErrorMessage:n.message})})),N2}async function uR(n){try{const t=(await zE()).transaction(Pp),r=await t.objectStore(Pp).get(HE(n));return await t.done,r}catch(e){if(e instanceof bl)ru.warn(e.message);else{const t=rc.create("idb-get",{originalErrorMessage:e?.message});ru.warn(t.message)}}}async function mw(n,e){try{const r=(await zE()).transaction(Pp,"readwrite");await r.objectStore(Pp).put(e,HE(n)),await r.done}catch(t){if(t instanceof bl)ru.warn(t.message);else{const r=rc.create("idb-set",{originalErrorMessage:t?.message});ru.warn(r.message)}}}function HE(n){return`${n.name}!${n.options.appId}`}const cR=1024,hR=30;class fR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new pR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=gw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>hR){const s=mR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ru.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gw(),{heartbeatsToSend:t,unsentEntries:r}=dR(this._heartbeatsCache.heartbeats),s=Yg(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ru.warn(e),""}}}function gw(){return new Date().toISOString().substring(0,10)}function dR(n,e=cR){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),yw(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),yw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class pR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UE()?eN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await uR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function yw(n){return Yg(JSON.stringify({version:2,heartbeats:n})).length}function mR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function gR(n){ih(new ac("platform-logger",e=>new IN(e),"PRIVATE")),ih(new ac("heartbeat",e=>new fR(e),"PRIVATE")),fl(cy,dw,n),fl(cy,dw,"esm2020"),fl("fire-js","")}gR("");function GE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yR=GE,KE=new Xp("auth","Firebase",GE());const Jg=new s_("@firebase/auth");function _R(n,...e){Jg.logLevel<=xn.WARN&&Jg.warn(`Auth (${vh}): ${n}`,...e)}function Rg(n,...e){Jg.logLevel<=xn.ERROR&&Jg.error(`Auth (${vh}): ${n}`,...e)}function Do(n,...e){throw l_(n,...e)}function dl(n,...e){return l_(n,...e)}function $E(n,e,t){const r={...yR(),[e]:t};return new Xp("auth","Firebase",r).create(e,{appName:n.name})}function nu(n){return $E(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return KE.create(n,...e)}function Gt(n,e,...t){if(!n)throw l_(e,...t)}function Jl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Rg(e),new Error(e)}function iu(n,e){n||Jl(e)}function fy(){return typeof self<"u"&&self.location?.href||""}function vR(){return _w()==="http:"||_w()==="https:"}function _w(){return typeof self<"u"&&self.location?.protocol||null}function bR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vR()||XI()||"connection"in navigator)?navigator.onLine:!0}function wR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Zp{constructor(e,t){this.shortDelay=e,this.longDelay=t,iu(t>e,"Short delay should be less than long delay!"),this.isMobile=YI()||JI()}get(){return bR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function u_(n,e){iu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class WE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ER=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SR=new Zp(3e4,6e4);function yc(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function _c(n,e,t,r,s={}){return YE(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const c=Jp({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...o};return QI()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&gc(n.emulatorConfig.host)&&(d.credentials="include"),WE.fetch()(await QE(n,n.config.apiHost,t,c),d)})}async function YE(n,e,t){n._canInitEmulator=!1;const r={...AR,...e};try{const s=new TR(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw hg(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw hg(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw hg(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw hg(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw $E(n,g,d);Do(n,g)}}catch(s){if(s instanceof bl)throw s;Do(n,"network-request-failed",{message:String(s)})}}async function em(n,e,t,r,s={}){const o=await _c(n,e,t,r,s);return"mfaPendingCredential"in o&&Do(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function QE(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?u_(n.config,s):`${n.config.apiScheme}://${s}`;return ER.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function xR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(dl(this.auth,"network-request-failed")),SR.get())})}}function hg(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=dl(n,e,r);return s.customData._tokenResponse=t,s}function vw(n){return n!==void 0&&n.enterprise!==void 0}class IR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return xR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NR(n,e){return _c(n,"GET","/v2/recaptchaConfig",yc(n,e))}async function RR(n,e){return _c(n,"POST","/v1/accounts:delete",e)}async function Zg(n,e){return _c(n,"POST","/v1/accounts:lookup",e)}function Ap(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CR(n,e=!1){const t=rr(n),r=await t.getIdToken(e),s=c_(r);Gt(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o?.sign_in_provider;return{claims:s,token:r,authTime:Ap(R2(s.auth_time)),issuedAtTime:Ap(R2(s.iat)),expirationTime:Ap(R2(s.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function R2(n){return Number(n)*1e3}function c_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Rg("JWT malformed, contained fewer than 3 sections"),null;try{const s=RE(t);return s?JSON.parse(s):(Rg("Failed to decode base64 JWT payload"),null)}catch(s){return Rg("Caught error parsing JWT payload as JSON",s?.toString()),null}}function bw(n){const e=c_(n);return Gt(e,"internal-error"),Gt(typeof e.exp<"u","internal-error"),Gt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Op(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof bl&&LR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function LR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class kR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ap(this.lastLoginAt),this.creationTime=Ap(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function e1(n){const e=n.auth,t=await n.getIdToken(),r=await Op(n,Zg(e,{idToken:t}));Gt(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?XE(s.providerUserInfo):[],u=PR(n.providerData,o),c=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!u?.length,d=c?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new dy(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function DR(n){const e=rr(n);await e1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PR(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function XE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function OR(n,e){const t=await YE(n,{},async()=>{const r=Jp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await QE(n,s,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return n.emulatorConfig&&gc(n.emulatorConfig.host)&&(f.credentials="include"),WE.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function MR(n,e){return _c(n,"POST","/v2/accounts:revokeToken",yc(n,e))}class Rf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Gt(e.idToken,"internal-error"),Gt(typeof e.idToken<"u","internal-error"),Gt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Gt(e.length!==0,"internal-error");const t=bw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Gt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await OR(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new Rf;return r&&(Gt(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Gt(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Gt(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rf,this.toJSON())}_performRefresh(){return Jl("not implemented")}}function Bu(n,e){Gt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class No{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new kR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Op(this,this.stsTokenManager.getToken(this.auth,e));return Gt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return CR(this,e)}reload(){return DR(this)}_assign(e){this!==e&&(Gt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new No({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await e1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pa(this.auth.app))return Promise.reject(nu(this.auth));const e=await this.getIdToken();return await Op(this,RR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,c=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:w,emailVerified:E,isAnonymous:b,providerData:V,stsTokenManager:M}=t;Gt(w&&M,e,"internal-error");const B=Rf.fromJSON(this.name,M);Gt(typeof w=="string",e,"internal-error"),Bu(r,e.name),Bu(s,e.name),Gt(typeof E=="boolean",e,"internal-error"),Gt(typeof b=="boolean",e,"internal-error"),Bu(o,e.name),Bu(u,e.name),Bu(c,e.name),Bu(f,e.name),Bu(d,e.name),Bu(g,e.name);const U=new No({uid:w,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:b,photoURL:u,phoneNumber:o,tenantId:c,stsTokenManager:B,createdAt:d,lastLoginAt:g});return V&&Array.isArray(V)&&(U.providerData=V.map(ne=>({...ne}))),f&&(U._redirectEventId=f),U}static async _fromIdTokenResponse(e,t,r=!1){const s=new Rf;s.updateFromServerResponse(t);const o=new No({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await e1(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Gt(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?XE(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!o?.length,c=new Rf;c.updateFromIdToken(r);const f=new No({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new dy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const ww=new Map;function Zl(n){iu(n instanceof Function,"Expected a class definition");let e=ww.get(n);return e?(iu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ww.set(n,e),e)}class JE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}JE.type="NONE";const Aw=JE;function Cg(n,e,t){return`firebase:${n}:${e}:${t}`}class Cf{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Cg(this.userKey,s.apiKey,o),this.fullPersistenceKey=Cg("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Zg(this.auth,{idToken:e}).catch(()=>{});return t?No._fromGetAccountInfoResponse(this.auth,t,e):null}return No._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Cf(Zl(Aw),e,r);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||Zl(Aw);const u=Cg(r,e.config.apiKey,e.name);let c=null;for(const d of t)try{const g=await d._get(u);if(g){let w;if(typeof g=="string"){const E=await Zg(e,{idToken:g}).catch(()=>{});if(!E)break;w=await No._fromGetAccountInfoResponse(e,E,g)}else w=No._fromJSON(e,g);d!==o&&(c=w),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Cf(o,e,r):(o=f[0],c&&await o._set(u,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Cf(o,e,r))}}function Ew(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(n3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(i3(e))return"Blackberry";if(s3(e))return"Webos";if(e3(e))return"Safari";if((e.includes("chrome/")||t3(e))&&!e.includes("edge/"))return"Chrome";if(r3(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function ZE(n=Pi()){return/firefox\//i.test(n)}function e3(n=Pi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function t3(n=Pi()){return/crios\//i.test(n)}function n3(n=Pi()){return/iemobile/i.test(n)}function r3(n=Pi()){return/android/i.test(n)}function i3(n=Pi()){return/blackberry/i.test(n)}function s3(n=Pi()){return/webos/i.test(n)}function h_(n=Pi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function VR(n=Pi()){return h_(n)&&!!window.navigator?.standalone}function jR(){return ZI()&&document.documentMode===10}function a3(n=Pi()){return h_(n)||r3(n)||s3(n)||i3(n)||/windows phone/i.test(n)||n3(n)}function o3(n,e=[]){let t;switch(n){case"Browser":t=Ew(Pi());break;case"Worker":t=`${Ew(Pi())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vh}/${r}`}class UR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,c)=>{try{const f=e(o);u(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function FR(n,e={}){return _c(n,"GET","/v2/passwordPolicy",yc(n,e))}const BR=6;class qR{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??BR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class zR{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sw(this),this.idTokenSubscription=new Sw(this),this.beforeStateQueue=new UR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zl(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Cf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Zg(this,{idToken:e}),r=await No._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pa(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await e1(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pa(this.app))return Promise.reject(nu(this));const t=e?rr(e):null;return t&&Gt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Gt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pa(this.app)?Promise.reject(nu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pa(this.app)?Promise.reject(nu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FR(this),t=new qR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xp("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await MR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zl(e)||this._popupRedirectResolver;Gt(t,this,"argument-error"),this.redirectPersistenceManager=await Cf.create(this,[Zl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Gt(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=o3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Pa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_R(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bh(n){return rr(n)}class Sw{constructor(e){this.auth=e,this.observer=null,this.addObserver=sN(t=>this.observer=t)}get next(){return Gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let I1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HR(n){I1=n}function l3(n){return I1.loadJS(n)}function GR(){return I1.recaptchaEnterpriseScript}function KR(){return I1.gapiScript}function $R(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class WR{constructor(){this.enterprise=new YR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class YR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const QR="recaptcha-enterprise",u3="NO_RECAPTCHA";class XR{constructor(e){this.type=QR,this.auth=bh(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,c)=>{NR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new IR(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{c(f)})})}function s(o,u,c){const f=window.grecaptcha;vw(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(u3)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WR().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(c=>{if(!t&&vw(window.grecaptcha))s(c,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=GR();f.length!==0&&(f+=c),l3(f).then(()=>{s(c,o,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})}}async function xw(n,e,t,r=!1,s=!1){const o=new XR(n);let u;if(s)u=u3;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function py(n,e,t,r,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await xw(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await xw(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(o)})}function JR(n,e){const t=od(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(ko(o,e??{}))return s;Do(s,"already-initialized")}return t.initialize({options:e})}function ZR(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Zl);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function eC(n,e,t){const r=bh(n);Gt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=c3(e),{host:u,port:c}=tC(e),f=c===null?"":`:${c}`,d={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Gt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Gt(ko(d,r.config.emulator)&&ko(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,gc(u)?(T1(`${o}//${u}${f}`),i_("Auth",!0)):nC()}function c3(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function tC(n){const e=c3(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:Tw(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:Tw(u)}}}function Tw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function nC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class f_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jl("not implemented")}_getIdTokenResponse(e){return Jl("not implemented")}_linkToIdToken(e,t){return Jl("not implemented")}_getReauthenticationResolver(e){return Jl("not implemented")}}async function rC(n,e){return _c(n,"POST","/v1/accounts:signUp",e)}async function iC(n,e){return em(n,"POST","/v1/accounts:signInWithPassword",yc(n,e))}async function sC(n,e){return em(n,"POST","/v1/accounts:signInWithEmailLink",yc(n,e))}async function aC(n,e){return em(n,"POST","/v1/accounts:signInWithEmailLink",yc(n,e))}class Mp extends f_{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Mp(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Mp(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return py(e,t,"signInWithPassword",iC);case"emailLink":return sC(e,{email:this._email,oobCode:this._password});default:Do(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return py(e,r,"signUpPassword",rC);case"emailLink":return aC(e,{idToken:t,email:this._email,oobCode:this._password});default:Do(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Lf(n,e){return em(n,"POST","/v1/accounts:signInWithIdp",yc(n,e))}const oC="http://localhost";class sh extends f_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new sh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Do("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=t;if(!r||!s)return null;const u=new sh(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Lf(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Lf(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Lf(e,t)}buildRequest(){const e={requestUri:oC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jp(t)}return e}}function lC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uC(n){const e=mp(gp(n)).link,t=e?mp(gp(e)).deep_link_id:null,r=mp(gp(n)).deep_link_id;return(r?mp(gp(r)).link:null)||r||t||e||n}class d_{constructor(e){const t=mp(gp(e)),r=t.apiKey??null,s=t.oobCode??null,o=lC(t.mode??null);Gt(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=uC(e);try{return new d_(t)}catch{return null}}}class ld{constructor(){this.providerId=ld.PROVIDER_ID}static credential(e,t){return Mp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=d_.parseLink(t);return Gt(r,"argument-error"),Mp._fromEmailAndCode(e,r.code,r.tenantId)}}ld.PROVIDER_ID="password";ld.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ld.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class h3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tm extends h3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $u extends tm{constructor(){super("facebook.com")}static credential(e){return sh._fromParams({providerId:$u.PROVIDER_ID,signInMethod:$u.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $u.credentialFromTaggedObject(e)}static credentialFromError(e){return $u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $u.credential(e.oauthAccessToken)}catch{return null}}}$u.FACEBOOK_SIGN_IN_METHOD="facebook.com";$u.PROVIDER_ID="facebook.com";class Wu extends tm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return sh._fromParams({providerId:Wu.PROVIDER_ID,signInMethod:Wu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wu.credentialFromTaggedObject(e)}static credentialFromError(e){return Wu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Wu.credential(t,r)}catch{return null}}}Wu.GOOGLE_SIGN_IN_METHOD="google.com";Wu.PROVIDER_ID="google.com";class Yu extends tm{constructor(){super("github.com")}static credential(e){return sh._fromParams({providerId:Yu.PROVIDER_ID,signInMethod:Yu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yu.credentialFromTaggedObject(e)}static credentialFromError(e){return Yu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yu.credential(e.oauthAccessToken)}catch{return null}}}Yu.GITHUB_SIGN_IN_METHOD="github.com";Yu.PROVIDER_ID="github.com";class Qu extends tm{constructor(){super("twitter.com")}static credential(e,t){return sh._fromParams({providerId:Qu.PROVIDER_ID,signInMethod:Qu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Qu.credentialFromTaggedObject(e)}static credentialFromError(e){return Qu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Qu.credential(t,r)}catch{return null}}}Qu.TWITTER_SIGN_IN_METHOD="twitter.com";Qu.PROVIDER_ID="twitter.com";async function cC(n,e){return em(n,"POST","/v1/accounts:signUp",yc(n,e))}class ah{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await No._fromIdTokenResponse(e,r,s),u=Iw(r);return new ah({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Iw(r);return new ah({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Iw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class t1 extends bl{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,t1.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new t1(e,t,r,s)}}function f3(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?t1._fromErrorAndOperation(n,o,e,r):o})}async function hC(n,e,t=!1){const r=await Op(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ah._forOperation(n,"link",r)}async function fC(n,e,t=!1){const{auth:r}=n;if(Pa(r.app))return Promise.reject(nu(r));const s="reauthenticate";try{const o=await Op(n,f3(r,s,e,n),t);Gt(o.idToken,r,"internal-error");const u=c_(o.idToken);Gt(u,r,"internal-error");const{sub:c}=u;return Gt(n.uid===c,r,"user-mismatch"),ah._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Do(r,"user-mismatch"),o}}async function d3(n,e,t=!1){if(Pa(n.app))return Promise.reject(nu(n));const r="signIn",s=await f3(n,r,e),o=await ah._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function dC(n,e){return d3(bh(n),e)}async function p3(n){const e=bh(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pC(n,e,t){if(Pa(n.app))return Promise.reject(nu(n));const r=bh(n),u=await py(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cC).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&p3(n),f}),c=await ah._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function mC(n,e,t){return Pa(n.app)?Promise.reject(nu(n)):dC(rr(n),ld.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&p3(n),r})}function gC(n,e,t,r){return rr(n).onIdTokenChanged(e,t,r)}function yC(n,e,t){return rr(n).beforeAuthStateChanged(e,t)}function _C(n,e,t,r){return rr(n).onAuthStateChanged(e,t,r)}function vC(n){return rr(n).signOut()}const n1="__sak";class m3{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(n1,"1"),this.storage.removeItem(n1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const bC=1e3,wC=10;class g3 extends m3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);jR()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,wC):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},bC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}g3.type="LOCAL";const AC=g3;class y3 extends m3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}y3.type="SESSION";const _3=y3;function EC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class N1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new N1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(u).map(async d=>d(t.origin,o)),f=await EC(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}N1.receivers=[];function p_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class SC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((c,f)=>{const d=p_("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const E=w;if(E.data.eventId===d)switch(E.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function pl(){return window}function xC(n){pl().location.href=n}function v3(){return typeof pl().WorkerGlobalScope<"u"&&typeof pl().importScripts=="function"}async function TC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IC(){return navigator?.serviceWorker?.controller||null}function NC(){return v3()?self:null}const b3="firebaseLocalStorageDb",RC=1,r1="firebaseLocalStorage",w3="fbase_key";class nm{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function R1(n,e){return n.transaction([r1],e?"readwrite":"readonly").objectStore(r1)}function CC(){const n=indexedDB.deleteDatabase(b3);return new nm(n).toPromise()}function my(){const n=indexedDB.open(b3,RC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(r1,{keyPath:w3})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(r1)?e(r):(r.close(),await CC(),e(await my()))})})}async function Nw(n,e,t){const r=R1(n,!0).put({[w3]:e,value:t});return new nm(r).toPromise()}async function LC(n,e){const t=R1(n,!1).get(e),r=await new nm(t).toPromise();return r===void 0?null:r.value}function Rw(n,e){const t=R1(n,!0).delete(e);return new nm(t).toPromise()}const kC=800,DC=3;class A3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await my(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>DC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return v3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=N1._getInstance(NC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await TC(),!this.activeServiceWorker)return;this.sender=new SC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await my();return await Nw(e,n1,"1"),await Rw(e,n1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Nw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>LC(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Rw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=R1(s,!1).getAll();return new nm(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A3.type="LOCAL";const PC=A3;new Zp(3e4,6e4);function OC(n,e){return e?Zl(e):(Gt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class m_ extends f_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Lf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Lf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function MC(n){return d3(n.auth,new m_(n),n.bypassAuthState)}function VC(n){const{auth:e,user:t}=n;return Gt(t,e,"internal-error"),fC(t,new m_(n),n.bypassAuthState)}async function jC(n){const{auth:e,user:t}=n;return Gt(t,e,"internal-error"),hC(t,new m_(n),n.bypassAuthState)}class E3{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MC;case"linkViaPopup":case"linkViaRedirect":return jC;case"reauthViaPopup":case"reauthViaRedirect":return VC;default:Do(this.auth,"internal-error")}}resolve(e){iu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){iu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const UC=new Zp(2e3,1e4);class Tf extends E3{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Tf.currentPopupAction&&Tf.currentPopupAction.cancel(),Tf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Gt(e,this.auth,"internal-error"),e}async onExecution(){iu(this.filter.length===1,"Popup operations only handle one event");const e=p_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(dl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(dl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tf.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UC.get())};e()}}Tf.currentPopupAction=null;const FC="pendingRedirect",Lg=new Map;class BC extends E3{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Lg.get(this.auth._key());if(!e){try{const r=await qC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Lg.set(this.auth._key(),e)}return this.bypassAuthState||Lg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qC(n,e){const t=GC(e),r=HC(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function zC(n,e){Lg.set(n._key(),e)}function HC(n){return Zl(n._redirectPersistence)}function GC(n){return Cg(FC,n.config.apiKey,n.name)}async function KC(n,e,t=!1){if(Pa(n.app))return Promise.reject(nu(n));const r=bh(n),s=OC(r,e),u=await new BC(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const $C=600*1e3;class WC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!S3(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(dl(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$C&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cw(e))}saveEventToCache(e){this.cachedEventUids.add(Cw(e)),this.lastProcessedEventTime=Date.now()}}function Cw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function S3({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function YC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S3(n);default:return!1}}async function QC(n,e={}){return _c(n,"GET","/v1/projects",e)}const XC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JC=/^https?/;async function ZC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await QC(n);for(const t of e)try{if(e8(t))return}catch{}Do(n,"unauthorized-domain")}function e8(n){const e=fy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!JC.test(t))return!1;if(XC.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const t8=new Zp(3e4,6e4);function Lw(){const n=pl().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function n8(n){return new Promise((e,t)=>{function r(){Lw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lw(),t(dl(n,"network-request-failed"))},timeout:t8.get()})}if(pl().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(pl().gapi?.load)r();else{const s=$R("iframefcb");return pl()[s]=()=>{gapi.load?r():t(dl(n,"network-request-failed"))},l3(`${KR()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw kg=null,e})}let kg=null;function r8(n){return kg=kg||n8(n),kg}const i8=new Zp(5e3,15e3),s8="__/auth/iframe",a8="emulator/auth/iframe",o8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u8(n){const e=n.config;Gt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?u_(e,a8):`https://${n.config.authDomain}/${s8}`,r={apiKey:e.apiKey,appName:n.name,v:vh},s=l8.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Jp(r).slice(1)}`}async function c8(n){const e=await r8(n),t=pl().gapi;return Gt(t,n,"internal-error"),e.open({where:document.body,url:u8(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o8,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=dl(n,"network-request-failed"),c=pl().setTimeout(()=>{o(u)},i8.get());function f(){pl().clearTimeout(c),s(r)}r.ping(f).then(f,()=>{o(u)})}))}const h8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f8=500,d8=600,p8="_blank",m8="http://localhost";class kw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g8(n,e,t,r=f8,s=d8){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...h8,width:r.toString(),height:s.toString(),top:o,left:u},d=Pi().toLowerCase();t&&(c=t3(d)?p8:t),ZE(d)&&(e=e||m8,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[b,V])=>`${E}${b}=${V},`,"");if(VR(d)&&c!=="_self")return y8(e||"",c),new kw(null);const w=window.open(e||"",c,g);Gt(w,n,"popup-blocked");try{w.focus()}catch{}return new kw(w)}function y8(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const _8="__/auth/handler",v8="emulator/auth/handler",b8=encodeURIComponent("fac");async function Dw(n,e,t,r,s,o){Gt(n.config.authDomain,n,"auth-domain-config-required"),Gt(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:vh,eventId:s};if(e instanceof h3){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",iN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,w]of Object.entries({}))u[g]=w}if(e instanceof tm){const g=e.getScopes().filter(w=>w!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),d=f?`#${b8}=${encodeURIComponent(f)}`:"";return`${w8(n)}?${Jp(c).slice(1)}${d}`}function w8({config:n}){return n.emulator?u_(n,v8):`https://${n.authDomain}/${_8}`}const C2="webStorageSupport";class A8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_3,this._completeRedirectFn=KC,this._overrideRedirectResult=zC}async _openPopup(e,t,r,s){iu(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Dw(e,t,r,fy(),s);return g8(e,o,p_())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await Dw(e,t,r,fy(),s);return xC(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(iu(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await c8(e),r=new WC(e);return t.register("authEvent",s=>(Gt(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(C2,{type:C2},s=>{const o=s?.[0]?.[C2];o!==void 0&&t(!!o),Do(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ZC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return a3()||e3()||h_()}}const E8=A8;var Pw="@firebase/auth",Ow="1.12.0";class S8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function x8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function T8(n){ih(new ac("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;Gt(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o3(n)},d=new zR(r,s,o,f);return ZR(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ih(new ac("auth-internal",e=>{const t=bh(e.getProvider("auth").getImmediate());return(r=>new S8(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),fl(Pw,Ow,x8(n)),fl(Pw,Ow,"esm2020")}const I8=300,N8=PE("authIdTokenMaxAge")||I8;let Mw=null;const R8=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>N8)return;const s=t?.token;Mw!==s&&(Mw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function x3(n=o_()){const e=od(n,"auth");if(e.isInitialized())return e.getImmediate();const t=JR(n,{popupRedirectResolver:E8,persistence:[PC,AC,_3]}),r=PE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=R8(o.toString());yC(t,u,()=>u(t.currentUser)),gC(t,c=>u(c))}}const s=LE("auth");return s&&eC(t,`http://${s}`),t}function C8(){return document.getElementsByTagName("head")?.[0]??document}HR({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=dl("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",C8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});T8("Browser");var Vw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ic,T3;(function(){var n;function e(H,O){function C(){}C.prototype=O.prototype,H.F=O.prototype,H.prototype=new C,H.prototype.constructor=H,H.D=function(G,I,P){for(var R=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)R[oe-2]=arguments[oe];return O.prototype[I].apply(G,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(H,O,C){C||(C=0);const G=Array(16);if(typeof O=="string")for(var I=0;I<16;++I)G[I]=O.charCodeAt(C++)|O.charCodeAt(C++)<<8|O.charCodeAt(C++)<<16|O.charCodeAt(C++)<<24;else for(I=0;I<16;++I)G[I]=O[C++]|O[C++]<<8|O[C++]<<16|O[C++]<<24;O=H.g[0],C=H.g[1],I=H.g[2];let P=H.g[3],R;R=O+(P^C&(I^P))+G[0]+3614090360&4294967295,O=C+(R<<7&4294967295|R>>>25),R=P+(I^O&(C^I))+G[1]+3905402710&4294967295,P=O+(R<<12&4294967295|R>>>20),R=I+(C^P&(O^C))+G[2]+606105819&4294967295,I=P+(R<<17&4294967295|R>>>15),R=C+(O^I&(P^O))+G[3]+3250441966&4294967295,C=I+(R<<22&4294967295|R>>>10),R=O+(P^C&(I^P))+G[4]+4118548399&4294967295,O=C+(R<<7&4294967295|R>>>25),R=P+(I^O&(C^I))+G[5]+1200080426&4294967295,P=O+(R<<12&4294967295|R>>>20),R=I+(C^P&(O^C))+G[6]+2821735955&4294967295,I=P+(R<<17&4294967295|R>>>15),R=C+(O^I&(P^O))+G[7]+4249261313&4294967295,C=I+(R<<22&4294967295|R>>>10),R=O+(P^C&(I^P))+G[8]+1770035416&4294967295,O=C+(R<<7&4294967295|R>>>25),R=P+(I^O&(C^I))+G[9]+2336552879&4294967295,P=O+(R<<12&4294967295|R>>>20),R=I+(C^P&(O^C))+G[10]+4294925233&4294967295,I=P+(R<<17&4294967295|R>>>15),R=C+(O^I&(P^O))+G[11]+2304563134&4294967295,C=I+(R<<22&4294967295|R>>>10),R=O+(P^C&(I^P))+G[12]+1804603682&4294967295,O=C+(R<<7&4294967295|R>>>25),R=P+(I^O&(C^I))+G[13]+4254626195&4294967295,P=O+(R<<12&4294967295|R>>>20),R=I+(C^P&(O^C))+G[14]+2792965006&4294967295,I=P+(R<<17&4294967295|R>>>15),R=C+(O^I&(P^O))+G[15]+1236535329&4294967295,C=I+(R<<22&4294967295|R>>>10),R=O+(I^P&(C^I))+G[1]+4129170786&4294967295,O=C+(R<<5&4294967295|R>>>27),R=P+(C^I&(O^C))+G[6]+3225465664&4294967295,P=O+(R<<9&4294967295|R>>>23),R=I+(O^C&(P^O))+G[11]+643717713&4294967295,I=P+(R<<14&4294967295|R>>>18),R=C+(P^O&(I^P))+G[0]+3921069994&4294967295,C=I+(R<<20&4294967295|R>>>12),R=O+(I^P&(C^I))+G[5]+3593408605&4294967295,O=C+(R<<5&4294967295|R>>>27),R=P+(C^I&(O^C))+G[10]+38016083&4294967295,P=O+(R<<9&4294967295|R>>>23),R=I+(O^C&(P^O))+G[15]+3634488961&4294967295,I=P+(R<<14&4294967295|R>>>18),R=C+(P^O&(I^P))+G[4]+3889429448&4294967295,C=I+(R<<20&4294967295|R>>>12),R=O+(I^P&(C^I))+G[9]+568446438&4294967295,O=C+(R<<5&4294967295|R>>>27),R=P+(C^I&(O^C))+G[14]+3275163606&4294967295,P=O+(R<<9&4294967295|R>>>23),R=I+(O^C&(P^O))+G[3]+4107603335&4294967295,I=P+(R<<14&4294967295|R>>>18),R=C+(P^O&(I^P))+G[8]+1163531501&4294967295,C=I+(R<<20&4294967295|R>>>12),R=O+(I^P&(C^I))+G[13]+2850285829&4294967295,O=C+(R<<5&4294967295|R>>>27),R=P+(C^I&(O^C))+G[2]+4243563512&4294967295,P=O+(R<<9&4294967295|R>>>23),R=I+(O^C&(P^O))+G[7]+1735328473&4294967295,I=P+(R<<14&4294967295|R>>>18),R=C+(P^O&(I^P))+G[12]+2368359562&4294967295,C=I+(R<<20&4294967295|R>>>12),R=O+(C^I^P)+G[5]+4294588738&4294967295,O=C+(R<<4&4294967295|R>>>28),R=P+(O^C^I)+G[8]+2272392833&4294967295,P=O+(R<<11&4294967295|R>>>21),R=I+(P^O^C)+G[11]+1839030562&4294967295,I=P+(R<<16&4294967295|R>>>16),R=C+(I^P^O)+G[14]+4259657740&4294967295,C=I+(R<<23&4294967295|R>>>9),R=O+(C^I^P)+G[1]+2763975236&4294967295,O=C+(R<<4&4294967295|R>>>28),R=P+(O^C^I)+G[4]+1272893353&4294967295,P=O+(R<<11&4294967295|R>>>21),R=I+(P^O^C)+G[7]+4139469664&4294967295,I=P+(R<<16&4294967295|R>>>16),R=C+(I^P^O)+G[10]+3200236656&4294967295,C=I+(R<<23&4294967295|R>>>9),R=O+(C^I^P)+G[13]+681279174&4294967295,O=C+(R<<4&4294967295|R>>>28),R=P+(O^C^I)+G[0]+3936430074&4294967295,P=O+(R<<11&4294967295|R>>>21),R=I+(P^O^C)+G[3]+3572445317&4294967295,I=P+(R<<16&4294967295|R>>>16),R=C+(I^P^O)+G[6]+76029189&4294967295,C=I+(R<<23&4294967295|R>>>9),R=O+(C^I^P)+G[9]+3654602809&4294967295,O=C+(R<<4&4294967295|R>>>28),R=P+(O^C^I)+G[12]+3873151461&4294967295,P=O+(R<<11&4294967295|R>>>21),R=I+(P^O^C)+G[15]+530742520&4294967295,I=P+(R<<16&4294967295|R>>>16),R=C+(I^P^O)+G[2]+3299628645&4294967295,C=I+(R<<23&4294967295|R>>>9),R=O+(I^(C|~P))+G[0]+4096336452&4294967295,O=C+(R<<6&4294967295|R>>>26),R=P+(C^(O|~I))+G[7]+1126891415&4294967295,P=O+(R<<10&4294967295|R>>>22),R=I+(O^(P|~C))+G[14]+2878612391&4294967295,I=P+(R<<15&4294967295|R>>>17),R=C+(P^(I|~O))+G[5]+4237533241&4294967295,C=I+(R<<21&4294967295|R>>>11),R=O+(I^(C|~P))+G[12]+1700485571&4294967295,O=C+(R<<6&4294967295|R>>>26),R=P+(C^(O|~I))+G[3]+2399980690&4294967295,P=O+(R<<10&4294967295|R>>>22),R=I+(O^(P|~C))+G[10]+4293915773&4294967295,I=P+(R<<15&4294967295|R>>>17),R=C+(P^(I|~O))+G[1]+2240044497&4294967295,C=I+(R<<21&4294967295|R>>>11),R=O+(I^(C|~P))+G[8]+1873313359&4294967295,O=C+(R<<6&4294967295|R>>>26),R=P+(C^(O|~I))+G[15]+4264355552&4294967295,P=O+(R<<10&4294967295|R>>>22),R=I+(O^(P|~C))+G[6]+2734768916&4294967295,I=P+(R<<15&4294967295|R>>>17),R=C+(P^(I|~O))+G[13]+1309151649&4294967295,C=I+(R<<21&4294967295|R>>>11),R=O+(I^(C|~P))+G[4]+4149444226&4294967295,O=C+(R<<6&4294967295|R>>>26),R=P+(C^(O|~I))+G[11]+3174756917&4294967295,P=O+(R<<10&4294967295|R>>>22),R=I+(O^(P|~C))+G[2]+718787259&4294967295,I=P+(R<<15&4294967295|R>>>17),R=C+(P^(I|~O))+G[9]+3951481745&4294967295,H.g[0]=H.g[0]+O&4294967295,H.g[1]=H.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,H.g[2]=H.g[2]+I&4294967295,H.g[3]=H.g[3]+P&4294967295}r.prototype.v=function(H,O){O===void 0&&(O=H.length);const C=O-this.blockSize,G=this.C;let I=this.h,P=0;for(;P<O;){if(I==0)for(;P<=C;)s(this,H,P),P+=this.blockSize;if(typeof H=="string"){for(;P<O;)if(G[I++]=H.charCodeAt(P++),I==this.blockSize){s(this,G),I=0;break}}else for(;P<O;)if(G[I++]=H[P++],I==this.blockSize){s(this,G),I=0;break}}this.h=I,this.o+=O},r.prototype.A=function(){var H=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);H[0]=128;for(var O=1;O<H.length-8;++O)H[O]=0;O=this.o*8;for(var C=H.length-8;C<H.length;++C)H[C]=O&255,O/=256;for(this.v(H),H=Array(16),O=0,C=0;C<4;++C)for(let G=0;G<32;G+=8)H[O++]=this.g[C]>>>G&255;return H};function o(H,O){var C=c;return Object.prototype.hasOwnProperty.call(C,H)?C[H]:C[H]=O(H)}function u(H,O){this.h=O;const C=[];let G=!0;for(let I=H.length-1;I>=0;I--){const P=H[I]|0;G&&P==O||(C[I]=P,G=!1)}this.g=C}var c={};function f(H){return-128<=H&&H<128?o(H,function(O){return new u([O|0],O<0?-1:0)}):new u([H|0],H<0?-1:0)}function d(H){if(isNaN(H)||!isFinite(H))return w;if(H<0)return B(d(-H));const O=[];let C=1;for(let G=0;H>=C;G++)O[G]=H/C|0,C*=4294967296;return new u(O,0)}function g(H,O){if(H.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(H.charAt(0)=="-")return B(g(H.substring(1),O));if(H.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=d(Math.pow(O,8));let G=w;for(let P=0;P<H.length;P+=8){var I=Math.min(8,H.length-P);const R=parseInt(H.substring(P,P+I),O);I<8?(I=d(Math.pow(O,I)),G=G.j(I).add(d(R))):(G=G.j(C),G=G.add(d(R)))}return G}var w=f(0),E=f(1),b=f(16777216);n=u.prototype,n.m=function(){if(M(this))return-B(this).m();let H=0,O=1;for(let C=0;C<this.g.length;C++){const G=this.i(C);H+=(G>=0?G:4294967296+G)*O,O*=4294967296}return H},n.toString=function(H){if(H=H||10,H<2||36<H)throw Error("radix out of range: "+H);if(V(this))return"0";if(M(this))return"-"+B(this).toString(H);const O=d(Math.pow(H,6));var C=this;let G="";for(;;){const I=ee(C,O).g;C=U(C,I.j(O));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(H);if(C=I,V(C))return P+G;for(;P.length<6;)P="0"+P;G=P+G}},n.i=function(H){return H<0?0:H<this.g.length?this.g[H]:this.h};function V(H){if(H.h!=0)return!1;for(let O=0;O<H.g.length;O++)if(H.g[O]!=0)return!1;return!0}function M(H){return H.h==-1}n.l=function(H){return H=U(this,H),M(H)?-1:V(H)?0:1};function B(H){const O=H.g.length,C=[];for(let G=0;G<O;G++)C[G]=~H.g[G];return new u(C,~H.h).add(E)}n.abs=function(){return M(this)?B(this):this},n.add=function(H){const O=Math.max(this.g.length,H.g.length),C=[];let G=0;for(let I=0;I<=O;I++){let P=G+(this.i(I)&65535)+(H.i(I)&65535),R=(P>>>16)+(this.i(I)>>>16)+(H.i(I)>>>16);G=R>>>16,P&=65535,R&=65535,C[I]=R<<16|P}return new u(C,C[C.length-1]&-2147483648?-1:0)};function U(H,O){return H.add(B(O))}n.j=function(H){if(V(this)||V(H))return w;if(M(this))return M(H)?B(this).j(B(H)):B(B(this).j(H));if(M(H))return B(this.j(B(H)));if(this.l(b)<0&&H.l(b)<0)return d(this.m()*H.m());const O=this.g.length+H.g.length,C=[];for(var G=0;G<2*O;G++)C[G]=0;for(G=0;G<this.g.length;G++)for(let I=0;I<H.g.length;I++){const P=this.i(G)>>>16,R=this.i(G)&65535,oe=H.i(I)>>>16,Te=H.i(I)&65535;C[2*G+2*I]+=R*Te,ne(C,2*G+2*I),C[2*G+2*I+1]+=P*Te,ne(C,2*G+2*I+1),C[2*G+2*I+1]+=R*oe,ne(C,2*G+2*I+1),C[2*G+2*I+2]+=P*oe,ne(C,2*G+2*I+2)}for(H=0;H<O;H++)C[H]=C[2*H+1]<<16|C[2*H];for(H=O;H<2*O;H++)C[H]=0;return new u(C,0)};function ne(H,O){for(;(H[O]&65535)!=H[O];)H[O+1]+=H[O]>>>16,H[O]&=65535,O++}function Y(H,O){this.g=H,this.h=O}function ee(H,O){if(V(O))throw Error("division by zero");if(V(H))return new Y(w,w);if(M(H))return O=ee(B(H),O),new Y(B(O.g),B(O.h));if(M(O))return O=ee(H,B(O)),new Y(B(O.g),O.h);if(H.g.length>30){if(M(H)||M(O))throw Error("slowDivide_ only works with positive integers.");for(var C=E,G=O;G.l(H)<=0;)C=ge(C),G=ge(G);var I=be(C,1),P=be(G,1);for(G=be(G,2),C=be(C,2);!V(G);){var R=P.add(G);R.l(H)<=0&&(I=I.add(C),P=R),G=be(G,1),C=be(C,1)}return O=U(H,I.j(O)),new Y(I,O)}for(I=w;H.l(O)>=0;){for(C=Math.max(1,Math.floor(H.m()/O.m())),G=Math.ceil(Math.log(C)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),P=d(C),R=P.j(O);M(R)||R.l(H)>0;)C-=G,P=d(C),R=P.j(O);V(P)&&(P=E),I=I.add(P),H=U(H,R)}return new Y(I,H)}n.B=function(H){return ee(this,H).h},n.and=function(H){const O=Math.max(this.g.length,H.g.length),C=[];for(let G=0;G<O;G++)C[G]=this.i(G)&H.i(G);return new u(C,this.h&H.h)},n.or=function(H){const O=Math.max(this.g.length,H.g.length),C=[];for(let G=0;G<O;G++)C[G]=this.i(G)|H.i(G);return new u(C,this.h|H.h)},n.xor=function(H){const O=Math.max(this.g.length,H.g.length),C=[];for(let G=0;G<O;G++)C[G]=this.i(G)^H.i(G);return new u(C,this.h^H.h)};function ge(H){const O=H.g.length+1,C=[];for(let G=0;G<O;G++)C[G]=H.i(G)<<1|H.i(G-1)>>>31;return new u(C,H.h)}function be(H,O){const C=O>>5;O%=32;const G=H.g.length-C,I=[];for(let P=0;P<G;P++)I[P]=O>0?H.i(P+C)>>>O|H.i(P+C+1)<<32-O:H.i(P+C);return new u(I,H.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,T3=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,ic=u}).apply(typeof Vw<"u"?Vw:typeof self<"u"?self:typeof window<"u"?window:{});var fg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var I3,yp,N3,Dg,gy,R3,C3,L3;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof fg=="object"&&fg];for(var x=0;x<m.length;++x){var L=m[x];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=t(this);function s(m,x){if(x)e:{var L=r;m=m.split(".");for(var Q=0;Q<m.length-1;Q++){var Ae=m[Q];if(!(Ae in L))break e;L=L[Ae]}m=m[m.length-1],Q=L[m],x=x(Q),x!=Q&&x!=null&&e(L,m,{configurable:!0,writable:!0,value:x})}}s("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(m){return m||function(x){var L=[],Q;for(Q in x)Object.prototype.hasOwnProperty.call(x,Q)&&L.push([Q,x[Q]]);return L}});var o=o||{},u=this||self;function c(m){var x=typeof m;return x=="object"&&m!=null||x=="function"}function f(m,x,L){return m.call.apply(m.bind,arguments)}function d(m,x,L){return d=f,d.apply(null,arguments)}function g(m,x){var L=Array.prototype.slice.call(arguments,1);return function(){var Q=L.slice();return Q.push.apply(Q,arguments),m.apply(this,Q)}}function w(m,x){function L(){}L.prototype=x.prototype,m.Z=x.prototype,m.prototype=new L,m.prototype.constructor=m,m.Ob=function(Q,Ae,De){for(var Ze=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)Ze[$t-2]=arguments[$t];return x.prototype[Ae].apply(Q,Ze)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function b(m){const x=m.length;if(x>0){const L=Array(x);for(let Q=0;Q<x;Q++)L[Q]=m[Q];return L}return[]}function V(m,x){for(let Q=1;Q<arguments.length;Q++){const Ae=arguments[Q];var L=typeof Ae;if(L=L!="object"?L:Ae?Array.isArray(Ae)?"array":L:"null",L=="array"||L=="object"&&typeof Ae.length=="number"){L=m.length||0;const De=Ae.length||0;m.length=L+De;for(let Ze=0;Ze<De;Ze++)m[L+Ze]=Ae[Ze]}else m.push(Ae)}}class M{constructor(x,L){this.i=x,this.j=L,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function B(m){u.setTimeout(()=>{throw m},0)}function U(){var m=H;let x=null;return m.g&&(x=m.g,m.g=m.g.next,m.g||(m.h=null),x.next=null),x}class ne{constructor(){this.h=this.g=null}add(x,L){const Q=Y.get();Q.set(x,L),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var Y=new M(()=>new ee,m=>m.reset());class ee{constructor(){this.next=this.g=this.h=null}set(x,L){this.h=x,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,be=!1,H=new ne,O=()=>{const m=Promise.resolve(void 0);ge=()=>{m.then(C)}};function C(){for(var m;m=U();){try{m.h.call(m.g)}catch(L){B(L)}var x=Y;x.j(m),x.h<100&&(x.h++,m.next=x.g,x.g=m)}be=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(m,x){this.type=m,this.g=this.target=x,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,x=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const L=()=>{};u.addEventListener("test",L,x),u.removeEventListener("test",L,x)}catch{}return m})();function R(m){return/^[\s\xa0]*$/.test(m)}function oe(m,x){I.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,x)}w(oe,I),oe.prototype.init=function(m,x){const L=this.type=m.type,Q=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=x,x=m.relatedTarget,x||(L=="mouseover"?x=m.fromElement:L=="mouseout"&&(x=m.toElement)),this.relatedTarget=x,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),ae=0;function pe(m,x,L,Q,Ae){this.listener=m,this.proxy=null,this.src=x,this.type=L,this.capture=!!Q,this.ha=Ae,this.key=++ae,this.da=this.fa=!1}function fe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Le(m,x,L){for(const Q in m)x.call(L,m[Q],Q,m)}function Ke(m,x){for(const L in m)x.call(void 0,m[L],L,m)}function J(m){const x={};for(const L in m)x[L]=m[L];return x}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(m,x){let L,Q;for(let Ae=1;Ae<arguments.length;Ae++){Q=arguments[Ae];for(L in Q)m[L]=Q[L];for(let De=0;De<k.length;De++)L=k[De],Object.prototype.hasOwnProperty.call(Q,L)&&(m[L]=Q[L])}}function Z(m){this.src=m,this.g={},this.h=0}Z.prototype.add=function(m,x,L,Q,Ae){const De=m.toString();m=this.g[De],m||(m=this.g[De]=[],this.h++);const Ze=ce(m,x,Q,Ae);return Ze>-1?(x=m[Ze],L||(x.fa=!1)):(x=new pe(x,this.src,De,!!Q,Ae),x.fa=L,m.push(x)),x};function le(m,x){const L=x.type;if(L in m.g){var Q=m.g[L],Ae=Array.prototype.indexOf.call(Q,x,void 0),De;(De=Ae>=0)&&Array.prototype.splice.call(Q,Ae,1),De&&(fe(x),m.g[L].length==0&&(delete m.g[L],m.h--))}}function ce(m,x,L,Q){for(let Ae=0;Ae<m.length;++Ae){const De=m[Ae];if(!De.da&&De.listener==x&&De.capture==!!L&&De.ha==Q)return Ae}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),Pe={};function ke(m,x,L,Q,Ae){if(Array.isArray(x)){for(let De=0;De<x.length;De++)ke(m,x[De],L,Q,Ae);return null}return L=Lt(L),m&&m[Te]?m.J(x,L,c(Q)?!!Q.capture:!1,Ae):Be(m,x,L,!1,Q,Ae)}function Be(m,x,L,Q,Ae,De){if(!x)throw Error("Invalid event type");const Ze=c(Ae)?!!Ae.capture:!!Ae;let $t=rt(m);if($t||(m[ye]=$t=new Z(m)),L=$t.add(x,L,Q,Ze,De),L.proxy)return L;if(Q=Je(),L.proxy=Q,Q.src=m,Q.listener=L,m.addEventListener)P||(Ae=Ze),Ae===void 0&&(Ae=!1),m.addEventListener(x.toString(),Q,Ae);else if(m.attachEvent)m.attachEvent(dt(x.toString()),Q);else if(m.addListener&&m.removeListener)m.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Je(){function m(L){return x.call(m.src,m.listener,L)}const x=te;return m}function at(m,x,L,Q,Ae){if(Array.isArray(x))for(var De=0;De<x.length;De++)at(m,x[De],L,Q,Ae);else Q=c(Q)?!!Q.capture:!!Q,L=Lt(L),m&&m[Te]?(m=m.i,De=String(x).toString(),De in m.g&&(x=m.g[De],L=ce(x,L,Q,Ae),L>-1&&(fe(x[L]),Array.prototype.splice.call(x,L,1),x.length==0&&(delete m.g[De],m.h--)))):m&&(m=rt(m))&&(x=m.g[x.toString()],m=-1,x&&(m=ce(x,L,Q,Ae)),(L=m>-1?x[m]:null)&&st(L))}function st(m){if(typeof m!="number"&&m&&!m.da){var x=m.src;if(x&&x[Te])le(x.i,m);else{var L=m.type,Q=m.proxy;x.removeEventListener?x.removeEventListener(L,Q,m.capture):x.detachEvent?x.detachEvent(dt(L),Q):x.addListener&&x.removeListener&&x.removeListener(Q),(L=rt(x))?(le(L,m),L.h==0&&(L.src=null,x[ye]=null)):fe(m)}}}function dt(m){return m in Pe?Pe[m]:Pe[m]="on"+m}function te(m,x){if(m.da)m=!0;else{x=new oe(x,this);const L=m.listener,Q=m.ha||m.src;m.fa&&st(m),m=L.call(Q,x)}return m}function rt(m){return m=m[ye],m instanceof Z?m:null}var Xt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lt(m){return typeof m=="function"?m:(m[Xt]||(m[Xt]=function(x){return m.handleEvent(x)}),m[Xt])}function ze(){G.call(this),this.i=new Z(this),this.M=this,this.G=null}w(ze,G),ze.prototype[Te]=!0,ze.prototype.removeEventListener=function(m,x,L,Q){at(this,m,x,L,Q)};function lt(m,x){var L,Q=m.G;if(Q)for(L=[];Q;Q=Q.G)L.push(Q);if(m=m.M,Q=x.type||x,typeof x=="string")x=new I(x,m);else if(x instanceof I)x.target=x.target||m;else{var Ae=x;x=new I(Q,m),$(x,Ae)}Ae=!0;let De,Ze;if(L)for(Ze=L.length-1;Ze>=0;Ze--)De=x.g=L[Ze],Ae=ot(De,Q,!0,x)&&Ae;if(De=x.g=m,Ae=ot(De,Q,!0,x)&&Ae,Ae=ot(De,Q,!1,x)&&Ae,L)for(Ze=0;Ze<L.length;Ze++)De=x.g=L[Ze],Ae=ot(De,Q,!1,x)&&Ae}ze.prototype.N=function(){if(ze.Z.N.call(this),this.i){var m=this.i;for(const x in m.g){const L=m.g[x];for(let Q=0;Q<L.length;Q++)fe(L[Q]);delete m.g[x],m.h--}}this.G=null},ze.prototype.J=function(m,x,L,Q){return this.i.add(String(m),x,!1,L,Q)},ze.prototype.K=function(m,x,L,Q){return this.i.add(String(m),x,!0,L,Q)};function ot(m,x,L,Q){if(x=m.i.g[String(x)],!x)return!0;x=x.concat();let Ae=!0;for(let De=0;De<x.length;++De){const Ze=x[De];if(Ze&&!Ze.da&&Ze.capture==L){const $t=Ze.listener,ar=Ze.ha||Ze.src;Ze.fa&&le(m.i,Ze),Ae=$t.call(ar,Q)!==!1&&Ae}}return Ae&&!Q.defaultPrevented}function Dt(m,x){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:u.setTimeout(m,x||0)}function St(m){m.g=Dt(()=>{m.g=null,m.i&&(m.i=!1,St(m))},m.l);const x=m.h;m.h=null,m.m.apply(null,x)}class Jt extends G{constructor(x,L){super(),this.m=x,this.l=L,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:St(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nn(m){G.call(this),this.h=m,this.g={}}w(nn,G);var Ht=[];function un(m){Le(m.g,function(x,L){this.g.hasOwnProperty(L)&&st(x)},m),m.g={}}nn.prototype.N=function(){nn.Z.N.call(this),un(this)},nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var en=u.JSON.stringify,bt=u.JSON.parse,Wt=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function wt(){}function _r(){}var tn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kt(){I.call(this,"d")}w(kt,I);function Bt(){I.call(this,"c")}w(Bt,I);var Zt={},It=null;function Dn(){return It=It||new ze}Zt.Ia="serverreachability";function Ut(m){I.call(this,Zt.Ia,m)}w(Ut,I);function Ft(m){const x=Dn();lt(x,new Ut(x))}Zt.STAT_EVENT="statevent";function Mn(m,x){I.call(this,Zt.STAT_EVENT,m),this.stat=x}w(Mn,I);function xt(m){const x=Dn();lt(x,new Mn(x,m))}Zt.Ja="timingevent";function At(m,x){I.call(this,Zt.Ja,m),this.size=x}w(At,I);function cn(m,x){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},x)}function wi(){this.g=!0}wi.prototype.ua=function(){this.g=!1};function hi(m,x,L,Q,Ae,De){m.info(function(){if(m.g)if(De){var Ze="",$t=De.split("&");for(let fn=0;fn<$t.length;fn++){var ar=$t[fn].split("=");if(ar.length>1){const Un=ar[0];ar=ar[1];const mi=Un.split("_");Ze=mi.length>=2&&mi[1]=="type"?Ze+(Un+"="+ar+"&"):Ze+(Un+"=redacted&")}}}else Ze=null;else Ze=De;return"XMLHTTP REQ ("+Q+") [attempt "+Ae+"]: "+x+`
`+L+`
`+Ze})}function qs(m,x,L,Q,Ae,De,Ze){m.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+Ae+"]: "+x+`
`+L+`
`+De+" "+Ze})}function ti(m,x,L,Q){m.info(function(){return"XMLHTTP TEXT ("+x+"): "+_a(m,L)+(Q?" "+Q:"")})}function Nt(m,x){m.info(function(){return"TIMEOUT: "+x})}wi.prototype.info=function(){};function _a(m,x){if(!m.g)return x;if(!x)return null;try{const De=JSON.parse(x);if(De){for(m=0;m<De.length;m++)if(Array.isArray(De[m])){var L=De[m];if(!(L.length<2)){var Q=L[1];if(Array.isArray(Q)&&!(Q.length<1)){var Ae=Q[0];if(Ae!="noop"&&Ae!="stop"&&Ae!="close")for(let Ze=1;Ze<Q.length;Ze++)Q[Ze]=""}}}}return en(De)}catch{return x}}var ts={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ji;function Gn(){}w(Gn,wt),Gn.prototype.g=function(){return new XMLHttpRequest},ji=new Gn;function ir(m){return encodeURIComponent(String(m))}function Gr(m){var x=1;m=m.split(":");const L=[];for(;x>0&&m.length;)L.push(m.shift()),x--;return m.length&&L.push(m.join(":")),L}function Ai(m,x,L,Q){this.j=m,this.i=x,this.l=L,this.S=Q||1,this.V=new nn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}var Vn={},Wn={};function Kr(m,x,L){m.M=1,m.A=Ua(Nr(x)),m.u=L,m.R=!0,Ui(m,null)}function Ui(m,x){m.F=Date.now(),Fi(m),m.B=Nr(m.A);var L=m.B,Q=m.S;Array.isArray(Q)||(Q=[String(Q)]),Fo(L.i,"t",Q),m.C=0,L=m.j.L,m.h=new fi,m.g=ft(m.j,L?x:null,!m.u),m.P>0&&(m.O=new Jt(d(m.Y,m,m.g),m.P)),x=m.V,L=m.g,Q=m.ba;var Ae="readystatechange";Array.isArray(Ae)||(Ae&&(Ht[0]=Ae.toString()),Ae=Ht);for(let De=0;De<Ae.length;De++){const Ze=ke(L,Ae[De],Q||x.handleEvent,!1,x.h||x);if(!Ze)break;x.g[Ze.key]=Ze}x=m.J?J(m.J):{},m.u?(m.v||(m.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,x)):(m.v="GET",m.g.ea(m.B,m.v,null,x)),Ft(),hi(m.i,m.v,m.B,m.l,m.S,m.u)}Ai.prototype.ba=function(m){m=m.target;const x=this.O;x&&os(m)==3?x.j():this.Y(m)},Ai.prototype.Y=function(m){try{if(m==this.g)e:{const $t=os(this.g),ar=this.g.ya(),fn=this.g.ca();if(!($t<3)&&($t!=3||this.g&&(this.h.h||this.g.la()||Ur(this.g)))){this.K||$t!=4||ar==7||(ar==8||fn<=0?Ft(3):Ft(2)),ns(this);var x=this.g.ca();this.X=x;var L=gs(this);if(this.o=x==200,qs(this.i,this.v,this.B,this.l,this.S,$t,x),this.o){if(this.U&&!this.L){t:{if(this.g){var Q,Ae=this.g;if((Q=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Q)){var De=Q;break t}}De=null}if(m=De)ti(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ys(this,m);else{this.o=!1,this.m=3,xt(12),rs(this),Ei(this);break e}}if(this.R){m=!0;let Un;for(;!this.K&&this.C<L.length;)if(Un=ks(this,L),Un==Wn){$t==4&&(this.m=4,xt(14),m=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==Vn){this.m=4,xt(15),ti(this.i,this.l,L,"[Invalid Chunk]"),m=!1;break}else ti(this.i,this.l,Un,null),ys(this,Un);if(ja(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||L.length!=0||this.h.h||(this.m=1,xt(16),m=!1),this.o=this.o&&m,!m)ti(this.i,this.l,L,"[Invalid Chunked Response]"),rs(this),Ei(this);else if(L.length>0&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.aa&&!Ze.P&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Ho(Ze),Ze.P=!0,xt(11))}}else ti(this.i,this.l,L,null),ys(this,L);$t==4&&rs(this),this.o&&!this.K&&($t==4?ie(this.j,this):(this.o=!1,Fi(this)))}else zs(this.g),x==400&&L.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),rs(this),Ei(this)}}}catch{}};function gs(m){if(!ja(m))return m.g.la();const x=Ur(m.g);if(x==="")return"";let L="";const Q=x.length,Ae=os(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return rs(m),Ei(m),"";m.h.i=new u.TextDecoder}for(let De=0;De<Q;De++)m.h.h=!0,L+=m.h.i.decode(x[De],{stream:!(Ae&&De==Q-1)});return x.length=0,m.h.g+=L,m.C=0,m.h.g}function ja(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function ks(m,x){var L=m.C,Q=x.indexOf(`
`,L);return Q==-1?Wn:(L=Number(x.substring(L,Q)),isNaN(L)?Vn:(Q+=1,Q+L>x.length?Wn:(x=x.slice(Q,Q+L),m.C=Q+L,x)))}Ai.prototype.cancel=function(){this.K=!0,rs(this)};function Fi(m){m.T=Date.now()+m.H,va(m,m.H)}function va(m,x){if(m.D!=null)throw Error("WatchDog timer not null");m.D=cn(d(m.aa,m),x)}function ns(m){m.D&&(u.clearTimeout(m.D),m.D=null)}Ai.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Nt(this.i,this.B),this.M!=2&&(Ft(),xt(17)),rs(this),this.m=2,Ei(this)):va(this,this.T-m)};function Ei(m){m.j.I==0||m.K||ie(m.j,m)}function rs(m){ns(m);var x=m.O;x&&typeof x.dispose=="function"&&x.dispose(),m.O=null,un(m.V),m.g&&(x=m.g,m.g=null,x.abort(),x.dispose())}function ys(m,x){try{var L=m.j;if(L.I!=0&&(L.g==m||Ds(L.h,m))){if(!m.L&&Ds(L.h,m)&&L.I==3){try{var Q=L.Ba.g.parse(x)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var Ae=Q;if(Ae[0]==0){e:if(!L.v){if(L.g)if(L.g.F+3e3<m.F)j(L),Gs(L);else break e;Ms(L),xt(18)}}else L.xa=Ae[1],0<L.xa-L.K&&Ae[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=cn(d(L.Va,L),6e3));_s(L.h)<=1&&L.ta&&(L.ta=void 0)}else ve(L,11)}else if((m.L||L.g==m)&&j(L),!R(x))for(Ae=L.Ba.g.parse(x),x=0;x<Ae.length;x++){let fn=Ae[x];const Un=fn[0];if(!(Un<=L.K))if(L.K=Un,fn=fn[1],L.I==2)if(fn[0]=="c"){L.M=fn[1],L.ba=fn[2];const mi=fn[3];mi!=null&&(L.ka=mi,L.j.info("VER="+L.ka));const xi=fn[4];xi!=null&&(L.za=xi,L.j.info("SVER="+L.za));const Yn=fn[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(Q=1.5*Yn,L.O=Q,L.j.info("backChannelRequestTimeoutMs_="+Q)),Q=L;const Ti=m.g;if(Ti){const Vs=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var De=Q.h;De.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(De.j=De.l,De.g=new Set,De.h&&(io(De,De.h),De.h=null))}if(Q.G){const Ha=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Ha&&(Q.wa=Ha,An(Q.J,Q.G,Ha))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-m.F,L.j.info("Handshake RTT: "+L.T+"ms")),Q=L;var Ze=m;if(Q.na=Ye(Q,Q.L?Q.ba:null,Q.W),Ze.L){jo(Q.h,Ze);var $t=Ze,ar=Q.O;ar&&($t.H=ar),$t.D&&(ns($t),Fi($t)),Q.g=Ze}else Rl(Q);L.i.length>0&&bs(L)}else fn[0]!="stop"&&fn[0]!="close"||ve(L,7);else L.I==3&&(fn[0]=="stop"||fn[0]=="close"?fn[0]=="stop"?ve(L,7):za(L):fn[0]!="noop"&&L.l&&L.l.qa(fn),L.A=0)}}Ft(4)}catch{}}var br=class{constructor(m,x){this.g=m,this.map=x}};function Vo(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bi(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function _s(m){return m.h?1:m.g?m.g.size:0}function Ds(m,x){return m.h?m.h==x:m.g?m.g.has(x):!1}function io(m,x){m.g?m.g.add(x):m.h=x}function jo(m,x){m.h&&m.h==x?m.h=null:m.g&&m.g.has(x)&&m.g.delete(x)}Vo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Uo(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let x=m.i;for(const L of m.g.values())x=x.concat(L.G);return x}return b(m.i)}var El=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function is(m,x){if(m){m=m.split("&");for(let L=0;L<m.length;L++){const Q=m[L].indexOf("=");let Ae,De=null;Q>=0?(Ae=m[L].substring(0,Q),De=m[L].substring(Q+1)):Ae=m[L],x(Ae,De?decodeURIComponent(De.replace(/\+/g," ")):"")}}}function di(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;m instanceof di?(this.l=m.l,pn(this,m.j),this.o=m.o,this.g=m.g,ba(this,m.u),this.h=m.h,vs(this,Bo(m.i)),this.m=m.m):m&&(x=String(m).match(El))?(this.l=!1,pn(this,x[1]||"",!0),this.o=jr(x[2]||""),this.g=jr(x[3]||"",!0),ba(this,x[4]),this.h=jr(x[5]||"",!0),vs(this,x[6]||"",!0),this.m=jr(x[7]||"")):(this.l=!1,this.i=new wa(null,this.l))}di.prototype.toString=function(){const m=[];var x=this.j;x&&m.push(dr(x,so,!0),":");var L=this.g;return(L||x=="file")&&(m.push("//"),(x=this.o)&&m.push(dr(x,so,!0),"@"),m.push(ir(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&m.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&m.push("/"),m.push(dr(L,L.charAt(0)=="/"?Sl:fu,!0))),(L=this.i.toString())&&m.push("?",L),(L=this.m)&&m.push("#",dr(L,xl)),m.join("")},di.prototype.resolve=function(m){const x=Nr(this);let L=!!m.j;L?pn(x,m.j):L=!!m.o,L?x.o=m.o:L=!!m.g,L?x.g=m.g:L=m.u!=null;var Q=m.h;if(L)ba(x,m.u);else if(L=!!m.h){if(Q.charAt(0)!="/")if(this.g&&!this.h)Q="/"+Q;else{var Ae=x.h.lastIndexOf("/");Ae!=-1&&(Q=x.h.slice(0,Ae+1)+Q)}if(Ae=Q,Ae==".."||Ae==".")Q="";else if(Ae.indexOf("./")!=-1||Ae.indexOf("/.")!=-1){Q=Ae.lastIndexOf("/",0)==0,Ae=Ae.split("/");const De=[];for(let Ze=0;Ze<Ae.length;){const $t=Ae[Ze++];$t=="."?Q&&Ze==Ae.length&&De.push(""):$t==".."?((De.length>1||De.length==1&&De[0]!="")&&De.pop(),Q&&Ze==Ae.length&&De.push("")):(De.push($t),Q=!0)}Q=De.join("/")}else Q=Ae}return L?x.h=Q:L=m.i.toString()!=="",L?vs(x,Bo(m.i)):L=!!m.m,L&&(x.m=m.m),x};function Nr(m){return new di(m)}function pn(m,x,L){m.j=L?jr(x,!0):x,m.j&&(m.j=m.j.replace(/:$/,""))}function ba(m,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);m.u=x}else m.u=null}function vs(m,x,L){x instanceof wa?(m.i=x,qi(m.i,m.l)):(L||(x=dr(x,Si)),m.i=new wa(x,m.l))}function An(m,x,L){m.i.set(x,L)}function Ua(m){return An(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function jr(m,x){return m?x?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function dr(m,x,L){return typeof m=="string"?(m=encodeURI(m).replace(x,Rr),L&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Rr(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var so=/[#\/\?@]/g,fu=/[#\?:]/g,Sl=/[#\?]/g,Si=/[#\?@]/g,xl=/#/g;function wa(m,x){this.h=this.g=null,this.i=m||null,this.j=!!x}function ni(m){m.g||(m.g=new Map,m.h=0,m.i&&is(m.i,function(x,L){m.add(decodeURIComponent(x.replace(/\+/g," ")),L)}))}n=wa.prototype,n.add=function(m,x){ni(this),this.i=null,m=Aa(this,m);let L=this.g.get(m);return L||this.g.set(m,L=[]),L.push(x),this.h+=1,this};function Fa(m,x){ni(m),x=Aa(m,x),m.g.has(x)&&(m.i=null,m.h-=m.g.get(x).length,m.g.delete(x))}function Tl(m,x){return ni(m),x=Aa(m,x),m.g.has(x)}n.forEach=function(m,x){ni(this),this.g.forEach(function(L,Q){L.forEach(function(Ae){m.call(x,Ae,Q,this)},this)},this)};function Il(m,x){ni(m);let L=[];if(typeof x=="string")Tl(m,x)&&(L=L.concat(m.g.get(Aa(m,x))));else for(m=Array.from(m.g.values()),x=0;x<m.length;x++)L=L.concat(m[x]);return L}n.set=function(m,x){return ni(this),this.i=null,m=Aa(this,m),Tl(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[x]),this.h+=1,this},n.get=function(m,x){return m?(m=Il(this,m),m.length>0?String(m[0]):x):x};function Fo(m,x,L){Fa(m,x),L.length>0&&(m.i=null,m.g.set(Aa(m,x),b(L)),m.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],x=Array.from(this.g.keys());for(let Q=0;Q<x.length;Q++){var L=x[Q];const Ae=ir(L);L=Il(this,L);for(let De=0;De<L.length;De++){let Ze=Ae;L[De]!==""&&(Ze+="="+ir(L[De])),m.push(Ze)}}return this.i=m.join("&")};function Bo(m){const x=new wa;return x.i=m.i,m.g&&(x.g=new Map(m.g),x.h=m.h),x}function Aa(m,x){return x=String(x),m.j&&(x=x.toLowerCase()),x}function qi(m,x){x&&!m.j&&(ni(m),m.i=null,m.g.forEach(function(L,Q){const Ae=Q.toLowerCase();Q!=Ae&&(Fa(this,Q),Fo(this,Ae,L))},m)),m.j=x}function Ps(m,x){const L=new wi;if(u.Image){const Q=new Image;Q.onload=g(zi,L,"TestLoadImage: loaded",!0,x,Q),Q.onerror=g(zi,L,"TestLoadImage: error",!1,x,Q),Q.onabort=g(zi,L,"TestLoadImage: abort",!1,x,Q),Q.ontimeout=g(zi,L,"TestLoadImage: timeout",!1,x,Q),u.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=m}else x(!1)}function Ea(m,x){const L=new wi,Q=new AbortController,Ae=setTimeout(()=>{Q.abort(),zi(L,"TestPingServer: timeout",!1,x)},1e4);fetch(m,{signal:Q.signal}).then(De=>{clearTimeout(Ae),De.ok?zi(L,"TestPingServer: ok",!0,x):zi(L,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Ae),zi(L,"TestPingServer: error",!1,x)})}function zi(m,x,L,Q,Ae){try{Ae&&(Ae.onload=null,Ae.onerror=null,Ae.onabort=null,Ae.ontimeout=null),Q(L)}catch{}}function Ba(){this.g=new Wt}function Pt(m){this.i=m.Sb||null,this.h=m.ab||!1}w(Pt,wt),Pt.prototype.g=function(){return new ao(this.i,this.h)};function ao(m,x){ze.call(this),this.H=m,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ao,ze),n=ao.prototype,n.open=function(m,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=x,this.readyState=1,ri(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(x.body=m),(this.H||u).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qa(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function qo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var x=m.value?m.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!m.done}))&&(this.response=this.responseText+=x)}m.done?qa(this):ri(this),this.readyState==3&&qo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,qa(this))},n.Na=function(m){this.g&&(this.response=m,qa(this))},n.ga=function(){this.g&&qa(this)};function qa(m){m.readyState=4,m.l=null,m.j=null,m.B=null,ri(m)}n.setRequestHeader=function(m,x){this.A.append(m,x)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],x=this.h.entries();for(var L=x.next();!L.done;)L=L.value,m.push(L[0]+": "+L[1]),L=x.next();return m.join(`\r
`)};function ri(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ao.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function $r(m){let x="";return Le(m,function(L,Q){x+=Q,x+=":",x+=L,x+=`\r
`}),x}function oo(m,x,L){e:{for(Q in L){var Q=!1;break e}Q=!0}Q||(L=$r(L),typeof m=="string"?L!=null&&ir(L):An(m,x,L))}function jn(m){ze.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(jn,ze);var ss=/^https?$/i,lo=["POST","PUT"];n=jn.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,x,L,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);x=x?x.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ji.g(),this.g.onreadystatechange=E(d(this.Ca,this));try{this.B=!0,this.g.open(x,String(m),!0),this.B=!1}catch(De){Os(this,De);return}if(m=L||"",L=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var Ae in Q)L.set(Ae,Q[Ae]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const De of Q.keys())L.set(De,Q.get(De));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(L.keys()).find(De=>De.toLowerCase()=="content-type"),Ae=u.FormData&&m instanceof u.FormData,!(Array.prototype.indexOf.call(lo,x,void 0)>=0)||Q||Ae||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[De,Ze]of L)this.g.setRequestHeader(De,Ze);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(De){Os(this,De)}};function Os(m,x){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=x,m.o=5,Nl(m),Sa(m)}function Nl(m){m.A||(m.A=!0,lt(m,"complete"),lt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,lt(this,"complete"),lt(this,"abort"),Sa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sa(this,!0)),jn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?as(this):this.Xa())},n.Xa=function(){as(this)};function as(m){if(m.h&&typeof o<"u"){if(m.v&&os(m)==4)setTimeout(m.Ca.bind(m),0);else if(lt(m,"readystatechange"),os(m)==4){m.h=!1;try{const De=m.ca();e:switch(De){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var L;if(!(L=x)){var Q;if(Q=De===0){let Ze=String(m.D).match(El)[1]||null;!Ze&&u.self&&u.self.location&&(Ze=u.self.location.protocol.slice(0,-1)),Q=!ss.test(Ze?Ze.toLowerCase():"")}L=Q}if(L)lt(m,"complete"),lt(m,"success");else{m.o=6;try{var Ae=os(m)>2?m.g.statusText:""}catch{Ae=""}m.l=Ae+" ["+m.ca()+"]",Nl(m)}}finally{Sa(m)}}}}function Sa(m,x){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const L=m.g;m.g=null,x||lt(m,"ready");try{L.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function os(m){return m.g?m.g.readyState:0}n.ca=function(){try{return os(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var x=this.g.responseText;return m&&x.indexOf(m)==0&&(x=x.substring(m.length)),bt(x)}};function Ur(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function zs(m){const x={};m=(m.g&&os(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<m.length;Q++){if(R(m[Q]))continue;var L=Gr(m[Q]);const Ae=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const De=x[Ae]||[];x[Ae]=De,De.push(L)}Ke(x,function(Q){return Q.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(m,x,L){return L&&L.internalChannelParams&&L.internalChannelParams[m]||x}function Hs(m){this.za=0,this.i=[],this.j=new wi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,m),this.Za=pi("retryDelaySeedMs",1e4,m),this.Ta=pi("forwardChannelMaxRetries",2,m),this.va=pi("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(m&&m.concurrentRequestLimit),this.Ba=new Ba,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Hs.prototype,n.ka=8,n.I=1,n.connect=function(m,x,L,Q){xt(0),this.W=m,this.H=x||{},L&&Q!==void 0&&(this.H.OSID=L,this.H.OAID=Q),this.F=this.X,this.J=Ye(this,null,this.W),bs(this)};function za(m){if(Ks(m),m.I==3){var x=m.V++,L=Nr(m.J);if(An(L,"SID",m.M),An(L,"RID",x),An(L,"TYPE","terminate"),ls(m,L),x=new Ai(m,m.j,x),x.M=2,x.A=Ua(Nr(L)),L=!1,u.navigator&&u.navigator.sendBeacon)try{L=u.navigator.sendBeacon(x.A.toString(),"")}catch{}!L&&u.Image&&(new Image().src=x.A,L=!0),L||(x.g=ft(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Fi(x)}Ue(m)}function Gs(m){m.g&&(Ho(m),m.g.cancel(),m.g=null)}function Ks(m){Gs(m),m.v&&(u.clearTimeout(m.v),m.v=null),j(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&u.clearTimeout(m.m),m.m=null)}function bs(m){if(!Bi(m.h)&&!m.m){m.m=!0;var x=m.Ea;ge||O(),be||(ge(),be=!0),H.add(x,m),m.D=0}}function uo(m,x){return _s(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=x.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=cn(d(m.Ea,m,x),he(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Ae=new Ai(this,this.j,m);let De=this.o;if(this.U&&(De?(De=J(De),$(De,this.U)):De=this.U),this.u!==null||this.R||(Ae.J=De,De=null),this.S)e:{for(var x=0,L=0;L<this.i.length;L++){t:{var Q=this.i[L];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(x+=Q,x>4096){x=L;break e}if(x===4096||L===this.i.length-1){x=L+1;break e}}x=1e3}else x=1e3;x=$s(this,Ae,x),L=Nr(this.J),An(L,"RID",m),An(L,"CVER",22),this.G&&An(L,"X-HTTP-Session-Id",this.G),ls(this,L),De&&(this.R?x="headers="+ir($r(De))+"&"+x:this.u&&oo(L,this.u,De)),io(this.h,Ae),this.Ra&&An(L,"TYPE","init"),this.S?(An(L,"$req",x),An(L,"SID","null"),Ae.U=!0,Kr(Ae,L,null)):Kr(Ae,L,x),this.I=2}}else this.I==3&&(m?zo(this,m):this.i.length==0||Bi(this.h)||zo(this))};function zo(m,x){var L;x?L=x.l:L=m.V++;const Q=Nr(m.J);An(Q,"SID",m.M),An(Q,"RID",L),An(Q,"AID",m.K),ls(m,Q),m.u&&m.o&&oo(Q,m.u,m.o),L=new Ai(m,m.j,L,m.D+1),m.u===null&&(L.J=m.o),x&&(m.i=x.G.concat(m.i)),x=$s(m,L,1e3),L.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),io(m.h,L),Kr(L,Q,x)}function ls(m,x){m.H&&Le(m.H,function(L,Q){An(x,Q,L)}),m.l&&Le({},function(L,Q){An(x,Q,L)})}function $s(m,x,L){L=Math.min(m.i.length,L);const Q=m.l?d(m.l.Ka,m.l,m):null;e:{var Ae=m.i;let $t=-1;for(;;){const ar=["count="+L];$t==-1?L>0?($t=Ae[0].g,ar.push("ofs="+$t)):$t=0:ar.push("ofs="+$t);let fn=!0;for(let Un=0;Un<L;Un++){var De=Ae[Un].g;const mi=Ae[Un].map;if(De-=$t,De<0)$t=Math.max(0,Ae[Un].g-100),fn=!1;else try{De="req"+De+"_"||"";try{var Ze=mi instanceof Map?mi:Object.entries(mi);for(const[xi,Yn]of Ze){let Ti=Yn;c(Yn)&&(Ti=en(Yn)),ar.push(De+xi+"="+encodeURIComponent(Ti))}}catch(xi){throw ar.push(De+"type="+encodeURIComponent("_badmap")),xi}}catch{Q&&Q(mi)}}if(fn){Ze=ar.join("&");break e}}Ze=void 0}return m=m.i.splice(0,L),x.G=m,Ze}function Rl(m){if(!m.g&&!m.v){m.Y=1;var x=m.Da;ge||O(),be||(ge(),be=!0),H.add(x,m),m.A=0}}function Ms(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=cn(d(m.Da,m),he(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,A(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=cn(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Gs(this),A(this))};function Ho(m){m.B!=null&&(u.clearTimeout(m.B),m.B=null)}function A(m){m.g=new Ai(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var x=Nr(m.na);An(x,"RID","rpc"),An(x,"SID",m.M),An(x,"AID",m.K),An(x,"CI",m.F?"0":"1"),!m.F&&m.ia&&An(x,"TO",m.ia),An(x,"TYPE","xmlhttp"),ls(m,x),m.u&&m.o&&oo(x,m.u,m.o),m.O&&(m.g.H=m.O);var L=m.g;m=m.ba,L.M=1,L.A=Ua(Nr(x)),L.u=null,L.R=!0,Ui(L,m)}n.Va=function(){this.C!=null&&(this.C=null,Gs(this),Ms(this),xt(19))};function j(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function ie(m,x){var L=null;if(m.g==x){j(m),Ho(m),m.g=null;var Q=2}else if(Ds(m.h,x))L=x.G,jo(m.h,x),Q=1;else return;if(m.I!=0){if(x.o)if(Q==1){L=x.u?x.u.length:0,x=Date.now()-x.F;var Ae=m.D;Q=Dn(),lt(Q,new At(Q,L)),bs(m)}else Rl(m);else if(Ae=x.m,Ae==3||Ae==0&&x.X>0||!(Q==1&&uo(m,x)||Q==2&&Ms(m)))switch(L&&L.length>0&&(x=m.h,x.i=x.i.concat(L)),Ae){case 1:ve(m,5);break;case 4:ve(m,10);break;case 3:ve(m,6);break;default:ve(m,2)}}}function he(m,x){let L=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(L*=2),L*x}function ve(m,x){if(m.j.info("Error code "+x),x==2){var L=d(m.bb,m),Q=m.Ua;const Ae=!Q;Q=new di(Q||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||pn(Q,"https"),Ua(Q),Ae?Ps(Q.toString(),L):Ea(Q.toString(),L)}else xt(2);m.I=0,m.l&&m.l.pa(x),Ue(m),Ks(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Ue(m){if(m.I=0,m.ja=[],m.l){const x=Uo(m.h);(x.length!=0||m.i.length!=0)&&(V(m.ja,x),V(m.ja,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.oa()}}function Ye(m,x,L){var Q=L instanceof di?Nr(L):new di(L);if(Q.g!="")x&&(Q.g=x+"."+Q.g),ba(Q,Q.u);else{var Ae=u.location;Q=Ae.protocol,x=x?x+"."+Ae.hostname:Ae.hostname,Ae=+Ae.port;const De=new di(null);Q&&pn(De,Q),x&&(De.g=x),Ae&&ba(De,Ae),L&&(De.h=L),Q=De}return L=m.G,x=m.wa,L&&x&&An(Q,L,x),An(Q,"VER",m.ka),ls(m,Q),Q}function ft(m,x,L){if(x&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=m.Aa&&!m.ma?new jn(new Pt({ab:L})):new jn(m.ma),x.Fa(m.L),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gt(){}n=gt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Mt(){}Mt.prototype.g=function(m,x){return new Rt(m,x)};function Rt(m,x){ze.call(this),this.g=new Hs(x),this.l=m,this.h=x&&x.messageUrlParams||null,m=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(m?m["X-WebChannel-Content-Type"]=x.messageContentType:m={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(m?m["X-WebChannel-Client-Profile"]=x.sa:m={"X-WebChannel-Client-Profile":x.sa}),this.g.U=m,(m=x&&x.Qb)&&!R(m)&&(this.g.u=m),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!R(x)&&(this.g.G=x,m=this.h,m!==null&&x in m&&(m=this.h,x in m&&delete m[x])),this.j=new Kn(this)}w(Rt,ze),Rt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){za(this.g)},Rt.prototype.o=function(m){var x=this.g;if(typeof m=="string"){var L={};L.__data__=m,m=L}else this.v&&(L={},L.__data__=en(m),m=L);x.i.push(new br(x.Ya++,m)),x.I==3&&bs(x)},Rt.prototype.N=function(){this.g.l=null,delete this.j,za(this.g),delete this.g,Rt.Z.N.call(this)};function mn(m){kt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var x=m.__sm__;if(x){e:{for(const L in x){m=L;break e}m=void 0}(this.i=m)&&(m=this.i,x=x!==null&&m in x?x[m]:void 0),this.data=x}else this.data=m}w(mn,kt);function sr(){Bt.call(this),this.status=1}w(sr,Bt);function Kn(m){this.g=m}w(Kn,gt),Kn.prototype.ra=function(){lt(this.g,"a")},Kn.prototype.qa=function(m){lt(this.g,new mn(m))},Kn.prototype.pa=function(m){lt(this.g,new sr)},Kn.prototype.oa=function(){lt(this.g,"b")},Mt.prototype.createWebChannel=Mt.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,L3=function(){return new Mt},C3=function(){return Dn()},R3=Zt,gy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ts.NO_ERROR=0,ts.TIMEOUT=8,ts.HTTP_ERROR=6,Dg=ts,Vi.COMPLETE="complete",N3=Vi,_r.EventType=tn,tn.OPEN="a",tn.CLOSE="b",tn.ERROR="c",tn.MESSAGE="d",ze.prototype.listen=ze.prototype.J,yp=_r,jn.prototype.listenOnce=jn.prototype.K,jn.prototype.getLastError=jn.prototype.Ha,jn.prototype.getLastErrorCode=jn.prototype.ya,jn.prototype.getStatus=jn.prototype.ca,jn.prototype.getResponseJson=jn.prototype.La,jn.prototype.getResponseText=jn.prototype.la,jn.prototype.send=jn.prototype.ea,jn.prototype.setWithCredentials=jn.prototype.Fa,I3=jn}).apply(typeof fg<"u"?fg:typeof self<"u"?self:typeof window<"u"?window:{});class Xi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xi.UNAUTHENTICATED=new Xi(null),Xi.GOOGLE_CREDENTIALS=new Xi("google-credentials-uid"),Xi.FIRST_PARTY=new Xi("first-party-uid"),Xi.MOCK_USER=new Xi("mock-user");let ud="12.9.0";function L8(n){ud=n}const oc=new s_("@firebase/firestore");function bf(){return oc.logLevel}function k8(n){oc.setLogLevel(n)}function Qe(n,...e){if(oc.logLevel<=xn.DEBUG){const t=e.map(g_);oc.debug(`Firestore (${ud}): ${n}`,...t)}}function ui(n,...e){if(oc.logLevel<=xn.ERROR){const t=e.map(g_);oc.error(`Firestore (${ud}): ${n}`,...t)}}function ga(n,...e){if(oc.logLevel<=xn.WARN){const t=e.map(g_);oc.warn(`Firestore (${ud}): ${n}`,...t)}}function g_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ut(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,k3(n,r,t)}function k3(n,e,t){let r=`FIRESTORE (${ud}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ui(r),new Error(r)}function vt(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||k3(e,s,r)}function D8(n,e){n||ut(57014,e)}function it(n,e){return n}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends bl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class es{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class D3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Xi.UNAUTHENTICATED)))}shutdown(){}}class P8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class O8{constructor(e){this.t=e,this.currentUser=Xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){vt(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new es;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new es,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},c=f=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new es)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string",31837,{l:r}),new D3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new Xi(e)}}class M8{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Xi.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class V8{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new M8(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Xi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j8{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pa(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){vt(this.o===void 0,3512);const r=o=>{o.error!=null&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Qe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(vt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new yy(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class U8{getToken(){return Promise.resolve(new yy(""))}invalidateToken(){}start(e,t){}shutdown(){}}function F8(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class C1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=F8(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function Kt(n,e){return n<e?-1:n>e?1:0}function _y(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return L2(s)===L2(o)?Kt(s,o):L2(s)?1:-1}return Kt(n.length,e.length)}const B8=55296,q8=57343;function L2(n){const e=n.charCodeAt(0);return e>=B8&&e<=q8}function Uf(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}function O3(n){return n+"\0"}const vy="__name__";class ol{constructor(e,t,r){t===void 0?t=0:t>e.length&&ut(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ut(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ol.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ol?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=ol.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Kt(e.length,t.length)}static compareSegments(e,t){const r=ol.isNumericId(e),s=ol.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?ol.extractNumericId(e).compare(ol.extractNumericId(t)):_y(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ic.fromString(e.substring(4,e.length-2))}}class yn extends ol{construct(e,t,r){return new yn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new yn(t)}static emptyPath(){return new yn([])}}const z8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends ol{construct(e,t,r){return new Tr(e,t,r)}static isValidIdentifier(e){return z8.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vy}static keyField(){return new Tr([vy])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Ge(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ge(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(u=!u,s++):c!=="."||u?(r+=c,s++):(o(),s++)}if(o(),u)throw new Ge(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tr(t)}static emptyPath(){return new Tr([])}}class tt{constructor(e){this.path=e}static fromPath(e){return new tt(yn.fromString(e))}static fromName(e){return new tt(yn.fromString(e).popFirst(5))}static empty(){return new tt(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new yn(e.slice()))}}function y_(n,e,t){if(!t)throw new Ge(Ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function M3(n,e,t,r){if(e===!0&&r===!0)throw new Ge(Ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function jw(n){if(!tt.isDocumentKey(n))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Uw(n){if(tt.isDocumentKey(n))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function V3(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function L1(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ut(12329,{type:typeof n})}function _n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ge(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=L1(n);throw new Ge(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function j3(n,e){if(e<=0)throw new Ge(Ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function bi(n,e){const t={typeString:n};return e&&(t.value=e),t}function wh(n,e){if(!V3(n))throw new Ge(Ce.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new Ge(Ce.INVALID_ARGUMENT,t);return!0}const Fw=-62135596800,Bw=1e6;class $n{static now(){return $n.fromMillis(Date.now())}static fromDate(e){return $n.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Bw);return new $n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Fw)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bw}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wh(e,$n._jsonSchema))return new $n(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Fw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$n._jsonSchemaVersion="firestore/timestamp/1.0",$n._jsonSchema={type:bi("string",$n._jsonSchemaVersion),seconds:bi("number"),nanoseconds:bi("number")};class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new $n(0,0))}static max(){return new Tt(new $n(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ff=-1;class Bf{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function by(n){return n.fields.find((e=>e.kind===2))}function Gc(n){return n.fields.filter((e=>e.kind!==2))}function H8(n,e){let t=Kt(n.collectionGroup,e.collectionGroup);if(t!==0)return t;for(let r=0;r<Math.min(n.fields.length,e.fields.length);++r)if(t=G8(n.fields[r],e.fields[r]),t!==0)return t;return Kt(n.fields.length,e.fields.length)}Bf.UNKNOWN_ID=-1;class eh{constructor(e,t){this.fieldPath=e,this.kind=t}}function G8(n,e){const t=Tr.comparator(n.fieldPath,e.fieldPath);return t!==0?t:Kt(n.kind,e.kind)}class qf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new qf(0,Va.min())}}function U3(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Tt.fromTimestamp(r===1e9?new $n(t+1,0):new $n(t,r));return new Va(s,tt.empty(),e)}function F3(n){return new Va(n.readTime,n.key,Ff)}class Va{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Va(Tt.min(),tt.empty(),Ff)}static max(){return new Va(Tt.max(),tt.empty(),Ff)}}function __(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=tt.comparator(n.documentKey,e.documentKey),t!==0?t:Kt(n.largestBatchId,e.largestBatchId))}const B3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vc(n){if(n.code!==Ce.FAILED_PRECONDITION||n.message!==B3)throw n;Qe("LocalStore","Unexpectedly lost primary lease")}class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Se(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Se?t:Se.resolve(t)}catch(t){return Se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Se.reject(t)}static resolve(e){return new Se(((t,r)=>{t(e)}))}static reject(e){return new Se(((t,r)=>{r(e)}))}static waitFor(e){return new Se(((t,r)=>{let s=0,o=0,u=!1;e.forEach((c=>{++s,c.next((()=>{++o,u&&o===s&&t()}),(f=>r(f)))})),u=!0,o===s&&t()}))}static or(e){let t=Se.resolve(!1);for(const r of e)t=t.next((s=>s?Se.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new Se(((r,s)=>{const o=e.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((g=>{u[d]=g,++c,c===o&&r(u)}),(g=>s(g)))}}))}static doWhile(e,t){return new Se(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}const Da="SimpleDb";class k1{static open(e,t,r,s){try{return new k1(t,e.transaction(s,r))}catch(o){throw new Ep(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new es,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Ep(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=v_(r.target.error);this.S.reject(new Ep(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Qe(Da,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new $8(t)}}class ml{static delete(e){return Qe(Da,"Removing database:",e),Wc(CE().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!UE())return!1;if(ml.F())return!0;const e=Pi(),t=ml.M(e),r=0<t&&t<10,s=z3(e),o=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,ml.M(Pi())===12.2&&ui("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(Qe(Da,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const u=o.target.result;t(u)},s.onblocked=()=>{r(new Ep(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new Ge(Ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new Ge(Ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Ep(e,u))},s.onupgradeneeded=o=>{Qe(Da,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.N.k(u,s.transaction,o.oldVersion,this.version).next((()=>{Qe(Da,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,s){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(e);const c=k1.open(this.db,e,o?"readonly":"readwrite",r),f=s(c).next((d=>(c.C(),d))).catch((d=>(c.abort(d),Se.reject(d)))).toPromise();return f.catch((()=>{})),await c.D,f}catch(c){const f=c,d=f.name!=="FirebaseError"&&u<3;if(Qe(Da,"Transaction failed with error:",f.message,"Retrying:",d),this.close(),!d)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function z3(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class K8{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return Wc(this.U.delete())}}class Ep extends Ge{constructor(e,t){super(Ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function bc(n){return n.name==="IndexedDbTransactionError"}class $8{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(Qe(Da,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(Qe(Da,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Wc(r)}add(e){return Qe(Da,"ADD",this.store.name,e,e),Wc(this.store.add(e))}get(e){return Wc(this.store.get(e)).next((t=>(t===void 0&&(t=null),Qe(Da,"GET",this.store.name,e,t),t)))}delete(e){return Qe(Da,"DELETE",this.store.name,e),Wc(this.store.delete(e))}count(){return Qe(Da,"COUNT",this.store.name),Wc(this.store.count())}H(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const o=s.getAll(r.range);return new Se(((u,c)=>{o.onerror=f=>{c(f.target.error)},o.onsuccess=f=>{u(f.target.result)}}))}{const o=this.cursor(r),u=[];return this.J(o,((c,f)=>{u.push(f)})).next((()=>u))}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new Se(((s,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{s(u.target.result)}}))}X(e,t){Qe(Da,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const s=this.cursor(r);return this.J(s,((o,u,c)=>c.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.J(s,t)}te(e){const t=this.cursor({});return new Se(((r,s)=>{t.onerror=o=>{const u=v_(o.target.error);s(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next((c=>{c?u.continue():r()})):r()}}))}J(e,t){const r=[];return new Se(((s,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const c=u.target.result;if(!c)return void s();const f=new K8(c),d=t(c.primaryKey,c.value,f);if(d instanceof Se){const g=d.catch((w=>(f.done(),Se.reject(w))));r.push(g)}f.isDone?s():f.G===null?c.continue():c.continue(f.G)}})).next((()=>Se.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wc(n){return new Se(((e,t)=>{n.onsuccess=r=>{const s=r.target.result;e(s)},n.onerror=r=>{const s=v_(r.target.error);t(s)}}))}let qw=!1;function v_(n){const e=ml.M(Pi());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ge("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qw||(qw=!0,setTimeout((()=>{throw r}),0)),r}}return n}const Sp="IndexBackfiller";class W8{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){Qe(Sp,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();Qe(Sp,`Documents written: ${t}`)}catch(t){bc(t)?Qe(Sp,"Ignoring IndexedDB error during index backfill: ",t):await vc(t)}await this.re(6e4)}))}}class Y8{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let s=t,o=!0;return Se.doWhile((()=>o===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((u=>{if(u!==null&&!r.has(u))return Qe(Sp,`Processing collection: ${u}`),this.oe(e,u,s).next((c=>{s-=c,r.add(u)}));o=!1})))).next((()=>t-s))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next((o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next((()=>this._e(s,o))).next((c=>(Qe(Sp,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,t,c)))).next((()=>u.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((s,o)=>{const u=F3(o);__(u,r)>0&&(r=u)})),new Va(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ca{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ca.ce=-1;const sc=-1;function rm(n){return n==null}function Vp(n){return n===0&&1/n==-1/0}function H3(n){return typeof n=="number"&&Number.isInteger(n)&&!Vp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const i1="";function Cs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zw(e)),e=Q8(n.get(t),e);return zw(e)}function Q8(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case i1:t+="";break;default:t+=o}}return t}function zw(n){return n+i1+""}function ul(n){const e=n.length;if(vt(e>=2,64408,{path:n}),e===2)return vt(n.charAt(0)===i1&&n.charAt(1)==="",56145,{path:n}),yn.emptyPath();const t=e-2,r=[];let s="";for(let o=0;o<e;){const u=n.indexOf(i1,o);switch((u<0||u>t)&&ut(50515,{path:n}),n.charAt(u+1)){case"":const c=n.substring(o,u);let f;s.length===0?f=c:(s+=c,f=s,s=""),r.push(f);break;case"":s+=n.substring(o,u),s+="\0";break;case"":s+=n.substring(o,u+1);break;default:ut(61167,{path:n})}o=u+2}return new yn(r)}const Kc="remoteDocuments",im="owner",cf="owner",jp="mutationQueues",X8="userId",Io="mutations",Hw="batchId",Zc="userMutationsIndex",Gw=["userId","batchId"];function Pg(n,e){return[n,Cs(e)]}function G3(n,e,t){return[n,Cs(e),t]}const J8={},zf="documentMutations",s1="remoteDocumentsV14",Z8=["prefixPath","collectionGroup","readTime","documentId"],Og="documentKeyIndex",eL=["prefixPath","collectionGroup","documentId"],K3="collectionGroupIndex",tL=["collectionGroup","readTime","prefixPath","documentId"],Up="remoteDocumentGlobal",wy="remoteDocumentGlobalKey",Hf="targets",$3="queryTargetsIndex",nL=["canonicalId","targetId"],Gf="targetDocuments",rL=["targetId","path"],b_="documentTargetsIndex",iL=["path","targetId"],a1="targetGlobalKey",th="targetGlobal",Fp="collectionParents",sL=["collectionId","parent"],Kf="clientMetadata",aL="clientId",D1="bundles",oL="bundleId",P1="namedQueries",lL="name",w_="indexConfiguration",uL="indexId",Ay="collectionGroupIndex",cL="collectionGroup",xp="indexState",hL=["indexId","uid"],W3="sequenceNumberIndex",fL=["uid","sequenceNumber"],Tp="indexEntries",dL=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Y3="documentKeyIndex",pL=["indexId","uid","orderedDocumentKey"],O1="documentOverlays",mL=["userId","collectionPath","documentId"],Ey="collectionPathOverlayIndex",gL=["userId","collectionPath","largestBatchId"],Q3="collectionGroupOverlayIndex",yL=["userId","collectionGroup","largestBatchId"],A_="globals",_L="name",X3=[jp,Io,zf,Kc,Hf,im,th,Gf,Kf,Up,Fp,D1,P1],vL=[...X3,O1],J3=[jp,Io,zf,s1,Hf,im,th,Gf,Kf,Up,Fp,D1,P1,O1],Z3=J3,E_=[...Z3,w_,xp,Tp],bL=E_,eS=[...E_,A_],wL=eS;class Sy extends q3{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Mi(n,e){const t=it(n);return ml.O(t.le,e)}function Kw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function tS(n,e){const t=[];for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.push(e(n[r],r,n));return t}function nS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class vr{constructor(e,t){this.comparator=e,this.root=t||ms.EMPTY}insert(e,t){return new vr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ms.BLACK,null,null))}remove(e){return new vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ms.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dg(this.root,e,this.comparator,!1)}getReverseIterator(){return new dg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dg(this.root,e,this.comparator,!0)}}class dg{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ms{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??ms.RED,this.left=s??ms.EMPTY,this.right=o??ms.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new ms(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ms.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return ms.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ms.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ms.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ut(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ut(27949);return e+(this.isRed()?0:1)}}ms.EMPTY=null,ms.RED=!0,ms.BLACK=!1;ms.EMPTY=new class{constructor(){this.size=0}get key(){throw ut(57766)}get value(){throw ut(16141)}get color(){throw ut(16727)}get left(){throw ut(29726)}get right(){throw ut(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new ms(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nr{constructor(e){this.comparator=e,this.data=new vr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $w(this.data.getIterator())}getIteratorFrom(e){return new $w(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof nr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new nr(this.comparator);return t.data=e,t}}class $w{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hf(n){return n.hasNext()?n.getNext():void 0}class ha{constructor(e){this.fields=e,e.sort(Tr.comparator)}static empty(){return new ha([])}unionWith(e){let t=new nr(Tr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ha(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uf(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class rS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function AL(){return typeof atob<"u"}class Hr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new rS("Invalid base64 string: "+o):o}})(e);return new Hr(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new Hr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hr.EMPTY_BYTE_STRING=new Hr("");const EL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function su(n){if(vt(!!n,39018),typeof n=="string"){let e=0;const t=EL.exec(n);if(vt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Or(n.seconds),nanos:Or(n.nanos)}}function Or(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function au(n){return typeof n=="string"?Hr.fromBase64String(n):Hr.fromUint8Array(n)}const iS="server_timestamp",sS="__type__",aS="__previous_value__",oS="__local_write_time__";function M1(n){return(n?.mapValue?.fields||{})[sS]?.stringValue===iS}function V1(n){const e=n.mapValue.fields[aS];return M1(e)?V1(e):e}function Bp(n){const e=su(n.mapValue.fields[oS].timestampValue);return new $n(e.seconds,e.nanos)}class SL{constructor(e,t,r,s,o,u,c,f,d,g,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g,this.apiKey=w}}const qp="(default)";class lc{constructor(e,t){this.projectId=e,this.database=t||qp}static empty(){return new lc("","")}get isDefaultDatabase(){return this.database===qp}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}function xL(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Ge(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(n.options.projectId,e)}const S_="__type__",lS="__max__",Zu={mapValue:{fields:{__type__:{stringValue:lS}}}},x_="__vector__",$f="value",Mg={nullValue:"NULL_VALUE"};function uc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?M1(n)?4:uS(n)?9007199254740991:j1(n)?10:11:ut(28295,{value:n})}function yl(n,e){if(n===e)return!0;const t=uc(n);if(t!==uc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bp(n).isEqual(Bp(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=su(s.timestampValue),c=su(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return au(s.bytesValue).isEqual(au(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return Or(s.geoPointValue.latitude)===Or(o.geoPointValue.latitude)&&Or(s.geoPointValue.longitude)===Or(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Or(s.integerValue)===Or(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Or(s.doubleValue),c=Or(o.doubleValue);return u===c?Vp(u)===Vp(c):isNaN(u)&&isNaN(c)}return!1})(n,e);case 9:return Uf(n.arrayValue.values||[],e.arrayValue.values||[],yl);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},c=o.mapValue.fields||{};if(Kw(u)!==Kw(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!yl(u[f],c[f])))return!1;return!0})(n,e);default:return ut(52216,{left:n})}}function zp(n,e){return(n.values||[]).find((t=>yl(t,e)))!==void 0}function cc(n,e){if(n===e)return 0;const t=uc(n),r=uc(e);if(t!==r)return Kt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const c=Or(o.integerValue||o.doubleValue),f=Or(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(n,e);case 3:return Ww(n.timestampValue,e.timestampValue);case 4:return Ww(Bp(n),Bp(e));case 5:return _y(n.stringValue,e.stringValue);case 6:return(function(o,u){const c=au(o),f=au(u);return c.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const c=o.split("/"),f=u.split("/");for(let d=0;d<c.length&&d<f.length;d++){const g=Kt(c[d],f[d]);if(g!==0)return g}return Kt(c.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const c=Kt(Or(o.latitude),Or(u.latitude));return c!==0?c:Kt(Or(o.longitude),Or(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Yw(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const c=o.fields||{},f=u.fields||{},d=c[$f]?.arrayValue,g=f[$f]?.arrayValue,w=Kt(d?.values?.length||0,g?.values?.length||0);return w!==0?w:Yw(d,g)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Zu.mapValue&&u===Zu.mapValue)return 0;if(o===Zu.mapValue)return 1;if(u===Zu.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let w=0;w<f.length&&w<g.length;++w){const E=_y(f[w],g[w]);if(E!==0)return E;const b=cc(c[f[w]],d[g[w]]);if(b!==0)return b}return Kt(f.length,g.length)})(n.mapValue,e.mapValue);default:throw ut(23264,{he:t})}}function Ww(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Kt(n,e);const t=su(n),r=su(e),s=Kt(t.seconds,r.seconds);return s!==0?s:Kt(t.nanos,r.nanos)}function Yw(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=cc(t[s],r[s]);if(o)return o}return Kt(t.length,r.length)}function Wf(n){return xy(n)}function xy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=su(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return au(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return tt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=xy(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${xy(t.fields[u])}`;return s+"}"})(n.mapValue):ut(61005,{value:n})}function Vg(n){switch(uc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=V1(n);return e?16+Vg(e):16;case 5:return 2*n.stringValue.length;case 6:return au(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+Vg(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return wc(r.fields,((o,u)=>{s+=o.length+Vg(u)})),s})(n.mapValue);default:throw ut(13486,{value:n})}}function oh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ty(n){return!!n&&"integerValue"in n}function Hp(n){return!!n&&"arrayValue"in n}function Qw(n){return!!n&&"nullValue"in n}function Xw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jg(n){return!!n&&"mapValue"in n}function j1(n){return(n?.mapValue?.fields||{})[S_]?.stringValue===x_}function Ip(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return wc(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Ip(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ip(n.arrayValue.values[t]);return e}return{...n}}function uS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lS}const cS={mapValue:{fields:{[S_]:{stringValue:x_},[$f]:{arrayValue:{}}}}};function TL(n){return"nullValue"in n?Mg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?oh(lc.empty(),tt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?j1(n)?cS:{mapValue:{}}:ut(35942,{value:n})}function IL(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?oh(lc.empty(),tt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?cS:"mapValue"in n?j1(n)?{mapValue:{}}:Zu:ut(61959,{value:n})}function Jw(n,e){const t=cc(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Zw(n,e){const t=cc(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Zi{constructor(e){this.value=e}static empty(){return new Zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!jg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ip(t)}setAll(e){let t=Tr.emptyPath(),r={},s=[];e.forEach(((u,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=c.popLast()}u?r[c.lastSegment()]=Ip(u):s.push(c.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());jg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];jg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){wc(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Zi(Ip(this.value))}}function hS(n){const e=[];return wc(n.fields,((t,r)=>{const s=new Tr([t]);if(jg(r)){const o=hS(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new ha(e)}class xr{constructor(e,t,r,s,o,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new xr(e,0,Tt.min(),Tt.min(),Tt.min(),Zi.empty(),0)}static newFoundDocument(e,t,r,s){return new xr(e,1,t,Tt.min(),r,s,0)}static newNoDocument(e,t){return new xr(e,2,t,Tt.min(),Tt.min(),Zi.empty(),0)}static newUnknownDocument(e,t){return new xr(e,3,t,Tt.min(),Tt.min(),Zi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hc{constructor(e,t){this.position=e,this.inclusive=t}}function eA(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=tt.comparator(tt.fromName(u.referenceValue),t.key):r=cc(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function tA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yl(n.position[t],e.position[t]))return!1;return!0}class Gp{constructor(e,t="asc"){this.field=e,this.dir=t}}function NL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class fS{}class Tn extends fS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new RL(e,t,r):t==="array-contains"?new kL(e,r):t==="in"?new _S(e,r):t==="not-in"?new DL(e,r):t==="array-contains-any"?new PL(e,r):new Tn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new CL(e,r):new LL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(cc(t,this.value)):t!==null&&uc(this.value)===uc(t)&&this.matchesComparison(cc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends fS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new er(e,t)}matches(e){return Yf(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Yf(n){return n.op==="and"}function Iy(n){return n.op==="or"}function T_(n){return dS(n)&&Yf(n)}function dS(n){for(const e of n.filters)if(e instanceof er)return!1;return!0}function Ny(n){if(n instanceof Tn)return n.field.canonicalString()+n.op.toString()+Wf(n.value);if(T_(n))return n.filters.map((e=>Ny(e))).join(",");{const e=n.filters.map((t=>Ny(t))).join(",");return`${n.op}(${e})`}}function pS(n,e){return n instanceof Tn?(function(r,s){return s instanceof Tn&&r.op===s.op&&r.field.isEqual(s.field)&&yl(r.value,s.value)})(n,e):n instanceof er?(function(r,s){return s instanceof er&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,u,c)=>o&&pS(u,s.filters[c])),!0):!1})(n,e):void ut(19439)}function mS(n,e){const t=n.filters.concat(e);return er.create(t,n.op)}function gS(n){return n instanceof Tn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Wf(t.value)}`})(n):n instanceof er?(function(t){return t.op.toString()+" {"+t.getFilters().map(gS).join(" ,")+"}"})(n):"Filter"}class RL extends Tn{constructor(e,t,r){super(e,t,r),this.key=tt.fromName(r.referenceValue)}matches(e){const t=tt.comparator(e.key,this.key);return this.matchesComparison(t)}}class CL extends Tn{constructor(e,t){super(e,"in",t),this.keys=yS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class LL extends Tn{constructor(e,t){super(e,"not-in",t),this.keys=yS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function yS(n,e){return(e.arrayValue?.values||[]).map((t=>tt.fromName(t.referenceValue)))}class kL extends Tn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hp(t)&&zp(t.arrayValue,this.value)}}class _S extends Tn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&zp(this.value.arrayValue,t)}}class DL extends Tn{constructor(e,t){super(e,"not-in",t)}matches(e){if(zp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!zp(this.value.arrayValue,t)}}class PL extends Tn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>zp(this.value.arrayValue,r)))}}class OL{constructor(e,t=null,r=[],s=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=c,this.Te=null}}function Ry(n,e=null,t=[],r=[],s=null,o=null,u=null){return new OL(n,e,t,r,s,o,u)}function lh(n){const e=it(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Ny(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),rm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Wf(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Wf(r))).join(",")),e.Te=t}return e.Te}function sm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tA(n.startAt,e.startAt)&&tA(n.endAt,e.endAt)}function o1(n){return tt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function l1(n,e){return n.filters.filter((t=>t instanceof Tn&&t.field.isEqual(e)))}function nA(n,e,t){let r=Mg,s=!0;for(const o of l1(n,e)){let u=Mg,c=!0;switch(o.op){case"<":case"<=":u=TL(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,c=!1;break;case"!=":case"not-in":u=Mg}Jw({value:r,inclusive:s},{value:u,inclusive:c})<0&&(r=u,s=c)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];Jw({value:r,inclusive:s},{value:u,inclusive:t.inclusive})<0&&(r=u,s=t.inclusive);break}}return{value:r,inclusive:s}}function rA(n,e,t){let r=Zu,s=!0;for(const o of l1(n,e)){let u=Zu,c=!0;switch(o.op){case">=":case">":u=IL(o.value),c=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,c=!1;break;case"!=":case"not-in":u=Zu}Zw({value:r,inclusive:s},{value:u,inclusive:c})>0&&(r=u,s=c)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];Zw({value:r,inclusive:s},{value:u,inclusive:t.inclusive})>0&&(r=u,s=t.inclusive);break}}return{value:r,inclusive:s}}class lu{constructor(e,t=null,r=[],s=[],o=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function vS(n,e,t,r,s,o,u,c){return new lu(n,e,t,r,s,o,u,c)}function cd(n){return new lu(n)}function iA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ML(n){return tt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function I_(n){return n.collectionGroup!==null}function kf(n){const e=it(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new nr(Tr.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Gp(o,r))})),t.has(Tr.keyField().canonicalString())||e.Ie.push(new Gp(Tr.keyField(),r))}return e.Ie}function Ls(n){const e=it(n);return e.Ee||(e.Ee=wS(e,kf(n))),e.Ee}function bS(n){const e=it(n);return e.Re||(e.Re=wS(e,n.explicitOrderBy)),e.Re}function wS(n,e){if(n.limitType==="F")return Ry(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Gp(s.field,o)}));const t=n.endAt?new hc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new hc(n.startAt.position,n.startAt.inclusive):null;return Ry(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Cy(n,e){const t=n.filters.concat([e]);return new lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function VL(n,e){const t=n.explicitOrderBy.concat([e]);return new lu(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function u1(n,e,t){return new lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jL(n,e){return new lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,e,n.endAt)}function UL(n,e){return new lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,e)}function am(n,e){return sm(Ls(n),Ls(e))&&n.limitType===e.limitType}function AS(n){return`${lh(Ls(n))}|lt:${n.limitType}`}function wf(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>gS(s))).join(", ")}]`),rm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Wf(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Wf(s))).join(",")),`Target(${r})`})(Ls(n))}; limitType=${n.limitType})`}function om(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):tt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of kf(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,c,f){const d=eA(u,c,f);return u.inclusive?d<=0:d<0})(r.startAt,kf(r),s)||r.endAt&&!(function(u,c,f){const d=eA(u,c,f);return u.inclusive?d>=0:d>0})(r.endAt,kf(r),s))})(n,e)}function ES(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function SS(n){return(e,t)=>{let r=!1;for(const s of kf(n)){const o=FL(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function FL(n,e,t){const r=n.field.isKeyField()?tt.comparator(e.key,t.key):(function(o,u,c){const f=u.data.field(o),d=c.data.field(o);return f!==null&&d!==null?cc(f,d):ut(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ut(19790,{direction:n.dir})}}class uu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){wc(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return nS(this.inner)}size(){return this.innerSize}}const BL=new vr(tt.comparator);function fa(){return BL}const xS=new vr(tt.comparator);function _p(...n){let e=xS;for(const t of n)e=e.insert(t.key,t);return e}function TS(n){let e=xS;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function cl(){return Np()}function IS(){return Np()}function Np(){return new uu((n=>n.toString()),((n,e)=>n.isEqual(e)))}const qL=new vr(tt.comparator),zL=new nr(tt.comparator);function ln(...n){let e=zL;for(const t of n)e=e.add(t);return e}const HL=new nr(Kt);function N_(){return HL}function R_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vp(e)?"-0":e}}function NS(n){return{integerValue:""+n}}function RS(n,e){return H3(e)?NS(e):R_(n,e)}class U1{constructor(){this._=void 0}}function GL(n,e,t){return n instanceof Qf?(function(s,o){const u={fields:{[sS]:{stringValue:iS},[oS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&M1(o)&&(o=V1(o)),o&&(u.fields[aS]=o),{mapValue:u}})(t,e):n instanceof uh?LS(n,e):n instanceof ch?kS(n,e):(function(s,o){const u=CS(s,o),c=sA(u)+sA(s.Ae);return Ty(u)&&Ty(s.Ae)?NS(c):R_(s.serializer,c)})(n,e)}function KL(n,e,t){return n instanceof uh?LS(n,e):n instanceof ch?kS(n,e):t}function CS(n,e){return n instanceof Xf?(function(r){return Ty(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Qf extends U1{}class uh extends U1{constructor(e){super(),this.elements=e}}function LS(n,e){const t=DS(e);for(const r of n.elements)t.some((s=>yl(s,r)))||t.push(r);return{arrayValue:{values:t}}}class ch extends U1{constructor(e){super(),this.elements=e}}function kS(n,e){let t=DS(e);for(const r of n.elements)t=t.filter((s=>!yl(s,r)));return{arrayValue:{values:t}}}class Xf extends U1{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function sA(n){return Or(n.integerValue||n.doubleValue)}function DS(n){return Hp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class lm{constructor(e,t){this.field=e,this.transform=t}}function $L(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof uh&&s instanceof uh||r instanceof ch&&s instanceof ch?Uf(r.elements,s.elements,yl):r instanceof Xf&&s instanceof Xf?yl(r.Ae,s.Ae):r instanceof Qf&&s instanceof Qf})(n.transform,e.transform)}class WL{constructor(e,t){this.version=e,this.transformResults=t}}class Mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ug(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class F1{}function PS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new fd(n.key,Mr.none()):new hd(n.key,n.data,Mr.none());{const t=n.data,r=Zi.empty();let s=new nr(Tr.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new cu(n.key,r,new ha(s.toArray()),Mr.none())}}function YL(n,e,t){n instanceof hd?(function(s,o,u){const c=s.value.clone(),f=oA(s.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()})(n,e,t):n instanceof cu?(function(s,o,u){if(!Ug(s.precondition,o))return void o.convertToUnknownDocument(u.version);const c=oA(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(OS(s)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Rp(n,e,t,r){return n instanceof hd?(function(o,u,c,f){if(!Ug(o.precondition,u))return c;const d=o.value.clone(),g=lA(o.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof cu?(function(o,u,c,f){if(!Ug(o.precondition,u))return c;const d=lA(o.fieldTransforms,f,u),g=u.data;return g.setAll(OS(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(o,u,c){return Ug(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c})(n,e,t)}function QL(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=CS(r.transform,s||null);o!=null&&(t===null&&(t=Zi.empty()),t.set(r.field,o))}return t||null}function aA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Uf(r,s,((o,u)=>$L(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hd extends F1{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class cu extends F1{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function OS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function oA(n,e,t){const r=new Map;vt(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,c=e.data.field(o.field);r.set(o.field,KL(u,c,t[s]))}return r}function lA(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,GL(o,u,e))}return r}class fd extends F1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C_ extends F1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class L_{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&YL(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Rp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Rp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=IS();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=t.has(s.key)?null:c;const f=PS(u,c);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Tt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ln())}isEqual(e){return this.batchId===e.batchId&&Uf(this.mutations,e.mutations,((t,r)=>aA(t,r)))&&Uf(this.baseMutations,e.baseMutations,((t,r)=>aA(t,r)))}}class k_{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){vt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return qL})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new k_(e,t,r,s)}}class D_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class MS{constructor(e,t,r){this.alias=e,this.aggregateType=t,this.fieldPath=r}}class XL{constructor(e,t){this.count=e,this.unchangedNames=t}}var vi,kn;function VS(n){switch(n){case Ce.OK:return ut(64938);case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0;default:return ut(15467,{code:n})}}function jS(n){if(n===void 0)return ui("GRPC error has no .code"),Ce.UNKNOWN;switch(n){case vi.OK:return Ce.OK;case vi.CANCELLED:return Ce.CANCELLED;case vi.UNKNOWN:return Ce.UNKNOWN;case vi.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case vi.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case vi.INTERNAL:return Ce.INTERNAL;case vi.UNAVAILABLE:return Ce.UNAVAILABLE;case vi.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case vi.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case vi.NOT_FOUND:return Ce.NOT_FOUND;case vi.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case vi.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case vi.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case vi.ABORTED:return Ce.ABORTED;case vi.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case vi.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case vi.DATA_LOSS:return Ce.DATA_LOSS;default:return ut(39323,{code:n})}}(kn=vi||(vi={}))[kn.OK=0]="OK",kn[kn.CANCELLED=1]="CANCELLED",kn[kn.UNKNOWN=2]="UNKNOWN",kn[kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kn[kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kn[kn.NOT_FOUND=5]="NOT_FOUND",kn[kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",kn[kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",kn[kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",kn[kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kn[kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kn[kn.ABORTED=10]="ABORTED",kn[kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",kn[kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",kn[kn.INTERNAL=13]="INTERNAL",kn[kn.UNAVAILABLE=14]="UNAVAILABLE",kn[kn.DATA_LOSS=15]="DATA_LOSS";let Ly=null;function JL(n){if(Ly)throw new Error("a TestingHooksSpi instance is already set");Ly=n}function US(){return new TextEncoder}const ZL=new ic([4294967295,4294967295],0);function uA(n){const e=US().encode(n),t=new T3;return t.update(e),new Uint8Array(t.digest())}function cA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ic([t,r],0),new ic([s,o],0)]}class P_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new vp(`Invalid padding: ${t}`);if(r<0)throw new vp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vp(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new vp(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ic.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(ic.fromNumber(r)));return s.compare(ZL)===1&&(s=new ic([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=uA(e),[r,s]=cA(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new P_(o,s,t);return r.forEach((c=>u.insert(c))),u}insert(e){if(this.ge===0)return;const t=uA(e),[r,s]=cA(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class vp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class um{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,cm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new um(Tt.min(),s,new vr(Kt),fa(),ln())}}class cm{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new cm(r,t,ln(),ln(),ln())}}class Fg{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=s}}class FS{constructor(e,t){this.targetId=e,this.Ce=t}}class BS{constructor(e,t,r=Hr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class hA{constructor(){this.ve=0,this.Fe=fA(),this.Me=Hr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ln(),t=ln(),r=ln();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ut(38017,{changeType:o})}})),new cm(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=fA()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class e7{constructor(e){this.Ge=e,this.ze=new Map,this.je=fa(),this.He=pg(),this.Je=pg(),this.Ze=new vr(Kt)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ut(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(o1(o))if(r===0){const u=new tt(o.path);this.et(t,u,xr.newNoDocument(u,Tt.min()))}else vt(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const c=this.ut(e),f=c?this.ct(c,e,u):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}Ly?.lt((function(g,w,E,b,V){const M={localCacheCount:g,existenceFilterCount:w.count,databaseId:E.database,projectId:E.projectId},B=w.unchangedNames;return B&&(M.bloomFilter={applied:V===0,hashCount:B?.hashCount??0,bitmapLength:B?.bits?.bitmap?.length??0,padding:B?.bits?.padding??0,mightContain:U=>b?.mightContain(U)??!1}),M})(u,e.Ce,this.Ge.ht(),c,f))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,c;try{u=au(r).toUint8Array()}catch(f){if(f instanceof rS)return ga("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new P_(u,s,o)}catch(f){return ga(f instanceof vp?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const u=this.Ge.ht(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const c=this.ot(u);if(c){if(o.current&&o1(c.target)){const f=new tt(c.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,xr.newNoDocument(f,e))}o.Be&&(t.set(u,o.ke()),o.Ke())}}));let r=ln();this.Je.forEach(((o,u)=>{let c=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const s=new um(e,t,this.Ze,this.je,r);return this.je=fa(),this.He=pg(),this.Je=pg(),this.Ze=new vr(Kt),s}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new hA,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new nr(Kt),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new nr(Kt),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Qe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hA),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function pg(){return new vr(tt.comparator)}function fA(){return new vr(tt.comparator)}const t7={asc:"ASCENDING",desc:"DESCENDING"},n7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r7={and:"AND",or:"OR"};class i7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ky(n,e){return n.useProto3Json||rm(e)?e:{value:e}}function Jf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function s7(n,e){return Jf(n,e.toTimestamp())}function ci(n){return vt(!!n,49232),Tt.fromTimestamp((function(t){const r=su(t);return new $n(r.seconds,r.nanos)})(n))}function O_(n,e){return Dy(n,e).canonicalString()}function Dy(n,e){const t=(function(s){return new yn(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function zS(n){const e=yn.fromString(n);return vt(JS(e),10190,{key:e.toString()}),e}function Kp(n,e){return O_(n.databaseId,e.path)}function gl(n,e){const t=zS(e);if(t.get(1)!==n.databaseId.projectId)throw new Ge(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ge(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tt(KS(t))}function HS(n,e){return O_(n.databaseId,e)}function GS(n){const e=zS(n);return e.length===4?yn.emptyPath():KS(e)}function Py(n){return new yn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function KS(n){return vt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function dA(n,e,t){return{name:Kp(n,e),fields:t.value.mapValue.fields}}function B1(n,e,t){const r=gl(n,e.name),s=ci(e.updateTime),o=e.createTime?ci(e.createTime):Tt.min(),u=new Zi({mapValue:{fields:e.fields}}),c=xr.newFoundDocument(r,s,o,u);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function a7(n,e){return"found"in e?(function(r,s){vt(!!s.found,43571),s.found.name,s.found.updateTime;const o=gl(r,s.found.name),u=ci(s.found.updateTime),c=s.found.createTime?ci(s.found.createTime):Tt.min(),f=new Zi({mapValue:{fields:s.found.fields}});return xr.newFoundDocument(o,u,c,f)})(n,e):"missing"in e?(function(r,s){vt(!!s.missing,3894),vt(!!s.readTime,22933);const o=gl(r,s.missing),u=ci(s.readTime);return xr.newNoDocument(o,u)})(n,e):ut(7234,{result:e})}function o7(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ut(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(d,g){return d.useProto3Json?(vt(g===void 0||typeof g=="string",58123),Hr.fromBase64String(g||"")):(vt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Hr.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&(function(d){const g=d.code===void 0?Ce.UNKNOWN:jS(d.code);return new Ge(g,d.message||"")})(u);t=new BS(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=gl(n,r.document.name),o=ci(r.document.updateTime),u=r.document.createTime?ci(r.document.createTime):Tt.min(),c=new Zi({mapValue:{fields:r.document.fields}}),f=xr.newFoundDocument(s,o,u,c),d=r.targetIds||[],g=r.removedTargetIds||[];t=new Fg(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=gl(n,r.document),o=r.readTime?ci(r.readTime):Tt.min(),u=xr.newNoDocument(s,o),c=r.removedTargetIds||[];t=new Fg([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=gl(n,r.document),o=r.removedTargetIds||[];t=new Fg([],o,s,null)}else{if(!("filter"in e))return ut(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new XL(s,o),c=r.targetId;t=new FS(c,u)}}return t}function $p(n,e){let t;if(e instanceof hd)t={update:dA(n,e.key,e.value)};else if(e instanceof fd)t={delete:Kp(n,e.key)};else if(e instanceof cu)t={update:dA(n,e.key,e.data),updateMask:d7(e.fieldMask)};else{if(!(e instanceof C_))return ut(16599,{dt:e.type});t={verify:Kp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const c=u.transform;if(c instanceof Qf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof uh)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ch)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Xf)return{fieldPath:u.field.canonicalString(),increment:c.Ae};throw ut(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:s7(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ut(27497)})(n,e.precondition)),t}function Oy(n,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?Mr.updateTime(ci(o.updateTime)):o.exists!==void 0?Mr.exists(o.exists):Mr.none()})(e.currentDocument):Mr.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(u,c){let f=null;if("setToServerValue"in c)vt(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),f=new Qf;else if("appendMissingElements"in c){const g=c.appendMissingElements.values||[];f=new uh(g)}else if("removeAllFromArray"in c){const g=c.removeAllFromArray.values||[];f=new ch(g)}else"increment"in c?f=new Xf(u,c.increment):ut(16584,{proto:c});const d=Tr.fromServerFormat(c.fieldPath);return new lm(d,f)})(n,s))):[];if(e.update){e.update.name;const s=gl(n,e.update.name),o=new Zi({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=(function(f){const d=f.fieldPaths||[];return new ha(d.map((g=>Tr.fromServerFormat(g))))})(e.updateMask);return new cu(s,o,u,t,r)}return new hd(s,o,t,r)}if(e.delete){const s=gl(n,e.delete);return new fd(s,t)}if(e.verify){const s=gl(n,e.verify);return new C_(s,t)}return ut(1463,{proto:e})}function l7(n,e){return n&&n.length>0?(vt(e!==void 0,14353),n.map((t=>(function(s,o){let u=s.updateTime?ci(s.updateTime):ci(o);return u.isEqual(Tt.min())&&(u=ci(o)),new WL(u,s.transformResults||[])})(t,e)))):[]}function $S(n,e){return{documents:[HS(n,e.path)]}}function q1(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=HS(n,s);const o=(function(d){if(d.length!==0)return XS(er.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((g=>(function(E){return{field:Xu(E.field),direction:c7(E.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=ky(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:s}}function WS(n,e,t,r){const{ft:s,parent:o}=q1(n,e),u={},c=[];let f=0;return t.forEach((d=>{const g=r?d.alias:"aggregate_"+f++;u[g]=d.alias,d.aggregateType==="count"?c.push({alias:g,count:{}}):d.aggregateType==="avg"?c.push({alias:g,avg:{field:Xu(d.fieldPath)}}):d.aggregateType==="sum"&&c.push({alias:g,sum:{field:Xu(d.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:c,structuredQuery:s.structuredQuery},parent:s.parent},gt:u,parent:o}}function YS(n){let e=GS(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){vt(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(w){const E=QS(w);return E instanceof er&&T_(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((E=>(function(V){return new Gp(Af(V.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(E)))})(t.orderBy));let c=null;t.limit&&(c=(function(w){let E;return E=typeof w=="object"?w.value:w,rm(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(w){const E=!!w.before,b=w.values||[];return new hc(b,E)})(t.startAt));let d=null;return t.endAt&&(d=(function(w){const E=!w.before,b=w.values||[];return new hc(b,E)})(t.endAt)),vS(e,s,u,o,c,"F",f,d)}function u7(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function QS(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Af(t.unaryFilter.field);return Tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Af(t.unaryFilter.field);return Tn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Af(t.unaryFilter.field);return Tn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Af(t.unaryFilter.field);return Tn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ut(61313);default:return ut(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Tn.create(Af(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ut(58110);default:return ut(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return er.create(t.compositeFilter.filters.map((r=>QS(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ut(1026)}})(t.compositeFilter.op))})(n):ut(30097,{filter:n})}function c7(n){return t7[n]}function h7(n){return n7[n]}function f7(n){return r7[n]}function Xu(n){return{fieldPath:n.canonicalString()}}function Af(n){return Tr.fromServerFormat(n.fieldPath)}function XS(n){return n instanceof Tn?(function(t){if(t.op==="=="){if(Xw(t.value))return{unaryFilter:{field:Xu(t.field),op:"IS_NAN"}};if(Qw(t.value))return{unaryFilter:{field:Xu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Xw(t.value))return{unaryFilter:{field:Xu(t.field),op:"IS_NOT_NAN"}};if(Qw(t.value))return{unaryFilter:{field:Xu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xu(t.field),op:h7(t.op),value:t.value}}})(n):n instanceof er?(function(t){const r=t.getFilters().map((s=>XS(s)));return r.length===1?r[0]:{compositeFilter:{op:f7(t.op),filters:r}}})(n):ut(54877,{filter:n})}function d7(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function JS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function ZS(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class eu{constructor(e,t,r,s,o=Tt.min(),u=Tt.min(),c=Hr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new eu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ex{constructor(e){this.yt=e}}function p7(n,e){let t;if(e.document)t=B1(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=tt.fromSegments(e.noDocument.path),s=fh(e.noDocument.readTime);t=xr.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ut(56709);{const r=tt.fromSegments(e.unknownDocument.path),s=fh(e.unknownDocument.version);t=xr.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime((function(s){const o=new $n(s[0],s[1]);return Tt.fromTimestamp(o)})(e.readTime)),t}function pA(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:c1(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,u){return{name:Kp(o,u.key),fields:u.data.value.mapValue.fields,updateTime:Jf(o,u.version.toTimestamp()),createTime:Jf(o,u.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:hh(e.version)};else{if(!e.isUnknownDocument())return ut(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:hh(e.version)}}return r}function c1(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function hh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function fh(n){const e=new $n(n.seconds,n.nanoseconds);return Tt.fromTimestamp(e)}function Yc(n,e){const t=(e.baseMutations||[]).map((o=>Oy(n.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const c=e.mutations[o+1];u.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>Oy(n.yt,o))),s=$n.fromMillis(e.localWriteTimeMs);return new L_(e.batchId,s,t,r)}function bp(n){const e=fh(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?fh(n.lastLimboFreeSnapshotVersion):Tt.min();let r;return r=(function(o){return o.documents!==void 0})(n.query)?(function(o){const u=o.documents.length;return vt(u===1,1966,{count:u}),Ls(cd(GS(o.documents[0])))})(n.query):(function(o){return Ls(YS(o))})(n.query),new eu(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Hr.fromBase64String(n.resumeToken))}function tx(n,e){const t=hh(e.snapshotVersion),r=hh(e.lastLimboFreeSnapshotVersion);let s;s=o1(e.target)?$S(n.yt,e.target):q1(n.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:lh(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function z1(n){const e=YS({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?u1(e,e.limit,"L"):e}function k2(n,e){return new D_(e.largestBatchId,Oy(n.yt,e.overlayMutation))}function mA(n,e){const t=e.path.lastSegment();return[n,Cs(e.path.popLast()),t]}function gA(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:hh(r.readTime),documentKey:Cs(r.documentKey.path),largestBatchId:r.largestBatchId}}class m7{getBundleMetadata(e,t){return yA(e).get(t).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:fh(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,t){return yA(e).put((function(s){return{bundleId:s.id,createTime:hh(ci(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return _A(e).get(t).next((r=>{if(r)return(function(o){return{name:o.name,query:z1(o.bundledQuery),readTime:fh(o.readTime)}})(r)}))}saveNamedQuery(e,t){return _A(e).put((function(s){return{name:s.name,readTime:hh(ci(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function yA(n){return Mi(n,D1)}function _A(n){return Mi(n,P1)}class H1{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new H1(e,r)}getOverlay(e,t){return ap(e).get(mA(this.userId,t)).next((r=>r?k2(this.serializer,r):null))}getOverlays(e,t){const r=cl();return Se.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){const s=[];return r.forEach(((o,u)=>{const c=new D_(t,u);s.push(this.bt(e,c))})),Se.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach((u=>s.add(Cs(u.getCollectionPath()))));const o=[];return s.forEach((u=>{const c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(ap(e).X(Ey,c))})),Se.waitFor(o)}getOverlaysForCollection(e,t,r){const s=cl(),o=Cs(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return ap(e).H(Ey,u).next((c=>{for(const f of c){const d=k2(this.serializer,f);s.set(d.getKey(),d)}return s}))}getOverlaysForCollectionGroup(e,t,r,s){const o=cl();let u;const c=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ap(e).ee({index:Q3,range:c},((f,d,g)=>{const w=k2(this.serializer,d);o.size()<s||w.largestBatchId===u?(o.set(w.getKey(),w),u=w.largestBatchId):g.done()})).next((()=>o))}bt(e,t){return ap(e).put((function(s,o,u){const[c,f,d]=mA(o,u.mutation.key);return{userId:o,collectionPath:f,documentId:d,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:$p(s.yt,u.mutation)}})(this.serializer,this.userId,t))}}function ap(n){return Mi(n,O1)}class g7{St(e){return Mi(e,A_)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const r=t?.value;return r?Hr.fromUint8Array(r):Hr.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Qc{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Or(e.integerValue));else if("doubleValue"in e){const r=Or(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Vp(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=su(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(au(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?uS(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):j1(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):ut(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const r=e.fields||{};this.Ft(t,55);for(const s of Object.keys(r))this.Ot(s,t),this.Ct(r[s],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const s=$f,o=r[s].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Or(o)),this.Ot(s,t),this.Ct(r[s],t)}qt(e,t){const r=e.values||[];this.Ft(t,50);for(const s of r)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),tt.fromName(e).path.forEach((r=>{this.Ft(t,60),this.$t(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Qc.Wt=new Qc;const ff=255;function y7(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function vA(n){const e=64-(function(r){let s=0;for(let o=0;o<8;++o){const u=y7(255&r[o]);if(s+=u,u!==8)break}return s})(n);return Math.ceil(e/8)}class _7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ht(r.value),r=t.next();this.Jt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const s=t.codePointAt(0);this.Ht(240|s>>>18),this.Ht(128|63&s>>>12),this.Ht(128|63&s>>>6),this.Ht(128|63&s)}}this.Jt()}Yt(e){const t=this.en(e),r=vA(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),r=vA(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(ff),this.sn(255)}_n(){this.an(ff),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===ff?(this.sn(ff),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===ff?(this.an(ff),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class v7{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class b7{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class op{constructor(){this.cn=new _7,this.ascending=new v7(this.cn),this.descending=new b7(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class Xc{constructor(e,t,r,s){this.hn=e,this.Pn=t,this.Tn=r,this.In=s}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.In,0),t!==e?r.set([0],this.In.length):++r[r.length-1],new Xc(this.hn,this.Pn,this.Tn,r)}Rn(e,t,r){return{indexId:this.hn,uid:e,arrayValue:Bg(this.Tn),directionalValue:Bg(this.In),orderedDocumentKey:Bg(t),documentKey:r.path.toArray()}}An(e,t,r){const s=this.Rn(e,t,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function qu(n,e){let t=n.hn-e.hn;return t!==0?t:(t=bA(n.Tn,e.Tn),t!==0?t:(t=bA(n.In,e.In),t!==0?t:tt.comparator(n.Pn,e.Pn)))}function bA(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Bg(n){return jE()?(function(t){let r="";for(let s=0;s<t.length;s++)r+=String.fromCharCode(t[s]);return r})(n):n}function wA(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(n)}class AA{constructor(e){this.Vn=new nr(((t,r)=>Tr.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const r=t;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(vt(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=by(e);if(t!==void 0&&!this.pn(t))return!1;const r=Gc(e);let s=new Set,o=0,u=0;for(;o<r.length&&this.pn(r[o]);++o)s=s.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Vn.size>0){const c=this.Vn.getIterator().getNext();if(!s.has(c.field.canonicalString())){const f=r[o];if(!this.yn(c,f)||!this.wn(this.dn[u++],f))return!1}++o}for(;o<r.length;++o){const c=r[o];if(u>=this.dn.length||!this.wn(this.dn[u++],c))return!1}return!0}bn(){if(this.fn)return null;let e=new nr(Tr.comparator);const t=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new eh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new eh(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new eh(r.field,r.dir==="asc"?0:1)));return new Bf(Bf.UNKNOWN_ID,this.collectionId,t,qf.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function nx(n){if(vt(n instanceof Tn||n instanceof er,20012),n instanceof Tn){if(n instanceof _S){const t=n.value.arrayValue?.values?.map((r=>Tn.create(n.field,"==",r)))||[];return er.create(t,"or")}return n}const e=n.filters.map((t=>nx(t)));return er.create(e,n.op)}function w7(n){if(n.getFilters().length===0)return[];const e=jy(nx(n));return vt(rx(e),7391),My(e)||Vy(e)?[e]:e.getFilters()}function My(n){return n instanceof Tn}function Vy(n){return n instanceof er&&T_(n)}function rx(n){return My(n)||Vy(n)||(function(t){if(t instanceof er&&Iy(t)){for(const r of t.getFilters())if(!My(r)&&!Vy(r))return!1;return!0}return!1})(n)}function jy(n){if(vt(n instanceof Tn||n instanceof er,34018),n instanceof Tn)return n;if(n.filters.length===1)return jy(n.filters[0]);const e=n.filters.map((r=>jy(r)));let t=er.create(e,n.op);return t=h1(t),rx(t)?t:(vt(t instanceof er,64498),vt(Yf(t),40251),vt(t.filters.length>1,57927),t.filters.reduce(((r,s)=>M_(r,s))))}function M_(n,e){let t;return vt(n instanceof Tn||n instanceof er,38388),vt(e instanceof Tn||e instanceof er,25473),t=n instanceof Tn?e instanceof Tn?(function(s,o){return er.create([s,o],"and")})(n,e):EA(n,e):e instanceof Tn?EA(e,n):(function(s,o){if(vt(s.filters.length>0&&o.filters.length>0,48005),Yf(s)&&Yf(o))return mS(s,o.getFilters());const u=Iy(s)?s:o,c=Iy(s)?o:s,f=u.filters.map((d=>M_(d,c)));return er.create(f,"or")})(n,e),h1(t)}function EA(n,e){if(Yf(e))return mS(e,n.getFilters());{const t=e.filters.map((r=>M_(n,r)));return er.create(t,"or")}}function h1(n){if(vt(n instanceof Tn||n instanceof er,11850),n instanceof Tn)return n;const e=n.getFilters();if(e.length===1)return h1(e[0]);if(dS(n))return n;const t=e.map((s=>h1(s))),r=[];return t.forEach((s=>{s instanceof Tn?r.push(s):s instanceof er&&(s.op===n.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:er.create(r,n.op)}class A7{constructor(){this.Sn=new V_}addToCollectionParentIndex(e,t){return this.Sn.add(t),Se.resolve()}getCollectionParents(e,t){return Se.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Se.resolve()}deleteFieldIndex(e,t){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,t){return Se.resolve()}getDocumentsMatchingTarget(e,t){return Se.resolve(null)}getIndexType(e,t){return Se.resolve(0)}getFieldIndexes(e,t){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,t){return Se.resolve(Va.min())}getMinOffsetFromCollectionGroup(e,t){return Se.resolve(Va.min())}updateCollectionGroup(e,t,r){return Se.resolve()}updateIndexEntries(e,t){return Se.resolve()}}class V_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new nr(yn.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new nr(yn.comparator)).toArray()}}const SA="IndexedDbIndexManager",mg=new Uint8Array(0);class E7{constructor(e,t){this.databaseId=t,this.Dn=new V_,this.Cn=new uu((r=>lh(r)),((r,s)=>sm(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const o={collectionId:r,parent:Cs(s)};return xA(e).put(o)}return Se.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[O3(t),""],!1,!0);return xA(e).H(s).next((o=>{for(const u of o){if(u.collectionId!==t)break;r.push(ul(u.parent))}return r}))}addFieldIndex(e,t){const r=lp(e),s=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(t);delete s.indexId;const o=r.add(s);if(t.indexState){const u=pf(e);return o.next((c=>{u.put(gA(c,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const r=lp(e),s=pf(e),o=df(e);return r.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=lp(e),r=df(e),s=pf(e);return t.X().next((()=>r.X())).next((()=>s.X()))}createTargetIndexes(e,t){return Se.forEach(this.vn(t),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const o=new AA(r).bn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const r=df(e);let s=!0;const o=new Map;return Se.forEach(this.vn(t),(u=>this.Fn(e,u).next((c=>{s&&(s=!!c),o.set(u,c)})))).next((()=>{if(s){let u=ln();const c=[];return Se.forEach(o,((f,d)=>{Qe(SA,`Using index ${(function(Y){return`id=${Y.indexId}|cg=${Y.collectionGroup}|f=${Y.fields.map((ee=>`${ee.fieldPath}:${ee.kind}`)).join(",")}`})(f)} to execute ${lh(t)}`);const g=(function(Y,ee){const ge=by(ee);if(ge===void 0)return null;for(const be of l1(Y,ge.fieldPath))switch(be.op){case"array-contains-any":return be.value.arrayValue.values||[];case"array-contains":return[be.value]}return null})(d,f),w=(function(Y,ee){const ge=new Map;for(const be of Gc(ee))for(const H of l1(Y,be.fieldPath))switch(H.op){case"==":case"in":ge.set(be.fieldPath.canonicalString(),H.value);break;case"not-in":case"!=":return ge.set(be.fieldPath.canonicalString(),H.value),Array.from(ge.values())}return null})(d,f),E=(function(Y,ee){const ge=[];let be=!0;for(const H of Gc(ee)){const O=H.kind===0?nA(Y,H.fieldPath,Y.startAt):rA(Y,H.fieldPath,Y.startAt);ge.push(O.value),be&&(be=O.inclusive)}return new hc(ge,be)})(d,f),b=(function(Y,ee){const ge=[];let be=!0;for(const H of Gc(ee)){const O=H.kind===0?rA(Y,H.fieldPath,Y.endAt):nA(Y,H.fieldPath,Y.endAt);ge.push(O.value),be&&(be=O.inclusive)}return new hc(ge,be)})(d,f),V=this.Mn(f,d,E),M=this.Mn(f,d,b),B=this.xn(f,d,w),U=this.On(f.indexId,g,V,E.inclusive,M,b.inclusive,B);return Se.forEach(U,(ne=>r.Z(ne,t.limit).next((Y=>{Y.forEach((ee=>{const ge=tt.fromSegments(ee.documentKey);u.has(ge)||(u=u.add(ge),c.push(ge))}))}))))})).next((()=>c))}return Se.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=w7(er.create(e.filters,"and")).map((r=>Ry(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,r,s,o,u,c){const f=(t!=null?t.length:1)*Math.max(r.length,o.length),d=f/(t!=null?t.length:1),g=[];for(let w=0;w<f;++w){const E=t?this.Nn(t[w/d]):mg,b=this.Bn(e,E,r[w%d],s),V=this.Ln(e,E,o[w%d],u),M=c.map((B=>this.Bn(e,E,B,!0)));g.push(...this.createRange(b,V,M))}return g}Bn(e,t,r,s){const o=new Xc(e,tt.empty(),t,r);return s?o:o.En()}Ln(e,t,r,s){const o=new Xc(e,tt.empty(),t,r);return s?o.En():o}Fn(e,t){const r=new AA(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((o=>{let u=null;for(const c of o)r.gn(c)&&(!u||c.fields.length>u.fields.length)&&(u=c);return u}))}getIndexType(e,t){let r=2;const s=this.vn(t);return Se.forEach(s,(o=>this.Fn(e,o).next((u=>{u?r!==0&&u.fields.length<(function(f){let d=new nr(Tr.comparator),g=!1;for(const w of f.filters)for(const E of w.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?g=!0:d=d.add(E.field));for(const w of f.orderBy)w.field.isKeyField()||(d=d.add(w.field));return d.size+(g?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(u){return u.limit!==null})(t)&&s.length>1&&r===2?1:r))}kn(e,t){const r=new op;for(const s of Gc(e)){const o=t.data.field(s.fieldPath);if(o==null)return null;const u=r.ln(s.kind);Qc.Wt.Dt(o,u)}return r.un()}Nn(e){const t=new op;return Qc.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const r=new op;return Qc.Wt.Dt(oh(this.databaseId,t),r.ln((function(o){const u=Gc(o);return u.length===0?0:u[u.length-1].kind})(e))),r.un()}xn(e,t,r){if(r===null)return[];let s=[];s.push(new op);let o=0;for(const u of Gc(e)){const c=r[o++];for(const f of s)if(this.qn(t,u.fieldPath)&&Hp(c))s=this.Un(s,u,c);else{const d=f.ln(u.kind);Qc.Wt.Dt(c,d)}}return this.$n(s)}Mn(e,t,r){return this.xn(e,t,r.position)}$n(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Un(e,t,r){const s=[...e],o=[];for(const u of r.arrayValue.values||[])for(const c of s){const f=new op;f.seed(c.un()),Qc.Wt.Dt(u,f.ln(t.kind)),o.push(f)}return o}qn(e,t){return!!e.filters.find((r=>r instanceof Tn&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=lp(e),s=pf(e);return(t?r.H(Ay,IDBKeyRange.bound(t,t)):r.H()).next((o=>{const u=[];return Se.forEach(o,(c=>s.get([c.indexId,this.uid]).next((f=>{u.push((function(g,w){const E=w?new qf(w.sequenceNumber,new Va(fh(w.readTime),new tt(ul(w.documentKey)),w.largestBatchId)):qf.empty(),b=g.fields.map((([V,M])=>new eh(Tr.fromServerFormat(V),M)));return new Bf(g.indexId,g.collectionGroup,b,E)})(c,f))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,s)=>{const o=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return o!==0?o:Kt(r.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const s=lp(e),o=pf(e);return this.Wn(e).next((u=>s.H(Ay,IDBKeyRange.bound(t,t)).next((c=>Se.forEach(c,(f=>o.put(gA(f.indexId,this.uid,u,r))))))))}updateIndexEntries(e,t){const r=new Map;return Se.forEach(t,((s,o)=>{const u=r.get(s.collectionGroup);return(u?Se.resolve(u):this.getFieldIndexes(e,s.collectionGroup)).next((c=>(r.set(s.collectionGroup,c),Se.forEach(c,(f=>this.Qn(e,s,f).next((d=>{const g=this.Gn(o,f);return d.isEqual(g)?Se.resolve():this.zn(e,o,f,d,g)})))))))}))}jn(e,t,r,s){return df(e).put(s.Rn(this.uid,this.Kn(r,t.key),t.key))}Hn(e,t,r,s){return df(e).delete(s.An(this.uid,this.Kn(r,t.key),t.key))}Qn(e,t,r){const s=df(e);let o=new nr(qu);return s.ee({index:Y3,range:IDBKeyRange.only([r.indexId,this.uid,Bg(this.Kn(r,t))])},((u,c)=>{o=o.add(new Xc(r.indexId,t,wA(c.arrayValue),wA(c.directionalValue)))})).next((()=>o))}Gn(e,t){let r=new nr(qu);const s=this.kn(t,e);if(s==null)return r;const o=by(t);if(o!=null){const u=e.data.field(o.fieldPath);if(Hp(u))for(const c of u.arrayValue.values||[])r=r.add(new Xc(t.indexId,e.key,this.Nn(c),s))}else r=r.add(new Xc(t.indexId,e.key,mg,s));return r}zn(e,t,r,s,o){Qe(SA,"Updating index entries for document '%s'",t.key);const u=[];return(function(f,d,g,w,E){const b=f.getIterator(),V=d.getIterator();let M=hf(b),B=hf(V);for(;M||B;){let U=!1,ne=!1;if(M&&B){const Y=g(M,B);Y<0?ne=!0:Y>0&&(U=!0)}else M!=null?ne=!0:U=!0;U?(w(B),B=hf(V)):ne?(E(M),M=hf(b)):(M=hf(b),B=hf(V))}})(s,o,qu,(c=>{u.push(this.jn(e,t,r,c))}),(c=>{u.push(this.Hn(e,t,r,c))})),Se.waitFor(u)}Wn(e){let t=1;return pf(e).ee({index:W3,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,o)=>{o.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((u,c)=>qu(u,c))).filter(((u,c,f)=>!c||qu(u,f[c-1])!==0));const s=[];s.push(e);for(const u of r){const c=qu(u,e),f=qu(u,t);if(c===0)s[0]=e.En();else if(c>0&&f<0)s.push(u),s.push(u.En());else if(f>0)break}s.push(t);const o=[];for(let u=0;u<s.length;u+=2){if(this.Jn(s[u],s[u+1]))return[];const c=s[u].An(this.uid,mg,tt.empty()),f=s[u+1].An(this.uid,mg,tt.empty());o.push(IDBKeyRange.bound(c,f))}return o}Jn(e,t){return qu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(TA)}getMinOffset(e,t){return Se.mapArray(this.vn(t),(r=>this.Fn(e,r).next((s=>s||ut(44426))))).next(TA)}}function xA(n){return Mi(n,Fp)}function df(n){return Mi(n,Tp)}function lp(n){return Mi(n,w_)}function pf(n){return Mi(n,xp)}function TA(n){vt(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;__(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new Va(e.readTime,e.documentKey,t)}const IA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ix=41943040;class Rs{static withCacheSize(e){return new Rs(e,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}function sx(n,e,t){const r=n.store(Io),s=n.store(zf),o=[],u=IDBKeyRange.only(t.batchId);let c=0;const f=r.ee({range:u},((g,w,E)=>(c++,E.delete())));o.push(f.next((()=>{vt(c===1,47070,{batchId:t.batchId})})));const d=[];for(const g of t.mutations){const w=G3(e,g.key.path,t.batchId);o.push(s.delete(w)),d.push(g.key)}return Se.waitFor(o).next((()=>d))}function f1(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ut(14731);e=n.noDocument}return JSON.stringify(e).length}Rs.DEFAULT_COLLECTION_PERCENTILE=10,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rs.DEFAULT=new Rs(ix,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rs.DISABLED=new Rs(-1,0,0);class G1{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Zn={}}static wt(e,t,r,s){vt(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new G1(o,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zu(e).ee({index:Zc,range:r},((s,o,u)=>{t=!1,u.done()})).next((()=>t))}addMutationBatch(e,t,r,s){const o=Ef(e),u=zu(e);return u.add({}).next((c=>{vt(typeof c=="number",49019);const f=new L_(c,t,r,s),d=(function(b,V,M){const B=M.baseMutations.map((ne=>$p(b.yt,ne))),U=M.mutations.map((ne=>$p(b.yt,ne)));return{userId:V,batchId:M.batchId,localWriteTimeMs:M.localWriteTime.toMillis(),baseMutations:B,mutations:U}})(this.serializer,this.userId,f),g=[];let w=new nr(((E,b)=>Kt(E.canonicalString(),b.canonicalString())));for(const E of s){const b=G3(this.userId,E.key.path,c);w=w.add(E.key.path.popLast()),g.push(u.put(d)),g.push(o.put(b,J8))}return w.forEach((E=>{g.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Zn[c]=f.keys()})),Se.waitFor(g).next((()=>f))}))}lookupMutationBatch(e,t){return zu(e).get(t).next((r=>r?(vt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),Yc(this.serializer,r)):null))}Xn(e,t){return this.Zn[t]?Se.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const s=r.keys();return this.Zn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return zu(e).ee({index:Zc,range:s},((u,c,f)=>{c.userId===this.userId&&(vt(c.batchId>=r,47524,{Yn:r}),o=Yc(this.serializer,c)),f.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=sc;return zu(e).ee({index:Zc,range:t,reverse:!0},((s,o,u)=>{r=o.batchId,u.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,sc],[this.userId,Number.POSITIVE_INFINITY]);return zu(e).H(Zc,t).next((r=>r.map((s=>Yc(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Pg(this.userId,t.path),s=IDBKeyRange.lowerBound(r),o=[];return Ef(e).ee({range:s},((u,c,f)=>{const[d,g,w]=u,E=ul(g);if(d===this.userId&&t.path.isEqual(E))return zu(e).get(w).next((b=>{if(!b)throw ut(61480,{er:u,batchId:w});vt(b.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:b.userId,batchId:w}),o.push(Yc(this.serializer,b))}));f.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new nr(Kt);const s=[];return t.forEach((o=>{const u=Pg(this.userId,o.path),c=IDBKeyRange.lowerBound(u),f=Ef(e).ee({range:c},((d,g,w)=>{const[E,b,V]=d,M=ul(b);E===this.userId&&o.path.isEqual(M)?r=r.add(V):w.done()}));s.push(f)})),Se.waitFor(s).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,o=Pg(this.userId,r),u=IDBKeyRange.lowerBound(o);let c=new nr(Kt);return Ef(e).ee({range:u},((f,d,g)=>{const[w,E,b]=f,V=ul(E);w===this.userId&&r.isPrefixOf(V)?V.length===s&&(c=c.add(b)):g.done()})).next((()=>this.tr(e,c)))}tr(e,t){const r=[],s=[];return t.forEach((o=>{s.push(zu(e).get(o).next((u=>{if(u===null)throw ut(35274,{batchId:o});vt(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),r.push(Yc(this.serializer,u))})))})),Se.waitFor(s).next((()=>r))}removeMutationBatch(e,t){return sx(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),Se.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Se.resolve();const r=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),s=[];return Ef(e).ee({range:r},((o,u,c)=>{if(o[0]===this.userId){const f=ul(o[1]);s.push(f)}else c.done()})).next((()=>{vt(s.length===0,56720,{rr:s.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return ax(e,this.userId,t)}ir(e){return ox(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:sc,lastStreamToken:""}))}}function ax(n,e,t){const r=Pg(e,t.path),s=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return Ef(n).ee({range:o,Y:!0},((c,f,d)=>{const[g,w,E]=c;g===e&&w===s&&(u=!0),d.done()})).next((()=>u))}function zu(n){return Mi(n,Io)}function Ef(n){return Mi(n,zf)}function ox(n){return Mi(n,jp)}class dh{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new dh(0)}static ar(){return new dh(-1)}}class S7{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const r=new dh(t.highestTargetId);return t.highestTargetId=r.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>Tt.fromTimestamp(new $n(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.ur(e).next((s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.cr(e,s))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(t,r),this.cr(e,r))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>mf(e).delete(t.targetId))).next((()=>this.ur(e))).next((r=>(vt(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,t,r){let s=0;const o=[];return mf(e).ee(((u,c)=>{const f=bp(c);f.sequenceNumber<=t&&r.get(f.targetId)===null&&(s++,o.push(this.removeTargetData(e,f)))})).next((()=>Se.waitFor(o))).next((()=>s))}forEachTarget(e,t){return mf(e).ee(((r,s)=>{const o=bp(s);t(o)}))}ur(e){return NA(e).get(a1).next((t=>(vt(t!==null,2888),t)))}cr(e,t){return NA(e).put(a1,t)}lr(e,t){return mf(e).put(tx(this.serializer,t))}hr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const r=lh(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return mf(e).ee({range:s,index:$3},((u,c,f)=>{const d=bp(c);sm(t,d.target)&&(o=d,f.done())})).next((()=>o))}addMatchingKeys(e,t,r){const s=[],o=Ju(e);return t.forEach((u=>{const c=Cs(u.path);s.push(o.put({targetId:r,path:c})),s.push(this.referenceDelegate.addReference(e,r,u))})),Se.waitFor(s)}removeMatchingKeys(e,t,r){const s=Ju(e);return Se.forEach(t,(o=>{const u=Cs(o.path);return Se.waitFor([s.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,t){const r=Ju(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Ju(e);let o=ln();return s.ee({range:r,Y:!0},((u,c,f)=>{const d=ul(u[1]),g=new tt(d);o=o.add(g)})).next((()=>o))}containsKey(e,t){const r=Cs(t.path),s=IDBKeyRange.bound([r],[O3(r)],!1,!0);let o=0;return Ju(e).ee({index:b_,Y:!0,range:s},(([u,c],f,d)=>{u!==0&&(o++,d.done())})).next((()=>o>0))}At(e,t){return mf(e).get(t).next((r=>r?bp(r):null))}}function mf(n){return Mi(n,Hf)}function NA(n){return Mi(n,th)}function Ju(n){return Mi(n,Gf)}const RA="LruGarbageCollector",lx=1048576;function CA([n,e],[t,r]){const s=Kt(n,t);return s===0?Kt(e,r):s}class x7{constructor(e){this.Pr=e,this.buffer=new nr(CA),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();CA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ux{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Qe(RA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){bc(t)?Qe(RA,"Ignoring IndexedDB error during garbage collection: ",t):await vc(t)}await this.Ar(3e5)}))}}class T7{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Se.resolve(ca.ce);const r=new x7(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Qe("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(IA)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IA):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,s,o,u,c,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(Qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s)))).next((w=>(r=w,c=Date.now(),this.removeTargets(e,r,t)))).next((w=>(o=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(d=Date.now(),bf()<=xn.DEBUG&&Qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${w} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:w}))))}}function cx(n,e){return new T7(n,e)}class I7{constructor(e,t){this.db=e,this.garbageCollector=cx(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((r,s)=>t(s)))}addReference(e,t,r){return gg(e,r)}removeReference(e,t,r){return gg(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return gg(e,t)}wr(e,t){return(function(s,o){let u=!1;return ox(s).te((c=>ax(s,c,o).next((f=>(f&&(u=!0),Se.resolve(!f)))))).next((()=>u))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.yr(e,((u,c)=>{if(c<=t){const f=this.wr(e,u).next((d=>{if(!d)return o++,r.getEntry(e,u).next((()=>(r.removeEntry(u,Tt.min()),Ju(e).delete((function(w){return[0,Cs(w.path)]})(u)))))}));s.push(f)}})).next((()=>Se.waitFor(s))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return gg(e,t)}yr(e,t){const r=Ju(e);let s,o=ca.ce;return r.ee({index:b_},(([u,c],{path:f,sequenceNumber:d})=>{u===0?(o!==ca.ce&&t(new tt(ul(s)),o),o=d,s=f):o=ca.ce})).next((()=>{o!==ca.ce&&t(new tt(ul(s)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function gg(n,e){return Ju(n).put((function(r,s){return{targetId:0,path:Cs(r.path),sequenceNumber:s}})(e,n.currentSequenceNumber))}class hx{constructor(){this.changes=new uu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class N7{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return zc(e).put(r)}removeEntry(e,t,r){return zc(e).delete((function(o,u){const c=o.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],c1(u),c[c.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.br(e,r))))}getEntry(e,t){let r=xr.newInvalidDocument(t);return zc(e).ee({index:Og,range:IDBKeyRange.only(up(t))},((s,o)=>{r=this.Sr(t,o)})).next((()=>r))}Dr(e,t){let r={size:0,document:xr.newInvalidDocument(t)};return zc(e).ee({index:Og,range:IDBKeyRange.only(up(t))},((s,o)=>{r={document:this.Sr(t,o),size:f1(o)}})).next((()=>r))}getEntries(e,t){let r=fa();return this.Cr(e,t,((s,o)=>{const u=this.Sr(s,o);r=r.insert(s,u)})).next((()=>r))}vr(e,t){let r=fa(),s=new vr(tt.comparator);return this.Cr(e,t,((o,u)=>{const c=this.Sr(o,u);r=r.insert(o,c),s=s.insert(o,f1(u))})).next((()=>({documents:r,Fr:s})))}Cr(e,t,r){if(t.isEmpty())return Se.resolve();let s=new nr(DA);t.forEach((f=>s=s.add(f)));const o=IDBKeyRange.bound(up(s.first()),up(s.last())),u=s.getIterator();let c=u.getNext();return zc(e).ee({index:Og,range:o},((f,d,g)=>{const w=tt.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;c&&DA(c,w)<0;)r(c,null),c=u.getNext();c&&c.isEqual(w)&&(r(c,d),c=u.hasNext()?u.getNext():null),c?g.j(up(c)):g.done()})).next((()=>{for(;c;)r(c,null),c=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(e,t,r,s,o){const u=t.path,c=[u.popLast().toArray(),u.lastSegment(),c1(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zc(e).H(IDBKeyRange.bound(c,f,!0)).next((d=>{o?.incrementDocumentReadCount(d.length);let g=fa();for(const w of d){const E=this.Sr(tt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);E.isFoundDocument()&&(om(t,E)||s.has(E.key))&&(g=g.insert(E.key,E))}return g}))}getAllFromCollectionGroup(e,t,r,s){let o=fa();const u=kA(t,r),c=kA(t,Va.max());return zc(e).ee({index:K3,range:IDBKeyRange.bound(u,c,!0)},((f,d,g)=>{const w=this.Sr(tt.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(w.key,w),o.size===s&&g.done()})).next((()=>o))}newChangeBuffer(e){return new R7(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return LA(e).get(wy).next((t=>(vt(!!t,20021),t)))}br(e,t){return LA(e).put(wy,t)}Sr(e,t){if(t){const r=p7(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Tt.min())))return r}return xr.newInvalidDocument(e)}}function fx(n){return new N7(n)}class R7 extends hx{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new uu((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const t=[];let r=0,s=new nr(((o,u)=>Kt(o.canonicalString(),u.canonicalString())));return this.changes.forEach(((o,u)=>{const c=this.Or.get(o);if(t.push(this.Mr.removeEntry(e,o,c.readTime)),u.isValidDocument()){const f=pA(this.Mr.serializer,u);s=s.add(o.path.popLast());const d=f1(f);r+=d-c.size,t.push(this.Mr.addEntry(e,o,f))}else if(r-=c.size,this.trackRemovals){const f=pA(this.Mr.serializer,u.convertToNoDocument(Tt.min()));t.push(this.Mr.addEntry(e,o,f))}})),s.forEach((o=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Mr.updateMetadata(e,r)),Se.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((r=>(this.Or.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:r,Fr:s})=>(s.forEach(((o,u)=>{this.Or.set(o,{size:u,readTime:r.get(o).readTime})})),r)))}}function LA(n){return Mi(n,Up)}function zc(n){return Mi(n,s1)}function up(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function kA(n,e){const t=e.documentKey.path.toArray();return[n,c1(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function DA(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(s=Kt(t[o],r[o]),s)return s;return s=Kt(t.length,r.length),s||(s=Kt(t[t.length-2],r[r.length-2]),s||Kt(t[t.length-1],r[r.length-1]))}class C7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class dx{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Rp(r.mutation,s,ha.empty(),$n.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,ln()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=ln()){const s=cl();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let u=_p();return o.forEach(((c,f)=>{u=u.insert(c,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=cl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,ln())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,c)=>{t.set(u,c)}))}))}computeViews(e,t,r,s){let o=fa();const u=Np(),c=(function(){return Np()})();return t.forEach(((f,d)=>{const g=r.get(d.key);s.has(d.key)&&(g===void 0||g.mutation instanceof cu)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Rp(g.mutation,d,g.mutation.getFieldMask(),$n.now())):u.set(d.key,ha.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,g)=>u.set(d,g))),t.forEach(((d,g)=>c.set(d,new C7(g,u.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=Np();let s=new vr(((u,c)=>u-c)),o=ln();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const c of u)c.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let g=r.get(f)||ha.empty();g=c.applyToLocalView(d,g),r.set(f,g);const w=(s.get(c.batchId)||ln()).add(f);s=s.insert(c.batchId,w)}))})).next((()=>{const u=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,g=f.value,w=IS();g.forEach((E=>{if(!o.has(E)){const b=PS(t.get(E),r.get(E));b!==null&&w.set(E,b),o=o.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,w))}return Se.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return ML(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):I_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):Se.resolve(cl());let c=Ff,f=o;return u.next((d=>Se.forEach(d,((g,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),o.get(g)?Se.resolve():this.remoteDocumentCache.getEntry(e,g).next((E=>{f=f.insert(g,E)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,ln()))).next((g=>({batchId:c,changes:TS(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tt(t)).next((r=>{let s=_p();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=_p();return this.indexManager.getCollectionParents(e,o).next((c=>Se.forEach(c,(f=>{const d=(function(w,E){return new lu(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((g=>{g.forEach(((w,E)=>{u=u.insert(w,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((u=>{o.forEach(((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,xr.newInvalidDocument(g)))}));let c=_p();return u.forEach(((f,d)=>{const g=o.get(f);g!==void 0&&Rp(g.mutation,d,ha.empty(),$n.now()),om(t,d)&&(c=c.insert(f,d))})),c}))}}class L7{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Se.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:ci(s.createTime)}})(t)),Se.resolve()}getNamedQuery(e,t){return Se.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:z1(s.bundledQuery),readTime:ci(s.readTime)}})(t)),Se.resolve()}}class k7{constructor(){this.overlays=new vr(tt.comparator),this.Lr=new Map}getOverlay(e,t){return Se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=cl();return Se.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.bt(e,t,o)})),Se.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),Se.resolve()}getOverlaysForCollection(e,t,r){const s=cl(),o=t.length+1,u=new tt(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Se.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new vr(((d,g)=>d-g));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let g=o.get(d.largestBatchId);g===null&&(g=cl(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const c=cl(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,g)=>c.set(d,g))),!(c.size()>=s)););return Se.resolve(c)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new D_(t,r));let o=this.Lr.get(t);o===void 0&&(o=ln(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}}class D7{constructor(){this.sessionToken=Hr.EMPTY_BYTE_STRING}getSessionToken(e){return Se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Se.resolve()}}class j_{constructor(){this.kr=new nr(Qi.Kr),this.qr=new nr(Qi.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Qi(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Qi(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new tt(new yn([])),r=new Qi(t,e),s=new Qi(t,e+1),o=[];return this.qr.forEachInRange([r,s],(u=>{this.Wr(u),o.push(u.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new tt(new yn([])),r=new Qi(t,e),s=new Qi(t,e+1);let o=ln();return this.qr.forEachInRange([r,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new Qi(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Qi{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return tt.comparator(e.key,t.key)||Kt(e.Hr,t.Hr)}static Ur(e,t){return Kt(e.Hr,t.Hr)||tt.comparator(e.key,t.key)}}class P7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new nr(Qi.Kr)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new L_(o,t,r,s);this.mutationQueue.push(u);for(const c of s)this.Jr=this.Jr.add(new Qi(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Se.resolve(u)}lookupMutationBatch(e,t){return Se.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),o=s<0?0:s;return Se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?sc:this.Yn-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Qi(t,0),s=new Qi(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,s],(u=>{const c=this.Zr(u.Hr);o.push(c)})),Se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new nr(Kt);return t.forEach((s=>{const o=new Qi(s,0),u=new Qi(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,u],(c=>{r=r.add(c.Hr)}))})),Se.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;tt.isDocumentKey(o)||(o=o.child(""));const u=new Qi(new tt(o),0);let c=new nr(Kt);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(c=c.add(f.Hr)),!0)}),u),Se.resolve(this.Yr(c))}Yr(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){vt(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Se.forEach(t.mutations,(s=>{const o=new Qi(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Qi(t,0),s=this.Jr.firstAfterOrEqual(r);return Se.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class O7{constructor(e){this.ti=e,this.docs=(function(){return new vr(tt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Se.resolve(r?r.document.mutableCopy():xr.newInvalidDocument(t))}getEntries(e,t){let r=fa();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():xr.newInvalidDocument(s))})),Se.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=fa();const u=t.path,c=new tt(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||__(F3(g),r)<=0||(s.has(g.key)||om(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Se.resolve(o)}getAllFromCollectionGroup(e,t,r,s){ut(9500)}ni(e,t){return Se.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new M7(this)}getSize(e){return Se.resolve(this.size)}}class M7 extends hx{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),Se.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class V7{constructor(e){this.persistence=e,this.ri=new uu((t=>lh(t)),sm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new j_,this.targetCount=0,this.oi=dh._r()}forEachTarget(e,t){return this.ri.forEach(((r,s)=>t(s))),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),Se.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new dh(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Se.resolve()}updateTargetData(e,t){return this.lr(t),Se.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.ri.forEach(((u,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ri.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),Se.waitFor(o).next((()=>s))}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return Se.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),Se.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),Se.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return Se.resolve(r)}containsKey(e,t){return Se.resolve(this.si.containsKey(t))}}class U_{constructor(e,t){this._i={},this.overlays={},this.ai=new ca(0),this.ui=!1,this.ui=!0,this.ci=new D7,this.referenceDelegate=e(this),this.li=new V7(this),this.indexManager=new A7,this.remoteDocumentCache=(function(s){return new O7(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new ex(t),this.Pi=new L7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new k7,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new P7(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){Qe("MemoryPersistence","Starting transaction:",e);const s=new j7(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((o=>this.referenceDelegate.Ii(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,t){return Se.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class j7 extends q3{constructor(e){super(),this.currentSequenceNumber=e}}class K1{constructor(e){this.persistence=e,this.Ri=new j_,this.Ai=null}static Vi(e){return new K1(e)}get di(){if(this.Ai)return this.Ai;throw ut(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),Se.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Se.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.di,(r=>{const s=tt.fromPath(r);return this.mi(e,s).next((o=>{o||t.removeEntry(s,Tt.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Se.or([()=>Se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class d1{constructor(e,t){this.persistence=e,this.fi=new uu((r=>Cs(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=cx(this,t)}static Vi(e,t){return new d1(e,t)}Ti(){}Ii(e){return Se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return Se.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((o=>o?Se.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ni(e,(u=>this.wr(e,u,t).next((c=>{c||(r++,o.removeEntry(u,Tt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Se.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),Se.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),Se.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Se.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vg(e.data.value)),t}wr(e,t,r){return Se.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return Se.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class U7{constructor(e){this.serializer=e}k(e,t,r,s){const o=new k1("createOrUpgrade",t);r<1&&s>=1&&((function(f){f.createObjectStore(im)})(e),(function(f){f.createObjectStore(jp,{keyPath:X8}),f.createObjectStore(Io,{keyPath:Hw,autoIncrement:!0}).createIndex(Zc,Gw,{unique:!0}),f.createObjectStore(zf)})(e),PA(e),(function(f){f.createObjectStore(Kc)})(e));let u=Se.resolve();return r<3&&s>=3&&(r!==0&&((function(f){f.deleteObjectStore(Gf),f.deleteObjectStore(Hf),f.deleteObjectStore(th)})(e),PA(e)),u=u.next((()=>(function(f){const d=f.store(th),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return d.put(a1,g)})(o)))),r<4&&s>=4&&(r!==0&&(u=u.next((()=>(function(f,d){return d.store(Io).H().next((w=>{f.deleteObjectStore(Io),f.createObjectStore(Io,{keyPath:Hw,autoIncrement:!0}).createIndex(Zc,Gw,{unique:!0});const E=d.store(Io),b=w.map((V=>E.put(V)));return Se.waitFor(b)}))})(e,o)))),u=u.next((()=>{(function(f){f.createObjectStore(Kf,{keyPath:aL})})(e)}))),r<5&&s>=5&&(u=u.next((()=>this.gi(o)))),r<6&&s>=6&&(u=u.next((()=>((function(f){f.createObjectStore(Up)})(e),this.pi(o))))),r<7&&s>=7&&(u=u.next((()=>this.yi(o)))),r<8&&s>=8&&(u=u.next((()=>this.wi(e,o)))),r<9&&s>=9&&(u=u.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(u=u.next((()=>this.bi(o)))),r<11&&s>=11&&(u=u.next((()=>{(function(f){f.createObjectStore(D1,{keyPath:oL})})(e),(function(f){f.createObjectStore(P1,{keyPath:lL})})(e)}))),r<12&&s>=12&&(u=u.next((()=>{(function(f){const d=f.createObjectStore(O1,{keyPath:mL});d.createIndex(Ey,gL,{unique:!1}),d.createIndex(Q3,yL,{unique:!1})})(e)}))),r<13&&s>=13&&(u=u.next((()=>(function(f){const d=f.createObjectStore(s1,{keyPath:Z8});d.createIndex(Og,eL),d.createIndex(K3,tL)})(e))).next((()=>this.Si(e,o))).next((()=>e.deleteObjectStore(Kc)))),r<14&&s>=14&&(u=u.next((()=>this.Di(e,o)))),r<15&&s>=15&&(u=u.next((()=>(function(f){f.createObjectStore(w_,{keyPath:uL,autoIncrement:!0}).createIndex(Ay,cL,{unique:!1}),f.createObjectStore(xp,{keyPath:hL}).createIndex(W3,fL,{unique:!1}),f.createObjectStore(Tp,{keyPath:dL}).createIndex(Y3,pL,{unique:!1})})(e)))),r<16&&s>=16&&(u=u.next((()=>{t.objectStore(xp).clear()})).next((()=>{t.objectStore(Tp).clear()}))),r<17&&s>=17&&(u=u.next((()=>{(function(f){f.createObjectStore(A_,{keyPath:_L})})(e)}))),r<18&&s>=18&&jE()&&(u=u.next((()=>{t.objectStore(xp).clear()})).next((()=>{t.objectStore(Tp).clear()}))),u}pi(e){let t=0;return e.store(Kc).ee(((r,s)=>{t+=f1(s)})).next((()=>{const r={byteSize:t};return e.store(Up).put(wy,r)}))}gi(e){const t=e.store(jp),r=e.store(Io);return t.H().next((s=>Se.forEach(s,(o=>{const u=IDBKeyRange.bound([o.userId,sc],[o.userId,o.lastAcknowledgedBatchId]);return r.H(Zc,u).next((c=>Se.forEach(c,(f=>{vt(f.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const d=Yc(this.serializer,f);return sx(e,o.userId,d).next((()=>{}))}))))}))))}yi(e){const t=e.store(Gf),r=e.store(Kc);return e.store(th).get(a1).next((s=>{const o=[];return r.ee(((u,c)=>{const f=new yn(u),d=(function(w){return[0,Cs(w)]})(f);o.push(t.get(d).next((g=>g?Se.resolve():(w=>t.put({targetId:0,path:Cs(w),sequenceNumber:s.highestListenSequenceNumber}))(f))))})).next((()=>Se.waitFor(o)))}))}wi(e,t){e.createObjectStore(Fp,{keyPath:sL});const r=t.store(Fp),s=new V_,o=u=>{if(s.add(u)){const c=u.lastSegment(),f=u.popLast();return r.put({collectionId:c,parent:Cs(f)})}};return t.store(Kc).ee({Y:!0},((u,c)=>{const f=new yn(u);return o(f.popLast())})).next((()=>t.store(zf).ee({Y:!0},(([u,c,f],d)=>{const g=ul(c);return o(g.popLast())}))))}bi(e){const t=e.store(Hf);return t.ee(((r,s)=>{const o=bp(s),u=tx(this.serializer,o);return t.put(u)}))}Si(e,t){const r=t.store(Kc),s=[];return r.ee(((o,u)=>{const c=t.store(s1),f=(function(w){return w.document?new tt(yn.fromString(w.document.name).popFirst(5)):w.noDocument?tt.fromSegments(w.noDocument.path):w.unknownDocument?tt.fromSegments(w.unknownDocument.path):ut(36783)})(u).path.toArray(),d={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};s.push(c.put(d))})).next((()=>Se.waitFor(s)))}Di(e,t){const r=t.store(Io),s=fx(this.serializer),o=new U_(K1.Vi,this.serializer.yt);return r.H().next((u=>{const c=new Map;return u.forEach((f=>{let d=c.get(f.userId)??ln();Yc(this.serializer,f).keys().forEach((g=>d=d.add(g))),c.set(f.userId,d)})),Se.forEach(c,((f,d)=>{const g=new Xi(d),w=H1.wt(this.serializer,g),E=o.getIndexManager(g),b=G1.wt(g,this.serializer,E,o.referenceDelegate);return new dx(s,b,w,E).recalculateAndSaveOverlaysForDocumentKeys(new Sy(t,ca.ce),f).next()}))}))}}function PA(n){n.createObjectStore(Gf,{keyPath:rL}).createIndex(b_,iL,{unique:!0}),n.createObjectStore(Hf,{keyPath:"targetId"}).createIndex($3,nL,{unique:!0}),n.createObjectStore(th)}const Hu="IndexedDbPersistence",D2=18e5,P2=5e3,O2="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",px="main";class F_{constructor(e,t,r,s,o,u,c,f,d,g,w=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ci=o,this.window=u,this.document=c,this.Fi=d,this.Mi=g,this.xi=w,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=E=>Promise.resolve(),!F_.v())throw new Ge(Ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new I7(this,s),this.Ki=t+px,this.serializer=new ex(f),this.qi=new ml(this.Ki,this.xi,new U7(this.serializer)),this.ci=new g7,this.li=new S7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=fx(this.serializer),this.Pi=new m7,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,g===!1&&ui(Hu,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ge(Ce.FAILED_PRECONDITION,O2);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new ca(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>yg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(bc(e))return Qe(Hu,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Qe(Hu,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return cp(e).get(cf).next((t=>Se.resolve(this.Xi(t))))}Yi(e){return yg(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,D2)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=Mi(t,Kf);return r.H().next((s=>{const o=this.ns(s,D2),u=s.filter((c=>o.indexOf(c)===-1));return Se.forEach(u,(c=>r.delete(c.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?Se.resolve(!0):cp(e).get(cf).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,P2)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new Ge(Ce.FAILED_PRECONDITION,O2);return!1}}return!(!this.networkEnabled||!this.inForeground)||yg(e).H().next((r=>this.ns(r,P2).find((s=>{if(this.clientId!==s.clientId){const o=!this.networkEnabled&&s.networkEnabled,u=!this.inForeground&&s.inForeground,c=this.networkEnabled===s.networkEnabled;if(o||u&&c)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&Qe(Hu,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[im,Kf],(e=>{const t=new Sy(e,ca.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((r=>this.ts(r.updateTimeMs,t)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>yg(e).H().next((t=>this.ns(t,D2).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return G1.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new E7(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return H1.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,r){Qe(Hu,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",o=(function(f){return f===18?wL:f===17?eS:f===16?bL:f===15?E_:f===14?Z3:f===13?J3:f===12?vL:f===11?X3:void ut(60245)})(this.xi);let u;return this.qi.runTransaction(e,s,o,(c=>(u=new Sy(c,this.ai?this.ai.next():ca.ce),t==="readwrite-primary"?this.ji(u).next((f=>!!f||this.Hi(u))).next((f=>{if(!f)throw ui(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new Ge(Ce.FAILED_PRECONDITION,B3);return r(u)})).next((f=>this.Zi(u).next((()=>f)))):this.Ps(u).next((()=>r(u)))))).then((c=>(u.raiseOnCommittedEvent(),c)))}Ps(e){return cp(e).get(cf).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,P2)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ge(Ce.FAILED_PRECONDITION,O2)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cp(e).put(cf,t)}static v(){return ml.v()}Ji(e){const t=cp(e);return t.get(cf).next((r=>this.Xi(r)?(Qe(Hu,"Releasing primary lease."),t.delete(cf)):Se.resolve()))}ts(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(ui(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;VE()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const t=this.Ui?.getItem(this.rs(e))!==null;return Qe(Hu,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return ui(Hu,"Failed to get zombied client id.",t),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){ui("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cp(n){return Mi(n,im)}function yg(n){return Mi(n,Kf)}function B_(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class q_{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=s}static Es(e,t){let r=ln(),s=ln();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new q_(e,t.fromCache,r,s)}}class F7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mx{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return VE()?8:z3(Pi())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.gs(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ps(e,t,s,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new F7;return this.ys(e,t,u).next((c=>{if(o.result=c,this.As)return this.ws(e,t,u,c.size)}))})).next((()=>o.result))}ws(e,t,r,s){return r.documentReadCount<this.Vs?(bf()<=xn.DEBUG&&Qe("QueryEngine","SDK will not create cache indexes for query:",wf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Se.resolve()):(bf()<=xn.DEBUG&&Qe("QueryEngine","Query:",wf(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(bf()<=xn.DEBUG&&Qe("QueryEngine","The SDK decides to create cache indexes for query:",wf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ls(t))):Se.resolve())}gs(e,t){if(iA(t))return Se.resolve(null);let r=Ls(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=u1(t,null,"F"),r=Ls(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=ln(...o);return this.fs.getDocuments(e,u).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.bs(t,c);return this.Ss(t,d,u,f.readTime)?this.gs(e,u1(t,null,"F")):this.Ds(e,d,t,f)}))))})))))}ps(e,t,r,s){return iA(t)||s.isEqual(Tt.min())?Se.resolve(null):this.fs.getDocuments(e,r).next((o=>{const u=this.bs(t,o);return this.Ss(t,u,r,s)?Se.resolve(null):(bf()<=xn.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),wf(t)),this.Ds(e,u,t,U3(s,Ff)).next((c=>c)))}))}bs(e,t){let r=new nr(SS(e));return t.forEach(((s,o)=>{om(e,o)&&(r=r.add(o))})),r}Ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ys(e,t,r){return bf()<=xn.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",wf(t)),this.fs.getDocumentsMatchingQuery(e,t,Va.min(),r)}Ds(e,t,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const z_="LocalStore",B7=3e8;class q7{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new vr(Kt),this.Fs=new uu((o=>lh(o)),sm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function gx(n,e,t,r){return new q7(n,e,t,r)}async function yx(n,e){const t=it(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],c=[];let f=ln();for(const d of s){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){c.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:u,addedBatchIds:c})))}))}))}function z7(n,e){const t=it(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,g){const w=d.batch,E=w.keys();let b=Se.resolve();return E.forEach((V=>{b=b.next((()=>g.getEntry(f,V))).next((M=>{const B=d.docVersions.get(V);vt(B!==null,48541),M.version.compareTo(B)<0&&(w.applyToRemoteDocument(M,d),M.isValidDocument()&&(M.setReadTime(d.commitVersion),g.addEntry(M)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(f,w)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=ln();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function _x(n){const e=it(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function H7(n,e){const t=it(n),r=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const c=[];e.targetChanges.forEach(((g,w)=>{const E=s.get(w);if(!E)return;c.push(t.li.removeMatchingKeys(o,g.removedDocuments,w).next((()=>t.li.addMatchingKeys(o,g.addedDocuments,w))));let b=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(w)!==null?b=b.withResumeToken(Hr.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,r)),s=s.insert(w,b),(function(M,B,U){return M.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=B7?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(E,b,g)&&c.push(t.li.updateTargetData(o,b))}));let f=fa(),d=ln();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),c.push(vx(o,u,e.documentUpdates).next((g=>{f=g.Bs,d=g.Ls}))),!r.isEqual(Tt.min())){const g=t.li.getLastRemoteSnapshotVersion(o).next((w=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(g)}return Se.waitFor(c).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.vs=s,o)))}function vx(n,e,t){let r=ln(),s=ln();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let u=fa();return t.forEach(((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(Tt.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):Qe(z_,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{Bs:u,Ls:s}}))}function G7(n,e){const t=it(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=sc),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Zf(n,e){const t=it(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.li.getTargetData(r,e).next((o=>o?(s=o,Se.resolve(s)):t.li.allocateTargetId(r).next((u=>(s=new eu(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function ed(n,e,t){const r=it(n),s=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!bc(u))throw u;Qe(z_,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function p1(n,e,t){const r=it(n);let s=Tt.min(),o=ln();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,g){const w=it(f),E=w.Fs.get(g);return E!==void 0?Se.resolve(w.vs.get(E)):w.li.getTargetData(d,g)})(r,u,Ls(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,c.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?s:Tt.min(),t?o:ln()))).next((c=>(Ax(r,ES(e),c),{documents:c,ks:o})))))}function bx(n,e){const t=it(n),r=it(t.li),s=t.vs.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",(o=>r.At(o,e).next((u=>u?u.target:null))))}function wx(n,e){const t=it(n),r=t.Ms.get(e)||Tt.min();return t.persistence.runTransaction("Get new document changes","readonly",(s=>t.xs.getAllFromCollectionGroup(s,e,U3(r,Ff),Number.MAX_SAFE_INTEGER))).then((s=>(Ax(t,e,s),s)))}function Ax(n,e,t){let r=n.Ms.get(e)||Tt.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(e,r)}async function K7(n,e,t,r){const s=it(n);let o=ln(),u=fa();for(const d of t){const g=e.Ks(d.metadata.name);d.document&&(o=o.add(g));const w=e.qs(d);w.setReadTime(e.Us(d.metadata.readTime)),u=u.insert(g,w)}const c=s.xs.newChangeBuffer({trackRemovals:!0}),f=await Zf(s,(function(g){return Ls(cd(yn.fromString(`__bundle__/docs/${g}`)))})(r));return s.persistence.runTransaction("Apply bundle documents","readwrite",(d=>vx(d,c,u).next((g=>(c.apply(d),g))).next((g=>s.li.removeMatchingKeysForTargetId(d,f.targetId).next((()=>s.li.addMatchingKeys(d,o,f.targetId))).next((()=>s.localDocuments.getLocalViewOfDocuments(d,g.Bs,g.Ls))).next((()=>g.Bs))))))}async function $7(n,e,t=ln()){const r=await Zf(n,Ls(z1(e.bundledQuery))),s=it(n);return s.persistence.runTransaction("Save named query","readwrite",(o=>{const u=ci(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return s.Pi.saveNamedQuery(o,e);const c=r.withResumeToken(Hr.EMPTY_BYTE_STRING,u);return s.vs=s.vs.insert(c.targetId,c),s.li.updateTargetData(o,c).next((()=>s.li.removeMatchingKeysForTargetId(o,r.targetId))).next((()=>s.li.addMatchingKeys(o,t,r.targetId))).next((()=>s.Pi.saveNamedQuery(o,e)))}))}const Ex="firestore_clients";function OA(n,e){return`${Ex}_${n}_${e}`}const Sx="firestore_mutations";function MA(n,e,t){let r=`${Sx}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const xx="firestore_targets";function M2(n,e){return`${xx}_${n}_${e}`}const ll="SharedClientState";class m1{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static $s(e,t,r){const s=JSON.parse(r);let o,u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string",u&&(o=new Ge(s.error.code,s.error.message))),u?new m1(e,t,s.state,o):(ui(ll,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let s,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(s=new Ge(r.error.code,r.error.message))),o?new Cp(e,r.state,s):(ui(ll,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class g1{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let s=typeof r=="object"&&r.activeTargetIds instanceof Array,o=N_();for(let u=0;s&&u<r.activeTargetIds.length;++u)s=H3(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return s?new g1(e,o):(ui(ll,`Failed to parse client data for instance '${e}': ${t}`),null)}}class H_{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new H_(t.clientId,t.onlineState):(ui(ll,`Failed to parse online state: ${e}`),null)}}class Uy{constructor(){this.activeTargetIds=N_()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class V2{constructor(e,t,r,s,o){this.window=e,this.Ci=t,this.persistenceKey=r,this.zs=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new vr(Kt),this.started=!1,this.Zs=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Xs=OA(this.persistenceKey,this.zs),this.Ys=(function(f){return`firestore_sequence_number_${f}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new Uy),this.eo=new RegExp(`^${Ex}_${u}_([^_]*)$`),this.no=new RegExp(`^${Sx}_${u}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${xx}_${u}_(\\d+)$`),this.io=(function(f){return`firestore_online_state_${f}`})(this.persistenceKey),this.so=(function(f){return`firestore_bundle_loaded_v2_${f}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const s=this.getItem(OA(this.persistenceKey,r));if(s){const o=g1.$s(r,s);o&&(this.Js=this.Js.insert(o.clientId,o))}}this.oo();const t=this.storage.getItem(this.io);if(t){const r=this._o(t);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let t=!1;return this.Js.forEach(((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,t,r){this.co(e,t,r),this.lo(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(M2(this.persistenceKey,e));if(s){const o=Cp.$s(e,s);o&&(r=o.state)}}return t&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(M2(this.persistenceKey,e))}updateQueryState(e,t,r){this.Po(e,t,r)}handleUserChange(e,t,r){t.forEach((s=>{this.lo(s)})),this.currentUser=e,r.forEach((s=>{this.addPendingMutation(s)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Qe(ll,"READ",e,t),t}setItem(e,t){Qe(ll,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){Qe(ll,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const t=e;if(t.storageArea===this.storage){if(Qe(ll,"EVENT",t.key,t.newValue),t.key===this.Xs)return void ui("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.eo.test(t.key)){if(t.newValue==null){const r=this.Eo(t.key);return this.Ro(r,null)}{const r=this.Ao(t.key,t.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(t.key)){if(t.newValue!==null){const r=this.Vo(t.key,t.newValue);if(r)return this.mo(r)}}else if(this.ro.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(t.key===this.io){if(t.newValue!==null){const r=this._o(t.newValue);if(r)return this.ao(r)}}else if(t.key===this.Ys){const r=(function(o){let u=ca.ce;if(o!=null)try{const c=JSON.parse(o);vt(typeof c=="number",30636,{yo:o}),u=c}catch(c){ui(ll,"Failed to read sequence number from WebStorage",c)}return u})(t.newValue);r!==ca.ce&&this.sequenceNumberHandler(r)}else if(t.key===this.so){const r=this.wo(t.newValue);await Promise.all(r.map((s=>this.syncEngine.bo(s))))}}}else this.Zs.push(t)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,t,r){const s=new m1(this.currentUser,e,t,r),o=MA(this.persistenceKey,this.currentUser,e);this.setItem(o,s.Ws())}lo(e){const t=MA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}To(e){const t={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(t))}Po(e,t,r){const s=M2(this.persistenceKey,e),o=new Cp(e,t,r);this.setItem(s,o.Ws())}Io(e){const t=JSON.stringify(Array.from(e));this.setItem(this.so,t)}Eo(e){const t=this.eo.exec(e);return t?t[1]:null}Ao(e,t){const r=this.Eo(e);return g1.$s(r,t)}Vo(e,t){const r=this.no.exec(e),s=Number(r[1]),o=r[2]!==void 0?r[2]:null;return m1.$s(new Xi(o),s,t)}fo(e,t){const r=this.ro.exec(e),s=Number(r[1]);return Cp.$s(s,t)}_o(e){return H_.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);Qe(ll,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,t){const r=t?this.Js.insert(e,t):this.Js.remove(e),s=this.uo(this.Js),o=this.uo(r),u=[],c=[];return o.forEach((f=>{s.has(f)||u.push(f)})),s.forEach((f=>{o.has(f)||c.push(f)})),this.syncEngine.Co(u,c).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let t=N_();return e.forEach(((r,s)=>{t=t.unionWith(s.activeTargetIds)})),t}}class Tx{constructor(){this.vo=new Uy,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Uy,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class W7{Mo(e){}shutdown(){}}const VA="ConnectivityMonitor";class jA{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Qe(VA,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Qe(VA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let _g=null;function Fy(){return _g===null?_g=(function(){return 268435456+Math.round(2147483648*Math.random())})():_g++,"0x"+_g.toString(16)}const j2="RestConnection",Y7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Q7{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===qp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,o){const u=Fy(),c=this.Qo(e,t.toUriEncodedString());Qe(j2,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,s,o);const{host:d}=new URL(c),g=gc(d);return this.zo(e,c,f,r,g).then((w=>(Qe(j2,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw ga(j2,`RPC '${e}' ${u} failed with error: `,w,"url: ",c,"request:",r),w}))}jo(e,t,r,s,o,u){return this.Wo(e,t,r,s,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ud})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}Qo(e,t){const r=Y7[e];let s=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class X7{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Ss="WebChannelConnection",hp=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class Df extends Q7{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Df.c_){const e=C3();hp(e,R3.STAT_EVENT,(t=>{t.stat===gy.PROXY?Qe(Ss,"STAT_EVENT: detected buffering proxy"):t.stat===gy.NOPROXY&&Qe(Ss,"STAT_EVENT: detected no buffering proxy")})),Df.c_=!0}}zo(e,t,r,s,o){const u=Fy();return new Promise(((c,f)=>{const d=new I3;d.setWithCredentials(!0),d.listenOnce(N3.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Dg.NO_ERROR:const w=d.getResponseJson();Qe(Ss,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),c(w);break;case Dg.TIMEOUT:Qe(Ss,`RPC '${e}' ${u} timed out`),f(new Ge(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case Dg.HTTP_ERROR:const E=d.getStatus();if(Qe(Ss,`RPC '${e}' ${u} failed with status:`,E,"response text:",d.getResponseText()),E>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const V=b?.error;if(V&&V.status&&V.message){const M=(function(U){const ne=U.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(ne)>=0?ne:Ce.UNKNOWN})(V.status);f(new Ge(M,V.message))}else f(new Ge(Ce.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new Ge(Ce.UNAVAILABLE,"Connection failed."));break;default:ut(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Qe(Ss,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(s);Qe(Ss,`RPC '${e}' ${u} sending request:`,s),d.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=Fy(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const d=o.join("");Qe(Ss,`Creating RPC '${e}' stream ${s}: ${d}`,c);const g=u.createWebChannel(d,c);this.I_(g);let w=!1,E=!1;const b=new X7({Ho:V=>{E?Qe(Ss,`Not sending because RPC '${e}' stream ${s} is closed:`,V):(w||(Qe(Ss,`Opening RPC '${e}' stream ${s} transport.`),g.open(),w=!0),Qe(Ss,`RPC '${e}' stream ${s} sending:`,V),g.send(V))},Jo:()=>g.close()});return hp(g,yp.EventType.OPEN,(()=>{E||(Qe(Ss,`RPC '${e}' stream ${s} transport opened.`),b.i_())})),hp(g,yp.EventType.CLOSE,(()=>{E||(E=!0,Qe(Ss,`RPC '${e}' stream ${s} transport closed`),b.o_(),this.E_(g))})),hp(g,yp.EventType.ERROR,(V=>{E||(E=!0,ga(Ss,`RPC '${e}' stream ${s} transport errored. Name:`,V.name,"Message:",V.message),b.o_(new Ge(Ce.UNAVAILABLE,"The operation could not be completed")))})),hp(g,yp.EventType.MESSAGE,(V=>{if(!E){const M=V.data[0];vt(!!M,16349);const B=M,U=B?.error||B[0]?.error;if(U){Qe(Ss,`RPC '${e}' stream ${s} received error:`,U);const ne=U.status;let Y=(function(be){const H=vi[be];if(H!==void 0)return jS(H)})(ne),ee=U.message;ne==="NOT_FOUND"&&ee.includes("database")&&ee.includes("does not exist")&&ee.includes(this.databaseId.database)&&ga(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Y===void 0&&(Y=Ce.INTERNAL,ee="Unknown error status: "+ne+" with message "+U.message),E=!0,b.o_(new Ge(Y,ee)),g.close()}else Qe(Ss,`RPC '${e}' stream ${s} received:`,M),b.__(M)}})),Df.u_(),setTimeout((()=>{b.s_()}),0),b}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return L3()}}function J7(n){return new Df(n)}function Ix(){return typeof window<"u"?window:null}function qg(){return typeof document<"u"?document:null}function Ah(n){return new i7(n,!0)}Df.c_=!1;class G_{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=s,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&Qe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const UA="PersistentStream";class Nx{constructor(e,t,r,s,o,u,c,f){this.Ci=e,this.b_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new G_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ce.RESOURCE_EXHAUSTED?(ui(t.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new Ge(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Qe(UA,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Qe(UA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Z7 extends Nx{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=o7(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Tt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Tt.min():u.readTime?ci(u.readTime):Tt.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=Py(this.serializer),t.addTarget=(function(o,u){let c;const f=u.target;if(c=o1(f)?{documents:$S(o,f)}:{query:q1(o,f).ft},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=qS(o,u.resumeToken);const d=ky(o,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(Tt.min())>0){c.readTime=Jf(o,u.snapshotVersion.toTimestamp());const d=ky(o,u.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=u7(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=Py(this.serializer),t.removeTarget=e,this.K_(t)}}class ek extends Nx{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=l7(e.writeResults,e.commitTime),r=ci(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Py(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>$p(this.serializer,r)))};this.K_(t)}}class tk{}class nk extends tk{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Ge(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Wo(e,Dy(t,r),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ge(Ce.UNKNOWN,o.toString())}))}jo(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.jo(e,Dy(t,r),s,u,c,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ge(Ce.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function rk(n,e,t,r){return new nk(n,e,t,r)}class ik{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ui(t),this.aa=!1):Qe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ph="RemoteStore";class sk{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{Ac(this)&&(Qe(ph,"Restarting streams for network reachability change."),await(async function(f){const d=it(f);d.Ea.add(4),await dd(d),d.Va.set("Unknown"),d.Ea.delete(4),await hm(d)})(this))}))})),this.Va=new ik(r,s)}}async function hm(n){if(Ac(n))for(const e of n.Ra)await e(!0)}async function dd(n){for(const e of n.Ra)await e(!1)}function $1(n,e){const t=it(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),W_(t)?$_(t):md(t).O_()&&K_(t,e))}function td(n,e){const t=it(n),r=md(t);t.Ia.delete(e),r.O_()&&Rx(t,e),t.Ia.size===0&&(r.O_()?r.L_():Ac(t)&&t.Va.set("Unknown"))}function K_(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}md(n).Z_(e)}function Rx(n,e){n.da.$e(e),md(n).X_(e)}function $_(n){n.da=new e7({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),md(n).start(),n.Va.ua()}function W_(n){return Ac(n)&&!md(n).x_()&&n.Ia.size>0}function Ac(n){return it(n).Ea.size===0}function Cx(n){n.da=void 0}async function ak(n){n.Va.set("Online")}async function ok(n){n.Ia.forEach(((e,t)=>{K_(n,e)}))}async function lk(n,e){Cx(n),W_(n)?(n.Va.ha(e),$_(n)):n.Va.set("Unknown")}async function uk(n,e,t){if(n.Va.set("Online"),e instanceof BS&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const c of o.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,u),s.Ia.delete(c),s.da.removeTarget(c))})(n,e)}catch(r){Qe(ph,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await y1(n,r)}else if(e instanceof Fg?n.da.Xe(e):e instanceof FS?n.da.st(e):n.da.tt(e),!t.isEqual(Tt.min()))try{const r=await _x(n.localStore);t.compareTo(r)>=0&&await(function(o,u){const c=o.da.Tt(u);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Ia.get(d);g&&o.Ia.set(d,g.withResumeToken(f.resumeToken,u))}})),c.targetMismatches.forEach(((f,d)=>{const g=o.Ia.get(f);if(!g)return;o.Ia.set(f,g.withResumeToken(Hr.EMPTY_BYTE_STRING,g.snapshotVersion)),Rx(o,f);const w=new eu(g.target,f,d,g.sequenceNumber);K_(o,w)})),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){Qe(ph,"Failed to raise snapshot:",r),await y1(n,r)}}async function y1(n,e,t){if(!bc(e))throw e;n.Ea.add(1),await dd(n),n.Va.set("Offline"),t||(t=()=>_x(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Qe(ph,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await hm(n)}))}function Lx(n,e){return e().catch((t=>y1(n,t,e)))}async function pd(n){const e=it(n),t=fc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sc;for(;ck(e);)try{const s=await G7(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,hk(e,s)}catch(s){await y1(e,s)}kx(e)&&Dx(e)}function ck(n){return Ac(n)&&n.Ta.length<10}function hk(n,e){n.Ta.push(e);const t=fc(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function kx(n){return Ac(n)&&!fc(n).x_()&&n.Ta.length>0}function Dx(n){fc(n).start()}async function fk(n){fc(n).ra()}async function dk(n){const e=fc(n);for(const t of n.Ta)e.ea(t.mutations)}async function pk(n,e,t){const r=n.Ta.shift(),s=k_.from(r,e,t);await Lx(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await pd(n)}async function mk(n,e){e&&fc(n).Y_&&await(async function(r,s){if((function(u){return VS(u)&&u!==Ce.ABORTED})(s.code)){const o=r.Ta.shift();fc(r).B_(),await Lx(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await pd(r)}})(n,e),kx(n)&&Dx(n)}async function FA(n,e){const t=it(n);t.asyncQueue.verifyOperationInProgress(),Qe(ph,"RemoteStore received new credentials");const r=Ac(t);t.Ea.add(3),await dd(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await hm(t)}async function By(n,e){const t=it(n);e?(t.Ea.delete(2),await hm(t)):e||(t.Ea.add(2),await dd(t),t.Va.set("Unknown"))}function md(n){return n.ma||(n.ma=(function(t,r,s){const o=it(t);return o.sa(),new Z7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:ak.bind(null,n),Yo:ok.bind(null,n),t_:lk.bind(null,n),J_:uk.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),W_(n)?$_(n):n.Va.set("Unknown")):(await n.ma.stop(),Cx(n))}))),n.ma}function fc(n){return n.fa||(n.fa=(function(t,r,s){const o=it(t);return o.sa(),new ek(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:fk.bind(null,n),t_:mk.bind(null,n),ta:dk.bind(null,n),na:pk.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await pd(n)):(await n.fa.stop(),n.Ta.length>0&&(Qe(ph,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Y_{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,c=new Y_(e,t,u,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ge(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gd(n,e){if(ui("AsyncQueue",`${e}: ${n}`),bc(n))return new Ge(Ce.UNAVAILABLE,`${e}: ${n}`);throw n}class nh{static emptySet(e){return new nh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||tt.comparator(t.key,r.key):(t,r)=>tt.comparator(t.key,r.key),this.keyedMap=_p(),this.sortedSet=new vr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new nh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class BA{constructor(){this.ga=new vr(tt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ut(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class mh{constructor(e,t,r,s,o,u,c,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach((c=>{u.push({type:0,doc:c})})),new mh(e,t,nh.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class gk{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class yk{constructor(){this.queries=qA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=it(t),o=s.queries;s.queries=qA(),o.forEach(((u,c)=>{for(const f of c.ba)f.onError(r)}))})(this,new Ge(Ce.ABORTED,"Firestore shutting down"))}}function qA(){return new uu((n=>AS(n)),am)}async function Q_(n,e){const t=it(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.Sa()&&e.Da()&&(r=2):(o=new gk,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const c=gd(u,`Initialization of query '${wf(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&J_(t)}async function X_(n,e){const t=it(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.ba.indexOf(e);u>=0&&(o.ba.splice(u,1),o.ba.length===0?s=e.Da()?0:1:!o.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function _k(n,e){const t=it(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const c of u.ba)c.Fa(s)&&(r=!0);u.wa=s}}r&&J_(t)}function vk(n,e,t){const r=it(n),s=r.queries.get(e);if(s)for(const o of s.ba)o.onError(t);r.queries.delete(e)}function J_(n){n.Ca.forEach((e=>{e.next()}))}var qy,zA;(zA=qy||(qy={})).Ma="default",zA.Cache="cache";class Z_{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new mh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=mh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qy.Cache}}class Px{constructor(e,t){this.qa=e,this.byteLength=t}Ua(){return"metadata"in this.qa}}class HA{constructor(e){this.serializer=e}Ks(e){return gl(this.serializer,e)}qs(e){return e.metadata.exists?B1(this.serializer,e.document,!1):xr.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return ci(e)}}class e5{constructor(e,t){this.$a=e,this.serializer=t,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=Ox(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++t;const r=yn.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,r=new HA(this.serializer);for(const s of e)if(s.metadata.queries){const o=r.Ks(s.metadata.name);for(const u of s.metadata.queries){const c=(t.get(u)||ln()).add(o);t.set(u,c)}}return t}async ja(e){const t=await K7(e,new HA(this.serializer),this.Qa,this.$a.id),r=this.za(this.documents);for(const s of this.Wa)await $7(e,s,r.get(s.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:t}}}function Ox(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Mx{constructor(e){this.key=e}}class Vx{constructor(e){this.key=e}}class jx{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ln(),this.mutatedKeys=ln(),this.eu=SS(e),this.tu=new nh(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new BA,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,w)=>{const E=s.get(g),b=om(this.query,w)?w:null,V=!!E&&this.mutatedKeys.has(E.key),M=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let B=!1;E&&b?E.data.isEqual(b.data)?V!==M&&(r.track({type:3,doc:b}),B=!0):this.su(E,b)||(r.track({type:2,doc:b}),B=!0,(f&&this.eu(b,f)>0||d&&this.eu(b,d)<0)&&(c=!0)):!E&&b?(r.track({type:0,doc:b}),B=!0):E&&!b&&(r.track({type:1,doc:E}),B=!0,(f||d)&&(c=!0)),B&&(b?(u=u.add(b),o=M?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Ss:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,w)=>(function(b,V){const M=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut(20277,{Vt:B})}};return M(b)-M(V)})(g.type,w.type)||this.eu(g.doc,w.doc))),this.ou(r),s=s??!1;const c=t&&!s?this._u():[],f=this.Ya.size===0&&this.current&&!s?1:0,d=f!==this.Xa;return this.Xa=f,u.length!==0||d?{snapshot:new mh(this.query,e.tu,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new BA,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ln(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new Vx(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new Mx(r))})),t}cu(e){this.Za=e.ks,this.Ya=ln();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return mh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ec="SyncEngine";class bk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wk{constructor(e){this.key=e,this.hu=!1}}class Ak{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new uu((c=>AS(c)),am),this.Iu=new Map,this.Eu=new Set,this.Ru=new vr(tt.comparator),this.Au=new Map,this.Vu=new j_,this.du={},this.mu=new Map,this.fu=dh.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ek(n,e,t=!0){const r=W1(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await Ux(r,e,t,!0),s}async function Sk(n,e){const t=W1(n);await Ux(t,e,!0,!1)}async function Ux(n,e,t,r){const s=await Zf(n.localStore,Ls(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await t5(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&$1(n.remoteStore,s),c}async function t5(n,e,t,r,s){n.pu=(w,E,b)=>(async function(M,B,U,ne){let Y=B.view.ru(U);Y.Ss&&(Y=await p1(M.localStore,B.query,!1).then((({documents:H})=>B.view.ru(H,Y))));const ee=ne&&ne.targetChanges.get(B.targetId),ge=ne&&ne.targetMismatches.get(B.targetId)!=null,be=B.view.applyChanges(Y,M.isPrimaryClient,ee,ge);return zy(M,B.targetId,be.au),be.snapshot})(n,w,E,b);const o=await p1(n.localStore,e,!0),u=new jx(e,o.ks),c=u.ru(o.documents),f=cm.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),d=u.applyChanges(c,n.isPrimaryClient,f);zy(n,t,d.au);const g=new bk(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function xk(n,e,t){const r=it(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((u=>!am(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ed(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&td(r.remoteStore,s.targetId),nd(r,s.targetId)})).catch(vc)):(nd(r,s.targetId),await ed(r.localStore,s.targetId,!0))}async function Tk(n,e){const t=it(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),td(t.remoteStore,r.targetId))}async function Ik(n,e,t){const r=s5(n);try{const s=await(function(u,c){const f=it(u),d=$n.now(),g=c.reduce(((b,V)=>b.add(V.key)),ln());let w,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let V=fa(),M=ln();return f.xs.getEntries(b,g).next((B=>{V=B,V.forEach(((U,ne)=>{ne.isValidDocument()||(M=M.add(U))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,V))).next((B=>{w=B;const U=[];for(const ne of c){const Y=QL(ne,w.get(ne.key).overlayedDocument);Y!=null&&U.push(new cu(ne.key,Y,hS(Y.value.mapValue),Mr.exists(!0)))}return f.mutationQueue.addMutationBatch(b,d,U,c)})).next((B=>{E=B;const U=B.applyToLocalDocumentSet(w,M);return f.documentOverlayCache.saveOverlays(b,B.batchId,U)}))})).then((()=>({batchId:E.batchId,changes:TS(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,c,f){let d=u.du[u.currentUser.toKey()];d||(d=new vr(Kt)),d=d.insert(c,f),u.du[u.currentUser.toKey()]=d})(r,s.batchId,t),await hu(r,s.changes),await pd(r.remoteStore)}catch(s){const o=gd(s,"Failed to persist write");t.reject(o)}}async function Fx(n,e){const t=it(n);try{const r=await H7(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=t.Au.get(o);u&&(vt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?vt(u.hu,14607):s.removedDocuments.size>0&&(vt(u.hu,42227),u.hu=!1))})),await hu(t,r,e)}catch(r){await vc(r)}}function GA(n,e,t){const r=it(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,u)=>{const c=u.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(u,c){const f=it(u);f.onlineState=c;let d=!1;f.queries.forEach(((g,w)=>{for(const E of w.ba)E.va(c)&&(d=!0)})),d&&J_(f)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Nk(n,e,t){const r=it(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let u=new vr(tt.comparator);u=u.insert(o,xr.newNoDocument(o,Tt.min()));const c=ln().add(o),f=new um(Tt.min(),new Map,new vr(Kt),u,c);await Fx(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(e),i5(r)}else await ed(r.localStore,e,!1).then((()=>nd(r,e,t))).catch(vc)}async function Rk(n,e){const t=it(n),r=e.batch.batchId;try{const s=await z7(t.localStore,e);r5(t,r,null),n5(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await hu(t,s)}catch(s){await vc(s)}}async function Ck(n,e,t){const r=it(n);try{const s=await(function(u,c){const f=it(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return f.mutationQueue.lookupMutationBatch(d,c).next((w=>(vt(w!==null,37113),g=w.keys(),f.mutationQueue.removeMutationBatch(d,w)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>f.localDocuments.getDocuments(d,g)))}))})(r.localStore,e);r5(r,e,t),n5(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await hu(r,s)}catch(s){await vc(s)}}async function Lk(n,e){const t=it(n);Ac(t.remoteStore)||Qe(Ec,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(u){const c=it(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f)))})(t.localStore);if(r===sc)return void e.resolve();const s=t.mu.get(r)||[];s.push(e),t.mu.set(r,s)}catch(r){const s=gd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}function n5(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function r5(n,e,t){const r=it(n);let s=r.du[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function nd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||Bx(n,r)}))}function Bx(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(td(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),i5(n))}function zy(n,e,t){for(const r of t)r instanceof Mx?(n.Vu.addReference(r.key,e),kk(n,r)):r instanceof Vx?(Qe(Ec,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||Bx(n,r.key)):ut(19791,{wu:r})}function kk(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(Qe(Ec,"New document in limbo: "+t),n.Eu.add(r),i5(n))}function i5(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new tt(yn.fromString(e)),r=n.fu.next();n.Au.set(r,new wk(t)),n.Ru=n.Ru.insert(t,r),$1(n.remoteStore,new eu(Ls(cd(t.path)),r,"TargetPurposeLimboResolution",ca.ce))}}async function hu(n,e,t){const r=it(n),s=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{u.push(r.pu(f,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const g=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){s.push(d);const g=q_.Es(f.targetId,d);o.push(g)}})))})),await Promise.all(u),r.Pu.J_(s),await(async function(f,d){const g=it(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Se.forEach(d,(E=>Se.forEach(E.Ts,(b=>g.persistence.referenceDelegate.addReference(w,E.targetId,b))).next((()=>Se.forEach(E.Is,(b=>g.persistence.referenceDelegate.removeReference(w,E.targetId,b)))))))))}catch(w){if(!bc(w))throw w;Qe(z_,"Failed to update sequence numbers: "+w)}for(const w of d){const E=w.targetId;if(!w.fromCache){const b=g.vs.get(E),V=b.snapshotVersion,M=b.withLastLimboFreeSnapshotVersion(V);g.vs=g.vs.insert(E,M)}}})(r.localStore,o))}async function Dk(n,e){const t=it(n);if(!t.currentUser.isEqual(e)){Qe(Ec,"User change. New user:",e.toKey());const r=await yx(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((c=>{c.forEach((f=>{f.reject(new Ge(Ce.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hu(t,r.Ns)}}function Pk(n,e){const t=it(n),r=t.Au.get(e);if(r&&r.hu)return ln().add(r.key);{let s=ln();const o=t.Iu.get(e);if(!o)return s;for(const u of o){const c=t.Tu.get(u);s=s.unionWith(c.view.nu)}return s}}async function Ok(n,e){const t=it(n),r=await p1(t.localStore,e.query,!0),s=e.view.cu(r);return t.isPrimaryClient&&zy(t,e.targetId,s.au),s}async function Mk(n,e){const t=it(n);return wx(t.localStore,e).then((r=>hu(t,r)))}async function Vk(n,e,t,r){const s=it(n),o=await(function(c,f){const d=it(c),g=it(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",(w=>g.Xn(w,f).next((E=>E?d.localDocuments.getDocuments(w,E):Se.resolve(null)))))})(s.localStore,e);o!==null?(t==="pending"?await pd(s.remoteStore):t==="acknowledged"||t==="rejected"?(r5(s,e,r||null),n5(s,e),(function(c,f){it(it(c).mutationQueue).nr(f)})(s.localStore,e)):ut(6720,"Unknown batchState",{bu:t}),await hu(s,o)):Qe(Ec,"Cannot apply mutation batch with id: "+e)}async function jk(n,e){const t=it(n);if(W1(t),s5(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),s=await KA(t,r.toArray());t.gu=!0,await By(t.remoteStore,!0);for(const o of s)$1(t.remoteStore,o)}else if(e===!1&&t.gu!==!1){const r=[];let s=Promise.resolve();t.Iu.forEach(((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):s=s.then((()=>(nd(t,u),ed(t.localStore,u,!0)))),td(t.remoteStore,u)})),await s,await KA(t,r),(function(u){const c=it(u);c.Au.forEach(((f,d)=>{td(c.remoteStore,d)})),c.Vu.zr(),c.Au=new Map,c.Ru=new vr(tt.comparator)})(t),t.gu=!1,await By(t.remoteStore,!1)}}async function KA(n,e,t){const r=it(n),s=[],o=[];for(const u of e){let c;const f=r.Iu.get(u);if(f&&f.length!==0){c=await Zf(r.localStore,Ls(f[0]));for(const d of f){const g=r.Tu.get(d),w=await Ok(r,g);w.snapshot&&o.push(w.snapshot)}}else{const d=await bx(r.localStore,u);c=await Zf(r.localStore,d),await t5(r,qx(d),u,!1,c.resumeToken)}s.push(c)}return r.Pu.J_(o),s}function qx(n){return vS(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Uk(n){return(function(t){return it(it(t).persistence).hs()})(it(n).localStore)}async function Fk(n,e,t,r){const s=it(n);if(s.gu)return void Qe(Ec,"Ignoring unexpected query state notification.");const o=s.Iu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await wx(s.localStore,ES(o[0])),c=um.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Hr.EMPTY_BYTE_STRING);await hu(s,u,c);break}case"rejected":await ed(s.localStore,e,!0),nd(s,e,r);break;default:ut(64155,t)}}async function Bk(n,e,t){const r=W1(n);if(r.gu){for(const s of e){if(r.Iu.has(s)&&r.sharedClientState.isActiveQueryTarget(s)){Qe(Ec,"Adding an already active target "+s);continue}const o=await bx(r.localStore,s),u=await Zf(r.localStore,o);await t5(r,qx(o),u.targetId,!1,u.resumeToken),$1(r.remoteStore,u)}for(const s of t)r.Iu.has(s)&&await ed(r.localStore,s,!1).then((()=>{td(r.remoteStore,s),nd(r,s)})).catch(vc)}}function W1(n){const e=it(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nk.bind(null,e),e.Pu.J_=_k.bind(null,e.eventManager),e.Pu.yu=vk.bind(null,e.eventManager),e}function s5(n){const e=it(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ck.bind(null,e),e}function qk(n,e,t){const r=it(n);(async function(o,u,c){try{const f=await u.getMetadata();if(await(function(b,V){const M=it(b),B=ci(V.createTime);return M.persistence.runTransaction("hasNewerBundle","readonly",(U=>M.Pi.getBundleMetadata(U,V.id))).then((U=>!!U&&U.createTime.compareTo(B)>=0))})(o.localStore,f))return await u.close(),c._completeWith((function(b){return{taskState:"Success",documentsLoaded:b.totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}})(f)),Promise.resolve(new Set);c._updateProgress(Ox(f));const d=new e5(f,u.serializer);let g=await u.Su();for(;g;){const E=await d.Ga(g);E&&c._updateProgress(E),g=await u.Su()}const w=await d.ja(o.localStore);return await hu(o,w.Ja,void 0),await(function(b,V){const M=it(b);return M.persistence.runTransaction("Save bundle","readwrite",(B=>M.Pi.saveBundleMetadata(B,V)))})(o.localStore,f),c._completeWith(w.progress),Promise.resolve(w.Ha)}catch(f){return ga(Ec,`Loading bundle failed with ${f}`),c._failWith(f),Promise.resolve(new Set)}})(r,e,t).then((s=>{r.sharedClientState.notifyBundleLoaded(s)}))}class rd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return gx(this.persistence,new mx,e.initialUser,this.serializer)}Cu(e){return new U_(K1.Vi,this.serializer)}Du(e){return new Tx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rd.provider={build:()=>new rd};class a5 extends rd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){vt(this.persistence.referenceDelegate instanceof d1,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ux(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Rs.withCacheSize(this.cacheSizeBytes):Rs.DEFAULT;return new U_((r=>d1.Vi(r,t)),this.serializer)}}class o5 extends rd{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await s5(this.xu.syncEngine),await pd(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return gx(this.persistence,new mx,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new ux(r,e.asyncQueue,t)}Mu(e,t){const r=new Y8(t,this.persistence);return new W8(e.asyncQueue,r)}Cu(e){const t=B_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Rs.withCacheSize(this.cacheSizeBytes):Rs.DEFAULT;return new F_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Ix(),qg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new Tx}}class zx extends o5{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof V2&&(this.sharedClientState.syncEngine={So:Vk.bind(null,t),Do:Fk.bind(null,t),Co:Bk.bind(null,t),hs:Uk.bind(null,t),bo:Mk.bind(null,t)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await jk(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=Ix();if(!V2.v(t))throw new Ge(Ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=B_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new V2(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class dc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dk.bind(null,this.syncEngine),await By(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yk})()}createDatastore(e){const t=Ah(e.databaseInfo.databaseId),r=J7(e.databaseInfo);return rk(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,u,c){return new sk(r,s,o,u,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>GA(this.syncEngine,t,0)),(function(){return jA.v()?new jA:new W7})())}createSyncEngine(e,t){return(function(s,o,u,c,f,d,g){const w=new Ak(s,o,u,c,f,d);return g&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=it(t);Qe(ph,"RemoteStore shutting down."),r.Ea.add(5),await dd(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dc.provider={build:()=>new dc};function $A(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class Y1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class zk{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new es,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.Ua()?this.metadata.resolve(r.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.Ku();if(e===null)return null;const t=this.Lu.decode(e),r=Number(t);isNaN(r)&&this.qu(`length string (${t}) is not valid number`);const s=await this.Uu(r);return new Px(JSON.parse(s),e.length+r)}$u(){return this.buffer.findIndex((e=>e===123))}async Ku(){for(;this.$u()<0&&!await this.Wu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Wu(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Hk{constructor(e,t){this.bundleData=e,this.serializer=t,this.cursor=0,this.elements=[];let r=this.Su();if(!r||!r.Ua())throw new Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(r?.qa)}`);this.metadata=r;do r=this.Su(),r!==null&&this.elements.push(r);while(r!==null)}getMetadata(){return this.metadata}Qu(){return this.elements}Su(){if(this.cursor===this.bundleData.length)return null;const e=this.Ku(),t=this.Uu(e);return new Px(JSON.parse(t),e)}Uu(e){if(this.cursor+e>this.bundleData.length)throw new Ge(Ce.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}Ku(){const e=this.cursor;let t=this.cursor;for(;t<this.bundleData.length;){if(this.bundleData[t]==="{"){if(t===e)throw new Error("First character is a bracket and not a number");return this.cursor=t,Number(this.bundleData.slice(e,t))}t++}throw new Error("Reached the end of bundle when more is expected.")}}let Gk=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ge(Ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(s,o){const u=it(s),c={documents:o.map((w=>Kp(u.serializer,w)))},f=await u.jo("BatchGetDocuments",u.serializer.databaseId,yn.emptyPath(),c,o.length),d=new Map;f.forEach((w=>{const E=a7(u.serializer,w);d.set(E.key.toString(),E)}));const g=[];return o.forEach((w=>{const E=d.get(w.toString());vt(!!E,55234,{key:w}),g.push(E)})),g})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new fd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const s=tt.fromPath(r);this.mutations.push(new C_(s,this.precondition(s)))})),await(async function(r,s){const o=it(r),u={writes:s.map((c=>$p(o.serializer,c)))};await o.Wo("Commit",o.serializer.databaseId,yn.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ut(50498,{Gu:e.constructor.name});t=Tt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ge(Ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Tt.min())?Mr.exists(!1):Mr.updateTime(t):Mr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Tt.min()))throw new Ge(Ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mr.updateTime(t)}return Mr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class Kk{constructor(e,t,r,s,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=o,this.zu=r.maxAttempts,this.M_=new G_(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new Gk(this.datastore),t=this.Ju(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((s=>{this.Zu(s)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const t=this.updateFunction(e);return!rm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!VS(t)}return!1}}const pc="FirestoreClient";class $k{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=s,this.user=Xi.UNAUTHENTICATED,this.clientId=C1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{Qe(pc,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(Qe(pc,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=gd(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function U2(n,e){n.asyncQueue.verifyOperationInProgress(),Qe(pc,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await yx(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function WA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await l5(n);Qe(pc,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>FA(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>FA(e.remoteStore,s))),n._onlineComponents=e}async function l5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Qe(pc,"Using user provided OfflineComponentProvider");try{await U2(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Ce.FAILED_PRECONDITION||s.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;ga("Error using user provided cache. Falling back to memory cache: "+t),await U2(n,new rd)}}else Qe(pc,"Using default OfflineComponentProvider"),await U2(n,new a5(void 0));return n._offlineComponents}async function Q1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Qe(pc,"Using user provided OnlineComponentProvider"),await WA(n,n._uninitializedComponentsProvider._online)):(Qe(pc,"Using default OnlineComponentProvider"),await WA(n,new dc))),n._onlineComponents}function Hx(n){return l5(n).then((e=>e.persistence))}function yd(n){return l5(n).then((e=>e.localStore))}function Gx(n){return Q1(n).then((e=>e.remoteStore))}function u5(n){return Q1(n).then((e=>e.syncEngine))}function Kx(n){return Q1(n).then((e=>e.datastore))}async function id(n){const e=await Q1(n),t=e.eventManager;return t.onListen=Ek.bind(null,e.syncEngine),t.onUnlisten=xk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Sk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Tk.bind(null,e.syncEngine),t}function Wk(n){return n.asyncQueue.enqueue((async()=>{const e=await Hx(n),t=await Gx(n);return e.setNetworkEnabled(!0),(function(s){const o=it(s);return o.Ea.delete(0),hm(o)})(t)}))}function Yk(n){return n.asyncQueue.enqueue((async()=>{const e=await Hx(n),t=await Gx(n);return e.setNetworkEnabled(!1),(async function(s){const o=it(s);o.Ea.add(0),await dd(o),o.Va.set("Offline")})(t)}))}function Qk(n,e,t,r){const s=new Y1(r),o=new Z_(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>Q_(await id(n),o))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>X_(await id(n),o)))}}function Xk(n,e){const t=new es;return n.asyncQueue.enqueueAndForget((async()=>(async function(s,o,u){try{const c=await(function(d,g){const w=it(d);return w.persistence.runTransaction("read document","readonly",(E=>w.localDocuments.getDocument(E,g)))})(s,o);c.isFoundDocument()?u.resolve(c):c.isNoDocument()?u.resolve(null):u.reject(new Ge(Ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const f=gd(c,`Failed to get document '${o} from cache`);u.reject(f)}})(await yd(n),e,t))),t.promise}function $x(n,e,t={}){const r=new es;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const g=new Y1({next:E=>{g.Nu(),u.enqueueAndForget((()=>X_(o,w)));const b=E.docs.has(c);!b&&E.fromCache?d.reject(new Ge(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&E.fromCache&&f&&f.source==="server"?d.reject(new Ge(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(E)},error:E=>d.reject(E)}),w=new Z_(cd(c.path),g,{includeMetadataChanges:!0,Ka:!0});return Q_(o,w)})(await id(n),n.asyncQueue,e,t,r))),r.promise}function Jk(n,e){const t=new es;return n.asyncQueue.enqueueAndForget((async()=>(async function(s,o,u){try{const c=await p1(s,o,!0),f=new jx(o,c.ks),d=f.ru(c.documents),g=f.applyChanges(d,!1);u.resolve(g.snapshot)}catch(c){const f=gd(c,`Failed to execute query '${o} against cache`);u.reject(f)}})(await yd(n),e,t))),t.promise}function Wx(n,e,t={}){const r=new es;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const g=new Y1({next:E=>{g.Nu(),u.enqueueAndForget((()=>X_(o,w))),E.fromCache&&f.source==="server"?d.reject(new Ge(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(E)},error:E=>d.reject(E)}),w=new Z_(c,g,{includeMetadataChanges:!0,Ka:!0});return Q_(o,w)})(await id(n),n.asyncQueue,e,t,r))),r.promise}function Zk(n,e,t){const r=new es;return n.asyncQueue.enqueueAndForget((async()=>{try{const s=await Kx(n);r.resolve((async function(u,c,f){const d=it(u),{request:g,gt:w,parent:E}=WS(d.serializer,bS(c),f);d.connection.Ko||delete g.parent;const b=(await d.jo("RunAggregationQuery",d.serializer.databaseId,E,g,1)).filter((M=>!!M.result));vt(b.length===1,64727);const V=b[0].result?.aggregateFields;return Object.keys(V).reduce(((M,B)=>(M[w[B]]=V[B],M)),{})})(s,e,t))}catch(s){r.reject(s)}})),r.promise}function eD(n,e){const t=new es;return n.asyncQueue.enqueueAndForget((async()=>Ik(await u5(n),e,t))),t.promise}function tD(n,e){const t=new Y1(e);return n.asyncQueue.enqueueAndForget((async()=>(function(s,o){it(s).Ca.add(o),o.next()})(await id(n),t))),()=>{t.Nu(),n.asyncQueue.enqueueAndForget((async()=>(function(s,o){it(s).Ca.delete(o)})(await id(n),t)))}}function nD(n,e,t){const r=new es;return n.asyncQueue.enqueueAndForget((async()=>{const s=await Kx(n);new Kk(n.asyncQueue,s,t,e,r).ju()})),r.promise}function rD(n,e,t,r){const s=(function(u,c){let f;return f=typeof u=="string"?US().encode(u):u,(function(g,w){return new zk(g,w)})((function(g,w){if(g instanceof Uint8Array)return $A(g,w);if(g instanceof ArrayBuffer)return $A(new Uint8Array(g),w);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(f),c)})(t,Ah(e));n.asyncQueue.enqueueAndForget((async()=>{qk(await u5(n),s,r)}))}function iD(n,e){return n.asyncQueue.enqueue((async()=>(function(r,s){const o=it(r);return o.persistence.runTransaction("Get named query","readonly",(u=>o.Pi.getNamedQuery(u,s)))})(await yd(n),e)))}function Yx(n,e){return(function(r,s){return new Hk(r,s)})(n,e)}function sD(n,e){return n.asyncQueue.enqueue((async()=>(async function(r,s){const o=it(r),u=o.indexManager,c=[];return o.persistence.runTransaction("Configure indexes","readwrite",(f=>u.getFieldIndexes(f).next((d=>(function(w,E,b,V,M){w=[...w],E=[...E],w.sort(b),E.sort(b);const B=w.length,U=E.length;let ne=0,Y=0;for(;ne<U&&Y<B;){const ee=b(w[Y],E[ne]);ee<0?M(w[Y++]):ee>0?V(E[ne++]):(ne++,Y++)}for(;ne<U;)V(E[ne++]);for(;Y<B;)M(w[Y++])})(d,s,H8,(g=>{c.push(u.addFieldIndex(f,g))}),(g=>{c.push(u.deleteFieldIndex(f,g))})))).next((()=>Se.waitFor(c)))))})(await yd(n),e)))}function aD(n,e){return n.asyncQueue.enqueue((async()=>(function(r,s){it(r).Cs.As=s})(await yd(n),e)))}function oD(n){return n.asyncQueue.enqueue((async()=>(function(t){const r=it(t),s=r.indexManager;return r.persistence.runTransaction("Delete All Indexes","readwrite",(o=>s.deleteAllFieldIndexes(o)))})(await yd(n))))}function Qx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const lD="ComponentProvider",YA=new Map;function uD(n,e,t,r,s){return new SL(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,Qx(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const Xx="firestore.googleapis.com",QA=!0;class XA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ge(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xx,this.ssl=QA}else this.host=e.host,this.ssl=e.ssl??QA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ix;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lx)throw new Ge(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qx(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ge(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ge(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ge(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fm{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ge(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ge(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new P3;switch(r.type){case"firstParty":return new V8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ge(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=YA.get(t);r&&(Qe(lD,"Removing Datastore"),YA.delete(t),r.terminate())})(this),Promise.resolve()}}function Jx(n,e,t,r={}){n=_n(n,fm);const s=gc(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;s&&(T1(`https://${c}`),i_("Firestore",!0)),o.host!==Xx&&o.host!==c&&ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:c,ssl:s,emulatorOptions:r};if(!ko(f,u)&&(n._setSettings(f),r.mockUserToken)){let d,g;if(typeof r.mockUserToken=="string")d=r.mockUserToken,g=Xi.MOCK_USER;else{d=OE(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Ge(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Xi(w)}n._authCredentials=new P8(new D3(d,g))}}class Oi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oi(this.firestore,e,this._query)}}class tr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}toJSON(){return{type:tr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(wh(t,tr._jsonSchema))return new tr(e,r||null,new tt(yn.fromString(t.referencePath)))}}tr._jsonSchemaVersion="firestore/documentReference/1.0",tr._jsonSchema={type:bi("string",tr._jsonSchemaVersion),referencePath:bi("string")};class Co extends Oi{constructor(e,t,r){super(e,t,cd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new tt(e))}withConverter(e){return new Co(this.firestore,e,this._path)}}function _d(n,e,...t){if(n=rr(n),y_("collection","path",e),n instanceof fm){const r=yn.fromString(e,...t);return Uw(r),new Co(n,null,r)}{if(!(n instanceof tr||n instanceof Co))throw new Ge(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yn.fromString(e,...t));return Uw(r),new Co(n.firestore,null,r)}}function cD(n,e){if(n=_n(n,fm),y_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Oi(n,null,(function(r){return new lu(yn.emptyPath(),r)})(e))}function _l(n,e,...t){if(n=rr(n),arguments.length===1&&(e=C1.newId()),y_("doc","path",e),n instanceof fm){const r=yn.fromString(e,...t);return jw(r),new tr(n,null,new tt(r))}{if(!(n instanceof tr||n instanceof Co))throw new Ge(Ce.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yn.fromString(e,...t));return jw(r),new tr(n.firestore,n instanceof Co?n.converter:null,new tt(r))}}function hD(n,e){return n=rr(n),e=rr(e),(n instanceof tr||n instanceof Co)&&(e instanceof tr||e instanceof Co)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function c5(n,e){return n=rr(n),e=rr(e),n instanceof Oi&&e instanceof Oi&&n.firestore===e.firestore&&am(n._query,e._query)&&n.converter===e.converter}const JA="AsyncQueue";class ZA{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new G_(this,"async_queue_retry"),this._c=()=>{const r=qg();r&&Qe(JA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=qg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=qg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!bc(e))throw e;Qe(JA,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ui("INTERNAL UNHANDLED ERROR: ",e4(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Y_.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&ut(47125,{Pc:e4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function e4(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Zx{constructor(){this._progressObserver={},this._taskCompletionResolver=new es,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const fD=-1;class fr extends fm{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new ZA,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZA(e),this._firestoreClient=void 0,await e}}}function dD(n,e,t){t||(t=qp);const r=od(n,"firestore");if(r.isInitialized(t)){const s=r.getImmediate({identifier:t}),o=r.getOptions(t);if(ko(o,e))return s;throw new Ge(Ce.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Ge(Ce.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lx)throw new Ge(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&gc(e.host)&&T1(e.host),r.initialize({options:e,instanceIdentifier:t})}function X1(n,e){const t=typeof n=="object"?n:o_(),r=typeof n=="string"?n:e||qp,s=od(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=kE("firestore");o&&Jx(s,...o)}return s}function Vr(n){if(n._terminated)throw new Ge(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||eT(n),n._firestoreClient}function eT(n){const e=n._freezeSettings(),t=uD(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new $k(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}function pD(n,e){ga("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return tT(n,dc.provider,{build:r=>new o5(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function mD(n){ga("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();tT(n,dc.provider,{build:t=>new zx(t,e.cacheSizeBytes)})}function tT(n,e,t){if((n=_n(n,fr))._firestoreClient||n._terminated)throw new Ge(Ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new Ge(Ce.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},eT(n)}function gD(n){if(n._initialized&&!n._terminated)throw new Ge(Ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new es;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!ml.v())return Promise.resolve();const s=r+px;await ml.delete(s)})(B_(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function yD(n){return(function(t){const r=new es;return t.asyncQueue.enqueueAndForget((async()=>Lk(await u5(t),r))),r.promise})(Vr(n=_n(n,fr)))}function _D(n){return Wk(Vr(n=_n(n,fr)))}function vD(n){return Yk(Vr(n=_n(n,fr)))}function bD(n){return iR(n.app,"firestore",n._databaseId.database),n._delete()}function Hy(n,e){const t=Vr(n=_n(n,fr)),r=new Zx;return rD(t,n._databaseId,e,r),r}function nT(n,e){return iD(Vr(n=_n(n,fr)),e).then((t=>t?new Oi(n,null,t.query):null))}class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(Hr.fromBase64String(e))}catch(t){throw new Ge(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ua(Hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ua._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wh(e,ua._jsonSchema))return ua.fromBase64String(e.bytes)}}ua._jsonSchemaVersion="firestore/bytes/1.0",ua._jsonSchema={type:bi("string",ua._jsonSchemaVersion),bytes:bi("string")};class Eh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ge(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function wD(){return new Eh(vy)}class Sc{constructor(e){this._methodName=e}}class Lo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ge(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ge(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Lo._jsonSchemaVersion}}static fromJSON(e){if(wh(e,Lo._jsonSchema))return new Lo(e.latitude,e.longitude)}}Lo._jsonSchemaVersion="firestore/geoPoint/1.0",Lo._jsonSchema={type:bi("string",Lo._jsonSchemaVersion),latitude:bi("number"),longitude:bi("number")};class Ma{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ma._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wh(e,Ma._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ma(e.vectorValues);throw new Ge(Ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ma._jsonSchemaVersion="firestore/vectorValue/1.0",Ma._jsonSchema={type:bi("string",Ma._jsonSchemaVersion),vectorValues:bi("object")};const AD=/^__.*__$/;class ED{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new cu(e,this.data,this.fieldMask,t,this.fieldTransforms):new hd(e,this.data,t,this.fieldTransforms)}}class rT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new cu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function iT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut(40011,{dataSource:n})}}class J1{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new J1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return _1(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(iT(this.dataSource)&&AD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class SD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ah(e)}createContext(e,t,r,s=!1){return new J1({dataSource:e,methodName:t,targetDoc:r,path:Tr.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sh(n){const e=n._freezeSettings(),t=Ah(n._databaseId);return new SD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Z1(n,e,t,r,s,o={}){const u=n.createContext(o.merge||o.mergeFields?2:0,e,t,s);y5("Data must be an object, but it was:",u,r);const c=oT(r,u);let f,d;if(o.merge)f=new ha(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const w of o.mergeFields){const E=ou(e,w,t);if(!u.contains(E))throw new Ge(Ce.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);uT(g,E)||g.push(E)}f=new ha(g),d=u.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,d=u.fieldTransforms;return new ED(new Zi(c),f,d)}class dm extends Sc{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dm}}function sT(n,e,t){return new J1({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class h5 extends Sc{_toFieldTransform(e){return new lm(e.path,new Qf)}isEqual(e){return e instanceof h5}}class f5 extends Sc{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=sT(this,e,!0),r=this.Ac.map((o=>xh(o,t))),s=new uh(r);return new lm(e.path,s)}isEqual(e){return e instanceof f5&&ko(this.Ac,e.Ac)}}class d5 extends Sc{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=sT(this,e,!0),r=this.Ac.map((o=>xh(o,t))),s=new ch(r);return new lm(e.path,s)}isEqual(e){return e instanceof d5&&ko(this.Ac,e.Ac)}}class p5 extends Sc{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new Xf(e.serializer,RS(e.serializer,this.Vc));return new lm(e.path,t)}isEqual(e){return e instanceof p5&&this.Vc===e.Vc}}function m5(n,e,t,r){const s=n.createContext(1,e,t);y5("Data must be an object, but it was:",s,r);const o=[],u=Zi.empty();wc(r,((f,d)=>{const g=_5(e,f,t);d=rr(d);const w=s.childContextForFieldPath(g);if(d instanceof dm)o.push(g);else{const E=xh(d,w);E!=null&&(o.push(g),u.set(g,E))}}));const c=new ha(o);return new rT(u,c,s.fieldTransforms)}function g5(n,e,t,r,s,o){const u=n.createContext(1,e,t),c=[ou(e,r,t)],f=[s];if(o.length%2!=0)throw new Ge(Ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)c.push(ou(e,o[E])),f.push(o[E+1]);const d=[],g=Zi.empty();for(let E=c.length-1;E>=0;--E)if(!uT(d,c[E])){const b=c[E];let V=f[E];V=rr(V);const M=u.childContextForFieldPath(b);if(V instanceof dm)d.push(b);else{const B=xh(V,M);B!=null&&(d.push(b),g.set(b,B))}}const w=new ha(d);return new rT(g,w,u.fieldTransforms)}function aT(n,e,t,r=!1){return xh(t,n.createContext(r?4:3,e))}function xh(n,e){if(lT(n=rr(n)))return y5("Unsupported field value:",e,n),oT(n,e);if(n instanceof Sc)return(function(r,s){if(!iT(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const o=[];let u=0;for(const c of r){let f=xh(c,s.childContextForArray(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=rr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RS(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=$n.fromDate(r);return{timestampValue:Jf(s.serializer,o)}}if(r instanceof $n){const o=new $n(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jf(s.serializer,o)}}if(r instanceof Lo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ua)return{bytesValue:qS(s.serializer,r._byteString)};if(r instanceof tr){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:O_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ma)return(function(u,c){const f=u instanceof Ma?u.toArray():u;return{mapValue:{fields:{[S_]:{stringValue:x_},[$f]:{arrayValue:{values:f.map((g=>{if(typeof g!="number")throw c.createError("VectorValues must only contain numeric values.");return R_(c.serializer,g)}))}}}}}})(r,s);if(ZS(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${L1(r)}`)})(n,e)}function oT(n,e){const t={};return nS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wc(n,((r,s)=>{const o=xh(s,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function lT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof $n||n instanceof Lo||n instanceof ua||n instanceof tr||n instanceof Sc||n instanceof Ma||ZS(n))}function y5(n,e,t){if(!lT(t)||!V3(t)){const r=L1(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function ou(n,e,t){if((e=rr(e))instanceof Eh)return e._internalPath;if(typeof e=="string")return _5(n,e);throw _1("Field path arguments must be of type string or ",n,!1,void 0,t)}const xD=new RegExp("[~\\*/\\[\\]]");function _5(n,e,t){if(e.search(xD)>=0)throw _1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Eh(...e.split("."))._internalPath}catch{throw _1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _1(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new Ge(Ce.INVALID_ARGUMENT,c+n+f)}function uT(n,e){return n.some((t=>t.isEqual(e)))}class v5{convertValue(e,t="none"){switch(uc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(au(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ut(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return wc(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[$f].arrayValue?.values?.map((r=>Or(r.doubleValue)));return new Ma(t)}convertGeoPoint(e){return new Lo(Or(e.latitude),Or(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=V1(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bp(e));default:return null}}convertTimestamp(e){const t=su(e);return new $n(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=yn.fromString(e);vt(JS(r),9688,{name:e});const s=new lc(r.get(1),r.get(3)),o=new tt(r.popFirst(5));return s.isEqual(t)||ui(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class xc extends v5{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}function TD(){return new dm("deleteField")}function ID(){return new h5("serverTimestamp")}function ND(...n){return new f5("arrayUnion",n)}function RD(...n){return new d5("arrayRemove",n)}function CD(n){return new p5("increment",n)}function LD(n){return new Ma(n)}function kD(n){const e=Vr(_n(n.firestore,fr)),t=e._onlineComponents?.datastore.serializer;return t===void 0?null:q1(t,Ls(n._query)).ft}function DD(n,e){const t=tS(e,((o,u)=>new MS(u,o.aggregateType,o._internalFieldPath))),r=Vr(_n(n.firestore,fr)),s=r._onlineComponents?.datastore.serializer;return s===void 0?null:WS(s,bS(n._query),t,!0).request}const t4="@firebase/firestore",n4="4.11.0";function Pf(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class sd{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class cT{constructor(e,t,r){this._userDataWriter=t,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new Zi({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class Wp{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(ou("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class PD extends Wp{data(){return super.data()}}function hT(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ge(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b5{}class vd extends b5{}function w5(n,e,...t){let r=[];e instanceof b5&&r.push(e),r=r.concat(t),(function(o){const u=o.filter((f=>f instanceof Th)).length,c=o.filter((f=>f instanceof bd)).length;if(u>1||u>0&&c>0)throw new Ge(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class bd extends vd{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new bd(e,t,r)}_apply(e){const t=this._parse(e);return dT(e._query,t),new Oi(e.firestore,e.converter,Cy(e._query,t))}_parse(e){const t=Sh(e.firestore);return(function(o,u,c,f,d,g,w){let E;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Ge(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){i4(w,g);const V=[];for(const M of w)V.push(r4(f,o,M));E={arrayValue:{values:V}}}else E=r4(f,o,w)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||i4(w,g),E=aT(c,u,w,g==="in"||g==="not-in");return Tn.create(d,g,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function OD(n,e,t){const r=e,s=ou("where",n);return bd._create(s,r,t)}class Th extends b5{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Th(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let u=s;const c=o.getFlattenedFilters();for(const f of c)dT(u,f),u=Cy(u,f)})(e._query,t),new Oi(e.firestore,e.converter,Cy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function MD(...n){return n.forEach((e=>pT("or",e))),Th._create("or",n)}function VD(...n){return n.forEach((e=>pT("and",e))),Th._create("and",n)}class e0 extends vd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new e0(e,t)}_apply(e){const t=(function(s,o,u){if(s.startAt!==null)throw new Ge(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Ge(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gp(o,u)})(e._query,this._field,this._direction);return new Oi(e.firestore,e.converter,VL(e._query,t))}}function A5(n,e="asc"){const t=e,r=ou("orderBy",n);return e0._create(r,t)}class pm extends vd{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new pm(e,t,r)}_apply(e){return new Oi(e.firestore,e.converter,u1(e._query,this._limit,this._limitType))}}function jD(n){return j3("limit",n),pm._create("limit",n,"F")}function UD(n){return j3("limitToLast",n),pm._create("limitToLast",n,"L")}class mm extends vd{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new mm(e,t,r)}_apply(e){const t=fT(e,this.type,this._docOrFields,this._inclusive);return new Oi(e.firestore,e.converter,jL(e._query,t))}}function FD(...n){return mm._create("startAt",n,!0)}function BD(...n){return mm._create("startAfter",n,!1)}class gm extends vd{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new gm(e,t,r)}_apply(e){const t=fT(e,this.type,this._docOrFields,this._inclusive);return new Oi(e.firestore,e.converter,UL(e._query,t))}}function qD(...n){return gm._create("endBefore",n,!1)}function zD(...n){return gm._create("endAt",n,!0)}function fT(n,e,t,r){if(t[0]=rr(t[0]),t[0]instanceof Wp)return(function(o,u,c,f,d){if(!f)throw new Ge(Ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const g=[];for(const w of kf(o))if(w.field.isKeyField())g.push(oh(u,f.key));else{const E=f.data.field(w.field);if(M1(E))throw new Ge(Ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const b=w.field.canonicalString();throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}g.push(E)}return new hc(g,d)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Sh(n.firestore);return(function(u,c,f,d,g,w){const E=u.explicitOrderBy;if(g.length>E.length)throw new Ge(Ce.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let V=0;V<g.length;V++){const M=g[V];if(E[V].field.isKeyField()){if(typeof M!="string")throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof M}`);if(!I_(u)&&M.indexOf("/")!==-1)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${M}' contains a slash.`);const B=u.path.child(yn.fromString(M));if(!tt.isDocumentKey(B))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${B}' is not because it contains an odd number of segments.`);const U=new tt(B);b.push(oh(c,U))}else{const B=aT(f,d,M);b.push(B)}}return new hc(b,w)})(n._query,n.firestore._databaseId,s,e,t,r)}}function r4(n,e,t){if(typeof(t=rr(t))=="string"){if(t==="")throw new Ge(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!I_(e)&&t.indexOf("/")!==-1)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(yn.fromString(t));if(!tt.isDocumentKey(r))throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return oh(n,new tt(r))}if(t instanceof tr)return oh(n,t._key);throw new Ge(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${L1(t)}.`)}function i4(n,e){if(!Array.isArray(n)||n.length===0)throw new Ge(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dT(n,e){const t=(function(s,o){for(const u of s)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ge(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ge(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function pT(n,e){if(!(e instanceof bd||e instanceof Th))throw new Ge(Ce.INVALID_ARGUMENT,`Function ${n}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}function t0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class E5 extends v5{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}function HD(n){return new sd("sum",ou("sum",n))}function GD(n){return new sd("avg",ou("average",n))}function mT(){return new sd("count")}function KD(n,e){return n instanceof sd&&e instanceof sd&&n.aggregateType===e.aggregateType&&n._internalFieldPath?.canonicalString()===e._internalFieldPath?.canonicalString()}function $D(n,e){return c5(n.query,e.query)&&ko(n.data(),e.data())}function WD(n){return gT(n,{count:mT()})}function gT(n,e){const t=_n(n.firestore,fr),r=Vr(t),s=tS(e,((o,u)=>new MS(u,o.aggregateType,o._internalFieldPath)));return Zk(r,n._query,s).then((o=>(function(c,f,d){const g=new xc(c);return new cT(f,g,d)})(t,n,o)))}class YD{constructor(e){this.kind="memory",this._onlineComponentProvider=dc.provider,this._offlineComponentProvider=e?.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new a5(void 0)}}toJSON(){return{kind:this.kind}}}class QD{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=yT(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class XD{constructor(){this.kind="memoryEager",this._offlineComponentProvider=rd.provider}toJSON(){return{kind:this.kind}}}class JD{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new a5(e)}}toJSON(){return{kind:this.kind}}}function ZD(){return new XD}function eP(n){return new JD(n?.cacheSizeBytes)}function tP(n){return new YD(n)}function nP(n){return new QD(n)}class rP{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=dc.provider,this._offlineComponentProvider={build:t=>new o5(t,e?.cacheSizeBytes,this.forceOwnership)}}}class iP{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=dc.provider,this._offlineComponentProvider={build:t=>new zx(t,e?.cacheSizeBytes)}}}function yT(n){return new rP(n?.forceOwnership)}function sP(){return new iP}const _T="NOT SUPPORTED";class tu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class da extends Wp{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ou("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(Ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=da._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}function aP(n,e,t){if(wh(e,da._jsonSchema)){if(e.bundle===_T)throw new Ge(Ce.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=Ah(n._databaseId),s=Yx(e.bundle,r),o=s.t(),u=new e5(s.getMetadata(),r);for(const g of o)u.o(g);const c=u.documents;if(c.length!==1)throw new Ge(Ce.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${c.length} documents.`);const f=B1(r,c[0].document),d=new tt(yn.fromString(e.bundleName));return new da(n,new E5(n),d,f,new tu(!1,!1),t||null)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:bi("string",da._jsonSchemaVersion),bundleSource:bi("string","DocumentSnapshot"),bundleName:bi("string"),bundle:bi("string")};class Lp extends da{data(e={}){return super.data(e)}}class pa{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new tu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Lp(this._firestore,this._userDataWriter,r.key,r,new tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ge(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((c=>{const f=new Lp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new tu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const f=new Lp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new tu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,g=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),g=u.indexOf(c.doc.key)),{type:lP(c.type),doc:f,oldIndex:d,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(Ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=C1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oP(n,e,t){if(wh(e,pa._jsonSchema)){if(e.bundle===_T)throw new Ge(Ce.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=Ah(n._databaseId),s=Yx(e.bundle,r),o=s.t(),u=new e5(s.getMetadata(),r);for(const E of o)u.o(E);if(u.queries.length!==1)throw new Ge(Ce.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${u.queries.length} queries.`);const c=z1(u.queries[0].bundledQuery),f=u.documents;let d=new nh;f.map((E=>{const b=B1(r,E.document);d=d.add(b)}));const g=mh.fromInitialDocuments(c,d,ln(),!1,!1),w=new Oi(n,t||null,c);return new pa(n,new E5(n),w,g)}}function lP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut(61501,{type:n})}}function uP(n,e){return n instanceof da&&e instanceof da?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof pa&&e instanceof pa&&n._firestore===e._firestore&&c5(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}pa._jsonSchemaVersion="firestore/querySnapshot/1.0",pa._jsonSchema={type:bi("string",pa._jsonSchemaVersion),bundleSource:bi("string","QuerySnapshot"),bundleName:bi("string"),bundle:bi("string")};const cP={maxAttempts:5};class vT{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Sh(e)}set(e,t,r){this._verifyNotCommitted();const s=ec(e,this._firestore),o=t0(s.converter,t,r),u=Z1(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,Mr.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const o=ec(e,this._firestore);let u;return u=typeof(t=rr(t))=="string"||t instanceof Eh?g5(this._dataReader,"WriteBatch.update",o._key,t,r,s):m5(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,Mr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ec(e,this._firestore);return this._mutations=this._mutations.concat(new fd(t._key,Mr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ge(Ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ec(n,e){if((n=rr(n)).firestore!==e)throw new Ge(Ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class hP{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Sh(e)}get(e){const t=ec(e,this._firestore),r=new E5(this._firestore);return this._transaction.lookup([t._key]).then((s=>{if(!s||s.length!==1)return ut(24041);const o=s[0];if(o.isFoundDocument())return new Wp(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new Wp(this._firestore,r,t._key,null,t.converter);throw ut(18433,{doc:o})}))}set(e,t,r){const s=ec(e,this._firestore),o=t0(s.converter,t,r),u=Z1(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,u),this}update(e,t,r,...s){const o=ec(e,this._firestore);let u;return u=typeof(t=rr(t))=="string"||t instanceof Eh?g5(this._dataReader,"Transaction.update",o._key,t,r,s):m5(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=ec(e,this._firestore);return this._transaction.delete(t._key),this}}class bT extends hP{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ec(e,this._firestore),r=new xc(this._firestore);return super.get(e).then((s=>new da(this._firestore,r,t._key,s._document,new tu(!1,!1),t.converter)))}}function fP(n,e,t){n=_n(n,fr);const r={...cP,...t};(function(u){if(u.maxAttempts<1)throw new Ge(Ce.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const s=Vr(n);return nD(s,(o=>e(new bT(n,o))),r)}function S5(n){n=_n(n,tr);const e=_n(n.firestore,fr),t=Vr(e);return $x(t,n._key).then((r=>I5(e,n,r)))}function dP(n){n=_n(n,tr);const e=_n(n.firestore,fr),t=Vr(e),r=new xc(e);return Xk(t,n._key).then((s=>new da(e,r,n._key,s,new tu(s!==null&&s.hasLocalMutations,!0),n.converter)))}function pP(n){n=_n(n,tr);const e=_n(n.firestore,fr),t=Vr(e);return $x(t,n._key,{source:"server"}).then((r=>I5(e,n,r)))}function n0(n){n=_n(n,Oi);const e=_n(n.firestore,fr),t=Vr(e),r=new xc(e);return hT(n._query),Wx(t,n._query).then((s=>new pa(e,r,n,s)))}function mP(n){n=_n(n,Oi);const e=_n(n.firestore,fr),t=Vr(e),r=new xc(e);return Jk(t,n._query).then((s=>new pa(e,r,n,s)))}function gP(n){n=_n(n,Oi);const e=_n(n.firestore,fr),t=Vr(e),r=new xc(e);return Wx(t,n._query,{source:"server"}).then((s=>new pa(e,r,n,s)))}function x5(n,e,t){n=_n(n,tr);const r=_n(n.firestore,fr),s=t0(n.converter,e,t),o=Sh(r);return wd(r,[Z1(o,"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Mr.none())])}function r0(n,e,t,...r){n=_n(n,tr);const s=_n(n.firestore,fr),o=Sh(s);let u;return u=typeof(e=rr(e))=="string"||e instanceof Eh?g5(o,"updateDoc",n._key,e,t,r):m5(o,"updateDoc",n._key,e),wd(s,[u.toMutation(n._key,Mr.exists(!0))])}function wT(n){return wd(_n(n.firestore,fr),[new fd(n._key,Mr.none())])}function T5(n,e){const t=_n(n.firestore,fr),r=_l(n),s=t0(n.converter,e),o=Sh(n.firestore);return wd(t,[Z1(o,"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Mr.exists(!1))]).then((()=>r))}function Gy(n,...e){n=rr(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Pf(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Pf(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,u,c;if(n instanceof tr)u=_n(n.firestore,fr),c=cd(n._key.path),o={next:d=>{e[r]&&e[r](I5(u,n,d))},error:e[r+1],complete:e[r+2]};else{const d=_n(n,Oi);u=_n(d.firestore,fr),c=d._query;const g=new xc(u);o={next:w=>{e[r]&&e[r](new pa(u,g,d,w))},error:e[r+1],complete:e[r+2]},hT(n._query)}const f=Vr(u);return Qk(f,c,s,o)}function yP(n,e,...t){const r=rr(n),s=(function(f){const d={bundle:"",bundleName:"",bundleSource:""},g=["bundle","bundleName","bundleSource"];for(const w of g){if(!(w in f)){d.error=`snapshotJson missing required field: ${w}`;break}const E=f[w];if(typeof E!="string"){d.error=`snapshotJson field '${w}' must be a string.`;break}if(E.length===0){d.error=`snapshotJson field '${w}' cannot be an empty string.`;break}w==="bundle"?d.bundle=E:w==="bundleName"?d.bundleName=E:w==="bundleSource"&&(d.bundleSource=E)}return d})(e);if(s.error)throw new Ge(Ce.INVALID_ARGUMENT,s.error);let o,u=0;if(typeof t[u]!="object"||Pf(t[u])||(o=t[u++]),s.bundleSource==="QuerySnapshot"){let c=null;if(typeof t[u]=="object"&&Pf(t[u])){const f=t[u++];c={next:f.next,error:f.error,complete:f.complete}}else c={next:t[u++],error:t[u++],complete:t[u++]};return(function(d,g,w,E,b){let V,M=!1;return Hy(d,g.bundle).then((()=>nT(d,g.bundleName))).then((U=>{U&&!M&&(b&&U.withConverter(b),V=Gy(U,w||{},E))})).catch((U=>(E.error&&E.error(U),()=>{}))),()=>{M||(M=!0,V&&V())}})(r,s,o,c,t[u])}if(s.bundleSource==="DocumentSnapshot"){let c=null;if(typeof t[u]=="object"&&Pf(t[u])){const f=t[u++];c={next:f.next,error:f.error,complete:f.complete}}else c={next:t[u++],error:t[u++],complete:t[u++]};return(function(d,g,w,E,b){let V,M=!1;return Hy(d,g.bundle).then((()=>{if(!M){const U=new tr(d,b||null,tt.fromPath(g.bundleName));V=Gy(U,w||{},E)}})).catch((U=>(E.error&&E.error(U),()=>{}))),()=>{M||(M=!0,V&&V())}})(r,s,o,c,t[u])}throw new Ge(Ce.INVALID_ARGUMENT,`unsupported bundle source: ${s.bundleSource}`)}function _P(n,e){n=_n(n,fr);const t=Vr(n),r=Pf(e)?e:{next:e};return tD(t,r)}function wd(n,e){const t=Vr(n);return eD(t,e)}function I5(n,e,t){const r=t.docs.get(e._key),s=new xc(n);return new da(n,s,e._key,r,new tu(t.hasPendingWrites,t.fromCache),e.converter)}function vP(n){return n=_n(n,fr),Vr(n),new vT(n,(e=>wd(n,e)))}function bP(n,e){n=_n(n,fr);const t=Vr(n);if(!t._uninitializedComponentsProvider||t._uninitializedComponentsProvider._offline.kind==="memory")return ga("Cannot enable indexes when persistence is disabled"),Promise.resolve();const r=(function(o){const u=typeof o=="string"?(function(d){try{return JSON.parse(d)}catch(g){throw new Ge(Ce.INVALID_ARGUMENT,"Failed to parse JSON: "+g?.message)}})(o):o,c=[];if(Array.isArray(u.indexes))for(const f of u.indexes){const d=s4(f,"collectionGroup"),g=[];if(Array.isArray(f.fields))for(const w of f.fields){const E=s4(w,"fieldPath"),b=_5("setIndexConfiguration",E);w.arrayConfig==="CONTAINS"?g.push(new eh(b,2)):w.order==="ASCENDING"?g.push(new eh(b,0)):w.order==="DESCENDING"&&g.push(new eh(b,1))}c.push(new Bf(Bf.UNKNOWN_ID,d,g,qf.empty()))}return c})(e);return sD(t,r)}function s4(n,e){if(typeof n[e]!="string")throw new Ge(Ce.INVALID_ARGUMENT,"Missing string value for: "+e);return n[e]}class AT{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function wP(n){n=_n(n,fr);const e=a4.get(n);if(e)return e;if(Vr(n)._uninitializedComponentsProvider?._offline.kind!=="persistent")return null;const r=new AT(n);return a4.set(n,r),r}function AP(n){ET(n,!0)}function EP(n){ET(n,!1)}function SP(n){const e=Vr(n._firestore);oD(e).then((t=>Qe("deleting all persistent cache indexes succeeded"))).catch((t=>ga("deleting all persistent cache indexes failed",t)))}function ET(n,e){const t=Vr(n._firestore);aD(t,e).then((r=>Qe(`setting persistent cache index auto creation isEnabled=${e} succeeded`))).catch((r=>ga(`setting persistent cache index auto creation isEnabled=${e} failed`,r)))}const a4=new WeakMap;class xP{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return N5.instance.onExistenceFilterMismatch(e)}}class N5{constructor(){this.i=new Map}static get instance(){return vg||(vg=new N5,JL(vg)),vg}u(e){this.i.forEach((t=>t(e)))}onExistenceFilterMismatch(e){const t=Symbol(),r=this.i;return r.set(t,e),()=>r.delete(t)}}let vg=null;(function(e,t=!0){L8(vh),ih(new ac("firestore",((r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new fr(new O8(r.getProvider("auth-internal")),new j8(u,r.getProvider("app-check-internal")),xL(u,s),u);return o={useFetchStreams:t,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),fl(t4,n4,e),fl(t4,n4,"esm2020")})();const R5=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:v5,AggregateField:sd,AggregateQuerySnapshot:cT,Bytes:ua,CACHE_SIZE_UNLIMITED:fD,CollectionReference:Co,DocumentReference:tr,DocumentSnapshot:da,FieldPath:Eh,FieldValue:Sc,Firestore:fr,FirestoreError:Ge,GeoPoint:Lo,LoadBundleTask:Zx,PersistentCacheIndexManager:AT,Query:Oi,QueryCompositeFilterConstraint:Th,QueryConstraint:vd,QueryDocumentSnapshot:Lp,QueryEndAtConstraint:gm,QueryFieldFilterConstraint:bd,QueryLimitConstraint:pm,QueryOrderByConstraint:e0,QuerySnapshot:pa,QueryStartAtConstraint:mm,SnapshotMetadata:tu,Timestamp:$n,Transaction:bT,VectorValue:Ma,WriteBatch:vT,_AutoId:C1,_ByteString:Hr,_DatabaseId:lc,_DocumentKey:tt,_EmptyAppCheckTokenProvider:U8,_EmptyAuthCredentialsProvider:P3,_FieldPath:Tr,_TestingHooks:xP,_cast:_n,_debugAssert:D8,_internalAggregationQueryToProtoRunAggregationQueryRequest:DD,_internalQueryToProtoQueryTarget:kD,_isBase64Available:AL,_logWarn:ga,_validateIsNotUsedTogether:M3,addDoc:T5,aggregateFieldEqual:KD,aggregateQuerySnapshotEqual:$D,and:VD,arrayRemove:RD,arrayUnion:ND,average:GD,clearIndexedDbPersistence:gD,collection:_d,collectionGroup:cD,connectFirestoreEmulator:Jx,count:mT,deleteAllPersistentCacheIndexes:SP,deleteDoc:wT,deleteField:TD,disableNetwork:vD,disablePersistentCacheIndexAutoCreation:EP,doc:_l,documentId:wD,documentSnapshotFromJSON:aP,enableIndexedDbPersistence:pD,enableMultiTabIndexedDbPersistence:mD,enableNetwork:_D,enablePersistentCacheIndexAutoCreation:AP,endAt:zD,endBefore:qD,ensureFirestoreConfigured:Vr,executeWrite:wd,getAggregateFromServer:gT,getCountFromServer:WD,getDoc:S5,getDocFromCache:dP,getDocFromServer:pP,getDocs:n0,getDocsFromCache:mP,getDocsFromServer:gP,getFirestore:X1,getPersistentCacheIndexManager:wP,increment:CD,initializeFirestore:dD,limit:jD,limitToLast:UD,loadBundle:Hy,memoryEagerGarbageCollector:ZD,memoryLocalCache:tP,memoryLruGarbageCollector:eP,namedQuery:nT,onSnapshot:Gy,onSnapshotResume:yP,onSnapshotsInSync:_P,or:MD,orderBy:A5,persistentLocalCache:nP,persistentMultipleTabManager:sP,persistentSingleTabManager:yT,query:w5,queryEqual:c5,querySnapshotFromJSON:oP,refEqual:hD,runTransaction:fP,serverTimestamp:ID,setDoc:x5,setIndexConfiguration:bP,setLogLevel:k8,snapshotEqual:uP,startAfter:BD,startAt:FD,sum:HD,terminate:bD,updateDoc:r0,vector:LD,waitForPendingWrites:yD,where:OD,writeBatch:vP},Symbol.toStringTag,{value:"Module"}));var TP="firebase",IP="12.9.0";fl(TP,IP,"app");const ST="firebasestorage.googleapis.com",NP="storageBucket",RP=120*1e3,CP=600*1e3;class wl extends bl{constructor(e,t,r=0){super(F2(e),`Firebase Storage: ${t} (${F2(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wl.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return F2(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vl;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vl||(vl={}));function F2(n){return"storage/"+n}function LP(){const n="An unknown error occurred, please check the error payload for server response.";return new wl(vl.UNKNOWN,n)}function kP(){return new wl(vl.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DP(){return new wl(vl.CANCELED,"User canceled the upload/download.")}function PP(n){return new wl(vl.INVALID_URL,"Invalid URL '"+n+"'.")}function OP(n){return new wl(vl.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function o4(n){return new wl(vl.INVALID_ARGUMENT,n)}function xT(){return new wl(vl.APP_DELETED,"The Firebase app was deleted.")}function MP(n){return new wl(vl.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ro{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ro.makeFromUrl(e,t)}catch{return new Ro(e,"")}if(r.path==="")return r;throw OP(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const u="(/(.*))?$",c=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function d(ee){ee.path_=decodeURIComponent(ee.path)}const g="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",b=new RegExp(`^https?://${w}/${g}/b/${s}/o${E}`,"i"),V={bucket:1,path:3},M=t===ST?"(?:storage.googleapis.com|storage.cloud.google.com)":t,B="([^?#]*)",U=new RegExp(`^https?://${M}/${s}/${B}`,"i"),Y=[{regex:c,indices:f,postModify:o},{regex:b,indices:V,postModify:d},{regex:U,indices:{bucket:1,path:2},postModify:d}];for(let ee=0;ee<Y.length;ee++){const ge=Y[ee],be=ge.regex.exec(e);if(be){const H=be[ge.indices.bucket];let O=be[ge.indices.path];O||(O=""),r=new Ro(H,O),ge.postModify(r);break}}if(r==null)throw PP(e);return r}}class VP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function jP(n,e,t){let r=1,s=null,o=null,u=!1,c=0;function f(){return c===2}let d=!1;function g(...B){d||(d=!0,e.apply(null,B))}function w(B){s=setTimeout(()=>{s=null,n(b,f())},B)}function E(){o&&clearTimeout(o)}function b(B,...U){if(d){E();return}if(B){E(),g.call(null,B,...U);return}if(f()||u){E(),g.call(null,B,...U);return}r<64&&(r*=2);let Y;c===1?(c=2,Y=0):Y=(r+Math.random())*1e3,w(Y)}let V=!1;function M(B){V||(V=!0,E(),!d&&(s!==null?(B||(c=2),clearTimeout(s),w(0)):B||(c=1)))}return w(0),o=setTimeout(()=>{u=!0,M(!0)},t),M}function UP(n){n(!1)}function FP(n){return n!==void 0}function l4(n,e,t,r){if(r<e)throw o4(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw o4(`Invalid value for '${n}'. Expected ${t} or less.`)}function BP(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var v1;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(v1||(v1={}));function qP(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}class zP{constructor(e,t,r,s,o,u,c,f,d,g,w,E=!0,b=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=c,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=g,this.connectionFactory_=w,this.retry=E,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,M)=>{this.resolve_=V,this.reject_=M,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new bg(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=c=>{const f=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const c=o.getErrorCode()===v1.NO_ERROR,f=o.getStatus();if(!c||qP(f,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===v1.ABORT;r(!1,new bg(!1,null,g));return}const d=this.successCodes_.indexOf(f)!==-1;r(!0,new bg(d,o))})},t=(r,s)=>{const o=this.resolve_,u=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(c,c.getResponse());FP(f)?o(f):o()}catch(f){u(f)}else if(c!==null){const f=LP();f.serverResponse=c.getErrorText(),this.errorCallback_?u(this.errorCallback_(c,f)):u(f)}else if(s.canceled){const f=this.appDelete_?xT():DP();u(f)}else{const f=kP();u(f)}};this.canceled_?t(!1,new bg(!1,null,!0)):this.backoffId_=jP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&UP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bg{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function HP(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function GP(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function KP(n,e){e&&(n["X-Firebase-GMPID"]=e)}function $P(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function WP(n,e,t,r,s,o,u=!0,c=!1){const f=BP(n.urlParams),d=n.url+f,g=Object.assign({},n.headers);return KP(g,e),HP(g,t),GP(g,o),$P(g,r),new zP(d,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u,c)}function YP(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function QP(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}class b1{constructor(e,t){this._service=e,t instanceof Ro?this._location=t:this._location=Ro.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new b1(e,t)}get root(){const e=new Ro(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return QP(this._location.path)}get storage(){return this._service}get parent(){const e=YP(this._location.path);if(e===null)return null;const t=new Ro(this._location.bucket,e);return new b1(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw MP(e)}}function u4(n,e){const t=e?.[NP];return t==null?null:Ro.makeFromBucketSpec(t,n)}function XP(n,e,t,r={}){n.host=`${e}:${t}`;const s=gc(e);s&&(T1(`https://${n.host}/b`),i_("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:OE(o,n.app.options.projectId))}class JP{constructor(e,t,r,s,o,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=ST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RP,this._maxUploadRetryTime=CP,this._requests=new Set,s!=null?this._bucket=Ro.makeFromBucketSpec(s,this._host):this._bucket=u4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ro.makeFromBucketSpec(this._url,e):this._bucket=u4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){l4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){l4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Pa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new b1(this,e)}_makeRequest(e,t,r,s,o=!0){if(this._deleted)return new VP(xT());{const u=WP(e,this._appId,r,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const c4="@firebase/storage",h4="0.14.0";const TT="storage";function ZP(n=o_(),e){n=rr(n);const r=od(n,TT).getImmediate({identifier:e}),s=kE("storage");return s&&eO(r,...s),r}function eO(n,e,t,r={}){XP(n,e,t,r)}function tO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new JP(t,r,s,e,vh)}function nO(){ih(new ac(TT,tO,"PUBLIC").setMultipleInstances(!0)),fl(c4,h4,""),fl(c4,h4,"esm2020")}nO();const rO={apiKey:"AIzaSyAxtqgI507-TarutOEsvtL3R6-TZppLSN0",authDomain:"twkt-91ddf.firebaseapp.com",projectId:"twkt-91ddf",storageBucket:"twkt-91ddf.firebasestorage.app",messagingSenderId:"754554349532",appId:"1:754554349532:web:f51bb0a8ee53446d309119",measurementId:"G-FKY3MFR4P9"},ad=qE(rO),fp=x3(ad),ma=X1(ad);ZP(ad);const IT=et.createContext(void 0);function iO({children:n}){const[e,t]=et.useState(null),[r,s]=et.useState(!0),o=async d=>{try{const g=await S5(_l(ma,"users",d.uid));return g.exists()?{...g.data(),id:d.uid}:null}catch(g){return console.error("Error fetching user:",g),null}};et.useEffect(()=>{const d=_C(fp,async g=>{if(g){const w=await o(g);w&&t(w)}else t(null);s(!1)});return()=>d()},[]);const u=async(d,g)=>{try{let w=d.trim();w.includes("@")||(w=`${w}@twkt.com`),console.log("Login email:",w);const E=await mC(fp,w,g);let b=await o(E.user);if(!b){const{setDoc:V,doc:M}=await Nf(async()=>{const{setDoc:ne,doc:Y}=await Promise.resolve().then(()=>R5);return{setDoc:ne,doc:Y}},void 0),B={id:E.user.uid,username:w.replace("@twkt.com",""),password:"",name:E.user.displayName||w.split("@")[0],role:"employee",avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${w}`,department:""},U=M(ma,"users",E.user.uid);await V(U,B),b=B}return t(b),{success:!0}}catch(w){return console.error("Login error:",w),w.code==="auth/invalid-email"||w.message?.includes("invalid-email")?{success:!1,error:""}:w.code==="auth/user-not-found"?{success:!1,error:""}:w.code==="auth/wrong-password"?{success:!1,error:""}:w.code==="auth/too-many-requests"?{success:!1,error:""}:{success:!1,error:""+(w.message||w.code)}}},c=async()=>{await vC(fp),t(null)},f=async d=>{if(fp.currentUser)try{await r0(_l(ma,"users",fp.currentUser.uid),{name:d.name,department:d.department,employmentType:d.employmentType,signedContractAt:d.signedContractAt,contractStartDate:d.contractStartDate,avatar:d.avatar}),t(d)}catch(g){console.error("Error updating user:",g)}};return D.jsx(IT.Provider,{value:{user:e,loading:r,login:u,logout:c,updateUser:f},children:n})}function ym(){const n=et.useContext(IT);if(!n)throw new Error("useAuth must be used within AuthProvider");return n}async function i0(){const{getDocs:n,collection:e}=await Nf(async()=>{const{getDocs:t,collection:r}=await Promise.resolve().then(()=>R5);return{getDocs:t,collection:r}},void 0);try{return(await n(e(ma,"users"))).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error getting users:",t),[]}}async function f4(n){const{setDoc:e,doc:t}=await Nf(async()=>{const{setDoc:r,doc:s}=await Promise.resolve().then(()=>R5);return{setDoc:r,doc:s}},void 0);await e(t(ma,"users",n.id),n)}function sO(){const[n,e]=et.useState(""),[t,r]=et.useState(""),[s,o]=et.useState(""),[u,c]=et.useState(!1),{login:f}=ym(),d=async g=>{if(g.preventDefault(),!n||!t){o("");return}c(!0),o(""),console.log("Attempting login with:",n);try{const w=await f(n,t);console.log("Login result:",w),w.success||o(w.error||"")}catch(w){console.error("Login exception:",w),o(": "+(w.message||w.code||""))}c(!1)};return D.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:D.jsx("div",{className:"w-full max-w-md",children:D.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[D.jsxs("div",{className:"text-center mb-8",children:[D.jsx("div",{className:"w-16 h-16 bg-primary rounded-xl flex items-center justify-center mx-auto mb-4",children:D.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),D.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),D.jsx("p",{className:"text-gray-500 mt-1",children:"AKSO Work Log System"})]}),D.jsxs("form",{onSubmit:d,className:"space-y-5",children:[s&&D.jsx("div",{className:"p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm",children:s}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),D.jsx("input",{type:"text",value:n,onChange:g=>e(g.target.value),placeholder:"",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),D.jsx("input",{type:"password",value:t,onChange:g=>r(g.target.value),placeholder:"",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),D.jsx("button",{type:"submit",disabled:u,className:"w-full py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50",children:u?"...":" "})]}),D.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[D.jsx("p",{className:"text-xs text-gray-500 mb-2 font-medium",children:" Firebase Authentication "}),D.jsxs("p",{className:"text-xs text-gray-400",children:["@twkt.com",D.jsx("br",{}),"admin@twkt.com"]})]})]})})})}async function aO(n,e){try{let r=(await n0(w5(_d(ma,"workLogs"),A5("createdAt","desc")))).docs.map(s=>({id:s.id,...s.data()}));return n&&!e&&(r=r.filter(s=>s.userId===n)),r}catch(t){return console.error("Error getting work logs:",t),[]}}async function oO(n){const e=await T5(_d(ma,"workLogs"),{...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});return{...n,id:e.id}}async function d4(n,e){await r0(_l(ma,"workLogs",n),{...e,updatedAt:new Date().toISOString()})}async function lO(n){await wT(_l(ma,"workLogs",n))}async function uO(n,e){try{let r=(await n0(w5(_d(ma,"tasks"),A5("createdAt","desc")))).docs.map(s=>({id:s.id,...s.data()}));return n&&!e&&(r=r.filter(s=>s.assignedTo.includes(n))),r}catch(t){return console.error("Error getting tasks:",t),[]}}async function cO(n){const e=await T5(_d(ma,"tasks"),{...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});return{...n,id:e.id}}async function hO(n,e){await r0(_l(ma,"tasks",n),{...e,updatedAt:new Date().toISOString()})}async function NT(){try{const n=_l(ma,"contracts","main"),e=await S5(n);return e.exists()?e.data():null}catch(n){return console.error("Error getting contract:",n),null}}async function fO(n){await x5(_l(ma,"contracts","main"),n)}function p4({onClose:n,onSubmit:e,editingLog:t,initialData:r}){const s=t||r,[o,u]=et.useState(""),[c,f]=et.useState(""),[d,g]=et.useState(""),[w,E]=et.useState(""),[b,V]=et.useState(""),[M,B]=et.useState(""),[U,ne]=et.useState("pending"),[Y,ee]=et.useState(!1);et.useEffect(()=>{s?(u(s.date),f(s.task),g(s.response),E(s.completionDate),V(s.timeSpent),B(s.problems),ne(s.status)):(u(new Date().toISOString().split("T")[0]),f(""),g(""),E(""),V(""),B(""),ne("pending"))},[s]);const ge=async be=>{be.preventDefault(),ee(!0),await e({date:o,task:c,response:d,completionDate:w,timeSpent:b,problems:M,status:U}),ee(!1)};return D.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[D.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:n}),D.jsxs("div",{className:"relative bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[D.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b sticky top-0 bg-white",children:[D.jsx("h2",{className:"text-lg font-semibold",children:s?"":""}),D.jsx("button",{onClick:n,className:"p-1 text-gray-400 hover:text-gray-600",children:D.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),D.jsxs("form",{onSubmit:ge,className:"p-6 space-y-4",children:[D.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"date",value:o,onChange:be=>u(be.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsxs("select",{value:U,onChange:be=>ne(be.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"pending",children:""}),D.jsx("option",{value:"processing",children:""}),D.jsx("option",{value:"completed",children:""})]})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("textarea",{value:c,onChange:be=>f(be.target.value),rows:3,placeholder:"...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("textarea",{value:d,onChange:be=>g(be.target.value),rows:2,placeholder:"...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"date",value:w,onChange:be=>E(be.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:b,onChange:be=>V(be.target.value),placeholder:"6",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("textarea",{value:M,onChange:be=>B(be.target.value),rows:2,placeholder:"...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[D.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg",children:""}),D.jsx("button",{type:"submit",disabled:Y,className:"px-4 py-2 bg-primary text-white rounded-lg disabled:opacity-50",children:Y?"...":""})]})]})]})]})}const dO={pending:"bg-yellow-100 text-yellow-700",processing:"bg-blue-100 text-blue-700",completed:"bg-green-100 text-green-700"},pO={pending:"",processing:"",completed:""};function mO({userId:n,isAdmin:e}){const[t,r]=et.useState([]),[s,o]=et.useState([]),[u,c]=et.useState(!1),[f,d]=et.useState(null),[g,w]=et.useState(e?"":n),[E,b]=et.useState(null),[V,M]=et.useState(""),[B,U]=et.useState(!0),ne=et.useCallback(async()=>{U(!0);const[R,oe]=await Promise.all([aO(n,e),i0()]);r(R),o(oe),U(!1)},[n,e]);et.useEffect(()=>{ne()},[ne]);const Y=new Date().toISOString().split("T")[0],ee=t.some(R=>R.userId===n&&R.date===Y),ge=e||!ee,be=async R=>{await oO({userId:n,...R}),await ne(),c(!1)},H=async(R,oe)=>{await d4(R,oe),await ne(),d(null)},O=async R=>{confirm("")&&(await lO(R),await ne())},C=async()=>{!E||!V.trim()||(await d4(E.id,{supervisorReply:V,supervisorReplyAt:new Date().toISOString()}),await ne(),b(null),M(""))},G=R=>s.find(oe=>oe.id===R)?.name||"",I=R=>s.find(oe=>oe.id===R)?.department||"",P=g?t.filter(R=>R.userId===g):t;return B?D.jsx("div",{className:"text-center py-12",children:D.jsx("p",{className:"text-gray-500",children:"..."})}):D.jsxs("div",{children:[D.jsxs("div",{className:"flex items-center justify-between mb-6",children:[D.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:""}),D.jsxs("div",{className:"flex gap-3",children:[e&&D.jsxs("select",{value:g,onChange:R=>w(R.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"",children:""}),s.filter(R=>R.role==="employee").map(R=>D.jsx("option",{value:R.id,children:R.name},R.id))]}),ge&&D.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:[D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),""]})]})]}),!ge&&!e&&D.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-yellow-700 text-sm",children:""}),P.length===0?D.jsx("div",{className:"text-center py-12 text-gray-500",children:D.jsx("p",{children:""})}):D.jsx("div",{className:"space-y-4",children:P.map(R=>D.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[D.jsxs("div",{className:"flex items-start justify-between mb-3",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${dO[R.status]}`,children:pO[R.status]}),D.jsx("span",{className:"text-sm text-gray-500",children:R.date}),e&&D.jsxs("span",{className:"text-sm text-gray-400",children:[" ",G(R.userId)," (",I(R.userId),")"]})]}),R.userId===n&&D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:()=>d(R),className:"text-sm text-blue-600 hover:underline",children:""}),D.jsx("button",{onClick:()=>O(R.id),className:"text-sm text-red-600 hover:underline",children:""})]})]}),D.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:R.task}),D.jsx("p",{className:"text-gray-600 text-sm mb-2",children:R.response}),D.jsxs("div",{className:"flex gap-4 text-sm text-gray-500 mb-3",children:[R.completionDate&&D.jsxs("span",{children:["",R.completionDate]}),R.timeSpent&&D.jsxs("span",{children:["",R.timeSpent]})]}),R.problems&&D.jsxs("div",{className:"p-3 bg-red-50 rounded-lg mb-3",children:[D.jsx("p",{className:"text-xs text-red-600 mb-1",children:""}),D.jsx("p",{className:"text-gray-700 text-sm",children:R.problems})]}),R.supervisorReply&&D.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg mb-3",children:[D.jsx("p",{className:"text-xs text-blue-600 mb-1",children:""}),D.jsx("p",{className:"text-gray-700 text-sm",children:R.supervisorReply})]}),e&&!R.supervisorReply&&D.jsx("div",{className:"border-t border-gray-100 pt-3 mt-3",children:E?.id===R.id?D.jsxs("div",{className:"space-y-2",children:[D.jsx("textarea",{value:V,onChange:oe=>M(oe.target.value),placeholder:"...",rows:2,className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-primary"}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:C,className:"px-3 py-1 bg-primary text-white rounded-lg text-sm",children:""}),D.jsx("button",{onClick:()=>{b(null),M("")},className:"px-3 py-1 text-gray-600 bg-gray-100 rounded-lg text-sm",children:""})]})]}):D.jsx("button",{onClick:()=>b(R),className:"text-sm text-primary hover:underline",children:""})})]},R.id))}),u&&D.jsx(p4,{onClose:()=>c(!1),onSubmit:be}),f&&D.jsx(p4,{initialData:f,onClose:()=>d(null),onSubmit:R=>H(f.id,R)})]})}function Zn(n){"@babel/helpers - typeof";return Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(n)}var Po=Uint8Array,Oa=Uint16Array,C5=Int32Array,L5=new Po([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),k5=new Po([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),m4=new Po([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),RT=function(n,e){for(var t=new Oa(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var s=new C5(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)s[o]=o-t[r]<<5|r;return{b:t,r:s}},CT=RT(L5,2),gO=CT.b,Ky=CT.r;gO[28]=258,Ky[258]=28;var yO=RT(k5,0),g4=yO.r,$y=new Oa(32768);for(var Ir=0;Ir<32768;++Ir){var Gu=(Ir&43690)>>1|(Ir&21845)<<1;Gu=(Gu&52428)>>2|(Gu&13107)<<2,Gu=(Gu&61680)>>4|(Gu&3855)<<4,$y[Ir]=((Gu&65280)>>8|(Gu&255)<<8)>>1}var kp=(function(n,e,t){for(var r=n.length,s=0,o=new Oa(e);s<r;++s)n[s]&&++o[n[s]-1];var u=new Oa(e);for(s=1;s<e;++s)u[s]=u[s-1]+o[s-1]<<1;var c;if(t){c=new Oa(1<<e);var f=15-e;for(s=0;s<r;++s)if(n[s])for(var d=s<<4|n[s],g=e-n[s],w=u[n[s]-1]++<<g,E=w|(1<<g)-1;w<=E;++w)c[$y[w]>>f]=d}else for(c=new Oa(r),s=0;s<r;++s)n[s]&&(c[s]=$y[u[n[s]-1]++]>>15-n[s]);return c}),gh=new Po(288);for(var Ir=0;Ir<144;++Ir)gh[Ir]=8;for(var Ir=144;Ir<256;++Ir)gh[Ir]=9;for(var Ir=256;Ir<280;++Ir)gh[Ir]=7;for(var Ir=280;Ir<288;++Ir)gh[Ir]=8;var w1=new Po(32);for(var Ir=0;Ir<32;++Ir)w1[Ir]=5;var _O=kp(gh,9,0),vO=kp(w1,5,0),LT=function(n){return(n+7)/8|0},bO=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Po(n.subarray(e,t))},Yl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},dp=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},B2=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var s=t.length,o=t.slice();if(!s)return{t:DT,l:0};if(s==1){var u=new Po(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(ge,be){return ge.f-be.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,g=1,w=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};g!=s-1;)c=t[t[d].f<t[w].f?d++:w++],f=t[d!=g&&t[d].f<t[w].f?d++:w++],t[g++]={s:-1,f:c.f+f.f,l:c,r:f};for(var E=o[0].s,r=1;r<s;++r)o[r].s>E&&(E=o[r].s);var b=new Oa(E+1),V=Wy(t[g-1],b,0);if(V>e){var r=0,M=0,B=V-e,U=1<<B;for(o.sort(function(be,H){return b[H.s]-b[be.s]||be.f-H.f});r<s;++r){var ne=o[r].s;if(b[ne]>e)M+=U-(1<<V-b[ne]),b[ne]=e;else break}for(M>>=B;M>0;){var Y=o[r].s;b[Y]<e?M-=1<<e-b[Y]++-1:++r}for(;r>=0&&M;--r){var ee=o[r].s;b[ee]==e&&(--b[ee],++M)}V=e}return{t:new Po(b),l:V}},Wy=function(n,e,t){return n.s==-1?Math.max(Wy(n.l,e,t+1),Wy(n.r,e,t+1)):e[n.s]=t},y4=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Oa(++e),r=0,s=n[0],o=1,u=function(f){t[r++]=f},c=1;c<=e;++c)if(n[c]==s&&c!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(s),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(s);o=1,s=n[c]}return{c:t.subarray(0,r),n:e}},pp=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},kT=function(n,e,t){var r=t.length,s=LT(e+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<r;++o)n[s+o+4]=t[o];return(s+4+r)*8},_4=function(n,e,t,r,s,o,u,c,f,d,g){Yl(e,g++,t),++s[256];for(var w=B2(s,15),E=w.t,b=w.l,V=B2(o,15),M=V.t,B=V.l,U=y4(E),ne=U.c,Y=U.n,ee=y4(M),ge=ee.c,be=ee.n,H=new Oa(19),O=0;O<ne.length;++O)++H[ne[O]&31];for(var O=0;O<ge.length;++O)++H[ge[O]&31];for(var C=B2(H,7),G=C.t,I=C.l,P=19;P>4&&!G[m4[P-1]];--P);var R=d+5<<3,oe=pp(s,gh)+pp(o,w1)+u,Te=pp(s,E)+pp(o,M)+u+14+3*P+pp(H,G)+2*H[16]+3*H[17]+7*H[18];if(f>=0&&R<=oe&&R<=Te)return kT(e,g,n.subarray(f,f+d));var ae,pe,fe,Le;if(Yl(e,g,1+(Te<oe)),g+=2,Te<oe){ae=kp(E,b,0),pe=E,fe=kp(M,B,0),Le=M;var Ke=kp(G,I,0);Yl(e,g,Y-257),Yl(e,g+5,be-1),Yl(e,g+10,P-4),g+=14;for(var O=0;O<P;++O)Yl(e,g+3*O,G[m4[O]]);g+=3*P;for(var J=[ne,ge],k=0;k<2;++k)for(var $=J[k],O=0;O<$.length;++O){var Z=$[O]&31;Yl(e,g,Ke[Z]),g+=G[Z],Z>15&&(Yl(e,g,$[O]>>5&127),g+=$[O]>>12)}}else ae=_O,pe=gh,fe=vO,Le=w1;for(var O=0;O<c;++O){var le=r[O];if(le>255){var Z=le>>18&31;dp(e,g,ae[Z+257]),g+=pe[Z+257],Z>7&&(Yl(e,g,le>>23&31),g+=L5[Z]);var ce=le&31;dp(e,g,fe[ce]),g+=Le[ce],ce>3&&(dp(e,g,le>>5&8191),g+=k5[ce])}else dp(e,g,ae[le]),g+=pe[le]}return dp(e,g,ae[256]),g+pe[256]},wO=new C5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),DT=new Po(0),AO=function(n,e,t,r,s,o){var u=o.z||n.length,c=new Po(r+u+5*(1+Math.ceil(u/7e3))+s),f=c.subarray(r,c.length-s),d=o.l,g=(o.r||0)&7;if(e){g&&(f[0]=o.r>>3);for(var w=wO[e-1],E=w>>13,b=w&8191,V=(1<<t)-1,M=o.p||new Oa(32768),B=o.h||new Oa(V+1),U=Math.ceil(t/3),ne=2*U,Y=function(dt){return(n[dt]^n[dt+1]<<U^n[dt+2]<<ne)&V},ee=new C5(25e3),ge=new Oa(288),be=new Oa(32),H=0,O=0,C=o.i||0,G=0,I=o.w||0,P=0;C+2<u;++C){var R=Y(C),oe=C&32767,Te=B[R];if(M[oe]=Te,B[R]=oe,I<=C){var ae=u-C;if((H>7e3||G>24576)&&(ae>423||!d)){g=_4(n,f,0,ee,ge,be,O,G,P,C-P,g),G=H=O=0,P=C;for(var pe=0;pe<286;++pe)ge[pe]=0;for(var pe=0;pe<30;++pe)be[pe]=0}var fe=2,Le=0,Ke=b,J=oe-Te&32767;if(ae>2&&R==Y(C-J))for(var k=Math.min(E,ae)-1,$=Math.min(32767,C),Z=Math.min(258,ae);J<=$&&--Ke&&oe!=Te;){if(n[C+fe]==n[C+fe-J]){for(var le=0;le<Z&&n[C+le]==n[C+le-J];++le);if(le>fe){if(fe=le,Le=J,le>k)break;for(var ce=Math.min(J,le-2),ye=0,pe=0;pe<ce;++pe){var Pe=C-J+pe&32767,ke=M[Pe],Be=Pe-ke&32767;Be>ye&&(ye=Be,Te=Pe)}}}oe=Te,Te=M[oe],J+=oe-Te&32767}if(Le){ee[G++]=268435456|Ky[fe]<<18|g4[Le];var Je=Ky[fe]&31,at=g4[Le]&31;O+=L5[Je]+k5[at],++ge[257+Je],++be[at],I=C+fe,++H}else ee[G++]=n[C],++ge[n[C]]}}for(C=Math.max(C,I);C<u;++C)ee[G++]=n[C],++ge[n[C]];g=_4(n,f,d,ee,ge,be,O,G,P,C-P,g),d||(o.r=g&7|f[g/8|0]<<3,g-=7,o.h=B,o.p=M,o.i=C,o.w=I)}else{for(var C=o.w||0;C<u+d;C+=65535){var st=C+65535;st>=u&&(f[g/8|0]=d,st=u),g=kT(f,g+1,n.subarray(C,st))}o.i=u}return bO(c,0,r+LT(g)+s)},PT=function(){var n=1,e=0;return{p:function(t){for(var r=n,s=e,o=t.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)s+=r+=t[u];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},EO=function(n,e,t,r,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new Po(o.length+n.length);u.set(o),u.set(n,o.length),n=u,s.w=o.length}return AO(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,s)},OT=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},SO=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=PT();s.p(e.dictionary),OT(n,2,s.d())}};function Yy(n,e){e||(e={});var t=PT();t.p(n);var r=EO(n,e,e.dictionary?6:2,4);return SO(r,e),OT(r,r.length-4,t.d()),r}var xO=typeof TextDecoder<"u"&&new TextDecoder,TO=0;try{xO.decode(DT,{stream:!0}),TO=1}catch{}function IO(n){if(Array.isArray(n))return n}function NO(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,o,u,c=[],f=!0,d=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(g){d=!0,s=g}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw s}}return c}}function v4(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function RO(n,e){if(n){if(typeof n=="string")return v4(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v4(n,e):void 0}}function CO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b4(n,e){return IO(n)||NO(n,e)||RO(n,e)||CO()}function w4(n,e="utf8"){return new TextDecoder(e).decode(n)}const LO=new TextEncoder;function kO(n){return LO.encode(n)}const DO=1024*8,PO=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),q2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class D5{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=DO,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,o=e.byteLength-s;let u=s;(ArrayBuffer.isView(e)||e instanceof D5)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=q2[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+r);if(this.littleEndian===PO&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(s,s+r));c.reverse();const f=new q2[t](c.buffer);return this.offset+=r,f.reverse(),f}const u=new q2[t](o);return this.offset+=r,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return w4(this.readBytes(e))}decodeText(e=1,t="utf8"){return w4(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(kO(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ad(n){let e=n.length;for(;--e>=0;)n[e]=0}const OO=3,MO=258,MT=29,VO=256,jO=VO+1+MT,VT=30,UO=512,FO=new Array((jO+2)*2);Ad(FO);const BO=new Array(VT*2);Ad(BO);const qO=new Array(UO);Ad(qO);const zO=new Array(MO-OO+1);Ad(zO);const HO=new Array(MT);Ad(HO);const GO=new Array(VT);Ad(GO);const KO=(n,e,t,r)=>{let s=n&65535|0,o=n>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do s=s+e[r++]|0,o=o+s|0;while(--u);s%=65521,o%=65521}return s|o<<16|0};var Qy=KO;const $O=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},WO=new Uint32Array($O()),YO=(n,e,t,r)=>{const s=WO,o=r+t;n^=-1;for(let u=r;u<o;u++)n=n>>>8^s[(n^e[u])&255];return n^-1};var sl=YO,Xy={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},jT={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const QO=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var XO=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)QO(t,r)&&(n[r]=t[r])}}return n},JO=n=>{let e=0;for(let r=0,s=n.length;r<s;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,s=0,o=n.length;r<o;r++){let u=n[r];t.set(u,s),s+=u.length}return t},UT={assign:XO,flattenChunks:JO};let FT=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{FT=!1}const Yp=new Uint8Array(256);for(let n=0;n<256;n++)Yp[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Yp[254]=Yp[254]=1;var ZO=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,s,o,u=n.length,c=0;for(s=0;s<u;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,s=0;o<c;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const eM=(n,e)=>{if(e<65534&&n.subarray&&FT)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var tM=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,s;const o=new Array(t*2);for(s=0,r=0;r<t;){let u=n[r++];if(u<128){o[s++]=u;continue}let c=Yp[u];if(c>4){o[s++]=65533,r+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&r<t;)u=u<<6|n[r++]&63,c--;if(c>1){o[s++]=65533;continue}u<65536?o[s++]=u:(u-=65536,o[s++]=55296|u>>10&1023,o[s++]=56320|u&1023)}return eM(o,s)},nM=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Yp[n[t]]>e?t:e},Jy={string2buf:ZO,buf2string:tM,utf8border:nM};function rM(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var iM=rM;const wg=16209,sM=16191;var aM=function(e,t){let r,s,o,u,c,f,d,g,w,E,b,V,M,B,U,ne,Y,ee,ge,be,H,O,C,G;const I=e.state;r=e.next_in,C=e.input,s=r+(e.avail_in-5),o=e.next_out,G=e.output,u=o-(t-e.avail_out),c=o+(e.avail_out-257),f=I.dmax,d=I.wsize,g=I.whave,w=I.wnext,E=I.window,b=I.hold,V=I.bits,M=I.lencode,B=I.distcode,U=(1<<I.lenbits)-1,ne=(1<<I.distbits)-1;e:do{V<15&&(b+=C[r++]<<V,V+=8,b+=C[r++]<<V,V+=8),Y=M[b&U];t:for(;;){if(ee=Y>>>24,b>>>=ee,V-=ee,ee=Y>>>16&255,ee===0)G[o++]=Y&65535;else if(ee&16){ge=Y&65535,ee&=15,ee&&(V<ee&&(b+=C[r++]<<V,V+=8),ge+=b&(1<<ee)-1,b>>>=ee,V-=ee),V<15&&(b+=C[r++]<<V,V+=8,b+=C[r++]<<V,V+=8),Y=B[b&ne];n:for(;;){if(ee=Y>>>24,b>>>=ee,V-=ee,ee=Y>>>16&255,ee&16){if(be=Y&65535,ee&=15,V<ee&&(b+=C[r++]<<V,V+=8,V<ee&&(b+=C[r++]<<V,V+=8)),be+=b&(1<<ee)-1,be>f){e.msg="invalid distance too far back",I.mode=wg;break e}if(b>>>=ee,V-=ee,ee=o-u,be>ee){if(ee=be-ee,ee>g&&I.sane){e.msg="invalid distance too far back",I.mode=wg;break e}if(H=0,O=E,w===0){if(H+=d-ee,ee<ge){ge-=ee;do G[o++]=E[H++];while(--ee);H=o-be,O=G}}else if(w<ee){if(H+=d+w-ee,ee-=w,ee<ge){ge-=ee;do G[o++]=E[H++];while(--ee);if(H=0,w<ge){ee=w,ge-=ee;do G[o++]=E[H++];while(--ee);H=o-be,O=G}}}else if(H+=w-ee,ee<ge){ge-=ee;do G[o++]=E[H++];while(--ee);H=o-be,O=G}for(;ge>2;)G[o++]=O[H++],G[o++]=O[H++],G[o++]=O[H++],ge-=3;ge&&(G[o++]=O[H++],ge>1&&(G[o++]=O[H++]))}else{H=o-be;do G[o++]=G[H++],G[o++]=G[H++],G[o++]=G[H++],ge-=3;while(ge>2);ge&&(G[o++]=G[H++],ge>1&&(G[o++]=G[H++]))}}else if((ee&64)===0){Y=B[(Y&65535)+(b&(1<<ee)-1)];continue n}else{e.msg="invalid distance code",I.mode=wg;break e}break}}else if((ee&64)===0){Y=M[(Y&65535)+(b&(1<<ee)-1)];continue t}else if(ee&32){I.mode=sM;break e}else{e.msg="invalid literal/length code",I.mode=wg;break e}break}}while(r<s&&o<c);ge=V>>3,r-=ge,V-=ge<<3,b&=(1<<V)-1,e.next_in=r,e.next_out=o,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=o<c?257+(c-o):257-(o-c),I.hold=b,I.bits=V};const gf=15,A4=852,E4=592,S4=0,z2=1,x4=2,oM=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lM=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),uM=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),cM=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),hM=(n,e,t,r,s,o,u,c)=>{const f=c.bits;let d=0,g=0,w=0,E=0,b=0,V=0,M=0,B=0,U=0,ne=0,Y,ee,ge,be,H,O=null,C;const G=new Uint16Array(gf+1),I=new Uint16Array(gf+1);let P=null,R,oe,Te;for(d=0;d<=gf;d++)G[d]=0;for(g=0;g<r;g++)G[e[t+g]]++;for(b=f,E=gf;E>=1&&G[E]===0;E--);if(b>E&&(b=E),E===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,c.bits=1,0;for(w=1;w<E&&G[w]===0;w++);for(b<w&&(b=w),B=1,d=1;d<=gf;d++)if(B<<=1,B-=G[d],B<0)return-1;if(B>0&&(n===S4||E!==1))return-1;for(I[1]=0,d=1;d<gf;d++)I[d+1]=I[d]+G[d];for(g=0;g<r;g++)e[t+g]!==0&&(u[I[e[t+g]]++]=g);if(n===S4?(O=P=u,C=20):n===z2?(O=oM,P=lM,C=257):(O=uM,P=cM,C=0),ne=0,g=0,d=w,H=o,V=b,M=0,ge=-1,U=1<<b,be=U-1,n===z2&&U>A4||n===x4&&U>E4)return 1;for(;;){R=d-M,u[g]+1<C?(oe=0,Te=u[g]):u[g]>=C?(oe=P[u[g]-C],Te=O[u[g]-C]):(oe=96,Te=0),Y=1<<d-M,ee=1<<V,w=ee;do ee-=Y,s[H+(ne>>M)+ee]=R<<24|oe<<16|Te|0;while(ee!==0);for(Y=1<<d-1;ne&Y;)Y>>=1;if(Y!==0?(ne&=Y-1,ne+=Y):ne=0,g++,--G[d]===0){if(d===E)break;d=e[t+u[g]]}if(d>b&&(ne&be)!==ge){for(M===0&&(M=b),H+=w,V=d-M,B=1<<V;V+M<E&&(B-=G[V+M],!(B<=0));)V++,B<<=1;if(U+=1<<V,n===z2&&U>A4||n===x4&&U>E4)return 1;ge=ne&be,s[ge]=b<<24|V<<16|H-o|0}}return ne!==0&&(s[H+ne]=d-M<<24|64<<16|0),c.bits=b,0};var Dp=hM;const fM=0,BT=1,qT=2,{Z_FINISH:T4,Z_BLOCK:dM,Z_TREES:Ag,Z_OK:yh,Z_STREAM_END:pM,Z_NEED_DICT:mM,Z_STREAM_ERROR:ro,Z_DATA_ERROR:zT,Z_MEM_ERROR:HT,Z_BUF_ERROR:gM,Z_DEFLATED:I4}=jT,s0=16180,N4=16181,R4=16182,C4=16183,L4=16184,k4=16185,D4=16186,P4=16187,O4=16188,M4=16189,A1=16190,Ql=16191,H2=16192,V4=16193,G2=16194,j4=16195,U4=16196,F4=16197,B4=16198,Eg=16199,Sg=16200,q4=16201,z4=16202,H4=16203,G4=16204,K4=16205,K2=16206,$4=16207,W4=16208,Pr=16209,GT=16210,KT=16211,yM=852,_M=592,vM=15,bM=vM,Y4=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function wM(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ih=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<s0||e.mode>KT?1:0},$T=n=>{if(Ih(n))return ro;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=s0,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(yM),e.distcode=e.distdyn=new Int32Array(_M),e.sane=1,e.back=-1,yh},WT=n=>{if(Ih(n))return ro;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,$T(n)},YT=(n,e)=>{let t;if(Ih(n))return ro;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ro:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,WT(n))},QT=(n,e)=>{if(!n)return ro;const t=new wM;n.state=t,t.strm=n,t.window=null,t.mode=s0;const r=YT(n,e);return r!==yh&&(n.state=null),r},AM=n=>QT(n,bM);let Q4=!0,$2,W2;const EM=n=>{if(Q4){$2=new Int32Array(512),W2=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Dp(BT,n.lens,0,288,$2,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Dp(qT,n.lens,0,32,W2,0,n.work,{bits:5}),Q4=!1}n.lencode=$2,n.lenbits=9,n.distcode=W2,n.distbits=5},XT=(n,e,t,r)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>r&&(s=r),o.window.set(e.subarray(t-r,t-r+s),o.wnext),r-=s,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},SM=(n,e)=>{let t,r,s,o,u,c,f,d,g,w,E,b,V,M,B=0,U,ne,Y,ee,ge,be,H,O;const C=new Uint8Array(4);let G,I;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ih(n)||!n.output||!n.input&&n.avail_in!==0)return ro;t=n.state,t.mode===Ql&&(t.mode=H2),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,g=t.bits,w=c,E=f,O=yh;e:for(;;)switch(t.mode){case s0:if(t.wrap===0){t.mode=H2;break}for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,C[0]=d&255,C[1]=d>>>8&255,t.check=sl(t.check,C,2,0),d=0,g=0,t.mode=N4;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Pr;break}if((d&15)!==I4){n.msg="unknown compression method",t.mode=Pr;break}if(d>>>=4,g-=4,H=(d&15)+8,t.wbits===0&&(t.wbits=H),H>15||H>t.wbits){n.msg="invalid window size",t.mode=Pr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?M4:Ql,d=0,g=0;break;case N4:for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.flags=d,(t.flags&255)!==I4){n.msg="unknown compression method",t.mode=Pr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Pr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,t.check=sl(t.check,C,2,0)),d=0,g=0,t.mode=R4;case R4:for(;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,C[2]=d>>>16&255,C[3]=d>>>24&255,t.check=sl(t.check,C,4,0)),d=0,g=0,t.mode=C4;case C4:for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,t.check=sl(t.check,C,2,0)),d=0,g=0,t.mode=L4;case L4:if(t.flags&1024){for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,t.check=sl(t.check,C,2,0)),d=0,g=0}else t.head&&(t.head.extra=null);t.mode=k4;case k4:if(t.flags&1024&&(b=t.length,b>c&&(b=c),b&&(t.head&&(H=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+b),H)),t.flags&512&&t.wrap&4&&(t.check=sl(t.check,r,b,o)),c-=b,o+=b,t.length-=b),t.length))break e;t.length=0,t.mode=D4;case D4:if(t.flags&2048){if(c===0)break e;b=0;do H=r[o+b++],t.head&&H&&t.length<65536&&(t.head.name+=String.fromCharCode(H));while(H&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=sl(t.check,r,b,o)),c-=b,o+=b,H)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=P4;case P4:if(t.flags&4096){if(c===0)break e;b=0;do H=r[o+b++],t.head&&H&&t.length<65536&&(t.head.comment+=String.fromCharCode(H));while(H&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=sl(t.check,r,b,o)),c-=b,o+=b,H)break e}else t.head&&(t.head.comment=null);t.mode=O4;case O4:if(t.flags&512){for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Pr;break}d=0,g=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Ql;break;case M4:for(;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}n.adler=t.check=Y4(d),d=0,g=0,t.mode=A1;case A1:if(t.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,mM;n.adler=t.check=1,t.mode=Ql;case Ql:if(e===dM||e===Ag)break e;case H2:if(t.last){d>>>=g&7,g-=g&7,t.mode=K2;break}for(;g<3;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}switch(t.last=d&1,d>>>=1,g-=1,d&3){case 0:t.mode=V4;break;case 1:if(EM(t),t.mode=Eg,e===Ag){d>>>=2,g-=2;break e}break;case 2:t.mode=U4;break;case 3:n.msg="invalid block type",t.mode=Pr}d>>>=2,g-=2;break;case V4:for(d>>>=g&7,g-=g&7;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Pr;break}if(t.length=d&65535,d=0,g=0,t.mode=G2,e===Ag)break e;case G2:t.mode=j4;case j4:if(b=t.length,b){if(b>c&&(b=c),b>f&&(b=f),b===0)break e;s.set(r.subarray(o,o+b),u),c-=b,o+=b,f-=b,u+=b,t.length-=b;break}t.mode=Ql;break;case U4:for(;g<14;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.nlen=(d&31)+257,d>>>=5,g-=5,t.ndist=(d&31)+1,d>>>=5,g-=5,t.ncode=(d&15)+4,d>>>=4,g-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Pr;break}t.have=0,t.mode=F4;case F4:for(;t.have<t.ncode;){for(;g<3;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.lens[P[t.have++]]=d&7,d>>>=3,g-=3}for(;t.have<19;)t.lens[P[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,G={bits:t.lenbits},O=Dp(fM,t.lens,0,19,t.lencode,0,t.work,G),t.lenbits=G.bits,O){n.msg="invalid code lengths set",t.mode=Pr;break}t.have=0,t.mode=B4;case B4:for(;t.have<t.nlen+t.ndist;){for(;B=t.lencode[d&(1<<t.lenbits)-1],U=B>>>24,ne=B>>>16&255,Y=B&65535,!(U<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(Y<16)d>>>=U,g-=U,t.lens[t.have++]=Y;else{if(Y===16){for(I=U+2;g<I;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(d>>>=U,g-=U,t.have===0){n.msg="invalid bit length repeat",t.mode=Pr;break}H=t.lens[t.have-1],b=3+(d&3),d>>>=2,g-=2}else if(Y===17){for(I=U+3;g<I;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=U,g-=U,H=0,b=3+(d&7),d>>>=3,g-=3}else{for(I=U+7;g<I;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=U,g-=U,H=0,b=11+(d&127),d>>>=7,g-=7}if(t.have+b>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Pr;break}for(;b--;)t.lens[t.have++]=H}}if(t.mode===Pr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Pr;break}if(t.lenbits=9,G={bits:t.lenbits},O=Dp(BT,t.lens,0,t.nlen,t.lencode,0,t.work,G),t.lenbits=G.bits,O){n.msg="invalid literal/lengths set",t.mode=Pr;break}if(t.distbits=6,t.distcode=t.distdyn,G={bits:t.distbits},O=Dp(qT,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,G),t.distbits=G.bits,O){n.msg="invalid distances set",t.mode=Pr;break}if(t.mode=Eg,e===Ag)break e;case Eg:t.mode=Sg;case Sg:if(c>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,aM(n,E),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,g=t.bits,t.mode===Ql&&(t.back=-1);break}for(t.back=0;B=t.lencode[d&(1<<t.lenbits)-1],U=B>>>24,ne=B>>>16&255,Y=B&65535,!(U<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(ne&&(ne&240)===0){for(ee=U,ge=ne,be=Y;B=t.lencode[be+((d&(1<<ee+ge)-1)>>ee)],U=B>>>24,ne=B>>>16&255,Y=B&65535,!(ee+U<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=ee,g-=ee,t.back+=ee}if(d>>>=U,g-=U,t.back+=U,t.length=Y,ne===0){t.mode=K4;break}if(ne&32){t.back=-1,t.mode=Ql;break}if(ne&64){n.msg="invalid literal/length code",t.mode=Pr;break}t.extra=ne&15,t.mode=q4;case q4:if(t.extra){for(I=t.extra;g<I;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=z4;case z4:for(;B=t.distcode[d&(1<<t.distbits)-1],U=B>>>24,ne=B>>>16&255,Y=B&65535,!(U<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if((ne&240)===0){for(ee=U,ge=ne,be=Y;B=t.distcode[be+((d&(1<<ee+ge)-1)>>ee)],U=B>>>24,ne=B>>>16&255,Y=B&65535,!(ee+U<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=ee,g-=ee,t.back+=ee}if(d>>>=U,g-=U,t.back+=U,ne&64){n.msg="invalid distance code",t.mode=Pr;break}t.offset=Y,t.extra=ne&15,t.mode=H4;case H4:if(t.extra){for(I=t.extra;g<I;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Pr;break}t.mode=G4;case G4:if(f===0)break e;if(b=E-f,t.offset>b){if(b=t.offset-b,b>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Pr;break}b>t.wnext?(b-=t.wnext,V=t.wsize-b):V=t.wnext-b,b>t.length&&(b=t.length),M=t.window}else M=s,V=u-t.offset,b=t.length;b>f&&(b=f),f-=b,t.length-=b;do s[u++]=M[V++];while(--b);t.length===0&&(t.mode=Sg);break;case K4:if(f===0)break e;s[u++]=t.length,f--,t.mode=Sg;break;case K2:if(t.wrap){for(;g<32;){if(c===0)break e;c--,d|=r[o++]<<g,g+=8}if(E-=f,n.total_out+=E,t.total+=E,t.wrap&4&&E&&(n.adler=t.check=t.flags?sl(t.check,s,E,u-E):Qy(t.check,s,E,u-E)),E=f,t.wrap&4&&(t.flags?d:Y4(d))!==t.check){n.msg="incorrect data check",t.mode=Pr;break}d=0,g=0}t.mode=$4;case $4:if(t.wrap&&t.flags){for(;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Pr;break}d=0,g=0}t.mode=W4;case W4:O=pM;break e;case Pr:O=zT;break e;case GT:return HT;case KT:default:return ro}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,(t.wsize||E!==n.avail_out&&t.mode<Pr&&(t.mode<K2||e!==T4))&&XT(n,n.output,n.next_out,E-n.avail_out),w-=n.avail_in,E-=n.avail_out,n.total_in+=w,n.total_out+=E,t.total+=E,t.wrap&4&&E&&(n.adler=t.check=t.flags?sl(t.check,s,E,n.next_out-E):Qy(t.check,s,E,n.next_out-E)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Ql?128:0)+(t.mode===Eg||t.mode===G2?256:0),(w===0&&E===0||e===T4)&&O===yh&&(O=gM),O},xM=n=>{if(Ih(n))return ro;let e=n.state;return e.window&&(e.window=null),n.state=null,yh},TM=(n,e)=>{if(Ih(n))return ro;const t=n.state;return(t.wrap&2)===0?ro:(t.head=e,e.done=!1,yh)},IM=(n,e)=>{const t=e.length;let r,s,o;return Ih(n)||(r=n.state,r.wrap!==0&&r.mode!==A1)?ro:r.mode===A1&&(s=1,s=Qy(s,e,t,0),s!==r.check)?zT:(o=XT(n,e,t,t),o?(r.mode=GT,HT):(r.havedict=1,yh))};var NM=WT,RM=YT,CM=$T,LM=AM,kM=QT,DM=SM,PM=xM,OM=TM,MM=IM,VM="pako inflate (from Nodeca project)",Xl={inflateReset:NM,inflateReset2:RM,inflateResetKeep:CM,inflateInit:LM,inflateInit2:kM,inflate:DM,inflateEnd:PM,inflateGetHeader:OM,inflateSetDictionary:MM,inflateInfo:VM};function jM(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var UM=jM;const JT=Object.prototype.toString,{Z_NO_FLUSH:FM,Z_FINISH:BM,Z_OK:Qp,Z_STREAM_END:Y2,Z_NEED_DICT:Q2,Z_STREAM_ERROR:qM,Z_DATA_ERROR:X4,Z_MEM_ERROR:zM}=jT;function _m(n){this.options=UT.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new iM,this.strm.avail_out=0;let t=Xl.inflateInit2(this.strm,e.windowBits);if(t!==Qp)throw new Error(Xy[t]);if(this.header=new UM,Xl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Jy.string2buf(e.dictionary):JT.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Xl.inflateSetDictionary(this.strm,e.dictionary),t!==Qp)))throw new Error(Xy[t])}_m.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?BM:FM,JT.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Xl.inflate(t,u),o===Q2&&s&&(o=Xl.inflateSetDictionary(t,s),o===Qp?o=Xl.inflate(t,u):o===X4&&(o=Q2));t.avail_in>0&&o===Y2&&t.state.wrap>0&&n[t.next_in]!==0;)Xl.inflateReset(t),o=Xl.inflate(t,u);switch(o){case qM:case X4:case Q2:case zM:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===Y2))if(this.options.to==="string"){let f=Jy.utf8border(t.output,t.next_out),d=t.next_out-f,g=Jy.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(g)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Qp&&c===0)){if(o===Y2)return o=Xl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};_m.prototype.onData=function(n){this.chunks.push(n)};_m.prototype.onEnd=function(n){n===Qp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=UT.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function HM(n,e){const t=new _m(e);if(t.push(n),t.err)throw t.msg||Xy[t.err];return t.result}var GM=_m,KM=HM,$M={Inflate:GM,inflate:KM};const{Inflate:WM,inflate:YM}=$M;var J4=WM,QM=YM;const ZT=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;ZT[n]=e}const Z4=4294967295;function XM(n,e,t){let r=n;for(let s=0;s<t;s++)r=ZT[(r^e[s])&255]^r>>>8;return r}function JM(n,e){return(XM(Z4,n,e)^Z4)>>>0}function eE(n,e,t){const r=n.readUint32(),s=JM(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${s}`)}function e6(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function t6(n,e,t,r){let s=0;for(;s<r;s++)e[s]=n[s];for(;s<t;s++)e[s]=n[s]+e[s-r]&255}function n6(n,e,t,r){let s=0;if(t.length===0)for(;s<r;s++)e[s]=n[s];else for(;s<r;s++)e[s]=n[s]+t[s]&255}function r6(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-s]+t[o]>>1)&255}}function i6(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+ZM(e[o-s],t[o],t[o-s])&255}}function ZM(n,e,t){const r=n+e-t,s=Math.abs(r-n),o=Math.abs(r-e),u=Math.abs(r-t);return s<=o&&s<=u?n:o<=u?e:t}function e9(n,e,t,r,s,o){switch(n){case 0:e6(e,t,s);break;case 1:t6(e,t,s,o);break;case 2:n6(e,t,r,s);break;case 3:r6(e,t,r,s,o);break;case 4:i6(e,t,r,s,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const t9=new Uint16Array([255]),n9=new Uint8Array(t9.buffer),r9=n9[0]===255;function i9(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*s,f=new Uint8Array(r*t*c);let d=0;for(let g=0;g<7;g++){const w=u[g],E=Math.ceil((t-w.x)/w.xStep),b=Math.ceil((r-w.y)/w.yStep);if(E<=0||b<=0)continue;const V=E*c,M=new Uint8Array(V);for(let B=0;B<b;B++){const U=e[d++],ne=e.subarray(d,d+V);d+=V;const Y=new Uint8Array(V);e9(U,ne,Y,M,V,c),M.set(Y);for(let ee=0;ee<E;ee++){const ge=w.x+ee*w.xStep,be=w.y+B*w.yStep;if(!(ge>=t||be>=r))for(let H=0;H<c;H++)f[(be*t+ge)*c+H]=Y[ee*c+H]}}}if(o===16){const g=new Uint16Array(f.buffer);if(r9)for(let w=0;w<g.length;w++)g[w]=s9(g[w]);return g}else return f}function s9(n){return(n&255)<<8|n>>8&255}const a9=new Uint16Array([255]),o9=new Uint8Array(a9.buffer),l9=o9[0]===255,u9=new Uint8Array(0);function tE(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,u=Math.ceil(o/8)*s,c=Math.ceil(o/8*s*t),f=new Uint8Array(r*c);let d=u9,g=0,w,E;for(let b=0;b<r;b++){switch(w=e.subarray(g+1,g+1+c),E=f.subarray(b*c,(b+1)*c),e[g]){case 0:e6(w,E,c);break;case 1:t6(w,E,c,u);break;case 2:n6(w,E,d,c);break;case 3:r6(w,E,d,c,u);break;case 4:i6(w,E,d,c,u);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}d=E,g+=c+1}if(o===16){const b=new Uint16Array(f.buffer);if(l9)for(let V=0;V<b.length;V++)b[V]=c9(b[V]);return b}else return f}function c9(n){return(n&255)<<8|n>>8&255}const zg=Uint8Array.of(137,80,78,71,13,10,26,10);function nE(n){if(!h9(n.readBytes(zg.length)))throw new Error("wrong PNG signature")}function h9(n){if(n.length<zg.length)return!1;for(let e=0;e<zg.length;e++)if(n[e]!==zg[e])return!1;return!0}const f9="tEXt",d9=0,s6=new TextDecoder("latin1");function p9(n){if(g9(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const m9=/^[\u0000-\u00FF]*$/;function g9(n){if(!m9.test(n))throw new Error("invalid latin1 text")}function y9(n,e,t){const r=a6(e);n[r]=_9(e,t-r.length-1)}function a6(n){for(n.mark();n.readByte()!==d9;);const e=n.offset;n.reset();const t=s6.decode(n.readBytes(e-n.offset-1));return n.skip(1),p9(t),t}function _9(n,e){return s6.decode(n.readBytes(e))}const ka={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},X2={UNKNOWN:-1,DEFLATE:0},rE={UNKNOWN:-1,ADAPTIVE:0},J2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},xg={NONE:0,BACKGROUND:1,PREVIOUS:2},Z2={SOURCE:0,OVER:1};class v9 extends D5{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new J4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=X2.UNKNOWN,this._filterMethod=rE.UNKNOWN,this._interlaceMethod=J2.UNKNOWN,this._colorType=ka.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(nE(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(nE(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case f9:y9(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?eE(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?eE(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=b9(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case ka.GREYSCALE:r=1;break;case ka.TRUECOLOUR:r=3;break;case ka.INDEXED_COLOUR:r=1;break;case ka.GREYSCALE_ALPHA:r=2;break;case ka.TRUECOLOUR_ALPHA:r=4;break;case ka.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==X2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<t;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ka.GREYSCALE:case ka.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case ka.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case ka.UNKNOWN:case ka.GREYSCALE_ALPHA:case ka.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=a6(this),r=this.readUint8();if(r!==X2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:QM(s)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=tE({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(r,s,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case xg.NONE:break;case xg.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const u=(s*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[u+c]=0}break;case xg.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,s=(o,u)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+u)*this._png.channels,f=(o*t.width+u)*this._png.channels;return{index:c,frameIndex:f}};switch(t.blendOp){case Z2.SOURCE:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=s(o,u);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[f+d]}break;case Z2.OVER:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=s(o,u);for(let d=0;d<this._png.channels;d++){const g=t.data[f+this._png.channels-1]/r,w=d%(this._png.channels-1)===0?1:t.data[f+d],E=Math.floor(g*w+(1-g)*e.data[c+d]);e.data[c+d]+=E}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==rE.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===J2.NO_INTERLACE)this._png.data=tE({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===J2.ADAM7)this._png.data=i9({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:xg.NONE,blendOp:Z2.SOURCE,data:e}),this._inflator=new J4,this._writingDataChunks=!1}}function b9(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var iE;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(iE||(iE={}));function w9(n,e){return new v9(n,e).decode()}var Qt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function ey(){Qt.console&&typeof Qt.console.log=="function"&&Qt.console.log.apply(Qt.console,arguments)}var yr={log:ey,warn:function(n){Qt.console&&(typeof Qt.console.warn=="function"?Qt.console.warn.apply(Qt.console,arguments):ey.call(null,arguments))},error:function(n){Qt.console&&(typeof Qt.console.error=="function"?Qt.console.error.apply(Qt.console,arguments):ey(n))}};function ty(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){$c(r.response,e,t)},r.onerror=function(){yr.error("could not download file")},r.send()}function sE(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Tg(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var $c=Qt.saveAs||((typeof window>"u"?"undefined":Zn(window))!=="object"||window!==Qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Qt.URL||Qt.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?sE(s.href)?ty(n,e,t):Tg(s,s.target="_blank"):Tg(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Tg(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(sE(n))ty(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Tg(r)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:Zn(o)!=="object"&&(yr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return ty(n,e,t);var s=n.type==="application/octet-stream",o=/constructor/i.test(Qt.HTMLElement)||Qt.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&(typeof FileReader>"u"?"undefined":Zn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var g=c.result;g=u?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},c.readAsDataURL(n)}else{var f=Qt.URL||Qt.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function o6(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var s=t[r].re,o=t[r].process,u=s.exec(n);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var Hg=Qt.atob.bind(Qt),aE=Qt.btoa.bind(Qt);function ny(n,e){var t=n[0],r=n[1],s=n[2],o=n[3];t=xs(t,r,s,o,e[0],7,-680876936),o=xs(o,t,r,s,e[1],12,-389564586),s=xs(s,o,t,r,e[2],17,606105819),r=xs(r,s,o,t,e[3],22,-1044525330),t=xs(t,r,s,o,e[4],7,-176418897),o=xs(o,t,r,s,e[5],12,1200080426),s=xs(s,o,t,r,e[6],17,-1473231341),r=xs(r,s,o,t,e[7],22,-45705983),t=xs(t,r,s,o,e[8],7,1770035416),o=xs(o,t,r,s,e[9],12,-1958414417),s=xs(s,o,t,r,e[10],17,-42063),r=xs(r,s,o,t,e[11],22,-1990404162),t=xs(t,r,s,o,e[12],7,1804603682),o=xs(o,t,r,s,e[13],12,-40341101),s=xs(s,o,t,r,e[14],17,-1502002290),t=Ts(t,r=xs(r,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=Ts(o,t,r,s,e[6],9,-1069501632),s=Ts(s,o,t,r,e[11],14,643717713),r=Ts(r,s,o,t,e[0],20,-373897302),t=Ts(t,r,s,o,e[5],5,-701558691),o=Ts(o,t,r,s,e[10],9,38016083),s=Ts(s,o,t,r,e[15],14,-660478335),r=Ts(r,s,o,t,e[4],20,-405537848),t=Ts(t,r,s,o,e[9],5,568446438),o=Ts(o,t,r,s,e[14],9,-1019803690),s=Ts(s,o,t,r,e[3],14,-187363961),r=Ts(r,s,o,t,e[8],20,1163531501),t=Ts(t,r,s,o,e[13],5,-1444681467),o=Ts(o,t,r,s,e[2],9,-51403784),s=Ts(s,o,t,r,e[7],14,1735328473),t=Is(t,r=Ts(r,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=Is(o,t,r,s,e[8],11,-2022574463),s=Is(s,o,t,r,e[11],16,1839030562),r=Is(r,s,o,t,e[14],23,-35309556),t=Is(t,r,s,o,e[1],4,-1530992060),o=Is(o,t,r,s,e[4],11,1272893353),s=Is(s,o,t,r,e[7],16,-155497632),r=Is(r,s,o,t,e[10],23,-1094730640),t=Is(t,r,s,o,e[13],4,681279174),o=Is(o,t,r,s,e[0],11,-358537222),s=Is(s,o,t,r,e[3],16,-722521979),r=Is(r,s,o,t,e[6],23,76029189),t=Is(t,r,s,o,e[9],4,-640364487),o=Is(o,t,r,s,e[12],11,-421815835),s=Is(s,o,t,r,e[15],16,530742520),t=Ns(t,r=Is(r,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=Ns(o,t,r,s,e[7],10,1126891415),s=Ns(s,o,t,r,e[14],15,-1416354905),r=Ns(r,s,o,t,e[5],21,-57434055),t=Ns(t,r,s,o,e[12],6,1700485571),o=Ns(o,t,r,s,e[3],10,-1894986606),s=Ns(s,o,t,r,e[10],15,-1051523),r=Ns(r,s,o,t,e[1],21,-2054922799),t=Ns(t,r,s,o,e[8],6,1873313359),o=Ns(o,t,r,s,e[15],10,-30611744),s=Ns(s,o,t,r,e[6],15,-1560198380),r=Ns(r,s,o,t,e[13],21,1309151649),t=Ns(t,r,s,o,e[4],6,-145523070),o=Ns(o,t,r,s,e[11],10,-1120210379),s=Ns(s,o,t,r,e[2],15,718787259),r=Ns(r,s,o,t,e[9],21,-343485551),n[0]=tc(t,n[0]),n[1]=tc(r,n[1]),n[2]=tc(s,n[2]),n[3]=tc(o,n[3])}function a0(n,e,t,r,s,o){return e=tc(tc(e,n),tc(r,o)),tc(e<<s|e>>>32-s,t)}function xs(n,e,t,r,s,o,u){return a0(e&t|~e&r,n,e,s,o,u)}function Ts(n,e,t,r,s,o,u){return a0(e&r|t&~r,n,e,s,o,u)}function Is(n,e,t,r,s,o,u){return a0(e^t^r,n,e,s,o,u)}function Ns(n,e,t,r,s,o,u){return a0(t^(e|~r),n,e,s,o,u)}function l6(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)ny(r,A9(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(ny(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,ny(r,s),r}function A9(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var oE="0123456789abcdef".split("");function E9(n){for(var e="",t=0;t<4;t++)e+=oE[n>>8*t+4&15]+oE[n>>8*t&15];return e}function S9(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Zy(n){return l6(n).map(S9).join("")}var x9=(function(n){for(var e=0;e<n.length;e++)n[e]=E9(n[e]);return n.join("")})(l6("hello"))!="5d41402abc4b2a76b9719d911017c592";function tc(n,e){if(x9){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function e_(n,e){var t,r,s,o;if(n!==t){for(var u=(s=n,o=1+(256/n.length|0),new Array(o+1).join(s)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var g=c[f];d=(d+g+u.charCodeAt(f))%256,c[f]=c[d],c[d]=g}t=n,r=c}else c=r;var w=e.length,E=0,b=0,V="";for(f=0;f<w;f++)b=(b+(g=c[E=(E+1)%256]))%256,c[E]=c[b],c[b]=g,u=c[(c[E]+c[b])%256],V+=String.fromCharCode(e.charCodeAt(f)^u);return V}var lE={print:4,modify:8,copy:16,"annot-forms":32};function Sf(n,e,t,r){this.v=1,this.r=2;var s=192;n.forEach(function(c){if(lE.perm!==void 0)throw new Error("Invalid permission: "+c);s+=lE[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^s)),this.encryptionKey=Zy(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=e_(this.encryptionKey,this.padding)}function xf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var s=n.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[r]}return e}function uE(n){if(Zn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,s){if(s=s||!1,typeof t!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!s],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var u=e[t][o];try{u[0].apply(n,r)}catch(c){Qt.console&&yr.error("jsPDF PubSub Error",c.message,c)}u[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function E1(n){if(!(this instanceof E1))return new E1(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function u6(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Jc(n,e,t,r,s){if(!(this instanceof Jc))return new Jc(n,e,t,r,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,u6.call(this,r,s)}function If(n,e,t,r,s){if(!(this instanceof If))return new If(n,e,t,r,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,u6.call(this,r,s)}function Ct(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],u=[],c=1,f=16,d="S",g=null;Zn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,s=n.format||s,o=n.compress||n.compressPdf||o,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),r=r||"mm",t=(""+(t||"P")).toLowerCase();var w=n.putOnlyUsedFonts||!1,E={},b={internal:{},__private__:{}};b.__private__.PubSub=uE;var V="1.3",M=b.__private__.getPdfVersion=function(){return V};b.__private__.setPdfVersion=function(A){V=A};var B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return B};var U=b.__private__.getPageFormat=function(A){return B[A]};s=s||"a4";var ne="compat",Y="advanced",ee=ne;function ge(){this.saveGraphicsState(),te(new Nt(Wt,0,0,-Wt,0,Ms()*Wt).toString()+" cm"),this.setFontSize(this.getFontSize()/Wt),d="n",ee=Y}function be(){this.restoreGraphicsState(),d="S",ee=ne}var H=b.__private__.combineFontStyleAndFontWeight=function(A,j){if(A=="bold"&&j=="normal"||A=="bold"&&j==400||A=="normal"&&j=="italic"||A=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(A=j==400||j==="normal"?A==="italic"?"italic":"normal":j!=700&&j!=="bold"||A!=="normal"?(j==700?"bold":j)+""+A:"bold"),A};b.advancedAPI=function(A){var j=ee===ne;return j&&ge.call(this),typeof A!="function"||(A(this),j&&be.call(this)),this},b.compatAPI=function(A){var j=ee===Y;return j&&be.call(this),typeof A!="function"||(A(this),j&&ge.call(this)),this},b.isAdvancedAPI=function(){return ee===Y};var O,C=function(A){if(ee!==Y)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=b.roundToPrecision=b.__private__.roundToPrecision=function(A,j){var ie=e||j;if(isNaN(A)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ie).replace(/0+$/,"")};O=b.hpf=b.__private__.hpf=typeof f=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return G(A,f)}:f==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return G(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return G(A,16)};var I=b.f2=b.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return G(A,2)},P=b.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return G(A,3)},R=b.scale=b.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return ee===ne?A*Wt:ee===Y?A:void 0},oe=function(A){return R((function(j){return ee===ne?Ms()-j:ee===Y?j:void 0})(A))};b.__private__.setPrecision=b.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var Te,ae="00000000000000000000000000000000",pe=b.__private__.getFileId=function(){return ae},fe=b.__private__.setFileId=function(A){return ae=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(dr=new Sf(g.userPermissions,g.userPassword,g.ownerPassword,ae)),ae};b.setFileId=function(A){return fe(A),this},b.getFileId=function(){return pe()};var Le=b.__private__.convertDateToPDFDate=function(A){var j=A.getTimezoneOffset(),ie=j<0?"+":"-",he=Math.floor(Math.abs(j/60)),ve=Math.abs(j%60),Ue=[ie,Z(he),"'",Z(ve),"'"].join("");return["D:",A.getFullYear(),Z(A.getMonth()+1),Z(A.getDate()),Z(A.getHours()),Z(A.getMinutes()),Z(A.getSeconds()),Ue].join("")},Ke=b.__private__.convertPDFDateToDate=function(A){var j=parseInt(A.substr(2,4),10),ie=parseInt(A.substr(6,2),10)-1,he=parseInt(A.substr(8,2),10),ve=parseInt(A.substr(10,2),10),Ue=parseInt(A.substr(12,2),10),Ye=parseInt(A.substr(14,2),10);return new Date(j,ie,he,ve,Ue,Ye,0)},J=b.__private__.setCreationDate=function(A){var j;if(A===void 0&&(A=new Date),A instanceof Date)j=Le(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=A}return Te=j},k=b.__private__.getCreationDate=function(A){var j=Te;return A==="jsDate"&&(j=Ke(Te)),j};b.setCreationDate=function(A){return J(A),this},b.getCreationDate=function(A){return k(A)};var $,Z=b.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},le=b.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},ce=0,ye=[],Pe=[],ke=0,Be=[],Je=[],at=!1,st=Pe;b.__private__.setCustomOutputDestination=function(A){at=!0,st=A};var dt=function(A){at||(st=A)};b.__private__.resetCustomOutputDestination=function(){at=!1,st=Pe};var te=b.__private__.out=function(A){return A=A.toString(),ke+=A.length+1,st.push(A),st},rt=b.__private__.write=function(A){return te(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Xt=b.__private__.getArrayBuffer=function(A){for(var j=A.length,ie=new ArrayBuffer(j),he=new Uint8Array(ie);j--;)he[j]=A.charCodeAt(j);return ie},Lt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Lt};var ze=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(A){return ze=ee===Y?A/Wt:A,this};var lt,ot=b.__private__.getFontSize=b.getFontSize=function(){return ee===ne?ze:ze*Wt},Dt=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(A){return Dt=A,this},b.__private__.getR2L=b.getR2L=function(){return Dt};var St,Jt=b.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))lt=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');lt=A}else lt=parseInt(A,10)};b.__private__.getZoomMode=function(){return lt};var nn,Ht=b.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');St=A};b.__private__.getPageMode=function(){return St};var un=b.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');nn=A};b.__private__.getLayoutMode=function(){return nn},b.__private__.setDisplayMode=b.setDisplayMode=function(A,j,ie){return Jt(A),un(j),Ht(ie),this};var en={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(A){if(Object.keys(en).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return en[A]},b.__private__.getDocumentProperties=function(){return en},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(A){for(var j in en)en.hasOwnProperty(j)&&A[j]&&(en[j]=A[j]);return this},b.__private__.setDocumentProperty=function(A,j){if(Object.keys(en).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return en[A]=j};var bt,Wt,wt,_r,tn,kt={},Bt={},Zt=[],It={},Dn={},Ut={},Ft={},Mn=null,xt=0,At=[],cn=new uE(b),wi=n.hotfixes||[],hi={},qs={},ti=[],Nt=function A(j,ie,he,ve,Ue,Ye){if(!(this instanceof A))return new A(j,ie,he,ve,Ue,Ye);isNaN(j)&&(j=1),isNaN(ie)&&(ie=0),isNaN(he)&&(he=0),isNaN(ve)&&(ve=1),isNaN(Ue)&&(Ue=0),isNaN(Ye)&&(Ye=0),this._matrix=[j,ie,he,ve,Ue,Ye]};Object.defineProperty(Nt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Nt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Nt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Nt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Nt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Nt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Nt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Nt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Nt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Nt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Nt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Nt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Nt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Nt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Nt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Nt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Nt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(A)},Nt.prototype.multiply=function(A){var j=A.sx*this.sx+A.shy*this.shx,ie=A.sx*this.shy+A.shy*this.sy,he=A.shx*this.sx+A.sy*this.shx,ve=A.shx*this.shy+A.sy*this.sy,Ue=A.tx*this.sx+A.ty*this.shx+this.tx,Ye=A.tx*this.shy+A.ty*this.sy+this.ty;return new Nt(j,ie,he,ve,Ue,Ye)},Nt.prototype.decompose=function(){var A=this.sx,j=this.shy,ie=this.shx,he=this.sy,ve=this.tx,Ue=this.ty,Ye=Math.sqrt(A*A+j*j),ft=(A/=Ye)*ie+(j/=Ye)*he;ie-=A*ft,he-=j*ft;var gt=Math.sqrt(ie*ie+he*he);return ft/=gt,A*(he/=gt)<j*(ie/=gt)&&(A=-A,j=-j,ft=-ft,Ye=-Ye),{scale:new Nt(Ye,0,0,gt,0,0),translate:new Nt(1,0,0,1,ve,Ue),rotate:new Nt(A,j,-j,A,0,0),skew:new Nt(1,0,ft,1,0,0)}},Nt.prototype.toString=function(A){return this.join(" ")},Nt.prototype.inversed=function(){var A=this.sx,j=this.shy,ie=this.shx,he=this.sy,ve=this.tx,Ue=this.ty,Ye=1/(A*he-j*ie),ft=he*Ye,gt=-j*Ye,Mt=-ie*Ye,Rt=A*Ye;return new Nt(ft,gt,Mt,Rt,-ft*ve-Mt*Ue,-gt*ve-Rt*Ue)},Nt.prototype.applyToPoint=function(A){var j=A.x*this.sx+A.y*this.shx+this.tx,ie=A.x*this.shy+A.y*this.sy+this.ty;return new pi(j,ie)},Nt.prototype.applyToRectangle=function(A){var j=this.applyToPoint(A),ie=this.applyToPoint(new pi(A.x+A.w,A.y+A.h));return new Hs(j.x,j.y,ie.x-j.x,ie.y-j.y)},Nt.prototype.clone=function(){var A=this.sx,j=this.shy,ie=this.shx,he=this.sy,ve=this.tx,Ue=this.ty;return new Nt(A,j,ie,he,ve,Ue)},b.Matrix=Nt;var _a=b.matrixMult=function(A,j){return j.multiply(A)},ts=new Nt(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=ts;var Vi=function(A,j){if(!Dn[A]){var ie=(j instanceof Jc?"Sh":"P")+(Object.keys(It).length+1).toString(10);j.id=ie,Dn[A]=ie,It[ie]=j,cn.publish("addPattern",j)}};b.ShadingPattern=Jc,b.TilingPattern=If,b.addShadingPattern=function(A,j){return C("addShadingPattern()"),Vi(A,j),this},b.beginTilingPattern=function(A){C("beginTilingPattern()"),Gs(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},b.endTilingPattern=function(A,j){C("endTilingPattern()"),j.stream=Je[$].join(`
`),Vi(A,j),cn.publish("endTilingPattern",j),ti.pop().restore()};var ji,Gn=b.__private__.newObject=function(){var A=ir();return Gr(A,!0),A},ir=b.__private__.newObjectDeferred=function(){return ce++,ye[ce]=function(){return ke},ce},Gr=function(A,j){return j=typeof j=="boolean"&&j,ye[A]=ke,j&&te(A+" 0 obj"),A},Ai=b.__private__.newAdditionalObject=function(){var A={objId:ir(),content:""};return Be.push(A),A},fi=ir(),Vn=ir(),Wn=b.__private__.decodeColorString=function(A){var j=A.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length!==5||j[4]!=="k"&&j[4]!=="K"||(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var ie=parseFloat(j[0]);j=[ie,ie,ie,"r"]}for(var he="#",ve=0;ve<3;ve++)he+=("0"+Math.floor(255*parseFloat(j[ve])).toString(16)).slice(-2);return he},Kr=b.__private__.encodeColorString=function(A){var j;typeof A=="string"&&(A={ch1:A});var ie=A.ch1,he=A.ch2,ve=A.ch3,Ue=A.ch4,Ye=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var ft=new o6(ie);if(ft.ok)ie=ft.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var gt=parseInt(ie.substr(1),16);ie=gt>>16&255,he=gt>>8&255,ve=255&gt}if(he===void 0||Ue===void 0&&ie===he&&he===ve)j=typeof ie=="string"?ie+" "+Ye[0]:A.precision===2?I(ie/255)+" "+Ye[0]:P(ie/255)+" "+Ye[0];else if(Ue===void 0||Zn(Ue)==="object"){if(Ue&&!isNaN(Ue.a)&&Ue.a===0)return["1.","1.","1.",Ye[1]].join(" ");j=typeof ie=="string"?[ie,he,ve,Ye[1]].join(" "):A.precision===2?[I(ie/255),I(he/255),I(ve/255),Ye[1]].join(" "):[P(ie/255),P(he/255),P(ve/255),Ye[1]].join(" ")}else j=typeof ie=="string"?[ie,he,ve,Ue,Ye[2]].join(" "):A.precision===2?[I(ie),I(he),I(ve),I(Ue),Ye[2]].join(" "):[P(ie),P(he),P(ve),P(Ue),Ye[2]].join(" ");return j},Ui=b.__private__.getFilters=function(){return u},gs=b.__private__.putStream=function(A){var j=(A=A||{}).data||"",ie=A.filters||Ui(),he=A.alreadyAppliedFilters||[],ve=A.addLength1||!1,Ue=j.length,Ye=A.objectId,ft=function(x){return x};if(g!==null&&Ye===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(ft=dr.encryptor(Ye,0));var gt={};ie===!0&&(ie=["FlateEncode"]);var Mt=A.additionalKeyValues||[],Rt=(gt=Ct.API.processDataByFilters!==void 0?Ct.API.processDataByFilters(j,ie):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(he)?he.join(" "):he.toString());if(gt.data.length!==0&&(Mt.push({key:"Length",value:gt.data.length}),ve===!0&&Mt.push({key:"Length1",value:Ue})),Rt.length!=0)if(Rt.split("/").length-1==1)Mt.push({key:"Filter",value:Rt});else{Mt.push({key:"Filter",value:"["+Rt+"]"});for(var mn=0;mn<Mt.length;mn+=1)if(Mt[mn].key==="DecodeParms"){for(var sr=[],Kn=0;Kn<gt.reverseChain.split("/").length-1;Kn+=1)sr.push("null");sr.push(Mt[mn].value),Mt[mn].value="["+sr.join(" ")+"]"}}te("<<");for(var m=0;m<Mt.length;m++)te("/"+Mt[m].key+" "+Mt[m].value);te(">>"),gt.data.length!==0&&(te("stream"),te(ft(gt.data)),te("endstream"))},ja=b.__private__.putPage=function(A){var j=A.number,ie=A.data,he=A.objId,ve=A.contentsObjId;Gr(he,!0),te("<</Type /Page"),te("/Parent "+A.rootDictionaryObjId+" 0 R"),te("/Resources "+A.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(O(A.mediaBox.bottomLeftX))+" "+parseFloat(O(A.mediaBox.bottomLeftY))+" "+O(A.mediaBox.topRightX)+" "+O(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&te("/CropBox ["+O(A.cropBox.bottomLeftX)+" "+O(A.cropBox.bottomLeftY)+" "+O(A.cropBox.topRightX)+" "+O(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&te("/BleedBox ["+O(A.bleedBox.bottomLeftX)+" "+O(A.bleedBox.bottomLeftY)+" "+O(A.bleedBox.topRightX)+" "+O(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&te("/TrimBox ["+O(A.trimBox.bottomLeftX)+" "+O(A.trimBox.bottomLeftY)+" "+O(A.trimBox.topRightX)+" "+O(A.trimBox.topRightY)+"]"),A.artBox!==null&&te("/ArtBox ["+O(A.artBox.bottomLeftX)+" "+O(A.artBox.bottomLeftY)+" "+O(A.artBox.topRightX)+" "+O(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&te("/UserUnit "+A.userUnit),cn.publish("putPage",{objId:he,pageContext:At[j],pageNumber:j,page:ie}),te("/Contents "+ve+" 0 R"),te(">>"),te("endobj");var Ue=ie.join(`
`);return ee===Y&&(Ue+=`
Q`),Gr(ve,!0),gs({data:Ue,filters:Ui(),objectId:ve}),te("endobj"),he},ks=b.__private__.putPages=function(){var A,j,ie=[];for(A=1;A<=xt;A++)At[A].objId=ir(),At[A].contentsObjId=ir();for(A=1;A<=xt;A++)ie.push(ja({number:A,data:Je[A],objId:At[A].objId,contentsObjId:At[A].contentsObjId,mediaBox:At[A].mediaBox,cropBox:At[A].cropBox,bleedBox:At[A].bleedBox,trimBox:At[A].trimBox,artBox:At[A].artBox,userUnit:At[A].userUnit,rootDictionaryObjId:fi,resourceDictionaryObjId:Vn}));Gr(fi,!0),te("<</Type /Pages");var he="/Kids [";for(j=0;j<xt;j++)he+=ie[j]+" 0 R ";te(he+"]"),te("/Count "+xt),te(">>"),te("endobj"),cn.publish("postPutPages")},Fi=function(A){cn.publish("putFont",{font:A,out:te,newObject:Gn,putStream:gs}),A.isAlreadyPutted!==!0&&(A.objectNumber=Gn(),te("<<"),te("/Type /Font"),te("/BaseFont /"+xf(A.postScriptName)),te("/Subtype /Type1"),typeof A.encoding=="string"&&te("/Encoding /"+A.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},va=function(A){A.objectNumber=Gn();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[O(A.x),O(A.y),O(A.x+A.width),O(A.y+A.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ie=A.pages[1].join(`
`);gs({data:ie,additionalKeyValues:j,objectId:A.objectNumber}),te("endobj")},ns=function(A,j){j||(j=21);var ie=Gn(),he=(function(Ye,ft){var gt,Mt=[],Rt=1/(ft-1);for(gt=0;gt<1;gt+=Rt)Mt.push(gt);if(Mt.push(1),Ye[0].offset!=0){var mn={offset:0,color:Ye[0].color};Ye.unshift(mn)}if(Ye[Ye.length-1].offset!=1){var sr={offset:1,color:Ye[Ye.length-1].color};Ye.push(sr)}for(var Kn="",m=0,x=0;x<Mt.length;x++){for(gt=Mt[x];gt>Ye[m+1].offset;)m++;var L=Ye[m].offset,Q=(gt-L)/(Ye[m+1].offset-L),Ae=Ye[m].color,De=Ye[m+1].color;Kn+=le(Math.round((1-Q)*Ae[0]+Q*De[0]).toString(16))+le(Math.round((1-Q)*Ae[1]+Q*De[1]).toString(16))+le(Math.round((1-Q)*Ae[2]+Q*De[2]).toString(16))}return Kn.trim()})(A.colors,j),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+j+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),gs({data:he,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),te("endobj"),A.objectNumber=Gn(),te("<< /ShadingType "+A.type),te("/ColorSpace /DeviceRGB");var Ue="/Coords ["+O(parseFloat(A.coords[0]))+" "+O(parseFloat(A.coords[1]))+" ";A.type===2?Ue+=O(parseFloat(A.coords[2]))+" "+O(parseFloat(A.coords[3])):Ue+=O(parseFloat(A.coords[2]))+" "+O(parseFloat(A.coords[3]))+" "+O(parseFloat(A.coords[4]))+" "+O(parseFloat(A.coords[5])),te(Ue+="]"),A.matrix&&te("/Matrix ["+A.matrix.toString()+"]"),te("/Function "+ie+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},Ei=function(A,j){var ie=ir(),he=Gn();j.push({resourcesOid:ie,objectOid:he}),A.objectNumber=he;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+A.boundingBox.map(O).join(" ")+"]"}),ve.push({key:"XStep",value:O(A.xStep)}),ve.push({key:"YStep",value:O(A.yStep)}),ve.push({key:"Resources",value:ie+" 0 R"}),A.matrix&&ve.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),gs({data:A.stream,additionalKeyValues:ve,objectId:A.objectNumber}),te("endobj")},rs=function(A){for(var j in A.objectNumber=Gn(),te("<<"),A)switch(j){case"opacity":te("/ca "+I(A[j]));break;case"stroke-opacity":te("/CA "+I(A[j]))}te(">>"),te("endobj")},ys=function(A){Gr(A.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var j in te("/Font <<"),kt)kt.hasOwnProperty(j)&&(w===!1||w===!0&&E.hasOwnProperty(j))&&te("/"+j+" "+kt[j].objectNumber+" 0 R");te(">>")})(),(function(){if(Object.keys(It).length>0){for(var j in te("/Shading <<"),It)It.hasOwnProperty(j)&&It[j]instanceof Jc&&It[j].objectNumber>=0&&te("/"+j+" "+It[j].objectNumber+" 0 R");cn.publish("putShadingPatternDict"),te(">>")}})(),(function(j){if(Object.keys(It).length>0){for(var ie in te("/Pattern <<"),It)It.hasOwnProperty(ie)&&It[ie]instanceof b.TilingPattern&&It[ie].objectNumber>=0&&It[ie].objectNumber<j&&te("/"+ie+" "+It[ie].objectNumber+" 0 R");cn.publish("putTilingPatternDict"),te(">>")}})(A.objectOid),(function(){if(Object.keys(Ut).length>0){var j;for(j in te("/ExtGState <<"),Ut)Ut.hasOwnProperty(j)&&Ut[j].objectNumber>=0&&te("/"+j+" "+Ut[j].objectNumber+" 0 R");cn.publish("putGStateDict"),te(">>")}})(),(function(){for(var j in te("/XObject <<"),hi)hi.hasOwnProperty(j)&&hi[j].objectNumber>=0&&te("/"+j+" "+hi[j].objectNumber+" 0 R");cn.publish("putXobjectDict"),te(">>")})(),te(">>"),te("endobj")},br=function(A){Bt[A.fontName]=Bt[A.fontName]||{},Bt[A.fontName][A.fontStyle]=A.id},Vo=function(A,j,ie,he,ve){var Ue={id:"F"+(Object.keys(kt).length+1).toString(10),postScriptName:A,fontName:j,fontStyle:ie,encoding:he,isStandardFont:ve||!1,metadata:{}};return cn.publish("addFont",{font:Ue,instance:this}),kt[Ue.id]=Ue,br(Ue),Ue.id},Bi=b.__private__.pdfEscape=b.pdfEscape=function(A,j){return(function(ie,he){var ve,Ue,Ye,ft,gt,Mt,Rt,mn,sr;if(Ye=(he=he||{}).sourceEncoding||"Unicode",gt=he.outputEncoding,(he.autoencode||gt)&&kt[bt].metadata&&kt[bt].metadata[Ye]&&kt[bt].metadata[Ye].encoding&&(ft=kt[bt].metadata[Ye].encoding,!gt&&kt[bt].encoding&&(gt=kt[bt].encoding),!gt&&ft.codePages&&(gt=ft.codePages[0]),typeof gt=="string"&&(gt=ft[gt]),gt)){for(Rt=!1,Mt=[],ve=0,Ue=ie.length;ve<Ue;ve++)(mn=gt[ie.charCodeAt(ve)])?Mt.push(String.fromCharCode(mn)):Mt.push(ie[ve]),Mt[ve].charCodeAt(0)>>8&&(Rt=!0);ie=Mt.join("")}for(ve=ie.length;Rt===void 0&&ve!==0;)ie.charCodeAt(ve-1)>>8&&(Rt=!0),ve--;if(!Rt)return ie;for(Mt=he.noBOM?[]:[254,255],ve=0,Ue=ie.length;ve<Ue;ve++){if((sr=(mn=ie.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Mt.push(sr),Mt.push(mn-(sr<<8))}return String.fromCharCode.apply(void 0,Mt)})(A,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_s=b.__private__.beginPage=function(A){Je[++xt]=[],At[xt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},jo(xt),dt(Je[$])},Ds=function(A,j){var ie,he,ve;switch(t=j||t,typeof A=="string"&&(ie=U(A.toLowerCase()),Array.isArray(ie)&&(he=ie[0],ve=ie[1])),Array.isArray(A)&&(he=A[0]*Wt,ve=A[1]*Wt),isNaN(he)&&(he=s[0],ve=s[1]),(he>14400||ve>14400)&&(yr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),he=Math.min(14400,he),ve=Math.min(14400,ve)),s=[he,ve],t.substr(0,1)){case"l":ve>he&&(s=[ve,he]);break;case"p":he>ve&&(s=[ve,he])}_s(s),Pt(zi),te(ss),os!==0&&te(os+" J"),Ur!==0&&te(Ur+" j"),cn.publish("addPage",{pageNumber:xt})},io=function(A){A>0&&A<=xt&&(Je.splice(A,1),At.splice(A,1),xt--,$>xt&&($=xt),this.setPage($))},jo=function(A){A>0&&A<=xt&&($=A)},Uo=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Je.length-1},El=function(A,j,ie){var he,ve=void 0;return ie=ie||{},A=A!==void 0?A:kt[bt].fontName,j=j!==void 0?j:kt[bt].fontStyle,he=A.toLowerCase(),Bt[he]!==void 0&&Bt[he][j]!==void 0?ve=Bt[he][j]:Bt[A]!==void 0&&Bt[A][j]!==void 0?ve=Bt[A][j]:ie.disableWarning===!1&&yr.warn("Unable to look up font label for font '"+A+"', '"+j+"'. Refer to getFontList() for available fonts."),ve||ie.noFallback||(ve=Bt.times[j])==null&&(ve=Bt.times.normal),ve},is=b.__private__.putInfo=function(){var A=Gn(),j=function(he){return he};for(var ie in g!==null&&(j=dr.encryptor(A,0)),te("<<"),te("/Producer ("+Bi(j("jsPDF "+Ct.version))+")"),en)en.hasOwnProperty(ie)&&en[ie]&&te("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+Bi(j(en[ie]))+")");te("/CreationDate ("+Bi(j(Te))+")"),te(">>"),te("endobj")},di=b.__private__.putCatalog=function(A){var j=(A=A||{}).rootDictionaryObjId||fi;switch(Gn(),te("<<"),te("/Type /Catalog"),te("/Pages "+j+" 0 R"),lt||(lt="fullwidth"),lt){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+lt;ie.substr(ie.length-1)==="%"&&(lt=parseInt(lt)/100),typeof lt=="number"&&te("/OpenAction [3 0 R /XYZ null null "+I(lt)+"]")}switch(nn||(nn="continuous"),nn){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}St&&te("/PageMode /"+St),cn.publish("putCatalog"),te(">>"),te("endobj")},Nr=b.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(ce+1)),te("/Root "+ce+" 0 R"),te("/Info "+(ce-1)+" 0 R"),g!==null&&te("/Encrypt "+dr.oid+" 0 R"),te("/ID [ <"+ae+"> <"+ae+"> ]"),te(">>")},pn=b.__private__.putHeader=function(){te("%PDF-"+V),te("%")},ba=b.__private__.putXRef=function(){var A="0000000000";te("xref"),te("0 "+(ce+1)),te("0000000000 65535 f ");for(var j=1;j<=ce;j++)typeof ye[j]=="function"?te((A+ye[j]()).slice(-10)+" 00000 n "):ye[j]!==void 0?te((A+ye[j]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},vs=b.__private__.buildDocument=function(){var A;ce=0,ke=0,Pe=[],ye=[],Be=[],fi=ir(),Vn=ir(),dt(Pe),cn.publish("buildDocument"),pn(),ks(),(function(){cn.publish("putAdditionalObjects");for(var ie=0;ie<Be.length;ie++){var he=Be[ie];Gr(he.objId,!0),te(he.content),te("endobj")}cn.publish("postPutAdditionalObjects")})(),A=[],(function(){for(var ie in kt)kt.hasOwnProperty(ie)&&(w===!1||w===!0&&E.hasOwnProperty(ie))&&Fi(kt[ie])})(),(function(){var ie;for(ie in Ut)Ut.hasOwnProperty(ie)&&rs(Ut[ie])})(),(function(){for(var ie in hi)hi.hasOwnProperty(ie)&&va(hi[ie])})(),(function(ie){var he;for(he in It)It.hasOwnProperty(he)&&(It[he]instanceof Jc?ns(It[he]):It[he]instanceof If&&Ei(It[he],ie))})(A),cn.publish("putResources"),A.forEach(ys),ys({resourcesOid:Vn,objectOid:Number.MAX_SAFE_INTEGER}),cn.publish("postPutResources"),g!==null&&(dr.oid=Gn(),te("<<"),te("/Filter /Standard"),te("/V "+dr.v),te("/R "+dr.r),te("/U <"+dr.toHexString(dr.U)+">"),te("/O <"+dr.toHexString(dr.O)+">"),te("/P "+dr.P),te(">>"),te("endobj")),is(),di();var j=ke;return ba(),Nr(),te("startxref"),te(""+j),te("%%EOF"),dt(Je[$]),Pe.join(`
`)},An=b.__private__.getBlob=function(A){return new Blob([Xt(A)],{type:"application/pdf"})},Ua=b.output=b.__private__.output=(ji=function(A,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",A){case void 0:return vs();case"save":b.save(j.filename);break;case"arraybuffer":return Xt(vs());case"blob":return An(vs());case"bloburi":case"bloburl":if(Qt.URL!==void 0&&typeof Qt.URL.createObjectURL=="function")return Qt.URL&&Qt.URL.createObjectURL(An(vs()))||void 0;yr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",he=vs();try{ie=aE(he)}catch{ie=aE(unescape(encodeURIComponent(he)))}return"data:application/pdf;filename="+j.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ue=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(ve=j.pdfObjectUrl,Ue="");var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Ue+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",ft=Qt.open();return ft!==null&&ft.document.write(Ye),ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',Mt=Qt.open();if(Mt!==null){Mt.document.write(gt);var Rt=this;Mt.document.documentElement.querySelector("#pdfViewer").onload=function(){Mt.document.title=j.filename,Mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Rt.output("bloburl"))}}return Mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var mn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',sr=Qt.open();if(sr!==null&&(sr.document.write(mn),sr.document.title=j.filename),sr||typeof safari>"u")return sr;break;case"datauri":case"dataurl":return Qt.document.location.href=this.output("datauristring",j);default:return null}},ji.foo=function(){try{return ji.apply(this,arguments)}catch(ie){var A=ie.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var j="Error in function "+A.split(`
`)[0].split("<")[0]+": "+ie.message;if(!Qt.console)throw new Error(j);Qt.console.error(j,ie),Qt.alert&&alert(j)}},ji.foo.bar=ji,ji.foo),jr=function(A){return Array.isArray(wi)===!0&&wi.indexOf(A)>-1};switch(r){case"pt":Wt=1;break;case"mm":Wt=72/25.4;break;case"cm":Wt=72/2.54;break;case"in":Wt=72;break;case"px":Wt=jr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Wt=12;break;case"ex":Wt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Wt=r}var dr=null;J(),fe();var Rr=b.__private__.getPageInfo=b.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[A].objId,pageNumber:A,pageContext:At[A]}},so=b.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in At)if(At[j].objId===A)break;return Rr(j)},fu=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:At[$].objId,pageNumber:$,pageContext:At[$]}};b.addPage=function(){return Ds.apply(this,arguments),this},b.setPage=function(){return jo.apply(this,arguments),dt.call(this,Je[$]),this},b.insertPage=function(A){return this.addPage(),this.movePage($,A),this},b.movePage=function(A,j){var ie,he;if(A>j){ie=Je[A],he=At[A];for(var ve=A;ve>j;ve--)Je[ve]=Je[ve-1],At[ve]=At[ve-1];Je[j]=ie,At[j]=he,this.setPage(j)}else if(A<j){ie=Je[A],he=At[A];for(var Ue=A;Ue<j;Ue++)Je[Ue]=Je[Ue+1],At[Ue]=At[Ue+1];Je[j]=ie,At[j]=he,this.setPage(j)}return this},b.deletePage=function(){return io.apply(this,arguments),this},b.__private__.text=b.text=function(A,j,ie,he,ve){var Ue,Ye,ft,gt,Mt,Rt,mn,sr,Kn,m=(he=he||{}).scope||this;if(typeof A=="number"&&typeof j=="number"&&(typeof ie=="string"||Array.isArray(ie))){var x=ie;ie=j,j=A,A=x}if(arguments[3]instanceof Nt==0?(ft=arguments[4],gt=arguments[5],Zn(mn=arguments[3])==="object"&&mn!==null||(typeof ft=="string"&&(gt=ft,ft=null),typeof mn=="string"&&(gt=mn,mn=null),typeof mn=="number"&&(ft=mn,mn=null),he={flags:mn,angle:ft,align:gt})):(C("The transform parameter of text() with a Matrix value"),Kn=ve),isNaN(j)||isNaN(ie)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return m;var L,Q="",Ae=typeof he.lineHeightFactor=="number"?he.lineHeightFactor:Ea,De=m.internal.scaleFactor;function Ze(Pn){return Pn=Pn.split("	").join(Array(he.TabLen||9).join(" ")),Bi(Pn,mn)}function $t(Pn){for(var In,or=Pn.concat(),Br=[],Xa=or.length;Xa--;)typeof(In=or.shift())=="string"?Br.push(In):Array.isArray(Pn)&&(In.length===1||In[1]===void 0&&In[2]===void 0)?Br.push(In[0]):Br.push([In[0],In[1],In[2]]);return Br}function ar(Pn,In){var or;if(typeof Pn=="string")or=In(Pn)[0];else if(Array.isArray(Pn)){for(var Br,Xa,Ia=Pn.concat(),Ll=[],Nc=Ia.length;Nc--;)typeof(Br=Ia.shift())=="string"?Ll.push(In(Br)[0]):Array.isArray(Br)&&typeof Br[0]=="string"&&(Xa=In(Br[0],Br[1],Br[2]),Ll.push([Xa[0],Xa[1],Xa[2]]));or=Ll}return or}var fn=!1,Un=!0;if(typeof A=="string")fn=!0;else if(Array.isArray(A)){var mi=A.concat();Ye=[];for(var xi,Yn=mi.length;Yn--;)(typeof(xi=mi.shift())!="string"||Array.isArray(xi)&&typeof xi[0]!="string")&&(Un=!1);fn=Un}if(fn===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Ti=ze/m.internal.scaleFactor,Vs=Ti*(Ae-1);switch(he.baseline){case"bottom":ie-=Vs;break;case"top":ie+=Ti-Vs;break;case"hanging":ie+=Ti-2*Vs;break;case"middle":ie+=Ti/2-Vs}if((Rt=he.maxWidth||0)>0&&(typeof A=="string"?A=m.splitTextToSize(A,Rt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(Pn,In){return Pn.concat(m.splitTextToSize(In,Rt))},[]))),Ue={text:A,x:j,y:ie,options:he,mutex:{pdfEscape:Bi,activeFontKey:bt,fonts:kt,activeFontSize:ze}},cn.publish("preProcessText",Ue),A=Ue.text,ft=(he=Ue.options).angle,Kn instanceof Nt==0&&ft&&typeof ft=="number"){ft*=Math.PI/180,he.rotationDirection===0&&(ft=-ft),ee===Y&&(ft=-ft);var Ha=Math.cos(ft),Ga=Math.sin(ft);Kn=new Nt(Ha,Ga,-Ga,Ha,0,0)}else ft&&ft instanceof Nt&&(Kn=ft);ee!==Y||Kn||(Kn=ts),(Mt=he.charSpace||as)!==void 0&&(Q+=O(R(Mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(sr=he.horizontalScale)!==void 0&&(Q+=O(100*sr)+` Tz
`),he.lang;var us=-1,co=he.renderingMode!==void 0?he.renderingMode:he.stroke,du=m.internal.getCurrentPageInfo().pageContext;switch(co){case 0:case!1:case"fill":us=0;break;case 1:case!0:case"stroke":us=1;break;case 2:case"fillThenStroke":us=2;break;case 3:case"invisible":us=3;break;case 4:case"fillAndAddForClipping":us=4;break;case 5:case"strokeAndAddPathForClipping":us=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":us=6;break;case 7:case"addToPathForClipping":us=7}var Tc=du.usedRenderingMode!==void 0?du.usedRenderingMode:-1;us!==-1?Q+=us+` Tr
`:Tc!==-1&&(Q+=`0 Tr
`),us!==-1&&(du.usedRenderingMode=us),gt=he.align||"left";var js,xa=ze*Ae,ho=m.internal.pageSize.getWidth(),Ic=kt[bt];Mt=he.charSpace||as,Rt=he.maxWidth||0,mn=Object.assign({autoencode:!0,noBOM:!0},he.flags);var Ta=[],Go=function(Pn){return m.getStringUnitWidth(Pn,{font:Ic,charSpace:Mt,fontSize:ze,doKerning:!1})*ze/De};if(Object.prototype.toString.call(A)==="[object Array]"){var ws;Ye=$t(A),gt!=="left"&&(js=Ye.map(Go));var cs,Ka=0;if(gt==="right"){j-=js[0],A=[],Yn=Ye.length;for(var $a=0;$a<Yn;$a++)$a===0?(cs=ri(j),ws=$r(ie)):(cs=R(Ka-js[$a]),ws=-xa),A.push([Ye[$a],cs,ws]),Ka=js[$a]}else if(gt==="center"){j-=js[0]/2,A=[],Yn=Ye.length;for(var fo=0;fo<Yn;fo++)fo===0?(cs=ri(j),ws=$r(ie)):(cs=R((Ka-js[fo])/2),ws=-xa),A.push([Ye[fo],cs,ws]),Ka=js[fo]}else if(gt==="left"){A=[],Yn=Ye.length;for(var pu=0;pu<Yn;pu++)A.push(Ye[pu])}else if(gt==="justify"&&Ic.encoding==="Identity-H"){A=[],Yn=Ye.length,Rt=Rt!==0?Rt:ho;for(var mu=0,Fr=0;Fr<Yn;Fr++)if(ws=Fr===0?$r(ie):-xa,cs=Fr===0?ri(j):mu,Fr<Yn-1){var Rh=R((Rt-js[Fr])/(Ye[Fr].split(" ").length-1)),Wa=Ye[Fr].split(" ");A.push([Wa[0]+" ",cs,ws]),mu=0;for(var Ya=1;Ya<Wa.length;Ya++){var Ii=(Go(Wa[Ya-1]+" "+Wa[Ya])-Go(Wa[Ya]))*De+Rh;Ya==Wa.length-1?A.push([Wa[Ya],Ii,0]):A.push([Wa[Ya]+" ",Ii,0]),mu-=Ii}}else A.push([Ye[Fr],cs,ws]);A.push(["",mu,0])}else{if(gt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Yn=Ye.length,Rt=Rt!==0?Rt:ho,Fr=0;Fr<Yn;Fr++){ws=Fr===0?$r(ie):-xa,cs=Fr===0?ri(j):0;var po=Ye[Fr].split(" ").length-1,gu=po>0?(Rt-js[Fr])/po:0;Fr<Yn-1?Ta.push(O(R(gu))):Ta.push(0),A.push([Ye[Fr],cs,ws])}}}(typeof he.R2L=="boolean"?he.R2L:Dt)===!0&&(A=ar(A,function(Pn,In,or){return[Pn.split("").reverse().join(""),In,or]})),Ue={text:A,x:j,y:ie,options:he,mutex:{pdfEscape:Bi,activeFontKey:bt,fonts:kt,activeFontSize:ze}},cn.publish("postProcessText",Ue),A=Ue.text,L=Ue.mutex.isHex||!1;var yu=kt[bt].encoding;yu!=="WinAnsiEncoding"&&yu!=="StandardEncoding"||(A=ar(A,function(Pn,In,or){return[Ze(Pn),In,or]})),Ye=$t(A),A=[];for(var mo,go,Qa,Cl=Array.isArray(Ye[0])?1:0,Us="",yo=function(Pn,In,or){var Br="";return or instanceof Nt?(or=typeof he.angle=="number"?_a(or,new Nt(1,0,0,1,Pn,In)):_a(new Nt(1,0,0,1,Pn,In),or),ee===Y&&(or=_a(new Nt(1,0,0,-1,0,0),or)),Br=or.join(" ")+` Tm
`):Br=O(Pn)+" "+O(In)+` Td
`,Br},Hi=0;Hi<Ye.length;Hi++){switch(Us="",Cl){case 1:Qa=(L?"<":"(")+Ye[Hi][0]+(L?">":")"),mo=parseFloat(Ye[Hi][1]),go=parseFloat(Ye[Hi][2]);break;case 0:Qa=(L?"<":"(")+Ye[Hi]+(L?">":")"),mo=ri(j),go=$r(ie)}Ta!==void 0&&Ta[Hi]!==void 0&&(Us=Ta[Hi]+` Tw
`),Hi===0?A.push(Us+yo(mo,go,Kn)+Qa):Cl===0?A.push(Us+Qa):Cl===1&&A.push(Us+yo(mo,go,Kn)+Qa)}A=Cl===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Ws=`BT
/`;return Ws+=bt+" "+ze+` Tf
`,Ws+=O(ze*Ae)+` TL
`,Ws+=Os+`
`,Ws+=Q,Ws+=A,te(Ws+="ET"),E[bt]=!0,m};var Sl=b.__private__.clip=b.clip=function(A){return te(A==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Sl("evenodd")},b.__private__.discardPath=b.discardPath=function(){return te("n"),this};var Si=b.__private__.isValidStyle=function(A){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(j=!0),j};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(A){return Si(A)&&(d=A),this};var xl=b.__private__.getStyle=b.getStyle=function(A){var j=d;switch(A){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=A}return j},wa=b.close=function(){return te("h"),this};b.stroke=function(){return te("S"),this},b.fill=function(A){return ni("f",A),this},b.fillEvenOdd=function(A){return ni("f*",A),this},b.fillStroke=function(A){return ni("B",A),this},b.fillStrokeEvenOdd=function(A){return ni("B*",A),this};var ni=function(A,j){Zn(j)==="object"?Il(j,A):te(A)},Fa=function(A){A===null||ee===Y&&A===void 0||(A=xl(A),te(A))};function Tl(A,j,ie,he,ve){var Ue=new If(j||this.boundingBox,ie||this.xStep,he||this.yStep,this.gState,ve||this.matrix);Ue.stream=this.stream;var Ye=A+"$$"+this.cloneIndex+++"$$";return Vi(Ye,Ue),Ue}var Il=function(A,j){var ie=Dn[A.key],he=It[ie];if(he instanceof Jc)te("q"),te(Fo(j)),he.gState&&b.setGState(he.gState),te(A.matrix.toString()+" cm"),te("/"+ie+" sh"),te("Q");else if(he instanceof If){var ve=new Nt(1,0,0,-1,0,Ms());A.matrix&&(ve=ve.multiply(A.matrix||ts),ie=Tl.call(he,A.key,A.boundingBox,A.xStep,A.yStep,ve).id),te("q"),te("/Pattern cs"),te("/"+ie+" scn"),he.gState&&b.setGState(he.gState),te(j),te("Q")}},Fo=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Bo=b.moveTo=function(A,j){return te(O(R(A))+" "+O(oe(j))+" m"),this},Aa=b.lineTo=function(A,j){return te(O(R(A))+" "+O(oe(j))+" l"),this},qi=b.curveTo=function(A,j,ie,he,ve,Ue){return te([O(R(A)),O(oe(j)),O(R(ie)),O(oe(he)),O(R(ve)),O(oe(Ue)),"c"].join(" ")),this};b.__private__.line=b.line=function(A,j,ie,he,ve){if(isNaN(A)||isNaN(j)||isNaN(ie)||isNaN(he)||!Si(ve))throw new Error("Invalid arguments passed to jsPDF.line");return ee===ne?this.lines([[ie-A,he-j]],A,j,[1,1],ve||"S"):this.lines([[ie-A,he-j]],A,j,[1,1]).stroke()},b.__private__.lines=b.lines=function(A,j,ie,he,ve,Ue){var Ye,ft,gt,Mt,Rt,mn,sr,Kn,m,x,L,Q;if(typeof A=="number"&&(Q=ie,ie=j,j=A,A=Q),he=he||[1,1],Ue=Ue||!1,isNaN(j)||isNaN(ie)||!Array.isArray(A)||!Array.isArray(he)||!Si(ve)||typeof Ue!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Bo(j,ie),Ye=he[0],ft=he[1],Mt=A.length,x=j,L=ie,gt=0;gt<Mt;gt++)(Rt=A[gt]).length===2?(x=Rt[0]*Ye+x,L=Rt[1]*ft+L,Aa(x,L)):(mn=Rt[0]*Ye+x,sr=Rt[1]*ft+L,Kn=Rt[2]*Ye+x,m=Rt[3]*ft+L,x=Rt[4]*Ye+x,L=Rt[5]*ft+L,qi(mn,sr,Kn,m,x,L));return Ue&&wa(),Fa(ve),this},b.path=function(A){for(var j=0;j<A.length;j++){var ie=A[j],he=ie.c;switch(ie.op){case"m":Bo(he[0],he[1]);break;case"l":Aa(he[0],he[1]);break;case"c":qi.apply(this,he);break;case"h":wa()}}return this},b.__private__.rect=b.rect=function(A,j,ie,he,ve){if(isNaN(A)||isNaN(j)||isNaN(ie)||isNaN(he)||!Si(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return ee===ne&&(he=-he),te([O(R(A)),O(oe(j)),O(R(ie)),O(R(he)),"re"].join(" ")),Fa(ve),this},b.__private__.triangle=b.triangle=function(A,j,ie,he,ve,Ue,Ye){if(isNaN(A)||isNaN(j)||isNaN(ie)||isNaN(he)||isNaN(ve)||isNaN(Ue)||!Si(Ye))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-A,he-j],[ve-ie,Ue-he],[A-ve,j-Ue]],A,j,[1,1],Ye,!0),this},b.__private__.roundedRect=b.roundedRect=function(A,j,ie,he,ve,Ue,Ye){if(isNaN(A)||isNaN(j)||isNaN(ie)||isNaN(he)||isNaN(ve)||isNaN(Ue)||!Si(Ye))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ft=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*ie),Ue=Math.min(Ue,.5*he),this.lines([[ie-2*ve,0],[ve*ft,0,ve,Ue-Ue*ft,ve,Ue],[0,he-2*Ue],[0,Ue*ft,-ve*ft,Ue,-ve,Ue],[2*ve-ie,0],[-ve*ft,0,-ve,-Ue*ft,-ve,-Ue],[0,2*Ue-he],[0,-Ue*ft,ve*ft,-Ue,ve,-Ue]],A+ve,j,[1,1],Ye,!0),this},b.__private__.ellipse=b.ellipse=function(A,j,ie,he,ve){if(isNaN(A)||isNaN(j)||isNaN(ie)||isNaN(he)||!Si(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ue=4/3*(Math.SQRT2-1)*ie,Ye=4/3*(Math.SQRT2-1)*he;return Bo(A+ie,j),qi(A+ie,j-Ye,A+Ue,j-he,A,j-he),qi(A-Ue,j-he,A-ie,j-Ye,A-ie,j),qi(A-ie,j+Ye,A-Ue,j+he,A,j+he),qi(A+Ue,j+he,A+ie,j+Ye,A+ie,j),Fa(ve),this},b.__private__.circle=b.circle=function(A,j,ie,he){if(isNaN(A)||isNaN(j)||isNaN(ie)||!Si(he))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,j,ie,ie,he)},b.setFont=function(A,j,ie){return ie&&(j=H(j,ie)),bt=El(A,j,{disableWarning:!1}),this};var Ps=b.__private__.getFont=b.getFont=function(){return kt[El.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var A,j,ie={};for(A in Bt)if(Bt.hasOwnProperty(A))for(j in ie[A]=[],Bt[A])Bt[A].hasOwnProperty(j)&&ie[A].push(j);return ie},b.addFont=function(A,j,ie,he,ve){var Ue=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ue.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Ue.indexOf(arguments[3])==-1&&(ie=H(ie,he)),Vo.call(this,A,j,ie,ve=ve||"Identity-H")};var Ea,zi=n.lineWidth||.200025,Ba=b.__private__.getLineWidth=b.getLineWidth=function(){return zi},Pt=b.__private__.setLineWidth=b.setLineWidth=function(A){return zi=A,te(O(R(A))+" w"),this};b.__private__.setLineDash=Ct.API.setLineDash=Ct.API.setLineDashPattern=function(A,j){if(A=A||[],j=j||0,isNaN(j)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ie){return O(R(ie))}).join(" "),j=O(R(j)),te("["+A+"] "+j+" d"),this};var ao=b.__private__.getLineHeight=b.getLineHeight=function(){return ze*Ea};b.__private__.getLineHeight=b.getLineHeight=function(){return ze*Ea};var qo=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Ea=A),this},qa=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Ea};qo(n.lineHeight);var ri=b.__private__.getHorizontalCoordinate=function(A){return R(A)},$r=b.__private__.getVerticalCoordinate=function(A){return ee===Y?A:At[$].mediaBox.topRightY-At[$].mediaBox.bottomLeftY-R(A)},oo=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(A){return O(ri(A))},jn=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(A){return O($r(A))},ss=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Wn(ss)},b.__private__.setStrokeColor=b.setDrawColor=function(A,j,ie,he){return ss=Kr({ch1:A,ch2:j,ch3:ie,ch4:he,pdfColorType:"draw",precision:2}),te(ss),this};var lo=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Wn(lo)},b.__private__.setFillColor=b.setFillColor=function(A,j,ie,he){return lo=Kr({ch1:A,ch2:j,ch3:ie,ch4:he,pdfColorType:"fill",precision:2}),te(lo),this};var Os=n.textColor||"0 g",Nl=b.__private__.getTextColor=b.getTextColor=function(){return Wn(Os)};b.__private__.setTextColor=b.setTextColor=function(A,j,ie,he){return Os=Kr({ch1:A,ch2:j,ch3:ie,ch4:he,pdfColorType:"text",precision:3}),this};var as=n.charSpace,Sa=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(as||0)};b.__private__.setCharSpace=b.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return as=A,this};var os=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(A){var j=b.CapJoinStyles[A];if(j===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return os=j,te(j+" J"),this};var Ur=0;b.__private__.setLineJoin=b.setLineJoin=function(A){var j=b.CapJoinStyles[A];if(j===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ur=j,te(j+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(O(R(A))+" M"),this},b.GState=E1,b.setGState=function(A){(A=typeof A=="string"?Ut[Ft[A]]:zs(null,A)).equals(Mn)||(te("/"+A.id+" gs"),Mn=A)};var zs=function(A,j){if(!A||!Ft[A]){var ie=!1;for(var he in Ut)if(Ut.hasOwnProperty(he)&&Ut[he].equals(j)){ie=!0;break}if(ie)j=Ut[he];else{var ve="GS"+(Object.keys(Ut).length+1).toString(10);Ut[ve]=j,j.id=ve}return A&&(Ft[A]=j.id),cn.publish("addGState",j),j}};b.addGState=function(A,j){return zs(A,j),this},b.saveGraphicsState=function(){return te("q"),Zt.push({key:bt,size:ze,color:Os}),this},b.restoreGraphicsState=function(){te("Q");var A=Zt.pop();return bt=A.key,ze=A.size,Os=A.color,Mn=null,this},b.setCurrentTransformationMatrix=function(A){return te(A.toString()+" cm"),this},b.comment=function(A){return te("#"+A),this};var pi=function(A,j){var ie=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Ue){isNaN(Ue)||(ie=parseFloat(Ue))}});var he=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return he},set:function(Ue){isNaN(Ue)||(he=parseFloat(Ue))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Ue){ve=Ue.toString()}}),this},Hs=function(A,j,ie,he){pi.call(this,A,j),this.type="rect";var ve=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(Ye){isNaN(Ye)||(ve=parseFloat(Ye))}});var Ue=he||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ue},set:function(Ye){isNaN(Ye)||(Ue=parseFloat(Ye))}}),this},za=function(){this.page=xt,this.currentPage=$,this.pages=Je.slice(0),this.pagesContext=At.slice(0),this.x=wt,this.y=_r,this.matrix=tn,this.width=bs($),this.height=zo($),this.outputDestination=st,this.id="",this.objectNumber=-1};za.prototype.restore=function(){xt=this.page,$=this.currentPage,At=this.pagesContext,Je=this.pages,wt=this.x,_r=this.y,tn=this.matrix,uo($,this.width),ls($,this.height),st=this.outputDestination};var Gs=function(A,j,ie,he,ve){ti.push(new za),xt=$=0,Je=[],wt=A,_r=j,tn=ve,_s([ie,he])};for(var Ks in b.beginFormObject=function(A,j,ie,he,ve){return Gs(A,j,ie,he,ve),this},b.endFormObject=function(A){return(function(j){if(qs[j])ti.pop().restore();else{var ie=new za,he="Xo"+(Object.keys(hi).length+1).toString(10);ie.id=he,qs[j]=he,hi[he]=ie,cn.publish("addFormObject",ie),ti.pop().restore()}})(A),this},b.doFormObject=function(A,j){var ie=hi[qs[A]];return te("q"),te(j.toString()+" cm"),te("/"+ie.id+" Do"),te("Q"),this},b.getFormObject=function(A){var j=hi[qs[A]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},b.save=function(A,j){return A=A||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?($c(An(vs()),A),typeof $c.unload=="function"&&Qt.setTimeout&&setTimeout($c.unload,911),this):new Promise(function(ie,he){try{var ve=$c(An(vs()),A);typeof $c.unload=="function"&&Qt.setTimeout&&setTimeout($c.unload,911),ie(ve)}catch(Ue){he(Ue.message)}})},Ct.API)Ct.API.hasOwnProperty(Ks)&&(Ks==="events"&&Ct.API.events.length?(function(A,j){var ie,he,ve;for(ve=j.length-1;ve!==-1;ve--)ie=j[ve][0],he=j[ve][1],A.subscribe.apply(A,[ie].concat(typeof he=="function"?[he]:he))})(cn,Ct.API.events):b[Ks]=Ct.API[Ks]);function bs(A){return At[A].mediaBox.topRightX-At[A].mediaBox.bottomLeftX}function uo(A,j){At[A].mediaBox.topRightX=j+At[A].mediaBox.bottomLeftX}function zo(A){return At[A].mediaBox.topRightY-At[A].mediaBox.bottomLeftY}function ls(A,j){At[A].mediaBox.topRightY=j+At[A].mediaBox.bottomLeftY}var $s=b.getPageWidth=function(A){return bs(A=A||$)/Wt},Rl=b.setPageWidth=function(A,j){uo(A,j*Wt)},Ms=b.getPageHeight=function(A){return zo(A=A||$)/Wt},Ho=b.setPageHeight=function(A,j){ls(A,j*Wt)};return b.internal={pdfEscape:Bi,getStyle:xl,getFont:Ps,getFontSize:ot,getCharSpace:Sa,getTextColor:Nl,getLineHeight:ao,getLineHeightFactor:qa,getLineWidth:Ba,write:rt,getHorizontalCoordinate:ri,getVerticalCoordinate:$r,getCoordinateString:oo,getVerticalCoordinateString:jn,collections:{},newObject:Gn,newAdditionalObject:Ai,newObjectDeferred:ir,newObjectDeferredBegin:Gr,getFilters:Ui,putStream:gs,events:cn,scaleFactor:Wt,pageSize:{getWidth:function(){return $s($)},setWidth:function(A){Rl($,A)},getHeight:function(){return Ms($)},setHeight:function(A){Ho($,A)}},encryptionOptions:g,encryption:dr,getEncryptor:function(A){return g!==null?dr.encryptor(A,0):function(j){return j}},output:Ua,getNumberOfPages:Uo,get pages(){return Je},out:te,f2:I,f3:P,getPageInfo:Rr,getPageInfoByObjId:so,getCurrentPageInfo:fu,getPDFVersion:M,Point:pi,Rectangle:Hs,Matrix:Nt,hasHotfix:jr},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return $s($)},set:function(A){Rl($,A)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return Ms($)},set:function(A){Ho($,A)},enumerable:!0,configurable:!0}),(function(A){for(var j=0,ie=Lt.length;j<ie;j++){var he=Vo.call(this,A[j][0],A[j][1],A[j][2],Lt[j][3],!0);w===!1&&(E[he]=!0);var ve=A[j][0].split("-");br({id:he,fontName:ve[0],fontStyle:ve[1]||""})}cn.publish("addFonts",{fonts:kt,dictionary:Bt})}).call(b,Lt),bt="F1",Ds(s,t),cn.publish("initialized"),b}Sf.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Sf.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Sf.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Sf.prototype.processOwnerPassword=function(n,e){return e_(Zy(e).substr(0,5),n)},Sf.prototype.encryptor=function(n,e){var t=Zy(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return e_(t,r)}},E1.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Zn(n)!==Zn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Ct.API={events:[]},Ct.version="4.2.0";var ei=Ct.API,P5=1,Nh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},_h=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},an=function(n){return n.toFixed(2)},Ku=function(n){return n.toFixed(5)};ei.__acroform__={};var ya=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},cE=function(n){return n*P5},al=function(n){var e=new h6,t=_t.internal.getHeight(n)||0,r=_t.internal.getWidth(n)||0;return e.BBox=[0,0,Number(an(r)),Number(an(t))],e},T9=ei.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},I9=ei.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},N9=ei.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},ai=ei.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return N9(n,e-1)},oi=ei.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return T9(n,e-1)},li=ei.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return I9(n,e-1)},R9=ei.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=n[0],o=n[1],u=n[2],c=n[3],f={};return f.lowerLeft_X=t(s)||0,f.lowerLeft_Y=r(o+c)||0,f.upperRight_X=t(s+u)||0,f.upperRight_Y=r(o)||0,[Number(an(f.lowerLeft_X)),Number(an(f.lowerLeft_Y)),Number(an(f.upperRight_X)),Number(an(f.upperRight_Y))]},C9=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=t_(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+an(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=al(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},t_=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(I){return I.split(`
`)}):s.map(function(I){return[I]});var o=t,u=_t.internal.getHeight(n)||0;u=u<0?-u:u;var c=_t.internal.getWidth(n)||0;c=c<0?-c:c;var f=function(I,P,R){if(I+1<s.length){var oe=P+" "+s[I+1][0];return Ig(oe,n,R).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,g,w=Ig("3",n,o).height,E=n.multiline?u-o:(u-w)/2,b=E+=2,V=0,M=0,B=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ig(e,n,o=12).width+", FieldWidth:"+c+`
`;break}for(var U="",ne=0,Y=0;Y<s.length;Y++)if(s.hasOwnProperty(Y)){var ee=!1;if(s[Y].length!==1&&B!==s[Y].length-1){if((w+2)*(ne+2)+2>u)continue e;U+=s[Y][B],ee=!0,M=Y,Y--}else{U=(U+=s[Y][B]+" ").substr(U.length-1)==" "?U.substr(0,U.length-1):U;var ge=parseInt(Y),be=f(ge,U,o),H=Y>=s.length-1;if(be&&!H){U+=" ",B=0;continue}if(be||H){if(H)M=ge;else if(n.multiline&&(w+2)*(ne+2)+2>u)continue e}else{if(!n.multiline||(w+2)*(ne+2)+2>u)continue e;M=ge}}for(var O="",C=V;C<=M;C++){var G=s[C];if(n.multiline){if(C===M){O+=G[B]+" ",B=(B+1)%G.length;continue}if(C===V){O+=G[G.length-1]+" ";continue}}O+=G[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,g=Ig(O,n,o).width,n.textAlign){case"right":d=c-g-2;break;case"center":d=(c-g)/2;break;default:d=2}e+=an(d)+" "+an(b)+` Td
`,e+="("+Nh(O)+`) Tj
`,e+=-an(d)+` 0 Td
`,b=-(o+2),g=0,V=ee?M:M+1,ne++,U=""}break}return r.text=e,r.fontSize=o,r},Ig=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},L9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},k9=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},D9=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Oo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(L9)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");P5=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new f6,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&k9(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,s){var o=!r;for(var u in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var c=r[u],f=[],d=c.Rect;if(c.Rect&&(c.Rect=R9(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=_t.createDefaultAppearanceStream(c),Zn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var g=C9(c);f.push({key:"AP",value:"<</N "+g+">>"}),s.internal.acroformPlugin.xForms.push(g)}if(c.appearanceStreamContent){var w="";for(var E in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(E)){var b=c.appearanceStreamContent[E];if(w+="/"+E+" ",w+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var u in b)if(b.hasOwnProperty(u)){var V=b[u];typeof V=="function"&&(V=V.call(s,c)),w+="/"+u+" "+V+" ",s.internal.acroformPlugin.xForms.indexOf(V)>=0||s.internal.acroformPlugin.xForms.push(V)}}else typeof(V=b)=="function"&&(V=V.call(s,c)),w+="/"+u+" "+V,s.internal.acroformPlugin.xForms.indexOf(V)>=0||s.internal.acroformPlugin.xForms.push(V);w+=">>"}f.push({key:"AP",value:`<<
`+w+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:c.objId}),s.internal.out("endobj")}o&&(function(M,B){for(var U in M)if(M.hasOwnProperty(U)){var ne=U,Y=M[U];B.internal.newObjectDeferredBegin(Y.objId,!0),Zn(Y)==="object"&&typeof Y.putStream=="function"&&Y.putStream(),delete M[ne]}})(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},c6=ei.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(u){return u};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),Zn(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)==="/"?s+="/"+_h(n[o].substr(1)):(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),s+="("+Nh(r(n[o].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ry=function(n,e,t){var r=function(s){return s};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Nh(r(n))+")"},hl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};hl.prototype.toString=function(){return this.objId+" 0 R"},hl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},hl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:c6(s,this.objId,this.scope)}):s instanceof hl?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var h6=function(){hl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};ya(h6,hl);var f6=function(){hl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Nh(t(n))+")"}},set:function(t){n=t}})};ya(f6,hl);var Oo=function n(){hl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(U){if(isNaN(U))throw new Error('Invalid value "'+U+'" for attribute F supplied.');e=U}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ai(e,3)},set:function(U){U?this.F=oi(e,3):this.F=li(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(U){if(isNaN(U))throw new Error('Invalid value "'+U+'" for attribute Ff supplied.');t=U}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(U){r=U!==void 0?U:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(U){r[0]=U}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(U){r[1]=U}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(U){r[2]=U}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(U){r[3]=U}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(U){switch(U){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=U;break;default:throw new Error('Invalid value "'+U+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof S1)return;o="FieldObject"+n.FieldNum++}var U=function(ne){return ne};return this.scope&&(U=this.scope.internal.getEncryptor(this.objId)),"("+Nh(U(o))+")"},set:function(U){o=U.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(U){o=U}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(U){u=U}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(U){c=U}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(U){f=U}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/P5:d},set:function(U){d=U}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(U){g=U}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof S1||this instanceof rh))return ry(w,this.objId,this.scope)},set:function(U){U=U.toString(),w=U}});var E=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof Ji==0?ry(E,this.objId,this.scope):E},set:function(U){U=U.toString(),E=this instanceof Ji==0?U.substr(0,1)==="("?yf(U.substr(1,U.length-2)):yf(U):U}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ji==1?yf(E.substr(1,E.length-1)):E},set:function(U){U=U.toString(),E=this instanceof Ji==1?"/"+_h(U):U}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(U){this.V=U}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ji==0?ry(b,this.objId,this.scope):b},set:function(U){U=U.toString(),b=this instanceof Ji==0?U.substr(0,1)==="("?yf(U.substr(1,U.length-2)):yf(U):U}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ji==1?yf(b.substr(1,b.length-1)):b},set:function(U){U=U.toString(),b=this instanceof Ji==1?"/"+_h(U):U}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var V,M=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return M},set:function(U){U=!!U,M=U}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(V)return V},set:function(U){V=U}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,1)},set:function(U){U?this.Ff=oi(this.Ff,1):this.Ff=li(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,2)},set:function(U){U?this.Ff=oi(this.Ff,2):this.Ff=li(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,3)},set:function(U){U?this.Ff=oi(this.Ff,3):this.Ff=li(this.Ff,3)}});var B=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(B!==null)return B},set:function(U){if([0,1,2].indexOf(U)===-1)throw new Error('Invalid value "'+U+'" for attribute Q supplied.');B=U}}),Object.defineProperty(this,"textAlign",{get:function(){var U;switch(B){case 0:default:U="left";break;case 1:U="center";break;case 2:U="right"}return U},configurable:!0,enumerable:!0,set:function(U){switch(U){case"right":case 2:B=2;break;case"center":case 1:B=1;break;default:B=0}}})};ya(Oo,hl);var Of=function(){Oo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return c6(e,this.objId,this.scope)},set:function(t){var r,s;s=[],typeof(r=t)=="string"&&(s=(function(o,u,c){c||(c=1);for(var f,d=[];f=u.exec(o);)d.push(f[c]);return d})(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,18)},set:function(t){t?this.Ff=oi(this.Ff,18):this.Ff=li(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=oi(this.Ff,19):this.Ff=li(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,20)},set:function(t){t?(this.Ff=oi(this.Ff,20),e.sort()):this.Ff=li(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,22)},set:function(t){t?this.Ff=oi(this.Ff,22):this.Ff=li(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,23)},set:function(t){t?this.Ff=oi(this.Ff,23):this.Ff=li(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,27)},set:function(t){t?this.Ff=oi(this.Ff,27):this.Ff=li(this.Ff,27)}}),this.hasAppearanceStream=!1};ya(Of,Oo);var Mf=function(){Of.call(this),this.fontName="helvetica",this.combo=!1};ya(Mf,Of);var Vf=function(){Mf.call(this),this.combo=!0};ya(Vf,Mf);var Gg=function(){Vf.call(this),this.edit=!0};ya(Gg,Vf);var Ji=function(){Oo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,15)},set:function(t){t?this.Ff=oi(this.Ff,15):this.Ff=li(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,16)},set:function(t){t?this.Ff=oi(this.Ff,16):this.Ff=li(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,17)},set:function(t){t?this.Ff=oi(this.Ff,17):this.Ff=li(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,26)},set:function(t){t?this.Ff=oi(this.Ff,26):this.Ff=li(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+Nh(t(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){Zn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){var r=t==null?"":t.toString();r.substr(0,1)==="/"&&(r=r.substr(1)),n="/"+_h(r)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+_h(t)}})};ya(Ji,Oo);var Kg=function(){Ji.call(this),this.pushButton=!0};ya(Kg,Ji);var jf=function(){Ji.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};ya(jf,Ji);var S1=function(){var n,e;Oo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),r)u.push("/"+o+" ("+Nh(s(r[o]))+")");return u.push(">>"),u.join(`
`)},set:function(s){Zn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){var o=s==null?"":s.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),t="/"+_h(o)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){var o=s==null?"":s.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),t="/"+_h(o)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ya(S1,Oo),jf.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},jf.prototype.createOption=function(n){var e=new S1;return e.Parent=this,e.optionName=n,this.Kids.push(e),P9.call(this.scope,e),e};var $g=function(){Ji.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_t.CheckBox.createAppearanceStream()};ya($g,Ji);var rh=function(){Oo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,13)},set:function(e){e?this.Ff=oi(this.Ff,13):this.Ff=li(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,21)},set:function(e){e?this.Ff=oi(this.Ff,21):this.Ff=li(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,23)},set:function(e){e?this.Ff=oi(this.Ff,23):this.Ff=li(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,24)},set:function(e){e?this.Ff=oi(this.Ff,24):this.Ff=li(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,25)},set:function(e){e?this.Ff=oi(this.Ff,25):this.Ff=li(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,26)},set:function(e){e?this.Ff=oi(this.Ff,26):this.Ff=li(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ya(rh,Oo);var Wg=function(){rh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,14)},set:function(n){n?this.Ff=oi(this.Ff,14):this.Ff=li(this.Ff,14)}}),this.password=!0};ya(Wg,rh);var _t={CheckBox:{createAppearanceStream:function(){return{N:{On:_t.CheckBox.YesNormal},D:{On:_t.CheckBox.YesPushDown,Off:_t.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=al(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=t_(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+an(_t.internal.getWidth(n))+" "+an(_t.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+an(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=al(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],o=_t.internal.getHeight(n),u=_t.internal.getWidth(n),c=t_(n,n.caption);return s.push("1 g"),s.push("0 0 "+an(u)+" "+an(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+an(u-1)+" "+an(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+an(c.fontSize)+" Tf "+r),s.push(c.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=al(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+an(_t.internal.getWidth(n))+" "+an(_t.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:_t.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=_t.RadioButton.Circle.YesNormal,e.D[n]=_t.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=al(n);e.scope=n.scope;var t=[],r=_t.internal.getWidth(n)<=_t.internal.getHeight(n)?_t.internal.getWidth(n)/4:_t.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=_t.internal.Bezier_C,o=Number((r*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Ku(_t.internal.getWidth(n)/2)+" "+Ku(_t.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=al(n);e.scope=n.scope;var t=[],r=_t.internal.getWidth(n)<=_t.internal.getHeight(n)?_t.internal.getWidth(n)/4:_t.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*_t.internal.Bezier_C).toFixed(5)),u=Number((r*_t.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ku(_t.internal.getWidth(n)/2)+" "+Ku(_t.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Ku(_t.internal.getWidth(n)/2)+" "+Ku(_t.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),t.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),t.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),t.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=al(n);e.scope=n.scope;var t=[],r=_t.internal.getWidth(n)<=_t.internal.getHeight(n)?_t.internal.getWidth(n)/4:_t.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*_t.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ku(_t.internal.getWidth(n)/2)+" "+Ku(_t.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:_t.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=_t.RadioButton.Cross.YesNormal,e.D[n]=_t.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=al(n);e.scope=n.scope;var t=[],r=_t.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+an(_t.internal.getWidth(n)-2)+" "+an(_t.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(an(r.x1.x)+" "+an(r.x1.y)+" m"),t.push(an(r.x2.x)+" "+an(r.x2.y)+" l"),t.push(an(r.x4.x)+" "+an(r.x4.y)+" m"),t.push(an(r.x3.x)+" "+an(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=al(n);e.scope=n.scope;var t=_t.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+an(_t.internal.getWidth(n))+" "+an(_t.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+an(_t.internal.getWidth(n)-2)+" "+an(_t.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(an(t.x1.x)+" "+an(t.x1.y)+" m"),r.push(an(t.x2.x)+" "+an(t.x2.y)+" l"),r.push(an(t.x4.x)+" "+an(t.x4.y)+" m"),r.push(an(t.x3.x)+" "+an(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=al(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+an(_t.internal.getWidth(n))+" "+an(_t.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};_t.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=_t.internal.getWidth(n),t=_t.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},_t.internal.getWidth=function(n){var e=0;return Zn(n)==="object"&&(e=cE(n.Rect[2])),e},_t.internal.getHeight=function(n){var e=0;return Zn(n)==="object"&&(e=cE(n.Rect[3])),e};var P9=ei.addField=function(n){if(D9(this,n),!(n instanceof Oo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};ei.AcroFormChoiceField=Of,ei.AcroFormListBox=Mf,ei.AcroFormComboBox=Vf,ei.AcroFormEditBox=Gg,ei.AcroFormButton=Ji,ei.AcroFormPushButton=Kg,ei.AcroFormRadioButton=jf,ei.AcroFormCheckBox=$g,ei.AcroFormTextField=rh,ei.AcroFormPasswordField=Wg,ei.AcroFormAppearance=_t,ei.AcroForm={ChoiceField:Of,ListBox:Mf,ComboBox:Vf,EditBox:Gg,Button:Ji,PushButton:Kg,RadioButton:jf,CheckBox:$g,TextField:rh,PasswordField:Wg,Appearance:_t},Ct.AcroForm={ChoiceField:Of,ListBox:Mf,ComboBox:Vf,EditBox:Gg,Button:Ji,PushButton:Kg,RadioButton:jf,CheckBox:$g,TextField:rh,PasswordField:Wg,Appearance:_t};Ct.AcroForm;function d6(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(I,P){var R,oe,Te,ae,pe,fe=t;if((P=P||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(be(I))for(pe in r)for(Te=r[pe],R=0;R<Te.length;R+=1){for(ae=!0,oe=0;oe<Te[R].length;oe+=1)if(Te[R][oe]!==void 0&&Te[R][oe]!==I[oe]){ae=!1;break}if(ae===!0){fe=pe;break}}else for(pe in r)for(Te=r[pe],R=0;R<Te.length;R+=1){for(ae=!0,oe=0;oe<Te[R].length;oe+=1)if(Te[R][oe]!==void 0&&Te[R][oe]!==I.charCodeAt(oe)){ae=!1;break}if(ae===!0){fe=pe;break}}return fe===t&&P!==t&&(fe=P),fe},o=function I(P){for(var R=this.internal.write,oe=this.internal.putStream,Te=(0,this.internal.getFilters)();Te.indexOf("FlateEncode")!==-1;)Te.splice(Te.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:P.width}),ae.push({key:"Height",value:P.height}),P.colorSpace===U.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===U.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var pe="",fe=0,Le=P.transparency.length;fe<Le;fe++)pe+=P.transparency[fe]+" "+P.transparency[fe]+" ";ae.push({key:"Mask",value:"["+pe+"]"})}P.sMask!==void 0&&ae.push({key:"SMask",value:P.objectId+1+" 0 R"});var Ke=P.filter!==void 0?["/"+P.filter]:void 0;if(oe({data:P.data,additionalKeyValues:ae,alreadyAppliedFilters:Ke,objectId:P.objectId}),R("endobj"),"sMask"in P&&P.sMask!==void 0){var J,k=(J=P.sMaskBitsPerComponent)!==null&&J!==void 0?J:P.bitsPerComponent,$={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:P.sMask};"filter"in P&&($.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(P.width),$.filter=P.filter),I.call(this,$)}if(P.colorSpace===U.INDEXED){var Z=this.internal.newObject();oe({data:O(new Uint8Array(P.palette)),objectId:Z}),R("endobj")}},u=function(){var I=this.internal.collections[e+"images"];for(var P in I)o.call(this,I[P])},c=function(){var I,P=this.internal.collections[e+"images"],R=this.internal.write;for(var oe in P)R("/I"+(I=P[oe]).index,I.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var I=this.internal.collections[e+"images"];return f.call(this),I},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(I){return typeof n["process"+I.toUpperCase()]=="function"},E=function(I){return Zn(I)==="object"&&I.nodeType===1},b=function(I,P){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var R=""+I.getAttribute("src");if(R.indexOf("data:image/")===0)return Hg(unescape(R).split("base64,").pop());var oe=n.loadFile(R,!0);if(oe!==void 0)return oe}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var Te;switch(P){case"PNG":Te="image/png";break;case"WEBP":Te="image/webp";break;default:Te="image/jpeg"}return Hg(I.toDataURL(Te,1).split("base64,").pop())}},V=function(I){var P=this.internal.collections[e+"images"];if(P){for(var R in P)if(I===P[R].alias)return P[R]}},M=function(I,P,R){return I||P||(I=-96,P=-96),I<0&&(I=-1*R.width*72/I/this.internal.scaleFactor),P<0&&(P=-1*R.height*72/P/this.internal.scaleFactor),I===0&&(I=P*R.width/R.height),P===0&&(P=I*R.height/R.width),[I,P]},B=function(I,P,R,oe,Te,ae){var pe=M.call(this,R,oe,Te),fe=this.internal.getCoordinateString,Le=this.internal.getVerticalCoordinateString,Ke=d.call(this);if(R=pe[0],oe=pe[1],Ke[Te.index]=Te,ae){ae*=Math.PI/180;var J=Math.cos(ae),k=Math.sin(ae),$=function(le){return le.toFixed(4)},Z=[$(J),$(k),$(-1*k),$(J),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,fe(I),Le(P+oe),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([fe(R),"0","0",fe(oe),"0","0","cm"].join(" "))):this.internal.write([fe(R),"0","0",fe(oe),fe(I),Le(P+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Te.index+" Do"),this.internal.write("Q")},U=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var ne=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Y=n.__addimage__.sHashCode=function(I){var P,R,oe=0;if(typeof I=="string")for(R=I.length,P=0;P<R;P++)oe=(oe<<5)-oe+I.charCodeAt(P),oe|=0;else if(be(I))for(R=I.byteLength/2,P=0;P<R;P++)oe=(oe<<5)-oe+I[P],oe|=0;return oe},ee=n.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var P=!0;return I.length===0&&(P=!1),I.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(P=!1),P},ge=n.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var P=I.indexOf(",");return P<0?null:I.substring(0,P).trim().endsWith("base64")?I.substring(P+1):null};n.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var be=n.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},H=n.__addimage__.binaryStringToUint8Array=function(I){for(var P=I.length,R=new Uint8Array(P),oe=0;oe<P;oe++)R[oe]=I.charCodeAt(oe);return R},O=n.__addimage__.arrayBufferToBinaryString=function(I){for(var P="",R=be(I)?I:new Uint8Array(I),oe=0;oe<R.length;oe+=8192)P+=String.fromCharCode.apply(null,R.subarray(oe,oe+8192));return P};n.addImage=function(){var I,P,R,oe,Te,ae,pe,fe,Le;if(typeof arguments[1]=="number"?(P=t,R=arguments[1],oe=arguments[2],Te=arguments[3],ae=arguments[4],pe=arguments[5],fe=arguments[6],Le=arguments[7]):(P=arguments[1],R=arguments[2],oe=arguments[3],Te=arguments[4],ae=arguments[5],pe=arguments[6],fe=arguments[7],Le=arguments[8]),Zn(I=arguments[0])==="object"&&!E(I)&&"imageData"in I){var Ke=I;I=Ke.imageData,P=Ke.format||P||t,R=Ke.x||R||0,oe=Ke.y||oe||0,Te=Ke.w||Ke.width||Te,ae=Ke.h||Ke.height||ae,pe=Ke.alias||pe,fe=Ke.compression||fe,Le=Ke.rotation||Ke.angle||Le}var J=this.internal.getFilters();if(fe===void 0&&J.indexOf("FlateEncode")!==-1&&(fe="SLOW"),isNaN(R)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var k=C.call(this,I,P,pe,fe);return B.call(this,R,oe,Te,ae,k,Le),this};var C=function(I,P,R,oe){var Te,ae,pe;if(typeof I=="string"&&s(I)===t){I=unescape(I);var fe=G(I,!1);(fe!==""||(fe=n.loadFile(I,!0))!==void 0)&&(I=fe)}if(E(I)&&(I=b(I,P)),P=s(I,P),!w(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((pe=R)==null||pe.length===0)&&(R=(function(Le){return typeof Le=="string"||be(Le)?Y(Le):be(Le.data)?Y(Le.data):null})(I)),(Te=V.call(this,R))||(I instanceof Uint8Array||P==="RGBA"||(ae=I,I=H(I)),Te=this["process"+P.toUpperCase()](I,g.call(this),R,(function(Le){return Le&&typeof Le=="string"&&(Le=Le.toUpperCase()),Le in n.image_compression?Le:ne.NONE})(oe),ae)),!Te)throw new Error("An unknown error occurred whilst processing the image.");return Te},G=n.__addimage__.convertBase64ToBinaryString=function(I,P){P=typeof P!="boolean"||P;var R,oe="";if(typeof I=="string"){var Te;R=(Te=ge(I))!==null&&Te!==void 0?Te:I;try{oe=Hg(R)}catch(ae){if(P)throw ee(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};n.getImageProperties=function(I){var P,R,oe="";if(E(I)&&(I=b(I)),typeof I=="string"&&s(I)===t&&((oe=G(I,!1))===""&&(oe=n.loadFile(I)||""),I=oe),R=s(I),!w(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(I instanceof Uint8Array||(I=H(I)),!(P=this["process"+R.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=R,P}})(Ct.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Ct.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,s,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,g=!1,w=0;w<d.length&&!g;w++)switch((r=d[w]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var E=0;E<d.length;E++){r=d[E];var b=this.internal.pdfEscape,V=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var M=this.internal.newAdditionalObject(),B=this.internal.newAdditionalObject(),U=this.internal.getEncryptor(M.objId),ne=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+b(U(r.contents))+")",o+=" /Popup "+B.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+b(U(ne))+") >>",M.content=o;var Y=M.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+Y,r.open&&(o+=" /Open true"),o+=" >>",B.content=o,this.internal.write(M.objId,"0 R",B.objId,"0 R");break;case"freetext":s="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var ee=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+b(V(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ee+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var ge=this.annotations._nameMap[r.options.name];r.options.pageNumber=ge.page,r.options.top=ge.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+b(V(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var be=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+be+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,s,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+s),h:d(r+o)},options:u,type:"link"})},n.textWithLink=function(t,r,s,o){var u,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var g=this.splitTextToSize(t,c).length;u=Math.ceil(d*g)}else c=f,u=d;return this.text(t,r,s,o),s+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,s-d,c,u,o),f},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Ct.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(M){return e[M.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(M){return typeof M=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(M)},c=n.__arabicParser__.isArabicEndLetter=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(M){return u(M)&&s.indexOf(M.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(M){return u(M)&&o(M)&&e[M.charCodeAt(0)].length==4},w=n.__arabicParser__.resolveLigatures=function(M){var B=0,U=t,ne="",Y=0;for(B=0;B<M.length;B+=1)U[M.charCodeAt(B)]!==void 0?(Y++,typeof(U=U[M.charCodeAt(B)])=="number"&&(ne+=String.fromCharCode(U),U=t,Y=0),B===M.length-1&&(U=t,ne+=M.charAt(B-(Y-1)),B-=Y-1,Y=0)):(U=t,ne+=M.charAt(B-Y),B-=Y,Y=0);return ne};n.__arabicParser__.isArabicDiacritic=function(M){return M!==void 0&&r[M.charCodeAt(0)]!==void 0};var E=n.__arabicParser__.getCorrectForm=function(M,B,U){return u(M)?o(M)===!1?-1:!d(M)||!u(B)&&!u(U)||!u(U)&&c(B)||c(M)&&!u(B)||c(M)&&f(B)||c(M)&&c(B)?0:g(M)&&u(B)&&!c(B)&&u(U)&&d(U)?3:c(M)||!u(U)?1:2:-1},b=function(M){var B=0,U=0,ne=0,Y="",ee="",ge="",be=(M=M||"").split("\\s+"),H=[];for(B=0;B<be.length;B+=1){for(H.push(""),U=0;U<be[B].length;U+=1)Y=be[B][U],ee=be[B][U-1],ge=be[B][U+1],u(Y)?(ne=E(Y,ee,ge),H[B]+=ne!==-1?String.fromCharCode(e[Y.charCodeAt(0)][ne]):Y):H[B]+=Y;H[B]=w(H[B])}return H.join(" ")},V=n.__arabicParser__.processArabic=n.processArabic=function(){var M,B=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,U=[];if(Array.isArray(B)){var ne=0;for(U=[],ne=0;ne<B.length;ne+=1)Array.isArray(B[ne])?U.push([b(B[ne][0]),B[ne][1],B[ne][2]]):U.push([b(B[ne])]);M=U}else M=b(B);return typeof arguments[0]=="string"?M:(arguments[0].text=M,arguments[0])};n.events.push(["preProcessText",V])})(Ct.API),Ct.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var s;if((t=t||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ct.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(M){f=M}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(M){d=M}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(M){g=M}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(M){w=M}});var E=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return E},set:function(M){E=M}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(M){b=M}});var V=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return V},set:function(M){V=M}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var g=(d=d||{}).fontSize||this.getFontSize(),w=d.font||this.getFont(),E=d.scaleFactor||this.internal.scaleFactor,b=0,V=0,M=0,B=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var U=d.maxWidth;U>0?typeof f=="string"?f=this.splitTextToSize(f,U):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(Y,ee){return Y.concat(B.splitTextToSize(ee,U))},[])):f=Array.isArray(f)?f:[f];for(var ne=0;ne<f.length;ne++)b<(M=this.getStringUnitWidth(f[ne],{font:w})*g)&&(b=M);return b!==0&&(V=f.length),{w:b/=E,h:Math.max((V*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/E,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,E=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=w.top,b&&E&&(this.printHeaderRow(f.lineNumber,!0),f.y+=E[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-g,f.y+g,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+g,{align:"center",baseline:"top",maxWidth:f.width-g-g}):this.text(f.text,f.x+g,f.y+g,{align:"left",baseline:"top",maxWidth:f.width-g-g})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,g,w,E){if(r.call(this),!g)throw new Error("No data for PDF table.");var b,V,M,B,U=[],ne=[],Y=[],ee={},ge={},be=[],H=[],O=(E=E||{}).autoSize||!1,C=E.printHeaders!==!1,G=E.css&&E.css["font-size"]!==void 0?16*E.css["font-size"]:E.fontSize||12,I=E.margins||Object.assign({width:this.getPageWidth()},e),P=typeof E.padding=="number"?E.padding:3,R=E.headerBackgroundColor||"#c8c8c8",oe=E.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=oe,this.setFontSize(G),w==null)ne=U=Object.keys(g[0]),Y=U.map(function(){return"left"});else if(Array.isArray(w)&&Zn(w[0])==="object")for(U=w.map(function(Ke){return Ke.name}),ne=w.map(function(Ke){return Ke.prompt||Ke.name||""}),Y=w.map(function(Ke){return Ke.align||"left"}),b=0;b<w.length;b+=1)ge[w[b].name]=.7499990551181103*w[b].width;else Array.isArray(w)&&typeof w[0]=="string"&&(ne=U=w,Y=U.map(function(){return"left"}));if(O||Array.isArray(w)&&typeof w[0]=="string")for(b=0;b<U.length;b+=1){for(ee[B=U[b]]=g.map(function(Ke){return Ke[B]}),this.setFont(void 0,"bold"),be.push(this.getTextDimensions(ne[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),V=ee[B],this.setFont(void 0,"normal"),M=0;M<V.length;M+=1)be.push(this.getTextDimensions(V[M],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ge[B]=Math.max.apply(null,be)+P+P,be=[]}if(C){var Te={};for(b=0;b<U.length;b+=1)Te[U[b]]={},Te[U[b]].text=ne[b],Te[U[b]].align=Y[b];var ae=c.call(this,Te,ge);H=U.map(function(Ke){return new o(f,d,ge[Ke],ae,Te[Ke].text,void 0,Te[Ke].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var pe=w.reduce(function(Ke,J){return Ke[J.name]=J.align,Ke},{});for(b=0;b<g.length;b+=1){"rowStart"in E&&E.rowStart instanceof Function&&E.rowStart({row:b,data:g[b]},this);var fe=c.call(this,g[b],ge);for(M=0;M<U.length;M+=1){var Le=g[b][U[M]];"cellStart"in E&&E.cellStart instanceof Function&&E.cellStart({row:b,col:M,data:Le},this),u.call(this,new o(f,d,ge[U[M]],fe,Le,b+2,pe[U[M]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var g=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,E=this.internal.scaleFactor;return Object.keys(f).map(function(b){var V=f[b];return this.splitTextToSize(V.hasOwnProperty("text")?V.text:V,d[b]-g-g)},this).map(function(b){return this.getLineHeightFactor()*b.length*w/E+g+g},this).reduce(function(b,V){return Math.max(b,V)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var E=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){g=this.internal.__cell__.tableHeaderRow[b].clone(),d&&(g.y=this.internal.__cell__.margins.top||0,E.push(g)),g.lineNumber=f;var V=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,g),this.setTextColor(V)}E.length>0&&this.setTableHeaderRow(E),this.setFont(void 0,"normal"),t=!1}})(Ct.API);var p6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},m6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],n_=d6(m6),g6=[100,200,300,400,500,600,700,800,900],O9=d6(g6);function iy(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return p6[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),s=(function(o){return typeof n_[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,r].join(" ")}}}function hE(n,e,t,r){var s;for(s=t;s>=0&&s<e.length;s+=r)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=r)if(n[e[s]])return n[e[s]]}var M9={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},fE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function dE(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function pE(n){return n.trimLeft()}function V9(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function j9(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var _f,Ng,mE,gE,yE,sy=["times"];function _E(n,e,t,r,s){var o=4,u=bE;switch(s){case Ct.API.image_compression.FAST:o=1,u=vE;break;case Ct.API.image_compression.MEDIUM:o=6,u=wE;break;case Ct.API.image_compression.SLOW:o=9,u=AE}n=(function(f,d,g,w){for(var E,b=f.length/d,V=new Uint8Array(f.length+b),M=[U9,vE,bE,wE,AE],B=0;B<b;B+=1){var U=B*d,ne=f.subarray(U,U+d);if(w)V.set(w(ne,g,E),U+B);else{for(var Y=M.length,ee=[],ge=0;ge<Y;ge+=1)ee[ge]=M[ge](ne,g,E);var be=B9(ee.concat());V.set(ee[be],U+B)}E=ne}return V})(n,e,Math.ceil(t*r/8),u);var c=Yy(n,{level:o});return Ct.API.__addimage__.arrayBufferToBinaryString(c)}function U9(n){var e=Array.apply([],n);return e.unshift(0),e}function vE(n,e){var t=n.length,r=[];r[0]=1;for(var s=0;s<t;s+=1){var o=n[s-e]||0;r[s+1]=n[s]-o+256&255}return r}function bE(n,e,t){var r=n.length,s=[];s[0]=2;for(var o=0;o<r;o+=1){var u=t&&t[o]||0;s[o+1]=n[o]-u+256&255}return s}function wE(n,e,t){var r=n.length,s=[];s[0]=3;for(var o=0;o<r;o+=1){var u=n[o-e]||0,c=t&&t[o]||0;s[o+1]=n[o]+256-(u+c>>>1)&255}return s}function AE(n,e,t){var r=n.length,s=[];s[0]=4;for(var o=0;o<r;o+=1){var u=F9(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);s[o+1]=n[o]-u+256&255}return s}function F9(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),s=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=s&&r<=o?n:s<=o?e:t}function B9(n){var e=n.map(function(t){return t.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function ay(n,e,t){var r=e*t,s=Math.floor(r/8),o=16-(r-8*s+t),u=(1<<t)-1;return y6(n,s)>>o&u}function EE(n,e,t,r){var s=t*r,o=Math.floor(s/8),u=16-(s-8*o+r),c=(1<<r)-1,f=(e&c)<<u;(function(d,g,w){if(g+1<d.byteLength)d.setUint16(g,w,!1);else{var E=w>>8&255;d.setUint8(g,E)}})(n,o,y6(n,o)&~(c<<u)&65535|f)}function y6(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function q9(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,s=n[e++],o=s>>7,u=1<<1+(7&s);n[e++],n[e++];var c=null,f=null;o&&(c=e,f=u,e+=3*u);var d=!0,g=[],w=0,E=null,b=0,V=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,V=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var M=n[e++];w=n[e++]|n[e++]<<8,E=n[e++],1&M||(E=null),b=M>>2&7,e++;break;case 254:for(;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var B=n[e++]|n[e++]<<8,U=n[e++]|n[e++]<<8,ne=n[e++]|n[e++]<<8,Y=n[e++]|n[e++]<<8,ee=n[e++],ge=ee>>6&1,be=1<<1+(7&ee),H=c,O=f,C=!1;ee>>7&&(C=!0,H=e,O=be,e+=3*be);var G=e;for(e++;;){var I;if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}g.push({x:B,y:U,width:ne,height:Y,has_local_palette:C,palette_offset:H,palette_size:O,data_offset:G,data_length:e-G,transparent_index:E,interlaced:!!ge,delay:w,disposal:b});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return V},this.frameInfo=function(P){if(P<0||P>=g.length)throw new Error("Frame index out of range.");return g[P]},this.decodeAndBlitFrameBGRA=function(P,R){var oe=this.frameInfo(P),Te=oe.width*oe.height;if(Te>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ae=new Uint8Array(Te);SE(n,oe.data_offset,ae,Te);var pe=oe.palette_offset,fe=oe.transparent_index;fe===null&&(fe=256);var Le=oe.width,Ke=t-Le,J=Le,k=4*(oe.y*t+oe.x),$=4*((oe.y+oe.height)*t+oe.x),Z=k,le=4*Ke;oe.interlaced===!0&&(le+=4*t*7);for(var ce=8,ye=0,Pe=ae.length;ye<Pe;++ye){var ke=ae[ye];if(J===0&&(J=Le,(Z+=le)>=$&&(le=4*Ke+4*t*(ce-1),Z=k+(Le+Ke)*(ce<<1),ce>>=1)),ke===fe)Z+=4;else{var Be=n[pe+3*ke],Je=n[pe+3*ke+1],at=n[pe+3*ke+2];R[Z++]=at,R[Z++]=Je,R[Z++]=Be,R[Z++]=255}--J}},this.decodeAndBlitFrameRGBA=function(P,R){var oe=this.frameInfo(P),Te=oe.width*oe.height;if(Te>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var ae=new Uint8Array(Te);SE(n,oe.data_offset,ae,Te);var pe=oe.palette_offset,fe=oe.transparent_index;fe===null&&(fe=256);var Le=oe.width,Ke=t-Le,J=Le,k=4*(oe.y*t+oe.x),$=4*((oe.y+oe.height)*t+oe.x),Z=k,le=4*Ke;oe.interlaced===!0&&(le+=4*t*7);for(var ce=8,ye=0,Pe=ae.length;ye<Pe;++ye){var ke=ae[ye];if(J===0&&(J=Le,(Z+=le)>=$&&(le=4*Ke+4*t*(ce-1),Z=k+(Le+Ke)*(ce<<1),ce>>=1)),ke===fe)Z+=4;else{var Be=n[pe+3*ke],Je=n[pe+3*ke+1],at=n[pe+3*ke+2];R[Z++]=Be,R[Z++]=Je,R[Z++]=at,R[Z++]=255}--J}}}function SE(n,e,t,r){for(var s=n[e++],o=1<<s,u=o+1,c=u+1,f=s+1,d=(1<<f)-1,g=0,w=0,E=0,b=n[e++],V=new Int32Array(4096),M=null;;){for(;g<16&&b!==0;)w|=n[e++]<<g,g+=8,b===1?b=n[e++]:--b;if(g<f)break;var B=w&d;if(w>>=f,g-=f,B!==o){if(B===u)break;for(var U=B<c?B:M,ne=0,Y=U;Y>o;)Y=V[Y]>>8,++ne;var ee=Y;if(E+ne+(U!==B?1:0)>r)return void yr.log("Warning, gif stream longer than expected.");t[E++]=ee;var ge=E+=ne;for(U!==B&&(t[E++]=ee),Y=U;ne--;)Y=V[Y],t[--ge]=255&Y,Y>>=8;M!==null&&c<4096&&(V[c++]=M<<8|ee,c>=d+1&&f<12&&(++f,d=d<<1|1)),M=B}else c=u+1,d=(1<<(f=s+1))-1,M=null}return E!==r&&yr.log("Warning, gif stream shorter than expected."),t}function oy(n){var e,t,r,s,o,u=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),g=new Array(64),w=new Array(65535),E=new Array(65535),b=new Array(64),V=new Array(64),M=[],B=0,U=7,ne=new Array(64),Y=new Array(64),ee=new Array(64),ge=new Array(256),be=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(k,$){for(var Z=0,le=0,ce=new Array,ye=1;ye<=16;ye++){for(var Pe=1;Pe<=k[ye];Pe++)ce[$[le]]=[],ce[$[le]][0]=Z,ce[$[le]][1]=ye,le++,Z++;Z*=2}return ce}function pe(k){for(var $=k[0],Z=k[1]-1;Z>=0;)$&1<<Z&&(B|=1<<U),Z--,--U<0&&(B==255?(fe(255),fe(0)):fe(B),U=7,B=0)}function fe(k){M.push(k)}function Le(k){fe(k>>8&255),fe(255&k)}function Ke(k,$,Z,le,ce){for(var ye,Pe=ce[0],ke=ce[240],Be=(function(ze,lt){var ot,Dt,St,Jt,nn,Ht,un,en,bt,Wt,wt=0;for(bt=0;bt<8;++bt){ot=ze[wt],Dt=ze[wt+1],St=ze[wt+2],Jt=ze[wt+3],nn=ze[wt+4],Ht=ze[wt+5],un=ze[wt+6];var _r=ot+(en=ze[wt+7]),tn=ot-en,kt=Dt+un,Bt=Dt-un,Zt=St+Ht,It=St-Ht,Dn=Jt+nn,Ut=Jt-nn,Ft=_r+Dn,Mn=_r-Dn,xt=kt+Zt,At=kt-Zt;ze[wt]=Ft+xt,ze[wt+4]=Ft-xt;var cn=.707106781*(At+Mn);ze[wt+2]=Mn+cn,ze[wt+6]=Mn-cn;var wi=.382683433*((Ft=Ut+It)-(At=Bt+tn)),hi=.5411961*Ft+wi,qs=1.306562965*At+wi,ti=.707106781*(xt=It+Bt),Nt=tn+ti,_a=tn-ti;ze[wt+5]=_a+hi,ze[wt+3]=_a-hi,ze[wt+1]=Nt+qs,ze[wt+7]=Nt-qs,wt+=8}for(wt=0,bt=0;bt<8;++bt){ot=ze[wt],Dt=ze[wt+8],St=ze[wt+16],Jt=ze[wt+24],nn=ze[wt+32],Ht=ze[wt+40],un=ze[wt+48];var ts=ot+(en=ze[wt+56]),Vi=ot-en,ji=Dt+un,Gn=Dt-un,ir=St+Ht,Gr=St-Ht,Ai=Jt+nn,fi=Jt-nn,Vn=ts+Ai,Wn=ts-Ai,Kr=ji+ir,Ui=ji-ir;ze[wt]=Vn+Kr,ze[wt+32]=Vn-Kr;var gs=.707106781*(Ui+Wn);ze[wt+16]=Wn+gs,ze[wt+48]=Wn-gs;var ja=.382683433*((Vn=fi+Gr)-(Ui=Gn+Vi)),ks=.5411961*Vn+ja,Fi=1.306562965*Ui+ja,va=.707106781*(Kr=Gr+Gn),ns=Vi+va,Ei=Vi-va;ze[wt+40]=Ei+ks,ze[wt+24]=Ei-ks,ze[wt+8]=ns+Fi,ze[wt+56]=ns-Fi,wt++}for(bt=0;bt<64;++bt)Wt=ze[bt]*lt[bt],b[bt]=Wt>0?Wt+.5|0:Wt-.5|0;return b})(k,$),Je=0;Je<64;++Je)V[H[Je]]=Be[Je];var at=V[0]-Z;Z=V[0],at==0?pe(le[0]):(pe(le[E[ye=32767+at]]),pe(w[ye]));for(var st=63;st>0&&V[st]==0;)st--;if(st==0)return pe(Pe),Z;for(var dt,te=1;te<=st;){for(var rt=te;V[te]==0&&te<=st;)++te;var Xt=te-rt;if(Xt>=16){dt=Xt>>4;for(var Lt=1;Lt<=dt;++Lt)pe(ke);Xt&=15}ye=32767+V[te],pe(ce[(Xt<<4)+E[ye]]),pe(w[ye]),te++}return st!=63&&pe(Pe),Z}function J(k){k=Math.min(Math.max(k,1),100),o!=k&&((function($){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var ce=u((Z[le]*$+50)/100);ce=Math.min(Math.max(ce,1),255),c[H[le]]=ce}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Pe=0;Pe<64;Pe++){var ke=u((ye[Pe]*$+50)/100);ke=Math.min(Math.max(ke,1),255),f[H[Pe]]=ke}for(var Be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Je=0,at=0;at<8;at++)for(var st=0;st<8;st++)d[Je]=1/(c[H[Je]]*Be[at]*Be[st]*8),g[Je]=1/(f[H[Je]]*Be[at]*Be[st]*8),Je++})(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),o=k)}this.encode=function(k,$){$&&J($),M=new Array,B=0,U=7,Le(65496),Le(65504),Le(16),fe(74),fe(70),fe(73),fe(70),fe(0),fe(1),fe(1),fe(0),Le(1),Le(1),fe(0),fe(0),(function(){Le(65499),Le(132),fe(0);for(var Dt=0;Dt<64;Dt++)fe(c[Dt]);fe(1);for(var St=0;St<64;St++)fe(f[St])})(),(function(Dt,St){Le(65472),Le(17),fe(8),Le(St),Le(Dt),fe(3),fe(1),fe(17),fe(0),fe(2),fe(17),fe(1),fe(3),fe(17),fe(1)})(k.width,k.height),(function(){Le(65476),Le(418),fe(0);for(var Dt=0;Dt<16;Dt++)fe(O[Dt+1]);for(var St=0;St<=11;St++)fe(C[St]);fe(16);for(var Jt=0;Jt<16;Jt++)fe(G[Jt+1]);for(var nn=0;nn<=161;nn++)fe(I[nn]);fe(1);for(var Ht=0;Ht<16;Ht++)fe(P[Ht+1]);for(var un=0;un<=11;un++)fe(R[un]);fe(17);for(var en=0;en<16;en++)fe(oe[en+1]);for(var bt=0;bt<=161;bt++)fe(Te[bt])})(),Le(65498),Le(12),fe(3),fe(1),fe(0),fe(2),fe(17),fe(3),fe(17),fe(0),fe(63),fe(0);var Z=0,le=0,ce=0;B=0,U=7,this.encode.displayName="_encode_";for(var ye,Pe,ke,Be,Je,at,st,dt,te,rt=k.data,Xt=k.width,Lt=k.height,ze=4*Xt,lt=0;lt<Lt;){for(ye=0;ye<ze;){for(Je=ze*lt+ye,st=-1,dt=0,te=0;te<64;te++)at=Je+(dt=te>>3)*ze+(st=4*(7&te)),lt+dt>=Lt&&(at-=ze*(lt+1+dt-Lt)),ye+st>=ze&&(at-=ye+st-ze+4),Pe=rt[at++],ke=rt[at++],Be=rt[at++],ne[te]=(be[Pe]+be[ke+256|0]+be[Be+512|0]>>16)-128,Y[te]=(be[Pe+768|0]+be[ke+1024|0]+be[Be+1280|0]>>16)-128,ee[te]=(be[Pe+1280|0]+be[ke+1536|0]+be[Be+1792|0]>>16)-128;Z=Ke(ne,d,Z,e,r),le=Ke(Y,g,le,t,s),ce=Ke(ee,g,ce,t,s),ye+=32}lt+=8}if(U>=0){var ot=[];ot[1]=U+1,ot[0]=(1<<U+1)-1,pe(ot)}return Le(65497),new Uint8Array(M)},n=n||50,(function(){for(var k=String.fromCharCode,$=0;$<256;$++)ge[$]=k($)})(),e=ae(O,C),t=ae(P,R),r=ae(G,I),s=ae(oe,Te),(function(){for(var k=1,$=2,Z=1;Z<=15;Z++){for(var le=k;le<$;le++)E[32767+le]=Z,w[32767+le]=[],w[32767+le][1]=Z,w[32767+le][0]=le;for(var ce=-($-1);ce<=-k;ce++)E[32767+ce]=Z,w[32767+ce]=[],w[32767+ce][1]=Z,w[32767+ce][0]=$-1+ce;k<<=1,$<<=1}})(),(function(){for(var k=0;k<256;k++)be[k]=19595*k,be[k+256|0]=38470*k,be[k+512|0]=7471*k+32768,be[k+768|0]=-11059*k,be[k+1024|0]=-21709*k,be[k+1280|0]=32768*k+8421375,be[k+1536|0]=-27439*k,be[k+1792|0]=-5329*k})(),J(n)}function To(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function xE(n){function e(C){if(!C)throw Error("assert :P")}function t(C,G,I){for(var P=0;4>P;P++)if(C[G+P]!=I.charCodeAt(P))return!0;return!1}function r(C,G,I,P,R){for(var oe=0;oe<R;oe++)C[G+oe]=I[P+oe]}function s(C,G,I,P){for(var R=0;R<P;R++)C[G+R]=I}function o(C){return new Int32Array(C)}function u(C,G){for(var I=[],P=0;P<C;P++)I.push(new G);return I}function c(C,G){var I=[];return(function P(R,oe,Te){for(var ae=Te[oe],pe=0;pe<ae&&(R.push(Te.length>oe+1?[]:new G),!(Te.length<oe+1));pe++)P(R[pe],oe+1,Te)})(I,0,C),I}var f=function(){var C=this;function G(p,_){for(var S=1<<_-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function I(p,_,S,T,F){e(!(T%S));do p[_+(T-=S)]=F;while(0<T)}function P(p,_,S,T,F){if(e(2328>=F),512>=F)var q=o(512);else if((q=o(F))==null)return 0;return(function(z,W,X,se,de,Ie){var re,_e,Ee=W,je=1<<X,xe=o(16),Ve=o(16);for(e(de!=0),e(se!=null),e(z!=null),e(0<X),_e=0;_e<de;++_e){if(15<se[_e])return 0;++xe[se[_e]]}if(xe[0]==de)return 0;for(Ve[1]=0,re=1;15>re;++re){if(xe[re]>1<<re)return 0;Ve[re+1]=Ve[re]+xe[re]}for(_e=0;_e<de;++_e)re=se[_e],0<se[_e]&&(Ie[Ve[re]++]=_e);if(Ve[15]==1)return(se=new R).g=0,se.value=Ie[0],I(z,Ee,1,je,se),je;var qe,Xe=-1,We=je-1,yt=0,ct=1,Yt=1,pt=1<<X;for(_e=0,re=1,de=2;re<=X;++re,de<<=1){if(ct+=Yt<<=1,0>(Yt-=xe[re]))return 0;for(;0<xe[re];--xe[re])(se=new R).g=re,se.value=Ie[_e++],I(z,Ee+yt,de,pt,se),yt=G(yt,re)}for(re=X+1,de=2;15>=re;++re,de<<=1){if(ct+=Yt<<=1,0>(Yt-=xe[re]))return 0;for(;0<xe[re];--xe[re]){if(se=new R,(yt&We)!=Xe){for(Ee+=pt,qe=1<<(Xe=re)-X;15>Xe&&!(0>=(qe-=xe[Xe]));)++Xe,qe<<=1;je+=pt=1<<(qe=Xe-X),z[W+(Xe=yt&We)].g=qe+X,z[W+Xe].value=Ee-W-Xe}se.g=re-X,se.value=Ie[_e++],I(z,Ee+(yt>>X),de,pt,se),yt=G(yt,re)}}return ct!=2*Ve[15]-1?0:je})(p,_,S,T,F,q)}function R(){this.value=this.g=0}function oe(){this.value=this.g=0}function Te(){this.G=u(5,R),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Go,oe)}function ae(p,_,S,T){e(p!=null),e(_!=null),e(2147483648>T),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=_,p.pa=S,p.Jd=_,p.Yc=S+T,p.Zc=4<=T?S+T-4+1:S,Pe(p)}function pe(p,_){for(var S=0;0<_--;)S|=Be(p,128)<<_;return S}function fe(p,_){var S=pe(p,_);return ke(p)?-S:S}function Le(p,_,S,T){var F,q=0;for(e(p!=null),e(_!=null),e(4294967288>T),p.Sb=T,p.Ra=0,p.u=0,p.h=0,4<T&&(T=4),F=0;F<T;++F)q+=_[S+F]<<8*F;p.Ra=q,p.bb=T,p.oa=_,p.pa=S}function Ke(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Ka-8>>>0,++p.bb,p.u-=8;le(p)&&(p.h=1,p.u=0)}function J(p,_){if(e(0<=_),!p.h&&_<=cs){var S=Z(p)&ws[_];return p.u+=_,Ke(p),S}return p.h=1,p.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(p){return p.Ra>>>(p.u&Ka-1)>>>0}function le(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Ka}function ce(p,_){p.u=_,p.h=le(p)}function ye(p){p.u>=$a&&(e(p.u>=$a),Ke(p))}function Pe(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ke(p){return pe(p,1)}function Be(p,_){var S=p.Ca;0>p.b&&Pe(p);var T=p.b,F=S*_>>>8,q=(p.I>>>T>F)+0;for(q?(S-=F,p.I-=F+1<<T>>>0):S=F+1,T=S,F=0;256<=T;)F+=8,T>>=8;return T=7^F+fo[T],p.b-=T,p.Ca=(S<<T)-1,q}function Je(p,_,S){p[_+0]=S>>24&255,p[_+1]=S>>16&255,p[_+2]=S>>8&255,p[_+3]=255&S}function at(p,_){return p[_+0]|p[_+1]<<8}function st(p,_){return at(p,_)|p[_+2]<<16}function dt(p,_){return at(p,_)|at(p,_+2)<<16}function te(p,_){var S=1<<_;return e(p!=null),e(0<_),p.X=o(S),p.X==null?0:(p.Mb=32-_,p.Xa=_,1)}function rt(p,_){e(p!=null),e(_!=null),e(p.Xa==_.Xa),r(_.X,0,p.X,0,1<<_.Xa)}function Xt(){this.X=[],this.Xa=this.Mb=0}function Lt(p,_,S,T){e(S!=null),e(T!=null);var F=S[0],q=T[0];return F==0&&(F=(p*q+_/2)/_),q==0&&(q=(_*F+p/2)/p),0>=F||0>=q?0:(S[0]=F,T[0]=q,1)}function ze(p,_){return p+(1<<_)-1>>>_}function lt(p,_){return((4278255360&p)+(4278255360&_)>>>0&4278255360)+((16711935&p)+(16711935&_)>>>0&16711935)>>>0}function ot(p,_){C[_]=function(S,T,F,q,z,W,X){var se;for(se=0;se<z;++se){var de=C[p](W[X+se-1],F,q+se);W[X+se]=lt(S[T+se],de)}}}function Dt(){this.ud=this.hd=this.jd=0}function St(p,_){return((4278124286&(p^_))>>>1)+(p&_)>>>0}function Jt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function nn(p,_){return Jt(p+(p-_+.5>>1))}function Ht(p,_,S){return Math.abs(_-S)-Math.abs(p-S)}function un(p,_,S,T,F,q,z){for(T=q[z-1],S=0;S<F;++S)q[z+S]=T=lt(p[_+S],T)}function en(p,_,S,T,F){var q;for(q=0;q<S;++q){var z=p[_+q],W=z>>8&255,X=16711935&(X=(X=16711935&z)+((W<<16)+W));T[F+q]=(4278255360&z)+X>>>0}}function bt(p,_){_.jd=255&p,_.hd=p>>8&255,_.ud=p>>16&255}function Wt(p,_,S,T,F,q){var z;for(z=0;z<T;++z){var W=_[S+z],X=W>>>8,se=W,de=255&(de=(de=W>>>16)+((p.jd<<24>>24)*(X<<24>>24)>>>5));se=255&(se=(se+=(p.hd<<24>>24)*(X<<24>>24)>>>5)+((p.ud<<24>>24)*(de<<24>>24)>>>5)),F[q+z]=(4278255360&W)+(de<<16)+se}}function wt(p,_,S,T,F){C[_]=function(q,z,W,X,se,de,Ie,re,_e){for(X=Ie;X<re;++X)for(Ie=0;Ie<_e;++Ie)se[de++]=F(W[T(q[z++])])},C[p]=function(q,z,W,X,se,de,Ie){var re=8>>q.b,_e=q.Ea,Ee=q.K[0],je=q.w;if(8>re)for(q=(1<<q.b)-1,je=(1<<re)-1;z<W;++z){var xe,Ve=0;for(xe=0;xe<_e;++xe)xe&q||(Ve=T(X[se++])),de[Ie++]=F(Ee[Ve&je]),Ve>>=re}else C["VP8LMapColor"+S](X,se,Ee,je,de,Ie,z,W,_e)}}function _r(p,_,S,T,F){for(S=_+S;_<S;){var q=p[_++];T[F++]=q>>16&255,T[F++]=q>>8&255,T[F++]=255&q}}function tn(p,_,S,T,F){for(S=_+S;_<S;){var q=p[_++];T[F++]=q>>16&255,T[F++]=q>>8&255,T[F++]=255&q,T[F++]=q>>24&255}}function kt(p,_,S,T,F){for(S=_+S;_<S;){var q=(z=p[_++])>>16&240|z>>12&15,z=240&z|z>>28&15;T[F++]=q,T[F++]=z}}function Bt(p,_,S,T,F){for(S=_+S;_<S;){var q=(z=p[_++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;T[F++]=q,T[F++]=z}}function Zt(p,_,S,T,F){for(S=_+S;_<S;){var q=p[_++];T[F++]=255&q,T[F++]=q>>8&255,T[F++]=q>>16&255}}function It(p,_,S,T,F,q){if(q==0)for(S=_+S;_<S;)Je(T,((q=p[_++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),F+=32;else r(T,F,p,_,S)}function Dn(p,_){C[_][0]=C[p+"0"],C[_][1]=C[p+"1"],C[_][2]=C[p+"2"],C[_][3]=C[p+"3"],C[_][4]=C[p+"4"],C[_][5]=C[p+"5"],C[_][6]=C[p+"6"],C[_][7]=C[p+"7"],C[_][8]=C[p+"8"],C[_][9]=C[p+"9"],C[_][10]=C[p+"10"],C[_][11]=C[p+"11"],C[_][12]=C[p+"12"],C[_][13]=C[p+"13"],C[_][14]=C[p+"0"],C[_][15]=C[p+"0"]}function Ut(p){return p==Pc||p==Ph||p==vu||p==Oh}function Ft(){this.eb=[],this.size=this.A=this.fb=0}function Mn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function xt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ft,this.f.kb=new Mn,this.sd=null}function At(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function cn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function wi(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function hi(p,_){var S=p.T,T=_.ba.f.RGBA,F=T.eb,q=T.fb+p.ka*T.A,z=Ci[_.ba.S],W=p.y,X=p.O,se=p.f,de=p.N,Ie=p.ea,re=p.W,_e=_.cc,Ee=_.dc,je=_.Mc,xe=_.Nc,Ve=p.ka,qe=p.ka+p.T,Xe=p.U,We=Xe+1>>1;for(Ve==0?z(W,X,null,null,se,de,Ie,re,se,de,Ie,re,F,q,null,null,Xe):(z(_.ec,_.fc,W,X,_e,Ee,je,xe,se,de,Ie,re,F,q-T.A,F,q,Xe),++S);Ve+2<qe;Ve+=2)_e=se,Ee=de,je=Ie,xe=re,de+=p.Rc,re+=p.Rc,q+=2*T.A,z(W,(X+=2*p.fa)-p.fa,W,X,_e,Ee,je,xe,se,de,Ie,re,F,q-T.A,F,q,Xe);return X+=p.fa,p.j+qe<p.o?(r(_.ec,_.fc,W,X,Xe),r(_.cc,_.dc,se,de,We),r(_.Mc,_.Nc,Ie,re,We),S--):1&qe||z(W,X,null,null,se,de,Ie,re,se,de,Ie,re,F,q+T.A,null,null,Xe),S}function qs(p,_,S){var T=p.F,F=[p.J];if(T!=null){var q=p.U,z=_.ba.S,W=z==Dc||z==vu;_=_.ba.f.RGBA;var X=[0],se=p.ka;X[0]=p.T,p.Kb&&(se==0?--X[0]:(--se,F[0]-=p.width),p.j+p.ka+p.T==p.o&&(X[0]=p.o-p.j-se));var de=_.eb;se=_.fb+se*_.A,p=Rc(T,F[0],p.width,q,X,de,se+(W?0:3),_.A),e(S==X),p&&Ut(z)&&kl(de,se,W,q,X,_.A)}return 0}function ti(p){var _=p.ma,S=_.ba.S,T=11>S,F=S==Ki||S==Qs||S==Dc||S==_u||S==12||Ut(S);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!ho(_.Oa,p,F?11:12))return 0;if(F&&Ut(S)&&$t(),p.da)alert("todo:use_scaling");else{if(T){if(_.Ib=wi,p.Kb){if(S=p.U+1>>1,_.memory=o(p.U+2*S),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+p.U,_.Mc=_.cc,_.Nc=_.dc+S,_.Ib=hi,$t()}}else alert("todo:EmitYUV");F&&(_.Jb=qs,T&&De())}if(T&&!Jo){for(p=0;256>p;++p)Li[p]=89858*(p-128)+Au>>na,o0[p]=-22014*(p-128)+Au,Sm[p]=-45773*(p-128),Fh[p]=113618*(p-128)+Au>>na;for(p=Ml;p<Xo;++p)_=76283*(p-16)+Au>>na,l0[p-Ml]=is(_,255),u0[p-Ml]=is(_+8>>4,15);Jo=1}return 1}function Nt(p){var _=p.ma,S=p.U,T=p.T;return e(!(1&p.ka)),0>=S||0>=T?0:(S=_.Ib(p,_),_.Jb!=null&&_.Jb(p,_,S),_.Dc+=S,1)}function _a(p){p.ma.memory=null}function ts(p,_,S,T){return J(p,8)!=47?0:(_[0]=J(p,14)+1,S[0]=J(p,14)+1,T[0]=J(p,1),J(p,3)!=0?0:!p.h)}function Vi(p,_){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+J(_,S)+1}function ji(p,_){return 120<_?_-120:1<=(S=((S=Js[_-1])>>4)*p+(8-(15&S)))?S:1;var S}function Gn(p,_,S){var T=Z(S),F=p[_+=255&T].g-8;return 0<F&&(ce(S,S.u+8),T=Z(S),_+=p[_].value,_+=T&(1<<F)-1),ce(S,S.u+p[_].g),p[_].value}function ir(p,_,S){return S.g+=p.g,S.value+=p.value<<_>>>0,e(8>=S.g),p.g}function Gr(p,_,S){var T=p.xc;return e((_=T==0?0:p.vc[p.md*(S>>T)+(_>>T)])<p.Wb),p.Ya[_]}function Ai(p,_,S,T){var F=p.ab,q=p.c*_,z=p.C;_=z+_;var W=S,X=T;for(T=p.Ta,S=p.Ua;0<F--;){var se=p.gc[F],de=z,Ie=_,re=W,_e=X,Ee=(X=T,W=S,se.Ea);switch(e(de<Ie),e(Ie<=se.nc),se.hc){case 2:Fr(re,_e,(Ie-de)*Ee,X,W);break;case 0:var je=de,xe=Ie,Ve=X,qe=W,Xe=(pt=se).Ea;je==0&&(pu(re,_e,null,null,1,Ve,qe),un(re,_e+1,0,0,Xe-1,Ve,qe+1),_e+=Xe,qe+=Xe,++je);for(var We=1<<pt.b,yt=We-1,ct=ze(Xe,pt.b),Yt=pt.K,pt=pt.w+(je>>pt.b)*ct;je<xe;){var gn=Yt,mr=pt,rn=1;for(mu(re,_e,Ve,qe-Xe,1,Ve,qe);rn<Xe;){var ht=(rn&~yt)+We;ht>Xe&&(ht=Xe),(0,po[gn[mr++]>>8&15])(re,_e+ +rn,Ve,qe+rn-Xe,ht-rn,Ve,qe+rn),rn=ht}_e+=Xe,qe+=Xe,++je&yt||(pt+=ct)}Ie!=se.nc&&r(X,W-Ee,X,W+(Ie-de-1)*Ee,Ee);break;case 1:for(Ee=re,xe=_e,Xe=(re=se.Ea)-(qe=re&~(Ve=(_e=1<<se.b)-1)),je=ze(re,se.b),We=se.K,se=se.w+(de>>se.b)*je;de<Ie;){for(yt=We,ct=se,Yt=new Dt,pt=xe+qe,gn=xe+re;xe<pt;)bt(yt[ct++],Yt),gu(Yt,Ee,xe,_e,X,W),xe+=_e,W+=_e;xe<gn&&(bt(yt[ct++],Yt),gu(Yt,Ee,xe,Xe,X,W),xe+=Xe,W+=Xe),++de&Ve||(se+=je)}break;case 3:if(re==X&&_e==W&&0<se.b){for(xe=X,re=Ee=W+(Ie-de)*Ee-(qe=(Ie-de)*ze(se.Ea,se.b)),_e=X,Ve=W,je=[],qe=(Xe=qe)-1;0<=qe;--qe)je[qe]=_e[Ve+qe];for(qe=Xe-1;0<=qe;--qe)xe[re+qe]=je[qe];Rh(se,de,Ie,X,Ee,X,W)}else Rh(se,de,Ie,re,_e,X,W)}W=T,X=S}X!=S&&r(T,S,W,X,q)}function fi(p,_){var S=p.V,T=p.Ba+p.c*p.C,F=_-p.C;if(e(_<=p.l.o),e(16>=F),0<F){var q=p.l,z=p.Ta,W=p.Ua,X=q.width;if(Ai(p,F,S,T),F=W=[W],e((S=p.C)<(T=_)),e(q.v<q.va),T>q.o&&(T=q.o),S<q.j){var se=q.j-S;S=q.j,F[0]+=se*X}if(S>=T?S=0:(F[0]+=4*q.v,q.ka=S-q.j,q.U=q.va-q.v,q.T=T-S,S=1),S){if(W=W[0],11>(S=p.ca).S){var de=S.f.RGBA,Ie=(T=S.S,F=q.U,q=q.T,se=de.eb,de.A),re=q;for(de=de.fb+p.Ma*de.A;0<re--;){var _e=z,Ee=W,je=F,xe=se,Ve=de;switch(T){case kh:yu(_e,Ee,je,xe,Ve);break;case Ki:mo(_e,Ee,je,xe,Ve);break;case Pc:mo(_e,Ee,je,xe,Ve),kl(xe,Ve,0,je,1,0);break;case Dh:Cl(_e,Ee,je,xe,Ve);break;case Qs:It(_e,Ee,je,xe,Ve,1);break;case Ph:It(_e,Ee,je,xe,Ve,1),kl(xe,Ve,0,je,1,0);break;case Dc:It(_e,Ee,je,xe,Ve,0);break;case vu:It(_e,Ee,je,xe,Ve,0),kl(xe,Ve,1,je,1,0);break;case _u:go(_e,Ee,je,xe,Ve);break;case Oh:go(_e,Ee,je,xe,Ve),Ys(xe,Ve,je,1,0);break;case Ko:Qa(_e,Ee,je,xe,Ve);break;default:e(0)}W+=X,de+=Ie}p.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=_,e(p.C<=p.i)}function Vn(p){var _;if(0<p.ua)return 0;for(_=0;_<p.Wb;++_){var S=p.Ya[_].G,T=p.Ya[_].H;if(0<S[1][T[1]+0].g||0<S[2][T[2]+0].g||0<S[3][T[3]+0].g)return 0}return 1}function Wn(p,_,S,T,F,q){if(p.Z!=0){var z=p.qd,W=p.rd;for(e(vo[p.Z]!=null);_<S;++_)vo[p.Z](z,W,T,F,T,F,q),z=T,W=F,F+=q;p.qd=z,p.rd=W}}function Kr(p,_){var S=p.l.ma,T=S.Z==0||S.Z==1?p.l.j:p.C;if(T=p.C<T?T:p.C,e(_<=p.l.o),_>T){var F=p.l.width,q=S.ca,z=S.tb+F*T,W=p.V,X=p.Ba+p.c*T,se=p.gc;e(p.ab==1),e(se[0].hc==3),Ya(se[0],T,_,W,X,q,z),Wn(S,T,_,q,z,F)}p.C=p.Ma=_}function Ui(p,_,S,T,F,q,z){var W=p.$/T,X=p.$%T,se=p.m,de=p.s,Ie=S+p.$,re=Ie;F=S+T*F;var _e=S+T*q,Ee=280+de.ua,je=p.Pb?W:16777216,xe=0<de.ua?de.Wa:null,Ve=de.wc,qe=Ie<_e?Gr(de,X,W):null;e(p.C<q),e(_e<=F);var Xe=!1;e:for(;;){for(;Xe||Ie<_e;){var We=0;if(W>=je){var yt=Ie-S;e((je=p).Pb),je.wd=je.m,je.xd=yt,0<je.s.ua&&rt(je.s.Wa,je.s.vb),je=W+$o}if(X&Ve||(qe=Gr(de,X,W)),e(qe!=null),qe.Qb&&(_[Ie]=qe.qb,Xe=!0),!Xe)if(ye(se),qe.jc){We=se,yt=_;var ct=Ie,Yt=qe.pd[Z(We)&Go-1];e(qe.jc),256>Yt.g?(ce(We,We.u+Yt.g),yt[ct]=Yt.value,We=0):(ce(We,We.u+Yt.g-256),e(256<=Yt.value),We=Yt.value),We==0&&(Xe=!0)}else We=Gn(qe.G[0],qe.H[0],se);if(se.h)break;if(Xe||256>We){if(!Xe)if(qe.nd)_[Ie]=(qe.qb|We<<8)>>>0;else{if(ye(se),Xe=Gn(qe.G[1],qe.H[1],se),ye(se),yt=Gn(qe.G[2],qe.H[2],se),ct=Gn(qe.G[3],qe.H[3],se),se.h)break;_[Ie]=(ct<<24|Xe<<16|We<<8|yt)>>>0}if(Xe=!1,++Ie,++X>=T&&(X=0,++W,z!=null&&W<=q&&!(W%16)&&z(p,W),xe!=null))for(;re<Ie;)We=_[re++],xe.X[(506832829*We&4294967295)>>>xe.Mb]=We}else if(280>We){if(We=Vi(We-256,se),yt=Gn(qe.G[4],qe.H[4],se),ye(se),yt=ji(T,yt=Vi(yt,se)),se.h)break;if(Ie-S<yt||F-Ie<We)break e;for(ct=0;ct<We;++ct)_[Ie+ct]=_[Ie+ct-yt];for(Ie+=We,X+=We;X>=T;)X-=T,++W,z!=null&&W<=q&&!(W%16)&&z(p,W);if(e(Ie<=F),X&Ve&&(qe=Gr(de,X,W)),xe!=null)for(;re<Ie;)We=_[re++],xe.X[(506832829*We&4294967295)>>>xe.Mb]=We}else{if(!(We<Ee))break e;for(Xe=We-280,e(xe!=null);re<Ie;)We=_[re++],xe.X[(506832829*We&4294967295)>>>xe.Mb]=We;We=Ie,e(!(Xe>>>(yt=xe).Xa)),_[We]=yt.X[Xe],Xe=!0}Xe||e(se.h==le(se))}if(p.Pb&&se.h&&Ie<F)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&rt(p.s.vb,p.s.Wa);else{if(se.h)break e;z?.(p,W>q?q:W),p.a=0,p.$=Ie-S}return 1}return p.a=3,0}function gs(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var _=p.Wa;_!=null&&(_.X=null),p.vb=null,e(p!=null)}function ja(){var p=new Mt;return p==null?null:(p.a=0,p.xb=Id,Dn("Predictor","VP8LPredictors"),Dn("Predictor","VP8LPredictors_C"),Dn("PredictorAdd","VP8LPredictorsAdd"),Dn("PredictorAdd","VP8LPredictorsAdd_C"),Fr=en,gu=Wt,yu=_r,mo=tn,go=kt,Qa=Bt,Cl=Zt,C.VP8LMapColor32b=Wa,C.VP8LMapColor8b=Ii,p)}function ks(p,_,S,T,F){var q=1,z=[p],W=[_],X=T.m,se=T.s,de=null,Ie=0;e:for(;;){if(S)for(;q&&J(X,1);){var re=z,_e=W,Ee=T,je=1,xe=Ee.m,Ve=Ee.gc[Ee.ab],qe=J(xe,2);if(Ee.Oc&1<<qe)q=0;else{switch(Ee.Oc|=1<<qe,Ve.hc=qe,Ve.Ea=re[0],Ve.nc=_e[0],Ve.K=[null],++Ee.ab,e(4>=Ee.ab),qe){case 0:case 1:Ve.b=J(xe,3)+2,je=ks(ze(Ve.Ea,Ve.b),ze(Ve.nc,Ve.b),0,Ee,Ve.K),Ve.K=Ve.K[0];break;case 3:var Xe,We=J(xe,8)+1,yt=16<We?0:4<We?1:2<We?2:3;if(re[0]=ze(Ve.Ea,yt),Ve.b=yt,Xe=je=ks(We,1,0,Ee,Ve.K)){var ct,Yt=We,pt=Ve,gn=1<<(8>>pt.b),mr=o(gn);if(mr==null)Xe=0;else{var rn=pt.K[0],ht=pt.w;for(mr[0]=pt.K[0][0],ct=1;ct<1*Yt;++ct)mr[ct]=lt(rn[ht+ct],mr[ct-1]);for(;ct<4*gn;++ct)mr[ct]=0;pt.K[0]=null,pt.K[0]=mr,Xe=1}}je=Xe;break;case 2:break;default:e(0)}q=je}}if(z=z[0],W=W[0],q&&J(X,1)&&!(q=1<=(Ie=J(X,4))&&11>=Ie)){T.a=3;break e}var nt;if(nt=q)t:{var wr,qt,on,qn=T,ii=z,ki=W,lr=Ie,Wr=S,$i=qn.m,Yr=qn.s,dn=[null],Rn=1,Ar=0,On=Zs[lr];n:for(;;){if(Wr&&J($i,1)){var si=J($i,3)+2,Er=ze(ii,si),Cn=ze(ki,si),zr=Er*Cn;if(!ks(Er,Cn,0,qn,dn))break n;for(dn=dn[0],Yr.xc=si,wr=0;wr<zr;++wr){var zn=dn[wr]>>8&65535;dn[wr]=zn,zn>=Rn&&(Rn=zn+1)}}if($i.h)break n;for(qt=0;5>qt;++qt){var Qr=Pl[qt];!qt&&0<lr&&(Qr+=1<<lr),Ar<Qr&&(Ar=Qr)}var Xr=u(Rn*On,R),Qn=Rn,Nn=u(Qn,Te);if(Nn==null)var Wi=null;else e(65536>=Qn),Wi=Nn;var Lr=o(Ar);if(Wi==null||Lr==null||Xr==null){qn.a=1;break n}var Ot=Xr;for(wr=on=0;wr<Rn;++wr){var Vt=Wi[wr],Ln=Vt.G,As=Vt.H,ra=0,fs=1,Jr=0;for(qt=0;5>qt;++qt){Qr=Pl[qt],Ln[qt]=Ot,As[qt]=on,!qt&&0<lr&&(Qr+=1<<lr);i:{var Zo,el=Qr,qh=qn,ur=Lr,Rd=Ot,Cd=on,zh=0,bo=qh.m,c0=J(bo,1);if(s(ur,0,0,el),c0){var Ld=J(bo,1)+1,kd=J(bo,1),Hh=J(bo,kd==0?1:8);ur[Hh]=1,Ld==2&&(ur[Hh=J(bo,8)]=1);var gi=1}else{var kr=o(19),jc=J(bo,4)+4;if(19<jc){qh.a=3;var tl=0;break i}for(Zo=0;Zo<jc;++Zo)kr[Oc[Zo]]=J(bo,3);var Su=void 0,Vl=void 0,Za=qh,Gh=kr,xu=el,Kh=ur,$h=0,wo=Za.m,Dd=8,Pd=u(128,R);r:for(;P(Pd,0,7,Gh,19);){if(J(wo,1)){var xm=2+2*J(wo,3);if((Su=2+J(wo,xm))>xu)break r}else Su=xu;for(Vl=0;Vl<xu&&Su--;){ye(wo);var Od=Pd[0+(127&Z(wo))];ce(wo,wo.u+Od.g);var nl=Od.value;if(16>nl)Kh[Vl++]=nl,nl!=0&&(Dd=nl);else{var Tm=nl==16,Im=nl-16,Nm=bu[Im],Md=J(wo,Xs[Im])+Nm;if(Vl+Md>xu)break r;for(var Rm=Tm?Dd:0;0<Md--;)Kh[Vl++]=Rm}}$h=1;break r}$h||(Za.a=3),gi=$h}(gi=gi&&!bo.h)&&(zh=P(Rd,Cd,8,ur,el)),gi&&zh!=0?tl=zh:(qh.a=3,tl=0)}if(tl==0)break n;if(fs&&Mh[qt]==1&&(fs=Ot[on].g==0),ra+=Ot[on].g,on+=tl,3>=qt){var jl,Wh=Lr[0];for(jl=1;jl<Qr;++jl)Lr[jl]>Wh&&(Wh=Lr[jl]);Jr+=Wh}}if(Vt.nd=fs,Vt.Qb=0,fs&&(Vt.qb=(Ln[3][As[3]+0].value<<24|Ln[1][As[1]+0].value<<16|Ln[2][As[2]+0].value)>>>0,ra==0&&256>Ln[0][As[0]+0].value&&(Vt.Qb=1,Vt.qb+=Ln[0][As[0]+0].value<<8)),Vt.jc=!Vt.Qb&&6>Jr,Vt.jc){var Uc,eo=Vt;for(Uc=0;Uc<Go;++Uc){var Ao=Uc,Eo=eo.pd[Ao],Yh=eo.G[0][eo.H[0]+Ao];256<=Yh.value?(Eo.g=Yh.g+256,Eo.value=Yh.value):(Eo.g=0,Eo.value=0,Ao>>=ir(Yh,8,Eo),Ao>>=ir(eo.G[1][eo.H[1]+Ao],16,Eo),Ao>>=ir(eo.G[2][eo.H[2]+Ao],0,Eo),ir(eo.G[3][eo.H[3]+Ao],24,Eo))}}}Yr.vc=dn,Yr.Wb=Rn,Yr.Ya=Wi,Yr.yc=Xr,nt=1;break t}nt=0}if(!(q=nt)){T.a=3;break e}if(0<Ie){if(se.ua=1<<Ie,!te(se.Wa,Ie)){T.a=1,q=0;break e}}else se.ua=0;var Qh=T,Ul=z,Cm=W,Tu=Qh.s,Iu=Tu.xc;if(Qh.c=Ul,Qh.i=Cm,Tu.md=ze(Ul,Iu),Tu.wc=Iu==0?-1:(1<<Iu)-1,S){T.xb=Wo;break e}if((de=o(z*W))==null){T.a=1,q=0;break e}q=(q=Ui(T,de,0,z,W,W,null))&&!X.h;break e}return q?(F!=null?F[0]=de:(e(de==null),e(S)),T.$=0,S||gs(se)):gs(se),q}function Fi(p,_){var S=p.c*p.i,T=S+_+16*_;return e(p.c<=_),p.V=o(T),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+_,1)}function va(p,_){var S=p.C,T=_-S,F=p.V,q=p.Ba+p.c*S;for(e(_<=p.l.o);0<T;){var z=16<T?16:T,W=p.l.ma,X=p.l.width,se=X*z,de=W.ca,Ie=W.tb+X*S,re=p.Ta,_e=p.Ua;Ai(p,z,F,q),Fs(re,_e,de,Ie,se),Wn(W,S,S+z,de,Ie,X),T-=z,F+=z*p.c,S+=z}e(S==_),p.C=p.Ma=_}function ns(){this.ub=this.yd=this.td=this.Rb=0}function Ei(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function rs(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ys(){this.Yb=(function(){var p=[];return(function _(S,T,F){for(var q=F[T],z=0;z<q&&(S.push(F.length>T+1?[]:0),!(F.length<T+1));z++)_(S[z],T+1,F)})(p,0,[3,11]),p})()}function br(){this.jb=o(3),this.Wc=c([4,8],ys),this.Xc=c([4,17],ys)}function Vo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Bi(){this.ld=this.La=this.dd=this.tc=0}function _s(){this.Na=this.la=0}function Ds(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function io(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function jo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Bi),this.Y=0,this.ya=Array(new io),this.aa=0,this.l=new di}function Uo(){this.y=o(16),this.f=o(8),this.ea=o(8)}function El(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new ns,this.Kc=new Ei,this.ed=new Vo,this.Qa=new rs,this.Ic=this.$c=this.Aa=0,this.D=new jo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,k),this.ia=0,this.pb=u(4,Ds),this.Pa=new br,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Uo),this.Hd=0,this.rb=Array(new _s),this.sb=0,this.wa=Array(new Bi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new io),this.L=this.aa=0,this.gd=c([4,2],Bi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function is(p,_){return 0>p?0:p>_?_:p}function di(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Nr(){var p=new El;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Bs||(Bs=An)),p}function pn(p,_,S){return p.a==0&&(p.a=_,p.sc=S,p.cb=0),0}function ba(p,_,S){return 3<=S&&p[_+0]==157&&p[_+1]==1&&p[_+2]==42}function vs(p,_){if(p==null)return 0;if(p.a=0,p.sc="OK",_==null)return pn(p,2,"null VP8Io passed to VP8GetHeaders()");var S=_.data,T=_.w,F=_.ha;if(4>F)return pn(p,7,"Truncated header.");var q=S[T+0]|S[T+1]<<8|S[T+2]<<16,z=p.Od;if(z.Rb=!(1&q),z.td=q>>1&7,z.yd=q>>4&1,z.ub=q>>5,3<z.td)return pn(p,3,"Incorrect keyframe parameters.");if(!z.yd)return pn(p,4,"Frame not displayable.");T+=3,F-=3;var W=p.Kc;if(z.Rb){if(7>F)return pn(p,7,"cannot parse picture header");if(!ba(S,T,F))return pn(p,3,"Bad code word");W.c=16383&(S[T+4]<<8|S[T+3]),W.Td=S[T+4]>>6,W.i=16383&(S[T+6]<<8|S[T+5]),W.Ud=S[T+6]>>6,T+=7,F-=7,p.za=W.c+15>>4,p.Ub=W.i+15>>4,_.width=W.c,_.height=W.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,s((q=p.Pa).jb,0,255,q.jb.length),e((q=p.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,s(q.Zb,0,0,q.Zb.length),s(q.Lb,0,0,q.Lb)}if(z.ub>F)return pn(p,7,"bad partition length");ae(q=p.m,S,T,z.ub),T+=z.ub,F-=z.ub,z.Rb&&(W.Ld=ke(q),W.Kd=ke(q)),W=p.Qa;var X,se=p.Pa;if(e(q!=null),e(W!=null),W.Cb=ke(q),W.Cb){if(W.Bb=ke(q),ke(q)){for(W.Fb=ke(q),X=0;4>X;++X)W.Zb[X]=ke(q)?fe(q,7):0;for(X=0;4>X;++X)W.Lb[X]=ke(q)?fe(q,6):0}if(W.Bb)for(X=0;3>X;++X)se.jb[X]=ke(q)?pe(q,8):255}else W.Bb=0;if(q.Ka)return pn(p,3,"cannot parse segment header");if((W=p.ed).zd=ke(q),W.Tb=pe(q,6),W.wb=pe(q,3),W.Pc=ke(q),W.Pc&&ke(q)){for(se=0;4>se;++se)ke(q)&&(W.vd[se]=fe(q,6));for(se=0;4>se;++se)ke(q)&&(W.od[se]=fe(q,6))}if(p.L=W.Tb==0?0:W.zd?1:2,q.Ka)return pn(p,3,"cannot parse filter header");var de=F;if(F=X=T,T=X+de,W=de,p.Xb=(1<<pe(p.m,2))-1,de<3*(se=p.Xb))S=7;else{for(X+=3*se,W-=3*se,de=0;de<se;++de){var Ie=S[F+0]|S[F+1]<<8|S[F+2]<<16;Ie>W&&(Ie=W),ae(p.Jc[+de],S,X,Ie),X+=Ie,W-=Ie,F+=3}ae(p.Jc[+se],S,X,W),S=X<T?0:5}if(S!=0)return pn(p,S,"cannot parse partitions");for(S=pe(X=p.m,7),F=ke(X)?fe(X,4):0,T=ke(X)?fe(X,4):0,W=ke(X)?fe(X,4):0,se=ke(X)?fe(X,4):0,X=ke(X)?fe(X,4):0,de=p.Qa,Ie=0;4>Ie;++Ie){if(de.Cb){var re=de.Zb[Ie];de.Fb||(re+=S)}else{if(0<Ie){p.pb[Ie]=p.pb[0];continue}re=S}var _e=p.pb[Ie];_e.Sc[0]=ea[is(re+F,127)],_e.Sc[1]=ta[is(re+0,127)],_e.Eb[0]=2*ea[is(re+T,127)],_e.Eb[1]=101581*ta[is(re+W,127)]>>16,8>_e.Eb[1]&&(_e.Eb[1]=8),_e.Qc[0]=ea[is(re+se,117)],_e.Qc[1]=ta[is(re+X,127)],_e.lc=re+X}if(!z.Rb)return pn(p,4,"Not a key frame.");for(ke(q),z=p.Pa,S=0;4>S;++S){for(F=0;8>F;++F)for(T=0;3>T;++T)for(W=0;11>W;++W)se=Be(q,pr[S][F][T][W])?pe(q,8):Em[S][F][T][W],z.Wc[S][F].Yb[T][W]=se;for(F=0;17>F;++F)z.Xc[S][F]=z.Wc[S][vn[F]]}return p.kc=ke(q),p.kc&&(p.Bd=pe(q,8)),p.cb=1}function An(p,_,S,T,F,q,z){var W=_[F].Yb[S];for(S=0;16>F;++F){if(!Be(p,W[S+0]))return F;for(;!Be(p,W[S+1]);)if(W=_[++F].Yb[0],S=0,F==16)return 16;var X=_[F+1].Yb;if(Be(p,W[S+2])){var se=p,de=0;if(Be(se,(re=W)[(Ie=S)+3]))if(Be(se,re[Ie+6])){for(W=0,Ie=2*(de=Be(se,re[Ie+8]))+(re=Be(se,re[Ie+9+de])),de=0,re=Am[Ie];re[W];++W)de+=de+Be(se,re[W]);de+=3+(8<<Ie)}else Be(se,re[Ie+7])?(de=7+2*Be(se,165),de+=Be(se,145)):de=5+Be(se,159);else de=Be(se,re[Ie+4])?3+Be(se,re[Ie+5]):2;W=X[2]}else de=1,W=X[1];X=z+Td[F],0>(se=p).b&&Pe(se);var Ie,re=se.b,_e=(Ie=se.Ca>>1)-(se.I>>re)>>31;--se.b,se.Ca+=_e,se.Ca|=1,se.I-=(Ie+1&_e)<<re,q[X]=((de^_e)-_e)*T[(0<F)+0]}return 16}function Ua(p){var _=p.rb[p.sb-1];_.la=0,_.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function jr(p,_,S,T,F){F=p[_+S+32*T]+(F>>3),p[_+S+32*T]=-256&F?0>F?0:255:F}function dr(p,_,S,T,F,q){jr(p,_,0,S,T+F),jr(p,_,1,S,T+q),jr(p,_,2,S,T-q),jr(p,_,3,S,T-F)}function Rr(p){return(20091*p>>16)+p}function so(p,_,S,T){var F,q=0,z=o(16);for(F=0;4>F;++F){var W=p[_+0]+p[_+8],X=p[_+0]-p[_+8],se=(35468*p[_+4]>>16)-Rr(p[_+12]),de=Rr(p[_+4])+(35468*p[_+12]>>16);z[q+0]=W+de,z[q+1]=X+se,z[q+2]=X-se,z[q+3]=W-de,q+=4,_++}for(F=q=0;4>F;++F)W=(p=z[q+0]+4)+z[q+8],X=p-z[q+8],se=(35468*z[q+4]>>16)-Rr(z[q+12]),jr(S,T,0,0,W+(de=Rr(z[q+4])+(35468*z[q+12]>>16))),jr(S,T,1,0,X+se),jr(S,T,2,0,X-se),jr(S,T,3,0,W-de),q++,T+=32}function fu(p,_,S,T){var F=p[_+0]+4,q=35468*p[_+4]>>16,z=Rr(p[_+4]),W=35468*p[_+1]>>16;dr(S,T,0,F+z,p=Rr(p[_+1]),W),dr(S,T,1,F+q,p,W),dr(S,T,2,F-q,p,W),dr(S,T,3,F-z,p,W)}function Sl(p,_,S,T,F){so(p,_,S,T),F&&so(p,_+16,S,T+4)}function Si(p,_,S,T){yo(p,_+0,S,T,1),yo(p,_+32,S,T+128,1)}function xl(p,_,S,T){var F;for(p=p[_+0]+4,F=0;4>F;++F)for(_=0;4>_;++_)jr(S,T,_,F,p)}function wa(p,_,S,T){p[_+0]&&Pn(p,_+0,S,T),p[_+16]&&Pn(p,_+16,S,T+4),p[_+32]&&Pn(p,_+32,S,T+128),p[_+48]&&Pn(p,_+48,S,T+128+4)}function ni(p,_,S,T){var F,q=o(16);for(F=0;4>F;++F){var z=p[_+0+F]+p[_+12+F],W=p[_+4+F]+p[_+8+F],X=p[_+4+F]-p[_+8+F],se=p[_+0+F]-p[_+12+F];q[0+F]=z+W,q[8+F]=z-W,q[4+F]=se+X,q[12+F]=se-X}for(F=0;4>F;++F)z=(p=q[0+4*F]+3)+q[3+4*F],W=q[1+4*F]+q[2+4*F],X=q[1+4*F]-q[2+4*F],se=p-q[3+4*F],S[T+0]=z+W>>3,S[T+16]=se+X>>3,S[T+32]=z-W>>3,S[T+48]=se-X>>3,T+=64}function Fa(p,_,S){var T,F=_-32,q=Gi,z=255-p[F-1];for(T=0;T<S;++T){var W,X=q,se=z+p[_-1];for(W=0;W<S;++W)p[_+W]=X[se+p[F+W]];_+=32}}function Tl(p,_){Fa(p,_,4)}function Il(p,_){Fa(p,_,8)}function Fo(p,_){Fa(p,_,16)}function Bo(p,_){var S;for(S=0;16>S;++S)r(p,_+32*S,p,_-32,16)}function Aa(p,_){var S;for(S=16;0<S;--S)s(p,_,p[_-1],16),_+=32}function qi(p,_,S){var T;for(T=0;16>T;++T)s(_,S+32*T,p,16)}function Ps(p,_){var S,T=16;for(S=0;16>S;++S)T+=p[_-1+32*S]+p[_+S-32];qi(T>>5,p,_)}function Ea(p,_){var S,T=8;for(S=0;16>S;++S)T+=p[_-1+32*S];qi(T>>4,p,_)}function zi(p,_){var S,T=8;for(S=0;16>S;++S)T+=p[_+S-32];qi(T>>4,p,_)}function Ba(p,_){qi(128,p,_)}function Pt(p,_,S){return p+2*_+S+2>>2}function ao(p,_){var S,T=_-32;for(T=new Uint8Array([Pt(p[T-1],p[T+0],p[T+1]),Pt(p[T+0],p[T+1],p[T+2]),Pt(p[T+1],p[T+2],p[T+3]),Pt(p[T+2],p[T+3],p[T+4])]),S=0;4>S;++S)r(p,_+32*S,T,0,T.length)}function qo(p,_){var S=p[_-1],T=p[_-1+32],F=p[_-1+64],q=p[_-1+96];Je(p,_+0,16843009*Pt(p[_-1-32],S,T)),Je(p,_+32,16843009*Pt(S,T,F)),Je(p,_+64,16843009*Pt(T,F,q)),Je(p,_+96,16843009*Pt(F,q,q))}function qa(p,_){var S,T=4;for(S=0;4>S;++S)T+=p[_+S-32]+p[_-1+32*S];for(T>>=3,S=0;4>S;++S)s(p,_+32*S,T,4)}function ri(p,_){var S=p[_-1+0],T=p[_-1+32],F=p[_-1+64],q=p[_-1-32],z=p[_+0-32],W=p[_+1-32],X=p[_+2-32],se=p[_+3-32];p[_+0+96]=Pt(T,F,p[_-1+96]),p[_+1+96]=p[_+0+64]=Pt(S,T,F),p[_+2+96]=p[_+1+64]=p[_+0+32]=Pt(q,S,T),p[_+3+96]=p[_+2+64]=p[_+1+32]=p[_+0+0]=Pt(z,q,S),p[_+3+64]=p[_+2+32]=p[_+1+0]=Pt(W,z,q),p[_+3+32]=p[_+2+0]=Pt(X,W,z),p[_+3+0]=Pt(se,X,W)}function $r(p,_){var S=p[_+1-32],T=p[_+2-32],F=p[_+3-32],q=p[_+4-32],z=p[_+5-32],W=p[_+6-32],X=p[_+7-32];p[_+0+0]=Pt(p[_+0-32],S,T),p[_+1+0]=p[_+0+32]=Pt(S,T,F),p[_+2+0]=p[_+1+32]=p[_+0+64]=Pt(T,F,q),p[_+3+0]=p[_+2+32]=p[_+1+64]=p[_+0+96]=Pt(F,q,z),p[_+3+32]=p[_+2+64]=p[_+1+96]=Pt(q,z,W),p[_+3+64]=p[_+2+96]=Pt(z,W,X),p[_+3+96]=Pt(W,X,X)}function oo(p,_){var S=p[_-1+0],T=p[_-1+32],F=p[_-1+64],q=p[_-1-32],z=p[_+0-32],W=p[_+1-32],X=p[_+2-32],se=p[_+3-32];p[_+0+0]=p[_+1+64]=q+z+1>>1,p[_+1+0]=p[_+2+64]=z+W+1>>1,p[_+2+0]=p[_+3+64]=W+X+1>>1,p[_+3+0]=X+se+1>>1,p[_+0+96]=Pt(F,T,S),p[_+0+64]=Pt(T,S,q),p[_+0+32]=p[_+1+96]=Pt(S,q,z),p[_+1+32]=p[_+2+96]=Pt(q,z,W),p[_+2+32]=p[_+3+96]=Pt(z,W,X),p[_+3+32]=Pt(W,X,se)}function jn(p,_){var S=p[_+0-32],T=p[_+1-32],F=p[_+2-32],q=p[_+3-32],z=p[_+4-32],W=p[_+5-32],X=p[_+6-32],se=p[_+7-32];p[_+0+0]=S+T+1>>1,p[_+1+0]=p[_+0+64]=T+F+1>>1,p[_+2+0]=p[_+1+64]=F+q+1>>1,p[_+3+0]=p[_+2+64]=q+z+1>>1,p[_+0+32]=Pt(S,T,F),p[_+1+32]=p[_+0+96]=Pt(T,F,q),p[_+2+32]=p[_+1+96]=Pt(F,q,z),p[_+3+32]=p[_+2+96]=Pt(q,z,W),p[_+3+64]=Pt(z,W,X),p[_+3+96]=Pt(W,X,se)}function ss(p,_){var S=p[_-1+0],T=p[_-1+32],F=p[_-1+64],q=p[_-1+96];p[_+0+0]=S+T+1>>1,p[_+2+0]=p[_+0+32]=T+F+1>>1,p[_+2+32]=p[_+0+64]=F+q+1>>1,p[_+1+0]=Pt(S,T,F),p[_+3+0]=p[_+1+32]=Pt(T,F,q),p[_+3+32]=p[_+1+64]=Pt(F,q,q),p[_+3+64]=p[_+2+64]=p[_+0+96]=p[_+1+96]=p[_+2+96]=p[_+3+96]=q}function lo(p,_){var S=p[_-1+0],T=p[_-1+32],F=p[_-1+64],q=p[_-1+96],z=p[_-1-32],W=p[_+0-32],X=p[_+1-32],se=p[_+2-32];p[_+0+0]=p[_+2+32]=S+z+1>>1,p[_+0+32]=p[_+2+64]=T+S+1>>1,p[_+0+64]=p[_+2+96]=F+T+1>>1,p[_+0+96]=q+F+1>>1,p[_+3+0]=Pt(W,X,se),p[_+2+0]=Pt(z,W,X),p[_+1+0]=p[_+3+32]=Pt(S,z,W),p[_+1+32]=p[_+3+64]=Pt(T,S,z),p[_+1+64]=p[_+3+96]=Pt(F,T,S),p[_+1+96]=Pt(q,F,T)}function Os(p,_){var S;for(S=0;8>S;++S)r(p,_+32*S,p,_-32,8)}function Nl(p,_){var S;for(S=0;8>S;++S)s(p,_,p[_-1],8),_+=32}function as(p,_,S){var T;for(T=0;8>T;++T)s(_,S+32*T,p,8)}function Sa(p,_){var S,T=8;for(S=0;8>S;++S)T+=p[_+S-32]+p[_-1+32*S];as(T>>4,p,_)}function os(p,_){var S,T=4;for(S=0;8>S;++S)T+=p[_+S-32];as(T>>3,p,_)}function Ur(p,_){var S,T=4;for(S=0;8>S;++S)T+=p[_-1+32*S];as(T>>3,p,_)}function zs(p,_){as(128,p,_)}function pi(p,_,S){var T=p[_-S],F=p[_+0],q=3*(F-T)+_o[1020+p[_-2*S]-p[_+S]],z=kc[112+(q+4>>3)];p[_-S]=Gi[255+T+kc[112+(q+3>>3)]],p[_+0]=Gi[255+F-z]}function Hs(p,_,S,T){var F=p[_+0],q=p[_+S];return Ni[255+p[_-2*S]-p[_-S]]>T||Ni[255+q-F]>T}function za(p,_,S,T){return 4*Ni[255+p[_-S]-p[_+0]]+Ni[255+p[_-2*S]-p[_+S]]<=T}function Gs(p,_,S,T,F){var q=p[_-3*S],z=p[_-2*S],W=p[_-S],X=p[_+0],se=p[_+S],de=p[_+2*S],Ie=p[_+3*S];return 4*Ni[255+W-X]+Ni[255+z-se]>T?0:Ni[255+p[_-4*S]-q]<=F&&Ni[255+q-z]<=F&&Ni[255+z-W]<=F&&Ni[255+Ie-de]<=F&&Ni[255+de-se]<=F&&Ni[255+se-X]<=F}function Ks(p,_,S,T){var F=2*T+1;for(T=0;16>T;++T)za(p,_+T,S,F)&&pi(p,_+T,S)}function bs(p,_,S,T){var F=2*T+1;for(T=0;16>T;++T)za(p,_+T*S,1,F)&&pi(p,_+T*S,1)}function uo(p,_,S,T){var F;for(F=3;0<F;--F)Ks(p,_+=4*S,S,T)}function zo(p,_,S,T){var F;for(F=3;0<F;--F)bs(p,_+=4,S,T)}function ls(p,_,S,T,F,q,z,W){for(q=2*q+1;0<F--;){if(Gs(p,_,S,q,z))if(Hs(p,_,S,W))pi(p,_,S);else{var X=p,se=_,de=S,Ie=X[se-2*de],re=X[se-de],_e=X[se+0],Ee=X[se+de],je=X[se+2*de],xe=27*(qe=_o[1020+3*(_e-re)+_o[1020+Ie-Ee]])+63>>7,Ve=18*qe+63>>7,qe=9*qe+63>>7;X[se-3*de]=Gi[255+X[se-3*de]+qe],X[se-2*de]=Gi[255+Ie+Ve],X[se-de]=Gi[255+re+xe],X[se+0]=Gi[255+_e-xe],X[se+de]=Gi[255+Ee-Ve],X[se+2*de]=Gi[255+je-qe]}_+=T}}function $s(p,_,S,T,F,q,z,W){for(q=2*q+1;0<F--;){if(Gs(p,_,S,q,z))if(Hs(p,_,S,W))pi(p,_,S);else{var X=p,se=_,de=S,Ie=X[se-de],re=X[se+0],_e=X[se+de],Ee=kc[112+(4+(je=3*(re-Ie))>>3)],je=kc[112+(je+3>>3)],xe=Ee+1>>1;X[se-2*de]=Gi[255+X[se-2*de]+xe],X[se-de]=Gi[255+Ie+je],X[se+0]=Gi[255+re-Ee],X[se+de]=Gi[255+_e-xe]}_+=T}}function Rl(p,_,S,T,F,q){ls(p,_,S,1,16,T,F,q)}function Ms(p,_,S,T,F,q){ls(p,_,1,S,16,T,F,q)}function Ho(p,_,S,T,F,q){var z;for(z=3;0<z;--z)$s(p,_+=4*S,S,1,16,T,F,q)}function A(p,_,S,T,F,q){var z;for(z=3;0<z;--z)$s(p,_+=4,1,S,16,T,F,q)}function j(p,_,S,T,F,q,z,W){ls(p,_,F,1,8,q,z,W),ls(S,T,F,1,8,q,z,W)}function ie(p,_,S,T,F,q,z,W){ls(p,_,1,F,8,q,z,W),ls(S,T,1,F,8,q,z,W)}function he(p,_,S,T,F,q,z,W){$s(p,_+4*F,F,1,8,q,z,W),$s(S,T+4*F,F,1,8,q,z,W)}function ve(p,_,S,T,F,q,z,W){$s(p,_+4,1,F,8,q,z,W),$s(S,T+4,1,F,8,q,z,W)}function Ue(){this.ba=new xt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new cn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ye(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ft(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function gt(){this.ua=0,this.Wa=new Xt,this.vb=new Xt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Te,this.yc=new R}function Mt(){this.xb=this.a=0,this.l=new di,this.ca=new xt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new gt,this.ab=0,this.gc=u(4,ft),this.Oc=0}function Rt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new di,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function mn(p,_,S,T,F,q,z){for(p=p==null?0:p[_+0],_=0;_<z;++_)F[q+_]=p+S[T+_]&255,p=F[q+_]}function sr(p,_,S,T,F,q,z){var W;if(p==null)mn(null,null,S,T,F,q,z);else for(W=0;W<z;++W)F[q+W]=p[_+W]+S[T+W]&255}function Kn(p,_,S,T,F,q,z){if(p==null)mn(null,null,S,T,F,q,z);else{var W,X=p[_+0],se=X,de=X;for(W=0;W<z;++W)se=de+(X=p[_+W])-se,de=S[T+W]+(-256&se?0>se?0:255:se)&255,se=X,F[q+W]=de}}function m(p,_,S,T){var F=_.width,q=_.o;if(e(p!=null&&_!=null),0>S||0>=T||S+T>q)return null;if(!p.Cc){if(p.ga==null){var z;if(p.ga=new Rt,(z=p.ga==null)||(z=_.width*_.o,e(p.Gb.length==0),p.Gb=o(z),p.Uc=0,p.Gb==null?z=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,z=1),z=!z),!z){z=p.ga;var W=p.Fa,X=p.P,se=p.qc,de=p.mb,Ie=p.nb,re=X+1,_e=se-1,Ee=z.l;if(e(W!=null&&de!=null&&_!=null),vo[0]=null,vo[1]=mn,vo[2]=sr,vo[3]=Kn,z.ca=de,z.tb=Ie,z.c=_.width,z.i=_.height,e(0<z.c&&0<z.i),1>=se)_=0;else if(z.$a=3&W[X+0],z.Z=W[X+0]>>2&3,z.Lc=W[X+0]>>4&3,X=W[X+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||X)_=0;else if(Ee.put=Nt,Ee.ac=ti,Ee.bc=_a,Ee.ma=z,Ee.width=_.width,Ee.height=_.height,Ee.Da=_.Da,Ee.v=_.v,Ee.va=_.va,Ee.j=_.j,Ee.o=_.o,z.$a)e:{e(z.$a==1),_=ja();t:for(;;){if(_==null){_=0;break e}if(e(z!=null),z.mc=_,_.c=z.c,_.i=z.i,_.l=z.l,_.l.ma=z,_.l.width=z.c,_.l.height=z.i,_.a=0,Le(_.m,W,re,_e),!ks(z.c,z.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Vn(_.s)?(z.ic=1,W=_.c*_.i,_.Ta=null,_.Ua=0,_.V=o(W),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(z.ic=0,_=Fi(_,z.c)),!_))break t;_=1;break e}z.mc=null,_=0}else _=_e>=z.c*z.i;z=!_}if(z)return null;p.ga.Lc!=1?p.Ga=0:T=q-S}e(p.ga!=null),e(S+T<=q);e:{if(_=(W=p.ga).c,q=W.l.o,W.$a==0){if(re=p.rc,_e=p.Vc,Ee=p.Fa,X=p.P+1+S*_,se=p.mb,de=p.nb+S*_,e(X<=p.P+p.qc),W.Z!=0)for(e(vo[W.Z]!=null),z=0;z<T;++z)vo[W.Z](re,_e,Ee,X,se,de,_),re=se,_e=de,de+=_,X+=_;else for(z=0;z<T;++z)r(se,de,Ee,X,_),re=se,_e=de,de+=_,X+=_;p.rc=re,p.Vc=_e}else{if(e(W.mc!=null),_=S+T,e((z=W.mc)!=null),e(_<=z.i),z.C>=_)_=1;else if(W.ic||De(),W.ic){W=z.V,re=z.Ba,_e=z.c;var je=z.i,xe=(Ee=1,X=z.$/_e,se=z.$%_e,de=z.m,Ie=z.s,z.$),Ve=_e*je,qe=_e*_,Xe=Ie.wc,We=xe<qe?Gr(Ie,se,X):null;e(xe<=Ve),e(_<=je),e(Vn(Ie));t:for(;;){for(;!de.h&&xe<qe;){if(se&Xe||(We=Gr(Ie,se,X)),e(We!=null),ye(de),256>(je=Gn(We.G[0],We.H[0],de)))W[re+xe]=je,++xe,++se>=_e&&(se=0,++X<=_&&!(X%16)&&Kr(z,X));else{if(!(280>je)){Ee=0;break t}je=Vi(je-256,de);var yt,ct=Gn(We.G[4],We.H[4],de);if(ye(de),!(xe>=(ct=ji(_e,ct=Vi(ct,de)))&&Ve-xe>=je)){Ee=0;break t}for(yt=0;yt<je;++yt)W[re+xe+yt]=W[re+xe+yt-ct];for(xe+=je,se+=je;se>=_e;)se-=_e,++X<=_&&!(X%16)&&Kr(z,X);xe<qe&&se&Xe&&(We=Gr(Ie,se,X))}e(de.h==le(de))}Kr(z,X>_?_:X);break t}!Ee||de.h&&xe<Ve?(Ee=0,z.a=de.h?5:3):z.$=xe,_=Ee}else _=Ui(z,z.V,z.Ba,z.c,z.i,_,va);if(!_){T=0;break e}}S+T>=q&&(p.Cc=1),T=1}if(!T)return null;if(p.Cc&&((T=p.ga)!=null&&(T.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*F}function x(p,_,S,T,F,q){for(;0<F--;){var z,W=p,X=_+(S?1:0),se=p,de=_+(S?0:3);for(z=0;z<T;++z){var Ie=se[de+4*z];Ie!=255&&(Ie*=32897,W[X+4*z+0]=W[X+4*z+0]*Ie>>23,W[X+4*z+1]=W[X+4*z+1]*Ie>>23,W[X+4*z+2]=W[X+4*z+2]*Ie>>23)}_+=q}}function L(p,_,S,T,F){for(;0<T--;){var q;for(q=0;q<S;++q){var z=p[_+2*q+0],W=15&(se=p[_+2*q+1]),X=4369*W,se=(240&se|se>>4)*X>>16;p[_+2*q+0]=(240&z|z>>4)*X>>16&240|(15&z|z<<4)*X>>16>>4&15,p[_+2*q+1]=240&se|W}_+=F}}function Q(p,_,S,T,F,q,z,W){var X,se,de=255;for(se=0;se<F;++se){for(X=0;X<T;++X){var Ie=p[_+X];q[z+4*X]=Ie,de&=Ie}_+=S,z+=W}return de!=255}function Ae(p,_,S,T,F){var q;for(q=0;q<F;++q)S[T+q]=p[_+q]>>8}function De(){kl=x,Ys=L,Rc=Q,Fs=Ae}function Ze(p,_,S){C[p]=function(T,F,q,z,W,X,se,de,Ie,re,_e,Ee,je,xe,Ve,qe,Xe){var We,yt=Xe-1>>1,ct=W[X+0]|se[de+0]<<16,Yt=Ie[re+0]|_e[Ee+0]<<16;e(T!=null);var pt=3*ct+Yt+131074>>2;for(_(T[F+0],255&pt,pt>>16,je,xe),q!=null&&(pt=3*Yt+ct+131074>>2,_(q[z+0],255&pt,pt>>16,Ve,qe)),We=1;We<=yt;++We){var gn=W[X+We]|se[de+We]<<16,mr=Ie[re+We]|_e[Ee+We]<<16,rn=ct+gn+Yt+mr+524296,ht=rn+2*(gn+Yt)>>3;pt=ht+ct>>1,ct=(rn=rn+2*(ct+mr)>>3)+gn>>1,_(T[F+2*We-1],255&pt,pt>>16,je,xe+(2*We-1)*S),_(T[F+2*We-0],255&ct,ct>>16,je,xe+(2*We-0)*S),q!=null&&(pt=rn+Yt>>1,ct=ht+mr>>1,_(q[z+2*We-1],255&pt,pt>>16,Ve,qe+(2*We-1)*S),_(q[z+2*We+0],255&ct,ct>>16,Ve,qe+(2*We+0)*S)),ct=gn,Yt=mr}1&Xe||(pt=3*ct+Yt+131074>>2,_(T[F+Xe-1],255&pt,pt>>16,je,xe+(Xe-1)*S),q!=null&&(pt=3*Yt+ct+131074>>2,_(q[z+Xe-1],255&pt,pt>>16,Ve,qe+(Xe-1)*S)))}}function $t(){Ci[kh]=Ol,Ci[Ki]=wu,Ci[Dh]=Nd,Ci[Qs]=jh,Ci[Dc]=Yo,Ci[_u]=Ja,Ci[Ko]=Qo,Ci[Pc]=wu,Ci[Ph]=jh,Ci[vu]=Yo,Ci[Oh]=Ja}function ar(p){return p&-16384?0>p?0:255:p>>Uh}function fn(p,_){return ar((19077*p>>8)+(26149*_>>8)-14234)}function Un(p,_,S){return ar((19077*p>>8)-(6419*_>>8)-(13320*S>>8)+8708)}function mi(p,_){return ar((19077*p>>8)+(33050*_>>8)-17685)}function xi(p,_,S,T,F){T[F+0]=fn(p,S),T[F+1]=Un(p,_,S),T[F+2]=mi(p,_)}function Yn(p,_,S,T,F){T[F+0]=mi(p,_),T[F+1]=Un(p,_,S),T[F+2]=fn(p,S)}function Ti(p,_,S,T,F){var q=Un(p,_,S);_=q<<3&224|mi(p,_)>>3,T[F+0]=248&fn(p,S)|q>>5,T[F+1]=_}function Vs(p,_,S,T,F){var q=240&mi(p,_)|15;T[F+0]=240&fn(p,S)|Un(p,_,S)>>4,T[F+1]=q}function Ha(p,_,S,T,F){T[F+0]=255,xi(p,_,S,T,F+1)}function Ga(p,_,S,T,F){Yn(p,_,S,T,F),T[F+3]=255}function us(p,_,S,T,F){xi(p,_,S,T,F),T[F+3]=255}function co(p,_,S){C[p]=function(T,F,q,z,W,X,se,de,Ie){for(var re=de+(-2&Ie)*S;de!=re;)_(T[F+0],q[z+0],W[X+0],se,de),_(T[F+1],q[z+0],W[X+0],se,de+S),F+=2,++z,++X,de+=2*S;1&Ie&&_(T[F+0],q[z+0],W[X+0],se,de)}}function du(p,_,S){return S==0?p==0?_==0?6:5:_==0?4:0:S}function Tc(p,_,S,T,F){switch(p>>>30){case 3:yo(_,S,T,F,0);break;case 2:Hi(_,S,T,F);break;case 1:Pn(_,S,T,F)}}function js(p,_){var S,T,F=_.M,q=_.Nb,z=p.oc,W=p.pc+40,X=p.oc,se=p.pc+584,de=p.oc,Ie=p.pc+600;for(S=0;16>S;++S)z[W+32*S-1]=129;for(S=0;8>S;++S)X[se+32*S-1]=129,de[Ie+32*S-1]=129;for(0<F?z[W-1-32]=X[se-1-32]=de[Ie-1-32]=129:(s(z,W-32-1,127,21),s(X,se-32-1,127,9),s(de,Ie-32-1,127,9)),T=0;T<p.za;++T){var re=_.ya[_.aa+T];if(0<T){for(S=-1;16>S;++S)r(z,W+32*S-4,z,W+32*S+12,4);for(S=-1;8>S;++S)r(X,se+32*S-4,X,se+32*S+4,4),r(de,Ie+32*S-4,de,Ie+32*S+4,4)}var _e=p.Gd,Ee=p.Hd+T,je=re.ad,xe=re.Hc;if(0<F&&(r(z,W-32,_e[Ee].y,0,16),r(X,se-32,_e[Ee].f,0,8),r(de,Ie-32,_e[Ee].ea,0,8)),re.Za){var Ve=z,qe=W-32+16;for(0<F&&(T>=p.za-1?s(Ve,qe,_e[Ee].y[15],4):r(Ve,qe,_e[Ee+1].y,0,4)),S=0;4>S;S++)Ve[qe+128+S]=Ve[qe+256+S]=Ve[qe+384+S]=Ve[qe+0+S];for(S=0;16>S;++S,xe<<=2)Ve=z,qe=W+qr[S],Cr[re.Ob[S]](Ve,qe),Tc(xe,je,16*+S,Ve,qe)}else if(Ve=du(T,F,re.Ob[0]),hs[Ve](z,W),xe!=0)for(S=0;16>S;++S,xe<<=2)Tc(xe,je,16*+S,z,W+qr[S]);for(S=re.Gc,Ve=du(T,F,re.Dd),Na[Ve](X,se),Na[Ve](de,Ie),xe=je,Ve=X,qe=se,255&(re=0|S)&&(170&re?Ws(xe,256,Ve,qe):In(xe,256,Ve,qe)),re=de,xe=Ie,255&(S>>=8)&&(170&S?Ws(je,320,re,xe):In(je,320,re,xe)),F<p.Ub-1&&(r(_e[Ee].y,0,z,W+480,16),r(_e[Ee].f,0,X,se+224,8),r(_e[Ee].ea,0,de,Ie+224,8)),S=8*q*p.B,_e=p.sa,Ee=p.ta+16*T+16*q*p.R,je=p.qa,re=p.ra+8*T+S,xe=p.Ha,Ve=p.Ia+8*T+S,S=0;16>S;++S)r(_e,Ee+S*p.R,z,W+32*S,16);for(S=0;8>S;++S)r(je,re+S*p.B,X,se+32*S,8),r(xe,Ve+S*p.B,de,Ie+32*S,8)}}function xa(p,_,S,T,F,q,z,W,X){var se=[0],de=[0],Ie=0,re=X!=null?X.kd:0,_e=X??new Ye;if(p==null||12>S)return 7;_e.data=p,_e.w=_,_e.ha=S,_=[_],S=[S],_e.gb=[_e.gb];e:{var Ee=_,je=S,xe=_e.gb;if(e(p!=null),e(je!=null),e(xe!=null),xe[0]=0,12<=je[0]&&!t(p,Ee[0],"RIFF")){if(t(p,Ee[0]+8,"WEBP")){xe=3;break e}var Ve=dt(p,Ee[0]+4);if(12>Ve||4294967286<Ve){xe=3;break e}if(re&&Ve>je[0]-8){xe=7;break e}xe[0]=Ve,Ee[0]+=12,je[0]-=12}xe=0}if(xe!=0)return xe;for(Ve=0<_e.gb[0],S=S[0];;){e:{var qe=p;je=_,xe=S;var Xe=se,We=de,yt=Ee=[0];if((pt=Ie=[Ie])[0]=0,8>xe[0])xe=7;else{if(!t(qe,je[0],"VP8X")){if(dt(qe,je[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var ct=dt(qe,je[0]+8),Yt=1+st(qe,je[0]+12);if(2147483648<=Yt*(qe=1+st(qe,je[0]+15))){xe=3;break e}yt!=null&&(yt[0]=ct),Xe!=null&&(Xe[0]=Yt),We!=null&&(We[0]=qe),je[0]+=18,xe[0]-=18,pt[0]=1}xe=0}}if(Ie=Ie[0],Ee=Ee[0],xe!=0)return xe;if(je=!!(2&Ee),!Ve&&Ie)return 3;if(q!=null&&(q[0]=!!(16&Ee)),z!=null&&(z[0]=je),W!=null&&(W[0]=0),z=se[0],Ee=de[0],Ie&&je&&X==null){xe=0;break}if(4>S){xe=7;break}if(Ve&&Ie||!Ve&&!Ie&&!t(p,_[0],"ALPH")){S=[S],_e.na=[_e.na],_e.P=[_e.P],_e.Sa=[_e.Sa];e:{ct=p,xe=_,Ve=S;var pt=_e.gb;Xe=_e.na,We=_e.P,yt=_e.Sa,Yt=22,e(ct!=null),e(Ve!=null),qe=xe[0];var gn=Ve[0];for(e(Xe!=null),e(yt!=null),Xe[0]=null,We[0]=null,yt[0]=0;;){if(xe[0]=qe,Ve[0]=gn,8>gn){xe=7;break e}var mr=dt(ct,qe+4);if(4294967286<mr){xe=3;break e}var rn=8+mr+1&-2;if(Yt+=rn,0<pt&&Yt>pt){xe=3;break e}if(!t(ct,qe,"VP8 ")||!t(ct,qe,"VP8L")){xe=0;break e}if(gn[0]<rn){xe=7;break e}t(ct,qe,"ALPH")||(Xe[0]=ct,We[0]=qe+8,yt[0]=mr),qe+=rn,gn-=rn}}if(S=S[0],_e.na=_e.na[0],_e.P=_e.P[0],_e.Sa=_e.Sa[0],xe!=0)break}S=[S],_e.Ja=[_e.Ja],_e.xa=[_e.xa];e:if(pt=p,xe=_,Ve=S,Xe=_e.gb[0],We=_e.Ja,yt=_e.xa,ct=xe[0],qe=!t(pt,ct,"VP8 "),Yt=!t(pt,ct,"VP8L"),e(pt!=null),e(Ve!=null),e(We!=null),e(yt!=null),8>Ve[0])xe=7;else{if(qe||Yt){if(pt=dt(pt,ct+4),12<=Xe&&pt>Xe-12){xe=3;break e}if(re&&pt>Ve[0]-8){xe=7;break e}We[0]=pt,xe[0]+=8,Ve[0]-=8,yt[0]=Yt}else yt[0]=5<=Ve[0]&&pt[ct+0]==47&&!(pt[ct+4]>>5),We[0]=Ve[0];xe=0}if(S=S[0],_e.Ja=_e.Ja[0],_e.xa=_e.xa[0],_=_[0],xe!=0)break;if(4294967286<_e.Ja)return 3;if(W==null||je||(W[0]=_e.xa?2:1),z=[z],Ee=[Ee],_e.xa){if(5>S){xe=7;break}W=z,re=Ee,je=q,p==null||5>S?p=0:5<=S&&p[_+0]==47&&!(p[_+4]>>5)?(Ve=[0],pt=[0],Xe=[0],Le(We=new $,p,_,S),ts(We,Ve,pt,Xe)?(W!=null&&(W[0]=Ve[0]),re!=null&&(re[0]=pt[0]),je!=null&&(je[0]=Xe[0]),p=1):p=0):p=0}else{if(10>S){xe=7;break}W=Ee,p==null||10>S||!ba(p,_+3,S-3)?p=0:(re=p[_+0]|p[_+1]<<8|p[_+2]<<16,je=16383&(p[_+7]<<8|p[_+6]),p=16383&(p[_+9]<<8|p[_+8]),1&re||3<(re>>1&7)||!(re>>4&1)||re>>5>=_e.Ja||!je||!p?p=0:(z&&(z[0]=je),W&&(W[0]=p),p=1))}if(!p||(z=z[0],Ee=Ee[0],Ie&&(se[0]!=z||de[0]!=Ee)))return 3;X!=null&&(X[0]=_e,X.offset=_-X.w,e(4294967286>_-X.w),e(X.offset==X.ha-S));break}return xe==0||xe==7&&Ie&&X==null?(q!=null&&(q[0]|=_e.na!=null&&0<_e.na.length),T!=null&&(T[0]=z),F!=null&&(F[0]=Ee),0):xe}function ho(p,_,S){var T=_.width,F=_.height,q=0,z=0,W=T,X=F;if(_.Da=p!=null&&0<p.Da,_.Da&&(W=p.cd,X=p.bd,q=p.v,z=p.j,11>S||(q&=-2,z&=-2),0>q||0>z||0>=W||0>=X||q+W>T||z+X>F))return 0;if(_.v=q,_.j=z,_.va=q+W,_.o=z+X,_.U=W,_.T=X,_.da=p!=null&&0<p.da,_.da){if(!Lt(W,X,S=[p.ib],q=[p.hb]))return 0;_.ib=S[0],_.hb=q[0]}return _.ob=p!=null&&p.ob,_.Kb=p==null||!p.Sd,_.da&&(_.ob=_.ib<3*T/4&&_.hb<3*F/4,_.Kb=0),1}function Ic(p){if(p==null)return 2;if(11>p.S){var _=p.f.RGBA;_.fb+=(p.height-1)*_.A,_.A=-_.A}else _=p.f.kb,p=p.height,_.O+=(p-1)*_.fa,_.fa=-_.fa,_.N+=(p-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(p-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(p-1)*_.lb,_.lb=-_.lb);return 0}function Ta(p,_,S,T){if(T==null||0>=p||0>=_)return 2;if(S!=null){if(S.Da){var F=S.cd,q=S.bd,z=-2&S.v,W=-2&S.j;if(0>z||0>W||0>=F||0>=q||z+F>p||W+q>_)return 2;p=F,_=q}if(S.da){if(!Lt(p,_,F=[S.ib],q=[S.hb]))return 2;p=F[0],_=q[0]}}T.width=p,T.height=_;e:{var X=T.width,se=T.height;if(p=T.S,0>=X||0>=se||!(p>=kh&&13>p))p=2;else{if(0>=T.Rd&&T.sd==null){z=q=F=_=0;var de=(W=X*Bh[p])*se;if(11>p||(q=(se+1)/2*(_=(X+1)/2),p==12&&(z=(F=X)*se)),(se=o(de+2*q+z))==null){p=1;break e}T.sd=se,11>p?((X=T.f.RGBA).eb=se,X.fb=0,X.A=W,X.size=de):((X=T.f.kb).y=se,X.O=0,X.fa=W,X.Fd=de,X.f=se,X.N=0+de,X.Ab=_,X.Cd=q,X.ea=se,X.W=0+de+q,X.Db=_,X.Ed=q,p==12&&(X.F=se,X.J=0+de+2*q),X.Tc=z,X.lb=F)}if(_=1,F=T.S,q=T.width,z=T.height,F>=kh&&13>F)if(11>F)p=T.f.RGBA,_&=(W=Math.abs(p.A))*(z-1)+q<=p.size,_&=W>=q*Bh[F],_&=p.eb!=null;else{p=T.f.kb,W=(q+1)/2,de=(z+1)/2,X=Math.abs(p.fa),se=Math.abs(p.Ab);var Ie=Math.abs(p.Db),re=Math.abs(p.lb),_e=re*(z-1)+q;_&=X*(z-1)+q<=p.Fd,_&=se*(de-1)+W<=p.Cd,_=(_&=Ie*(de-1)+W<=p.Ed)&X>=q&se>=W&Ie>=W,_&=p.y!=null,_&=p.f!=null,_&=p.ea!=null,F==12&&(_&=re>=q,_&=_e<=p.Tc,_&=p.F!=null)}else _=0;p=_?0:2}}return p!=0||S!=null&&S.fd&&(p=Ic(T)),p}var Go=64,ws=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],cs=24,Ka=32,$a=8,fo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ot("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(p){return p},C.Predictor2=function(p,_,S){return _[S+0]},C.Predictor3=function(p,_,S){return _[S+1]},C.Predictor4=function(p,_,S){return _[S-1]},C.Predictor5=function(p,_,S){return St(St(p,_[S+1]),_[S+0])},C.Predictor6=function(p,_,S){return St(p,_[S-1])},C.Predictor7=function(p,_,S){return St(p,_[S+0])},C.Predictor8=function(p,_,S){return St(_[S-1],_[S+0])},C.Predictor9=function(p,_,S){return St(_[S+0],_[S+1])},C.Predictor10=function(p,_,S){return St(St(p,_[S-1]),St(_[S+0],_[S+1]))},C.Predictor11=function(p,_,S){var T=_[S+0];return 0>=Ht(T>>24&255,p>>24&255,(_=_[S-1])>>24&255)+Ht(T>>16&255,p>>16&255,_>>16&255)+Ht(T>>8&255,p>>8&255,_>>8&255)+Ht(255&T,255&p,255&_)?T:p},C.Predictor12=function(p,_,S){var T=_[S+0];return(Jt((p>>24&255)+(T>>24&255)-((_=_[S-1])>>24&255))<<24|Jt((p>>16&255)+(T>>16&255)-(_>>16&255))<<16|Jt((p>>8&255)+(T>>8&255)-(_>>8&255))<<8|Jt((255&p)+(255&T)-(255&_)))>>>0},C.Predictor13=function(p,_,S){var T=_[S-1];return(nn((p=St(p,_[S+0]))>>24&255,T>>24&255)<<24|nn(p>>16&255,T>>16&255)<<16|nn(p>>8&255,T>>8&255)<<8|nn(255&p,255&T))>>>0};var pu=C.PredictorAdd0;C.PredictorAdd1=un,ot("Predictor2","PredictorAdd2"),ot("Predictor3","PredictorAdd3"),ot("Predictor4","PredictorAdd4"),ot("Predictor5","PredictorAdd5"),ot("Predictor6","PredictorAdd6"),ot("Predictor7","PredictorAdd7"),ot("Predictor8","PredictorAdd8"),ot("Predictor9","PredictorAdd9"),ot("Predictor10","PredictorAdd10"),ot("Predictor11","PredictorAdd11"),ot("Predictor12","PredictorAdd12"),ot("Predictor13","PredictorAdd13");var mu=C.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Fr,Rh=C.ColorIndexInverseTransform,Wa=C.MapARGB,Ya=C.VP8LColorIndexInverseTransformAlpha,Ii=C.MapAlpha,po=C.VP8LPredictorsAdd=[];po.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var gu,yu,mo,go,Qa,Cl,Us,yo,Hi,Ws,Pn,In,or,Br,Xa,Ia,Ll,Nc,Ed,vm,bm,wm,Sd,xd,kl,Ys,Rc,Fs,Dl=o(511),Ch=o(2041),Cc=o(225),Lc=o(767),Lh=0,_o=Ch,kc=Cc,Gi=Lc,Ni=Dl,kh=0,Ki=1,Dh=2,Qs=3,Dc=4,_u=5,Ko=6,Pc=7,Ph=8,vu=9,Oh=10,Xs=[2,3,7],bu=[3,3,11],Pl=[280,256,256,256,40],Mh=[0,1,1,1,0],Oc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Js=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$o=8,ea=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ta=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Bs=null,Am=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Td=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Vh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Em=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ri=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],pr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],vn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hs=[],Cr=[],Na=[],Wo=1,Id=2,vo=[],Ci=[];Ze("UpsampleRgbLinePair",xi,3),Ze("UpsampleBgrLinePair",Yn,3),Ze("UpsampleRgbaLinePair",us,4),Ze("UpsampleBgraLinePair",Ga,4),Ze("UpsampleArgbLinePair",Ha,4),Ze("UpsampleRgba4444LinePair",Vs,2),Ze("UpsampleRgb565LinePair",Ti,2);var Ol=C.UpsampleRgbLinePair,Nd=C.UpsampleBgrLinePair,wu=C.UpsampleRgbaLinePair,jh=C.UpsampleBgraLinePair,Yo=C.UpsampleArgbLinePair,Ja=C.UpsampleRgba4444LinePair,Qo=C.UpsampleRgb565LinePair,na=16,Au=1<<na-1,Ml=-227,Xo=482,Uh=6,Jo=0,Li=o(256),Fh=o(256),Sm=o(256),o0=o(256),l0=o(Xo-Ml),u0=o(Xo-Ml);co("YuvToRgbRow",xi,3),co("YuvToBgrRow",Yn,3),co("YuvToRgbaRow",us,4),co("YuvToBgraRow",Ga,4),co("YuvToArgbRow",Ha,4),co("YuvToRgba4444Row",Vs,2),co("YuvToRgb565Row",Ti,2);var qr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Eu=[0,2,8],Mc=[8,7,6,4,4,2,2,2,1,1,1,1],Vc=1;this.WebPDecodeRGBA=function(p,_,S,T,F){var q=Ki,z=new Ue,W=new xt;z.ba=W,W.S=q,W.width=[W.width],W.height=[W.height];var X=W.width,se=W.height,de=new At;if(de==null||p==null)var Ie=2;else e(de!=null),Ie=xa(p,_,S,de.width,de.height,de.Pd,de.Qd,de.format,null);if(Ie!=0?X=0:(X!=null&&(X[0]=de.width[0]),se!=null&&(se[0]=de.height[0]),X=1),X){W.width=W.width[0],W.height=W.height[0],T!=null&&(T[0]=W.width),F!=null&&(F[0]=W.height);e:{if(T=new di,(F=new Ye).data=p,F.w=_,F.ha=S,F.kd=1,_=[0],e(F!=null),((p=xa(F.data,F.w,F.ha,null,null,null,_,null,F))==0||p==7)&&_[0]&&(p=4),(_=p)==0){if(e(z!=null),T.data=F.data,T.w=F.w+F.offset,T.ha=F.ha-F.offset,T.put=Nt,T.ac=ti,T.bc=_a,T.ma=z,F.xa){if((p=ja())==null){z=1;break e}if((function(re,_e){var Ee=[0],je=[0],xe=[0];t:for(;;){if(re==null)return 0;if(_e==null)return re.a=2,0;if(re.l=_e,re.a=0,Le(re.m,_e.data,_e.w,_e.ha),!ts(re.m,Ee,je,xe)){re.a=3;break t}if(re.xb=Id,_e.width=Ee[0],_e.height=je[0],!ks(Ee[0],je[0],1,re,null))break t;return 1}return e(re.a!=0),0})(p,T)){if(T=(_=Ta(T.width,T.height,z.Oa,z.ba))==0){t:{T=p;n:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((S=T.l)!=null),e((F=S.ma)!=null),T.xb!=0){if(T.ca=F.ba,T.tb=F.tb,e(T.ca!=null),!ho(F.Oa,S,Qs)){T.a=2;break n}if(!Fi(T,S.width)||S.da)break n;if((S.da||Ut(T.ca.S))&&De(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&De()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!te(T.s.vb,T.s.Wa.Xa)){T.a=1;break n}T.xb=0}if(!Ui(T,T.V,T.Ba,T.c,T.i,S.o,fi))break n;F.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(_=p.a)}else _=p.a}else{if((p=new Nr)==null){z=1;break e}if(p.Fa=F.na,p.P=F.P,p.qc=F.Sa,vs(p,T)){if((_=Ta(T.width,T.height,z.Oa,z.ba))==0){if(p.Aa=0,S=z.Oa,e((F=p)!=null),S!=null){if(0<(X=0>(X=S.Md)?0:100<X?255:255*X/100)){for(se=de=0;4>se;++se)12>(Ie=F.pb[se]).lc&&(Ie.ia=X*Mc[0>Ie.lc?0:Ie.lc]>>3),de|=Ie.ia;de&&(alert("todo:VP8InitRandom"),F.ia=1)}F.Ga=S.Id,100<F.Ga?F.Ga=100:0>F.Ga&&(F.Ga=0)}(function(re,_e){if(re==null)return 0;if(_e==null)return pn(re,2,"NULL VP8Io parameter in VP8Decode().");if(!re.cb&&!vs(re,_e))return 0;if(e(re.cb),_e.ac==null||_e.ac(_e)){_e.ob&&(re.L=0);var Ee=Eu[re.L];if(re.L==2?(re.yb=0,re.zb=0):(re.yb=_e.v-Ee>>4,re.zb=_e.j-Ee>>4,0>re.yb&&(re.yb=0),0>re.zb&&(re.zb=0)),re.Va=_e.o+15+Ee>>4,re.Hb=_e.va+15+Ee>>4,re.Hb>re.za&&(re.Hb=re.za),re.Va>re.Ub&&(re.Va=re.Ub),0<re.L){var je=re.ed;for(Ee=0;4>Ee;++Ee){var xe;if(re.Qa.Cb){var Ve=re.Qa.Lb[Ee];re.Qa.Fb||(Ve+=je.Tb)}else Ve=je.Tb;for(xe=0;1>=xe;++xe){var qe=re.gd[Ee][xe],Xe=Ve;if(je.Pc&&(Xe+=je.vd[0],xe&&(Xe+=je.od[0])),0<(Xe=0>Xe?0:63<Xe?63:Xe)){var We=Xe;0<je.wb&&(We=4<je.wb?We>>2:We>>1)>9-je.wb&&(We=9-je.wb),1>We&&(We=1),qe.dd=We,qe.tc=2*Xe+We,qe.ld=40<=Xe?2:15<=Xe?1:0}else qe.tc=0;qe.La=xe}}}Ee=0}else pn(re,6,"Frame setup failed"),Ee=re.a;if(Ee=Ee==0){if(Ee){re.$c=0,0<re.Aa||(re.Ic=Vc);t:{Ee=re.Ic,je=4*(We=re.za);var yt=32*We,ct=We+1,Yt=0<re.L?We*(0<re.Aa?2:1):0,pt=(re.Aa==2?2:1)*We;if((qe=je+832+(xe=3*(16*Ee+Eu[re.L])/2*yt)+(Ve=re.Fa!=null&&0<re.Fa.length?re.Kc.c*re.Kc.i:0))!=qe)Ee=0;else{if(qe>re.Vb){if(re.Vb=0,re.Ec=o(qe),re.Fc=0,re.Ec==null){Ee=pn(re,1,"no memory during frame initialization.");break t}re.Vb=qe}qe=re.Ec,Xe=re.Fc,re.Ac=qe,re.Bc=Xe,Xe+=je,re.Gd=u(yt,Uo),re.Hd=0,re.rb=u(ct+1,_s),re.sb=1,re.wa=Yt?u(Yt,Bi):null,re.Y=0,re.D.Nb=0,re.D.wa=re.wa,re.D.Y=re.Y,0<re.Aa&&(re.D.Y+=We),e(!0),re.oc=qe,re.pc=Xe,Xe+=832,re.ya=u(pt,io),re.aa=0,re.D.ya=re.ya,re.D.aa=re.aa,re.Aa==2&&(re.D.aa+=We),re.R=16*We,re.B=8*We,We=(yt=Eu[re.L])*re.R,yt=yt/2*re.B,re.sa=qe,re.ta=Xe+We,re.qa=re.sa,re.ra=re.ta+16*Ee*re.R+yt,re.Ha=re.qa,re.Ia=re.ra+8*Ee*re.B+yt,re.$c=0,Xe+=xe,re.mb=Ve?qe:null,re.nb=Ve?Xe:null,e(Xe+Ve<=re.Fc+re.Vb),Ua(re),s(re.Ac,re.Bc,0,je),Ee=1}}if(Ee){if(_e.ka=0,_e.y=re.sa,_e.O=re.ta,_e.f=re.qa,_e.N=re.ra,_e.ea=re.Ha,_e.Vd=re.Ia,_e.fa=re.R,_e.Rc=re.B,_e.F=null,_e.J=0,!Lh){for(Ee=-255;255>=Ee;++Ee)Dl[255+Ee]=0>Ee?-Ee:Ee;for(Ee=-1020;1020>=Ee;++Ee)Ch[1020+Ee]=-128>Ee?-128:127<Ee?127:Ee;for(Ee=-112;112>=Ee;++Ee)Cc[112+Ee]=-16>Ee?-16:15<Ee?15:Ee;for(Ee=-255;510>=Ee;++Ee)Lc[255+Ee]=0>Ee?0:255<Ee?255:Ee;Lh=1}Us=ni,yo=Sl,Ws=Si,Pn=xl,In=wa,Hi=fu,or=Rl,Br=Ms,Xa=j,Ia=ie,Ll=Ho,Nc=A,Ed=he,vm=ve,bm=Ks,wm=bs,Sd=uo,xd=zo,Cr[0]=qa,Cr[1]=Tl,Cr[2]=ao,Cr[3]=qo,Cr[4]=ri,Cr[5]=oo,Cr[6]=$r,Cr[7]=jn,Cr[8]=lo,Cr[9]=ss,hs[0]=Ps,hs[1]=Fo,hs[2]=Bo,hs[3]=Aa,hs[4]=Ea,hs[5]=zi,hs[6]=Ba,Na[0]=Sa,Na[1]=Il,Na[2]=Os,Na[3]=Nl,Na[4]=Ur,Na[5]=os,Na[6]=zs,Ee=1}else Ee=0}Ee&&(Ee=(function(gn,mr){for(gn.M=0;gn.M<gn.Va;++gn.M){var rn,ht=gn.Jc[gn.M&gn.Xb],nt=gn.m,wr=gn;for(rn=0;rn<wr.za;++rn){var qt=nt,on=wr,qn=on.Ac,ii=on.Bc+4*rn,ki=on.zc,lr=on.ya[on.aa+rn];if(on.Qa.Bb?lr.$b=Be(qt,on.Pa.jb[0])?2+Be(qt,on.Pa.jb[2]):Be(qt,on.Pa.jb[1]):lr.$b=0,on.kc&&(lr.Ad=Be(qt,on.Bd)),lr.Za=!Be(qt,145)+0,lr.Za){var Wr=lr.Ob,$i=0;for(on=0;4>on;++on){var Yr,dn=ki[0+on];for(Yr=0;4>Yr;++Yr){dn=Ri[qn[ii+Yr]][dn];for(var Rn=Vh[Be(qt,dn[0])];0<Rn;)Rn=Vh[2*Rn+Be(qt,dn[Rn])];dn=-Rn,qn[ii+Yr]=dn}r(Wr,$i,qn,ii,4),$i+=4,ki[0+on]=dn}}else dn=Be(qt,156)?Be(qt,128)?1:3:Be(qt,163)?2:0,lr.Ob[0]=dn,s(qn,ii,dn,4),s(ki,0,dn,4);lr.Dd=Be(qt,142)?Be(qt,114)?Be(qt,183)?1:3:2:0}if(wr.m.Ka)return pn(gn,7,"Premature end-of-partition0 encountered.");for(;gn.ja<gn.za;++gn.ja){if(wr=ht,qt=(nt=gn).rb[nt.sb-1],qn=nt.rb[nt.sb+nt.ja],rn=nt.ya[nt.aa+nt.ja],ii=nt.kc?rn.Ad:0)qt.la=qn.la=0,rn.Za||(qt.Na=qn.Na=0),rn.Hc=0,rn.Gc=0,rn.ia=0;else{var Ar,On;if(qt=qn,qn=wr,ii=nt.Pa.Xc,ki=nt.ya[nt.aa+nt.ja],lr=nt.pb[ki.$b],on=ki.ad,Wr=0,$i=nt.rb[nt.sb-1],dn=Yr=0,s(on,Wr,0,384),ki.Za)var si=0,Er=ii[3];else{Rn=o(16);var Cn=qt.Na+$i.Na;if(Cn=Bs(qn,ii[1],Cn,lr.Eb,0,Rn,0),qt.Na=$i.Na=(0<Cn)+0,1<Cn)Us(Rn,0,on,Wr);else{var zr=Rn[0]+3>>3;for(Rn=0;256>Rn;Rn+=16)on[Wr+Rn]=zr}si=1,Er=ii[0]}var zn=15&qt.la,Qr=15&$i.la;for(Rn=0;4>Rn;++Rn){var Xr=1&Qr;for(zr=On=0;4>zr;++zr)zn=zn>>1|(Xr=(Cn=Bs(qn,Er,Cn=Xr+(1&zn),lr.Sc,si,on,Wr))>si)<<7,On=On<<2|(3<Cn?3:1<Cn?2:on[Wr+0]!=0),Wr+=16;zn>>=4,Qr=Qr>>1|Xr<<7,Yr=(Yr<<8|On)>>>0}for(Er=zn,si=Qr>>4,Ar=0;4>Ar;Ar+=2){for(On=0,zn=qt.la>>4+Ar,Qr=$i.la>>4+Ar,Rn=0;2>Rn;++Rn){for(Xr=1&Qr,zr=0;2>zr;++zr)Cn=Xr+(1&zn),zn=zn>>1|(Xr=0<(Cn=Bs(qn,ii[2],Cn,lr.Qc,0,on,Wr)))<<3,On=On<<2|(3<Cn?3:1<Cn?2:on[Wr+0]!=0),Wr+=16;zn>>=2,Qr=Qr>>1|Xr<<5}dn|=On<<4*Ar,Er|=zn<<4<<Ar,si|=(240&Qr)<<Ar}qt.la=Er,$i.la=si,ki.Hc=Yr,ki.Gc=dn,ki.ia=43690&dn?0:lr.ia,ii=!(Yr|dn)}if(0<nt.L&&(nt.wa[nt.Y+nt.ja]=nt.gd[rn.$b][rn.Za],nt.wa[nt.Y+nt.ja].La|=!ii),wr.Ka)return pn(gn,7,"Premature end-of-file encountered.")}if(Ua(gn),nt=mr,wr=1,rn=(ht=gn).D,qt=0<ht.L&&ht.M>=ht.zb&&ht.M<=ht.Va,ht.Aa==0)t:{if(rn.M=ht.M,rn.uc=qt,js(ht,rn),wr=1,rn=(On=ht.D).Nb,qt=(dn=Eu[ht.L])*ht.R,qn=dn/2*ht.B,Rn=16*rn*ht.R,zr=8*rn*ht.B,ii=ht.sa,ki=ht.ta-qt+Rn,lr=ht.qa,on=ht.ra-qn+zr,Wr=ht.Ha,$i=ht.Ia-qn+zr,Qr=(zn=On.M)==0,Yr=zn>=ht.Va-1,ht.Aa==2&&js(ht,On),On.uc)for(Xr=(Cn=ht).D.M,e(Cn.D.uc),On=Cn.yb;On<Cn.Hb;++On){si=On,Er=Xr;var Qn=(Nn=(Jr=Cn).D).Nb;Ar=Jr.R;var Nn=Nn.wa[Nn.Y+si],Wi=Jr.sa,Lr=Jr.ta+16*Qn*Ar+16*si,Ot=Nn.dd,Vt=Nn.tc;if(Vt!=0)if(e(3<=Vt),Jr.L==1)0<si&&wm(Wi,Lr,Ar,Vt+4),Nn.La&&xd(Wi,Lr,Ar,Vt),0<Er&&bm(Wi,Lr,Ar,Vt+4),Nn.La&&Sd(Wi,Lr,Ar,Vt);else{var Ln=Jr.B,As=Jr.qa,ra=Jr.ra+8*Qn*Ln+8*si,fs=Jr.Ha,Jr=Jr.Ia+8*Qn*Ln+8*si;Qn=Nn.ld,0<si&&(Br(Wi,Lr,Ar,Vt+4,Ot,Qn),Ia(As,ra,fs,Jr,Ln,Vt+4,Ot,Qn)),Nn.La&&(Nc(Wi,Lr,Ar,Vt,Ot,Qn),vm(As,ra,fs,Jr,Ln,Vt,Ot,Qn)),0<Er&&(or(Wi,Lr,Ar,Vt+4,Ot,Qn),Xa(As,ra,fs,Jr,Ln,Vt+4,Ot,Qn)),Nn.La&&(Ll(Wi,Lr,Ar,Vt,Ot,Qn),Ed(As,ra,fs,Jr,Ln,Vt,Ot,Qn))}}if(ht.ia&&alert("todo:DitherRow"),nt.put!=null){if(On=16*zn,zn=16*(zn+1),Qr?(nt.y=ht.sa,nt.O=ht.ta+Rn,nt.f=ht.qa,nt.N=ht.ra+zr,nt.ea=ht.Ha,nt.W=ht.Ia+zr):(On-=dn,nt.y=ii,nt.O=ki,nt.f=lr,nt.N=on,nt.ea=Wr,nt.W=$i),Yr||(zn-=dn),zn>nt.o&&(zn=nt.o),nt.F=null,nt.J=null,ht.Fa!=null&&0<ht.Fa.length&&On<zn&&(nt.J=m(ht,nt,On,zn-On),nt.F=ht.mb,nt.F==null&&nt.F.length==0)){wr=pn(ht,3,"Could not decode alpha data.");break t}On<nt.j&&(dn=nt.j-On,On=nt.j,e(!(1&dn)),nt.O+=ht.R*dn,nt.N+=ht.B*(dn>>1),nt.W+=ht.B*(dn>>1),nt.F!=null&&(nt.J+=nt.width*dn)),On<zn&&(nt.O+=nt.v,nt.N+=nt.v>>1,nt.W+=nt.v>>1,nt.F!=null&&(nt.J+=nt.v),nt.ka=On-nt.j,nt.U=nt.va-nt.v,nt.T=zn-On,wr=nt.put(nt))}rn+1!=ht.Ic||Yr||(r(ht.sa,ht.ta-qt,ii,ki+16*ht.R,qt),r(ht.qa,ht.ra-qn,lr,on+8*ht.B,qn),r(ht.Ha,ht.Ia-qn,Wr,$i+8*ht.B,qn))}if(!wr)return pn(gn,6,"Output aborted.")}return 1})(re,_e)),_e.bc!=null&&_e.bc(_e),Ee&=1}return Ee?(re.cb=0,Ee):0})(p,T)||(_=p.a)}}else _=p.a}_==0&&z.Oa!=null&&z.Oa.fd&&(_=Ic(z.ba))}z=_}q=z!=0?null:11>q?W.f.RGBA.eb:W.f.kb.y}else q=null;return q};var Bh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(C,G){for(var I="",P=0;P<4;P++)I+=String.fromCharCode(C[G++]);return I}function g(C,G){return C[G+0]|C[G+1]<<8}function w(C,G){return(C[G+0]|C[G+1]<<8|C[G+2]<<16)>>>0}function E(C,G){return(C[G+0]|C[G+1]<<8|C[G+2]<<16|C[G+3]<<24)>>>0}new f;var b=[0],V=[0],M=[],B=new f,U=n,ne=(function(C,G){var I={},P=0,R=!1,oe=0,Te=0;if(I.frames=[],!(function(k,$){for(var Z=0;Z<4;Z++)if(k[$+Z]!="RIFF".charCodeAt(Z))return!0;return!1})(C,G)){for(E(C,G+=4),G+=8;G<C.length;){var ae=d(C,G),pe=E(C,G+=4);G+=4;var fe=pe+(1&pe);switch(ae){case"VP8 ":case"VP8L":I.frames[P]===void 0&&(I.frames[P]={}),(J=I.frames[P]).src_off=R?Te:G-8,J.src_size=oe+pe+8,P++,R&&(R=!1,oe=0,Te=0);break;case"VP8X":(J=I.header={}).feature_flags=C[G];var Le=G+4;J.canvas_width=1+w(C,Le),Le+=3,J.canvas_height=1+w(C,Le),Le+=3;break;case"ALPH":R=!0,oe=fe+8,Te=G-8;break;case"ANIM":(J=I.header).bgcolor=E(C,G),Le=G+4,J.loop_count=g(C,Le),Le+=2;break;case"ANMF":var Ke,J;(J=I.frames[P]={}).offset_x=2*w(C,G),G+=3,J.offset_y=2*w(C,G),G+=3,J.width=1+w(C,G),G+=3,J.height=1+w(C,G),G+=3,J.duration=w(C,G),G+=3,Ke=C[G++],J.dispose=1&Ke,J.blend=Ke>>1&1}ae!="ANMF"&&(G+=fe)}return I}})(U,0);ne.response=U,ne.rgbaoutput=!0,ne.dataurl=!1;var Y=ne.header?ne.header:null,ee=ne.frames?ne.frames:null;if(Y){Y.loop_counter=Y.loop_count,b=[Y.canvas_height],V=[Y.canvas_width];for(var ge=0;ge<ee.length&&ee[ge].blend!=0;ge++);}var be=ee[0],H=B.WebPDecodeRGBA(U,be.src_off,be.src_size,V,b);be.rgba=H,be.imgwidth=V[0],be.imgheight=b[0];for(var O=0;O<V[0]*b[0]*4;O++)M[O]=H[O];return this.width=V,this.height=b,this.data=M,this}function z9(){var n,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));n=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function H9(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var e,t,r,s,o,u,c,f,d,g=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new f,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new u,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new u,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new g}]);var w=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=k;Object.defineProperty(this,"pdf",{get:function(){return $}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(te){Z=!!te}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(te){le=!!te}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(te){isNaN(te)||(ce=te)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(te){isNaN(te)||(ye=te)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(te){var rt;typeof te=="number"?rt=[te,te,te,te]:((rt=new Array(4))[0]=te[0],rt[1]=te.length>=2?te[1]:rt[0],rt[2]=te.length>=3?te[2]:rt[0],rt[3]=te.length>=4?te[3]:rt[1]),d.margin=rt}});var Pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Pe},set:function(te){Pe=te}});var ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return ke},set:function(te){ke=te}});var Be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Be},set:function(te){Be=te}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(te){te instanceof g&&(d=te)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(te){d.path=te}});var Je=[];Object.defineProperty(this,"ctxStack",{get:function(){return Je},set:function(te){Je=te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(te){var rt;rt=E(te),this.ctx.fillStyle=rt.style,this.ctx.isFillTransparent=rt.a===0,this.ctx.fillOpacity=rt.a,this.pdf.setFillColor(rt.r,rt.g,rt.b,{a:rt.a}),this.pdf.setTextColor(rt.r,rt.g,rt.b,{a:rt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(te){var rt=E(te);this.ctx.strokeStyle=rt.style,this.ctx.isStrokeTransparent=rt.a===0,this.ctx.strokeOpacity=rt.a,rt.a===0?this.pdf.setDrawColor(255,255,255):(rt.a,this.pdf.setDrawColor(rt.r,rt.g,rt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(te){["butt","round","square"].indexOf(te)!==-1&&(this.ctx.lineCap=te,this.pdf.setLineCap(te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(te){isNaN(te)||(this.ctx.lineWidth=te,this.pdf.setLineWidth(te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(te){["bevel","round","miter"].indexOf(te)!==-1&&(this.ctx.lineJoin=te,this.pdf.setLineJoin(te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(te){isNaN(te)||(this.ctx.miterLimit=te,this.pdf.setMiterLimit(te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(te){this.ctx.textBaseline=te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(te){["right","end","center","left","start"].indexOf(te)!==-1&&(this.ctx.textAlign=te)}});var at=null,st=null,dt=null;Object.defineProperty(this,"fontFaces",{get:function(){return dt},set:function(te){at=null,st=null,dt=te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(te){var rt;if(this.ctx.font=te,(rt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(te))!==null){var Xt=rt[1];rt[2];var Lt=rt[3],ze=rt[4];rt[5];var lt=rt[6],ot=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ze)[2];ze=Math.floor(ot==="px"?parseFloat(ze)*this.pdf.internal.scaleFactor:ot==="em"?parseFloat(ze)*this.pdf.getFontSize():parseFloat(ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ze);var Dt=(function(wt){var _r,tn,kt=[],Bt=wt.trim();if(Bt==="")return sy;if(Bt in fE)return[fE[Bt]];for(;Bt!=="";){switch(tn=null,_r=(Bt=pE(Bt)).charAt(0)){case'"':case"'":tn=V9(Bt.substring(1),_r);break;default:tn=j9(Bt)}if(tn===null||(kt.push(tn[0]),(Bt=pE(tn[1]))!==""&&Bt.charAt(0)!==","))return sy;Bt=Bt.replace(/^,/,"")}return kt})(lt);if(this.fontFaces){var St=(function(wt,_r){var tn=wt.getFontList(),kt=JSON.stringify(tn);if(at===null||st!==kt){var Bt=(function(Zt){var It=[];return Object.keys(Zt).forEach(function(Dn){Zt[Dn].forEach(function(Ut){var Ft=null;switch(Ut){case"bold":Ft={family:Dn,weight:"bold"};break;case"italic":Ft={family:Dn,style:"italic"};break;case"bolditalic":Ft={family:Dn,weight:"bold",style:"italic"};break;case"":case"normal":Ft={family:Dn}}Ft!==null&&(Ft.ref={name:Dn,style:Ut},It.push(Ft))})}),It})(tn);at=(function(Zt){for(var It={},Dn=0;Dn<Zt.length;++Dn){var Ut=iy(Zt[Dn]),Ft=Ut.family,Mn=Ut.stretch,xt=Ut.style,At=Ut.weight;It[Ft]=It[Ft]||{},It[Ft][Mn]=It[Ft][Mn]||{},It[Ft][Mn][xt]=It[Ft][Mn][xt]||{},It[Ft][Mn][xt][At]=Ut}return It})(Bt.concat(_r)),st=kt}return at})(this.pdf,this.fontFaces),Jt=Dt.map(function(wt){return{family:wt,stretch:"normal",weight:Lt,style:Xt}}),nn=(function(wt,_r,tn){for(var kt=(tn=tn||{}).defaultFontFamily||"times",Bt=Object.assign({},M9,tn.genericFontFamilies||{}),Zt=null,It=null,Dn=0;Dn<_r.length;++Dn)if(Bt[(Zt=iy(_r[Dn])).family]&&(Zt.family=Bt[Zt.family]),wt.hasOwnProperty(Zt.family)){It=wt[Zt.family];break}if(!(It=It||wt[kt]))throw new Error("Could not find a font-family for the rule '"+dE(Zt)+"' and default family '"+kt+"'.");if(It=(function(Ut,Ft){if(Ft[Ut])return Ft[Ut];var Mn=n_[Ut],xt=Mn<=n_.normal?-1:1,At=hE(Ft,m6,Mn,xt);if(!At)throw new Error("Could not find a matching font-stretch value for "+Ut);return At})(Zt.stretch,It),It=(function(Ut,Ft){if(Ft[Ut])return Ft[Ut];for(var Mn=p6[Ut],xt=0;xt<Mn.length;++xt)if(Ft[Mn[xt]])return Ft[Mn[xt]];throw new Error("Could not find a matching font-style for "+Ut)})(Zt.style,It),!(It=(function(Ut,Ft){if(Ft[Ut])return Ft[Ut];if(Ut===400&&Ft[500])return Ft[500];if(Ut===500&&Ft[400])return Ft[400];var Mn=O9[Ut],xt=hE(Ft,g6,Mn,Ut<400?-1:1);if(!xt)throw new Error("Could not find a matching font-weight for value "+Ut);return xt})(Zt.weight,It)))throw new Error("Failed to resolve a font for the rule '"+dE(Zt)+"'.");return It})(St,Jt);this.pdf.setFont(nn.ref.name,nn.ref.style)}else{var Ht="";(Lt==="bold"||parseInt(Lt,10)>=700||Xt==="bold")&&(Ht="bold"),Xt==="italic"&&(Ht+="italic"),Ht.length===0&&(Ht="normal");for(var un="",en={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},bt=0;bt<Dt.length;bt++){if(this.pdf.internal.getFont(Dt[bt],Ht,{noFallback:!0,disableWarning:!0})!==void 0){un=Dt[bt];break}if(Ht==="bolditalic"&&this.pdf.internal.getFont(Dt[bt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)un=Dt[bt],Ht="bold";else if(this.pdf.internal.getFont(Dt[bt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){un=Dt[bt],Ht="normal";break}}if(un===""){for(var Wt=0;Wt<Dt.length;Wt++)if(en[Dt[Wt]]){un=en[Dt[Wt]];break}}un=un===""?"Times":un,this.pdf.setFont(un,Ht)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(te){this.ctx.globalCompositeOperation=te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(te){this.ctx.globalAlpha=te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(te){this.ctx.lineDashOffset=te,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(te){this.ctx.lineDash=te,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(te){this.ctx.ignoreClearRect=!!te}})};w.prototype.setLineDash=function(k){this.lineDash=k},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){ee.call(this,"fill",!1)},w.prototype.stroke=function(){ee.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(k,$){if(isNaN(k)||isNaN($))throw yr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new u(k,$));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new u(k,$)},w.prototype.closePath=function(){var k=new u(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Zn(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){k=new u(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(k.x,k.y)},w.prototype.lineTo=function(k,$){if(isNaN(k)||isNaN($))throw yr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new u(k,$));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new u(Z.x,Z.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ee.call(this,null,!0)},w.prototype.quadraticCurveTo=function(k,$,Z,le){if(isNaN(Z)||isNaN(le)||isNaN(k)||isNaN($))throw yr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new u(Z,le)),ye=this.ctx.transform.applyToPoint(new u(k,$));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new u(ce.x,ce.y)},w.prototype.bezierCurveTo=function(k,$,Z,le,ce,ye){if(isNaN(ce)||isNaN(ye)||isNaN(k)||isNaN($)||isNaN(Z)||isNaN(le))throw yr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Pe=this.ctx.transform.applyToPoint(new u(ce,ye)),ke=this.ctx.transform.applyToPoint(new u(k,$)),Be=this.ctx.transform.applyToPoint(new u(Z,le));this.path.push({type:"bct",x1:ke.x,y1:ke.y,x2:Be.x,y2:Be.y,x:Pe.x,y:Pe.y}),this.ctx.lastPoint=new u(Pe.x,Pe.y)},w.prototype.arc=function(k,$,Z,le,ce,ye){if(isNaN(k)||isNaN($)||isNaN(Z)||isNaN(le)||isNaN(ce))throw yr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var Pe=this.ctx.transform.applyToPoint(new u(k,$));k=Pe.x,$=Pe.y;var ke=this.ctx.transform.applyToPoint(new u(0,Z)),Be=this.ctx.transform.applyToPoint(new u(0,0));Z=Math.sqrt(Math.pow(ke.x-Be.x,2)+Math.pow(ke.y-Be.y,2))}Math.abs(ce-le)>=2*Math.PI&&(le=0,ce=2*Math.PI),this.path.push({type:"arc",x:k,y:$,radius:Z,startAngle:le,endAngle:ce,counterclockwise:ye})},w.prototype.arcTo=function(k,$,Z,le,ce){throw new Error("arcTo not implemented.")},w.prototype.rect=function(k,$,Z,le){if(isNaN(k)||isNaN($)||isNaN(Z)||isNaN(le))throw yr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,$),this.lineTo(k+Z,$),this.lineTo(k+Z,$+le),this.lineTo(k,$+le),this.lineTo(k,$),this.lineTo(k+Z,$),this.lineTo(k,$)},w.prototype.fillRect=function(k,$,Z,le){if(isNaN(k)||isNaN($)||isNaN(Z)||isNaN(le))throw yr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,$,Z,le),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},w.prototype.strokeRect=function(k,$,Z,le){if(isNaN(k)||isNaN($)||isNaN(Z)||isNaN(le))throw yr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");V.call(this)||(this.beginPath(),this.rect(k,$,Z,le),this.stroke())},w.prototype.clearRect=function(k,$,Z,le){if(isNaN(k)||isNaN($)||isNaN(Z)||isNaN(le))throw yr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,$,Z,le))},w.prototype.save=function(k){k=typeof k!="boolean"||k;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage($),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},w.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage($),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var E=function(k){var $,Z,le,ce;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))$=0,Z=0,le=0,ce=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(ye!==null)$=parseInt(ye[1]),Z=parseInt(ye[2]),le=parseInt(ye[3]),ce=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)$=parseInt(ye[1]),Z=parseInt(ye[2]),le=parseInt(ye[3]),ce=parseFloat(ye[4]);else{if(ce=1,typeof k=="string"&&k.charAt(0)!=="#"){var Pe=new o6(k);k=Pe.ok?Pe.toHex():"#000000"}k.length===4?($=k.substring(1,2),$+=$,Z=k.substring(2,3),Z+=Z,le=k.substring(3,4),le+=le):($=k.substring(1,3),Z=k.substring(3,5),le=k.substring(5,7)),$=parseInt($,16),Z=parseInt(Z,16),le=parseInt(le,16)}}return{r:$,g:Z,b:le,a:ce,style:k}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},V=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(k,$,Z,le){if(isNaN($)||isNaN(Z)||typeof k!="string")throw yr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!b.call(this)){var ce=fe(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;P.call(this,{text:k,x:$,y:Z,scale:ye,angle:ce,align:this.textAlign,maxWidth:le})}},w.prototype.strokeText=function(k,$,Z,le){if(isNaN($)||isNaN(Z)||typeof k!="string")throw yr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!V.call(this)){le=isNaN(le)?void 0:le;var ce=fe(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;P.call(this,{text:k,x:$,y:Z,scale:ye,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:le})}},w.prototype.measureText=function(k){if(typeof k!="string")throw yr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,Z=this.pdf.internal.scaleFactor,le=$.internal.getFontSize(),ce=$.getStringUnitWidth(k)*le/$.internal.scaleFactor;return new function(ye){var Pe=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Pe}}),this}({width:ce*=Math.round(96*Z/72*1e4)/1e4})},w.prototype.scale=function(k,$){if(isNaN(k)||isNaN($))throw yr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new f(k,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},w.prototype.rotate=function(k){if(isNaN(k))throw yr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new f(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply($)},w.prototype.translate=function(k,$){if(isNaN(k)||isNaN($))throw yr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new f(1,0,0,1,k,$);this.ctx.transform=this.ctx.transform.multiply(Z)},w.prototype.transform=function(k,$,Z,le,ce,ye){if(isNaN(k)||isNaN($)||isNaN(Z)||isNaN(le)||isNaN(ce)||isNaN(ye))throw yr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Pe=new f(k,$,Z,le,ce,ye);this.ctx.transform=this.ctx.transform.multiply(Pe)},w.prototype.setTransform=function(k,$,Z,le,ce,ye){k=isNaN(k)?1:k,$=isNaN($)?0:$,Z=isNaN(Z)?0:Z,le=isNaN(le)?1:le,ce=isNaN(ce)?0:ce,ye=isNaN(ye)?0:ye,this.ctx.transform=new f(k,$,Z,le,ce,ye)};var M=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(k,$,Z,le,ce,ye,Pe,ke,Be){var Je=this.pdf.getImageProperties(k),at=1,st=1,dt=1,te=1;le!==void 0&&ke!==void 0&&(dt=ke/le,te=Be/ce,at=Je.width/le*ke/le,st=Je.height/ce*Be/ce),ye===void 0&&(ye=$,Pe=Z,$=0,Z=0),le!==void 0&&ke===void 0&&(ke=le,Be=ce),le===void 0&&ke===void 0&&(ke=Je.width,Be=Je.height);var rt=this.ctx.transform.decompose(),Xt=fe(rt.rotate.shx),Lt=new f,ze=(Lt=(Lt=(Lt=Lt.multiply(rt.translate)).multiply(rt.skew)).multiply(rt.scale)).applyToRectangle(new c(ye-$*dt,Pe-Z*te,le*at,ce*st));if(this.autoPaging){for(var lt,ot=B.call(this,ze),Dt=[],St=0;St<ot.length;St+=1)Dt.indexOf(ot[St])===-1&&Dt.push(ot[St]);Y(Dt);for(var Jt=Dt[0],nn=Dt[Dt.length-1],Ht=Jt;Ht<nn+1;Ht++){this.pdf.setPage(Ht);var un=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],en=Ht===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=Ht===1?0:bt+(Ht-2)*Wt;if(this.ctx.clip_path.length!==0){var _r=this.path;lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ne(lt,this.posX+this.margin[3],-wt+en+this.ctx.prevPageLastElemOffset),ge.call(this,"fill",!0),this.path=_r}var tn=JSON.parse(JSON.stringify(ze));tn=ne([tn],this.posX+this.margin[3],-wt+en+this.ctx.prevPageLastElemOffset)[0];var kt=(Ht>Jt||Ht<nn)&&M.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],un,Wt,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",tn.x,tn.y,tn.w,tn.h,null,null,Xt),kt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(k,"JPEG",ze.x,ze.y,ze.w,ze.h,null,null,Xt)};var B=function(k,$,Z){var le=[];$=$||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":le.push(Math.floor((k.y+ce)/Z)+1);break;case"arc":le.push(Math.floor((k.y+ce-k.radius)/Z)+1),le.push(Math.floor((k.y+ce+k.radius)/Z)+1);break;case"qct":var ye=Le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);le.push(Math.floor((ye.y+ce)/Z)+1),le.push(Math.floor((ye.y+ye.h+ce)/Z)+1);break;case"bct":var Pe=Ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);le.push(Math.floor((Pe.y+ce)/Z)+1),le.push(Math.floor((Pe.y+Pe.h+ce)/Z)+1);break;case"rect":le.push(Math.floor((k.y+ce)/Z)+1),le.push(Math.floor((k.y+k.h+ce)/Z)+1)}for(var ke=0;ke<le.length;ke+=1)for(;this.pdf.internal.getNumberOfPages()<le[ke];)U.call(this);return le},U=function(){var k=this.fillStyle,$=this.strokeStyle,Z=this.font,le=this.lineCap,ce=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=$,this.font=Z,this.lineCap=le,this.lineWidth=ce,this.lineJoin=ye},ne=function(k,$,Z){for(var le=0;le<k.length;le++)switch(k[le].type){case"bct":k[le].x2+=$,k[le].y2+=Z;case"qct":k[le].x1+=$,k[le].y1+=Z;default:k[le].x+=$,k[le].y+=Z}return k},Y=function(k){return k.sort(function($,Z){return $-Z})},ee=function(k,$){var Z=this.fillStyle,le=this.strokeStyle,ce=this.lineCap,ye=this.lineWidth,Pe=Math.abs(ye*this.ctx.transform.scaleX),ke=this.lineJoin;if(this.autoPaging){for(var Be,Je,at=JSON.parse(JSON.stringify(this.path)),st=JSON.parse(JSON.stringify(this.path)),dt=[],te=0;te<st.length;te++)if(st[te].x!==void 0)for(var rt=B.call(this,st[te]),Xt=0;Xt<rt.length;Xt+=1)dt.indexOf(rt[Xt])===-1&&dt.push(rt[Xt]);for(var Lt=0;Lt<dt.length;Lt++)for(;this.pdf.internal.getNumberOfPages()<dt[Lt];)U.call(this);Y(dt);for(var ze=dt[0],lt=dt[dt.length-1],ot=ze;ot<lt+1;ot++){this.pdf.setPage(ot),this.fillStyle=Z,this.strokeStyle=le,this.lineCap=ce,this.lineWidth=Pe,this.lineJoin=ke;var Dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=ot===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ht=ot===1?0:Jt+(ot-2)*nn;if(this.ctx.clip_path.length!==0){var un=this.path;Be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ne(Be,this.posX+this.margin[3],-Ht+St+this.ctx.prevPageLastElemOffset),ge.call(this,k,!0),this.path=un}if(Je=JSON.parse(JSON.stringify(at)),this.path=ne(Je,this.posX+this.margin[3],-Ht+St+this.ctx.prevPageLastElemOffset),$===!1||ot===0){var en=(ot>ze||ot<lt)&&M.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dt,nn,null).clip().discardPath()),ge.call(this,k,$),en&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=at}else this.lineWidth=Pe,ge.call(this,k,$),this.lineWidth=ye},ge=function(k,$){if((k!=="stroke"||$||!V.call(this))&&(k==="stroke"||$||!b.call(this))){for(var Z,le,ce=[],ye=this.path,Pe=0;Pe<ye.length;Pe++){var ke=ye[Pe];switch(ke.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:ke,deltas:[],abs:[]});break;case"lt":var Be=ce.length;if(ye[Pe-1]&&!isNaN(ye[Pe-1].x)&&(Z=[ke.x-ye[Pe-1].x,ke.y-ye[Pe-1].y],Be>0)){for(;Be>=0;Be--)if(ce[Be-1].close!==!0&&ce[Be-1].begin!==!0){ce[Be-1].deltas.push(Z),ce[Be-1].abs.push(ke);break}}break;case"bct":Z=[ke.x1-ye[Pe-1].x,ke.y1-ye[Pe-1].y,ke.x2-ye[Pe-1].x,ke.y2-ye[Pe-1].y,ke.x-ye[Pe-1].x,ke.y-ye[Pe-1].y],ce[ce.length-1].deltas.push(Z);break;case"qct":var Je=ye[Pe-1].x+2/3*(ke.x1-ye[Pe-1].x),at=ye[Pe-1].y+2/3*(ke.y1-ye[Pe-1].y),st=ke.x+2/3*(ke.x1-ke.x),dt=ke.y+2/3*(ke.y1-ke.y),te=ke.x,rt=ke.y;Z=[Je-ye[Pe-1].x,at-ye[Pe-1].y,st-ye[Pe-1].x,dt-ye[Pe-1].y,te-ye[Pe-1].x,rt-ye[Pe-1].y],ce[ce.length-1].deltas.push(Z);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(ke)}}le=$?null:k==="stroke"?"stroke":"fill";for(var Xt=!1,Lt=0;Lt<ce.length;Lt++)if(ce[Lt].arc)for(var ze=ce[Lt].abs,lt=0;lt<ze.length;lt++){var ot=ze[lt];ot.type==="arc"?O.call(this,ot.x,ot.y,ot.radius,ot.startAngle,ot.endAngle,ot.counterclockwise,void 0,$,!Xt):R.call(this,ot.x,ot.y),Xt=!0}else if(ce[Lt].close===!0)this.pdf.internal.out("h"),Xt=!1;else if(ce[Lt].begin!==!0){var Dt=ce[Lt].start.x,St=ce[Lt].start.y;oe.call(this,ce[Lt].deltas,Dt,St),Xt=!0}le&&C.call(this,le),$&&G.call(this)}},be=function(k){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-Z;case"top":return k+$-Z;case"hanging":return k+$-2*Z;case"middle":return k+$/2-Z;default:return k}},H=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function($,Z){this.colorStops.push([$,Z])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(k,$,Z,le,ce,ye,Pe,ke,Be){for(var Je=ae.call(this,Z,le,ce,ye),at=0;at<Je.length;at++){var st=Je[at];at===0&&(Be?I.call(this,st.x1+k,st.y1+$):R.call(this,st.x1+k,st.y1+$)),Te.call(this,k,$,st.x2,st.y2,st.x3,st.y3,st.x4,st.y4)}ke?G.call(this):C.call(this,Pe)},C=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(k,$){this.pdf.internal.out(t(k)+" "+r($)+" m")},P=function(k){var $;switch(k.align){case"right":case"end":$="right";break;case"center":$="center";break;default:$="left"}var Z,le,ce,ye=this.pdf.getTextDimensions(k.text),Pe=be.call(this,k.y),ke=H.call(this,Pe)-ye.h,Be=this.ctx.transform.applyToPoint(new u(k.x,Pe));if(this.autoPaging){var Je=this.ctx.transform.decompose(),at=new f;at=(at=(at=at.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale);for(var st=this.ctx.transform.applyToRectangle(new c(k.x,Pe,ye.w,ye.h)),dt=at.applyToRectangle(new c(k.x,ke,ye.w,ye.h)),te=B.call(this,dt),rt=[],Xt=0;Xt<te.length;Xt+=1)rt.indexOf(te[Xt])===-1&&rt.push(te[Xt]);Y(rt);for(var Lt=rt[0],ze=rt[rt.length-1],lt=Lt;lt<ze+1;lt++){this.pdf.setPage(lt);var ot=lt===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[2],Jt=St-this.margin[0],nn=this.pdf.internal.pageSize.width-this.margin[1],Ht=nn-this.margin[3],un=lt===1?0:Dt+(lt-2)*Jt;if(this.ctx.clip_path.length!==0){var en=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ne(Z,this.posX+this.margin[3],-1*un+ot),ge.call(this,"fill",!0),this.path=en}var bt=ne([JSON.parse(JSON.stringify(dt))],this.posX+this.margin[3],-un+ot+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*k.scale),ce=this.lineWidth,this.lineWidth=ce*k.scale);var Wt=this.autoPaging!=="text";if(Wt||bt.y+bt.h<=St){if(Wt||bt.y>=ot&&bt.x<=nn){var wt=Wt?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||nn-bt.x)[0],_r=ne([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-un+ot+this.ctx.prevPageLastElemOffset)[0],tn=Wt&&(lt>Lt||lt<ze)&&M.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,Jt,null).clip().discardPath()),this.pdf.text(wt,_r.x,_r.y,{angle:k.angle,align:$,renderingMode:k.renderingMode}),tn&&this.pdf.restoreGraphicsState()}}else bt.y<St&&(this.ctx.prevPageLastElemOffset+=St-bt.y);k.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ce)}}else k.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*k.scale),ce=this.lineWidth,this.lineWidth=ce*k.scale),this.pdf.text(k.text,Be.x+this.posX,Be.y+this.posY,{angle:k.angle,align:$,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ce)},R=function(k,$,Z,le){Z=Z||0,le=le||0,this.pdf.internal.out(t(k+Z)+" "+r($+le)+" l")},oe=function(k,$,Z){return this.pdf.lines(k,$,Z,null,null)},Te=function(k,$,Z,le,ce,ye,Pe,ke){this.pdf.internal.out([e(s(Z+k)),e(o(le+$)),e(s(ce+k)),e(o(ye+$)),e(s(Pe+k)),e(o(ke+$)),"c"].join(" "))},ae=function(k,$,Z,le){for(var ce=2*Math.PI,ye=Math.PI/2;$>Z;)$-=ce;var Pe=Math.abs(Z-$);Pe<ce&&le&&(Pe=ce-Pe);for(var ke=[],Be=le?-1:1,Je=$;Pe>1e-5;){var at=Je+Be*Math.min(Pe,ye);ke.push(pe.call(this,k,Je,at)),Pe-=Math.abs(at-Je),Je=at}return ke},pe=function(k,$,Z){var le=(Z-$)/2,ce=k*Math.cos(le),ye=k*Math.sin(le),Pe=ce,ke=-ye,Be=Pe*Pe+ke*ke,Je=Be+Pe*ce+ke*ye,at=4/3*(Math.sqrt(2*Be*Je)-Je)/(Pe*ye-ke*ce),st=Pe-at*ke,dt=ke+at*Pe,te=st,rt=-dt,Xt=le+$,Lt=Math.cos(Xt),ze=Math.sin(Xt);return{x1:k*Math.cos($),y1:k*Math.sin($),x2:st*Lt-dt*ze,y2:st*ze+dt*Lt,x3:te*Lt-rt*ze,y3:te*ze+rt*Lt,x4:k*Math.cos(Z),y4:k*Math.sin(Z)}},fe=function(k){return 180*k/Math.PI},Le=function(k,$,Z,le,ce,ye){var Pe=k+.5*(Z-k),ke=$+.5*(le-$),Be=ce+.5*(Z-ce),Je=ye+.5*(le-ye),at=Math.min(k,ce,Pe,Be),st=Math.max(k,ce,Pe,Be),dt=Math.min($,ye,ke,Je),te=Math.max($,ye,ke,Je);return new c(at,dt,st-at,te-dt)},Ke=function(k,$,Z,le,ce,ye,Pe,ke){var Be,Je,at,st,dt,te,rt,Xt,Lt,ze,lt,ot,Dt,St,Jt=Z-k,nn=le-$,Ht=ce-Z,un=ye-le,en=Pe-ce,bt=ke-ye;for(Je=0;Je<41;Je++)Lt=(rt=(at=k+(Be=Je/40)*Jt)+Be*((dt=Z+Be*Ht)-at))+Be*(dt+Be*(ce+Be*en-dt)-rt),ze=(Xt=(st=$+Be*nn)+Be*((te=le+Be*un)-st))+Be*(te+Be*(ye+Be*bt-te)-Xt),Je==0?(lt=Lt,ot=ze,Dt=Lt,St=ze):(lt=Math.min(lt,Lt),ot=Math.min(ot,ze),Dt=Math.max(Dt,Lt),St=Math.max(St,ze));return new c(Math.round(lt),Math.round(ot),Math.round(Dt-lt),Math.round(St-ot))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,$,Z=(k=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:$}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Ct.API),(function(n){var e=function(u){var c,f,d,g,w,E,b,V,M,B;for(f=[],d=0,g=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;g>d;d+=4)(w=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(E=(w=((w=((w=((w=(w-(B=w%85))/85)-(M=w%85))/85)-(V=w%85))/85)-(b=w%85))/85)%85,f.push(E+33,b+33,V+33,M+33,B+33)):f.push(122);return(function(U,ne){for(var Y=ne;Y>0;Y--)U.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(u){var c,f,d,g,w,E=String,b="length",V=255,M="charCodeAt",B="slice",U="replace";for(u[B](-2),u=u[B](0,-2)[U](/\s/g,"")[U]("z","!!!!!"),d=[],g=0,w=(u+=c="uuuuu"[B](u[b]%5||5))[b];w>g;g+=5)f=52200625*(u[M](g)-33)+614125*(u[M](g+1)-33)+7225*(u[M](g+2)-33)+85*(u[M](g+3)-33)+(u[M](g+4)-33),d.push(V&f>>24,V&f>>16,V&f>>8,V&f);return(function(ne,Y){for(var ee=Y;ee>0;ee--)ne.pop()})(d,c[b]),E.fromCharCode.apply(E,d)},r=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var c=new Uint8Array(u.length),f=u.length;f--;)c[f]=u.charCodeAt(f);return(c=Yy(c)).reduce(function(d,g){return d+String.fromCharCode(g)},"")};n.processDataByFilters=function(u,c){var f=0,d=u||"",g=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:g.reverse().join(" ")}}})(Ct.API),(function(n){n.loadFile=function(e,t,r){return(function(s,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,d,g){var w=new XMLHttpRequest,E=0,b=function(V){var M=V.length,B=[],U=String.fromCharCode;for(E=0;E<M;E+=1)B.push(U(255&V.charCodeAt(E)));return B.join("")};if(w.open("GET",f,!d),w.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(w.onload=function(){w.status===200?g(b(this.responseText)):g(void 0)}),w.send(null),d&&w.status===200)return b(w.responseText)})(s,o,u)}catch{}return c})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(Ct.API),(function(n){function e(){return(Qt.html2canvas?Promise.resolve(Qt.html2canvas):Nf(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(Qt.DOMPurify?Promise.resolve(Qt.DOMPurify):Nf(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var f=Zn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(c,f){var d=document.createElement(c);for(var g in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[g]=f.style[g];return d},o=function c(f,d){for(var g=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)d!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||g.appendChild(c(w,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(g.width=f.width,g.height=f.height,g.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(g.value=f.value),g.addEventListener("load",function(){g.scrollTop=f.scrollTop,g.scrollLeft=f.scrollLeft},!0)),g},u=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),g=c.convert(Promise.resolve(),d);return(g=g.setProgress(1,c,1,[c])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,f){return c.__proto__=f||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,g=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,E=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete E.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=g,g)for(var b=0;b<g.length;++b){var V=g[b],M=V.src.find(function(B){return B.format==="truetype"});M&&d.addFont(M.url,V.ref.name,V.ref.style)}return E.windowHeight=E.windowHeight||0,E.windowHeight=E.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):E.windowHeight,d.context2d.save(!0),f(this.prop.container,E)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},u.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(r(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(c,f){return this.then(function(){var d=c in u.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},u.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function f(d,g){return Math.floor(d*g/72*96)}return this.then(function(){(c=c||Ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,f,d,g){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,f,d,g){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,g?this.progress.stack.concat(g):null)},u.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(g,w){return d.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(E){return d.updateProgress(null,g),E}).then(g,w).then(function(E){return d.updateProgress(1),E})})},u.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var g=this;c&&(c=c.bind(g)),f&&(f=f.bind(g));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:u.convert(Object.assign({},g),Promise.prototype),E=d.call(w,c,f);return u.convert(E,g.__proto__)},u.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},u.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return u.convert(f,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Ct.getPageSize=function(c,f,d){if(Zn(c)==="object"){var g=c;c=g.orientation,f=g.unit||f,d=g.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var w,E=(""+d).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+f}var V,M=0,B=0;if(b.hasOwnProperty(E))M=b[E][1]/w,B=b[E][0]/w;else try{M=d[1],B=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",B>M&&(V=B,B=M,M=V);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",M>B&&(V=B,B=M,M=V)}return{width:B,height:M,unit:f,k:w,orientation:c}},n.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(iy):null;var d=new u(f);return f.worker?d:d.from(c).doCallback()}})(Ct.API),Ct.API.addJS=function(n){var e,t,r=(function(s){for(var o="",u=0;u<s.length;u++){var c=s[u];if(c==="("||c===")"){for(var f=0,d=u-1;d>=0&&s[d]==="\\";d--)f++;o+=f%2==0?"\\"+c:c}else o+=c}return o})(n);return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var u=s[o],c=r.exec(u);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,g=[];for(o=0;o<d;o++){var w=t.internal.newObject();g.push(w);var E=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+E.objId+" 0 R /XYZ null null null]>> endobj")}var b=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<g.length;o++)t.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+b+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,o){var u={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var u=r.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])})(Ct.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,s,o,u,c){var f,d=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(w){for(var E,b=256*w.charCodeAt(4)+w.charCodeAt(5),V=w.length,M={width:0,height:0,numcomponents:1},B=4;B<V;B+=2){if(B+=b,e.indexOf(w.charCodeAt(B+1))!==-1){E=256*w.charCodeAt(B+5)+w.charCodeAt(B+6),M={width:256*w.charCodeAt(B+7)+w.charCodeAt(B+8),height:E,numcomponents:w.charCodeAt(B+9)};break}b=256*w.charCodeAt(B+2)+w.charCodeAt(B+3)}return M})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}g={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:s}}return g}})(Ct.API),Ct.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,o=w9(n,{checkCrc:!0}),u=o.width,c=o.height,f=o.channels,d=o.palette,g=o.depth;s=d&&f===1?(function(O){for(var C=O.width,G=O.height,I=O.data,P=O.palette,R=O.depth,oe=!1,Te=[],ae=[],pe=void 0,fe=!1,Le=0,Ke=0;Ke<P.length;Ke++){var J=b4(P[Ke],4),k=J[0],$=J[1],Z=J[2],le=J[3];Te.push(k,$,Z),le!=null&&(le===0?(Le++,ae.length<1&&ae.push(Ke)):le<255&&(fe=!0))}if(fe||Le>1){oe=!0,ae=void 0;var ce=C*G;pe=new Uint8Array(ce);for(var ye=new DataView(I.buffer),Pe=0;Pe<ce;Pe++){var ke=ay(ye,Pe,R),Be=b4(P[ke],4)[3];pe[Pe]=Be}}else Le===0&&(ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:oe?8:void 0,colorBytes:I,alphaBytes:pe,needSMask:oe,palette:Te,mask:ae}})(o):f===2||f===4?(function(O){for(var C=O.data,G=O.width,I=O.height,P=O.channels,R=O.depth,oe=P===2?"DeviceGray":"DeviceRGB",Te=P-1,ae=G*I,pe=Te,fe=ae*pe,Le=1*ae,Ke=Math.ceil(fe*R/8),J=Math.ceil(Le*R/8),k=new Uint8Array(Ke),$=new Uint8Array(J),Z=new DataView(C.buffer),le=new DataView(k.buffer),ce=new DataView($.buffer),ye=!1,Pe=0;Pe<ae;Pe++){for(var ke=Pe*P,Be=0;Be<pe;Be++)EE(le,ay(Z,ke+Be,R),Pe*pe+Be,R);var Je=ay(Z,ke+pe,R);Je<(1<<R)-1&&(ye=!0),EE(ce,Je,1*Pe,R)}return{colorSpace:oe,colorsPerPixel:Te,sMaskBitsPerComponent:ye?R:void 0,colorBytes:k,alphaBytes:$,needSMask:ye}})(o):(function(O){var C=O.data,G=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:C instanceof Uint16Array?(function(I){for(var P=I.length,R=new Uint8Array(2*P),oe=new DataView(R.buffer,R.byteOffset,R.byteLength),Te=0;Te<P;Te++)oe.setUint16(2*Te,I[Te],!1);return R})(C):C,needSMask:!1}})(o);var w,E,b,V=s,M=V.colorSpace,B=V.colorsPerPixel,U=V.sMaskBitsPerComponent,ne=V.colorBytes,Y=V.alphaBytes,ee=V.needSMask,ge=V.palette,be=V.mask,H=null;return r!==Ct.API.image_compression.NONE&&typeof Yy=="function"?(H=(function(O){var C;switch(O){case Ct.API.image_compression.FAST:C=11;break;case Ct.API.image_compression.MEDIUM:C=13;break;case Ct.API.image_compression.SLOW:C=14;break;default:C=12}return C})(r),w=this.decode.FLATE_DECODE,E="/Predictor ".concat(H," /Colors ").concat(B," /BitsPerComponent ").concat(g," /Columns ").concat(u),n=_E(ne,Math.ceil(u*B*g/8),B,g,r),ee&&(b=_E(Y,Math.ceil(u*U/8),1,U,r))):(w=void 0,E=void 0,n=ne,ee&&(b=Y)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:t,data:n,index:e,filter:w,decodeParameters:E,transparency:be,palette:ge,sMask:b,predictor:H,width:u,height:c,bitsPerComponent:g,sMaskBitsPerComponent:U,colorSpace:M}}},(function(n){n.processGIF89A=function(e,t,r,s){var o=new q9(e),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:c},g=new oy(100).encode(d,100);return n.processJPEG.call(this,g,t,r,s)},n.processGIF87A=n.processGIF89A})(Ct.API),To.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},To.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[n]()}catch(t){yr.log("bit decode error:"+t)}},To.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}t!==0&&(this.pos+=4-t)}},To.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*s*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*s+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},To.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(s<this.palette.length){var u=this.palette[s];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},To.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,g=r*this.width*4+4*s;this.data[g]=f,this.data[g+1]=c,this.data[g+2]=u,this.data[g+3]=d}this.pos+=n}},To.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,f=(u>>5&t)/t*255|0,d=(u>>11)/e*255|0,g=s*this.width*4+4*o;this.data[g]=d,this.data[g+1]=f,this.data[g+2]=c,this.data[g+3]=255}this.pos+=n}},To.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},To.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=r,this.data[c+3]=u}},To.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,s){var o=new To(e,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new oy(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(Ct.API),xE.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,s){var o=new xE(e),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new oy(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(Ct.API),Ct.API.processRGBA=function(n,e,t){for(var r=n.data,s=r.length,o=new Uint8Array(s/4*3),u=new Uint8Array(s/4),c=0,f=0,d=0;d<s;d+=4){var g=r[d],w=r[d+1],E=r[d+2],b=r[d+3];o[c++]=g,o[c++]=w,o[c++]=E,u[f++]=b}var V=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:V,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ct.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},_f=Ct.API,Ng=_f.getCharWidthsArray=function(n,e){var t,r,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:s.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:s.metadata.Unicode.kerning,g=d.fof?d.fof:1,w=e.doKerning!==!1,E=0,b=n.length,V=0,M=c[0]||f,B=[];for(t=0;t<b;t++)r=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?B.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+u*(1e3/o)||0)/1e3):(E=w&&Zn(d[r])==="object"&&!isNaN(parseInt(d[r][V],10))?d[r][V]/g:0,B.push((c[r]||M)/f+E)),V=r;return B},mE=_f.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return _f.processArabic&&(n=_f.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,s)/t:Ng.apply(this,arguments).reduce(function(o,u){return o+u},0)},gE=function(n,e,t,r){for(var s=[],o=0,u=n.length,c=0;o!==u&&c+e[o]<t;)c+=e[o],o++;s.push(n.slice(0,o));var f=o;for(c=0;o!==u;)c+e[o]>r&&(s.push(n.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&s.push(n.slice(f,o)),s},yE=function(n,e,t){t||(t={});var r,s,o,u,c,f,d,g=[],w=[g],E=t.textIndent||0,b=0,V=0,M=n.split(" "),B=Ng.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?M[0].length+2:t.lineIndent||0){var U=Array(f).join(" "),ne=[];M.map(function(ee){(ee=ee.split(/\s*\n/)).length>1?ne=ne.concat(ee.map(function(ge,be){return(be&&ge.length?`
`:"")+ge})):ne.push(ee[0])}),M=ne,f=mE.apply(this,[U,t])}for(o=0,u=M.length;o<u;o++){var Y=0;if(r=M[o],f&&r[0]==`
`&&(r=r.substr(1),Y=1),E+b+(V=(s=Ng.apply(this,[r,t])).reduce(function(ee,ge){return ee+ge},0))>e||Y){if(V>e){for(c=gE.apply(this,[r,s,e-(E+b),e]),g.push(c.shift()),g=[c.pop()];c.length;)w.push([c.shift()]);V=s.slice(r.length-(g[0]?g[0].length:0)).reduce(function(ee,ge){return ee+ge},0)}else g=[r];w.push(g),E=V+f,b=B}else g.push(r),E+=b+V,b=B}return d=f?function(ee,ge){return(ge?U:"")+ee.join(" ")}:function(ee){return ee.join(" ")},w.map(d)},_f.splitTextToSize=function(n,e,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var w=this.internal.getFont(g.fontName,g.fontStyle),E="Unicode";return w.metadata[E]?{widths:w.metadata[E].widths||{0:1},kerning:w.metadata[E].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=r.length;c<f;c++)d=d.concat(yE.apply(this,[r[c],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},s={},o=0;o<16;o++)r[t[o]]=e[o],s[e[o]]=t[o];var u=function(E){return"0x"+parseInt(E,10).toString(16)},c=n.__fontmetrics__.compress=function(E){var b,V,M,B,U=["{"];for(var ne in E){if(b=E[ne],isNaN(parseInt(ne,10))?V="'"+ne+"'":(ne=parseInt(ne,10),V=(V=u(ne).slice(2)).slice(0,-1)+s[V.slice(-1)]),typeof b=="number")b<0?(M=u(b).slice(3),B="-"):(M=u(b).slice(2),B=""),M=B+M.slice(0,-1)+s[M.slice(-1)];else{if(Zn(b)!=="object")throw new Error("Don't know what to do with value type "+Zn(b)+".");M=c(b)}U.push(V+M)}return U.push("}"),U.join("")},f=n.__fontmetrics__.uncompress=function(E){if(typeof E!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,V,M,B,U={},ne=1,Y=U,ee=[],ge="",be="",H=E.length-1,O=1;O<H;O+=1)(B=E[O])=="'"?b?(M=b.join(""),b=void 0):b=[]:b?b.push(B):B=="{"?(ee.push([Y,M]),Y={},M=void 0):B=="}"?((V=ee.pop())[0][V[1]]=Y,M=void 0,Y=V[0]):B=="-"?ne=-1:M===void 0?r.hasOwnProperty(B)?(ge+=r[B],M=parseInt(ge,16)*ne,ne=1,ge=""):ge+=B:r.hasOwnProperty(B)?(be+=r[B],Y[M]=parseInt(be,16)*ne,ne=1,M=void 0,be=""):be+=B;return U},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},w={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(E){var b=E.font,V=w.Unicode[b.postScriptName];V&&(b.metadata.Unicode={},b.metadata.Unicode.widths=V.widths,b.metadata.Unicode.kerning=V.kerning);var M=g.Unicode[b.postScriptName];M&&(b.metadata.Unicode.encoding=M,b.encoding=M.codePages[0])}])})(Ct.API),(function(n){var e=function(t){for(var r=t.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=t.charCodeAt(o);return s};n.API.events.push(["addFont",function(t){var r=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Hg(c)),u.metadata=n.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,r)}}])})(Ct),Ct.API.addSvgAsImage=function(n,e,t,r,s,o,u,c){if(isNaN(e)||isNaN(t))throw yr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw yr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(Qt.canvg?Promise.resolve(Qt.canvg):Nf(()=>import("./index.es-CaaaZaqA.js"),[])).catch(function(E){return Promise.reject(new Error("Could not load canvg: "+E))}).then(function(E){return E.default?E.default:E}).then(function(E){return E.fromString(d,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(g)}).then(function(){w.addImage(f.toDataURL("image/jpeg",1),e,t,r,s,u,c)})},Ct.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,t);return this},Ct.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,s,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],d=0,g=0,w=0;function E(V,M){var B,U=!1;for(B=0;B<V.length;B+=1)V[B]===M&&(U=!0);return U}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var b=c.length;for(w=0;w<b;w+=1)t[c[w]].value=t[c[w]].defaultValue,t[c[w]].explicitSet=!1}if(Zn(n)==="object"){for(s in n)if(o=n[s],E(c,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&E(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(g=0;g<o[d].length;g+=1)typeof o[d][g]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[s].value="["+f.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var V,M=[];for(V in t)t[V].explicitSet===!0&&(t[V].type==="name"?M.push("/"+V+" /"+t[V].value):M.push("/"+V+" "+t[V].value));M.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+M.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},Ct.API.addMetadata=function(n,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",H9),this.internal.events.subscribe("postPutResources",z9)),this},(function(n){var e=n.API,t=e.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],g=[""],w=0,E=o.length;w<E;++w){if(c=u.metadata.characterToGlyph(o.charCodeAt(w)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(w),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return g.join("");c=c.toString(16),g.push(d[4-c.length],c)}return g.join("")},r=function(o){var u,c,f,d,g,w,E;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],w=0,E=(c=Object.keys(o).sort(function(b,V){return b-V})).length;w<E;w++)u=c[w],f.length>=100&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,g=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var w=c.metadata.Unicode.widths,E=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",V=0;V<E.length;V++)b+=String.fromCharCode(E[V]);var M=d();g({data:b,addLength1:!0,objectId:M}),f("endobj");var B=d();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:B}),f("endobj");var U=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+xf(c.fontName)),f("/FontFile2 "+M+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var ne=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+xf(c.fontName)),f("/FontDescriptor "+U+" 0 R"),f("/W "+n.API.PDFObject.convert(w)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+B+" 0 R"),f("/BaseFont /"+xf(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+ne+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,g=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var w=c.metadata.rawData,E="",b=0;b<w.length;b++)E+=String.fromCharCode(w[b]);var V=d();g({data:E,addLength1:!0,objectId:V}),f("endobj");var M=d();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:M}),f("endobj");var B=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+V+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+xf(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var U=0;U<c.metadata.hmtx.widths.length;U++)c.metadata.hmtx.widths[U]=parseInt(c.metadata.hmtx.widths[U]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+M+" 0 R/BaseFont/"+xf(c.fontName)+"/FontDescriptor "+B+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var s=function(o){var u,c=o.text||"",f=o.x,d=o.y,g=o.options||{},w=o.mutex||{},E=w.pdfEscape,b=w.activeFontKey,V=w.fonts,M=b,B="",U=0,ne="",Y=V[M].encoding;if(V[M].encoding!=="Identity-H")return{text:c,x:f,y:d,options:g,mutex:w};for(ne=c,M=b,Array.isArray(c)&&(ne=c[0]),U=0;U<ne.length;U+=1)V[M].metadata.hasOwnProperty("cmap")&&(u=V[M].metadata.cmap.unicode.codeMap[ne[U].charCodeAt(0)]),u||ne[U].charCodeAt(0)<256&&V[M].metadata.hasOwnProperty("Unicode")?B+=ne[U]:B+="";var ee="";return parseInt(M.slice(1))<14||Y==="WinAnsiEncoding"?ee=E(B,M).split("").map(function(ge){return ge.charCodeAt(0).toString(16)}).join(""):Y==="Identity-H"&&(ee=t(B,V[M])),w.isHex=!0,{text:ee,x:f,y:d,options:g,mutex:w}};e.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?c.push([s(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):c.push(s(Object.assign({},f,{text:u[d]})).text);o.text=c}else o.text=s(Object.assign({},f,{text:u})).text}])})(Ct),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Ct.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,o,u,c,f,d,g,w=e,E=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],V={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},M={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},B=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],U=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),ne=!1,Y=0;this.__bidiEngine__={};var ee=function(I){var P=I.charCodeAt(),R=P>>8,oe=M[R];return oe!==void 0?w[256*oe+(255&P)]:R===252||R===253?"AL":U.test(R)?"L":R===8?"R":"N"},ge=function(I){for(var P,R=0;R<I.length;R++){if((P=ee(I.charAt(R)))==="L")return!1;if(P==="R")return!0}return!1},be=function(I,P,R,oe){var Te,ae,pe,fe,Le=P[oe];switch(Le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":ne=!1;break;case"N":case"AN":break;case"EN":ne&&(Le="AN");break;case"AL":ne=!0,Le="R";break;case"WS":case"BN":Le="N";break;case"CS":oe<1||oe+1>=P.length||(Te=R[oe-1])!=="EN"&&Te!=="AN"||(ae=P[oe+1])!=="EN"&&ae!=="AN"?Le="N":ne&&(ae="AN"),Le=ae===Te?ae:"N";break;case"ES":Le=(Te=oe>0?R[oe-1]:"B")==="EN"&&oe+1<P.length&&P[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&R[oe-1]==="EN"){Le="EN";break}if(ne){Le="N";break}for(pe=oe+1,fe=P.length;pe<fe&&P[pe]==="ET";)pe++;Le=pe<fe&&P[pe]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(fe=P.length,pe=oe+1;pe<fe&&P[pe]==="NSM";)pe++;if(pe<fe){var Ke=I[oe],J=Ke>=1425&&Ke<=2303||Ke===64286;if(Te=P[pe],J&&(Te==="R"||Te==="AL")){Le="R";break}}}Le=oe<1||(Te=P[oe-1])==="B"?"N":R[oe-1];break;case"B":ne=!1,s=!0,Le=Y;break;case"S":o=!0,Le="N"}return Le},H=function(I,P,R){var oe=I.split("");return R&&O(oe,R,{hiLevel:Y}),oe.reverse(),P&&P.reverse(),oe.join("")},O=function(I,P,R){var oe,Te,ae,pe,fe,Le=-1,Ke=I.length,J=0,k=[],$=Y?b:E,Z=[];for(ne=!1,s=!1,o=!1,Te=0;Te<Ke;Te++)Z[Te]=ee(I[Te]);for(ae=0;ae<Ke;ae++){if(fe=J,k[ae]=be(I,Z,k,ae),oe=240&(J=$[fe][V[k[ae]]]),J&=15,P[ae]=pe=$[J][5],oe>0)if(oe===16){for(Te=Le;Te<ae;Te++)P[Te]=1;Le=-1}else Le=-1;if($[J][6])Le===-1&&(Le=ae);else if(Le>-1){for(Te=Le;Te<ae;Te++)P[Te]=pe;Le=-1}Z[ae]==="B"&&(P[ae]=0),R.hiLevel|=pe}o&&(function(le,ce,ye){for(var Pe=0;Pe<ye;Pe++)if(le[Pe]==="S"){ce[Pe]=Y;for(var ke=Pe-1;ke>=0&&le[ke]==="WS";ke--)ce[ke]=Y}})(Z,P,Ke)},C=function(I,P,R,oe,Te){if(!(Te.hiLevel<I)){if(I===1&&Y===1&&!s)return P.reverse(),void(R&&R.reverse());for(var ae,pe,fe,Le,Ke=P.length,J=0;J<Ke;){if(oe[J]>=I){for(fe=J+1;fe<Ke&&oe[fe]>=I;)fe++;for(Le=J,pe=fe-1;Le<pe;Le++,pe--)ae=P[Le],P[Le]=P[pe],P[pe]=ae,R&&(ae=R[Le],R[Le]=R[pe],R[pe]=ae);J=fe}J++}}},G=function(I,P,R){var oe=I.split(""),Te={hiLevel:Y};return R||(R=[]),O(oe,R,Te),(function(ae,pe,fe){if(fe.hiLevel!==0&&g)for(var Le,Ke=0;Ke<ae.length;Ke++)pe[Ke]===1&&(Le=B.indexOf(ae[Ke]))>=0&&(ae[Ke]=B[Le+1])})(oe,R,Te),C(2,oe,P,R,Te),C(1,oe,P,R,Te),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(I,P,R){if((function(Te,ae){if(ae)for(var pe=0;pe<Te.length;pe++)ae[pe]=pe;c===void 0&&(c=ge(Te)),d===void 0&&(d=ge(Te))})(I,P),u||!f||d)if(u&&f&&c^d)Y=c?1:0,I=H(I,P,R);else if(!u&&f&&d)Y=c?1:0,I=G(I,P,R),I=H(I,P);else if(!u||c||f||d){if(u&&!f&&c^d)I=H(I,P),c?(Y=0,I=G(I,P,R)):(Y=1,I=G(I,P,R),I=H(I,P));else if(u&&c&&!f&&d)Y=1,I=G(I,P,R),I=H(I,P);else if(!u&&!f&&c^d){var oe=g;c?(Y=1,I=G(I,P,R),Y=0,g=!1,I=G(I,P,R),g=oe):(Y=0,I=G(I,P,R),I=H(I,P),Y=1,g=!1,I=G(I,P,R),g=oe,I=H(I,P))}}else Y=0,I=G(I,P,R);else Y=c?1:0,I=G(I,P,R);return I},this.__bidiEngine__.setOptions=function(I){I&&(u=I.isInputVisual,f=I.isOutputVisual,c=I.isInputRtl,d=I.isOutputRtl,g=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(u=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?u.push([t.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):u.push([t.doBidiReorder(s[c])]);r.text=u}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(Ct),Ct.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new mc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new sV(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new G9(this.contents),this.head=new $9(this),this.name=new J9(this),this.cmap=new _6(this),this.toUnicode={},this.hhea=new W9(this),this.maxp=new Z9(this),this.hmtx=new eV(this),this.post=new Q9(this),this.os2=new Y9(this),this.loca=new iV(this),this.glyf=new tV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.bbox).length;u<c;u++)e=f[u],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var s,o,u,c;for(u=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)s=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return u*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var Mo,mc=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,s;for(s=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,s,o,u,c,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*s+16777216*o+65536*u+256*c+f},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,s,o;for(o=[],r=0,s=e.length;r<s;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),G9=(function(){var n;function e(t){var r,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,s,o,u,c,f,d,g,w,E,b,V,M;for(M in b=Object.keys(t).length,f=Math.log(2),w=16*Math.floor(Math.log(b)/f),u=Math.floor(w/f),g=16*b-w,(s=new mc).writeInt(this.scalarType),s.writeShort(b),s.writeShort(w),s.writeShort(u),s.writeShort(g),o=16*b,d=s.pos+o,c=null,V=[],t)for(E=t[M],s.writeString(M),s.writeInt(n(E)),s.writeInt(d),s.writeInt(E.length),V=V.concat(E),M==="head"&&(c=d),d+=E.length;d%4;)V.push(0),d++;return s.write(V),r=2981146554-n(s.data),s.pos=c+8,s.writeUInt32(r),s.data},n=function(t){var r,s,o,u;for(t=v6.call(t);t.length%4;)t.push(0);for(o=new mc(t),s=0,r=0,u=t.length;r<u;r=r+=4)s+=o.readUInt32();return 4294967295&s},e})(),K9={}.hasOwnProperty,Al=function(n,e){for(var t in e)K9.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Mo=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var $9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Al(n,Mo),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new mc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),TE=(function(){function n(e,t){var r,s,o,u,c,f,d,g,w,E,b,V,M,B,U,ne,Y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(b=e.readUInt16(),E=b/2,e.pos+=6,o=(function(){var ee,ge;for(ge=[],f=ee=0;0<=E?ee<E:ee>E;f=0<=E?++ee:--ee)ge.push(e.readUInt16());return ge})(),e.pos+=2,M=(function(){var ee,ge;for(ge=[],f=ee=0;0<=E?ee<E:ee>E;f=0<=E?++ee:--ee)ge.push(e.readUInt16());return ge})(),d=(function(){var ee,ge;for(ge=[],f=ee=0;0<=E?ee<E:ee>E;f=0<=E?++ee:--ee)ge.push(e.readUInt16());return ge})(),g=(function(){var ee,ge;for(ge=[],f=ee=0;0<=E?ee<E:ee>E;f=0<=E?++ee:--ee)ge.push(e.readUInt16());return ge})(),s=(this.length-e.pos+this.offset)/2,c=(function(){var ee,ge;for(ge=[],f=ee=0;0<=s?ee<s:ee>s;f=0<=s?++ee:--ee)ge.push(e.readUInt16());return ge})(),f=U=0,Y=o.length;U<Y;f=++U)for(B=o[f],r=ne=V=M[f];V<=B?ne<=B:ne>=B;r=V<=B?++ne:--ne)g[f]===0?u=r+d[f]:(u=c[g[f]/2+(r-V)-(E-f)]||0)!==0&&(u+=d[f]),this.codeMap[r]=65535&u}e.pos=w}return n.encode=function(e,t){var r,s,o,u,c,f,d,g,w,E,b,V,M,B,U,ne,Y,ee,ge,be,H,O,C,G,I,P,R,oe,Te,ae,pe,fe,Le,Ke,J,k,$,Z,le,ce,ye,Pe,ke,Be,Je,at;switch(oe=new mc,u=Object.keys(e).sort(function(st,dt){return st-dt}),t){case"macroman":for(M=0,B=(function(){var st=[];for(V=0;V<256;++V)st.push(0);return st})(),ne={0:0},o={},Te=0,Le=u.length;Te<Le;Te++)ne[ke=e[s=u[Te]]]==null&&(ne[ke]=++M),o[s]={old:e[s],new:ne[e[s]]},B[s]=ne[e[s]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(B),{charMap:o,subtable:oe.data,maxGlyphID:M+1};case"unicode":for(P=[],w=[],Y=0,ne={},r={},U=d=null,ae=0,Ke=u.length;ae<Ke;ae++)ne[ge=e[s=u[ae]]]==null&&(ne[ge]=++Y),r[s]={old:ge,new:ne[ge]},c=ne[ge]-s,U!=null&&c===d||(U&&w.push(U),P.push(s),d=c),U=s;for(U&&w.push(U),w.push(65535),P.push(65535),G=2*(C=P.length),O=2*Math.pow(Math.log(C)/Math.LN2,2),E=Math.log(O/2)/Math.LN2,H=2*C-O,f=[],be=[],b=[],V=pe=0,J=P.length;pe<J;V=++pe){if(I=P[V],g=w[V],I===65535){f.push(0),be.push(0);break}if(I-(R=r[I].new)>=32768)for(f.push(0),be.push(2*(b.length+C-V)),s=fe=I;I<=g?fe<=g:fe>=g;s=I<=g?++fe:--fe)b.push(r[s].new);else f.push(R-I),be.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*C+2*b.length),oe.writeUInt16(0),oe.writeUInt16(G),oe.writeUInt16(O),oe.writeUInt16(E),oe.writeUInt16(H),ye=0,k=w.length;ye<k;ye++)s=w[ye],oe.writeUInt16(s);for(oe.writeUInt16(0),Pe=0,$=P.length;Pe<$;Pe++)s=P[Pe],oe.writeUInt16(s);for(Be=0,Z=f.length;Be<Z;Be++)c=f[Be],oe.writeUInt16(c);for(Je=0,le=be.length;Je<le;Je++)ee=be[Je],oe.writeUInt16(ee);for(at=0,ce=b.length;at<ce;at++)M=b[at],oe.writeUInt16(M);return{charMap:r,subtable:oe.data,maxGlyphID:Y+1}}},n})(),_6=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Al(n,Mo),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)t=new TE(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,s;return t==null&&(t="macroman"),r=TE.encode(e,t),(s=new mc).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},n})(),W9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Al(n,Mo),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),Y9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Al(n,Mo),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),Q9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Al(n,Mo),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(e.readUInt32());return f}).call(this)}},n})(),X9=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},J9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Al(n,Mo),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,s,o,u,c,f,d,g,w,E;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=g=0,w=r.length;g<w;o=++g)s=r[o],e.pos=s.offset,d=e.readString(s.length),u=new X9(d,s),f[E=s.nameID]==null&&(f[E]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),Z9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Al(n,Mo),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),eV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Al(n,Mo),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,s,o,u,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,g;for(g=[],t=d=0;0<=s?d<s:d>s;t=0<=s?++d:--d)g.push(e.readInt16());return g})(),this.widths=(function(){var d,g,w,E;for(E=[],d=0,g=(w=this.metrics).length;d<g;d++)o=w[d],E.push(o.advance);return E}).call(this),r=this.widths[this.widths.length-1],f=[],t=u=0;0<=s?u<s:u>s;t=0<=s?++u:--u)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),v6=[].slice,tV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Al(n,Mo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,s,o,u,c,f,d,g,w;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,u=(c=new mc(t.read(s))).readShort(),d=c.readShort(),w=c.readShort(),f=c.readShort(),g=c.readShort(),this.cache[e]=u===-1?new rV(c,d,w,f,g):new nV(c,u,d,w,f,g),this.cache[e]))},n.prototype.encode=function(e,t,r){var s,o,u,c,f;for(u=[],o=[],c=0,f=t.length;c<f;c++)s=e[t[c]],o.push(u.length),s&&(u=u.concat(s.encode(r)));return o.push(u.length),{table:u,offsets:o}},n})(),nV=(function(){function n(e,t,r,s,o,u){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),rV=(function(){function n(e,t,r,s,o){var u,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new mc(v6.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),iV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Al(n,Mo),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<r.length;++u)if(r[u]=s,o<t.length&&t[o]==u){++o,r[u]=s;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(s+=f)}for(var d=new Array(4*r.length),g=0;g<r.length;++g)d[4*g+3]=255&r[g],d[4*g+2]=(65280&r[g])>>8,d[4*g+1]=(16711680&r[g])>>16,d[4*g]=(4278190080&r[g])>>24;return d},n})(),sV=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=s[r];return e},n.prototype.glyphsFor=function(e){var t,r,s,o,u,c,f;for(s={},u=0,c=e.length;u<c;u++)s[o=e[u]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(r=s[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],s[o]=r;return s},n.prototype.encode=function(e,t){var r,s,o,u,c,f,d,g,w,E,b,V,M,B,U;for(s in r=_6.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),b={0:0},U=r.charMap)b[(f=U[s]).old]=f.new;for(V in E=r.maxGlyphID,u)V in b||(b[V]=E++);return g=(function(ne){var Y,ee;for(Y in ee={},ne)ee[ne[Y]]=Y;return ee})(b),w=Object.keys(g).sort(function(ne,Y){return ne-Y}),M=(function(){var ne,Y,ee;for(ee=[],ne=0,Y=w.length;ne<Y;ne++)c=w[ne],ee.push(g[c]);return ee})(),o=this.font.glyf.encode(u,M,b),d=this.font.loca.encode(o.offsets,M),B={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(B["OS/2"]=this.font.os2.raw()),this.font.directory.encode(B)},n})();Ct.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,s,o,u;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)r=t[c],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)u=t[s],o.push("/"+s+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+t},e})();function aV(n,e){const t=new Ct,r=t.internal.pageSize.getWidth(),s=20,o=r-s*2;let u=20;t.setFontSize(18),t.text("",r/2,u,{align:"center"}),u+=15,t.setFontSize(10),t.text(`${e.version} | ${e.updatedAt.split("T")[0]}`,r/2,u,{align:"center"}),u+=15,t.setFontSize(11);const f=t.splitTextToSize("",o);t.text(f,s,u),u+=f.length*6+2;const d=n.name||"__________",g=n.employmentType||"__________",w=n.contractStartDate||"__________",E=n.signedContractAt?new Date(n.signedContractAt).toLocaleDateString("zh-TW"):"__________";t.text(`${d}`,s,u),u+=10,t.text(` ${w}  ${g}`,s,u),u+=15,t.text("",s,u),u+=15;const b=e.content.replace(/<[^>]+>/g,"").split(`
`);for(const M of b)if(M.trim()){const B=t.splitTextToSize(M,o);for(const U of B)u>270&&(t.addPage(),u=20),t.text(U,s,u),u+=6;u+=2}u+=10,t.setFontSize(12),t.text("",s,u),u+=10,t.text(`${d}`,s,u),u+=10,t.text(`${E}`,s,u);const V=`_${d}_${E}.pdf`;t.save(V)}function oV(){const[n,e]=et.useState(null),[t,r]=et.useState([]),[s,o]=et.useState(!1),[u,c]=et.useState(""),[f,d]=et.useState(!0),g=et.useCallback(async()=>{d(!0);const[b,V]=await Promise.all([NT(),i0()]);e(b),r(V),d(!1)},[]);et.useEffect(()=>{g()},[g]);const w=async()=>{if(!n)return;const b={...n,content:u,version:n.version+1,updatedAt:new Date().toISOString()};await fO(b),e(b),o(!1),alert("v"+b.version)},E=t.filter(b=>b.role==="employee");return f?D.jsx("div",{className:"text-center py-12",children:D.jsx("p",{className:"text-gray-500",children:"..."})}):D.jsxs("div",{className:"space-y-6",children:[D.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[D.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[D.jsxs("div",{children:[D.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),D.jsxs("p",{className:"text-sm text-gray-500",children:[" ",n?.version," | ",n?.updatedAt?.split("T")[0]||"-"]})]}),s?D.jsxs("div",{className:"flex gap-2",children:[D.jsx("button",{onClick:()=>{c(n?.content||""),o(!1)},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:""}),D.jsx("button",{onClick:w,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:""})]}):D.jsx("button",{onClick:()=>{c(n?.content||""),o(!0)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:""})]}),D.jsx("div",{className:"p-6",children:s?D.jsx("textarea",{value:u,onChange:b=>c(b.target.value),className:"w-full h-64 px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary font-mono text-sm"}):D.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:n?.content||""}})})]}),D.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[D.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[D.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),D.jsx("p",{className:"text-sm text-gray-500",children:""})]}),D.jsx("div",{className:"p-6",children:D.jsx("div",{className:"overflow-x-auto",children:D.jsxs("table",{className:"w-full",children:[D.jsx("thead",{children:D.jsxs("tr",{className:"border-b border-gray-200",children:[D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:"PDF"})]})}),D.jsx("tbody",{children:E.map(b=>D.jsxs("tr",{className:"border-b border-gray-100",children:[D.jsx("td",{className:"py-3 px-4",children:D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("img",{src:b.avatar,alt:b.name,className:"w-8 h-8 rounded-full bg-gray-200"}),D.jsx("span",{className:"font-medium text-gray-900",children:b.name})]})}),D.jsx("td",{className:"py-3 px-4 text-gray-600",children:b.department}),D.jsx("td",{className:"py-3 px-4",children:b.signedContractAt?D.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[D.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),""]}):D.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:[D.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),""]})}),D.jsx("td",{className:"py-3 px-4 text-gray-600 text-sm",children:b.signedContractAt?new Date(b.signedContractAt).toLocaleString("zh-TW"):"-"}),D.jsx("td",{className:"py-3 px-4",children:b.signedContractAt&&n?D.jsxs("button",{onClick:()=>aV(b,n),className:"inline-flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-white bg-red-500 rounded-lg hover:bg-red-600",children:[D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),""]}):"-"})]},b.id))})]})})})]})]})}const lV=["/","","","/"];function uV(){const[n,e]=et.useState(null),{user:t,updateUser:r}=ym(),[s,o]=et.useState(!1),[u,c]=et.useState(!1),[f,d]=et.useState(!0),[g,w]=et.useState(""),[E,b]=et.useState(""),[V,M]=et.useState(!0),B=et.useCallback(async()=>{M(!0);const Y=await NT();e(Y),o(!!t?.signedContractAt),w(t?.employmentType||""),b(t?.contractStartDate||""),M(!1)},[t]);et.useEffect(()=>{B()},[B]);const U=async()=>{if(!t||!g||!E)return;const Y=new Date().toISOString(),ee={...t,signedContractAt:Y,employmentType:g,contractStartDate:E};await r(ee),o(!0)},ne=()=>{if(!n)return"";let Y=n.content;if(t?.name&&(Y=Y.replace(" : ",` : <span class="highlight">${t.name}</span>`)),t?.name&&(Y=Y.replace("<strong></strong>____________",`<strong></strong><span class="highlight">${t.name}</span>`)),g&&(Y=Y.replace(" ____________",` <span class="highlight">${g}</span>`)),E&&(Y=Y.replace("   ",` <span class="highlight">${E}</span> `)),s||u){const ee=new Date().toLocaleDateString("zh-TW"),ge="   ",be=Y.indexOf(ge);be!==-1&&(Y=Y.slice(0,be)+`<span class="highlight">${ee}</span>`+Y.slice(be+ge.length))}return Y};return V||!n?null:D.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[D.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-yellow-50",children:D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),D.jsx("span",{className:"font-medium text-yellow-800",children:""})]})}),!s&&D.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-blue-50 space-y-4",children:[D.jsxs("div",{children:[D.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[D.jsx("span",{className:"text-red-500",children:"*"})," "]}),D.jsx("input",{type:"date",value:E,onChange:Y=>b(Y.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[D.jsx("span",{className:"text-red-500",children:"*"})," "]}),D.jsx("div",{className:"grid grid-cols-2 gap-2",children:lV.map(Y=>D.jsxs("label",{className:`flex items-center gap-2 p-3 rounded-lg border cursor-pointer transition-colors ${g===Y?"border-primary bg-primary/10 text-primary":"border-gray-200 hover:border-gray-300"}`,children:[D.jsx("input",{type:"radio",name:"employmentType",value:Y,checked:g===Y,onChange:ee=>w(ee.target.value),className:"w-4 h-4 text-primary"}),D.jsx("span",{className:"text-sm",children:Y})]},Y))})]})]}),f&&D.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:D.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:ne()}})}),s&&D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"mx-6 mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:D.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[D.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),D.jsxs("span",{className:"font-medium",children:[" ",new Date(t?.signedContractAt||"").toLocaleString("zh-TW")," ",t?.employmentType&&`${t.employmentType}`]})]})}),D.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:D.jsx("button",{onClick:()=>d(!f),className:"text-sm text-primary hover:underline",children:f?"":""})})]}),!s&&D.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:[D.jsxs("label",{className:"flex items-center gap-3 mb-4",children:[D.jsx("input",{type:"checkbox",checked:u,onChange:Y=>c(Y.target.checked),className:"w-4 h-4 text-primary"}),D.jsx("span",{className:"text-sm text-gray-600",children:""})]}),D.jsx("button",{onClick:U,disabled:!u||!g||!E,className:"w-full py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]})}const cV={pending:"bg-yellow-100 text-yellow-700",processing:"bg-blue-100 text-blue-700",completed:"bg-green-100 text-green-700"},hV={pending:"",processing:"",completed:""};function fV({userId:n,userName:e,isAdmin:t}){const[r,s]=et.useState([]),[o,u]=et.useState([]),[c,f]=et.useState(!1),[d,g]=et.useState("all"),[w,E]=et.useState(!0),b=et.useCallback(async()=>{E(!0);const[Y,ee]=await Promise.all([uO(n,t),i0()]);s(Y),u(ee),E(!1)},[n,t]);et.useEffect(()=>{b()},[b]);const V=async Y=>{await cO(Y),await b(),f(!1)},M=async(Y,ee)=>{await hO(Y,ee),await b()},B=Y=>Y.map(ee=>o.find(ge=>ge.id===ee)?.name||"").join(""),ne=[...d==="my"?r.filter(Y=>Y.assignedTo.includes(n)):r].sort((Y,ee)=>new Date(ee.createdAt).getTime()-new Date(Y.createdAt).getTime());return w?D.jsx("div",{className:"text-center py-12",children:D.jsx("p",{className:"text-gray-500",children:"..."})}):D.jsxs("div",{children:[D.jsxs("div",{className:"flex items-center justify-between mb-6",children:[D.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:""}),D.jsxs("div",{className:"flex gap-3",children:[D.jsxs("select",{value:d,onChange:Y=>g(Y.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"all",children:""}),D.jsx("option",{value:"my",children:""})]}),t&&D.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:[D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),""]})]})]}),ne.length===0?D.jsx("div",{className:"text-center py-12 text-gray-500",children:D.jsx("p",{children:""})}):D.jsx("div",{className:"space-y-4",children:ne.map(Y=>D.jsx(dV,{task:Y,isAdmin:t,currentUserId:n,currentUserName:e,onUpdate:M,getUserName:B},Y.id))}),c&&D.jsx(pV,{users:o.filter(Y=>Y.role==="employee"),onClose:()=>f(!1),onSubmit:V})]})}function dV({task:n,isAdmin:e,currentUserId:t,currentUserName:r,onUpdate:s,getUserName:o}){const[u,c]=et.useState(!1),[f,d]=et.useState(n.response),[g,w]=et.useState(n.completionDate),E=e||n.assignedTo.includes(t),b=async()=>{await s(n.id,{response:f,responseBy:r,completionDate:g,status:f?"processing":n.status}),c(!1)};return D.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[D.jsxs("div",{className:"flex items-start justify-between mb-3",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${cV[n.status]}`,children:hV[n.status]}),D.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${n.source==="client"?"bg-purple-100 text-purple-700":n.source==="vendor"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"}`,children:n.source==="client"?"":n.source==="vendor"?"":n.source})]}),D.jsx("span",{className:"text-sm text-gray-400",children:new Date(n.createdAt).toLocaleDateString("zh-TW")})]}),D.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:n.title}),D.jsx("p",{className:"text-gray-600 text-sm mb-3",children:n.description}),(n.attachment||n.attachmentFile)&&D.jsxs("div",{className:"flex flex-col gap-2 text-sm text-gray-500 mb-3",children:[n.attachmentFile&&D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),D.jsx("a",{href:n.attachmentFile.url||n.attachmentFile.data,download:n.attachmentFile.name,className:"text-blue-600 hover:underline",children:n.attachmentFile.name}),D.jsxs("span",{className:"text-xs text-gray-400",children:["(",(n.attachmentFile.size/1024).toFixed(1)," KB)"]})]}),n.attachment&&D.jsxs("div",{className:"text-gray-500",children:["",n.attachment]})]}),D.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[D.jsxs("span",{children:["",D.jsx("span",{className:"font-medium text-gray-700",children:o(n.assignedTo)})]}),n.completionDate&&D.jsxs("span",{children:["",D.jsx("span",{className:"font-medium text-gray-700",children:n.completionDate})]})]}),n.response&&D.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg mb-3",children:[D.jsxs("p",{className:"text-xs text-gray-400 mb-1",children:[" - ",n.responseBy]}),D.jsx("p",{className:"text-gray-700 text-sm",children:n.response})]}),E&&D.jsx("div",{className:"border-t border-gray-100 pt-3 mt-3",children:u?D.jsxs("div",{className:"space-y-3",children:[D.jsx("textarea",{value:f,onChange:V=>d(V.target.value),placeholder:"...",rows:2,className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-primary"}),D.jsxs("div",{className:"flex gap-3",children:[D.jsx("input",{type:"date",value:g,onChange:V=>w(V.target.value),className:"px-3 py-1.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-primary"}),D.jsxs("select",{value:n.status,onChange:V=>s(n.id,{status:V.target.value}),className:"px-3 py-1.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"pending",children:""}),D.jsx("option",{value:"processing",children:""}),D.jsx("option",{value:"completed",children:""})]}),D.jsx("button",{onClick:b,className:"px-3 py-1.5 bg-primary text-white rounded-lg text-sm hover:bg-primary-dark",children:""})]})]}):D.jsx("button",{onClick:()=>c(!0),className:"text-sm text-primary hover:underline",children:""})})]})}function pV({users:n,onClose:e,onSubmit:t}){const[r,s]=et.useState(""),[o,u]=et.useState(""),[c,f]=et.useState("client"),[d,g]=et.useState(""),[w,E]=et.useState(!1),[b,V]=et.useState(""),[M,B]=et.useState(null),[U,ne]=et.useState([]),[Y,ee]=et.useState(!1),ge=async C=>{if(C.preventDefault(),!r||!o||U.length===0)return;ee(!0),await t({title:r,description:o,source:w?d:c,attachment:b,attachmentFile:M||void 0,assignedTo:U,response:"",completionDate:"",status:"pending"}),ee(!1)},be=C=>{const G=C.target.files?.[0];if(!G)return;const I=2*1024*1024;if(G.size>I){alert(" 2MB");return}const P=new FileReader;P.onload=()=>{B({name:G.name,size:G.size,type:G.type,data:P.result})},P.readAsDataURL(G)},H=()=>{B(null)},O=C=>{ne(G=>G.includes(C)?G.filter(I=>I!==C):[...G,C])};return D.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[D.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:e}),D.jsxs("div",{className:"relative bg-white rounded-xl w-full max-w-lg",children:[D.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[D.jsx("h2",{className:"text-lg font-semibold",children:""}),D.jsx("button",{onClick:e,className:"p-1 text-gray-400 hover:text-gray-600",children:D.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),D.jsxs("form",{onSubmit:ge,className:"p-6 space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:r,onChange:C=>s(C.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("textarea",{value:o,onChange:C=>u(C.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),w?D.jsx("input",{type:"text",value:d,onChange:C=>g(C.target.value),placeholder:"",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"}):D.jsxs("select",{value:c,onChange:C=>f(C.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"client",children:""}),D.jsx("option",{value:"vendor",children:""})]}),D.jsx("button",{type:"button",onClick:()=>E(!w),className:"text-xs text-primary mt-1 hover:underline",children:w?"":""})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"file",onChange:be,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary text-sm"}),M&&D.jsxs("div",{className:"mt-2 flex items-center justify-between bg-gray-50 px-3 py-2 rounded-lg",children:[D.jsx("span",{className:"text-sm text-gray-600 truncate",children:M.name}),D.jsx("button",{type:"button",onClick:H,className:"text-red-500 text-sm hover:underline",children:""})]})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:b,onChange:C=>V(C.target.value),placeholder:"Email",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("div",{className:"grid grid-cols-2 gap-2 border border-gray-200 rounded-lg p-3 max-h-40 overflow-y-auto",children:n.map(C=>D.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[D.jsx("input",{type:"checkbox",checked:U.includes(C.id),onChange:()=>O(C.id),className:"w-4 h-4 text-primary rounded"}),D.jsxs("span",{className:"text-sm",children:[C.name," (",C.department,")"]})]},C.id))})]}),D.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[D.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg",children:""}),D.jsx("button",{type:"submit",disabled:Y,className:"px-4 py-2 bg-primary text-white rounded-lg disabled:opacity-50",children:Y?"...":""})]})]})]})]})}const mV=["","","","","","",""],gV=["/","","","/"];function yV(){const[n,e]=et.useState([]),[t,r]=et.useState(!0),[s,o]=et.useState(!1),[u,c]=et.useState(null),[f,d]=et.useState({username:"",password:"",name:"",department:"",employmentType:""}),g=et.useCallback(async()=>{r(!0);const b=await i0();e(b.filter(V=>V.role==="employee")),r(!1)},[]);et.useEffect(()=>{g()},[g]);const w=async()=>{if(!f.username||!f.password||!f.name){alert("");return}if(u){const b={...u,username:f.username,password:f.password,name:f.name,department:f.department,employmentType:f.employmentType};await f4(b)}else{const b={id:Date.now().toString(),username:f.username,password:f.password,name:f.name,role:"employee",avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${f.username}`,department:f.department,employmentType:f.employmentType};await f4(b)}await g(),o(!1),c(null),d({username:"",password:"",name:"",department:"",employmentType:""}),alert(u?"":"")},E=b=>{c(b),d({username:b.username,password:b.password,name:b.name,department:b.department,employmentType:b.employmentType||""}),o(!0)};return t?D.jsx("div",{className:"text-center py-12",children:D.jsx("p",{className:"text-gray-500",children:"..."})}):D.jsxs("div",{className:"space-y-6",children:[D.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[D.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[D.jsxs("div",{children:[D.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),D.jsx("p",{className:"text-sm text-gray-500",children:" Firebase Console /"})]}),D.jsx("button",{onClick:()=>{c(null),d({username:"",password:"",name:"",department:"",employmentType:""}),o(!0)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:"+ "})]}),D.jsx("div",{className:"p-6",children:D.jsxs("table",{className:"w-full",children:[D.jsx("thead",{children:D.jsxs("tr",{className:"border-b border-gray-200",children:[D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""}),D.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500",children:""})]})}),D.jsx("tbody",{children:n.map(b=>D.jsxs("tr",{className:"border-b border-gray-100",children:[D.jsx("td",{className:"py-3 px-4",children:D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("img",{src:b.avatar,alt:b.name,className:"w-8 h-8 rounded-full bg-gray-200"}),D.jsx("span",{className:"font-medium text-gray-900",children:b.name})]})}),D.jsx("td",{className:"py-3 px-4 text-gray-600",children:b.username}),D.jsx("td",{className:"py-3 px-4 text-gray-600",children:b.department}),D.jsx("td",{className:"py-3 px-4 text-gray-600",children:b.employmentType||"-"}),D.jsx("td",{className:"py-3 px-4",children:b.signedContractAt?D.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:""}):D.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:""})}),D.jsx("td",{className:"py-3 px-4",children:D.jsx("div",{className:"flex gap-2",children:D.jsx("button",{onClick:()=>E(b),className:"px-3 py-1 text-xs text-blue-600 hover:bg-blue-50 rounded",children:""})})})]},b.id))})]})})]}),s&&D.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:D.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[D.jsx("h3",{className:"text-lg font-semibold mb-4",children:u?"":""}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{children:[D.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",D.jsx("span",{className:"text-red-500",children:"*"})]}),D.jsx("input",{type:"text",value:f.name,onChange:b=>d({...f,name:b.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",D.jsx("span",{className:"text-red-500",children:"*"})]}),D.jsx("input",{type:"text",value:f.username,onChange:b=>d({...f,username:b.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",D.jsx("span",{className:"text-red-500",children:"*"})]}),D.jsx("input",{type:"text",value:f.password,onChange:b=>d({...f,password:b.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("select",{value:f.department,onChange:b=>d({...f,department:b.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:mV.map(b=>D.jsx("option",{value:b,children:b},b))})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("select",{value:f.employmentType,onChange:b=>d({...f,employmentType:b.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:gV.map(b=>D.jsx("option",{value:b,children:b},b))})]})]}),D.jsxs("div",{className:"flex gap-3 mt-6",children:[D.jsx("button",{onClick:()=>{o(!1),c(null)},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:""}),D.jsx("button",{onClick:w,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:u?"":""})]})]})})]})}function _V(){const{user:n,updateUser:e}=ym(),[t,r]=et.useState(n?.name||""),[s,o]=et.useState(""),[u,c]=et.useState(""),[f,d]=et.useState("");if(!n)return null;const g=w=>{if(w.preventDefault(),d(""),!t.trim()){d("");return}if(s&&s.length<6){d("6");return}if(s!==u){d("");return}const E={...n,name:t.trim(),...s?{password:s}:{}};e(E),o(""),c(""),d("")};return D.jsx("div",{className:"max-w-md mx-auto",children:D.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[D.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:""}),D.jsxs("form",{onSubmit:g,className:"space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:n.username,disabled:!0,className:"w-full px-4 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-500"}),D.jsx("p",{className:"text-xs text-gray-400 mt-1",children:""})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:t,onChange:w=>r(w.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"password",value:s,onChange:w=>o(w.target.value),placeholder:"",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"password",value:u,onChange:w=>c(w.target.value),placeholder:"",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary"})]}),f&&D.jsx("p",{className:`text-sm ${f===""?"text-green-600":"text-red-600"}`,children:f}),D.jsx("button",{type:"submit",className:"w-full py-2 bg-primary text-white rounded-lg hover:bg-primary-dark",children:""})]})]})})}function vV(){const{user:n,logout:e}=ym(),[t,r]=et.useState("worklog");if(!n)return null;const s=n.role==="admin";return D.jsxs("div",{className:"min-h-screen bg-gray-50",children:[D.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:D.jsxs("div",{className:"flex items-center justify-between px-6 py-3",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:D.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),D.jsx("span",{className:"font-semibold text-gray-900",children:""})]}),D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("img",{src:n.avatar,alt:n.name,className:"w-8 h-8 rounded-full bg-gray-200"}),D.jsxs("div",{className:"text-right",children:[D.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.name}),D.jsx("p",{className:"text-xs text-gray-500",children:s?"":""})]})]}),D.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",title:"",children:D.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})}),D.jsx("nav",{className:"bg-white border-b border-gray-200",children:D.jsxs("div",{className:"flex px-6 gap-1",children:[D.jsx(vf,{active:t==="worklog",onClick:()=>r("worklog"),icon:D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),children:""}),s?D.jsx(vf,{active:t==="contract",onClick:()=>r("contract"),icon:D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),children:""}):D.jsx(vf,{active:t==="contract",onClick:()=>r("contract"),icon:D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),children:""}),D.jsx(vf,{active:t==="tasks",onClick:()=>r("tasks"),icon:D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),children:""}),s&&D.jsx(vf,{active:t==="employees",onClick:()=>r("employees"),icon:D.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),children:""}),D.jsx(vf,{active:t==="settings",onClick:()=>r("settings"),icon:D.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),children:""})]})}),D.jsxs("main",{className:"max-w-5xl mx-auto px-6 py-8",children:[t==="worklog"&&D.jsx(mO,{userId:n.id,isAdmin:s}),t==="contract"&&(s?D.jsx(oV,{}):D.jsx(uV,{})),t==="tasks"&&D.jsx(fV,{userId:n.id,userName:n.name,isAdmin:s}),t==="employees"&&s&&D.jsx(yV,{}),t==="settings"&&D.jsx(_V,{})]})]})}function vf({active:n,onClick:e,children:t,icon:r}){return D.jsxs("button",{onClick:e,className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${n?"text-primary border-primary":"text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300"}`,children:[r,t]})}function bV(){const[n,e]=et.useState(""),[t,r]=et.useState(""),[s,o]=et.useState(""),[u,c]=et.useState(""),[f,d]=et.useState("employee"),[g,w]=et.useState(""),[E,b]=et.useState(""),[V,M]=et.useState(!1),B=async U=>{U.preventDefault(),w(""),b(""),M(!0);try{const ne=x3(ad),Y=X1(ad),ee=await pC(ne,`${n}@twkt.com`,t);await x5(_l(Y,"users",ee.user.uid),{id:ee.user.uid,username:n,name:s,role:f,department:u,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${n}`,employmentType:"",signedContractAt:null,contractStartDate:null,createdAt:new Date().toISOString()}),b(` ${s} (${f==="admin"?"":""}) `),e(""),r(""),o("")}catch(ne){console.error("Error:",ne),ne.code==="auth/email-already-in-use"?w(""):ne.code==="auth/weak-password"?w("6"):w(": "+ne.message)}M(!1)};return D.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:D.jsx("div",{className:"w-full max-w-md",children:D.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[D.jsxs("div",{className:"text-center mb-8",children:[D.jsx("div",{className:"w-16 h-16 bg-primary rounded-xl flex items-center justify-center mx-auto mb-4",children:D.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),D.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),D.jsx("p",{className:"text-gray-500 mt-1",children:""})]}),E&&D.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 text-green-600 rounded-lg text-sm",children:E}),g&&D.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm",children:g}),D.jsxs("form",{onSubmit:B,className:"space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:s,onChange:U=>o(U.target.value),placeholder:"",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"text",value:n,onChange:U=>e(U.target.value),placeholder:" @twkt.com",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsx("input",{type:"password",value:t,onChange:U=>r(U.target.value),placeholder:"6",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",required:!0,minLength:6})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsxs("select",{value:u,onChange:U=>c(U.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"",children:""}),D.jsx("option",{value:"",children:""}),D.jsx("option",{value:"",children:""}),D.jsx("option",{value:"",children:""}),D.jsx("option",{value:"",children:""})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),D.jsxs("select",{value:f,onChange:U=>d(U.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-primary",children:[D.jsx("option",{value:"employee",children:""}),D.jsx("option",{value:"admin",children:""})]})]}),D.jsx("button",{type:"submit",disabled:V,className:"w-full py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition-colors disabled:opacity-50",children:V?"...":""})]}),D.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:D.jsxs("p",{className:"text-xs text-gray-500",children:["",D.jsx("br",{}),""]})})]})})})}function wV(){const{user:n,loading:e}=ym(),[t,r]=et.useState(!1),[s,o]=et.useState(!0);return et.useEffect(()=>{(async()=>{try{const c=X1(ad);(await n0(_d(c,"users"))).empty&&r(!0)}catch(c){console.error("Error checking users:",c)}o(!1)})()},[]),s?D.jsx("div",{className:"min-h-screen flex items-center justify-center",children:D.jsx("div",{className:"text-gray-500",children:"..."})}):t?D.jsx(bV,{}):e?D.jsx("div",{className:"min-h-screen flex items-center justify-center",children:D.jsx("div",{className:"text-gray-500",children:"..."})}):n?D.jsx(vV,{}):D.jsx(sO,{})}function AV(){return D.jsx(iO,{children:D.jsx(wV,{})})}MI.createRoot(document.getElementById("root")).render(D.jsx(et.StrictMode,{children:D.jsx(AV,{})}));export{Zn as _};
